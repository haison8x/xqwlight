var cc = cc || {};
cc._tmp = cc._tmp || {};
cc._LogInfos = {};
var _p = window,
	_p = Object.prototype,
	_p = null;
cc._drawingUtil = null;
cc._renderContext = null;
cc._supportRender = !1;
cc._canvas = null;
cc.container = null;
cc._gameDiv = null;
window.ENABLE_IMAEG_POOL = !0;
cc.each = function(a, b, c) {
	if (a)
		if (a instanceof Array)
			for (var d = 0, e = a.length; d < e && !1 !== b.call(c, a[d], d); d++);
		else
			for (d in a)
				if (!1 === b.call(c, a[d], d)) break
};
cc.extend = function(a) {
	var b = 2 <= arguments.length ? Array.prototype.slice.call(arguments, 1) : [];
	cc.each(b, function(b) {
		for (var d in b) b.hasOwnProperty(d) && (a[d] = b[d])
	});
	return a
};
cc.inherits = function(a, b) {
	function c() {}
	c.prototype = b.prototype;
	a.superClass_ = b.prototype;
	a.prototype = new c;
	a.prototype.constructor = a
};
cc.isFunction = function(a) {
	return "function" === typeof a
};
cc.isNumber = function(a) {
	return "number" === typeof a || "[object Number]" === Object.prototype.toString.call(a)
};
cc.isString = function(a) {
	return "string" === typeof a || "[object String]" === Object.prototype.toString.call(a)
};
cc.isArray = function(a) {
	return Array.isArray(a) || "object" === typeof a && "[object Array]" === Object.prototype.toString.call(a)
};
cc.isUndefined = function(a) {
	return "undefined" === typeof a
};
cc.isObject = function(a) {
	return "object" === typeof a && "[object Object]" === Object.prototype.toString.call(a)
};
cc.isCrossOrigin = function(a) {
	if (!a) return cc.log("invalid URL"), !1;
	var b = a.indexOf("://");
	if (-1 === b) return !1;
	b = a.indexOf("/", b + 3);
	return (-1 === b ? a : a.substring(0, b)) !== location.origin
};
cc.AsyncPool = function(a, b, c, d, e) {
	var f = this;
	f._finished = !1;
	f._srcObj = a;
	f._limit = b;
	f._pool = [];
	f._iterator = c;
	f._iteratorTarget = e;
	f._onEnd = d;
	f._onEndTarget = e;
	f._results = a instanceof Array ? [] : {};
	f._errors = a instanceof Array ? [] : {};
	cc.each(a, function(a, b) {
		f._pool.push({
			index: b,
			value: a
		})
	});
	f.size = f._pool.length;
	f.finishedSize = 0;
	f._workingSize = 0;
	f._limit = f._limit || f.size;
	f.onIterator = function(a, b) {
		f._iterator = a;
		f._iteratorTarget = b
	};
	f.onEnd = function(a, b) {
		f._onEnd = a;
		f._onEndTarget = b
	};
	f._handleItem = function() {
		var a =
			this;
		if (!(0 === a._pool.length || a._workingSize >= a._limit)) {
			var b = a._pool.shift(),
				c = b.value,
				d = b.index;
			a._workingSize++;
			a._iterator.call(a._iteratorTarget, c, d, function(b, c) {
				if (!a._finished)
					if (b ? a._errors[this.index] = b : a._results[this.index] = c, a.finishedSize++, a._workingSize--, a.finishedSize === a.size) a.onEnd(0 === a._errors.length ? null : a._errors, a._results);
					else a._handleItem()
			}.bind(b), a)
		}
	};
	f.flow = function() {
		if (0 === this._pool.length) this._onEnd && this._onEnd.call(this._onEndTarget, null, []);
		else
			for (var a =
					0; a < this._limit; a++) this._handleItem()
	};
	f.onEnd = function(a, b) {
		f._finished = !0;
		if (f._onEnd) {
			var c = f._onEnd,
				d = f._onEndTarget;
			f._onEnd = null;
			f._onEndTarget = null;
			c.call(d, a, b)
		}
	}
};
cc.async = {
	series: function(a, b, c) {
		a = new cc.AsyncPool(a, 1, function(a, b, f) {
			a.call(c, f)
		}, b, c);
		a.flow();
		return a
	},
	parallel: function(a, b, c) {
		a = new cc.AsyncPool(a, 0, function(a, b, f) {
			a.call(c, f)
		}, b, c);
		a.flow();
		return a
	},
	waterfall: function(a, b, c) {
		var d = [],
			e = [null],
			f = new cc.AsyncPool(a, 1, function(b, f, k) {
				d.push(function(b) {
					d = Array.prototype.slice.call(arguments, 1);
					a.length - 1 === f && (e = e.concat(d));
					k.apply(null, arguments)
				});
				b.apply(c, d)
			}, function(a) {
				if (b) {
					if (a) return b.call(c, a);
					b.apply(c, e)
				}
			});
		f.flow();
		return f
	},
	map: function(a, b, c, d) {
		var e = b;
		"object" === typeof b && (c = b.cb, d = b.iteratorTarget, e = b.iterator);
		a = new cc.AsyncPool(a, 0, e, c, d);
		a.flow();
		return a
	},
	mapLimit: function(a, b, c, d, e) {
		a = new cc.AsyncPool(a, b, c, d, e);
		a.flow();
		return a
	}
};
cc.path = {
	normalizeRE: /[^\.\/]+\/\.\.\//,
	join: function() {
		for (var a = arguments.length, b = "", c = 0; c < a; c++) b = (b + ("" === b ? "" : "/") + arguments[c]).replace(/(\/|\\\\)$/, "");
		return b
	},
	extname: function(a) {
		return (a = /(\.[^\.\/\?\\]*)(\?.*)?$/.exec(a)) ? a[1] : null
	},
	mainFileName: function(a) {
		if (a) {
			var b = a.lastIndexOf(".");
			if (-1 !== b) return a.substring(0, b)
		}
		return a
	},
	basename: function(a, b) {
		var c = a.indexOf("?");
		0 < c && (a = a.substring(0, c));
		c = /(\/|\\\\)([^(\/|\\\\)]+)$/g.exec(a.replace(/(\/|\\\\)$/, ""));
		if (!c) return null;
		c = c[2];
		return b && a.substring(a.length - b.length).toLowerCase() === b.toLowerCase() ? c.substring(0, c.length - b.length) : c
	},
	dirname: function(a) {
		return a.replace(/((.*)(\/|\\|\\\\))?(.*?\..*$)?/, "$2")
	},
	changeExtname: function(a, b) {
		b = b || "";
		var c = a.indexOf("?"),
			d = "";
		0 < c && (d = a.substring(c), a = a.substring(0, c));
		c = a.lastIndexOf(".");
		return 0 > c ? a + b + d : a.substring(0, c) + b + d
	},
	changeBasename: function(a, b, c) {
		if (0 === b.indexOf(".")) return this.changeExtname(a, b);
		var d = a.indexOf("?"),
			e = "";
		c = c ? this.extname(a) : "";
		0 < d && (e = a.substring(d),
			a = a.substring(0, d));
		d = a.lastIndexOf("/");
		return a.substring(0, 0 >= d ? 0 : d + 1) + b + c + e
	},
	_normalize: function(a) {
		var b = a = String(a);
		do b = a, a = a.replace(this.normalizeRE, ""); while (b.length !== a.length);
		return a
	}
};
base64ArrayBuffer = function(a) {
	var b = "";
	a = new Uint8Array(a);
	for (var c = a.byteLength, d = c % 3, c = c - d, e, f, g, h, k = 0; k < c; k += 3) h = a[k] << 16 | a[k + 1] << 8 | a[k + 2], e = (h & 16515072) >> 18, f = (h & 258048) >> 12, g = (h & 4032) >> 6, h &= 63, b += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [e] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [f] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [g] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [h];
	1 == d ? (h = a[c], b += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(h &
		252) >> 2] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(h & 3) << 4] + "\x3d\x3d") : 2 == d && (h = a[c] << 8 | a[c + 1], b += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(h & 64512) >> 10] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(h & 1008) >> 4] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(h & 15) << 2] + "\x3d");
	return b
};
var imagePool = {
	_pool: Array(10),
	_MAX: 10,
	_smallImg: "data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA\x3d",
	count: 0,
	get: function() {
		if (0 < this.count) {
			this.count--;
			var a = this._pool[this.count];
			this._pool[this.count] = null;
			return a
		}
		return new Image
	},
	put: function(a) {
		var b = this._pool;
		a instanceof HTMLImageElement && this.count < this._MAX && (a.src = this._smallImg, b[this.count] = a, this.count++)
	}
};
cc.loader = function() {
	var a = {},
		b = {},
		c = {},
		d = {},
		e = {},
		f = /^(?:https?|ftp):\/\/\S*$/i;
	return {
		resPath: "",
		audioPath: "",
		cache: {},
		getXMLHttpRequest: function() {
			var a = window.XMLHttpRequest ? new window.XMLHttpRequest : new ActiveXObject("MSXML2.XMLHTTP");
			a.timeout = 1E4;
			void 0 === a.ontimeout && (a._timeoutId = -1);
			return a
		},
		_getArgs4Js: function(a) {
			var b = a[0],
				c = a[1],
				d = a[2],
				e = ["", null, null];
			if (1 === a.length) e[1] = b instanceof Array ? b : [b];
			else if (2 === a.length) "function" === typeof c ? (e[1] = b instanceof Array ? b : [b], e[2] = c) : (e[0] =
				b || "", e[1] = c instanceof Array ? c : [c]);
			else if (3 === a.length) e[0] = b || "", e[1] = c instanceof Array ? c : [c], e[2] = d;
			else throw Error("arguments error to load js!");
			return e
		},
		isLoading: function(a) {
			return void 0 !== e[a]
		},
		loadJs: function(b, c, d) {
			var e = this,
				f = e._getArgs4Js(arguments),
				p = f[0],
				r = f[1],
				f = f[2]; - 1 < navigator.userAgent.indexOf("Trident/5") ? e._loadJs4Dependency(p, r, 0, f) : cc.async.map(r, function(b, c, d) {
				b = cc.path.join(p, b);
				if (a[b]) return d(null);
				e._createScript(b, !1, d)
			}, f)
		},
		loadJsWithImg: function(a, b, c) {
			var d =
				this._loadJsImg(),
				e = this._getArgs4Js(arguments);
			this.loadJs(e[0], e[1], function(a) {
				if (a) throw Error(a);
				d.parentNode.removeChild(d);
				if (e[2]) e[2]()
			})
		},
		_createScript: function(b, c, d) {
			var e = document,
				f = document.createElement("script");
			f.async = c;
			a[b] = !0;
			cc.game.config.noCache && "string" === typeof b ? this._noCacheRex.test(b) ? f.src = b + "\x26v\x3d" + bk.fileVer : f.src = b + "?v\x3d" + bk.fileVer : f.src = b;
			f.addEventListener("load", function() {
					f.parentNode.removeChild(f);
					this.removeEventListener("load", arguments.callee, !1);
					d()
				},
				!1);
			f.addEventListener("error", function() {
				f.parentNode.removeChild(f);
				d("Load " + b + " failed!")
			}, !1);
			e.body.appendChild(f)
		},
		_loadJs4Dependency: function(a, b, c, d) {
			if (c >= b.length) d && d();
			else {
				var e = this;
				e._createScript(cc.path.join(a, b[c]), !1, function(f) {
					if (f) return d(f);
					e._loadJs4Dependency(a, b, c + 1, d)
				})
			}
		},
		_loadJsImg: function() {
			var a = document,
				b = a.getElementById("cocos2d_loadJsImg");
			if (!b) {
				b = document.createElement("img");
				cc._loadingImage && (b.src = cc._loadingImage);
				a = a.getElementById(cc.game.config.id);
				a.style.backgroundColor =
					"transparent";
				a.parentNode.appendChild(b);
				var c = getComputedStyle ? getComputedStyle(a) : a.currentStyle;
				c || (c = {
					width: a.width,
					height: a.height
				});
				b.style.left = a.offsetLeft + (parseFloat(c.width) - b.width) / 2 + "px";
				b.style.top = a.offsetTop + (parseFloat(c.height) - b.height) / 2 + "px";
				b.style.position = "absolute"
			}
			return b
		},
		loadTxt: function(a, b) {
			if (cc._isNodeJs) require("fs").readFile(a, function(a, c) {
				a ? b(a) : b(null, c.toString())
			});
			else {
				var c = this.getXMLHttpRequest(),
					d = "load " + a + " failed!";
				c.open("GET", a, !0);
				if (/msie/i.test(navigator.userAgent) &&
					!/opera/i.test(navigator.userAgent)) c.setRequestHeader("Accept-Charset", "utf-8"), c.onreadystatechange = function() {
					4 === c.readyState && (200 === c.status || 0 === c.status ? b(null, c.responseText) : b({
						status: c.status,
						errorMessage: d
					}, null))
				};
				else {
					c.overrideMimeType && c.overrideMimeType("text/plain; charset\x3dutf-8");
					var e = function() {
							c.removeEventListener("load", e);
							c.removeEventListener("error", f);
							0 <= c._timeoutId ? clearTimeout(c._timeoutId) : c.removeEventListener("timeout", r);
							4 === c.readyState && (200 === c.status || 0 ===
								c.status ? b(null, c.responseText) : b({
									status: c.status,
									errorMessage: d
								}, null))
						},
						f = function() {
							c.removeEventListener("load", e);
							c.removeEventListener("error", f);
							0 <= c._timeoutId ? clearTimeout(c._timeoutId) : c.removeEventListener("timeout", r);
							b({
								status: c.status,
								errorMessage: d
							}, null)
						},
						r = function() {
							c.removeEventListener("load", e);
							c.removeEventListener("error", f);
							0 <= c._timeoutId ? clearTimeout(c._timeoutId) : c.removeEventListener("timeout", r);
							b({
								status: c.status,
								errorMessage: "Request timeout: " + d
							}, null)
						};
					c.addEventListener("load",
						e);
					c.addEventListener("error", f);
					void 0 === c.ontimeout ? c._timeoutId = setTimeout(function() {
						r()
					}, c.timeout) : c.addEventListener("timeout", r)
				}
				c.send(null)
			}
		},
		loadCsb: function(a, b) {
			var c = cc.loader.getXMLHttpRequest(),
				d = "load " + a + " failed!";
			c.open("GET", a, !0);
			c.responseType = "arraybuffer";
			var e = function() {
					c.removeEventListener("load", e);
					c.removeEventListener("error", f);
					0 <= c._timeoutId ? clearTimeout(c._timeoutId) : c.removeEventListener("timeout", r);
					var a = c.response;
					a && (window.msg = a);
					4 === c.readyState && (200 ===
						c.status || 0 === c.status ? b(null, c.response) : b({
							status: c.status,
							errorMessage: d
						}, null))
				},
				f = function() {
					c.removeEventListener("load", e);
					c.removeEventListener("error", f);
					0 <= c._timeoutId ? clearTimeout(c._timeoutId) : c.removeEventListener("timeout", r);
					b({
						status: c.status,
						errorMessage: d
					}, null)
				},
				r = function() {
					c.removeEventListener("load", e);
					c.removeEventListener("error", f);
					0 <= c._timeoutId ? clearTimeout(c._timeoutId) : c.removeEventListener("timeout", r);
					b({
						status: c.status,
						errorMessage: "Request timeout: " + d
					}, null)
				};
			c.addEventListener("load", e);
			c.addEventListener("error", f);
			void 0 === c.ontimeout ? c._timeoutId = setTimeout(function() {
				r()
			}, c.timeout) : c.addEventListener("timeout", r);
			c.send(null)
		},
		loadJson: function(a, b) {
			this.loadTxt(a, function(c, d) {
				if (c) b(c);
				else {
					try {
						var e = JSON.parse(d)
					} catch (f) {
						throw Error("parse json [" + a + "] failed : " + f);
					}
					b(null, e)
				}
			})
		},
		_checkIsImageURL: function(a) {
			return null != /(\.png)|(\.jpg)|(\.bmp)|(\.jpeg)|(\.gif)/.exec(a)
		},
		loadImg: function(a, b, c, d) {
			var f = {
				isCrossOrigin: !0
			};
			void 0 !== c ? f.isCrossOrigin =
				void 0 === b.isCrossOrigin ? f.isCrossOrigin : b.isCrossOrigin : void 0 !== b && (c = b);
			if (b = this.getRes(a)) return c && c(null, b), null;
			if (b = e[a]) return b.callbacks.push(c), b.img;
			d = d || imagePool.get();
			d.crossOrigin = f.isCrossOrigin && "file://" !== location.origin ? "Anonymous" : null;
			var p = function() {
					this.removeEventListener("load", p, !1);
					this.removeEventListener("error", t, !1);
					var b = e[a];
					if (b) {
						for (var c = b.callbacks, f = 0; f < c.length; ++f) {
							var h = c[f];
							h && h(null, d)
						}
						b.img = null;
						delete e[a]
					}
					window.ENABLE_IMAEG_POOL && cc._renderType ===
						cc.game.RENDER_TYPE_WEBGL && imagePool.put(d)
				},
				r = this,
				t = function() {
					this.removeEventListener("load", p, !1);
					this.removeEventListener("error", t, !1);
					if ("https:" !== window.location.protocol && d.crossOrigin && "anonymous" === d.crossOrigin.toLowerCase()) f.isCrossOrigin = !1, r.release(a), cc.loader.loadImg(a, f, c, d);
					else {
						var b = e[a];
						if (b) {
							for (var h = b.callbacks, w = 0; w < h.length; ++w) {
								var v = h[w];
								v && v("load image failed " + a)
							}
							b.img = null;
							delete e[a]
						}
						cc._renderType === cc.game.RENDER_TYPE_WEBGL && imagePool.put(d)
					}
				};
			e[a] = {
				img: d,
				callbacks: c ? [c] : []
			};
			d.addEventListener("load", p);
			d.addEventListener("error", t);
			d.src = a;
			return d
		},
		_loadResIterator: function(a, c, d) {
			var e = this,
				n = null,
				p = a.type;
			p ? (p = "." + p.toLowerCase(), n = a.src ? a.src : a.name + p) : (n = a, p = cc.path.extname(n));
			if (c = e.getRes(n)) return d(null, c);
			c = null;
			p && (c = b[p.toLowerCase()]);
			if (!c) return cc.error("loader for [" + p + "] not exists!"), d();
			p = n;
			f.test(n) || (p = c.getBasePath ? c.getBasePath() : e.resPath, p = e.getUrl(p, n));
			cc.game.config.noCache && "string" === typeof p && (p = e._noCacheRex.test(p) ? p + ("\x26v\x3d" +
				bk.fileVer) : p + ("?v\x3d" + bk.fileVer));
			c.load(p, n, a, function(a, b) {
				a ? (cc.log(a), e.cache[n] = null, delete e.cache[n], d({
					status: 520,
					errorMessage: a
				}, null)) : (e.cache[n] = b, d(null, b))
			})
		},
		_noCacheRex: /\?/,
		getUrl: function(a, d) {
			var e = cc.path;
			if (void 0 !== a && void 0 === d) {
				d = a;
				var f = e.extname(d),
					f = f ? f.toLowerCase() : "";
				a = (f = b[f]) ? f.getBasePath ? f.getBasePath() : this.resPath : this.resPath
			}
			d = cc.path.join(a || "", d);
			if (d.match(/[\/(\\\\)]lang[\/(\\\\)]/i)) {
				if (c[d]) return c[d];
				e = e.extname(d) || "";
				d = c[d] = d.substring(0, d.length -
					e.length) + "_" + cc.sys.language + e
			}
			return d
		},
		load: function(a, b, c) {
			var d = this,
				e = arguments.length;
			if (0 === e) throw Error("arguments error!");
			3 === e ? "function" === typeof b && (b = "function" === typeof c ? {
				trigger: b,
				cb: c
			} : {
				cb: b,
				cbTarget: c
			}) : 2 === e ? "function" === typeof b && (b = {
				cb: b
			}) : 1 === e && (b = {});
			a instanceof Array || (a = [a]);
			e = new cc.AsyncPool(a, cc.CONCURRENCY_HTTP_REQUEST_COUNT, function(a, c, e, f) {
				d._loadResIterator(a, c, function(a) {
					var c = Array.prototype.slice.call(arguments, 1);
					b.trigger && b.trigger.call(b.triggerTarget,
						c[0], f.size, f.finishedSize);
					e(a, c[0])
				})
			}, b.cb, b.cbTarget);
			e.flow();
			return e
		},
		_handleAliases: function(a, b) {
			var c = [],
				e;
			for (e in a) {
				var f = a[e];
				d[e] = f;
				c.push(f)
			}
			this.load(c, b)
		},
		loadAliases: function(a, b) {
			var c = this,
				d = c.getRes(a);
			d ? c._handleAliases(d.filenames, b) : c.load(a, function(a, d) {
				c._handleAliases(d[0].filenames, b)
			})
		},
		register: function(a, c) {
			if (a && c) {
				if ("string" === typeof a) return b[a.trim().toLowerCase()] = c;
				for (var d = 0, e = a.length; d < e; d++) b["." + a[d].trim().toLowerCase()] = c
			}
		},
		getRes: function(a) {
			return this.cache[a] ||
				this.cache[d[a]]
		},
		_getAliase: function(a) {
			return d[a]
		},
		release: function(a) {
			var b = this.cache,
				c = e[a];
			c && (c.img = null, delete e[a]);
			delete b[a];
			delete b[d[a]];
			delete d[a]
		},
		releaseAll: function() {
			var a = this.cache,
				b;
			for (b in a) delete a[b];
			for (b in d) delete d[b]
		}
	}
}();
cc.formatStr = function() {
	var a = arguments,
		b = a.length;
	if (1 > b) return "";
	var c = a[0],
		d = !0;
	"object" === typeof c && (d = !1);
	for (var e = 1; e < b; ++e) {
		var f = a[e];
		if (d)
			for (;;) {
				var g = null;
				if ("number" === typeof f && (g = c.match(/(%d)|(%s)/))) {
					c = c.replace(/(%d)|(%s)/, f);
					break
				}
				c = (g = c.match(/%s/)) ? c.replace(/%s/, f) : c + ("    " + f);
				break
			} else c += "    " + f
	}
	return c
};
(function() {
	function a(a) {
		var b = cc.game.CONFIG_KEY,
			c = parseInt(a[b.renderMode]) || 0;
		if (isNaN(c) || 2 < c || 0 > c) a[b.renderMode] = 0;
		cc._renderType = cc.game.RENDER_TYPE_CANVAS;
		cc._supportRender = !1;
		0 === c ? cc.sys.capabilities.opengl ? (cc._renderType = cc.game.RENDER_TYPE_WEBGL, cc._supportRender = !0) : cc.sys.capabilities.canvas && (cc._renderType = cc.game.RENDER_TYPE_CANVAS, cc._supportRender = !0) : 1 === c && cc.sys.capabilities.canvas ? (cc._renderType = cc.game.RENDER_TYPE_CANVAS, cc._supportRender = !0) : 2 === c && cc.sys.capabilities.opengl &&
			(cc._renderType = cc.game.RENDER_TYPE_WEBGL, cc._supportRender = !0)
	}

	function b(a, c, d) {
		if (h[c]) return null;
		d = d || "";
		var e = [],
			f = a[c];
		if (!f) throw Error("can not find module [" + c + "]");
		c = cc.path;
		for (var g = 0, k = f.length; g < k; g++) {
			var m = f[g];
			if (!h[m]) {
				var x = c.extname(m);
				x ? ".js" === x.toLowerCase() && e.push(c.join(d, m)) : (x = b(a, m, d)) && (e = e.concat(x));
				h[m] = 1
			}
		}
		return e
	}

	function c(a) {
		cc._initDebugSetting && cc._initDebugSetting(a[cc.game.CONFIG_KEY.debugMode]);
		cc._engineLoaded = !0;
		m && m()
	}

	function d(a) {
		var d = a[cc.game.CONFIG_KEY.engineDir],
			e = cc.loader;
		if (cc.Class) c(a);
		else {
			var f = cc.path.join(d, "moduleConfig.json");
			e.loadJson(f, function(e, f) {
				if (e) throw Error(e);
				var g = a.modules || [],
					h = f.module,
					k = [];
				cc.sys.capabilities.opengl && 0 > g.indexOf("base4webgl") ? g.splice(0, 0, "base4webgl") : 0 > g.indexOf("core") && g.splice(0, 0, "core");
				for (var m = 0, t = g.length; m < t; m++) {
					var r = b(h, g[m], d);
					r && (k = k.concat(r))
				}
				cc.loader.loadJsWithImg(k, function(b) {
					if (b) throw b;
					c(a)
				})
			})
		}
	}

	function e() {
		this.removeEventListener("load", e, !1);
		d(cc.game.config)
	}
	var f = document.createElement("canvas"),
		g = document.createElement("canvas");
	cc.create3DContext = function(a, b) {
		for (var c = ["webgl", "experimental-webgl", "webkit-3d", "moz-webgl"], d = null, e = 0; e < c.length; ++e) {
			try {
				d = a.getContext(c[e], b)
			} catch (f) {}
			if (d) break
		}
		return d
	};
	(function() {
		cc.sys = {};
		var a = cc.sys;
		a.LANGUAGE_ENGLISH = "en";
		a.LANGUAGE_CHINESE = "zh";
		a.LANGUAGE_FRENCH = "fr";
		a.LANGUAGE_ITALIAN = "it";
		a.LANGUAGE_GERMAN = "de";
		a.LANGUAGE_SPANISH = "es";
		a.LANGUAGE_DUTCH = "du";
		a.LANGUAGE_RUSSIAN = "ru";
		a.LANGUAGE_KOREAN = "ko";
		a.LANGUAGE_JAPANESE = "ja";
		a.LANGUAGE_HUNGARIAN =
			"hu";
		a.LANGUAGE_PORTUGUESE = "pt";
		a.LANGUAGE_ARABIC = "ar";
		a.LANGUAGE_NORWEGIAN = "no";
		a.LANGUAGE_POLISH = "pl";
		a.LANGUAGE_UNKNOWN = "unkonwn";
		a.OS_IOS = "iOS";
		a.OS_ANDROID = "Android";
		a.OS_WINDOWS = "Windows";
		a.OS_MARMALADE = "Marmalade";
		a.OS_LINUX = "Linux";
		a.OS_BADA = "Bada";
		a.OS_BLACKBERRY = "Blackberry";
		a.OS_OSX = "OS X";
		a.OS_WP8 = "WP8";
		a.OS_WINRT = "WINRT";
		a.OS_UNKNOWN = "Unknown";
		a.UNKNOWN = -1;
		a.WIN32 = 0;
		a.LINUX = 1;
		a.MACOS = 2;
		a.ANDROID = 3;
		a.IPHONE = 4;
		a.IPAD = 5;
		a.BLACKBERRY = 6;
		a.NACL = 7;
		a.EMSCRIPTEN = 8;
		a.TIZEN = 9;
		a.WINRT = 10;
		a.WP8 = 11;
		a.MOBILE_BROWSER = 100;
		a.DESKTOP_BROWSER = 101;
		a.BROWSER_TYPE_WECHAT = "wechat";
		a.BROWSER_TYPE_ANDROID = "androidbrowser";
		a.BROWSER_TYPE_IE = "ie";
		a.BROWSER_TYPE_QQ_APP = "qq";
		a.BROWSER_TYPE_QQ = "qqbrowser";
		a.BROWSER_TYPE_MOBILE_QQ = "mqqbrowser";
		a.BROWSER_TYPE_UC = "ucbrowser";
		a.BROWSER_TYPE_360 = "360browser";
		a.BROWSER_TYPE_BAIDU_APP = "baiduboxapp";
		a.BROWSER_TYPE_BAIDU = "baidubrowser";
		a.BROWSER_TYPE_MAXTHON = "maxthon";
		a.BROWSER_TYPE_OPERA = "opera";
		a.BROWSER_TYPE_OUPENG = "oupeng";
		a.BROWSER_TYPE_MIUI = "miuibrowser";
		a.BROWSER_TYPE_FIREFOX =
			"firefox";
		a.BROWSER_TYPE_SAFARI = "safari";
		a.BROWSER_TYPE_CHROME = "chrome";
		a.BROWSER_TYPE_LIEBAO = "liebao";
		a.BROWSER_TYPE_QZONE = "qzone";
		a.BROWSER_TYPE_SOUGOU = "sogou";
		a.BROWSER_TYPE_UNKNOWN = "unknown";
		a.isNative = !1;
		var b = window,
			c = b.navigator,
			d = document,
			e = d.documentElement,
			h = c.userAgent.toLowerCase();
		a.isMobile = /mobile|android|iphone|ipad/.test(h);
		a.platform = a.isMobile ? a.MOBILE_BROWSER : a.DESKTOP_BROWSER;
		var k = c.language,
			k = (k = k ? k : c.browserLanguage) ? k.split("-")[0] : a.LANGUAGE_ENGLISH;
		a.language = k;
		var m = !1,
			k = !1,
			x = "",
			A = 0,
			z = /android (\d+(?:\.\d+)+)/i.exec(h) || /android (\d+(?:\.\d+)+)/i.exec(c.platform);
		z && (m = !0, x = z[1] || "", A = parseInt(x) || 0);
		(z = /(iPad|iPhone|iPod).*OS ((\d+_?){2,3})/i.exec(h)) ? (k = !0, x = z[2] || "", A = parseInt(x) || 0) : /(iPhone|iPad|iPod)/.exec(c.platform) && (k = !0, x = "", A = 0);
		z = a.OS_UNKNOWN; - 1 !== c.appVersion.indexOf("Win") ? z = a.OS_WINDOWS : k ? z = a.OS_IOS : -1 !== c.appVersion.indexOf("Mac") ? z = a.OS_OSX : -1 !== c.appVersion.indexOf("X11") && -1 === c.appVersion.indexOf("Linux") ? z = a.OS_UNIX : m ? z = a.OS_ANDROID : -1 !== c.appVersion.indexOf("Linux") &&
			(z = a.OS_LINUX);
		a.os = z;
		a.osVersion = x;
		a.osMainVersion = A;
		a.browserType = a.BROWSER_TYPE_UNKNOWN;
		(function() {
			var b = /qqbrowser|qq|chrome|safari|firefox|opr|oupeng|opera/i,
				c = /micromessenger|mqqbrowser|sogou|qzone|liebao|ucbrowser|360 aphone|360browser|baiduboxapp|baidubrowser|maxthon|mxbrowser|trident|miuibrowser/i.exec(h);
			c || (c = b.exec(h));
			b = c ? c[0] : a.BROWSER_TYPE_UNKNOWN;
			"micromessenger" === b ? b = a.BROWSER_TYPE_WECHAT : "safari" === b && m ? b = a.BROWSER_TYPE_ANDROID : "trident" === b ? b = a.BROWSER_TYPE_IE : "360 aphone" ===
				b ? b = a.BROWSER_TYPE_360 : "mxbrowser" === b ? b = a.BROWSER_TYPE_MAXTHON : "opr" === b && (b = a.BROWSER_TYPE_OPERA);
			a.browserType = b
		})();
		a.browserVersion = "";
		(function() {
			var b = /(msie |rv:|firefox|chrome|ucbrowser|qq|oupeng|opera|opr|safari|miui)(mobile)?(browser)?\/?([\d.]+)/i,
				c = h.match(/(mqqbrowser|micromessenger|sogou|qzone|liebao|maxthon|mxbrowser|baidu)(mobile)?(browser)?\/?([\d.]+)/i);
			c || (c = h.match(b));
			a.browserVersion = c ? c[4] : ""
		})();
		k = window.devicePixelRatio || 1;
		a.windowPixelResolution = {
			width: k * (window.innerWidth ||
				document.documentElement.clientWidth),
			height: k * (window.innerHeight || document.documentElement.clientHeight)
		};
		a._checkWebGLRenderMode = function() {
			if (cc._renderType !== cc.game.RENDER_TYPE_WEBGL) throw Error("This feature supports WebGL render mode only.");
		};
		a._supportCanvasNewBlendModes = function() {
			var a = f;
			a.width = 1;
			a.height = 1;
			a = a.getContext("2d");
			a.fillStyle = "#000";
			a.fillRect(0, 0, 1, 1);
			a.globalCompositeOperation = "multiply";
			var b = g;
			b.width = 1;
			b.height = 1;
			var c = b.getContext("2d");
			c.fillStyle = "#fff";
			c.fillRect(0,
				0, 1, 1);
			a.drawImage(b, 0, 0, 1, 1);
			return 0 === a.getImageData(0, 0, 1, 1).data[0]
		}();
		cc.sys.isMobile && (k = document.createElement("style"), k.type = "text/css", document.body.appendChild(k), k.textContent = "body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}");
		try {
			var y = a.localStorage = b.localStorage;
			y.setItem("storage", "");
			y.removeItem("storage");
			y = null
		} catch (B) {
			y = function() {
					cc.warn("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option")
				},
				a.localStorage = {
					getItem: y,
					setItem: y,
					removeItem: y,
					clear: y
				}
		}
		y = !!f.getContext("2d");
		k = !1;
		if (b.WebGLRenderingContext) {
			x = document.createElement("CANVAS");
			try {
				if (cc.create3DContext(x) && (k = !0), k && a.os === a.OS_IOS && 9 === a.osMainVersion && (window.indexedDB || (k = !1)), k && a.os === a.OS_ANDROID) {
					var C = parseFloat(a.browserVersion);
					switch (a.browserType) {
						case a.BROWSER_TYPE_MOBILE_QQ:
						case a.BROWSER_TYPE_BAIDU:
						case a.BROWSER_TYPE_BAIDU_APP:
							k = 6.2 <= C ? !0 : !1;
							break;
						case a.BROWSER_TYPE_CHROME:
							k = 30 <= C ? !0 : !1;
							break;
						case a.BROWSER_TYPE_ANDROID:
							a.osMainVersion &&
								5 <= a.osMainVersion && (k = !0);
							break;
						case a.BROWSER_TYPE_UNKNOWN:
						case a.BROWSER_TYPE_360:
						case a.BROWSER_TYPE_MIUI:
						case a.BROWSER_TYPE_UC:
							k = !1
					}
				}
			} catch (D) {}
			x = null
		}
		C = a.capabilities = {
			canvas: y,
			opengl: k
		};
		if (void 0 !== e.ontouchstart || void 0 !== d.ontouchstart || c.msPointerEnabled) C.touches = !0;
		void 0 !== e.onmouseup && (C.mouse = !0);
		void 0 !== e.onkeyup && (C.keyboard = !0);
		if (b.DeviceMotionEvent || b.DeviceOrientationEvent) C.accelerometer = !0;
		a.garbageCollect = function() {};
		a.dumpRoot = function() {};
		a.restartVM = function() {};
		a.cleanScript =
			function(a) {};
		a.isObjectValid = function(a) {
			return a ? !0 : !1
		};
		a.dump = function() {
			var a;
			a = "" + ("isMobile : " + this.isMobile + "\r\n");
			a += "language : " + this.language + "\r\n";
			a += "browserType : " + this.browserType + "\r\n";
			a += "browserVersion : " + this.browserVersion + "\r\n";
			a += "capabilities : " + JSON.stringify(this.capabilities) + "\r\n";
			a += "os : " + this.os + "\r\n";
			a += "osVersion : " + this.osVersion + "\r\n";
			a += "platform : " + this.platform + "\r\n";
			a += "Using " + (cc._renderType === cc.game.RENDER_TYPE_WEBGL ? "WEBGL" : "CANVAS") + " renderer.\r\n";
			cc.log(a)
		};
		a.openURL = function(a) {
			window.open(a)
		};
		a.now = function() {
			return Date.now ? Date.now() : +new Date
		}
	})();
	g = f = null;
	cc.log = cc.warn = cc.error = cc.assert = function() {};
	var h = {},
		k = !1,
		m = null;
	cc._engineLoaded = !1;
	cc.initEngine = function(b, c) {
		if (k) {
			var f = m;
			m = function() {
				f && f();
				c && c()
			}
		} else m = c, !cc.game.config && b ? cc.game.config = b : cc.game.config || cc.game._loadConfig(), b = cc.game.config, a(b), document.body ? d(b) : cc._addEventListener(window, "load", e, !1), k = !0
	}
})();
cc.game = {
	DEBUG_MODE_NONE: 0,
	DEBUG_MODE_INFO: 1,
	DEBUG_MODE_WARN: 2,
	DEBUG_MODE_ERROR: 3,
	DEBUG_MODE_INFO_FOR_WEB_PAGE: 4,
	DEBUG_MODE_WARN_FOR_WEB_PAGE: 5,
	DEBUG_MODE_ERROR_FOR_WEB_PAGE: 6,
	EVENT_HIDE: "game_on_hide",
	EVENT_SHOW: "game_on_show",
	EVENT_RESIZE: "game_on_resize",
	EVENT_RENDERER_INITED: "renderer_inited",
	RENDER_TYPE_CANVAS: 0,
	RENDER_TYPE_WEBGL: 1,
	RENDER_TYPE_OPENGL: 2,
	_eventHide: null,
	_eventShow: null,
	CONFIG_KEY: {
		width: "width",
		height: "height",
		engineDir: "engineDir",
		modules: "modules",
		debugMode: "debugMode",
		exposeClassName: "exposeClassName",
		showFPS: "showFPS",
		frameRate: "frameRate",
		id: "id",
		renderMode: "renderMode",
		jsList: "jsList"
	},
	_paused: !0,
	_configLoaded: !1,
	_prepareCalled: !1,
	_prepared: !1,
	_rendererInitialized: !1,
	_renderContext: null,
	_intervalId: null,
	_lastTime: null,
	_frameTime: null,
	frame: null,
	container: null,
	canvas: null,
	config: null,
	onStart: null,
	onStop: null,
	setFrameRate: function(a) {
		this.config[this.CONFIG_KEY.frameRate] = a;
		this._intervalId && window.cancelAnimationFrame(this._intervalId);
		this._intervalId = 0;
		this._paused = !0;
		this._setAnimFrame();
		this._runMainLoop()
	},
	step: function() {
		cc.director.mainLoop()
	},
	pause: function() {
		this._paused || (this._paused = !0, cc.audioEngine && cc.audioEngine._pausePlaying(), this._intervalId && window.cancelAnimationFrame(this._intervalId), this._intervalId = 0)
	},
	resume: function() {
		this._paused && (this._paused = !1, cc.audioEngine && cc.audioEngine._resumePlaying(), this._runMainLoop())
	},
	isPaused: function() {
		return this._paused
	},
	restart: function() {
		cc.director.popToSceneStackLevel(0);
		cc.audioEngine && cc.audioEngine.end();
		cc.game.onStart()
	},
	end: function() {
		close()
	},
	prepare: function(a) {
		var b = this,
			c = b.config,
			d = b.CONFIG_KEY;
		this._configLoaded ? this._prepared ? a && a() : this._prepareCalled || (cc._engineLoaded ? (this._prepareCalled = !0, this._initRenderer(c[d.width], c[d.height]), cc.view = cc.EGLView._getInstance(), cc.director = cc.Director._getInstance(), cc.director.setOpenGLView && cc.director.setOpenGLView(cc.view), cc.winSize = cc.director.getWinSize(), this._initEvents(), this._setAnimFrame(), this._runMainLoop(), (c = c[d.jsList]) ? cc.loader.loadJsWithImg(c,
			function(c) {
				if (c) throw Error(c);
				b._prepared = !0;
				a && a()
			}) : a && a()) : cc.initEngine(this.config, function() {
			b.prepare(a)
		})) : this._loadConfig(function() {
			b.prepare(a)
		})
	},
	run: function(a, b) {
		"function" === typeof a ? cc.game.onStart = a : (a && ("string" === typeof a ? (cc.game.config || this._loadConfig(), cc.game.config[cc.game.CONFIG_KEY.id] = a) : cc.game.config = a), "function" === typeof b && (cc.game.onStart = b));
		this.prepare(cc.game.onStart && cc.game.onStart.bind(cc.game))
	},
	_setAnimFrame: function() {
		this._lastTime = new Date;
		var a = cc.game.config[cc.game.CONFIG_KEY.frameRate];
		this._frameTime = 1E3 / a;
		60 !== a && 30 !== a ? (window.requestAnimFrame = this._stTime, window.cancelAnimationFrame = this._ctTime) : (window.requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || this._stTime, window.cancelAnimationFrame = window.cancelAnimationFrame || window.cancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame ||
			window.webkitCancelRequestAnimationFrame || window.msCancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.oCancelAnimationFrame || this._ctTime)
	},
	_stTime: function(a) {
		var b = (new Date).getTime(),
			c = Math.max(0, cc.game._frameTime - (b - cc.game._lastTime)),
			d = window.setTimeout(function() {
				a()
			}, c);
		cc.game._lastTime = b + c;
		return d
	},
	_ctTime: function(a) {
		window.clearTimeout(a)
	},
	_runMainLoop: function() {
		var a = this,
			b, c = a.config,
			d = a.CONFIG_KEY,
			e = cc.director,
			f = !0,
			g = c[d.frameRate];
		e.setDisplayStats(c[d.showFPS]);
		b = function() {
			a._paused || (30 === g && (f = !f) || e.mainLoop(), a._intervalId = window.requestAnimFrame(b))
		};
		a._intervalId = window.requestAnimFrame(b);
		a._paused = !1
	},
	_loadConfig: function(a) {
		var b = this.config || document.ccConfig;
		if (b) this._initConfig(b), a && a();
		else {
			for (var c = document.getElementsByTagName("script"), d = 0; d < c.length && (b = c[d].getAttribute("cocos"), "" !== b && !b); d++);
			var e = this,
				b = function(b, c) {
					var d = JSON.parse(c);
					e._initConfig(d);
					a && a()
				};
			if (d < c.length) {
				if (c = c[d].src) c = /(.*)\//.exec(c)[0],
					cc.loader.resPath = c, c = cc.path.join(c, "project.json");
				cc.loader.loadTxt(c, b)
			} else cc.loader.loadTxt("project.json", b)
		}
	},
	_initConfig: function(a) {
		var b = this.CONFIG_KEY,
			c = a[b.modules];
		a[b.showFPS] = "undefined" === typeof a[b.showFPS] ? !0 : a[b.showFPS];
		a[b.engineDir] = a[b.engineDir] || "frameworks/cocos2d-html5";
		null == a[b.debugMode] && (a[b.debugMode] = 0);
		a[b.exposeClassName] = !!a[b.exposeClassName];
		a[b.frameRate] = a[b.frameRate] || 60;
		null == a[b.renderMode] && (a[b.renderMode] = 0);
		null == a[b.registerSystemEvent] && (a[b.registerSystemEvent] = !0);
		c && 0 > c.indexOf("core") && c.splice(0, 0, "core");
		c && (a[b.modules] = c);
		this.config = a;
		this._configLoaded = !0
	},
	_initRenderer: function(a, b) {
		if (!this._rendererInitialized) {
			if (!cc._supportRender) throw Error("The renderer doesn't support the renderMode " + this.config[this.CONFIG_KEY.renderMode]);
			var c = this.config[cc.game.CONFIG_KEY.id],
				d = window,
				c = cc.$(c) || cc.$("#" + c),
				e, f;
			"CANVAS" === c.tagName ? (a = a || c.width, b = b || c.height, this.canvas = cc._canvas = e = c, this.container = cc.container = f = document.createElement("DIV"), e.parentNode &&
				e.parentNode.insertBefore(f, e)) : ("DIV" !== c.tagName && cc.log("Warning: target element is not a DIV or CANVAS"), a = a || c.clientWidth, b = b || c.clientHeight, this.canvas = cc._canvas = e = cc.$(document.createElement("CANVAS")), this.container = cc.container = f = document.createElement("DIV"), c.appendChild(f));
			f.setAttribute("id", "Cocos2dGameContainer");
			f.appendChild(e);
			this.frame = f.parentNode === document.body ? document.documentElement : f.parentNode;
			e.addClass("gameCanvas");
			e.setAttribute("width", a || 480);
			e.setAttribute("height",
				b || 320);
			e.setAttribute("tabindex", 99);
			cc._renderType === cc.game.RENDER_TYPE_WEBGL && (this._renderContext = cc._renderContext = cc.webglContext = cc.create3DContext(e, {
				stencil: !0,
				alpha: !1,
				preserveDrawingBuffer: !0
			}));
			this._renderContext ? (cc.renderer = cc.rendererWebGL, d.gl = this._renderContext, cc.renderer.init(), cc._drawingUtil = new cc.DrawingPrimitiveWebGL(this._renderContext), cc.textureCache._initializingRenderer(), cc.glExt = {}, cc.glExt.instanced_arrays = d.gl.getExtension("ANGLE_instanced_arrays"), cc.glExt.element_uint =
				d.gl.getExtension("OES_element_index_uint")) : (cc._renderType = cc.game.RENDER_TYPE_CANVAS, cc.renderer = cc.rendererCanvas, this._renderContext = cc._renderContext = new cc.CanvasContextWrapper(e.getContext("2d")), cc._drawingUtil = cc.DrawingPrimitiveCanvas ? new cc.DrawingPrimitiveCanvas(this._renderContext) : null);
			cc._gameDiv = f;
			cc.game.canvas.oncontextmenu = function() {
				if (!cc._isContextMenuEnable) return !1
			};
			this.dispatchEvent(this.EVENT_RENDERER_INITED, !0);
			this._rendererInitialized = !0
		}
	},
	_initEvents: function() {
		var a =
			window,
			b;
		this._eventHide = this._eventHide || new cc.EventCustom(this.EVENT_HIDE);
		this._eventHide.setUserData(this);
		this._eventShow = this._eventShow || new cc.EventCustom(this.EVENT_SHOW);
		this._eventShow.setUserData(this);
		this.config[this.CONFIG_KEY.registerSystemEvent] && cc.inputManager.registerSystemEvent(this.canvas);
		cc.isUndefined(document.hidden) ? cc.isUndefined(document.mozHidden) ? cc.isUndefined(document.msHidden) ? cc.isUndefined(document.webkitHidden) || (b = "webkitHidden") : b = "msHidden" : b = "mozHidden" : b =
			"hidden";
		var c = ["visibilitychange", "mozvisibilitychange", "msvisibilitychange", "webkitvisibilitychange", "qbrowserVisibilityChange"],
			d = function() {
				cc.eventManager && cc.game._eventHide && cc.eventManager.dispatchEvent(cc.game._eventHide)
			},
			e = function() {
				cc.eventManager && cc.game._eventShow && cc.eventManager.dispatchEvent(cc.game._eventShow)
			};
		if (b)
			for (var f = 0; f < c.length; f++) document.addEventListener(c[f], function(a) {
				var c = document[b];
				(c = c || a.hidden) ? d(): e()
			}, !1);
		else a.addEventListener("blur", d, !1), a.addEventListener("focus",
			e, !1); - 1 < navigator.userAgent.indexOf("MicroMessenger") && (a.onfocus = function() {
			e()
		});
		"onpageshow" in window && "onpagehide" in window && (a.addEventListener("pagehide", d, !1), a.addEventListener("pageshow", e, !1));
		cc.eventManager.addCustomListener(cc.game.EVENT_HIDE, function() {
			cc.game.pause()
		});
		cc.eventManager.addCustomListener(cc.game.EVENT_SHOW, function() {
			cc.game.resume()
		})
	}
};
Function.prototype.bind = Function.prototype.bind || function(a) {
	if (!cc.isFunction(this)) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
	var b = Array.prototype.slice.call(arguments, 1),
		c = this,
		d = function() {},
		e = function() {
			return c.apply(this instanceof d && a ? this : a, b.concat(Array.prototype.slice.call(arguments)))
		};
	d.prototype = this.prototype;
	e.prototype = new d;
	return e
};
cc.EventHelper = function() {};
cc.EventHelper.prototype = {
	constructor: cc.EventHelper,
	apply: function(a) {
		a.addEventListener = cc.EventHelper.prototype.addEventListener;
		a.hasEventListener = cc.EventHelper.prototype.hasEventListener;
		a.removeEventListener = cc.EventHelper.prototype.removeEventListener;
		a.dispatchEvent = cc.EventHelper.prototype.dispatchEvent
	},
	addEventListener: function(a, b, c) {
		if ("load" === a && this._textureLoaded) setTimeout(function() {
			b.call(c)
		}, 0);
		else {
			void 0 === this._listeners && (this._listeners = {});
			var d = this._listeners;
			void 0 ===
				d[a] && (d[a] = []);
			this.hasEventListener(a, b, c) || d[a].push({
				callback: b,
				eventTarget: c
			})
		}
	},
	hasEventListener: function(a, b, c) {
		if (void 0 === this._listeners) return !1;
		var d = this._listeners;
		if (void 0 !== d[a]) {
			a = 0;
			for (var e = d.length; a < e; a++) {
				var f = d[a];
				if (f.callback === b && f.eventTarget === c) return !0
			}
		}
		return !1
	},
	removeEventListener: function(a, b, c) {
		if (void 0 !== this._listeners && (a = this._listeners[a], void 0 !== a))
			for (var d = 0; d < a.length;) {
				var e = a[d];
				e.eventTarget === c && e.callback === b ? a.splice(d, 1) : d++
			}
	},
	removeEventTarget: function(a,
		b, c) {
		if (void 0 !== this._listeners && (a = this._listeners[a], void 0 !== a))
			for (b = 0; b < a.length;) a[b].eventTarget === c ? a.splice(b, 1) : b++
	},
	dispatchEvent: function(a, b) {
		if (void 0 !== this._listeners) {
			null == b && (b = !0);
			var c = this._listeners[a];
			if (void 0 !== c) {
				for (var d = [], e = c.length, f = 0; f < e; f++) d[f] = c[f];
				for (f = 0; f < e; f++) d[f].callback.call(d[f].eventTarget, this);
				b && (c.length = 0)
			}
		}
	}
};
cc.EventHelper.prototype.apply(cc.game);
cc._LogInfos = {
	ActionManager_addAction: "cc.ActionManager.addAction(): action must be non-null",
	ActionManager_removeAction: "cocos2d: removeAction: Target not found",
	ActionManager_removeActionByTag: "cc.ActionManager.removeActionByTag(): an invalid tag",
	ActionManager_removeActionByTag_2: "cc.ActionManager.removeActionByTag(): target must be non-null",
	ActionManager_getActionByTag: "cc.ActionManager.getActionByTag(): an invalid tag",
	ActionManager_getActionByTag_2: "cocos2d : getActionByTag(tag \x3d %s): Action not found",
	configuration_dumpInfo: "cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)",
	configuration_loadConfigFile: "Expected 'data' dict, but not found. Config file: %s",
	configuration_loadConfigFile_2: "Please load the resource first : %s",
	Director_resume: "cocos2d: Director: Error in gettimeofday",
	Director_setProjection: "cocos2d: Director: unrecognized projection",
	Director_popToSceneStackLevel: "cocos2d: Director: unrecognized projection",
	Director_popToSceneStackLevel_2: "cocos2d: Director: Error in gettimeofday",
	Director_popScene: "running scene should not null",
	Director_pushScene: "the scene should not null",
	arrayVerifyType: "element type is wrong!",
	Scheduler_scheduleCallbackForTarget: "CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:%s to %s",
	Scheduler_scheduleCallbackForTarget_2: "cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.",
	Scheduler_scheduleCallbackForTarget_3: "cc.scheduler.scheduleCallbackForTarget(): target should be non-null.",
	Scheduler_pauseTarget: "cc.Scheduler.pauseTarget():target should be non-null",
	Scheduler_resumeTarget: "cc.Scheduler.resumeTarget():target should be non-null",
	Scheduler_isTargetPaused: "cc.Scheduler.isTargetPaused():target should be non-null",
	Node_getZOrder: "getZOrder is deprecated. Please use getLocalZOrder instead.",
	Node_setZOrder: "setZOrder is deprecated. Please use setLocalZOrder instead.",
	Node_getRotation: "RotationX !\x3d RotationY. Don't know which one to return",
	Node_getScale: "ScaleX !\x3d ScaleY. Don't know which one to return",
	Node_addChild: "An Node can't be added as a child of itself.",
	Node_addChild_2: "child already added. It can't be added again",
	Node_addChild_3: "child must be non-null",
	Node_removeFromParentAndCleanup: "removeFromParentAndCleanup is deprecated. Use removeFromParent instead",
	Node_boundingBox: "boundingBox is deprecated. Use getBoundingBox instead",
	Node_removeChildByTag: "argument tag is an invalid tag",
	Node_removeChildByTag_2: "cocos2d: removeChildByTag(tag \x3d %s): child not found!",
	Node_removeAllChildrenWithCleanup: "removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead",
	Node_stopActionByTag: "cc.Node.stopActionBy(): argument tag an invalid tag",
	Node_getActionByTag: "cc.Node.getActionByTag(): argument tag is an invalid tag",
	Node_resumeSchedulerAndActions: "resumeSchedulerAndActions is deprecated, please use resume instead.",
	Node_pauseSchedulerAndActions: "pauseSchedulerAndActions is deprecated, please use pause instead.",
	Node__arrayMakeObjectsPerformSelector: "Unknown callback function",
	Node_reorderChild: "cc.Node.reorderChild(): child must be non-null",
	Node_reorderChild_2: "cc.Node.reorderChild(): this child is not in children list",
	Node_runAction: "cc.Node.runAction(): action must be non-null",
	Node_schedule: "callback function must be non-null",
	Node_schedule_2: "interval must be positive",
	Node_initWithTexture: "cocos2d: Could not initialize cc.AtlasNode. Invalid Texture.",
	AtlasNode_updateAtlasValues: "cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses",
	AtlasNode_initWithTileFile: "",
	AtlasNode__initWithTexture: "cocos2d: Could not initialize cc.AtlasNode. Invalid Texture.",
	_EventListenerKeyboard_checkAvailable: "cc._EventListenerKeyboard.checkAvailable(): Invalid EventListenerKeyboard!",
	_EventListenerTouchOneByOne_checkAvailable: "cc._EventListenerTouchOneByOne.checkAvailable(): Invalid EventListenerTouchOneByOne!",
	_EventListenerTouchAllAtOnce_checkAvailable: "cc._EventListenerTouchAllAtOnce.checkAvailable(): Invalid EventListenerTouchAllAtOnce!",
	_EventListenerAcceleration_checkAvailable: "cc._EventListenerAcceleration.checkAvailable(): _onAccelerationEvent must be non-nil",
	EventListener_create: "Invalid parameter.",
	__getListenerID: "Don't call this method if the event is for touch.",
	eventManager__forceAddEventListener: "Invalid scene graph priority!",
	eventManager_addListener: "0 priority is forbidden for fixed priority since it's used for scene graph based priority.",
	eventManager_removeListeners: "Invalid listener type!",
	eventManager_setPriority: "Can't set fixed priority with scene graph based listener.",
	eventManager_addListener_2: "Invalid parameters.",
	eventManager_addListener_3: "listener must be a cc.EventListener object when adding a fixed priority listener",
	eventManager_addListener_4: "The listener has been registered, please don't register it again.",
	LayerMultiplex_initWithLayers: "parameters should not be ending with null in Javascript",
	LayerMultiplex_switchTo: "Invalid index in MultiplexLayer switchTo message",
	LayerMultiplex_switchToAndReleaseMe: "Invalid index in MultiplexLayer switchTo message",
	LayerMultiplex_addLayer: "cc.Layer.addLayer(): layer should be non-null",
	EGLView_setDesignResolutionSize: "Resolution not valid",
	EGLView_setDesignResolutionSize_2: "should set resolutionPolicy",
	inputManager_handleTouchesBegin: "The touches is more than MAX_TOUCHES, nUnusedIndex \x3d %s",
	swap: "cc.swap is being modified from original macro, please check usage",
	checkGLErrorDebug: "WebGL error %s",
	animationCache__addAnimationsWithDictionary: "cocos2d: cc.AnimationCache: No animations were found in provided dictionary.",
	animationCache__addAnimationsWithDictionary_2: "cc.AnimationCache. Invalid animation format",
	animationCache_addAnimations: "cc.AnimationCache.addAnimations(): File could not be found",
	animationCache__parseVersion1: "cocos2d: cc.AnimationCache: Animation '%s' found in dictionary without any frames - cannot add to animation cache.",
	animationCache__parseVersion1_2: "cocos2d: cc.AnimationCache: Animation '%s' refers to frame '%s' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.",
	animationCache__parseVersion1_3: "cocos2d: cc.AnimationCache: None of the frames for animation '%s' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache.",
	animationCache__parseVersion1_4: "cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '%s' may be missing.",
	animationCache__parseVersion2: "cocos2d: CCAnimationCache: Animation '%s' found in dictionary without any frames - cannot add to animation cache.",
	animationCache__parseVersion2_2: "cocos2d: cc.AnimationCache: Animation '%s' refers to frame '%s' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.",
	animationCache_addAnimations_2: "cc.AnimationCache.addAnimations(): Invalid texture file name",
	Sprite_ignoreAnchorPointForPosition: "cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode",
	Sprite_setDisplayFrameWithAnimationName: "cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found",
	Sprite_setDisplayFrameWithAnimationName_2: "cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index",
	Sprite_setDisplayFrame: "setDisplayFrame is deprecated, please use setSpriteFrame instead.",
	Sprite__updateBlendFunc: "cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode",
	Sprite_initWithSpriteFrame: "cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null",
	Sprite_initWithSpriteFrameName: "cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null",
	Sprite_initWithSpriteFrameName1: " is null, please check.",
	Sprite_initWithFile: "cc.Sprite.initWithFile(): filename should be non-null",
	Sprite_setDisplayFrameWithAnimationName_3: "cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null",
	Sprite_addChild: "cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode",
	Sprite_addChild_2: "cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode",
	Sprite_addChild_3: "cc.Sprite.addChild(): child should be non-null",
	Sprite_setTexture: "cc.Sprite.texture setter: Batched sprites should use the same texture as the batchnode",
	Sprite_updateQuadFromSprite: "cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",
	Sprite_insertQuadFromSprite: "cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",
	Sprite_addChild_4: "cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children",
	Sprite_addChild_5: "cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture",
	Sprite_initWithTexture: "Sprite.initWithTexture(): Argument must be non-nil ",
	Sprite_setSpriteFrame: "Invalid spriteFrameName",
	Sprite_setTexture_2: "Invalid argument: cc.Sprite.texture setter expects a CCTexture2D.",
	Sprite_updateQuadFromSprite_2: "cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null",
	Sprite_insertQuadFromSprite_2: "cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null",
	SpriteBatchNode_addSpriteWithoutQuad: "cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children",
	SpriteBatchNode_increaseAtlasCapacity: "cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from %s to %s.",
	SpriteBatchNode_increaseAtlasCapacity_2: "cocos2d: WARNING: Not enough memory to resize the atlas",
	SpriteBatchNode_reorderChild: "cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite",
	SpriteBatchNode_removeChild: "cc.SpriteBatchNode.addChild(): sprite batch node should contain the child",
	SpriteBatchNode_addSpriteWithoutQuad_2: "cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null",
	SpriteBatchNode_reorderChild_2: "cc.SpriteBatchNode.addChild(): child should be non-null",
	spriteFrameCache__getFrameConfig: "cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist",
	spriteFrameCache_addSpriteFrames: "cocos2d: WARNING: an alias with name %s already exists",
	spriteFrameCache__checkConflict: "cocos2d: WARNING: Sprite frame: %s has already been added by another source, please fix name conflit",
	spriteFrameCache_getSpriteFrame: "cocos2d: cc.SpriteFrameCahce: Frame %s not found",
	spriteFrameCache__getFrameConfig_2: "Please load the resource first : %s",
	spriteFrameCache_addSpriteFrames_2: "cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null",
	spriteFrameCache_addSpriteFrames_3: "Argument must be non-nil",
	CCSpriteBatchNode_updateQuadFromSprite: "cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",
	CCSpriteBatchNode_insertQuadFromSprite: "cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children",
	CCSpriteBatchNode_addChild: "cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children",
	CCSpriteBatchNode_initWithTexture: "Sprite.initWithTexture(): Argument must be non-nil ",
	CCSpriteBatchNode_addChild_2: "cc.Sprite.addChild(): child should be non-null",
	CCSpriteBatchNode_setSpriteFrame: "Invalid spriteFrameName",
	CCSpriteBatchNode_setTexture: "Invalid argument: cc.Sprite texture setter expects a CCTexture2D.",
	CCSpriteBatchNode_updateQuadFromSprite_2: "cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null",
	CCSpriteBatchNode_insertQuadFromSprite_2: "cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null",
	CCSpriteBatchNode_addChild_3: "cc.SpriteBatchNode.addChild(): child should be non-null",
	TextureAtlas_initWithFile: "cocos2d: Could not open file: %s",
	TextureAtlas_insertQuad: "cc.TextureAtlas.insertQuad(): invalid totalQuads",
	TextureAtlas_initWithTexture: "cc.TextureAtlas.initWithTexture():texture should be non-null",
	TextureAtlas_updateQuad: "cc.TextureAtlas.updateQuad(): quad should be non-null",
	TextureAtlas_updateQuad_2: "cc.TextureAtlas.updateQuad(): Invalid index",
	TextureAtlas_insertQuad_2: "cc.TextureAtlas.insertQuad(): Invalid index",
	TextureAtlas_insertQuads: "cc.TextureAtlas.insertQuad(): Invalid index + amount",
	TextureAtlas_insertQuadFromIndex: "cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex",
	TextureAtlas_insertQuadFromIndex_2: "cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex",
	TextureAtlas_removeQuadAtIndex: "cc.TextureAtlas.removeQuadAtIndex(): Invalid index",
	TextureAtlas_removeQuadsAtIndex: "cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds",
	TextureAtlas_moveQuadsFromIndex: "cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds",
	TextureAtlas_moveQuadsFromIndex_2: "cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex",
	TextureAtlas_moveQuadsFromIndex_3: "cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex",
	textureCache_addPVRTCImage: "TextureCache:addPVRTCImage does not support on HTML5",
	textureCache_addETCImage: "TextureCache:addPVRTCImage does not support on HTML5",
	textureCache_textureForKey: "textureForKey is deprecated. Please use getTextureForKey instead.",
	textureCache_addPVRImage: "addPVRImage does not support on HTML5",
	textureCache_addUIImage: "cocos2d: Couldn't add UIImage in TextureCache",
	textureCache_dumpCachedTextureInfo: "cocos2d: '%s' id\x3d%s %s x %s",
	textureCache_dumpCachedTextureInfo_2: "cocos2d: '%s' id\x3d HTMLCanvasElement %s x %s",
	textureCache_dumpCachedTextureInfo_3: "cocos2d: TextureCache dumpDebugInfo: %s textures, HTMLCanvasElement for %s KB (%s MB)",
	textureCache_addUIImage_2: "cc.Texture.addUIImage(): image should be non-null",
	Texture2D_initWithETCFile: "initWithETCFile does not support on HTML5",
	Texture2D_initWithPVRFile: "initWithPVRFile does not support on HTML5",
	Texture2D_initWithPVRTCData: "initWithPVRTCData does not support on HTML5",
	Texture2D_addImage: "cc.Texture.addImage(): path should be non-null",
	Texture2D_initWithImage: "cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil",
	Texture2D_initWithImage_2: "cocos2d: WARNING: Image (%s x %s) is bigger than the supported %s x %s",
	Texture2D_initWithString: "initWithString isn't supported on cocos2d-html5",
	Texture2D_initWithETCFile_2: "initWithETCFile does not support on HTML5",
	Texture2D_initWithPVRFile_2: "initWithPVRFile does not support on HTML5",
	Texture2D_initWithPVRTCData_2: "initWithPVRTCData does not support on HTML5",
	Texture2D_bitsPerPixelForFormat: "bitsPerPixelForFormat: %s, cannot give useful result, it's a illegal pixel format",
	Texture2D__initPremultipliedATextureWithImage: "cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha",
	Texture2D_addImage_2: "cc.Texture.addImage(): path should be non-null",
	Texture2D_initWithData: "NSInternalInconsistencyException",
	MissingFile: "Missing file: %s",
	radiansToDegress: "cc.radiansToDegress() should be called cc.radiansToDegrees()",
	RectWidth: "Rect width exceeds maximum margin: %s",
	RectHeight: "Rect height exceeds maximum margin: %s",
	EventManager__updateListeners: "If program goes here, there should be event in dispatch.",
	EventManager__updateListeners_2: "_inDispatch should be 1 here."
};
cc._logToWebPage = function(a) {
	if (cc._canvas) {
		var b = cc._logList,
			c = document;
		if (!b) {
			var d = c.createElement("Div"),
				b = d.style;
			d.setAttribute("id", "logInfoDiv");
			cc._canvas.parentNode.appendChild(d);
			d.setAttribute("width", "200");
			d.setAttribute("height", cc._canvas.height);
			b.zIndex = "99999";
			b.position = "absolute";
			b.top = "0";
			b.left = "0";
			b = cc._logList = c.createElement("textarea");
			c = b.style;
			b.setAttribute("rows", "20");
			b.setAttribute("cols", "30");
			b.setAttribute("disabled", !0);
			d.appendChild(b);
			c.backgroundColor = "transparent";
			c.borderBottom = "1px solid #cccccc";
			c.borderRightWidth = "0px";
			c.borderLeftWidth = "0px";
			c.borderTopWidth = "0px";
			c.borderTopStyle = "none";
			c.borderRightStyle = "none";
			c.borderLeftStyle = "none";
			c.padding = "0px";
			c.margin = 0
		}
		b.value = b.value + a + "\r\n";
		b.scrollTop = b.scrollHeight
	}
};
cc._formatString = function(a) {
	if (cc.isObject(a)) try {
		return JSON.stringify(a)
	} catch (b) {
		return ""
	} else return a
};
cc._initDebugSetting = function(a) {
	var b = cc.game;
	if (a !== b.DEBUG_MODE_NONE) {
		var c;
		a > b.DEBUG_MODE_ERROR ? (c = cc._logToWebPage.bind(cc), cc.error = function() {
			c("ERROR :  " + cc.formatStr.apply(cc, arguments))
		}, cc.assert = function(a, b) {
			if (!a && b) {
				for (var f = 2; f < arguments.length; f++) b = b.replace(/(%s)|(%d)/, cc._formatString(arguments[f]));
				c("Assert: " + b)
			}
		}, a !== b.DEBUG_MODE_ERROR_FOR_WEB_PAGE && (cc.warn = function() {
			c("WARN :  " + cc.formatStr.apply(cc, arguments))
		}), a === b.DEBUG_MODE_INFO_FOR_WEB_PAGE && (cc.log = function() {
			c(cc.formatStr.apply(cc,
				arguments))
		})) : console && console.log.apply && (cc.error = Function.prototype.bind.call(console.error, console), cc.assert = console.assert ? Function.prototype.bind.call(console.assert, console) : function(a, b) {
			if (!a && b) {
				for (var c = 2; c < arguments.length; c++) b = b.replace(/(%s)|(%d)/, cc._formatString(arguments[c]));
				throw Error(b);
			}
		}, a !== b.DEBUG_MODE_ERROR && (cc.warn = Function.prototype.bind.call(console.warn, console)), a === b.DEBUG_MODE_INFO && (cc.log = Function.prototype.bind.call(console.log, console)))
	}
};
cc.loader.loadBinary = function(a, b) {
	var c = this,
		d = this.getXMLHttpRequest(),
		e = "load " + a + " failed!";
	d.open("GET", a, !0);
	d.responseType = "arraybuffer";
	cc.loader.loadBinary._IEFilter ? (d.setRequestHeader("Accept-Charset", "x-user-defined"), d.onreadystatechange = function() {
		if (4 === d.readyState && 200 === d.status) {
			var a = cc._convertResponseBodyToText(d.responseBody);
			b(null, c._str2Uint8Array(a))
		} else b(e)
	}) : (d.overrideMimeType && d.overrideMimeType("text/plain; charset\x3dx-user-defined"), d.onload = function() {
		4 === d.readyState &&
			200 === d.status ? b(null, new Uint8Array(d.response)) : b(e)
	});
	d.send(null)
};
cc.loader.loadBinary._IEFilter = /msie/i.test(navigator.userAgent) && !/opera/i.test(navigator.userAgent) && window.IEBinaryToArray_ByteStr && window.IEBinaryToArray_ByteStr_Last;
cc.loader._str2Uint8Array = function(a) {
	if (!a) return null;
	for (var b = new Uint8Array(a.length), c = 0; c < a.length; c++) b[c] = a.charCodeAt(c) & 255;
	return b
};
cc.loader.loadBinarySync = function(a) {
	var b = this.getXMLHttpRequest();
	b.timeout = 0;
	var c = "load " + a + " failed!";
	b.open("GET", a, !1);
	a = null;
	if (cc.loader.loadBinary._IEFilter) {
		b.setRequestHeader("Accept-Charset", "x-user-defined");
		b.send(null);
		if (200 !== b.status) return cc.log(c), null;
		(b = cc._convertResponseBodyToText(b.responseBody)) && (a = this._str2Uint8Array(b))
	} else {
		b.overrideMimeType && b.overrideMimeType("text/plain; charset\x3dx-user-defined");
		b.send(null);
		if (200 !== b.status) return cc.log(c), null;
		a = this._str2Uint8Array(b.responseText)
	}
	return a
};
window.Uint8Array = window.Uint8Array || window.Array;
if (cc.loader.loadBinary._IEFilter) {
	var IEBinaryToArray_ByteStr_Script = '\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n',
		myVBScript =
		document.createElement("script");
	myVBScript.type = "text/vbscript";
	myVBScript.textContent = IEBinaryToArray_ByteStr_Script;
	document.body.appendChild(myVBScript);
	cc._convertResponseBodyToText = function(a) {
		for (var b = {}, c = 0; 256 > c; c++)
			for (var d = 0; 256 > d; d++) b[String.fromCharCode(c + 256 * d)] = String.fromCharCode(c) + String.fromCharCode(d);
		c = IEBinaryToArray_ByteStr(a);
		a = IEBinaryToArray_ByteStr_Last(a);
		return c.replace(/[\s\S]/g, function(a) {
			return b[a]
		}) + a
	}
};
cc = cc || {};
cc._loadingImage = "data:image/gif;base64,R0lGODlhEAAQALMNAD8/P7+/vyoqKlVVVX9/fxUVFUBAQGBgYMDAwC8vL5CQkP///wAAAP///wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAANACwAAAAAEAAQAAAEO5DJSau9OOvNex0IMnDIsiCkiW6g6BmKYlBFkhSUEgQKlQCARG6nEBwOgl+QApMdCIRD7YZ5RjlGpCUCACH5BAUAAA0ALAAAAgAOAA4AAAQ6kLGB0JA4M7QW0hrngRllkYyhKAYqKUGguAws0ypLS8JxCLQDgXAIDg+FRKIA6v0SAECCBpXSkstMBAAh+QQFAAANACwAAAAACgAQAAAEOJDJORAac6K1kDSKYmydpASBUl0mqmRfaGTCcQgwcxDEke+9XO2WkxQSiUIuAQAkls0n7JgsWq8RACH5BAUAAA0ALAAAAAAOAA4AAAQ6kMlplDIzTxWC0oxwHALnDQgySAdBHNWFLAvCukc215JIZihVIZEogDIJACBxnCSXTcmwGK1ar1hrBAAh+QQFAAANACwAAAAAEAAKAAAEN5DJKc4RM+tDyNFTkSQF5xmKYmQJACTVpQSBwrpJNteZSGYoFWjIGCAQA2IGsVgglBOmEyoxIiMAIfkEBQAADQAsAgAAAA4ADgAABDmQSVZSKjPPBEDSGucJxyGA1XUQxAFma/tOpDlnhqIYN6MEAUXvF+zldrMBAjHoIRYLhBMqvSmZkggAIfkEBQAADQAsBgAAAAoAEAAABDeQyUmrnSWlYhMASfeFVbZdjHAcgnUQxOHCcqWylKEohqUEAYVkgEAMfkEJYrFA6HhKJsJCNFoiACH5BAUAAA0ALAIAAgAOAA4AAAQ3kMlJq704611SKloCAEk4lln3DQgyUMJxCBKyLAh1EMRR3wiDQmHY9SQslyIQUMRmlmVTIyRaIgA7";
cc._fpsImage = "data:image/png;base64,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\x3d";
cc._loaderImage = "data:image/jpeg;base64,/9j/4QlQaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiLz4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/90ABAB4/+4ADkFkb2JlAGTAAAAAAf/AABEIAnEDwAMAEQABEQECEQH/xADRAAACAgMBAQEAAAAAAAAAAAADBAIFAAEGBwgJAQEBAQEBAQEBAQAAAAAAAAABAAIDBAUGBwgQAAIBAwIEBAIGBQULCAgCCwECAwAEERIhBTFBUQYTImEy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";
cc = cc || {};
cc.defineGetterSetter = function(a, b, c, d, e, f) {
	if (a.__defineGetter__) c && a.__defineGetter__(b, c), d && a.__defineSetter__(b, d);
	else if (Object.defineProperty) {
		var g = {
			enumerable: !1,
			configurable: !0
		};
		c && (g.get = c);
		d && (g.set = d);
		Object.defineProperty(a, b, g)
	} else throw Error("browser does not support getters");
	if (!e && !f)
		for (var g = null != c, h = void 0 != d, k = Object.getOwnPropertyNames(a), m = 0; m < k.length; m++) {
			var n = k[m];
			if ((a.__lookupGetter__ ? !a.__lookupGetter__(n) : !Object.getOwnPropertyDescriptor(a, n)) && "function" === typeof a[n]) {
				var p =
					a[n];
				if (g && p === c && (e = n, !h || f)) break;
				if (h && p === d && (f = n, !g || e)) break
			}
		}
	a = a.constructor;
	e && (a.__getters__ || (a.__getters__ = {}), a.__getters__[e] = b);
	f && (a.__setters__ || (a.__setters__ = {}), a.__setters__[f] = b)
};
cc.clone = function(a) {
	var b = a.constructor ? new a.constructor : {},
		c;
	for (c in a) {
		var d = a[c];
		b[c] = "object" !== typeof d || !d || d instanceof cc.Node || d instanceof HTMLElement ? d : cc.clone(d)
	}
	return b
};
cc.inject = function(a, b) {
	for (var c in a) b[c] = a[c]
};
var ClassManager = function() {
		var a = 0 | 998 * Math.random(),
			b = 0 | 998 * Math.random();
		this.getNewID = function() {
			return a++
		};
		this.getNewInstanceId = function() {
			return b++
		}
	},
	classManager = new ClassManager;
(function() {
	var a = /\b_super\b/;
	cc.Class = function() {};
	cc.Class.extend = function(b) {
		var c = this.prototype,
			d = Object.create(c),
			e = {
				writable: !0,
				enumerable: !1,
				configurable: !0
			},
			f;
		cc.game.config && cc.game.config[cc.game.CONFIG_KEY.exposeClassName] ? (f = "(function " + (b._className || "Class") + " (arg0, arg1, arg2, arg3, arg4, arg5) {\n", f += "    this.__instanceId \x3d classManager.getNewInstanceId();\n    if (this.ctor) {\n", f += "        switch (arguments.length) {\n", f += "        case 0: this.ctor(); break;\n", f += "        case 1: this.ctor(arg0); break;\n",
			f += "        case 3: this.ctor(arg0, arg1, arg2); break;\n", f += "        case 4: this.ctor(arg0, arg1, arg2, arg3); break;\n", f += "        case 5: this.ctor(arg0, arg1, arg2, arg3, arg4); break;\n", f += "        default: this.ctor.apply(this, arguments);\n", f += "        }\n", f += "    }\n", f += "})", f = eval(f)) : f = function(a, b, c, d, e) {
			this.__instanceId = classManager.getNewInstanceId();
			if (this.ctor) switch (arguments.length) {
				case 0:
					this.ctor();
					break;
				case 1:
					this.ctor(a);
					break;
				case 2:
					this.ctor(a, b);
					break;
				case 3:
					this.ctor(a,
						b, c);
					break;
				case 4:
					this.ctor(a, b, c, d);
					break;
				case 5:
					this.ctor(a, b, c, d, e);
					break;
				default:
					this.ctor.apply(this, arguments)
			}
		};
		e.value = classManager.getNewID();
		Object.defineProperty(d, "__pid", e);
		f.prototype = d;
		e.value = f;
		Object.defineProperty(d, "constructor", e);
		this.__getters__ && (f.__getters__ = cc.clone(this.__getters__));
		this.__setters__ && (f.__setters__ = cc.clone(this.__setters__));
		for (var g = 0, h = arguments.length; g < h; ++g) {
			var k = arguments[g],
				m;
			for (m in k) {
				var n = "function" === typeof k[m],
					p = "function" === typeof c[m],
					r = a.test(k[m]);
				n && p && r ? (e.value = function(a, b) {
					return function() {
						var d = this._super;
						this._super = c[a];
						var e = b.apply(this, arguments);
						this._super = d;
						return e
					}
				}(m, k[m]), Object.defineProperty(d, m, e)) : n ? (e.value = k[m], Object.defineProperty(d, m, e)) : d[m] = k[m];
				if (n) {
					var t, u;
					if (this.__getters__ && this.__getters__[m]) {
						var n = this.__getters__[m],
							s;
						for (s in this.__setters__)
							if (this.__setters__[s] === n) {
								u = s;
								break
							} cc.defineGetterSetter(d, n, k[m], k[u] ? k[u] : d[u], m, u)
					}
					if (this.__setters__ && this.__setters__[m]) {
						n = this.__setters__[m];
						for (s in this.__getters__)
							if (this.__getters__[s] === n) {
								t = s;
								break
							} cc.defineGetterSetter(d, n, k[t] ? k[t] : d[t], k[m], t, m)
					}
				}
			}
		}
		f.extend = cc.Class.extend;
		f.implement = function(a) {
			for (var b in a) d[b] = a[b]
		};
		return f
	}
})();
cc = cc || {};
cc._tmp = cc._tmp || {};
cc.associateWithNative = function(a, b) {};
cc.KEY = {
	none: 0,
	back: 6,
	menu: 18,
	backspace: 8,
	tab: 9,
	enter: 13,
	shift: 16,
	ctrl: 17,
	alt: 18,
	pause: 19,
	capslock: 20,
	escape: 27,
	space: 32,
	pageup: 33,
	pagedown: 34,
	end: 35,
	home: 36,
	left: 37,
	up: 38,
	right: 39,
	down: 40,
	select: 41,
	insert: 45,
	Delete: 46,
	0: 48,
	1: 49,
	2: 50,
	3: 51,
	4: 52,
	5: 53,
	6: 54,
	7: 55,
	8: 56,
	9: 57,
	a: 65,
	b: 66,
	c: 67,
	d: 68,
	e: 69,
	f: 70,
	g: 71,
	h: 72,
	i: 73,
	j: 74,
	k: 75,
	l: 76,
	m: 77,
	n: 78,
	o: 79,
	p: 80,
	q: 81,
	r: 82,
	s: 83,
	t: 84,
	u: 85,
	v: 86,
	w: 87,
	x: 88,
	y: 89,
	z: 90,
	num0: 96,
	num1: 97,
	num2: 98,
	num3: 99,
	num4: 100,
	num5: 101,
	num6: 102,
	num7: 103,
	num8: 104,
	num9: 105,
	"*": 106,
	"+": 107,
	"-": 109,
	numdel: 110,
	"/": 111,
	f1: 112,
	f2: 113,
	f3: 114,
	f4: 115,
	f5: 116,
	f6: 117,
	f7: 118,
	f8: 119,
	f9: 120,
	f10: 121,
	f11: 122,
	f12: 123,
	numlock: 144,
	scrolllock: 145,
	";": 186,
	semicolon: 186,
	equal: 187,
	"\x3d": 187,
	",": 188,
	comma: 188,
	dash: 189,
	".": 190,
	period: 190,
	forwardslash: 191,
	grave: 192,
	"[": 219,
	openbracket: 219,
	backslash: 220,
	"]": 221,
	closebracket: 221,
	quote: 222,
	dpadLeft: 1E3,
	dpadRight: 1001,
	dpadUp: 1003,
	dpadDown: 1004,
	dpadCenter: 1005
};
cc.FMT_JPG = 0;
cc.FMT_PNG = 1;
cc.FMT_TIFF = 2;
cc.FMT_RAWDATA = 3;
cc.FMT_WEBP = 4;
cc.FMT_UNKNOWN = 5;
cc.getImageFormatByData = function(a) {
	return 8 < a.length && 137 === a[0] && 80 === a[1] && 78 === a[2] && 71 === a[3] && 13 === a[4] && 10 === a[5] && 26 === a[6] && 10 === a[7] ? cc.FMT_PNG : 2 < a.length && (73 === a[0] && 73 === a[1] || 77 === a[0] && 77 === a[1] || 255 === a[0] && 216 === a[1]) ? cc.FMT_TIFF : cc.FMT_UNKNOWN
};
cc.Point = function(a, b) {
	this.x = a || 0;
	this.y = b || 0
};
cc.p = function(a, b) {
	return void 0 === a ? {
		x: 0,
		y: 0
	} : void 0 === b ? {
		x: a.x,
		y: a.y
	} : {
		x: a,
		y: b
	}
};
cc.pointEqualToPoint = function(a, b) {
	return a && b && a.x === b.x && a.y === b.y
};
cc.Size = function(a, b) {
	this.width = a || 0;
	this.height = b || 0
};
cc.size = function(a, b) {
	return void 0 === a ? {
		width: 0,
		height: 0
	} : void 0 === b ? {
		width: a.width,
		height: a.height
	} : {
		width: a,
		height: b
	}
};
cc.sizeEqualToSize = function(a, b) {
	return a && b && a.width === b.width && a.height === b.height
};
cc.Rect = function(a, b, c, d) {
	this.x = a || 0;
	this.y = b || 0;
	this.width = c || 0;
	this.height = d || 0
};
cc.rect = function(a, b, c, d) {
	return void 0 === a ? {
		x: 0,
		y: 0,
		width: 0,
		height: 0
	} : void 0 === b ? {
		x: a.x,
		y: a.y,
		width: a.width,
		height: a.height
	} : {
		x: a,
		y: b,
		width: c,
		height: d
	}
};
cc.rectEqualToRect = function(a, b) {
	return a && b && a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height
};
cc._rectEqualToZero = function(a) {
	return a && 0 === a.x && 0 === a.y && 0 === a.width && 0 === a.height
};
cc.rectContainsRect = function(a, b) {
	return a && b ? !(a.x >= b.x || a.y >= b.y || a.x + a.width <= b.x + b.width || a.y + a.height <= b.y + b.height) : !1
};
cc.rectGetMaxX = function(a) {
	return a.x + a.width
};
cc.rectGetMidX = function(a) {
	return a.x + a.width / 2
};
cc.rectGetMinX = function(a) {
	return a.x
};
cc.rectGetMaxY = function(a) {
	return a.y + a.height
};
cc.rectGetMidY = function(a) {
	return a.y + a.height / 2
};
cc.rectGetMinY = function(a) {
	return a.y
};
cc.rectContainsPoint = function(a, b) {
	return b.x >= cc.rectGetMinX(a) && b.x <= cc.rectGetMaxX(a) && b.y >= cc.rectGetMinY(a) && b.y <= cc.rectGetMaxY(a)
};
cc.rectIntersectsRect = function(a, b) {
	var c = a.y + a.height,
		d = b.x + b.width,
		e = b.y + b.height;
	return !(a.x + a.width < b.x || d < a.x || c < b.y || e < a.y)
};
cc.rectOverlapsRect = function(a, b) {
	return !(a.x + a.width < b.x || b.x + b.width < a.x || a.y + a.height < b.y || b.y + b.height < a.y)
};
cc.rectUnion = function(a, b) {
	var c = cc.rect(0, 0, 0, 0);
	c.x = Math.min(a.x, b.x);
	c.y = Math.min(a.y, b.y);
	c.width = Math.max(a.x + a.width, b.x + b.width) - c.x;
	c.height = Math.max(a.y + a.height, b.y + b.height) - c.y;
	return c
};
cc.rectIntersection = function(a, b) {
	var c = cc.rect(Math.max(cc.rectGetMinX(a), cc.rectGetMinX(b)), Math.max(cc.rectGetMinY(a), cc.rectGetMinY(b)), 0, 0);
	c.width = Math.min(cc.rectGetMaxX(a), cc.rectGetMaxX(b)) - cc.rectGetMinX(c);
	c.height = Math.min(cc.rectGetMaxY(a), cc.rectGetMaxY(b)) - cc.rectGetMinY(c);
	return c
};
cc.SAXParser = cc.Class.extend({
	_parser: null,
	_isSupportDOMParser: null,
	ctor: function() {
		window.DOMParser ? (this._isSupportDOMParser = !0, this._parser = new DOMParser) : this._isSupportDOMParser = !1
	},
	parse: function(a) {
		return this._parseXML(a)
	},
	_parseXML: function(a) {
		var b;
		this._isSupportDOMParser ? b = this._parser.parseFromString(a, "text/xml") : (b = new ActiveXObject("Microsoft.XMLDOM"), b.async = "false", b.loadXML(a));
		return b
	}
});
cc.PlistParser = cc.SAXParser.extend({
	parse: function(a) {
		a = this._parseXML(a).documentElement;
		if ("plist" !== a.tagName) return cc.warn("Not a plist file!"), {};
		for (var b = null, c = 0, d = a.childNodes.length; c < d && (b = a.childNodes[c], 1 !== b.nodeType); c++);
		return this._parseNode(b)
	},
	_parseNode: function(a) {
		var b = null,
			c = a.tagName;
		if ("dict" === c) b = this._parseDict(a);
		else if ("array" === c) b = this._parseArray(a);
		else if ("string" === c)
			if (1 === a.childNodes.length) b = a.firstChild.nodeValue;
			else
				for (b = "", c = 0; c < a.childNodes.length; c++) b +=
					a.childNodes[c].nodeValue;
		else "false" === c ? b = !1 : "true" === c ? b = !0 : "real" === c ? b = parseFloat(a.firstChild.nodeValue) : "integer" === c && (b = parseInt(a.firstChild.nodeValue, 10));
		return b
	},
	_parseArray: function(a) {
		for (var b = [], c = 0, d = a.childNodes.length; c < d; c++) {
			var e = a.childNodes[c];
			1 === e.nodeType && b.push(this._parseNode(e))
		}
		return b
	},
	_parseDict: function(a) {
		for (var b = {}, c = null, d = 0, e = a.childNodes.length; d < e; d++) {
			var f = a.childNodes[d];
			1 === f.nodeType && ("key" === f.tagName ? c = f.firstChild.nodeValue : b[c] = this._parseNode(f))
		}
		return b
	}
});
cc.saxParser = new cc.SAXParser;
cc.plistParser = new cc.PlistParser;
cc._txtLoader = {
	load: function(a, b, c, d) {
		cc.loader.loadTxt(a, d)
	}
};
cc.loader.register(["txt", "xml", "vsh", "fsh", "atlas"], cc._txtLoader);
cc._jsonLoader = {
	load: function(a, b, c, d) {
		cc.loader.loadJson(a, d)
	}
};
cc.loader.register(["json", "ExportJson"], cc._jsonLoader);
cc._jsLoader = {
	load: function(a, b, c, d) {
		cc.loader.loadJs(a, d)
	}
};
cc.loader.register(["js"], cc._jsLoader);
cc._imgLoader = {
	load: function(a, b, c, d) {
		c = cc.loader.isLoading(a) ? function(a, c) {
			if (a) return d(a);
			var g = cc.textureCache.getTextureForKey(b) || cc.textureCache.handleLoadedTexture(b, c);
			d(null, g)
		} : function(a, c) {
			if (a) return d(a);
			var g = cc.textureCache.handleLoadedTexture(b, c);
			d(null, g)
		};
		cc.loader.loadImg(a, c)
	}
};
cc.loader.register("png jpg bmp jpeg gif ico tiff webp".split(" "), cc._imgLoader);
cc._serverImgLoader = {
	load: function(a, b, c, d) {
		cc._imgLoader.load(c.src, b, c, d)
	}
};
cc.loader.register(["serverImg"], cc._serverImgLoader);
cc._plistLoader = {
	load: function(a, b, c, d) {
		cc.loader.loadTxt(a, function(a, b) {
			if (a) return d(a);
			d(null, cc.plistParser.parse(b))
		})
	}
};
cc.loader.register(["plist"], cc._plistLoader);
cc._fontLoader = {
	TYPE: {
		".eot": "embedded-opentype",
		".ttf": "truetype",
		".ttc": "truetype",
		".woff": "woff",
		".svg": "svg"
	},
	_loadFont: function(a, b, c) {
		var d = document,
			e = cc.path,
			f = this.TYPE,
			g = document.createElement("style");
		g.type = "text/css";
		d.body.appendChild(g);
		var h = "",
			h = isNaN(a - 0) ? h + ("@font-face { font-family:" + a + "; src:") : h + ("@font-face { font-family:'" + a + "'; src:");
		if (b instanceof Array)
			for (var k = 0, m = b.length; k < m; k++) c = e.extname(b[k]).toLowerCase(), h += "url('" + b[k] + "') format('" + f[c] + "')", h += k === m - 1 ? ";" :
				",";
		else c = c.toLowerCase(), h += "url('" + b + "') format('" + f[c] + "');";
		g.textContent += h + "}";
		b = document.createElement("div");
		c = b.style;
		c.fontFamily = a;
		b.innerHTML = ".";
		c.position = "absolute";
		c.left = "-100px";
		c.top = "-100px";
		d.body.appendChild(b)
	},
	load: function(a, b, c, d) {
		b = c.type;
		a = c.name;
		b = c.srcs;
		cc.isString(c) ? (b = cc.path.extname(c), a = cc.path.basename(c, b), this._loadFont(a, c, b)) : this._loadFont(a, b);
		document.fonts ? document.fonts.load("1em " + a).then(function() {
			d(null, !0)
		}, function(a) {
			d(a)
		}) : d(null, !0)
	}
};
cc.loader.register("font eot ttf woff svg ttc".split(" "), cc._fontLoader);
cc._binaryLoader = {
	load: function(a, b, c, d) {
		cc.loader.loadBinary(a, d)
	}
};
cc._csbLoader = {
	load: function(a, b, c, d) {
		cc.loader.loadCsb(a, d)
	}
};
cc.loader.register(["csb"], cc._csbLoader);
window.CocosEngine = cc.ENGINE_VERSION = "Cocos2d-JS v3.16";
cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL = 0;
cc.DIRECTOR_STATS_POSITION = cc.p(0, 0);
cc.DIRECTOR_FPS_INTERVAL = 0.5;
cc.COCOSNODE_RENDER_SUBPIXEL = 1;
cc.SPRITEBATCHNODE_RENDER_SUBPIXEL = 1;
cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA = 1;
cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP = 0;
cc.TEXTURE_ATLAS_USE_VAO = 0;
cc.TEXTURE_NPOT_SUPPORT = 0;
cc.RETINA_DISPLAY_FILENAME_SUFFIX = "-hd";
cc.USE_LA88_LABELS = 1;
cc.SPRITE_DEBUG_DRAW = 0;
cc.SPRITEBATCHNODE_DEBUG_DRAW = 0;
cc.LABELBMFONT_DEBUG_DRAW = 0;
cc.LABELATLAS_DEBUG_DRAW = 0;
cc.DRAWNODE_TOTAL_VERTICES = 2E4;
cc.DEFAULT_ENGINE = cc.ENGINE_VERSION + "-canvas";
cc.ENABLE_STACKABLE_ACTIONS = 1;
cc.ENABLE_GL_STATE_CACHE = 1;
cc.$ = function(a) {
	var b = this === cc ? document : this;
	if (a = a instanceof HTMLElement ? a : b.querySelector(a)) a.find = a.find || cc.$, a.hasClass = a.hasClass || function(a) {
			return this.className.match(RegExp("(\\s|^)" + a + "(\\s|$)"))
		}, a.addClass = a.addClass || function(a) {
			this.hasClass(a) || (this.className && (this.className += " "), this.className += a);
			return this
		}, a.removeClass = a.removeClass || function(a) {
			this.hasClass(a) && (this.className = this.className.replace(a, ""));
			return this
		}, a.remove = a.remove || function() {
			this.parentNode &&
				this.parentNode.removeChild(this);
			return this
		}, a.appendTo = a.appendTo || function(a) {
			a.appendChild(this);
			return this
		}, a.prependTo = a.prependTo || function(a) {
			a.childNodes[0] ? a.insertBefore(this, a.childNodes[0]) : a.appendChild(this);
			return this
		}, a.transforms = a.transforms || function() {
			this.style[cc.$.trans] = cc.$.translate(this.position) + cc.$.rotate(this.rotation) + cc.$.scale(this.scale) + cc.$.skew(this.skew);
			return this
		}, a.position = a.position || {
			x: 0,
			y: 0
		}, a.rotation = a.rotation || 0, a.scale = a.scale || {
			x: 1,
			y: 1
		}, a.skew =
		a.skew || {
			x: 0,
			y: 0
		}, a.translates = function(a, b) {
			this.position.x = a;
			this.position.y = b;
			this.transforms();
			return this
		}, a.rotate = function(a) {
			this.rotation = a;
			this.transforms();
			return this
		}, a.resize = function(a, b) {
			this.scale.x = a;
			this.scale.y = b;
			this.transforms();
			return this
		}, a.setSkew = function(a, b) {
			this.skew.x = a;
			this.skew.y = b;
			this.transforms();
			return this
		};
	return a
};
switch (cc.sys.browserType) {
	case cc.sys.BROWSER_TYPE_FIREFOX:
		cc.$.pfx = "Moz";
		cc.$.hd = !0;
		break;
	case cc.sys.BROWSER_TYPE_CHROME:
	case cc.sys.BROWSER_TYPE_SAFARI:
		cc.$.pfx = "webkit";
		cc.$.hd = !0;
		break;
	case cc.sys.BROWSER_TYPE_OPERA:
		cc.$.pfx = "O";
		cc.$.hd = !1;
		break;
	case cc.sys.BROWSER_TYPE_IE:
		cc.$.pfx = "ms";
		cc.$.hd = !1;
		break;
	default:
		cc.$.pfx = "webkit", cc.$.hd = !0
}
cc.$.trans = cc.$.pfx + "Transform";
cc.$.translate = cc.$.hd ? function(a) {
	return "translate3d(" + a.x + "px, " + a.y + "px, 0) "
} : function(a) {
	return "translate(" + a.x + "px, " + a.y + "px) "
};
cc.$.rotate = cc.$.hd ? function(a) {
	return "rotateZ(" + a + "deg) "
} : function(a) {
	return "rotate(" + a + "deg) "
};
cc.$.scale = function(a) {
	return "scale(" + a.x + ", " + a.y + ") "
};
cc.$.skew = function(a) {
	return "skewX(" + -a.x + "deg) skewY(" + a.y + "deg)"
};
cc.$new = function(a) {
	return cc.$(document.createElement(a))
};
cc.$.findpos = function(a) {
	var b = 0,
		c = 0;
	do b += a.offsetLeft, c += a.offsetTop; while (a = a.offsetParent);
	return {
		x: b,
		y: c
	}
};
cc.INVALID_INDEX = -1;
cc.PI = Math.PI;
cc.FLT_MAX = parseFloat("3.402823466e+38F");
cc.FLT_MIN = parseFloat("1.175494351e-38F");
cc.RAD = cc.PI / 180;
cc.DEG = 180 / cc.PI;
cc.UINT_MAX = 4294967295;
cc.swap = function(a, b, c) {
	if (!cc.isObject(c) || cc.isUndefined(c.x) || cc.isUndefined(c.y)) cc.log(cc._LogInfos.swap);
	else {
		var d = c[a];
		c[a] = c[b];
		c[b] = d
	}
};
cc.lerp = function(a, b, c) {
	return a + (b - a) * c
};
cc.rand = function() {
	return 16777215 * Math.random()
};
cc.randomMinus1To1 = function() {
	return 2 * (Math.random() - 0.5)
};
cc.random0To1 = Math.random;
cc.degreesToRadians = function(a) {
	return a * cc.RAD
};
cc.radiansToDegrees = function(a) {
	return a * cc.DEG
};
cc.radiansToDegress = function(a) {
	cc.log(cc._LogInfos.radiansToDegress);
	return a * cc.DEG
};
cc.REPEAT_FOREVER = Number.MAX_VALUE - 1;
cc.nodeDrawSetup = function(a) {
	a._shaderProgram && (a._glProgramState.apply(), a._shaderProgram.setUniformForModelViewAndProjectionMatrixWithMat4())
};
cc.enableDefaultGLStates = function() {};
cc.disableDefaultGLStates = function() {};
cc.incrementGLDraws = function(a) {
	cc.g_NumberOfDraws += a
};
cc.FLT_EPSILON = 1.192092896E-7;
cc.contentScaleFactor = function() {
	return cc.director._contentScaleFactor
};
cc.pointPointsToPixels = function(a) {
	var b = cc.contentScaleFactor();
	return cc.p(a.x * b, a.y * b)
};
cc.pointPixelsToPoints = function(a) {
	var b = cc.contentScaleFactor();
	return cc.p(a.x / b, a.y / b)
};
cc._pointPixelsToPointsOut = function(a, b) {
	var c = cc.contentScaleFactor();
	b.x = a.x / c;
	b.y = a.y / c
};
cc.sizePointsToPixels = function(a) {
	var b = cc.contentScaleFactor();
	return cc.size(a.width * b, a.height * b)
};
cc.sizePixelsToPoints = function(a) {
	var b = cc.contentScaleFactor();
	return cc.size(a.width / b, a.height / b)
};
cc._sizePixelsToPointsOut = function(a, b) {
	var c = cc.contentScaleFactor();
	b.width = a.width / c;
	b.height = a.height / c
};
cc.rectPixelsToPoints = function(a) {
	var b = cc.contentScaleFactor();
	return cc.rect(a.x / b, a.y / b, a.width / b, a.height / b)
};
cc.rectPointsToPixels = function(a) {
	var b = cc.contentScaleFactor();
	return cc.rect(a.x * b, a.y * b, a.width * b, a.height * b)
};
cc.ONE = 1;
cc.ZERO = 0;
cc.SRC_ALPHA = 770;
cc.SRC_ALPHA_SATURATE = 776;
cc.SRC_COLOR = 768;
cc.DST_ALPHA = 772;
cc.DST_COLOR = 774;
cc.ONE_MINUS_SRC_ALPHA = 771;
cc.ONE_MINUS_SRC_COLOR = 769;
cc.ONE_MINUS_DST_ALPHA = 773;
cc.ONE_MINUS_DST_COLOR = 775;
cc.ONE_MINUS_CONSTANT_ALPHA = 32772;
cc.ONE_MINUS_CONSTANT_COLOR = 32770;
cc.LINEAR = 9729;
cc.REPEAT = 10497;
cc.CLAMP_TO_EDGE = 33071;
cc.MIRRORED_REPEAT = 33648;
cc.BLEND_SRC = cc.SRC_ALPHA;
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	cc._renderType === cc.game.RENDER_TYPE_WEBGL && cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA && (cc.BLEND_SRC = cc.ONE)
});
cc.BLEND_DST = cc.ONE_MINUS_SRC_ALPHA;
cc.checkGLErrorDebug = function() {
	if (cc.renderMode === cc.game.RENDER_TYPE_WEBGL) {
		var a = cc._renderContext.getError();
		a && cc.log(cc._LogInfos.checkGLErrorDebug, a)
	}
};
cc.ORIENTATION_PORTRAIT = 1;
cc.ORIENTATION_LANDSCAPE = 2;
cc.ORIENTATION_AUTO = 3;
cc.CONCURRENCY_HTTP_REQUEST_COUNT = cc.sys.isMobile ? 20 : 0;
cc.BATCH_VERTEX_COUNT = 2E3;
cc.VERTEX_ATTRIB_FLAG_NONE = 0;
cc.VERTEX_ATTRIB_FLAG_POSITION = 1;
cc.VERTEX_ATTRIB_FLAG_COLOR = 2;
cc.VERTEX_ATTRIB_FLAG_TEX_COORDS = 4;
cc.VERTEX_ATTRIB_FLAG_POS_COLOR_TEX = cc.VERTEX_ATTRIB_FLAG_POSITION | cc.VERTEX_ATTRIB_FLAG_COLOR | cc.VERTEX_ATTRIB_FLAG_TEX_COORDS;
cc.GL_ALL = 0;
cc.VERTEX_ATTRIB_POSITION = 0;
cc.VERTEX_ATTRIB_COLOR = 1;
cc.VERTEX_ATTRIB_TEX_COORDS = 2;
cc.VERTEX_ATTRIB_MAX = 7;
cc.UNIFORM_PMATRIX = 0;
cc.UNIFORM_MVMATRIX = 1;
cc.UNIFORM_MVPMATRIX = 2;
cc.UNIFORM_TIME = 3;
cc.UNIFORM_SINTIME = 4;
cc.UNIFORM_COSTIME = 5;
cc.UNIFORM_RANDOM01 = 6;
cc.UNIFORM_SAMPLER = 7;
cc.UNIFORM_MAX = 8;
cc.SHADER_POSITION_TEXTURECOLOR = "ShaderPositionTextureColor";
cc.SHADER_SPRITE_POSITION_TEXTURECOLOR = "ShaderSpritePositionTextureColor";
cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY = "ShaderSpritePositionTextureColorGray";
cc.SHADER_POSITION_TEXTURECOLORALPHATEST = "ShaderPositionTextureColorAlphaTest";
cc.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST = "ShaderSpritePositionTextureColorAlphaTest";
cc.SHADER_POSITION_COLOR = "ShaderPositionColor";
cc.SHADER_SPRITE_POSITION_COLOR = "ShaderSpritePositionColor";
cc.SHADER_POSITION_TEXTURE = "ShaderPositionTexture";
cc.SHADER_POSITION_TEXTURE_UCOLOR = "ShaderPositionTextureUColor";
cc.SHADER_POSITION_TEXTUREA8COLOR = "ShaderPositionTextureA8Color";
cc.SHADER_POSITION_UCOLOR = "ShaderPositionUColor";
cc.SHADER_POSITION_LENGTHTEXTURECOLOR = "ShaderPositionLengthTextureColor";
cc.UNIFORM_PMATRIX_S = "CC_PMatrix";
cc.UNIFORM_MVMATRIX_S = "CC_MVMatrix";
cc.UNIFORM_MVPMATRIX_S = "CC_MVPMatrix";
cc.UNIFORM_TIME_S = "CC_Time";
cc.UNIFORM_SINTIME_S = "CC_SinTime";
cc.UNIFORM_COSTIME_S = "CC_CosTime";
cc.UNIFORM_RANDOM01_S = "CC_Random01";
cc.UNIFORM_SAMPLER_S = "CC_Texture0";
cc.UNIFORM_ALPHA_TEST_VALUE_S = "CC_alpha_value";
cc.ATTRIBUTE_NAME_COLOR = "a_color";
cc.ATTRIBUTE_NAME_POSITION = "a_position";
cc.ATTRIBUTE_NAME_TEX_COORD = "a_texCoord";
cc.ATTRIBUTE_NAME_MVMAT = "a_mvMatrix";
cc.ITEM_SIZE = 32;
cc.CURRENT_ITEM = 3233828865;
cc.ZOOM_ACTION_TAG = 3233828866;
cc.NORMAL_TAG = 8801;
cc.SELECTED_TAG = 8802;
cc.DISABLE_TAG = 8803;
cc.arrayVerifyType = function(a, b) {
	if (a && 0 < a.length)
		for (var c = 0; c < a.length; c++)
			if (!(a[c] instanceof b)) return cc.log("element type is wrong!"), !1;
	return !0
};
cc.arrayRemoveObject = function(a, b) {
	for (var c = 0, d = a.length; c < d; c++)
		if (a[c] === b) {
			a.splice(c, 1);
			break
		}
};
cc.arrayRemoveArray = function(a, b) {
	for (var c = 0, d = b.length; c < d; c++) cc.arrayRemoveObject(a, b[c])
};
cc.arrayAppendObjectsToIndex = function(a, b, c) {
	a.splice.apply(a, [c, 0].concat(b));
	return a
};
cc.copyArray = function(a) {
	var b, c = a.length,
		d = Array(c);
	for (b = 0; b < c; b += 1) d[b] = a[b];
	return d
};
cc.Color = function(a, b, c, d) {
	this._val = ((a || 0) << 24 >>> 0) + ((b || 0) << 16) + ((c || 0) << 8) + ("number" === typeof d ? d : 255)
};
_p = cc.Color.prototype;
_p._getR = function() {
	return (this._val & 4278190080) >>> 24
};
_p._setR = function(a) {
	this._val = this._val & 16777215 | a << 24 >>> 0
};
_p._getG = function() {
	return (this._val & 16711680) >> 16
};
_p._setG = function(a) {
	this._val = this._val & 4278255615 | a << 16
};
_p._getB = function() {
	return (this._val & 65280) >> 8
};
_p._setB = function(a) {
	this._val = this._val & 4294902015 | a << 8
};
_p._getA = function() {
	return this._val & 255
};
_p._setA = function(a) {
	this._val = this._val & 4294967040 | a
};
cc.defineGetterSetter(_p, "r", _p._getR, _p._setR);
cc.defineGetterSetter(_p, "g", _p._getG, _p._setG);
cc.defineGetterSetter(_p, "b", _p._getB, _p._setB);
cc.defineGetterSetter(_p, "a", _p._getA, _p._setA);
cc.color = function(a, b, c, d) {
	return void 0 === a ? new cc.Color(0, 0, 0, 255) : "object" === typeof a ? new cc.Color(a.r, a.g, a.b, null == a.a ? 255 : a.a) : "string" === typeof a ? cc.hexToColor(a) : new cc.Color(a, b, c, null == d ? 255 : d)
};
cc.colorEqual = function(a, b) {
	return a.r === b.r && a.g === b.g && a.b === b.b
};
cc.Acceleration = function(a, b, c, d) {
	this.x = a || 0;
	this.y = b || 0;
	this.z = c || 0;
	this.timestamp = d || 0
};
cc.Vertex2F = function(a, b, c, d) {
	this._arrayBuffer = c || new ArrayBuffer(cc.Vertex2F.BYTES_PER_ELEMENT);
	this._offset = d || 0;
	this._view = new Float32Array(this._arrayBuffer, this._offset, 2);
	this._view[0] = a || 0;
	this._view[1] = b || 0
};
cc.Vertex2F.BYTES_PER_ELEMENT = 8;
_p = cc.Vertex2F.prototype;
_p._getX = function() {
	return this._view[0]
};
_p._setX = function(a) {
	this._view[0] = a
};
_p._getY = function() {
	return this._view[1]
};
_p._setY = function(a) {
	this._view[1] = a
};
cc.defineGetterSetter(_p, "x", _p._getX, _p._setX);
cc.defineGetterSetter(_p, "y", _p._getY, _p._setY);
cc.Vertex3F = function(a, b, c, d, e) {
	this._arrayBuffer = d || new ArrayBuffer(cc.Vertex3F.BYTES_PER_ELEMENT);
	this._offset = e || 0;
	this._view = new Float32Array(this._arrayBuffer, this._offset, 3);
	this._view[0] = a || 0;
	this._view[1] = b || 0;
	this._view[2] = c || 0
};
cc.Vertex3F.BYTES_PER_ELEMENT = 12;
_p = cc.Vertex3F.prototype;
_p._getX = function() {
	return this._view[0]
};
_p._setX = function(a) {
	this._view[0] = a
};
_p._getY = function() {
	return this._view[1]
};
_p._setY = function(a) {
	this._view[1] = a
};
_p._getZ = function() {
	return this._view[2]
};
_p._setZ = function(a) {
	this._view[2] = a
};
cc.defineGetterSetter(_p, "x", _p._getX, _p._setX);
cc.defineGetterSetter(_p, "y", _p._getY, _p._setY);
cc.defineGetterSetter(_p, "z", _p._getZ, _p._setZ);
cc.Tex2F = function(a, b, c, d) {
	this._arrayBuffer = c || new ArrayBuffer(cc.Tex2F.BYTES_PER_ELEMENT);
	this._offset = d || 0;
	this._view = new Float32Array(this._arrayBuffer, this._offset, 2);
	this._view[0] = a || 0;
	this._view[1] = b || 0
};
cc.Tex2F.BYTES_PER_ELEMENT = 8;
_p = cc.Tex2F.prototype;
_p._getU = function() {
	return this._view[0]
};
_p._setU = function(a) {
	this._view[0] = a
};
_p._getV = function() {
	return this._view[1]
};
_p._setV = function(a) {
	this._view[1] = a
};
cc.defineGetterSetter(_p, "u", _p._getU, _p._setU);
cc.defineGetterSetter(_p, "v", _p._getV, _p._setV);
cc.Quad2 = function(a, b, c, d, e, f) {
	this._arrayBuffer = e || new ArrayBuffer(cc.Quad2.BYTES_PER_ELEMENT);
	this._offset = f || 0;
	e = this._arrayBuffer;
	f = this._offset;
	var g = cc.Vertex2F.BYTES_PER_ELEMENT;
	this._tl = a ? new cc.Vertex2F(a.x, a.y, e, f) : new cc.Vertex2F(0, 0, e, f);
	f += g;
	this._tr = b ? new cc.Vertex2F(b.x, b.y, e, f) : new cc.Vertex2F(0, 0, e, f);
	f += g;
	this._bl = c ? new cc.Vertex2F(c.x, c.y, e, f) : new cc.Vertex2F(0, 0, e, f);
	f += g;
	this._br = d ? new cc.Vertex2F(d.x, d.y, e, f) : new cc.Vertex2F(0, 0, e, f)
};
cc.Quad2.BYTES_PER_ELEMENT = 32;
_p = cc.Quad2.prototype;
_p._getTL = function() {
	return this._tl
};
_p._setTL = function(a) {
	this._tl._view[0] = a.x;
	this._tl._view[1] = a.y
};
_p._getTR = function() {
	return this._tr
};
_p._setTR = function(a) {
	this._tr._view[0] = a.x;
	this._tr._view[1] = a.y
};
_p._getBL = function() {
	return this._bl
};
_p._setBL = function(a) {
	this._bl._view[0] = a.x;
	this._bl._view[1] = a.y
};
_p._getBR = function() {
	return this._br
};
_p._setBR = function(a) {
	this._br._view[0] = a.x;
	this._br._view[1] = a.y
};
cc.defineGetterSetter(_p, "tl", _p._getTL, _p._setTL);
cc.defineGetterSetter(_p, "tr", _p._getTR, _p._setTR);
cc.defineGetterSetter(_p, "bl", _p._getBL, _p._setBL);
cc.defineGetterSetter(_p, "br", _p._getBR, _p._setBR);
cc.Quad3 = function(a, b, c, d, e, f) {
	this._arrayBuffer = e || new ArrayBuffer(cc.Quad3.BYTES_PER_ELEMENT);
	this._offset = f || 0;
	e = this._arrayBuffer;
	f = this._offset;
	var g = cc.Vertex3F.BYTES_PER_ELEMENT;
	this.bl = a ? new cc.Vertex3F(a.x, a.y, a.z, e, f) : new cc.Vertex3F(0, 0, 0, e, f);
	f += g;
	this.br = b ? new cc.Vertex3F(b.x, b.y, b.z, e, f) : new cc.Vertex3F(0, 0, 0, e, f);
	f += g;
	this.tl = c ? new cc.Vertex3F(c.x, c.y, c.z, e, f) : new cc.Vertex3F(0, 0, 0, e, f);
	f += g;
	this.tr = d ? new cc.Vertex3F(d.x, d.y, d.z, e, f) : new cc.Vertex3F(0, 0, 0, e, f)
};
cc.Quad3.BYTES_PER_ELEMENT = 48;
cc.V3F_C4B_T2F = function(a, b, c, d, e) {
	this._arrayBuffer = d || new ArrayBuffer(cc.V3F_C4B_T2F.BYTES_PER_ELEMENT);
	this._offset = e || 0;
	d = this._arrayBuffer;
	e = this._offset;
	this._vertices = a ? new cc.Vertex3F(a.x, a.y, a.z, d, e) : new cc.Vertex3F(0, 0, 0, d, e);
	e += cc.Vertex3F.BYTES_PER_ELEMENT;
	this._colors = b ? new cc._WebGLColor(b.r, b.g, b.b, b.a, d, e) : new cc._WebGLColor(0, 0, 0, 0, d, e);
	e += cc._WebGLColor.BYTES_PER_ELEMENT;
	this._texCoords = c ? new cc.Tex2F(c.u, c.v, d, e) : new cc.Tex2F(0, 0, d, e)
};
cc.V3F_C4B_T2F.BYTES_PER_ELEMENT = 24;
_p = cc.V3F_C4B_T2F.prototype;
_p._getVertices = function() {
	return this._vertices
};
_p._setVertices = function(a) {
	var b = this._vertices;
	b._view[0] = a.x;
	b._view[1] = a.y;
	b._view[2] = a.z
};
_p._getColor = function() {
	return this._colors
};
_p._setColor = function(a) {
	var b = this._colors;
	b._view[0] = a.r;
	b._view[1] = a.g;
	b._view[2] = a.b;
	b._view[3] = a.a
};
_p._getTexCoords = function() {
	return this._texCoords
};
_p._setTexCoords = function(a) {
	this._texCoords._view[0] = a.u;
	this._texCoords._view[1] = a.v
};
cc.defineGetterSetter(_p, "vertices", _p._getVertices, _p._setVertices);
cc.defineGetterSetter(_p, "colors", _p._getColor, _p._setColor);
cc.defineGetterSetter(_p, "texCoords", _p._getTexCoords, _p._setTexCoords);
cc.V3F_C4B_T2F_Quad = function(a, b, c, d, e, f) {
	this._arrayBuffer = e || new ArrayBuffer(cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT);
	this._offset = f || 0;
	e = this._arrayBuffer;
	f = this._offset;
	var g = cc.V3F_C4B_T2F.BYTES_PER_ELEMENT;
	this._tl = a ? new cc.V3F_C4B_T2F(a.vertices, a.colors, a.texCoords, e, f) : new cc.V3F_C4B_T2F(null, null, null, e, f);
	f += g;
	this._bl = b ? new cc.V3F_C4B_T2F(b.vertices, b.colors, b.texCoords, e, f) : new cc.V3F_C4B_T2F(null, null, null, e, f);
	f += g;
	this._tr = c ? new cc.V3F_C4B_T2F(c.vertices, c.colors, c.texCoords, e, f) : new cc.V3F_C4B_T2F(null,
		null, null, e, f);
	f += g;
	this._br = d ? new cc.V3F_C4B_T2F(d.vertices, d.colors, d.texCoords, e, f) : new cc.V3F_C4B_T2F(null, null, null, e, f)
};
cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT = 96;
_p = cc.V3F_C4B_T2F_Quad.prototype;
_p._getTL = function() {
	return this._tl
};
_p._setTL = function(a) {
	var b = this._tl;
	b.vertices = a.vertices;
	b.colors = a.colors;
	b.texCoords = a.texCoords
};
_p._getBL = function() {
	return this._bl
};
_p._setBL = function(a) {
	var b = this._bl;
	b.vertices = a.vertices;
	b.colors = a.colors;
	b.texCoords = a.texCoords
};
_p._getTR = function() {
	return this._tr
};
_p._setTR = function(a) {
	var b = this._tr;
	b.vertices = a.vertices;
	b.colors = a.colors;
	b.texCoords = a.texCoords
};
_p._getBR = function() {
	return this._br
};
_p._setBR = function(a) {
	var b = this._br;
	b.vertices = a.vertices;
	b.colors = a.colors;
	b.texCoords = a.texCoords
};
_p._getArrayBuffer = function() {
	return this._arrayBuffer
};
cc.defineGetterSetter(_p, "tl", _p._getTL, _p._setTL);
cc.defineGetterSetter(_p, "tr", _p._getTR, _p._setTR);
cc.defineGetterSetter(_p, "bl", _p._getBL, _p._setBL);
cc.defineGetterSetter(_p, "br", _p._getBR, _p._setBR);
cc.defineGetterSetter(_p, "arrayBuffer", _p._getArrayBuffer, null);
cc.V3F_C4B_T2F_QuadZero = function() {
	return new cc.V3F_C4B_T2F_Quad
};
cc.V3F_C4B_T2F_QuadCopy = function(a) {
	if (!a) return cc.V3F_C4B_T2F_QuadZero();
	var b = a.tl,
		c = a.bl,
		d = a.tr;
	a = a.br;
	return {
		tl: {
			vertices: {
				x: b.vertices.x,
				y: b.vertices.y,
				z: b.vertices.z
			},
			colors: {
				r: b.colors.r,
				g: b.colors.g,
				b: b.colors.b,
				a: b.colors.a
			},
			texCoords: {
				u: b.texCoords.u,
				v: b.texCoords.v
			}
		},
		bl: {
			vertices: {
				x: c.vertices.x,
				y: c.vertices.y,
				z: c.vertices.z
			},
			colors: {
				r: c.colors.r,
				g: c.colors.g,
				b: c.colors.b,
				a: c.colors.a
			},
			texCoords: {
				u: c.texCoords.u,
				v: c.texCoords.v
			}
		},
		tr: {
			vertices: {
				x: d.vertices.x,
				y: d.vertices.y,
				z: d.vertices.z
			},
			colors: {
				r: d.colors.r,
				g: d.colors.g,
				b: d.colors.b,
				a: d.colors.a
			},
			texCoords: {
				u: d.texCoords.u,
				v: d.texCoords.v
			}
		},
		br: {
			vertices: {
				x: a.vertices.x,
				y: a.vertices.y,
				z: a.vertices.z
			},
			colors: {
				r: a.colors.r,
				g: a.colors.g,
				b: a.colors.b,
				a: a.colors.a
			},
			texCoords: {
				u: a.texCoords.u,
				v: a.texCoords.v
			}
		}
	}
};
cc.V3F_C4B_T2F_QuadsCopy = function(a) {
	if (!a) return [];
	for (var b = [], c = 0; c < a.length; c++) b.push(cc.V3F_C4B_T2F_QuadCopy(a[c]));
	return b
};
cc.V2F_C4B_T2F = function(a, b, c, d, e) {
	this._arrayBuffer = d || new ArrayBuffer(cc.V2F_C4B_T2F.BYTES_PER_ELEMENT);
	this._offset = e || 0;
	d = this._arrayBuffer;
	e = this._offset;
	this._vertices = a ? new cc.Vertex2F(a.x, a.y, d, e) : new cc.Vertex2F(0, 0, d, e);
	e += cc.Vertex2F.BYTES_PER_ELEMENT;
	this._colors = b ? new cc._WebGLColor(b.r, b.g, b.b, b.a, d, e) : new cc._WebGLColor(0, 0, 0, 0, d, e);
	e += cc._WebGLColor.BYTES_PER_ELEMENT;
	this._texCoords = c ? new cc.Tex2F(c.u, c.v, d, e) : new cc.Tex2F(0, 0, d, e)
};
cc.V2F_C4B_T2F.BYTES_PER_ELEMENT = 20;
_p = cc.V2F_C4B_T2F.prototype;
_p._getVertices = function() {
	return this._vertices
};
_p._setVertices = function(a) {
	this._vertices._view[0] = a.x;
	this._vertices._view[1] = a.y
};
_p._getColor = function() {
	return this._colors
};
_p._setColor = function(a) {
	var b = this._colors;
	b._view[0] = a.r;
	b._view[1] = a.g;
	b._view[2] = a.b;
	b._view[3] = a.a
};
_p._getTexCoords = function() {
	return this._texCoords
};
_p._setTexCoords = function(a) {
	this._texCoords._view[0] = a.u;
	this._texCoords._view[1] = a.v
};
cc.defineGetterSetter(_p, "vertices", _p._getVertices, _p._setVertices);
cc.defineGetterSetter(_p, "colors", _p._getColor, _p._setColor);
cc.defineGetterSetter(_p, "texCoords", _p._getTexCoords, _p._setTexCoords);
cc.V2F_C4B_T2F_Triangle = function(a, b, c, d, e) {
	this._arrayBuffer = d || new ArrayBuffer(cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT);
	this._offset = e || 0;
	d = this._arrayBuffer;
	e = this._offset;
	var f = cc.V2F_C4B_T2F.BYTES_PER_ELEMENT;
	this._a = a ? new cc.V2F_C4B_T2F(a.vertices, a.colors, a.texCoords, d, e) : new cc.V2F_C4B_T2F(null, null, null, d, e);
	e += f;
	this._b = b ? new cc.V2F_C4B_T2F(b.vertices, b.colors, b.texCoords, d, e) : new cc.V2F_C4B_T2F(null, null, null, d, e);
	e += f;
	this._c = c ? new cc.V2F_C4B_T2F(c.vertices, c.colors, c.texCoords, d, e) :
		new cc.V2F_C4B_T2F(null, null, null, d, e)
};
cc.V2F_C4B_T2F_Triangle.BYTES_PER_ELEMENT = 60;
_p = cc.V2F_C4B_T2F_Triangle.prototype;
_p._getA = function() {
	return this._a
};
_p._setA = function(a) {
	var b = this._a;
	b.vertices = a.vertices;
	b.colors = a.colors;
	b.texCoords = a.texCoords
};
_p._getB = function() {
	return this._b
};
_p._setB = function(a) {
	var b = this._b;
	b.vertices = a.vertices;
	b.colors = a.colors;
	b.texCoords = a.texCoords
};
_p._getC = function() {
	return this._c
};
_p._setC = function(a) {
	var b = this._c;
	b.vertices = a.vertices;
	b.colors = a.colors;
	b.texCoords = a.texCoords
};
cc.defineGetterSetter(_p, "a", _p._getA, _p._setA);
cc.defineGetterSetter(_p, "b", _p._getB, _p._setB);
cc.defineGetterSetter(_p, "c", _p._getC, _p._setC);
cc.vertex2 = function(a, b) {
	return new cc.Vertex2F(a, b)
};
cc.vertex3 = function(a, b, c) {
	return new cc.Vertex3F(a, b, c)
};
cc.tex2 = function(a, b) {
	return new cc.Tex2F(a, b)
};
cc.BlendFunc = function(a, b) {
	this.src = a;
	this.dst = b
};
cc.blendFuncDisable = function() {
	return new cc.BlendFunc(cc.ONE, cc.ZERO)
};
cc.hexToColor = function(a) {
	a = a.replace(/^#?/, "0x");
	a = parseInt(a);
	return new cc.Color(a >> 16, (a >> 8) % 256, a % 256)
};
cc.colorToHex = function(a) {
	var b = a.r.toString(16),
		c = a.g.toString(16),
		d = a.b.toString(16);
	return "#" + (16 > a.r ? "0" + b : b) + (16 > a.g ? "0" + c : c) + (16 > a.b ? "0" + d : d)
};
cc.TEXT_ALIGNMENT_LEFT = 0;
cc.TEXT_ALIGNMENT_CENTER = 1;
cc.TEXT_ALIGNMENT_RIGHT = 2;
cc.VERTICAL_TEXT_ALIGNMENT_TOP = 0;
cc.VERTICAL_TEXT_ALIGNMENT_CENTER = 1;
cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM = 2;
cc._Dictionary = cc.Class.extend({
	_keyMapTb: null,
	_valueMapTb: null,
	__currId: 0,
	ctor: function() {
		this._keyMapTb = {};
		this._valueMapTb = {};
		this.__currId = 2 << (0 | 10 * Math.random())
	},
	__getKey: function() {
		this.__currId++;
		return "key_" + this.__currId
	},
	setObject: function(a, b) {
		if (null != b) {
			var c = this.__getKey();
			this._keyMapTb[c] = b;
			this._valueMapTb[c] = a
		}
	},
	objectForKey: function(a) {
		if (null == a) return null;
		var b = this._keyMapTb,
			c;
		for (c in b)
			if (b[c] === a) return this._valueMapTb[c];
		return null
	},
	valueForKey: function(a) {
		return this.objectForKey(a)
	},
	removeObjectForKey: function(a) {
		if (null != a) {
			var b = this._keyMapTb,
				c;
			for (c in b)
				if (b[c] === a) {
					delete this._valueMapTb[c];
					delete b[c];
					break
				}
		}
	},
	removeObjectsForKeys: function(a) {
		if (null != a)
			for (var b = 0; b < a.length; b++) this.removeObjectForKey(a[b])
	},
	allKeys: function() {
		var a = [],
			b = this._keyMapTb,
			c;
		for (c in b) a.push(b[c]);
		return a
	},
	removeAllObjects: function() {
		this._keyMapTb = {};
		this._valueMapTb = {}
	},
	count: function() {
		return this.allKeys().length
	}
});
cc.FontDefinition = function(a) {
	this.fontName = "Arial";
	this.fontSize = 12;
	this.textAlign = cc.TEXT_ALIGNMENT_CENTER;
	this.verticalAlign = cc.VERTICAL_TEXT_ALIGNMENT_TOP;
	this.fillStyle = cc.color(255, 255, 255, 255);
	this.boundingHeight = this.boundingWidth = 0;
	this.strokeEnabled = !1;
	this.strokeStyle = cc.color(255, 255, 255, 255);
	this.lineWidth = 1;
	this.fontWeight = this.fontStyle = this.lineHeight = "normal";
	this.shadowEnabled = !1;
	this.shadowBlur = this.shadowOffsetY = this.shadowOffsetX = 0;
	this.shadowOpacity = 1;
	if (a && a instanceof Object)
		for (var b in a) this[b] =
			a[b]
};
cc.FontDefinition.prototype._getCanvasFontStr = function() {
	return this.fontStyle + " " + this.fontWeight + " " + this.fontSize + "px/" + (this.lineHeight.charAt ? this.lineHeight : this.lineHeight + "px") + " '" + this.fontName + "'"
};
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	cc._renderType === cc.game.RENDER_TYPE_WEBGL && (cc._WebGLColor = function(a, b, c, d, e, f) {
			this._arrayBuffer = e || new ArrayBuffer(cc._WebGLColor.BYTES_PER_ELEMENT);
			this._offset = f || 0;
			this._view = new Uint8Array(this._arrayBuffer, this._offset, 4);
			this._view[0] = a || 0;
			this._view[1] = b || 0;
			this._view[2] = c || 0;
			this._view[3] = null == d ? 255 : d;
			void 0 === d && (this.a_undefined = !0)
		}, cc._WebGLColor.BYTES_PER_ELEMENT = 4, _p = cc._WebGLColor.prototype, _p._getR = function() {
			return this._view[0]
		},
		_p._setR = function(a) {
			this._view[0] = 0 > a ? 0 : a
		}, _p._getG = function() {
			return this._view[1]
		}, _p._setG = function(a) {
			this._view[1] = 0 > a ? 0 : a
		}, _p._getB = function() {
			return this._view[2]
		}, _p._setB = function(a) {
			this._view[2] = 0 > a ? 0 : a
		}, _p._getA = function() {
			return this._view[3]
		}, _p._setA = function(a) {
			this._view[3] = 0 > a ? 0 : a
		}, cc.defineGetterSetter(_p, "r", _p._getR, _p._setR), cc.defineGetterSetter(_p, "g", _p._getG, _p._setG), cc.defineGetterSetter(_p, "b", _p._getB, _p._setB), cc.defineGetterSetter(_p, "a", _p._getA, _p._setA))
});
_p = cc.color;
_p._getWhite = function() {
	return cc.color(255, 255, 255)
};
_p._getYellow = function() {
	return cc.color(255, 255, 0)
};
_p._getBlue = function() {
	return cc.color(0, 0, 255)
};
_p._getGreen = function() {
	return cc.color(0, 255, 0)
};
_p._getRed = function() {
	return cc.color(255, 0, 0)
};
_p._getMagenta = function() {
	return cc.color(255, 0, 255)
};
_p._getBlack = function() {
	return cc.color(0, 0, 0)
};
_p._getOrange = function() {
	return cc.color(255, 127, 0)
};
_p._getGray = function() {
	return cc.color(166, 166, 166)
};
cc.defineGetterSetter(_p, "WHITE", _p._getWhite);
cc.defineGetterSetter(_p, "YELLOW", _p._getYellow);
cc.defineGetterSetter(_p, "BLUE", _p._getBlue);
cc.defineGetterSetter(_p, "GREEN", _p._getGreen);
cc.defineGetterSetter(_p, "RED", _p._getRed);
cc.defineGetterSetter(_p, "MAGENTA", _p._getMagenta);
cc.defineGetterSetter(_p, "BLACK", _p._getBlack);
cc.defineGetterSetter(_p, "ORANGE", _p._getOrange);
cc.defineGetterSetter(_p, "GRAY", _p._getGray);
cc.BlendFunc._disable = function() {
	return new cc.BlendFunc(cc.ONE, cc.ZERO)
};
cc.BlendFunc._alphaPremultiplied = function() {
	return new cc.BlendFunc(cc.ONE, cc.ONE_MINUS_SRC_ALPHA)
};
cc.BlendFunc._alphaNonPremultiplied = function() {
	return new cc.BlendFunc(cc.SRC_ALPHA, cc.ONE_MINUS_SRC_ALPHA)
};
cc.BlendFunc._additive = function() {
	return new cc.BlendFunc(cc.SRC_ALPHA, cc.ONE)
};
cc.defineGetterSetter(cc.BlendFunc, "DISABLE", cc.BlendFunc._disable);
cc.defineGetterSetter(cc.BlendFunc, "ALPHA_PREMULTIPLIED", cc.BlendFunc._alphaPremultiplied);
cc.defineGetterSetter(cc.BlendFunc, "ALPHA_NON_PREMULTIPLIED", cc.BlendFunc._alphaNonPremultiplied);
cc.defineGetterSetter(cc.BlendFunc, "ADDITIVE", cc.BlendFunc._additive);
cc.Touches = [];
cc.TouchesIntergerDict = {};
cc.DENSITYDPI_DEVICE = "device-dpi";
cc.DENSITYDPI_HIGH = "high-dpi";
cc.DENSITYDPI_MEDIUM = "medium-dpi";
cc.DENSITYDPI_LOW = "low-dpi";
var __BrowserGetter = {
	init: function() {
		this.html = document.documentElement
	},
	availWidth: function(a) {
		return a && a !== this.html ? a.clientWidth : window.innerWidth
	},
	availHeight: function(a) {
		return a && a !== this.html ? a.clientHeight : window.innerHeight
	},
	meta: {
		width: "device-width"
	},
	adaptationType: cc.sys.browserType
}; -
1 < window.navigator.userAgent.indexOf("OS 8_1_") && (__BrowserGetter.adaptationType = cc.sys.BROWSER_TYPE_MIUI);
cc.sys.os === cc.sys.OS_IOS && (__BrowserGetter.adaptationType = cc.sys.BROWSER_TYPE_SAFARI);
switch (__BrowserGetter.adaptationType) {
	case cc.sys.BROWSER_TYPE_SAFARI:
		__BrowserGetter.meta["minimal-ui"] = "true";
		break;
	case cc.sys.BROWSER_TYPE_CHROME:
		__BrowserGetter.__defineGetter__("target-densitydpi", function() {
			return cc.view._targetDensityDPI
		});
		break;
	case cc.sys.BROWSER_TYPE_MIUI:
		__BrowserGetter.init = function(a) {
			if (!a.__resizeWithBrowserSize) {
				var b = function() {
					a.setDesignResolutionSize(a._designResolutionSize.width, a._designResolutionSize.height, a._resolutionPolicy);
					window.removeEventListener("resize",
						b, !1)
				};
				window.addEventListener("resize", b, !1)
			}
		}
}
var _scissorRect = null;
cc.EGLView = cc.Class.extend({
	_delegate: null,
	_frameSize: null,
	_designResolutionSize: null,
	_originalDesignResolutionSize: null,
	_viewPortRect: null,
	_visibleRect: null,
	_retinaEnabled: !1,
	_autoFullScreen: !1,
	_devicePixelRatio: 1,
	_viewName: "",
	_resizeCallback: null,
	_orientationChanging: !0,
	_resizing: !1,
	_scaleX: 1,
	_originalScaleX: 1,
	_scaleY: 1,
	_originalScaleY: 1,
	_isRotated: !1,
	_orientation: 3,
	_resolutionPolicy: null,
	_rpExactFit: null,
	_rpShowAll: null,
	_rpNoBorder: null,
	_rpFixedHeight: null,
	_rpFixedWidth: null,
	_initialized: !1,
	_contentTranslateLeftTop: null,
	_frame: null,
	_frameZoomFactor: 1,
	__resizeWithBrowserSize: !1,
	_isAdjustViewPort: !0,
	_targetDensityDPI: null,
	ctor: function() {
		var a = document,
			b = cc.ContainerStrategy,
			c = cc.ContentStrategy;
		__BrowserGetter.init(this);
		this._frame = cc.container.parentNode === a.body ? a.documentElement : cc.container.parentNode;
		this._frameSize = cc.size(0, 0);
		this._initFrameSize();
		var a = cc._canvas.width,
			d = cc._canvas.height;
		this._designResolutionSize = cc.size(a, d);
		this._originalDesignResolutionSize = cc.size(a, d);
		this._viewPortRect = cc.rect(0,
			0, a, d);
		this._visibleRect = cc.rect(0, 0, a, d);
		this._contentTranslateLeftTop = {
			left: 0,
			top: 0
		};
		this._viewName = "Cocos2dHTML5";
		a = cc.sys;
		cc.visibleRect && cc.visibleRect.init(this._visibleRect);
		this._rpExactFit = new cc.ResolutionPolicy(b.EQUAL_TO_FRAME, c.EXACT_FIT);
		this._rpShowAll = new cc.ResolutionPolicy(b.PROPORTION_TO_FRAME, c.SHOW_ALL);
		this._rpNoBorder = new cc.ResolutionPolicy(b.EQUAL_TO_FRAME, c.NO_BORDER);
		this._rpFixedHeight = new cc.ResolutionPolicy(b.EQUAL_TO_FRAME, c.FIXED_HEIGHT);
		this._rpFixedWidth = new cc.ResolutionPolicy(b.EQUAL_TO_FRAME,
			c.FIXED_WIDTH);
		this._targetDensityDPI = cc.DENSITYDPI_HIGH;
		a.isMobile && window.addEventListener("orientationchange", this._orientationChange)
	},
	_resizeEvent: function() {
		var a;
		a = this.setDesignResolutionSize ? this : cc.view;
		if (!a._orientationChanging) {
			var b = a._frameSize.width,
				c = a._frameSize.height,
				d = a._isRotated;
			if (cc.sys.isMobile) {
				var e = cc.game.container.style,
					f = e.margin;
				e.margin = "0";
				e.display = "none";
				a._initFrameSize();
				e.margin = f;
				e.display = "block"
			} else a._initFrameSize();
			if (a._isRotated !== d || a._frameSize.width !==
				b || a._frameSize.height !== c) b = a._originalDesignResolutionSize.width, c = a._originalDesignResolutionSize.height, a._resizing = !0, 0 < b && a.setDesignResolutionSize(b, c, a._resolutionPolicy), a._resizing = !1, cc.eventManager.dispatchCustomEvent("canvas-resize"), a._resizeCallback && a._resizeCallback.call()
		}
	},
	_orientationChange: function() {
		cc.view._orientationChanging = !0;
		cc.sys.isMobile && (cc.game.container.style.display = "none");
		setTimeout(function() {
			cc.view._orientationChanging = !1;
			cc.view._resizeEvent()
		}, 300)
	},
	setTargetDensityDPI: function(a) {
		this._targetDensityDPI =
			a;
		this._adjustViewportMeta()
	},
	getTargetDensityDPI: function() {
		return this._targetDensityDPI
	},
	resizeWithBrowserSize: function(a) {
		a ? this.__resizeWithBrowserSize || (this.__resizeWithBrowserSize = !0, window.addEventListener("resize", this._resizeEvent)) : this.__resizeWithBrowserSize && (this.__resizeWithBrowserSize = !1, window.removeEventListener("resize", this._resizeEvent))
	},
	setResizeCallback: function(a) {
		if ("function" === typeof a || null == a) this._resizeCallback = a
	},
	setOrientation: function(a) {
		(a &= cc.ORIENTATION_AUTO) &&
		this._orientation !== a && (this._orientation = a, this._resolutionPolicy && this.setDesignResolutionSize(this._originalDesignResolutionSize.width, this._originalDesignResolutionSize.height, this._resolutionPolicy))
	},
	setDocumentPixelWidth: function(a) {
		this._setViewportMeta({
			width: a
		}, !0);
		document.documentElement.style.width = a + "px";
		document.body.style.width = "100%";
		this.setDesignResolutionSize(this._designResolutionSize.width, this._designResolutionSize.height, this._resolutionPolicy)
	},
	_initFrameSize: function() {
		var a =
			this._frameSize,
			b = __BrowserGetter.availWidth(this._frame),
			c = __BrowserGetter.availHeight(this._frame),
			d = b >= c;
		!cc.sys.isMobile || d && this._orientation & cc.ORIENTATION_LANDSCAPE || !d && this._orientation & cc.ORIENTATION_PORTRAIT ? (a.width = b, a.height = c, cc.container.style["-webkit-transform"] = "rotate(0deg)", cc.container.style.transform = "rotate(0deg)", this._isRotated = !1) : (a.width = c, a.height = b, cc.container.style["-webkit-transform"] = "rotate(90deg)", cc.container.style.transform = "rotate(90deg)", cc.container.style["-webkit-transform-origin"] =
			"0px 0px 0px", cc.container.style.transformOrigin = "0px 0px 0px", this._isRotated = !0)
	},
	_adjustSizeKeepCanvasSize: function() {
		var a = this._originalDesignResolutionSize.width,
			b = this._originalDesignResolutionSize.height;
		0 < a && this.setDesignResolutionSize(a, b, this._resolutionPolicy)
	},
	_setViewportMeta: function(a, b) {
		var c = document.getElementById("cocosMetaElement");
		c && b && document.head.removeChild(c);
		var d = document.getElementsByName("viewport"),
			d = d ? d[0] : null,
			e, f, g;
		e = d ? d.content : "";
		c = c || document.createElement("meta");
		c.id = "cocosMetaElement";
		c.name = "viewport";
		c.content = "";
		for (f in a) - 1 == e.indexOf(f) ? e += "," + f + "\x3d" + a[f] : b && (g = RegExp(f + "s*\x3ds*[^,]+"), e.replace(g, f + "\x3d" + a[f]));
		/^,/.test(e) && (e = e.substr(1));
		c.content = e;
		d && (d.content = e);
		document.head.appendChild(c)
	},
	_adjustViewportMeta: function() {
		this._isAdjustViewPort && (this._setViewportMeta(__BrowserGetter.meta, !1), this._isAdjustViewPort = !1)
	},
	_setScaleXYForRenderTexture: function() {
		var a = cc.contentScaleFactor();
		this._scaleY = this._scaleX = a
	},
	_resetScale: function() {
		this._scaleX =
			this._originalScaleX;
		this._scaleY = this._originalScaleY
	},
	_adjustSizeToBrowser: function() {},
	initialize: function() {
		this._initialized = !0
	},
	adjustViewPort: function(a) {
		this._isAdjustViewPort = a
	},
	enableRetina: function(a) {
		this._retinaEnabled = !!a
	},
	isRetinaEnabled: function() {
		return this._retinaEnabled
	},
	enableAutoFullScreen: function(a) {
		a && a !== this._autoFullScreen && cc.sys.isMobile && this._frame === document.documentElement ? (this._autoFullScreen = !0, cc.screen.autoFullScreen(this._frame)) : this._autoFullScreen = !1
	},
	isAutoFullScreenEnabled: function() {
		return this._autoFullScreen
	},
	isOpenGLReady: function() {
		return cc.game.canvas && cc._renderContext
	},
	setFrameZoomFactor: function(a) {
		this._frameZoomFactor = a;
		this.centerWindow();
		cc.director.setProjection(cc.director.getProjection())
	},
	swapBuffers: function() {},
	setIMEKeyboardState: function(a) {},
	setContentTranslateLeftTop: function(a, b) {
		this._contentTranslateLeftTop = {
			left: a,
			top: b
		}
	},
	getContentTranslateLeftTop: function() {
		return this._contentTranslateLeftTop
	},
	getCanvasSize: function() {
		return cc.size(cc._canvas.width, cc._canvas.height)
	},
	getFrameSize: function() {
		return cc.size(this._frameSize.width,
			this._frameSize.height)
	},
	setFrameSize: function(a, b) {
		this._frameSize.width = a;
		this._frameSize.height = b;
		this._frame.style.width = a + "px";
		this._frame.style.height = b + "px";
		this._resizeEvent();
		cc.director.setProjection(cc.director.getProjection())
	},
	getVisibleSize: function() {
		return cc.size(this._visibleRect.width, this._visibleRect.height)
	},
	getVisibleSizeInPixel: function() {
		return cc.size(this._visibleRect.width * this._scaleX, this._visibleRect.height * this._scaleY)
	},
	getVisibleOrigin: function() {
		return cc.p(this._visibleRect.x,
			this._visibleRect.y)
	},
	getVisibleOriginInPixel: function() {
		return cc.p(this._visibleRect.x * this._scaleX, this._visibleRect.y * this._scaleY)
	},
	canSetContentScaleFactor: function() {
		return !0
	},
	getResolutionPolicy: function() {
		return this._resolutionPolicy
	},
	setResolutionPolicy: function(a) {
		if (a instanceof cc.ResolutionPolicy) this._resolutionPolicy = a;
		else {
			var b = cc.ResolutionPolicy;
			a === b.EXACT_FIT && (this._resolutionPolicy = this._rpExactFit);
			a === b.SHOW_ALL && (this._resolutionPolicy = this._rpShowAll);
			a === b.NO_BORDER &&
				(this._resolutionPolicy = this._rpNoBorder);
			a === b.FIXED_HEIGHT && (this._resolutionPolicy = this._rpFixedHeight);
			a === b.FIXED_WIDTH && (this._resolutionPolicy = this._rpFixedWidth)
		}
	},
	setDesignResolutionSize: function(a, b, c) {
		if (0 < a || 0 < b)
			if (this.setResolutionPolicy(c), (c = this._resolutionPolicy) && c.preApply(this), cc.sys.isMobile && this._adjustViewportMeta(), this._resizing || this._initFrameSize(), c) {
				this._originalDesignResolutionSize.width = this._designResolutionSize.width = a;
				this._originalDesignResolutionSize.height =
					this._designResolutionSize.height = b;
				var d = c.apply(this, this._designResolutionSize);
				d.scale && 2 === d.scale.length && (this._scaleX = d.scale[0], this._scaleY = d.scale[1]);
				d.viewport && (a = this._viewPortRect, b = this._visibleRect, d = d.viewport, a.x = d.x, a.y = d.y, a.width = d.width, a.height = d.height, b.x = -a.x / this._scaleX, b.y = -a.y / this._scaleY, b.width = cc._canvas.width / this._scaleX, b.height = cc._canvas.height / this._scaleY, cc._renderContext.setOffset && cc._renderContext.setOffset(a.x, -a.y));
				a = cc.director;
				a._winSizeInPoints.width =
					this._designResolutionSize.width;
				a._winSizeInPoints.height = this._designResolutionSize.height;
				c.postApply(this);
				cc.winSize.width = a._winSizeInPoints.width;
				cc.winSize.height = a._winSizeInPoints.height;
				cc._renderType === cc.game.RENDER_TYPE_WEBGL ? a.setGLDefaultValues() : cc._renderType === cc.game.RENDER_TYPE_CANVAS && (cc.renderer._allNeedDraw = !0);
				this._originalScaleX = this._scaleX;
				this._originalScaleY = this._scaleY;
				cc.visibleRect && cc.visibleRect.init(this._visibleRect)
			} else cc.log(cc._LogInfos.EGLView_setDesignResolutionSize_2);
		else cc.log(cc._LogInfos.EGLView_setDesignResolutionSize)
	},
	getDesignResolutionSize: function() {
		return cc.size(this._designResolutionSize.width, this._designResolutionSize.height)
	},
	setRealPixelResolution: function(a, b, c) {
		this._setViewportMeta({
			width: a
		}, !0);
		document.documentElement.style.width = a + "px";
		document.body.style.width = a + "px";
		document.body.style.left = "0px";
		document.body.style.top = "0px";
		this.setDesignResolutionSize(a, b, c)
	},
	setViewPortInPoints: function(a, b, c, d) {
		var e = this._frameZoomFactor,
			f = this._scaleX,
			g = this._scaleY;
		cc._renderContext.viewport(a * f * e + this._viewPortRect.x * e, b * g * e + this._viewPortRect.y * e, c * f * e, d * g * e)
	},
	setScissorInPoints: function(a, b, c, d) {
		var e = this._frameZoomFactor,
			f = this._scaleX,
			g = this._scaleY;
		a = Math.ceil(a * f * e + this._viewPortRect.x * e);
		b = Math.ceil(b * g * e + this._viewPortRect.y * e);
		c = Math.ceil(c * f * e);
		d = Math.ceil(d * g * e);
		_scissorRect || (e = gl.getParameter(gl.SCISSOR_BOX), _scissorRect = cc.rect(e[0], e[1], e[2], e[3]));
		if (_scissorRect.x != a || _scissorRect.y != b || _scissorRect.width != c || _scissorRect.height !=
			d) _scissorRect.x = a, _scissorRect.y = b, _scissorRect.width = c, _scissorRect.height = d, cc._renderContext.scissor(a, b, c, d)
	},
	isScissorEnabled: function() {
		return cc._renderContext.isEnabled(gl.SCISSOR_TEST)
	},
	getScissorRect: function() {
		if (!_scissorRect) {
			var a = gl.getParameter(gl.SCISSOR_BOX);
			_scissorRect = cc.rect(a[0], a[1], a[2], a[3])
		}
		var a = 1 / this._scaleX,
			b = 1 / this._scaleY;
		return cc.rect((_scissorRect.x - this._viewPortRect.x) * a, (_scissorRect.y - this._viewPortRect.y) * b, _scissorRect.width * a, _scissorRect.height * b)
	},
	setViewName: function(a) {
		null !=
			a && 0 < a.length && (this._viewName = a)
	},
	getViewName: function() {
		return this._viewName
	},
	getViewPortRect: function() {
		return this._viewPortRect
	},
	getScaleX: function() {
		return this._scaleX
	},
	getScaleY: function() {
		return this._scaleY
	},
	getDevicePixelRatio: function() {
		return this._devicePixelRatio
	},
	convertToLocationInView: function(a, b, c) {
		a = this._devicePixelRatio * (a - c.left);
		b = this._devicePixelRatio * (c.top + c.height - b);
		return this._isRotated ? {
			x: this._viewPortRect.width - b,
			y: a
		} : {
			x: a,
			y: b
		}
	},
	_convertMouseToLocationInView: function(a,
		b) {
		var c = this._viewPortRect;
		a.x = (this._devicePixelRatio * (a.x - b.left) - c.x) / this._scaleX;
		a.y = (this._devicePixelRatio * (b.top + b.height - a.y) - c.y) / this._scaleY
	},
	_convertPointWithScale: function(a) {
		var b = this._viewPortRect;
		a.x = (a.x - b.x) / this._scaleX;
		a.y = (a.y - b.y) / this._scaleY
	},
	_convertTouchesWithScale: function(a) {
		for (var b = this._viewPortRect, c = this._scaleX, d = this._scaleY, e, f, g = 0; g < a.length; g++) e = a[g], f = e._point, e = e._prevPoint, f.x = (f.x - b.x) / c, f.y = (f.y - b.y) / d, e.x = (e.x - b.x) / c, e.y = (e.y - b.y) / d
	}
});
cc.EGLView._getInstance = function() {
	this._instance || (this._instance = this._instance || new cc.EGLView, this._instance.initialize());
	return this._instance
};
cc.ContainerStrategy = cc.Class.extend({
	preApply: function(a) {},
	apply: function(a, b) {},
	postApply: function(a) {},
	_setupContainer: function(a, b, c) {
		var d = cc.game.canvas,
			e = cc.game.container;
		cc.sys.os === cc.sys.OS_ANDROID && (document.body.style.width = (a._isRotated ? c : b) + "px", document.body.style.height = (a._isRotated ? b : c) + "px");
		e.style.width = d.style.width = b + "px";
		e.style.height = d.style.height = c + "px";
		e = a._devicePixelRatio = 1;
		a.isRetinaEnabled() && (e = a._devicePixelRatio = Math.min(2, window.devicePixelRatio || 1));
		d.width =
			b * e;
		d.height = c * e;
		cc._renderContext.resetCache && cc._renderContext.resetCache()
	},
	_fixContainer: function() {
		document.body.insertBefore(cc.container, document.body.firstChild);
		var a = document.body.style;
		a.width = window.innerWidth + "px";
		a.height = window.innerHeight + "px";
		a.overflow = "hidden";
		a = cc.container.style;
		a.position = "fixed";
		a.left = a.top = "0px";
		document.body.scrollTop = 0
	}
});
cc.ContentStrategy = cc.Class.extend({
	_result: {
		scale: [1, 1],
		viewport: null
	},
	_buildResult: function(a, b, c, d, e, f) {
		2 > Math.abs(a - c) && (c = a);
		2 > Math.abs(b - d) && (d = b);
		a = cc.rect(Math.round((a - c) / 2), Math.round((b - d) / 2), c, d);
		this._result.scale = [e, f];
		this._result.viewport = a;
		return this._result
	},
	preApply: function(a) {},
	apply: function(a, b) {
		return {
			scale: [1, 1]
		}
	},
	postApply: function(a) {}
});
(function() {
	var a = cc.ContainerStrategy.extend({
			apply: function(a) {
				var b = a._frameSize.height,
					c = cc.container.style;
				this._setupContainer(a, a._frameSize.width, a._frameSize.height);
				c.margin = a._isRotated ? "0 0 0 " + b + "px" : "0px"
			}
		}),
		b = cc.ContainerStrategy.extend({
			apply: function(a, b) {
				var c = a._frameSize.width,
					d = a._frameSize.height,
					e = cc.container.style,
					n = b.width,
					p = b.height,
					r = c / n,
					t = d / p,
					u, s;
				r < t ? (u = c, s = p * r) : (u = n * t, s = d);
				n = Math.round((c - u) / 2);
				s = Math.round((d - s) / 2);
				this._setupContainer(a, c - 2 * n, d - 2 * s);
				e.margin = a._isRotated ?
					"0 0 0 " + d + "px" : "0px";
				e.paddingLeft = n + "px";
				e.paddingRight = n + "px";
				e.paddingTop = s + "px";
				e.paddingBottom = s + "px"
			}
		});
	a.extend({
		preApply: function(a) {
			this._super(a);
			a._frame = document.documentElement
		},
		apply: function(a) {
			this._super(a);
			this._fixContainer()
		}
	});
	b.extend({
		preApply: function(a) {
			this._super(a);
			a._frame = document.documentElement
		},
		apply: function(a, b) {
			this._super(a, b);
			this._fixContainer()
		}
	});
	var c = cc.ContainerStrategy.extend({
		apply: function(a) {
			this._setupContainer(a, cc._canvas.width, cc._canvas.height)
		}
	});
	cc.ContainerStrategy.EQUAL_TO_FRAME = new a;
	cc.ContainerStrategy.PROPORTION_TO_FRAME = new b;
	cc.ContainerStrategy.ORIGINAL_CONTAINER = new c;
	var a = cc.ContentStrategy.extend({
			apply: function(a, b) {
				var c = cc._canvas.width,
					d = cc._canvas.height;
				return this._buildResult(c, d, c, d, c / b.width, d / b.height)
			}
		}),
		b = cc.ContentStrategy.extend({
			apply: function(a, b) {
				var c = cc._canvas.width,
					d = cc._canvas.height,
					e = b.width,
					n = b.height,
					p = c / e,
					r = d / n,
					t = 0,
					u, s;
				p < r ? (t = p, u = c, s = n * t) : (t = r, u = e * t, s = d);
				return this._buildResult(c, d, u, s, t, t)
			}
		}),
		c =
		cc.ContentStrategy.extend({
			apply: function(a, b) {
				var c = cc._canvas.width,
					d = cc._canvas.height,
					e = b.width,
					n = b.height,
					p = c / e,
					r = d / n,
					t, u, s;
				p < r ? (t = r, u = e * t, s = d) : (t = p, u = c, s = n * t);
				return this._buildResult(c, d, u, s, t, t)
			}
		}),
		d = cc.ContentStrategy.extend({
			apply: function(a, b) {
				var c = cc._canvas.width,
					d = cc._canvas.height,
					e = d / b.height;
				return this._buildResult(c, d, c, d, e, e)
			},
			postApply: function(a) {
				cc.director._winSizeInPoints = a.getVisibleSize()
			}
		}),
		e = cc.ContentStrategy.extend({
			apply: function(a, b) {
				var c = cc._canvas.width,
					d = cc._canvas.height,
					e = c / b.width;
				return this._buildResult(c, d, c, d, e, e)
			},
			postApply: function(a) {
				cc.director._winSizeInPoints = a.getVisibleSize()
			}
		});
	cc.ContentStrategy.EXACT_FIT = new a;
	cc.ContentStrategy.SHOW_ALL = new b;
	cc.ContentStrategy.NO_BORDER = new c;
	cc.ContentStrategy.FIXED_HEIGHT = new d;
	cc.ContentStrategy.FIXED_WIDTH = new e
})();
cc.ResolutionPolicy = cc.Class.extend({
	_containerStrategy: null,
	_contentStrategy: null,
	ctor: function(a, b) {
		this.setContainerStrategy(a);
		this.setContentStrategy(b)
	},
	preApply: function(a) {
		this._containerStrategy.preApply(a);
		this._contentStrategy.preApply(a)
	},
	apply: function(a, b) {
		this._containerStrategy.apply(a, b);
		return this._contentStrategy.apply(a, b)
	},
	postApply: function(a) {
		this._containerStrategy.postApply(a);
		this._contentStrategy.postApply(a)
	},
	setContainerStrategy: function(a) {
		a instanceof cc.ContainerStrategy &&
			(this._containerStrategy = a)
	},
	setContentStrategy: function(a) {
		a instanceof cc.ContentStrategy && (this._contentStrategy = a)
	}
});
cc.ResolutionPolicy.EXACT_FIT = 0;
cc.ResolutionPolicy.NO_BORDER = 1;
cc.ResolutionPolicy.SHOW_ALL = 2;
cc.ResolutionPolicy.FIXED_HEIGHT = 3;
cc.ResolutionPolicy.FIXED_WIDTH = 4;
cc.ResolutionPolicy.UNKNOWN = 5;
cc.screen = {
	_supportsFullScreen: !1,
	_preOnFullScreenChange: null,
	_touchEvent: "",
	_fn: null,
	_fnMap: [
		["requestFullscreen", "exitFullscreen", "fullscreenchange", "fullscreenEnabled", "fullscreenElement"],
		["requestFullScreen", "exitFullScreen", "fullScreenchange", "fullScreenEnabled", "fullScreenElement"],
		["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitIsFullScreen", "webkitCurrentFullScreenElement"],
		["mozRequestFullScreen", "mozCancelFullScreen", "mozfullscreenchange", "mozFullScreen",
			"mozFullScreenElement"
		],
		["msRequestFullscreen", "msExitFullscreen", "MSFullscreenChange", "msFullscreenEnabled", "msFullscreenElement"]
	],
	init: function() {
		this._fn = {};
		var a, b, c = this._fnMap,
			d;
		a = 0;
		for (l = c.length; a < l; a++)
			if ((b = c[a]) && b[1] in document) {
				a = 0;
				for (d = b.length; a < d; a++) this._fn[c[0][a]] = b[a];
				break
			} this._supportsFullScreen = "undefined" !== typeof this._fn.requestFullscreen;
		this._touchEvent = "ontouchstart" in window ? "touchstart" : "mousedown"
	},
	fullScreen: function() {
		return this._supportsFullScreen ? void 0 ===
			document[this._fn.fullscreenElement] || null === document[this._fn.fullscreenElement] ? !1 : !0 : !1
	},
	requestFullScreen: function(a, b) {
		if (this._supportsFullScreen) {
			a = a || document.documentElement;
			if (b) {
				var c = this._fn.fullscreenchange;
				this._preOnFullScreenChange && document.removeEventListener(c, this._preOnFullScreenChange);
				this._preOnFullScreenChange = b;
				document.addEventListener(c, b, !1)
			}
			return a[this._fn.requestFullscreen]()
		}
	},
	exitFullScreen: function() {
		return this._supportsFullScreen ? document[this._fn.exitFullscreen]() :
			!0
	},
	autoFullScreen: function(a, b) {
		function c() {
			d.removeEventListener(e._touchEvent, c);
			e.requestFullScreen(a, b)
		}
		a = a || document.body;
		var d = cc.game.canvas || a,
			e = this;
		this.requestFullScreen(a, b);
		d.addEventListener(this._touchEvent, c)
	}
};
cc.screen.init();
cc.visibleRect = {
	topLeft: cc.p(0, 0),
	topRight: cc.p(0, 0),
	top: cc.p(0, 0),
	bottomLeft: cc.p(0, 0),
	bottomRight: cc.p(0, 0),
	bottom: cc.p(0, 0),
	center: cc.p(0, 0),
	left: cc.p(0, 0),
	right: cc.p(0, 0),
	width: 0,
	height: 0,
	init: function(a) {
		var b = this.width = a.width,
			c = this.height = a.height,
			d = a.x;
		a = a.y;
		var e = a + c,
			f = d + b;
		this.topLeft.x = d;
		this.topLeft.y = e;
		this.topRight.x = f;
		this.topRight.y = e;
		this.top.x = d + b / 2;
		this.top.y = e;
		this.bottomLeft.x = d;
		this.bottomLeft.y = a;
		this.bottomRight.x = f;
		this.bottomRight.y = a;
		this.bottom.x = d + b / 2;
		this.bottom.y =
			a;
		this.center.x = d + b / 2;
		this.center.y = a + c / 2;
		this.left.x = d;
		this.left.y = a + c / 2;
		this.right.x = f;
		this.right.y = a + c / 2
	}
};
cc.UIInterfaceOrientationLandscapeLeft = -90;
cc.UIInterfaceOrientationLandscapeRight = 90;
cc.UIInterfaceOrientationPortraitUpsideDown = 180;
cc.UIInterfaceOrientationPortrait = 0;
cc.inputManager = {
	TOUCH_TIMEOUT: 5E3,
	_mousePressed: !1,
	_isRegisterEvent: !1,
	_preTouchPoint: cc.p(0, 0),
	_prevMousePoint: cc.p(0, 0),
	_preTouchPool: [],
	_preTouchPoolPointer: 0,
	_touches: [],
	_touchesIntegerDict: {},
	_indexBitsUsed: 0,
	_maxTouches: 5,
	_accelEnabled: !1,
	_accelInterval: 1 / 30,
	_accelMinus: 1,
	_accelCurTime: 0,
	_acceleration: null,
	_accelDeviceEvent: null,
	_getUnUsedIndex: function() {
		for (var a = this._indexBitsUsed, b = cc.sys.now(), c = 0; c < this._maxTouches; c++) {
			if (a & 1) {
				var d = this._touches[c];
				if (b - d._lastModified > this.TOUCH_TIMEOUT) return this._removeUsedIndexBit(c),
					delete this._touchesIntegerDict[d.getID()], c
			} else return this._indexBitsUsed |= 1 << c, c;
			a >>= 1
		}
		return -1
	},
	_removeUsedIndexBit: function(a) {
		0 > a || a >= this._maxTouches || (a = ~(1 << a), this._indexBitsUsed &= a)
	},
	_glView: null,
	handleTouchesBegin: function(a) {
		for (var b, c, d, e = [], f = this._touchesIntegerDict, g = cc.sys.now(), h = 0, k = a.length; h < k; h++)
			if (b = a[h], d = b.getID(), c = f[d], null == c) {
				var m = this._getUnUsedIndex(); - 1 === m ? cc.log(cc._LogInfos.inputManager_handleTouchesBegin, m) : (c = this._touches[m] = new cc.Touch(b._point.x, b._point.y,
					b.getID()), c._lastModified = g, c._setPrevPoint(b._prevPoint), f[d] = m, e.push(c))
			} 0 < e.length && (this._glView._convertTouchesWithScale(e), a = new cc.EventTouch(e), a._eventCode = cc.EventTouch.EventCode.BEGAN, cc.eventManager.dispatchEvent(a))
	},
	handleTouchesMove: function(a) {
		for (var b, c, d = [], e = this._touches, f = cc.sys.now(), g = 0, h = a.length; g < h; g++) b = a[g], c = b.getID(), c = this._touchesIntegerDict[c], null != c && e[c] && (e[c]._setPoint(b._point), e[c]._setPrevPoint(b._prevPoint), e[c]._lastModified = f, d.push(e[c]));
		0 < d.length &&
			(this._glView._convertTouchesWithScale(d), a = new cc.EventTouch(d), a._eventCode = cc.EventTouch.EventCode.MOVED, cc.eventManager.dispatchEvent(a))
	},
	handleTouchesEnd: function(a) {
		a = this.getSetOfTouchesEndOrCancel(a);
		0 < a.length && (this._glView._convertTouchesWithScale(a), a = new cc.EventTouch(a), a._eventCode = cc.EventTouch.EventCode.ENDED, cc.eventManager.dispatchEvent(a))
	},
	handleTouchesCancel: function(a) {
		a = this.getSetOfTouchesEndOrCancel(a);
		0 < a.length && (this._glView._convertTouchesWithScale(a), a = new cc.EventTouch(a),
			a._eventCode = cc.EventTouch.EventCode.CANCELLED, cc.eventManager.dispatchEvent(a))
	},
	getSetOfTouchesEndOrCancel: function(a) {
		for (var b, c, d, e = [], f = this._touches, g = this._touchesIntegerDict, h = 0, k = a.length; h < k; h++) b = a[h], d = b.getID(), c = g[d], null != c && f[c] && (f[c]._setPoint(b._point), f[c]._setPrevPoint(b._prevPoint), e.push(f[c]), this._removeUsedIndexBit(c), delete g[d]);
		return e
	},
	getHTMLElementPosition: function(a) {
		var b = document.documentElement,
			c = window,
			d = null,
			d = cc.isFunction(a.getBoundingClientRect) ? a.getBoundingClientRect() : {
				left: 0,
				top: 0,
				width: parseInt(a.style.width),
				height: parseInt(a.style.height)
			};
		return {
			left: d.left + c.pageXOffset - b.clientLeft,
			top: d.top + c.pageYOffset - b.clientTop,
			width: d.width,
			height: d.height
		}
	},
	getPreTouch: function(a) {
		for (var b = null, c = this._preTouchPool, d = a.getID(), e = c.length - 1; 0 <= e; e--)
			if (c[e].getID() === d) {
				b = c[e];
				break
			} b || (b = a);
		return b
	},
	setPreTouch: function(a) {
		for (var b = !1, c = this._preTouchPool, d = a.getID(), e = c.length - 1; 0 <= e; e--)
			if (c[e].getID() === d) {
				c[e] = a;
				b = !0;
				break
			} b || (50 >= c.length ? c.push(a) : (c[this._preTouchPoolPointer] =
			a, this._preTouchPoolPointer = (this._preTouchPoolPointer + 1) % 50))
	},
	getTouchByXY: function(a, b, c) {
		var d = this._preTouchPoint;
		a = this._glView.convertToLocationInView(a, b, c);
		b = new cc.Touch(a.x, a.y);
		b._setPrevPoint(d.x, d.y);
		d.x = a.x;
		d.y = a.y;
		return b
	},
	getMouseEvent: function(a, b, c) {
		var d = this._prevMousePoint;
		this._glView._convertMouseToLocationInView(a, b);
		b = new cc.EventMouse(c);
		b.setLocation(a.x, a.y);
		b._setPrevCursor(d.x, d.y);
		d.x = a.x;
		d.y = a.y;
		return b
	},
	getPointByEvent: function(a, b) {
		if (null != a.pageX) return {
			x: a.pageX,
			y: a.pageY
		};
		b.left -= document.body.scrollLeft;
		b.top -= document.body.scrollTop;
		return {
			x: a.clientX,
			y: a.clientY
		}
	},
	getTouchesByEvent: function(a, b) {
		for (var c = [], d = this._glView, e, f, g = this._preTouchPoint, h = a.changedTouches.length, k = 0; k < h; k++)
			if (e = a.changedTouches[k]) {
				var m;
				m = cc.sys.BROWSER_TYPE_FIREFOX === cc.sys.browserType ? d.convertToLocationInView(e.pageX, e.pageY, b) : d.convertToLocationInView(e.clientX, e.clientY, b);
				null != e.identifier ? (e = new cc.Touch(m.x, m.y, e.identifier), f = this.getPreTouch(e).getLocation(),
					e._setPrevPoint(f.x, f.y), this.setPreTouch(e)) : (e = new cc.Touch(m.x, m.y), e._setPrevPoint(g.x, g.y));
				g.x = m.x;
				g.y = m.y;
				c.push(e)
			} return c
	},
	registerSystemEvent: function(a) {
		if (!this._isRegisterEvent) {
			this._glView = cc.view;
			var b = this,
				c = "mouse" in cc.sys.capabilities,
				d = "touches" in cc.sys.capabilities,
				e = !1;
			cc.sys.isMobile && (e = !0);
			c && (window.addEventListener("mousedown", function() {
				b._mousePressed = !0
			}, !1), window.addEventListener("mouseup", function(c) {
				if (!e) {
					var d = b._mousePressed;
					b._mousePressed = !1;
					if (d) {
						var d = b.getHTMLElementPosition(a),
							f = b.getPointByEvent(c, d);
						cc.rectContainsPoint(new cc.Rect(d.left, d.top, d.width, d.height), f) || (b.handleTouchesEnd([b.getTouchByXY(f.x, f.y, d)]), d = b.getMouseEvent(f, d, cc.EventMouse.UP), d.setButton(c.button), cc.eventManager.dispatchEvent(d))
					}
				}
			}, !1), a.addEventListener("mousedown", function(c) {
				if (!e) {
					b._mousePressed = !0;
					var d = b.getHTMLElementPosition(a),
						f = b.getPointByEvent(c, d);
					b.handleTouchesBegin([b.getTouchByXY(f.x, f.y, d)]);
					d = b.getMouseEvent(f, d, cc.EventMouse.DOWN);
					d.setButton(c.button);
					cc.eventManager.dispatchEvent(d);
					c.stopPropagation();
					c.preventDefault();
					a.focus()
				}
			}, !1), a.addEventListener("mouseup", function(c) {
				if (!e) {
					b._mousePressed = !1;
					var d = b.getHTMLElementPosition(a),
						f = b.getPointByEvent(c, d);
					b.handleTouchesEnd([b.getTouchByXY(f.x, f.y, d)]);
					d = b.getMouseEvent(f, d, cc.EventMouse.UP);
					d.setButton(c.button);
					cc.eventManager.dispatchEvent(d);
					c.stopPropagation();
					c.preventDefault()
				}
			}, !1), a.addEventListener("mousemove", function(c) {
				if (!e) {
					var d = b.getHTMLElementPosition(a),
						f = b.getPointByEvent(c, d);
					b.handleTouchesMove([b.getTouchByXY(f.x,
						f.y, d)]);
					d = b.getMouseEvent(f, d, cc.EventMouse.MOVE);
					b._mousePressed ? d.setButton(c.button) : d.setButton(null);
					cc.eventManager.dispatchEvent(d);
					c.stopPropagation();
					c.preventDefault()
				}
			}, !1), a.addEventListener("mousewheel", function(c) {
				var d = b.getHTMLElementPosition(a),
					e = b.getPointByEvent(c, d),
					d = b.getMouseEvent(e, d, cc.EventMouse.SCROLL);
				d.setButton(c.button);
				d.setScrollData(0, c.wheelDelta);
				cc.eventManager.dispatchEvent(d);
				c.stopPropagation();
				c.preventDefault()
			}, !1), a.addEventListener("DOMMouseScroll", function(c) {
				var d =
					b.getHTMLElementPosition(a),
					e = b.getPointByEvent(c, d),
					d = b.getMouseEvent(e, d, cc.EventMouse.SCROLL);
				d.setButton(c.button);
				d.setScrollData(0, -120 * c.detail);
				cc.eventManager.dispatchEvent(d);
				c.stopPropagation();
				c.preventDefault()
			}, !1));
			if (window.navigator.msPointerEnabled) {
				var c = {
						MSPointerDown: b.handleTouchesBegin,
						MSPointerMove: b.handleTouchesMove,
						MSPointerUp: b.handleTouchesEnd,
						MSPointerCancel: b.handleTouchesCancel
					},
					f;
				for (f in c)(function(c, d) {
					a.addEventListener(c, function(c) {
						var e = b.getHTMLElementPosition(a);
						e.left -= document.documentElement.scrollLeft;
						e.top -= document.documentElement.scrollTop;
						d.call(b, [b.getTouchByXY(c.clientX, c.clientY, e)]);
						c.stopPropagation()
					}, !1)
				})(f, c[f])
			}
			d && (a.addEventListener("touchstart", function(c) {
				if (c.changedTouches) {
					var d = b.getHTMLElementPosition(a);
					d.left -= document.body.scrollLeft;
					d.top -= document.body.scrollTop;
					b.handleTouchesBegin(b.getTouchesByEvent(c, d));
					c.stopPropagation();
					c.preventDefault();
					a.focus()
				}
			}, !1), a.addEventListener("touchmove", function(c) {
				if (c.changedTouches) {
					var d =
						b.getHTMLElementPosition(a);
					d.left -= document.body.scrollLeft;
					d.top -= document.body.scrollTop;
					b.handleTouchesMove(b.getTouchesByEvent(c, d));
					c.stopPropagation();
					c.preventDefault()
				}
			}, !1), a.addEventListener("touchend", function(c) {
				if (c.changedTouches) {
					var d = b.getHTMLElementPosition(a);
					d.left -= document.body.scrollLeft;
					d.top -= document.body.scrollTop;
					b.handleTouchesEnd(b.getTouchesByEvent(c, d));
					c.stopPropagation();
					c.preventDefault()
				}
			}, !1), a.addEventListener("touchcancel", function(c) {
				if (c.changedTouches) {
					var d =
						b.getHTMLElementPosition(a);
					d.left -= document.body.scrollLeft;
					d.top -= document.body.scrollTop;
					b.handleTouchesCancel(b.getTouchesByEvent(c, d));
					c.stopPropagation();
					c.preventDefault()
				}
			}, !1));
			this._registerKeyboardEvent();
			this._isRegisterEvent = !0
		}
	},
	_registerKeyboardEvent: function() {},
	_registerAccelerometerEvent: function() {},
	update: function(a) {
		this._accelCurTime > this._accelInterval && (this._accelCurTime -= this._accelInterval, cc.eventManager.dispatchEvent(new cc.EventAcceleration(this._acceleration)));
		this._accelCurTime +=
			a
	}
};
_p = cc.inputManager;
_p.setAccelerometerEnabled = function(a) {
	this._accelEnabled !== a && (this._accelEnabled = a, a = cc.director.getScheduler(), this._accelEnabled ? (this._accelCurTime = 0, this._registerAccelerometerEvent(), a.scheduleUpdate(this)) : (this._accelCurTime = 0, this._unregisterAccelerometerEvent(), a.unscheduleUpdate(this)))
};
_p.setAccelerometerInterval = function(a) {
	this._accelInterval !== a && (this._accelInterval = a)
};
_p._registerKeyboardEvent = function() {
	cc._canvas.addEventListener("keydown", function(a) {
		cc.eventManager.dispatchEvent(new cc.EventKeyboard(a.keyCode, !0));
		a.stopPropagation();
		a.preventDefault()
	}, !1);
	cc._canvas.addEventListener("keyup", function(a) {
		cc.eventManager.dispatchEvent(new cc.EventKeyboard(a.keyCode, !1));
		a.stopPropagation();
		a.preventDefault()
	}, !1)
};
_p._registerAccelerometerEvent = function() {
	var a = window;
	this._acceleration = new cc.Acceleration;
	this._accelDeviceEvent = a.DeviceMotionEvent || a.DeviceOrientationEvent;
	cc.sys.browserType === cc.sys.BROWSER_TYPE_MOBILE_QQ && (this._accelDeviceEvent = window.DeviceOrientationEvent);
	var b = this._accelDeviceEvent === a.DeviceMotionEvent ? "devicemotion" : "deviceorientation",
		c = navigator.userAgent;
	if (/Android/.test(c) || /Adr/.test(c) && cc.sys.browserType === cc.BROWSER_TYPE_UC) this._minus = -1;
	this.didAccelerateCallback = this.didAccelerate.bind(this);
	a.addEventListener(b, this.didAccelerateCallback, !1)
};
_p._unregisterAccelerometerEvent = function() {
	this._acceleration = null;
	window.removeEventListener(this._accelDeviceEvent === window.DeviceMotionEvent ? "devicemotion" : "deviceorientation", this.didAccelerateCallback, !1)
};
_p.didAccelerate = function(a) {
	var b = window;
	if (this._accelEnabled) {
		var c = this._acceleration,
			d, e, f;
		this._accelDeviceEvent === window.DeviceMotionEvent ? (f = a.accelerationIncludingGravity, d = this._accelMinus * f.x * 0.1, e = this._accelMinus * f.y * 0.1, f = 0.1 * f.z) : (d = a.gamma / 90 * 0.981, e = 0.981 * -(a.beta / 90), f = a.alpha / 90 * 0.981);
		c.x = d;
		c.y = e;
		c.z = f;
		c.timestamp = a.timeStamp || Date.now();
		a = c.x;
		b.orientation === cc.UIInterfaceOrientationLandscapeRight ? (c.x = -c.y, c.y = a) : b.orientation === cc.UIInterfaceOrientationLandscapeLeft ? (c.x = c.y,
			c.y = -a) : b.orientation === cc.UIInterfaceOrientationPortraitUpsideDown && (c.x = -c.x, c.y = -c.y)
	}
};
delete _p;
cc.AffineTransform = function(a, b, c, d, e, f) {
	this.a = a;
	this.b = b;
	this.c = c;
	this.d = d;
	this.tx = e;
	this.ty = f
};
cc.affineTransformMake = function(a, b, c, d, e, f) {
	return {
		a: a,
		b: b,
		c: c,
		d: d,
		tx: e,
		ty: f
	}
};
cc.pointApplyAffineTransform = function(a, b, c) {
	var d;
	void 0 === c ? (c = b, d = a.x, a = a.y) : (d = a, a = b);
	return {
		x: c.a * d + c.c * a + c.tx,
		y: c.b * d + c.d * a + c.ty
	}
};
cc._pointApplyAffineTransform = function(a, b, c) {
	return cc.pointApplyAffineTransform(a, b, c)
};
cc.sizeApplyAffineTransform = function(a, b) {
	return {
		width: b.a * a.width + b.c * a.height,
		height: b.b * a.width + b.d * a.height
	}
};
cc.affineTransformMakeIdentity = function() {
	return {
		a: 1,
		b: 0,
		c: 0,
		d: 1,
		tx: 0,
		ty: 0
	}
};
cc.affineTransformIdentity = function() {
	return {
		a: 1,
		b: 0,
		c: 0,
		d: 1,
		tx: 0,
		ty: 0
	}
};
cc.rectApplyAffineTransform = function(a, b) {
	var c = cc.rectGetMinY(a),
		d = cc.rectGetMinX(a),
		e = cc.rectGetMaxX(a),
		f = cc.rectGetMaxY(a),
		g = cc.pointApplyAffineTransform(d, c, b),
		c = cc.pointApplyAffineTransform(e, c, b),
		d = cc.pointApplyAffineTransform(d, f, b),
		h = cc.pointApplyAffineTransform(e, f, b),
		e = Math.min(g.x, c.x, d.x, h.x),
		f = Math.max(g.x, c.x, d.x, h.x),
		k = Math.min(g.y, c.y, d.y, h.y),
		g = Math.max(g.y, c.y, d.y, h.y);
	return cc.rect(e, k, f - e, g - k)
};
cc._rectApplyAffineTransformIn = function(a, b) {
	var c = cc.rectGetMinY(a),
		d = cc.rectGetMinX(a),
		e = cc.rectGetMaxX(a),
		f = cc.rectGetMaxY(a),
		g = cc.pointApplyAffineTransform(d, c, b),
		c = cc.pointApplyAffineTransform(e, c, b),
		d = cc.pointApplyAffineTransform(d, f, b),
		h = cc.pointApplyAffineTransform(e, f, b),
		e = Math.min(g.x, c.x, d.x, h.x),
		f = Math.max(g.x, c.x, d.x, h.x),
		k = Math.min(g.y, c.y, d.y, h.y),
		g = Math.max(g.y, c.y, d.y, h.y);
	a.x = e;
	a.y = k;
	a.width = f - e;
	a.height = g - k;
	return a
};
cc.affineTransformTranslate = function(a, b, c) {
	return {
		a: a.a,
		b: a.b,
		c: a.c,
		d: a.d,
		tx: a.tx + a.a * b + a.c * c,
		ty: a.ty + a.b * b + a.d * c
	}
};
cc.affineTransformScale = function(a, b, c) {
	return {
		a: a.a * b,
		b: a.b * b,
		c: a.c * c,
		d: a.d * c,
		tx: a.tx,
		ty: a.ty
	}
};
cc.affineTransformRotate = function(a, b) {
	var c = Math.sin(b),
		d = Math.cos(b);
	return {
		a: a.a * d + a.c * c,
		b: a.b * d + a.d * c,
		c: a.c * d - a.a * c,
		d: a.d * d - a.b * c,
		tx: a.tx,
		ty: a.ty
	}
};
cc.affineTransformConcat = function(a, b) {
	return {
		a: a.a * b.a + a.b * b.c,
		b: a.a * b.b + a.b * b.d,
		c: a.c * b.a + a.d * b.c,
		d: a.c * b.b + a.d * b.d,
		tx: a.tx * b.a + a.ty * b.c + b.tx,
		ty: a.tx * b.b + a.ty * b.d + b.ty
	}
};
cc.affineTransformConcatIn = function(a, b) {
	var c = a.a,
		d = a.b,
		e = a.c,
		f = a.d,
		g = a.tx,
		h = a.ty;
	a.a = c * b.a + d * b.c;
	a.b = c * b.b + d * b.d;
	a.c = e * b.a + f * b.c;
	a.d = e * b.b + f * b.d;
	a.tx = g * b.a + h * b.c + b.tx;
	a.ty = g * b.b + h * b.d + b.ty;
	return a
};
cc.affineTransformEqualToTransform = function(a, b) {
	return a.a === b.a && a.b === b.b && a.c === b.c && a.d === b.d && a.tx === b.tx && a.ty === b.ty
};
cc.affineTransformInvert = function(a) {
	var b = 1 / (a.a * a.d - a.b * a.c);
	return {
		a: b * a.d,
		b: -b * a.b,
		c: -b * a.c,
		d: b * a.a,
		tx: b * (a.c * a.ty - a.d * a.tx),
		ty: b * (a.b * a.tx - a.a * a.ty)
	}
};
cc.affineTransformInvertOut = function(a, b) {
	var c = a.a,
		d = a.b,
		e = a.c,
		f = a.d,
		g = 1 / (c * f - d * e);
	b.a = g * f;
	b.b = -g * d;
	b.c = -g * e;
	b.d = g * c;
	b.tx = g * (e * a.ty - f * a.tx);
	b.ty = g * (d * a.tx - c * a.ty)
};
cc.POINT_EPSILON = parseFloat("1.192092896e-07F");
cc.pNeg = function(a) {
	return cc.p(-a.x, -a.y)
};
cc.pAdd = function(a, b) {
	return cc.p(a.x + b.x, a.y + b.y)
};
cc.pSub = function(a, b) {
	return cc.p(a.x - b.x, a.y - b.y)
};
cc.pMult = function(a, b) {
	return cc.p(a.x * b, a.y * b)
};
cc.pMidpoint = function(a, b) {
	return cc.pMult(cc.pAdd(a, b), 0.5)
};
cc.pDot = function(a, b) {
	return a.x * b.x + a.y * b.y
};
cc.pCross = function(a, b) {
	return a.x * b.y - a.y * b.x
};
cc.pPerp = function(a) {
	return cc.p(-a.y, a.x)
};
cc.pRPerp = function(a) {
	return cc.p(a.y, -a.x)
};
cc.pProject = function(a, b) {
	return cc.pMult(b, cc.pDot(a, b) / cc.pDot(b, b))
};
cc.pRotate = function(a, b) {
	return cc.p(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x)
};
cc.pUnrotate = function(a, b) {
	return cc.p(a.x * b.x + a.y * b.y, a.y * b.x - a.x * b.y)
};
cc.pLengthSQ = function(a) {
	return cc.pDot(a, a)
};
cc.pDistanceSQ = function(a, b) {
	return cc.pLengthSQ(cc.pSub(a, b))
};
cc.pLength = function(a) {
	return Math.sqrt(cc.pLengthSQ(a))
};
cc.pDistance = function(a, b) {
	return cc.pLength(cc.pSub(a, b))
};
cc.pNormalize = function(a) {
	var b = cc.pLength(a);
	return 0 === b ? cc.p(a) : cc.pMult(a, 1 / b)
};
cc.pForAngle = function(a) {
	return cc.p(Math.cos(a), Math.sin(a))
};
cc.pToAngle = function(a) {
	return Math.atan2(a.y, a.x)
};
cc.clampf = function(a, b, c) {
	if (b > c) {
		var d = b;
		b = c;
		c = d
	}
	return a < b ? b : a < c ? a : c
};
cc.pClamp = function(a, b, c) {
	return cc.p(cc.clampf(a.x, b.x, c.x), cc.clampf(a.y, b.y, c.y))
};
cc.pFromSize = function(a) {
	return cc.p(a.width, a.height)
};
cc.pCompOp = function(a, b) {
	return cc.p(b(a.x), b(a.y))
};
cc.pLerp = function(a, b, c) {
	return cc.pAdd(cc.pMult(a, 1 - c), cc.pMult(b, c))
};
cc.pFuzzyEqual = function(a, b, c) {
	return a.x - c <= b.x && b.x <= a.x + c && a.y - c <= b.y && b.y <= a.y + c ? !0 : !1
};
cc.pCompMult = function(a, b) {
	return cc.p(a.x * b.x, a.y * b.y)
};
cc.pAngleSigned = function(a, b) {
	var c = cc.pNormalize(a),
		d = cc.pNormalize(b),
		c = Math.atan2(c.x * d.y - c.y * d.x, cc.pDot(c, d));
	return Math.abs(c) < cc.POINT_EPSILON ? 0 : c
};
cc.pAngle = function(a, b) {
	var c = Math.acos(cc.pDot(cc.pNormalize(a), cc.pNormalize(b)));
	return Math.abs(c) < cc.POINT_EPSILON ? 0 : c
};
cc.pRotateByAngle = function(a, b, c) {
	a = cc.pSub(a, b);
	var d = Math.cos(c);
	c = Math.sin(c);
	var e = a.x;
	a.x = e * d - a.y * c + b.x;
	a.y = e * c + a.y * d + b.y;
	return a
};
cc.pLineIntersect = function(a, b, c, d, e) {
	if (a.x === b.x && a.y === b.y || c.x === d.x && c.y === d.y) return !1;
	var f = b.x - a.x;
	b = b.y - a.y;
	var g = d.x - c.x;
	d = d.y - c.y;
	var h = a.x - c.x;
	a = a.y - c.y;
	c = d * f - g * b;
	e.x = g * a - d * h;
	e.y = f * a - b * h;
	if (0 === c) return 0 === e.x || 0 === e.y ? !0 : !1;
	e.x /= c;
	e.y /= c;
	return !0
};
cc.pSegmentIntersect = function(a, b, c, d) {
	var e = cc.p(0, 0);
	return cc.pLineIntersect(a, b, c, d, e) && 0 <= e.x && 1 >= e.x && 0 <= e.y && 1 >= e.y ? !0 : !1
};
cc.pIntersectPoint = function(a, b, c, d) {
	var e = cc.p(0, 0);
	return cc.pLineIntersect(a, b, c, d, e) ? (c = cc.p(0, 0), c.x = a.x + e.x * (b.x - a.x), c.y = a.y + e.x * (b.y - a.y), c) : cc.p(0, 0)
};
cc.pSameAs = function(a, b) {
	return null != a && null != b ? a.x === b.x && a.y === b.y : !1
};
cc.pZeroIn = function(a) {
	a.x = 0;
	a.y = 0
};
cc.pIn = function(a, b) {
	a.x = b.x;
	a.y = b.y
};
cc.pMultIn = function(a, b) {
	a.x *= b;
	a.y *= b
};
cc.pSubIn = function(a, b) {
	a.x -= b.x;
	a.y -= b.y
};
cc.pAddIn = function(a, b) {
	a.x += b.x;
	a.y += b.y
};
cc.pNormalizeIn = function(a) {
	var b = Math.sqrt(a.x * a.x + a.y * a.y);
	0 !== b && cc.pMultIn(a, 1 / b)
};
cc.vertexLineToPolygon = function(a, b, c, d, e) {
	e += d;
	if (!(1 >= e)) {
		b *= 0.5;
		for (var f, g = e - 1, h = d; h < e; h++) {
			f = 2 * h;
			var k = cc.p(a[2 * h], a[2 * h + 1]),
				m;
			if (0 === h) m = cc.pPerp(cc.pNormalize(cc.pSub(k, cc.p(a[2 * (h + 1)], a[2 * (h + 1) + 1]))));
			else if (h === g) m = cc.pPerp(cc.pNormalize(cc.pSub(cc.p(a[2 * (h - 1)], a[2 * (h - 1) + 1]), k)));
			else {
				m = cc.p(a[2 * (h - 1)], a[2 * (h - 1) + 1]);
				var n = cc.p(a[2 * (h + 1)], a[2 * (h + 1) + 1]),
					p = cc.pNormalize(cc.pSub(n, k)),
					r = cc.pNormalize(cc.pSub(m, k)),
					t = Math.acos(cc.pDot(p, r));
				m = t < cc.degreesToRadians(70) ? cc.pPerp(cc.pNormalize(cc.pMidpoint(p,
					r))) : t < cc.degreesToRadians(170) ? cc.pNormalize(cc.pMidpoint(p, r)) : cc.pPerp(cc.pNormalize(cc.pSub(n, m)))
			}
			m = cc.pMult(m, b);
			c[2 * f] = k.x + m.x;
			c[2 * f + 1] = k.y + m.y;
			c[2 * (f + 1)] = k.x - m.x;
			c[2 * (f + 1) + 1] = k.y - m.y
		}
		for (h = 0 === d ? 0 : d - 1; h < g; h++) f = 2 * h, a = f + 2, b = cc.vertex2(c[2 * f], c[2 * f + 1]), e = cc.vertex2(c[2 * (f + 1)], c[2 * (f + 1) + 1]), f = cc.vertex2(c[2 * a], c[2 * a]), d = cc.vertex2(c[2 * (a + 1)], c[2 * (a + 1) + 1]), b = !cc.vertexLineIntersect(b.x, b.y, d.x, d.y, e.x, e.y, f.x, f.y), !b.isSuccess && (0 > b.value || 1 < b.value) && (b.isSuccess = !0), b.isSuccess && (c[2 * a] = d.x,
			c[2 * a + 1] = d.y, c[2 * (a + 1)] = f.x, c[2 * (a + 1) + 1] = f.y)
	}
};
cc.vertexLineIntersect = function(a, b, c, d, e, f, g, h) {
	if (a === c && b === d || e === g && f === h) return {
		isSuccess: !1,
		value: 0
	};
	c -= a;
	d -= b;
	e -= a;
	f -= b;
	g -= a;
	h -= b;
	a = Math.sqrt(c * c + d * d);
	c /= a;
	d /= a;
	b = e * c + f * d;
	f = f * c - e * d;
	e = b;
	b = g * c + h * d;
	h = h * c - g * d;
	g = b;
	return f === h ? {
		isSuccess: !1,
		value: 0
	} : {
		isSuccess: !0,
		value: (g + (e - g) * h / (h - f)) / a
	}
};
cc.vertexListIsClockwise = function(a) {
	for (var b = 0, c = a.length; b < c; b++) {
		var d = a[(b + 1) % c],
			e = a[(b + 2) % c];
		if (0 < cc.pCross(cc.pSub(d, a[b]), cc.pSub(e, d))) return !1
	}
	return !0
};
cc.CGAffineToGL = function(a, b) {
	b[2] = b[3] = b[6] = b[7] = b[8] = b[9] = b[11] = b[14] = 0;
	b[10] = b[15] = 1;
	b[0] = a.a;
	b[4] = a.c;
	b[12] = a.tx;
	b[1] = a.b;
	b[5] = a.d;
	b[13] = a.ty
};
cc.GLToCGAffine = function(a, b) {
	b.a = a[0];
	b.c = a[4];
	b.tx = a[12];
	b.b = a[1];
	b.d = a[5];
	b.ty = a[13]
};
cc.Touch = cc.Class.extend({
	_lastModified: 0,
	_point: null,
	_prevPoint: null,
	_id: 0,
	_startPointCaptured: !1,
	_startPoint: null,
	ctor: function(a, b, c) {
		this.setTouchInfo(c, a, b)
	},
	getLocation: function() {
		return {
			x: this._point.x,
			y: this._point.y
		}
	},
	getLocationX: function() {
		return this._point.x
	},
	getLocationY: function() {
		return this._point.y
	},
	getPreviousLocation: function() {
		return {
			x: this._prevPoint.x,
			y: this._prevPoint.y
		}
	},
	getStartLocation: function() {
		return {
			x: this._startPoint.x,
			y: this._startPoint.y
		}
	},
	getDelta: function() {
		return cc.pSub(this._point,
			this._prevPoint)
	},
	getLocationInView: function() {
		return {
			x: this._point.x,
			y: this._point.y
		}
	},
	getPreviousLocationInView: function() {
		return {
			x: this._prevPoint.x,
			y: this._prevPoint.y
		}
	},
	getStartLocationInView: function() {
		return {
			x: this._startPoint.x,
			y: this._startPoint.y
		}
	},
	getID: function() {
		return this._id
	},
	getId: function() {
		cc.log("getId is deprecated. Please use getID instead.");
		return this._id
	},
	setTouchInfo: function(a, b, c) {
		this._prevPoint = this._point;
		this._point = cc.p(b || 0, c || 0);
		this._id = a;
		this._startPointCaptured ||
			(this._startPoint = cc.p(this._point), cc.view._convertPointWithScale(this._startPoint), this._startPointCaptured = !0)
	},
	_setPoint: function(a, b) {
		void 0 === b ? (this._point.x = a.x, this._point.y = a.y) : (this._point.x = a, this._point.y = b)
	},
	_setPrevPoint: function(a, b) {
		this._prevPoint = void 0 === b ? cc.p(a.x, a.y) : cc.p(a || 0, b || 0)
	}
});
cc.Event = cc.Class.extend({
	_type: 0,
	_isStopped: !1,
	_currentTarget: null,
	_setCurrentTarget: function(a) {
		this._currentTarget = a
	},
	ctor: function(a) {
		this._type = a
	},
	getType: function() {
		return this._type
	},
	stopPropagation: function() {
		this._isStopped = !0
	},
	isStopped: function() {
		return this._isStopped
	},
	getCurrentTarget: function() {
		return this._currentTarget
	}
});
cc.Event.TOUCH = 0;
cc.Event.KEYBOARD = 1;
cc.Event.ACCELERATION = 2;
cc.Event.MOUSE = 3;
cc.Event.FOCUS = 4;
cc.Event.CUSTOM = 6;
cc.EventCustom = cc.Event.extend({
	_eventName: null,
	_userData: null,
	ctor: function(a) {
		cc.Event.prototype.ctor.call(this, cc.Event.CUSTOM);
		this._eventName = a
	},
	setUserData: function(a) {
		this._userData = a
	},
	getUserData: function() {
		return this._userData
	},
	getEventName: function() {
		return this._eventName
	}
});
cc.EventMouse = cc.Event.extend({
	_eventType: 0,
	_button: 0,
	_x: 0,
	_y: 0,
	_prevX: 0,
	_prevY: 0,
	_scrollX: 0,
	_scrollY: 0,
	ctor: function(a) {
		cc.Event.prototype.ctor.call(this, cc.Event.MOUSE);
		this._eventType = a
	},
	setScrollData: function(a, b) {
		this._scrollX = a;
		this._scrollY = b
	},
	getScrollX: function() {
		return this._scrollX
	},
	getScrollY: function() {
		return this._scrollY
	},
	setLocation: function(a, b) {
		this._x = a;
		this._y = b
	},
	getLocation: function() {
		return {
			x: this._x,
			y: this._y
		}
	},
	getLocationInView: function() {
		return {
			x: this._x,
			y: cc.view._designResolutionSize.height -
				this._y
		}
	},
	_setPrevCursor: function(a, b) {
		this._prevX = a;
		this._prevY = b
	},
	getDelta: function() {
		return {
			x: this._x - this._prevX,
			y: this._y - this._prevY
		}
	},
	getDeltaX: function() {
		return this._x - this._prevX
	},
	getDeltaY: function() {
		return this._y - this._prevY
	},
	setButton: function(a) {
		this._button = a
	},
	getButton: function() {
		return this._button
	},
	getLocationX: function() {
		return this._x
	},
	getLocationY: function() {
		return this._y
	}
});
cc.EventMouse.NONE = 0;
cc.EventMouse.DOWN = 1;
cc.EventMouse.UP = 2;
cc.EventMouse.MOVE = 3;
cc.EventMouse.SCROLL = 4;
cc.EventMouse.BUTTON_LEFT = 0;
cc.EventMouse.BUTTON_RIGHT = 2;
cc.EventMouse.BUTTON_MIDDLE = 1;
cc.EventMouse.BUTTON_4 = 3;
cc.EventMouse.BUTTON_5 = 4;
cc.EventMouse.BUTTON_6 = 5;
cc.EventMouse.BUTTON_7 = 6;
cc.EventMouse.BUTTON_8 = 7;
cc.EventTouch = cc.Event.extend({
	_eventCode: 0,
	_touches: null,
	ctor: function(a) {
		cc.Event.prototype.ctor.call(this, cc.Event.TOUCH);
		this._touches = a || []
	},
	getEventCode: function() {
		return this._eventCode
	},
	getTouches: function() {
		return this._touches
	},
	_setEventCode: function(a) {
		this._eventCode = a
	},
	_setTouches: function(a) {
		this._touches = a
	}
});
cc.EventTouch.MAX_TOUCHES = 5;
cc.EventTouch.EventCode = {
	BEGAN: 0,
	MOVED: 1,
	ENDED: 2,
	CANCELLED: 3
};
cc.EventFocus = cc.Event.extend({
	_widgetGetFocus: null,
	_widgetLoseFocus: null,
	ctor: function(a, b) {
		cc.Event.prototype.ctor.call(this, cc.Event.FOCUS);
		this._widgetGetFocus = b;
		this._widgetLoseFocus = a
	}
});
cc.EventListener = cc.Class.extend({
	_onEvent: null,
	_type: 0,
	_listenerID: null,
	_registered: !1,
	_fixedPriority: 0,
	_node: null,
	_paused: !0,
	_isEnabled: !0,
	ctor: function(a, b, c) {
		this._onEvent = c;
		this._type = a || 0;
		this._listenerID = b || ""
	},
	_setPaused: function(a) {
		this._paused = a
	},
	_isPaused: function() {
		return this._paused
	},
	_setRegistered: function(a) {
		this._registered = a
	},
	_isRegistered: function() {
		return this._registered
	},
	_getType: function() {
		return this._type
	},
	_getListenerID: function() {
		return this._listenerID
	},
	_setFixedPriority: function(a) {
		this._fixedPriority =
			a
	},
	_getFixedPriority: function() {
		return this._fixedPriority
	},
	_setSceneGraphPriority: function(a) {
		this._node = a
	},
	_getSceneGraphPriority: function() {
		return this._node
	},
	checkAvailable: function() {
		return null !== this._onEvent
	},
	clone: function() {
		return null
	},
	setEnabled: function(a) {
		this._isEnabled = a
	},
	isEnabled: function() {
		return this._isEnabled
	},
	retain: function() {},
	release: function() {}
});
cc.EventListener.UNKNOWN = 0;
cc.EventListener.TOUCH_ONE_BY_ONE = 1;
cc.EventListener.TOUCH_ALL_AT_ONCE = 2;
cc.EventListener.KEYBOARD = 3;
cc.EventListener.MOUSE = 4;
cc.EventListener.ACCELERATION = 6;
cc.EventListener.FOCUS = 7;
cc.EventListener.CUSTOM = 8;
cc._EventListenerCustom = cc.EventListener.extend({
	_onCustomEvent: null,
	ctor: function(a, b, c) {
		this._onCustomEvent = b;
		this._target = c;
		cc.EventListener.prototype.ctor.call(this, cc.EventListener.CUSTOM, a, this._callback)
	},
	_callback: function(a) {
		null !== this._onCustomEvent && this._onCustomEvent.call(this._target, a)
	},
	checkAvailable: function() {
		return cc.EventListener.prototype.checkAvailable.call(this) && null !== this._onCustomEvent
	},
	clone: function() {
		return new cc._EventListenerCustom(this._listenerID, this._onCustomEvent)
	}
});
cc._EventListenerCustom.create = function(a, b) {
	return new cc._EventListenerCustom(a, b)
};
cc._EventListenerMouse = cc.EventListener.extend({
	onMouseDown: null,
	onMouseUp: null,
	onMouseMove: null,
	onMouseScroll: null,
	ctor: function() {
		cc.EventListener.prototype.ctor.call(this, cc.EventListener.MOUSE, cc._EventListenerMouse.LISTENER_ID, this._callback)
	},
	_callback: function(a) {
		var b = cc.EventMouse;
		switch (a._eventType) {
			case b.DOWN:
				if (this.onMouseDown) this.onMouseDown(a);
				break;
			case b.UP:
				if (this.onMouseUp) this.onMouseUp(a);
				break;
			case b.MOVE:
				if (this.onMouseMove) this.onMouseMove(a);
				break;
			case b.SCROLL:
				if (this.onMouseScroll) this.onMouseScroll(a)
		}
	},
	clone: function() {
		var a = new cc._EventListenerMouse;
		a.onMouseDown = this.onMouseDown;
		a.onMouseUp = this.onMouseUp;
		a.onMouseMove = this.onMouseMove;
		a.onMouseScroll = this.onMouseScroll;
		return a
	},
	checkAvailable: function() {
		return !0
	}
});
cc._EventListenerMouse.LISTENER_ID = "__cc_mouse";
cc._EventListenerMouse.create = function() {
	return new cc._EventListenerMouse
};
cc._EventListenerTouchOneByOne = cc.EventListener.extend({
	_claimedTouches: null,
	swallowTouches: !1,
	onTouchBegan: null,
	onTouchMoved: null,
	onTouchEnded: null,
	onTouchCancelled: null,
	ctor: function() {
		cc.EventListener.prototype.ctor.call(this, cc.EventListener.TOUCH_ONE_BY_ONE, cc._EventListenerTouchOneByOne.LISTENER_ID, null);
		this._claimedTouches = []
	},
	setSwallowTouches: function(a) {
		this.swallowTouches = a
	},
	isSwallowTouches: function() {
		return this.swallowTouches
	},
	clone: function() {
		var a = new cc._EventListenerTouchOneByOne;
		a.onTouchBegan = this.onTouchBegan;
		a.onTouchMoved = this.onTouchMoved;
		a.onTouchEnded = this.onTouchEnded;
		a.onTouchCancelled = this.onTouchCancelled;
		a.swallowTouches = this.swallowTouches;
		return a
	},
	checkAvailable: function() {
		return this.onTouchBegan ? !0 : (cc.log(cc._LogInfos._EventListenerTouchOneByOne_checkAvailable), !1)
	}
});
cc._EventListenerTouchOneByOne.LISTENER_ID = "__cc_touch_one_by_one";
cc._EventListenerTouchOneByOne.create = function() {
	return new cc._EventListenerTouchOneByOne
};
cc._EventListenerTouchAllAtOnce = cc.EventListener.extend({
	onTouchesBegan: null,
	onTouchesMoved: null,
	onTouchesEnded: null,
	onTouchesCancelled: null,
	ctor: function() {
		cc.EventListener.prototype.ctor.call(this, cc.EventListener.TOUCH_ALL_AT_ONCE, cc._EventListenerTouchAllAtOnce.LISTENER_ID, null)
	},
	clone: function() {
		var a = new cc._EventListenerTouchAllAtOnce;
		a.onTouchesBegan = this.onTouchesBegan;
		a.onTouchesMoved = this.onTouchesMoved;
		a.onTouchesEnded = this.onTouchesEnded;
		a.onTouchesCancelled = this.onTouchesCancelled;
		return a
	},
	checkAvailable: function() {
		return null === this.onTouchesBegan && null === this.onTouchesMoved && null === this.onTouchesEnded && null === this.onTouchesCancelled ? (cc.log(cc._LogInfos._EventListenerTouchAllAtOnce_checkAvailable), !1) : !0
	}
});
cc._EventListenerTouchAllAtOnce.LISTENER_ID = "__cc_touch_all_at_once";
cc._EventListenerTouchAllAtOnce.create = function() {
	return new cc._EventListenerTouchAllAtOnce
};
cc.EventListener.create = function(a) {
	cc.assert(a && a.event, cc._LogInfos.EventListener_create);
	var b = a.event;
	delete a.event;
	var c = null;
	b === cc.EventListener.TOUCH_ONE_BY_ONE ? c = new cc._EventListenerTouchOneByOne : b === cc.EventListener.TOUCH_ALL_AT_ONCE ? c = new cc._EventListenerTouchAllAtOnce : b === cc.EventListener.MOUSE ? c = new cc._EventListenerMouse : b === cc.EventListener.CUSTOM ? (c = new cc._EventListenerCustom(a.eventName, a.callback), delete a.eventName, delete a.callback) : b === cc.EventListener.KEYBOARD ? c = new cc._EventListenerKeyboard :
		b === cc.EventListener.ACCELERATION ? (c = new cc._EventListenerAcceleration(a.callback), delete a.callback) : b === cc.EventListener.FOCUS && (c = new cc._EventListenerFocus);
	for (var d in a) c[d] = a[d];
	return c
};
cc._EventListenerFocus = cc.EventListener.extend({
	clone: function() {
		var a = new cc._EventListenerFocus;
		a.onFocusChanged = this.onFocusChanged;
		return a
	},
	checkAvailable: function() {
		return this.onFocusChanged ? !0 : (cc.log("Invalid EventListenerFocus!"), !1)
	},
	onFocusChanged: null,
	ctor: function() {
		cc.EventListener.prototype.ctor.call(this, cc.EventListener.FOCUS, cc._EventListenerFocus.LISTENER_ID, this._callback)
	},
	_callback: function(a) {
		if (this.onFocusChanged) this.onFocusChanged(a._widgetLoseFocus, a._widgetGetFocus)
	}
});
cc._EventListenerFocus.LISTENER_ID = "__cc_focus_event";
(function() {
	function a(a) {
		var c = cc.Event,
			d = a._type;
		if (d === c.ACCELERATION) return cc._EventListenerAcceleration.LISTENER_ID;
		if (d === c.CUSTOM) return a._eventName;
		if (d === c.KEYBOARD) return cc._EventListenerKeyboard.LISTENER_ID;
		if (d === c.MOUSE) return cc._EventListenerMouse.LISTENER_ID;
		if (d === c.FOCUS) return cc._EventListenerFocus.LISTENER_ID;
		d === c.TOUCH && cc.log(cc._LogInfos.__getListenerID);
		return ""
	}
	cc._EventListenerVector = cc.Class.extend({
		_fixedListeners: null,
		_sceneGraphListeners: null,
		gt0Index: 0,
		ctor: function() {
			this._fixedListeners = [];
			this._sceneGraphListeners = []
		},
		size: function() {
			return this._fixedListeners.length + this._sceneGraphListeners.length
		},
		empty: function() {
			return 0 === this._fixedListeners.length && 0 === this._sceneGraphListeners.length
		},
		push: function(a) {
			0 === a._getFixedPriority() ? this._sceneGraphListeners.push(a) : this._fixedListeners.push(a)
		},
		clearSceneGraphListeners: function() {
			this._sceneGraphListeners.length = 0
		},
		clearFixedListeners: function() {
			this._fixedListeners.length = 0
		},
		clear: function() {
			this._sceneGraphListeners.length =
				0;
			this._fixedListeners.length = 0
		},
		getFixedPriorityListeners: function() {
			return this._fixedListeners
		},
		getSceneGraphPriorityListeners: function() {
			return this._sceneGraphListeners
		}
	});
	cc.eventManager = {
		DIRTY_NONE: 0,
		DIRTY_FIXED_PRIORITY: 1,
		DIRTY_SCENE_GRAPH_PRIORITY: 2,
		DIRTY_ALL: 3,
		_listenersMap: {},
		_priorityDirtyFlagMap: {},
		_nodeListenersMap: {},
		_nodePriorityMap: {},
		_globalZOrderNodeMap: {},
		_toAddedListeners: [],
		_toRemovedListeners: [],
		_dirtyNodes: [],
		_inDispatch: 0,
		_isEnabled: !1,
		_nodePriorityIndex: 0,
		_internalCustomListenerIDs: [cc.game.EVENT_HIDE,
			cc.game.EVENT_SHOW
		],
		_setDirtyForNode: function(a) {
			null != this._nodeListenersMap[a.__instanceId] && this._dirtyNodes.push(a);
			a = a.getChildren();
			for (var c = 0, d = a.length; c < d; c++) this._setDirtyForNode(a[c])
		},
		pauseTarget: function(a, c) {
			var d = this._nodeListenersMap[a.__instanceId],
				e, f;
			if (d)
				for (e = 0, f = d.length; e < f; e++) d[e]._setPaused(!0);
			if (!0 === c)
				for (d = a.getChildren(), e = 0, f = d.length; e < f; e++) this.pauseTarget(d[e], !0)
		},
		resumeTarget: function(a, c) {
			var d = this._nodeListenersMap[a.__instanceId],
				e, f;
			if (d)
				for (e = 0, f = d.length; e <
					f; e++) d[e]._setPaused(!1);
			this._setDirtyForNode(a);
			if (!0 === c)
				for (d = a.getChildren(), e = 0, f = d.length; e < f; e++) this.resumeTarget(d[e], !0)
		},
		_addListener: function(a) {
			0 === this._inDispatch ? this._forceAddEventListener(a) : this._toAddedListeners.push(a)
		},
		_forceAddEventListener: function(a) {
			var c = a._getListenerID(),
				d = this._listenersMap[c];
			d || (d = new cc._EventListenerVector, this._listenersMap[c] = d);
			d.push(a);
			0 === a._getFixedPriority() ? (this._setDirty(c, this.DIRTY_SCENE_GRAPH_PRIORITY), c = a._getSceneGraphPriority(),
				null === c && cc.log(cc._LogInfos.eventManager__forceAddEventListener), this._associateNodeAndEventListener(c, a), c.isRunning() && this.resumeTarget(c)) : this._setDirty(c, this.DIRTY_FIXED_PRIORITY)
		},
		_getListeners: function(a) {
			return this._listenersMap[a]
		},
		_updateDirtyFlagForSceneGraph: function() {
			if (0 !== this._dirtyNodes.length) {
				for (var a = this._dirtyNodes, c, d, e = this._nodeListenersMap, f = 0, g = a.length; f < g; f++)
					if (c = e[a[f].__instanceId])
						for (var h = 0, k = c.length; h < k; h++)(d = c[h]) && this._setDirty(d._getListenerID(), this.DIRTY_SCENE_GRAPH_PRIORITY);
				this._dirtyNodes.length = 0
			}
		},
		_removeAllListenersInVector: function(a) {
			if (a)
				for (var c, d = 0; d < a.length;) c = a[d], c._setRegistered(!1), null != c._getSceneGraphPriority() && (this._dissociateNodeAndEventListener(c._getSceneGraphPriority(), c), c._setSceneGraphPriority(null)), 0 === this._inDispatch ? cc.arrayRemoveObject(a, c) : ++d
		},
		_removeListenersForListenerID: function(a) {
			var c = this._listenersMap[a];
			if (c) {
				var d = c.getFixedPriorityListeners(),
					e = c.getSceneGraphPriorityListeners();
				this._removeAllListenersInVector(e);
				this._removeAllListenersInVector(d);
				delete this._priorityDirtyFlagMap[a];
				this._inDispatch || c.clear();
				delete this._listenersMap[a]
			}
			d = this._toAddedListeners;
			for (c = 0; c < d.length;)(e = d[c]) && e._getListenerID() === a ? cc.arrayRemoveObject(d, e) : ++c
		},
		_sortEventListeners: function(a) {
			var c = this.DIRTY_NONE,
				d = this._priorityDirtyFlagMap;
			d[a] && (c = d[a]);
			c !== this.DIRTY_NONE && (d[a] = this.DIRTY_NONE, c & this.DIRTY_FIXED_PRIORITY && this._sortListenersOfFixedPriority(a), c & this.DIRTY_SCENE_GRAPH_PRIORITY && ((c = cc.director.getRunningScene()) ? this._sortListenersOfSceneGraphPriority(a,
				c) : d[a] = this.DIRTY_SCENE_GRAPH_PRIORITY))
		},
		_sortListenersOfSceneGraphPriority: function(a, c) {
			var d = this._getListeners(a);
			if (d) {
				var e = d.getSceneGraphPriorityListeners();
				e && 0 !== e.length && (this._nodePriorityIndex = 0, this._nodePriorityMap = {}, this._visitTarget(c, !0), d.getSceneGraphPriorityListeners().sort(this._sortEventListenersOfSceneGraphPriorityDes))
			}
		},
		_sortEventListenersOfSceneGraphPriorityDes: function(a, c) {
			var d = cc.eventManager._nodePriorityMap,
				e = a._getSceneGraphPriority(),
				f = c._getSceneGraphPriority();
			return c && f && d[f.__instanceId] ? a && e && d[e.__instanceId] ? d[c._getSceneGraphPriority().__instanceId] - d[a._getSceneGraphPriority().__instanceId] : 1 : -1
		},
		_sortListenersOfFixedPriority: function(a) {
			if (a = this._listenersMap[a]) {
				var c = a.getFixedPriorityListeners();
				if (c && 0 !== c.length) {
					c.sort(this._sortListenersOfFixedPriorityAsc);
					for (var d = 0, e = c.length; d < e && !(0 <= c[d]._getFixedPriority());) ++d;
					a.gt0Index = d
				}
			}
		},
		_sortListenersOfFixedPriorityAsc: function(a, c) {
			return a._getFixedPriority() - c._getFixedPriority()
		},
		_onUpdateListeners: function(a) {
			var c =
				a.getFixedPriorityListeners(),
				d = a.getSceneGraphPriorityListeners(),
				e, f, g = this._toRemovedListeners;
			if (d)
				for (e = 0; e < d.length;) f = d[e], f._isRegistered() ? ++e : (cc.arrayRemoveObject(d, f), f = g.indexOf(f), -1 !== f && g.splice(f, 1));
			if (c)
				for (e = 0; e < c.length;) f = c[e], f._isRegistered() ? ++e : (cc.arrayRemoveObject(c, f), f = g.indexOf(f), -1 !== f && g.splice(f, 1));
			d && 0 === d.length && a.clearSceneGraphListeners();
			c && 0 === c.length && a.clearFixedListeners()
		},
		frameUpdateListeners: function() {
			var a = this._listenersMap,
				c = this._priorityDirtyFlagMap,
				d;
			for (d in a) a[d].empty() && (delete c[d], delete a[d]);
			a = this._toAddedListeners;
			if (0 !== a.length) {
				c = 0;
				for (d = a.length; c < d; c++) this._forceAddEventListener(a[c]);
				a.length = 0
			}
			0 !== this._toRemovedListeners.length && this._cleanToRemovedListeners()
		},
		_updateTouchListeners: function(a) {
			a = this._inDispatch;
			cc.assert(0 < a, cc._LogInfos.EventManager__updateListeners);
			if (!(1 < a)) {
				var c;
				(c = this._listenersMap[cc._EventListenerTouchOneByOne.LISTENER_ID]) && this._onUpdateListeners(c);
				(c = this._listenersMap[cc._EventListenerTouchAllAtOnce.LISTENER_ID]) &&
				this._onUpdateListeners(c);
				cc.assert(1 === a, cc._LogInfos.EventManager__updateListeners_2);
				a = this._toAddedListeners;
				if (0 !== a.length) {
					c = 0;
					for (var d = a.length; c < d; c++) this._forceAddEventListener(a[c]);
					a.length = 0
				}
				0 !== this._toRemovedListeners.length && this._cleanToRemovedListeners()
			}
		},
		_cleanToRemovedListeners: function() {
			for (var a = this._toRemovedListeners, c = 0; c < a.length; c++) {
				var d = a[c],
					e = this._listenersMap[d._getListenerID()];
				if (e) {
					var f = e.getFixedPriorityListeners(),
						g = e.getSceneGraphPriorityListeners();
					g &&
						(e = g.indexOf(d), -1 !== e && g.splice(e, 1));
					f && (e = f.indexOf(d), -1 !== e && f.splice(e, 1))
				}
			}
			a.length = 0
		},
		_onTouchEventCallback: function(a, c) {
			if (!a._isRegistered) return !1;
			var d = c.event,
				e = c.selTouch;
			d._setCurrentTarget(a._node);
			var f = !1,
				g, h = d.getEventCode(),
				k = cc.EventTouch.EventCode;
			if (h === k.BEGAN) a.onTouchBegan && (f = a.onTouchBegan(e, d)) && a._registered && a._claimedTouches.push(e);
			else if (0 < a._claimedTouches.length && -1 !== (g = a._claimedTouches.indexOf(e)))
				if (f = !0, h === k.MOVED && a.onTouchMoved) a.onTouchMoved(e, d);
				else if (h ===
				k.ENDED) {
				if (a.onTouchEnded) a.onTouchEnded(e, d);
				a._registered && a._claimedTouches.splice(g, 1)
			} else if (h === k.CANCELLED) {
				if (a.onTouchCancelled) a.onTouchCancelled(e, d);
				a._registered && a._claimedTouches.splice(g, 1)
			}
			return d.isStopped() ? (cc.eventManager._updateTouchListeners(d), !0) : f && a._registered && a.swallowTouches ? (c.needsMutableSet && c.touches.splice(e, 1), !0) : !1
		},
		_dispatchTouchEvent: function(a) {
			this._sortEventListeners(cc._EventListenerTouchOneByOne.LISTENER_ID);
			this._sortEventListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID);
			var c = this._getListeners(cc._EventListenerTouchOneByOne.LISTENER_ID),
				d = this._getListeners(cc._EventListenerTouchAllAtOnce.LISTENER_ID);
			if (null !== c || null !== d) {
				var e = a.getTouches(),
					f = cc.copyArray(e),
					g = {
						event: a,
						needsMutableSet: c && d,
						touches: f,
						selTouch: null
					};
				if (c)
					for (var h = 0; h < e.length; h++)
						if (g.selTouch = e[h], this._dispatchEventToListeners(c, this._onTouchEventCallback, g), a.isStopped()) return;
				if (d && 0 < f.length && (this._dispatchEventToListeners(d, this._onTouchesEventCallback, {
						event: a,
						touches: f
					}), a.isStopped())) return;
				this._updateTouchListeners(a)
			}
		},
		_onTouchesEventCallback: function(a, c) {
			if (!a._registered) return !1;
			var d = cc.EventTouch.EventCode,
				e = c.event,
				f = c.touches,
				g = e.getEventCode();
			e._setCurrentTarget(a._node);
			if (g === d.BEGAN && a.onTouchesBegan) a.onTouchesBegan(f, e);
			else if (g === d.MOVED && a.onTouchesMoved) a.onTouchesMoved(f, e);
			else if (g === d.ENDED && a.onTouchesEnded) a.onTouchesEnded(f, e);
			else if (g === d.CANCELLED && a.onTouchesCancelled) a.onTouchesCancelled(f, e);
			return e.isStopped() ? (cc.eventManager._updateTouchListeners(e),
				!0) : !1
		},
		_associateNodeAndEventListener: function(a, c) {
			var d = this._nodeListenersMap[a.__instanceId];
			d || (d = [], this._nodeListenersMap[a.__instanceId] = d);
			d.push(c)
		},
		_dissociateNodeAndEventListener: function(a, c) {
			var d = this._nodeListenersMap[a.__instanceId];
			d && (cc.arrayRemoveObject(d, c), 0 === d.length && delete this._nodeListenersMap[a.__instanceId])
		},
		_dispatchEventToListeners: function(a, c, d) {
			var e = !1,
				f = a.getFixedPriorityListeners(),
				g = a.getSceneGraphPriorityListeners(),
				h = 0,
				k;
			if (f && 0 !== f.length)
				for (; h < a.gt0Index; ++h)
					if (k =
						f[h], k.isEnabled() && !k._isPaused() && k._isRegistered() && c(k, d)) {
						e = !0;
						break
					} if (g && !e)
				for (a = 0; a < g.length; a++)
					if (k = g[a], k.isEnabled() && !k._isPaused() && k._isRegistered() && c(k, d)) {
						e = !0;
						break
					} if (f && !e)
				for (; h < f.length && (k = f[h], !k.isEnabled() || k._isPaused() || !k._isRegistered() || !c(k, d)); ++h);
		},
		_setDirty: function(a, c) {
			var d = this._priorityDirtyFlagMap;
			d[a] = null == d[a] ? c : c | d[a]
		},
		_visitTarget: function(a, c) {
			var d = a.getChildren(),
				e = 0,
				f = d.length,
				g = this._globalZOrderNodeMap,
				h = this._nodeListenersMap;
			if (0 < f) {
				for (var k; e <
					f; e++)
					if ((k = d[e]) && 0 > k.getLocalZOrder()) this._visitTarget(k, !1);
					else break;
				null != h[a.__instanceId] && (g[a.getGlobalZOrder()] || (g[a.getGlobalZOrder()] = []), g[a.getGlobalZOrder()].push(a.__instanceId));
				for (; e < f; e++)(k = d[e]) && this._visitTarget(k, !1)
			} else null != h[a.__instanceId] && (g[a.getGlobalZOrder()] || (g[a.getGlobalZOrder()] = []), g[a.getGlobalZOrder()].push(a.__instanceId));
			if (c) {
				var d = [],
					m;
				for (m in g) d.push(m);
				d.sort(this._sortNumberAsc);
				m = d.length;
				k = this._nodePriorityMap;
				for (e = 0; e < m; e++)
					for (f = g[d[e]],
						h = 0; h < f.length; h++) k[f[h]] = ++this._nodePriorityIndex;
				this._globalZOrderNodeMap = {}
			}
		},
		_sortNumberAsc: function(a, c) {
			return a - c
		},
		addListener: function(a, c) {
			cc.assert(a && c, cc._LogInfos.eventManager_addListener_2);
			if (!(a instanceof cc.EventListener)) cc.assert(!cc.isNumber(c), cc._LogInfos.eventManager_addListener_3), a = cc.EventListener.create(a);
			else if (a._isRegistered()) {
				cc.log(cc._LogInfos.eventManager_addListener_4);
				return
			}
			if (a.checkAvailable()) {
				if (cc.isNumber(c)) {
					if (0 === c) {
						cc.log(cc._LogInfos.eventManager_addListener);
						return
					}
					a._setSceneGraphPriority(null);
					a._setFixedPriority(c);
					a._setRegistered(!0);
					a._setPaused(!1)
				} else a._setSceneGraphPriority(c), a._setFixedPriority(0), a._setRegistered(!0);
				this._addListener(a);
				return a
			}
		},
		addCustomListener: function(a, c, d) {
			a = new cc._EventListenerCustom(a, c, d);
			this.addListener(a, 1);
			return a
		},
		removeListener: function(a) {
			if (null != a) {
				var c, d = this._listenersMap,
					e;
				for (e in d) {
					var f = d[e],
						g = f.getFixedPriorityListeners();
					c = f.getSceneGraphPriorityListeners();
					(c = this._removeListenerInVector(c,
						a)) ? this._setDirty(a._getListenerID(), this.DIRTY_SCENE_GRAPH_PRIORITY): (c = this._removeListenerInVector(g, a)) && this._setDirty(a._getListenerID(), this.DIRTY_FIXED_PRIORITY);
					f.empty() && (delete this._priorityDirtyFlagMap[a._getListenerID()], delete d[e]);
					if (c) break
				}
				if (!c)
					for (d = this._toAddedListeners, e = 0, f = d.length; e < f; e++)
						if (g = d[e], g === a) {
							cc.arrayRemoveObject(d, g);
							g._setRegistered(!1);
							break
						}
			}
		},
		_removeListenerInCallback: function(a, c) {
			if (null == a) return !1;
			for (var d = 0, e = a.length; d < e; d++) {
				var f = a[d];
				if (f._onCustomEvent ===
					c || f._onEvent === c) return f._setRegistered(!1), null != f._getSceneGraphPriority() && (this._dissociateNodeAndEventListener(f._getSceneGraphPriority(), f), f._setSceneGraphPriority(null)), 0 === this._inDispatch && cc.arrayRemoveObject(a, f), !0
			}
			return !1
		},
		_removeListenerInVector: function(a, c) {
			if (null == a) return !1;
			for (var d = 0, e = a.length; d < e; d++) {
				var f = a[d];
				if (f === c) return f._setRegistered(!1), null != f._getSceneGraphPriority() && (this._dissociateNodeAndEventListener(f._getSceneGraphPriority(), f), f._setSceneGraphPriority(null)),
					0 === this._inDispatch ? cc.arrayRemoveObject(a, f) : this._toRemovedListeners.push(f), !0
			}
			return !1
		},
		removeListeners: function(a, c) {
			if (a instanceof cc.Node) {
				delete this._nodePriorityMap[a.__instanceId];
				cc.arrayRemoveObject(this._dirtyNodes, a);
				var d = this._nodeListenersMap[a.__instanceId];
				if (d) {
					for (var e = cc.copyArray(d), d = 0; d < e.length; d++) this.removeListener(e[d]);
					e.length = 0
				}
				e = this._toAddedListeners;
				for (d = 0; d < e.length;) {
					var f = e[d];
					f._getSceneGraphPriority() === a ? (f._setSceneGraphPriority(null), f._setRegistered(!1),
						e.splice(d, 1)) : ++d
				}
				if (!0 === c)
					for (e = a.getChildren(), d = 0, f = e.length; d < f; d++) this.removeListeners(e[d], !0)
			} else a === cc.EventListener.TOUCH_ONE_BY_ONE ? this._removeListenersForListenerID(cc._EventListenerTouchOneByOne.LISTENER_ID) : a === cc.EventListener.TOUCH_ALL_AT_ONCE ? this._removeListenersForListenerID(cc._EventListenerTouchAllAtOnce.LISTENER_ID) : a === cc.EventListener.MOUSE ? this._removeListenersForListenerID(cc._EventListenerMouse.LISTENER_ID) : a === cc.EventListener.ACCELERATION ? this._removeListenersForListenerID(cc._EventListenerAcceleration.LISTENER_ID) :
				a === cc.EventListener.KEYBOARD ? this._removeListenersForListenerID(cc._EventListenerKeyboard.LISTENER_ID) : cc.log(cc._LogInfos.eventManager_removeListeners)
		},
		removeCustomListeners: function(a) {
			this._removeListenersForListenerID(a)
		},
		removeAllListeners: function() {
			var a = this._listenersMap,
				c = this._internalCustomListenerIDs,
				d;
			for (d in a) - 1 === c.indexOf(d) && this._removeListenersForListenerID(d)
		},
		setPriority: function(a, c) {
			if (null != a) {
				var d = this._listenersMap,
					e;
				for (e in d) {
					var f = d[e].getFixedPriorityListeners();
					if (f && -1 !== f.indexOf(a)) {
						null != a._getSceneGraphPriority() && cc.log(cc._LogInfos.eventManager_setPriority);
						a._getFixedPriority() !== c && (a._setFixedPriority(c), this._setDirty(a._getListenerID(), this.DIRTY_FIXED_PRIORITY));
						break
					}
				}
			}
		},
		setEnabled: function(a) {
			this._isEnabled = a
		},
		isEnabled: function() {
			return this._isEnabled
		},
		dispatchEvent: function(b) {
			if (this._isEnabled) {
				this._updateDirtyFlagForSceneGraph();
				this._inDispatch++;
				if (!b || !b.getType) throw Error("event is undefined");
				if (b._type === cc.Event.TOUCH) this._dispatchTouchEvent(b);
				else {
					var c = a(b);
					this._sortEventListeners(c);
					if (c = this._listenersMap[c]) this._dispatchEventToListeners(c, this._onListenerCallback, b), this._onUpdateListeners(c)
				}
				this._inDispatch--
			}
		},
		_onListenerCallback: function(a, c) {
			c._setCurrentTarget(a._getSceneGraphPriority());
			a._onEvent(c);
			return c.isStopped()
		},
		dispatchCustomEvent: function(a, c) {
			var d = new cc.EventCustom(a);
			d.setUserData(c);
			this.dispatchEvent(d)
		}
	}
})();
cc.EventAcceleration = cc.Event.extend({
	_acc: null,
	ctor: function(a) {
		cc.Event.prototype.ctor.call(this, cc.Event.ACCELERATION);
		this._acc = a
	}
});
cc.EventKeyboard = cc.Event.extend({
	_keyCode: 0,
	_isPressed: !1,
	ctor: function(a, b) {
		cc.Event.prototype.ctor.call(this, cc.Event.KEYBOARD);
		this._keyCode = a;
		this._isPressed = b
	}
});
cc._EventListenerAcceleration = cc.EventListener.extend({
	_onAccelerationEvent: null,
	ctor: function(a) {
		this._onAccelerationEvent = a;
		var b = this;
		cc.EventListener.prototype.ctor.call(this, cc.EventListener.ACCELERATION, cc._EventListenerAcceleration.LISTENER_ID, function(a) {
			b._onAccelerationEvent(a._acc, a)
		})
	},
	checkAvailable: function() {
		cc.assert(this._onAccelerationEvent, cc._LogInfos._EventListenerAcceleration_checkAvailable);
		return !0
	},
	clone: function() {
		return new cc._EventListenerAcceleration(this._onAccelerationEvent)
	}
});
cc._EventListenerAcceleration.LISTENER_ID = "__cc_acceleration";
cc._EventListenerAcceleration.create = function(a) {
	return new cc._EventListenerAcceleration(a)
};
cc._EventListenerKeyboard = cc.EventListener.extend({
	onKeyPressed: null,
	onKeyReleased: null,
	ctor: function() {
		var a = this;
		cc.EventListener.prototype.ctor.call(this, cc.EventListener.KEYBOARD, cc._EventListenerKeyboard.LISTENER_ID, function(b) {
			if (b._isPressed) {
				if (a.onKeyPressed) a.onKeyPressed(b._keyCode, b)
			} else if (a.onKeyReleased) a.onKeyReleased(b._keyCode, b)
		})
	},
	clone: function() {
		var a = new cc._EventListenerKeyboard;
		a.onKeyPressed = this.onKeyPressed;
		a.onKeyReleased = this.onKeyReleased;
		return a
	},
	checkAvailable: function() {
		return null ===
			this.onKeyPressed && null === this.onKeyReleased ? (cc.log(cc._LogInfos._EventListenerKeyboard_checkAvailable), !1) : !0
	}
});
cc._EventListenerKeyboard.LISTENER_ID = "__cc_keyboard";
cc._EventListenerKeyboard.create = function() {
	return new cc._EventListenerKeyboard
};
var GlobalVertexBuffer = function() {
	var a = function(a, c) {
		this.gl = a;
		this.vertexBuffer = a.createBuffer();
		this.size = 888;
		this.byteLength = c || 3552 * cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;
		this.data = new ArrayBuffer(this.byteLength);
		this.dataArray = new Float32Array(this.data);
		a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
		a.bufferData(a.ARRAY_BUFFER, this.dataArray, a.DYNAMIC_DRAW);
		this._dirty = !1;
		this._spaces = {
			0: this.byteLength
		}
	};
	a.prototype = {
		constructor: a,
		allocBuffer: function(a, c) {
			var d = this._spaces[a];
			return d &&
				d >= c ? (delete this._spaces[a], d > c && (this._spaces[a + c] = d - c), !0) : !1
		},
		requestBuffer: function(a) {
			var c, d, e;
			for (c in this._spaces)
				if (d = parseInt(c), e = this._spaces[c], e >= a && this.allocBuffer(d, a)) return d;
			return -1
		},
		freeBuffer: function(a, c) {
			var d = this._spaces,
				e, f;
			for (f in d) {
				e = parseInt(f);
				if (e > a) break;
				if (e + d[f] >= a) {
					c = c + a - e;
					a = e;
					break
				}
			}
			d = a + c;
			this._spaces[d] && (c += this._spaces[d], delete this._spaces[d]);
			this._spaces[a] = c
		},
		setDirty: function() {
			this._dirty = !0
		},
		update: function() {
			this._dirty && (this.gl.bindBuffer(gl.ARRAY_BUFFER,
				this.vertexBuffer), this.gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.dataArray), this._dirty = !1)
		},
		updateSubData: function(a, c) {
			this.gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);
			this.gl.bufferSubData(gl.ARRAY_BUFFER, a, c)
		},
		destroy: function() {
			this.gl.deleteBuffer(this.vertexBuffer);
			this.vertexBuffer = this.texCoords = this.colors = this.positions = this.data = null
		}
	};
	return a
}();
cc.rendererCanvas = {
	childrenOrderDirty: !0,
	assignedZ: 0,
	assignedZStep: 1E-4,
	_transformNodePool: [],
	_renderCmds: [],
	_isCacheToCanvasOn: !1,
	_cacheToCanvasCmds: {},
	_cacheInstanceIds: [],
	_currentID: 0,
	_clearColor: cc.color(),
	_clearFillStyle: "rgb(0, 0, 0)",
	_dirtyRegion: null,
	_allNeedDraw: !0,
	_enableDirtyRegion: !1,
	_debugDirtyRegion: !1,
	_canUseDirtyRegion: !1,
	_dirtyRegionCountThreshold: 10,
	getRenderCmd: function(a) {
		return a._createRenderCmd()
	},
	enableDirtyRegion: function(a) {
		this._enableDirtyRegion = a
	},
	isDirtyRegionEnabled: function() {
		return this._enableDirtyRegion
	},
	setDirtyRegionCountThreshold: function(a) {
		this._dirtyRegionCountThreshold = a
	},
	_collectDirtyRegion: function() {
		var a = this._renderCmds,
			b, c, d = this._dirtyRegion,
			e = 0,
			f = !0,
			g = cc.Node.CanvasRenderCmd.RegionStatus;
		b = 0;
		for (c = a.length; b < c; b++) {
			var h = a[b],
				k = h._oldRegion,
				m = h._currentRegion;
			h._regionFlag > g.NotDirty && (++e, e > this._dirtyRegionCountThreshold && (f = !1), f && (!m.isEmpty() && d.addRegion(m), h._regionFlag > g.Dirty && !k.isEmpty() && d.addRegion(k)), h._regionFlag = g.NotDirty)
		}
		return f
	},
	_beginDrawDirtyRegion: function(a) {
		var b =
			a.getContext(),
			c = this._dirtyRegion.getDirtyRegions();
		b.save();
		a.setTransform({
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		}, a._scaleX, a._scaleY);
		b.beginPath();
		a = 0;
		for (var d = c.length; a < d; ++a) {
			var e = c[a];
			b.rect(e._minX, -e._maxY, e._width, e._height)
		}
		b.clip()
	},
	_endDrawDirtyRegion: function(a) {
		a.restore()
	},
	_debugDrawDirtyRegion: function(a) {
		if (this._debugDirtyRegion) {
			var b = a.getContext(),
				c = this._dirtyRegion.getDirtyRegions();
			a.setTransform({
				a: 1,
				b: 0,
				c: 0,
				d: 1,
				tx: 0,
				ty: 0
			}, a._scaleX, a._scaleY);
			b.beginPath();
			a = 0;
			for (var d = c.length; a <
				d; ++a) {
				var e = c[a];
				b.rect(e._minX, -e._maxY, e._width, e._height)
			}
			c = b.fillStyle;
			b.fillStyle = "green";
			b.fill();
			b.fillStyle = c
		}
	},
	rendering: function(a) {
		var b = this._dirtyRegion = this._dirtyRegion || new cc.DirtyRegion,
			c = cc._canvas;
		a = a || cc._renderContext;
		var d = a.getContext(),
			e = cc.view.getScaleX(),
			f = cc.view.getScaleY();
		a.setViewScale(e, f);
		a.computeRealOffsetY();
		var g = this._dirtyRegion.getDirtyRegions(),
			h = this._renderCmds,
			k, m = this._allNeedDraw || !this._enableDirtyRegion || !this._canUseDirtyRegion;
		k = !0;
		m || (k = this._collectDirtyRegion());
		(m = m || !k) || this._beginDrawDirtyRegion(a);
		d.setTransform(1, 0, 0, 1, 0, 0);
		d.clearRect(0, 0, c.width, c.height);
		if (255 !== this._clearColor.r || 255 !== this._clearColor.g || 255 !== this._clearColor.b) a.setFillStyle(this._clearFillStyle), a.setGlobalAlpha(this._clearColor.a), d.fillRect(0, 0, c.width, c.height);
		c = 0;
		for (k = h.length; c < k; c++) {
			var n = h[c],
				p = !1,
				r = n._currentRegion;
			if (!r || m) p = !0;
			else
				for (var t = 0, u = g.length; t < u; ++t)
					if (g[t].intersects(r)) {
						p = !0;
						break
					} p && n.rendering(a, e, f)
		}
		m || (this._debugDrawDirtyRegion(a), this._endDrawDirtyRegion(d));
		b.clear();
		this._allNeedDraw = !1
	},
	_renderingToCacheCanvas: function(a, b, c, d) {
		a || cc.log("The context of RenderTexture is invalid.");
		c = cc.isUndefined(c) ? 1 : c;
		d = cc.isUndefined(d) ? 1 : d;
		b = b || this._currentID;
		var e, f = this._cacheToCanvasCmds[b],
			g;
		a.computeRealOffsetY();
		e = 0;
		for (g = f.length; e < g; e++) f[e].rendering(a, c, d);
		this._removeCache(b);
		a = this._cacheInstanceIds;
		0 === a.length ? this._isCacheToCanvasOn = !1 : this._currentID = a[a.length - 1]
	},
	_turnToCacheMode: function(a) {
		this._isCacheToCanvasOn = !0;
		a = a || 0;
		this._cacheToCanvasCmds[a] = []; - 1 === this._cacheInstanceIds.indexOf(a) && this._cacheInstanceIds.push(a);
		this._currentID = a
	},
	_turnToNormalMode: function() {
		this._isCacheToCanvasOn = !1
	},
	_removeCache: function(a) {
		a = a || this._currentID;
		var b = this._cacheToCanvasCmds[a];
		b && (b.length = 0, delete this._cacheToCanvasCmds[a]);
		cc.arrayRemoveObject(this._cacheInstanceIds, a)
	},
	resetFlag: function() {
		this.childrenOrderDirty = !1;
		this._transformNodePool.length = 0
	},
	transform: function() {
		var a = this._transformNodePool;
		a.sort(this._sortNodeByLevelAsc);
		for (var b =
				0, c = a.length; b < c; b++) 0 !== a[b]._dirtyFlag && a[b].updateStatus();
		a.length = 0
	},
	transformDirty: function() {
		return 0 < this._transformNodePool.length
	},
	_sortNodeByLevelAsc: function(a, b) {
		return a._curLevel - b._curLevel
	},
	pushDirtyNode: function(a) {
		this._transformNodePool.push(a)
	},
	clear: function() {},
	clearRenderCommands: function() {
		this._renderCmds.length = 0;
		this._cacheInstanceIds.length = 0;
		this._isCacheToCanvasOn = !1;
		this._canUseDirtyRegion = this._allNeedDraw = !0
	},
	pushRenderCommand: function(a) {
		if (a.needDraw())
			if (a._canUseDirtyRegion ||
				(this._canUseDirtyRegion = !1), this._isCacheToCanvasOn) {
				var b = this._cacheToCanvasCmds[this._currentID]; - 1 === b.indexOf(a) && b.push(a)
			} else -1 === this._renderCmds.indexOf(a) && this._renderCmds.push(a)
	}
};
(function() {
	cc.CanvasContextWrapper = function(a) {
		this._context = a;
		this._saveCount = 0;
		this._currentAlpha = a.globalAlpha;
		this._currentCompositeOperation = a.globalCompositeOperation;
		this._currentFillStyle = a.fillStyle;
		this._currentStrokeStyle = a.strokeStyle;
		this._offsetY = this._offsetX = 0;
		this._realOffsetY = this.height;
		this._armatureMode = 0
	};
	var a = cc.CanvasContextWrapper.prototype;
	a.resetCache = function() {
		var a = this._context;
		this._currentAlpha = a.globalAlpha;
		this._currentCompositeOperation = a.globalCompositeOperation;
		this._currentFillStyle = a.fillStyle;
		this._currentStrokeStyle = a.strokeStyle;
		this._realOffsetY = this._context.canvas.height + this._offsetY
	};
	a.setOffset = function(a, c) {
		this._offsetX = a;
		this._offsetY = c;
		this._realOffsetY = this._context.canvas.height + this._offsetY
	};
	a.computeRealOffsetY = function() {
		this._realOffsetY = this._context.canvas.height + this._offsetY
	};
	a.setViewScale = function(a, c) {
		this._scaleX = a;
		this._scaleY = c
	};
	a.getContext = function() {
		return this._context
	};
	a.save = function() {
		this._context.save();
		this._saveCount++
	};
	a.restore = function() {
		this._context.restore();
		this._saveCount--
	};
	a.setGlobalAlpha = function(a) {
		0 < this._saveCount ? this._context.globalAlpha = a : this._currentAlpha !== a && (this._currentAlpha = a, this._context.globalAlpha = a)
	};
	a.setCompositeOperation = function(a) {
		0 < this._saveCount ? this._context.globalCompositeOperation = a : this._currentCompositeOperation !== a && (this._currentCompositeOperation = a, this._context.globalCompositeOperation = a)
	};
	a.setFillStyle = function(a) {
		0 < this._saveCount ? this._context.fillStyle = a : this._currentFillStyle !==
			a && (this._currentFillStyle = a, this._context.fillStyle = a)
	};
	a.setStrokeStyle = function(a) {
		0 < this._saveCount ? this._context.strokeStyle = a : this._currentStrokeStyle !== a && (this._currentStrokeStyle = a, this._context.strokeStyle = a)
	};
	a.setTransform = function(a, c, d) {
		0 < this._armatureMode ? (this.restore(), this.save(), this._context.transform(a.a * c, -a.b * d, -a.c * c, a.d * d, a.tx * c, -(a.ty * d))) : this._context.setTransform(a.a * c, -a.b * d, -a.c * c, a.d * d, this._offsetX + a.tx * c, this._realOffsetY - a.ty * d)
	};
	a._switchToArmatureMode = function(a,
		c, d, e) {
		a ? (this._armatureMode++, this._context.setTransform(c.a, c.c, c.b, c.d, this._offsetX + c.tx * d, this._realOffsetY - c.ty * e), this.save()) : (this._armatureMode--, this.restore())
	}
})();
cc.rendererWebGL = function() {
	var a = {
			texture: null,
			blendSrc: null,
			blendDst: null,
			glProgramState: null
		},
		b = !1,
		c = null,
		d = null,
		e = 0,
		f = 0,
		g = 0,
		h = null,
		k = 0,
		m = null,
		n = null,
		p = null,
		r = 0,
		t = !0,
		u = {
			QUAD: 0,
			TRIANGLE: 1,
			CUSTOM: 2
		};
	return {
		mat4Identity: null,
		childrenOrderDirty: !0,
		assignedZ: 0,
		assignedZStep: 0.01,
		VertexType: u,
		_transformNodePool: [],
		_renderCmds: [],
		_isCacheToBufferOn: !1,
		_cacheToBufferCmds: {},
		_cacheInstanceIds: [],
		_currentID: 0,
		_clearColor: cc.color(0, 0, 0, 255),
		init: function() {
			var a = cc._renderContext;
			a.disable(a.CULL_FACE);
			a.disable(a.DEPTH_TEST);
			this.mat4Identity = new cc.math.Matrix4;
			this.mat4Identity.identity();
			var a = cc.BATCH_VERTEX_COUNT,
				b = cc._renderContext;
			null === c && (d = b.createBuffer(), c = b.createBuffer());
			b = cc._renderContext;
			if (c) {
				var f = 6 * Math.ceil(a / 4);
				b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, c);
				p = new Uint16Array(f);
				for (var g = 0, t = 0; t < f; t += 6) p[t] = g + 0, p[t + 1] = g + 1, p[t + 2] = g + 2, p[t + 3] = g + 1, p[t + 4] = g + 2, p[t + 5] = g + 3, g += 4;
				b.bufferData(b.ELEMENT_ARRAY_BUFFER, p, b.DYNAMIC_DRAW)
			}
			d && (k = 6 * a, h = new ArrayBuffer(4 * k), m = new Float32Array(h),
				n = new Uint32Array(h), b.bindBuffer(b.ARRAY_BUFFER, d), b.bufferData(b.ARRAY_BUFFER, m, b.DYNAMIC_DRAW));
			e = a - 200
		},
		getVertexSize: function() {
			return e
		},
		getRenderCmd: function(a) {
			return a._createRenderCmd()
		},
		_turnToCacheMode: function(a) {
			this._isCacheToBufferOn = !0;
			a = a || 0;
			this._cacheToBufferCmds[a] ? this._cacheToBufferCmds[a].length = 0 : this._cacheToBufferCmds[a] = []; - 1 === this._cacheInstanceIds.indexOf(a) && this._cacheInstanceIds.push(a);
			this._currentID = a
		},
		_turnToNormalMode: function() {
			this._isCacheToBufferOn = !1
		},
		_removeCache: function(a) {
			a =
				a || this._currentID;
			var b = this._cacheToBufferCmds[a];
			b && (b.length = 0, delete this._cacheToBufferCmds[a]);
			cc.arrayRemoveObject(this._cacheInstanceIds, a)
		},
		_renderingToBuffer: function(a) {
			a = a || this._currentID;
			this.rendering(cc._renderContext, this._cacheToBufferCmds[a]);
			this._removeCache(a);
			a = this._cacheInstanceIds;
			0 === a.length ? this._isCacheToBufferOn = !1 : this._currentID = a[a.length - 1]
		},
		resetFlag: function() {
			this.childrenOrderDirty && (this.childrenOrderDirty = !1);
			this._transformNodePool.length = 0
		},
		transform: function() {
			var a =
				this._transformNodePool;
			a.sort(this._sortNodeByLevelAsc);
			var b, c, d;
			b = 0;
			for (c = a.length; b < c; b++) d = a[b], d.updateStatus();
			a.length = 0
		},
		transformDirty: function() {
			return 0 < this._transformNodePool.length
		},
		_sortNodeByLevelAsc: function(a, b) {
			return a._curLevel - b._curLevel
		},
		pushDirtyNode: function(a) {
			this._transformNodePool.push(a)
		},
		clearRenderCommands: function() {
			this._renderCmds.length = 0
		},
		clear: function() {
			var a = cc._renderContext;
			a.clearColor(this._clearColor.r / 255, this._clearColor.g / 255, this._clearColor.b / 255,
				this._clearColor.a / 255);
			a.clear(a.COLOR_BUFFER_BIT | a.DEPTH_BUFFER_BIT)
		},
		setDepthTest: function(a) {
			var b = cc._renderContext;
			a ? (b.clearDepth(1), b.enable(b.DEPTH_TEST), b.depthFunc(b.LEQUAL)) : b.disable(b.DEPTH_TEST)
		},
		pushRenderCommand: function(a) {
			if (a.rendering || a.uploadData)
				if (this._isCacheToBufferOn) {
					var b = this._cacheToBufferCmds[this._currentID];
					b && -1 === b.indexOf(a) && b.push(a)
				} else this._renderCmds && -1 === this._renderCmds.indexOf(a) && this._renderCmds.push(a)
		},
		_increaseBatchingSize: function(a, b, c) {
			b = b ||
				u.QUAD;
			switch (b) {
				case u.QUAD:
					for (b = 0; b < a; b += 4) c = f + b, p[g++] = c + 0, p[g++] = c + 1, p[g++] = c + 2, p[g++] = c + 1, p[g++] = c + 2, p[g++] = c + 3;
					break;
				case u.TRIANGLE:
					t = !1;
					for (b = 0; b < a; b += 3) c = f + b, p[g++] = c + 0, p[g++] = c + 1, p[g++] = c + 2;
					break;
				case u.CUSTOM:
					t = !1;
					var d = c.length;
					for (b = 0; b < d; b++) p[g++] = f + c[b];
					break;
				default:
					return
			}
			f += a
		},
		_updateBatchedInfo: function(b, c, d) {
			return b !== a.texture || c.src !== a.blendSrc || c.dst !== a.blendDst || d !== a.glProgramState ? (this._batchRendering(), a.texture = b, a.blendSrc = c.src, a.blendDst = c.dst, a.glProgramState =
				d, !0) : !1
		},
		_breakBatch: function() {
			b = !0
		},
		_uploadBufferData: function(c) {
			f >= e && this._batchRendering();
			var d = c._node,
				g = d._texture || d._spriteFrame && d._spriteFrame._texture,
				h = d._blendFunc.src,
				d = d._blendFunc.dst,
				k = c._glProgramState;
			if (b || a.texture !== g || a.blendSrc !== h || a.blendDst !== d || a.glProgramState !== k) this._batchRendering(), a.texture = g, a.blendSrc = h, a.blendDst = d, a.glProgramState = k, b = !1;
			g = c.uploadData(m, n, 6 * f);
			0 < g && this._increaseBatchingSize(g, c.vertexType)
		},
		_batchRendering: function() {
			if (0 !== f && a.texture) {
				var b =
					cc._renderContext,
					h = a.texture,
					k = a.glProgramState,
					n = f > 0.5 * e;
				k && (k.apply(), k.getGLProgram()._updateProjectionUniform());
				cc.glBlendFunc(a.blendSrc, a.blendDst);
				cc.glBindTexture2DN(0, h);
				b.bindBuffer(b.ARRAY_BUFFER, d);
				n ? b.bufferData(b.ARRAY_BUFFER, m, b.DYNAMIC_DRAW) : (h = m.subarray(0, 6 * f), b.bufferData(b.ARRAY_BUFFER, h, b.DYNAMIC_DRAW));
				b.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
				b.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);
				b.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
				b.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,
					3, b.FLOAT, !1, 24, 0);
				b.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR, 4, b.UNSIGNED_BYTE, !0, 24, 12);
				b.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, b.FLOAT, !1, 24, 16);
				b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, c);
				if (!r || !t || g > r) n ? b.bufferData(b.ELEMENT_ARRAY_BUFFER, p, b.DYNAMIC_DRAW) : b.bufferData(b.ELEMENT_ARRAY_BUFFER, p.subarray(0, g), b.DYNAMIC_DRAW);
				b.drawElements(b.TRIANGLES, g, b.UNSIGNED_SHORT, 0);
				cc.g_NumberOfDraws++;
				t ? r = g : (r = 0, t = !0);
				g = f = 0
			}
		},
		rendering: function(b, c) {
			var d = c || this._renderCmds,
				e, g, h, k = b || cc._renderContext;
			k.bindBuffer(gl.ARRAY_BUFFER, null);
			e = 0;
			for (g = d.length; e < g; ++e) h = d[e], h.needDraw() && (h.uploadData ? this._uploadBufferData(h) : (0 < f && this._batchRendering(), h.rendering(k)));
			this._batchRendering();
			a.texture = null
		}
	}
}();
var Region = function() {
		this._area = this._height = this._width = this._maxY = this._maxX = this._minY = this._minX = 0
	},
	regionProto = Region.prototype,
	regionPool = [];

function regionCreate() {
	var a = regionPool.pop();
	a || (a = new Region);
	return a
}

function regionRelease(a) {
	regionPool.push(a)
}
regionProto.setTo = function(a, b, c, d) {
	this._minX = a;
	this._minY = b;
	this._maxX = c;
	this._maxY = d;
	this.updateArea();
	return this
};
regionProto.intValues = function() {
	this._minX = Math.floor(this._minX);
	this._minY = Math.floor(this._minY);
	this._maxX = Math.ceil(this._maxX);
	this._maxY = Math.ceil(this._maxY);
	this.updateArea()
};
regionProto.updateArea = function() {
	this._width = this._maxX - this._minX;
	this._height = this._maxY - this._minY;
	this._area = this._width * this._height
};
regionProto.union = function(a) {
	0 >= this._width || 0 >= this._height ? this.setTo(a._minX, a._minY, a._maxX, a._maxY) : (this._minX > a._minX && (this._minX = a._minX), this._minY > a._minY && (this._minY = a._minY), this._maxX < a._maxX && (this._maxX = a._maxX), this._maxY < a._maxY && (this._maxY = a._maxY), this.updateArea())
};
regionProto.setEmpty = function() {
	this._area = this._height = this._width = this._maxY = this._maxX = this._minY = this._minX = 0
};
regionProto.isEmpty = function() {
	return 0 >= this._width || 0 >= this._height
};
regionProto.intersects = function(a) {
	if (0 >= this._width || 0 >= this._height || 0 >= a._width || 0 >= a._height) return !1;
	var b = this._minX > a._minX ? this._minX : a._minX,
		c = this._maxX < a._maxX ? this._maxX : a._maxX;
	if (b > c) return !1;
	b = this._minY > a._minY ? this._minY : a._minY;
	c = this._maxY < a._maxY ? this._maxY : a._maxY;
	return b <= c
};
regionProto.updateRegion = function(a, b) {
	if (0 == a.width || 0 == a.height) this.setEmpty();
	else {
		var c = b.a,
			d = b.b,
			e = b.c,
			f = b.d,
			g = b.tx,
			h = b.ty,
			k = a.x,
			m = a.y,
			n = k + a.width,
			p = m + a.height,
			r, t, u;
		if (1 == c && 0 == d && 0 == e && 1 == f) r = k + g - 1, t = m + h - 1, u = n + g + 1, m = p + h + 1;
		else {
			r = c * k + e * m + g;
			t = d * k + f * m + h;
			u = c * n + e * m + g;
			var m = d * n + f * m + h,
				s = c * n + e * p + g,
				n = d * n + f * p + h,
				g = c * k + e * p + g,
				h = d * k + f * p + h,
				p = 0;
			r > u && (p = r, r = u, u = p);
			s > g && (p = s, s = g, g = p);
			r = (r < s ? r : s) - 1;
			u = (u > g ? u : g) + 1;
			t > m && (p = t, t = m, m = p);
			n > h && (p = n, n = h, h = p);
			t = (t < n ? t : n) - 1;
			m = (m > h ? m : h) + 1
		}
		this._minX = r;
		this._minY = t;
		this._maxX =
			u;
		this._maxY = m;
		this._width = u - r;
		this._height = m - t;
		this._area = this._width * this._height
	}
};

function unionArea(a, b) {
	return ((a._maxX > b._maxX ? a._maxX : b._maxX) - (a._minX < b._minX ? a._minX : b._minX)) * ((a._maxY > b._maxY ? a._maxY : b._maxY) - (a._minY < b._minY ? a._minY : b._minY))
}
var DirtyRegion = function() {
		this.dirtyList = [];
		this.hasClipRect = !1;
		this.clipArea = this.clipHeight = this.clipWidth = 0;
		this.clipRectChanged = !1
	},
	dirtyRegionProto = DirtyRegion.prototype;
dirtyRegionProto.setClipRect = function(a, b) {
	this.clipRectChanged = this.hasClipRect = !0;
	this.clipWidth = Math.ceil(a);
	this.clipHeight = Math.ceil(b);
	this.clipArea = this.clipWidth * this.clipHeight
};
dirtyRegionProto.addRegion = function(a) {
	var b = a._minX,
		c = a._minY,
		d = a._maxX;
	a = a._maxY;
	this.hasClipRect && (0 > b && (b = 0), 0 > c && (c = 0), d > this.clipWidth && (d = this.clipWidth), a > this.clipHeight && (a = this.clipHeight));
	if (b >= d || c >= a) return !1;
	if (this.clipRectChanged) return !0;
	var e = this.dirtyList,
		f = regionCreate();
	e.push(f.setTo(b, c, d, a));
	this.mergeDirtyList(e);
	return !0
};
dirtyRegionProto.clear = function() {
	for (var a = this.dirtyList, b = a.length, c = 0; c < b; c++) regionRelease(a[c]);
	a.length = 0
};
dirtyRegionProto.getDirtyRegions = function() {
	var a = this.dirtyList;
	if (this.clipRectChanged) {
		this.clipRectChanged = !1;
		this.clear();
		var b = regionCreate();
		a.push(b.setTo(0, 0, this.clipWidth, this.clipHeight))
	} else
		for (; this.mergeDirtyList(a););
	a = this.dirtyList.length;
	if (0 < a)
		for (b = 0; b < a; b++) this.dirtyList[b].intValues();
	return this.dirtyList
};
dirtyRegionProto.mergeDirtyList = function(a) {
	var b = a.length;
	if (2 > b) return !1;
	for (var c = this.hasClipRect, d = 3 < b ? Number.POSITIVE_INFINITY : 0, e = 0, f = 0, g = 0, h = 0; h < b - 1; h++) {
		var k = a[h];
		c && (g += k.area);
		for (var m = h + 1; m < b; m++) {
			var n = a[m],
				n = unionArea(k, n) - k.area - n.area;
			d > n && (e = h, f = m, d = n)
		}
	}
	c && 0.95 < g / this.clipArea && (this.clipRectChanged = !0);
	return e != f ? (b = a[f], a[e].union(b), regionRelease(b), a.splice(f, 1), !0) : !1
};
cc.Region = Region;
cc.DirtyRegion = DirtyRegion;
cc._tmp.PrototypeCCNode = function() {
	var a = cc.Node.prototype;
	cc.defineGetterSetter(a, "x", a.getPositionX, a.setPositionX);
	cc.defineGetterSetter(a, "y", a.getPositionY, a.setPositionY);
	cc.defineGetterSetter(a, "width", a._getWidth, a._setWidth);
	cc.defineGetterSetter(a, "height", a._getHeight, a._setHeight);
	cc.defineGetterSetter(a, "anchorX", a._getAnchorX, a._setAnchorX);
	cc.defineGetterSetter(a, "anchorY", a._getAnchorY, a._setAnchorY);
	cc.defineGetterSetter(a, "skewX", a.getSkewX, a.setSkewX);
	cc.defineGetterSetter(a, "skewY",
		a.getSkewY, a.setSkewY);
	cc.defineGetterSetter(a, "zIndex", a.getLocalZOrder, a.setLocalZOrder);
	cc.defineGetterSetter(a, "vertexZ", a.getVertexZ, a.setVertexZ);
	cc.defineGetterSetter(a, "rotation", a.getRotation, a.setRotation);
	cc.defineGetterSetter(a, "rotationX", a.getRotationX, a.setRotationX);
	cc.defineGetterSetter(a, "rotationY", a.getRotationY, a.setRotationY);
	cc.defineGetterSetter(a, "scale", a.getScale, a.setScale);
	cc.defineGetterSetter(a, "scaleX", a.getScaleX, a.setScaleX);
	cc.defineGetterSetter(a, "scaleY", a.getScaleY,
		a.setScaleY);
	cc.defineGetterSetter(a, "children", a.getChildren);
	cc.defineGetterSetter(a, "childrenCount", a.getChildrenCount);
	cc.defineGetterSetter(a, "parent", a.getParent, a.setParent);
	cc.defineGetterSetter(a, "visible", a.isVisible, a.setVisible);
	cc.defineGetterSetter(a, "running", a.isRunning);
	cc.defineGetterSetter(a, "ignoreAnchor", a.isIgnoreAnchorPointForPosition, a.ignoreAnchorPointForPosition);
	cc.defineGetterSetter(a, "actionManager", a.getActionManager, a.setActionManager);
	cc.defineGetterSetter(a, "scheduler",
		a.getScheduler, a.setScheduler);
	cc.defineGetterSetter(a, "shaderProgram", a.getShaderProgram, a.setShaderProgram);
	cc.defineGetterSetter(a, "opacity", a.getOpacity, a.setOpacity);
	cc.defineGetterSetter(a, "opacityModifyRGB", a.isOpacityModifyRGB);
	cc.defineGetterSetter(a, "cascadeOpacity", a.isCascadeOpacityEnabled, a.setCascadeOpacityEnabled);
	cc.defineGetterSetter(a, "color", a.getColor, a.setColor);
	cc.defineGetterSetter(a, "cascadeColor", a.isCascadeColorEnabled, a.setCascadeColorEnabled)
};
cc.NODE_TAG_INVALID = -1;
cc.s_globalOrderOfArrival = 1;
cc.Node = cc.Class.extend({
	_localZOrder: 0,
	_globalZOrder: 0,
	_vertexZ: 0,
	_customZ: NaN,
	_rotationX: 0,
	_rotationY: 0,
	_scaleX: 1,
	_scaleY: 1,
	_position: null,
	_normalizedPosition: null,
	_usingNormalizedPosition: !1,
	_normalizedPositionDirty: !1,
	_skewX: 0,
	_skewY: 0,
	_children: null,
	_visible: !0,
	_anchorPoint: null,
	_contentSize: null,
	_running: !1,
	_parent: null,
	_ignoreAnchorPointForPosition: !1,
	tag: cc.NODE_TAG_INVALID,
	userData: null,
	userObject: null,
	_reorderChildDirty: !1,
	arrivalOrder: 0,
	_actionManager: null,
	_scheduler: null,
	_additionalTransformDirty: !1,
	_additionalTransform: null,
	_componentContainer: null,
	_isTransitionFinished: !1,
	_className: "Node",
	_showNode: !1,
	_name: "",
	_realOpacity: 255,
	_realColor: null,
	_cascadeColorEnabled: !1,
	_cascadeOpacityEnabled: !1,
	_renderCmd: null,
	ctor: function() {
		this._anchorPoint = cc.p(0, 0);
		this._contentSize = cc.size(0, 0);
		this._position = cc.p(0, 0);
		this._normalizedPosition = cc.p(0, 0);
		this._children = [];
		this._additionalTransform = cc.affineTransformMakeIdentity();
		cc.ComponentContainer && (this._componentContainer = new cc.ComponentContainer(this));
		this._realColor = cc.color(255, 255, 255, 255);
		this._renderCmd = this._createRenderCmd()
	},
	init: function() {
		return !0
	},
	attr: function(a) {
		for (var b in a) this[b] = a[b]
	},
	getSkewX: function() {
		return this._skewX
	},
	setSkewX: function(a) {
		this._skewX = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getSkewY: function() {
		return this._skewY
	},
	setSkewY: function(a) {
		this._skewY = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	setLocalZOrder: function(a) {
		a !== this._localZOrder && (this._parent ?
			this._parent.reorderChild(this, a) : this._localZOrder = a, cc.eventManager._setDirtyForNode(this))
	},
	_setLocalZOrder: function(a) {
		this._localZOrder = a
	},
	getLocalZOrder: function() {
		return this._localZOrder
	},
	getZOrder: function() {
		cc.log(cc._LogInfos.Node_getZOrder);
		return this.getLocalZOrder()
	},
	setZOrder: function(a) {
		cc.log(cc._LogInfos.Node_setZOrder);
		this.setLocalZOrder(a)
	},
	setGlobalZOrder: function(a) {
		this._globalZOrder !== a && (this._globalZOrder = a, cc.eventManager._setDirtyForNode(this))
	},
	getGlobalZOrder: function() {
		return this._globalZOrder
	},
	getVertexZ: function() {
		return this._vertexZ
	},
	setVertexZ: function(a) {
		this._customZ = this._vertexZ = a
	},
	getRotation: function() {
		this._rotationX !== this._rotationY && cc.log(cc._LogInfos.Node_getRotation);
		return this._rotationX
	},
	setRotation: function(a) {
		this._rotationX = this._rotationY = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getRotationX: function() {
		return this._rotationX
	},
	setRotationX: function(a) {
		this._rotationX = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getRotationY: function() {
		return this._rotationY
	},
	setRotationY: function(a) {
		this._rotationY = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getScale: function() {
		this._scaleX !== this._scaleY && cc.log(cc._LogInfos.Node_getScale);
		return this._scaleX
	},
	setScale: function(a, b) {
		this._scaleX = a;
		this._scaleY = b || 0 === b ? b : a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getScaleX: function() {
		return this._scaleX
	},
	setScaleX: function(a) {
		this._scaleX = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getScaleY: function() {
		return this._scaleY
	},
	setScaleY: function(a) {
		this._scaleY = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	setPosition: function(a, b) {
		var c = this._position;
		if (void 0 === b) {
			if (c.x === a.x && c.y === a.y) return;
			c.x = a.x;
			c.y = a.y
		} else {
			if (c.x === a && c.y === b) return;
			c.x = a;
			c.y = b
		}
		this._usingNormalizedPosition = !1;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	setNormalizedPosition: function(a, b) {
		var c = this._normalizedPosition;
		void 0 === b ? (c.x = a.x, c.y = a.y) : (c.x = a, c.y = b);
		this._normalizedPositionDirty = this._usingNormalizedPosition = !0;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getPosition: function() {
		return cc.p(this._position)
	},
	getNormalizedPosition: function() {
		return cc.p(this._normalizedPosition)
	},
	getPositionX: function() {
		return this._position.x
	},
	setPositionX: function(a) {
		this._position.x = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getPositionY: function() {
		return this._position.y
	},
	setPositionY: function(a) {
		this._position.y = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getChildrenCount: function() {
		return this._children.length
	},
	getChildren: function() {
		return this._children
	},
	isVisible: function() {
		return this._visible
	},
	setVisible: function(a) {
		this._visible !== a && (this._visible = a, this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty), cc.renderer.childrenOrderDirty = !0)
	},
	getAnchorPoint: function() {
		return cc.p(this._anchorPoint)
	},
	setAnchorPoint: function(a, b) {
		var c = this._anchorPoint;
		if (void 0 === b) {
			if (a.x === c.x && a.y === c.y) return;
			c.x = a.x;
			c.y = a.y
		} else {
			if (a === c.x && b ===
				c.y) return;
			c.x = a;
			c.y = b
		}
		this._renderCmd._updateAnchorPointInPoint()
	},
	_getAnchorX: function() {
		return this._anchorPoint.x
	},
	_setAnchorX: function(a) {
		this._anchorPoint.x !== a && (this._anchorPoint.x = a, this._renderCmd._updateAnchorPointInPoint())
	},
	_getAnchorY: function() {
		return this._anchorPoint.y
	},
	_setAnchorY: function(a) {
		this._anchorPoint.y !== a && (this._anchorPoint.y = a, this._renderCmd._updateAnchorPointInPoint())
	},
	getAnchorPointInPoints: function() {
		return this._renderCmd.getAnchorPointInPoints()
	},
	_getWidth: function() {
		return this._contentSize.width
	},
	_setWidth: function(a) {
		this._contentSize.width = a;
		this._renderCmd._updateAnchorPointInPoint()
	},
	_getHeight: function() {
		return this._contentSize.height
	},
	_setHeight: function(a) {
		this._contentSize.height = a;
		this._renderCmd._updateAnchorPointInPoint()
	},
	getContentSize: function() {
		return cc.size(this._contentSize)
	},
	setContentSize: function(a, b) {
		var c = this._contentSize;
		if (void 0 === b) {
			if (a.width === c.width && a.height === c.height) return;
			c.width = a.width;
			c.height = a.height
		} else {
			if (a === c.width && b === c.height) return;
			c.width =
				a;
			c.height = b
		}
		this._renderCmd._updateAnchorPointInPoint()
	},
	isRunning: function() {
		return this._running
	},
	getParent: function() {
		return this._parent
	},
	setParent: function(a) {
		this._parent = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	isIgnoreAnchorPointForPosition: function() {
		return this._ignoreAnchorPointForPosition
	},
	ignoreAnchorPointForPosition: function(a) {
		a !== this._ignoreAnchorPointForPosition && (this._ignoreAnchorPointForPosition = a, this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty))
	},
	getTag: function() {
		return this.tag
	},
	setTag: function(a) {
		this.tag = a
	},
	setName: function(a) {
		this._name = a
	},
	getName: function() {
		return this._name
	},
	getUserData: function() {
		return this.userData
	},
	setUserData: function(a) {
		this.userData = a
	},
	getUserObject: function() {
		return this.userObject
	},
	setUserObject: function(a) {
		this.userObject !== a && (this.userObject = a)
	},
	getOrderOfArrival: function() {
		return this.arrivalOrder
	},
	setOrderOfArrival: function(a) {
		this.arrivalOrder = a
	},
	getActionManager: function() {
		return this._actionManager ||
			cc.director.getActionManager()
	},
	setActionManager: function(a) {
		this._actionManager !== a && (this.stopAllActions(), this._actionManager = a)
	},
	getScheduler: function() {
		return this._scheduler || cc.director.getScheduler()
	},
	setScheduler: function(a) {
		this._scheduler !== a && (this.unscheduleAllCallbacks(), this._scheduler = a)
	},
	boundingBox: function() {
		cc.log(cc._LogInfos.Node_boundingBox);
		return this.getBoundingBox()
	},
	getBoundingBox: function() {
		var a = cc.rect(0, 0, this._contentSize.width, this._contentSize.height);
		return cc._rectApplyAffineTransformIn(a,
			this.getNodeToParentTransform())
	},
	cleanup: function() {
		this.stopAllActions();
		this.unscheduleAllCallbacks();
		cc.eventManager.removeListeners(this)
	},
	getChildByTag: function(a) {
		var b = this._children;
		if (null !== b)
			for (var c = 0; c < b.length; c++) {
				var d = b[c];
				if (d && d.tag === a) return d
			}
		return null
	},
	getChildByName: function(a) {
		if (!a) return cc.log("Invalid name"), null;
		for (var b = this._children, c = 0, d = b.length; c < d; c++)
			if (b[c]._name === a) return b[c];
		return null
	},
	addChild: function(a, b, c) {
		b = void 0 === b ? a._localZOrder : b;
		var d, e = !1;
		void 0 === c ? d = a._name : "string" === typeof c ? (d = c, c = void 0) : "number" === typeof c && (e = !0, d = "");
		cc.assert(a, cc._LogInfos.Node_addChild_3);
		cc.assert(null === a._parent, "child already added. It can't be added again");
		this._addChildHelper(a, b, c, d, e)
	},
	_addChildHelper: function(a, b, c, d, e) {
		this._children || (this._children = []);
		this._insertChild(a, b);
		e ? a.setTag(c) : a.setName(d);
		a.setParent(this);
		a.setOrderOfArrival(cc.s_globalOrderOfArrival++);
		this._running && (a._performRecursive(cc.Node._stateCallbackType.onEnter),
			this._isTransitionFinished && a._performRecursive(cc.Node._stateCallbackType.onEnterTransitionDidFinish));
		a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);
		this._cascadeColorEnabled && a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty);
		this._cascadeOpacityEnabled && a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)
	},
	removeFromParent: function(a) {
		this._parent && (void 0 === a && (a = !0), this._parent.removeChild(this, a))
	},
	removeFromParentAndCleanup: function(a) {
		cc.log(cc._LogInfos.Node_removeFromParentAndCleanup);
		this.removeFromParent(a)
	},
	removeChild: function(a, b) {
		0 !== this._children.length && (void 0 === b && (b = !0), -1 < this._children.indexOf(a) && this._detachChild(a, b), cc.renderer.childrenOrderDirty = !0)
	},
	removeChildByTag: function(a, b) {
		a === cc.NODE_TAG_INVALID && cc.log(cc._LogInfos.Node_removeChildByTag);
		var c = this.getChildByTag(a);
		c ? this.removeChild(c, b) : cc.log(cc._LogInfos.Node_removeChildByTag_2, a)
	},
	removeAllChildrenWithCleanup: function(a) {
		this.removeAllChildren(a)
	},
	removeAllChildren: function(a) {
		var b = this._children;
		if (null !== b) {
			void 0 === a && (a = !0);
			for (var c = 0; c < b.length; c++) {
				var d = b[c];
				d && (this._running && (d._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart), d._performRecursive(cc.Node._stateCallbackType.onExit)), a && d._performRecursive(cc.Node._stateCallbackType.cleanup), d.parent = null, d._renderCmd.detachFromParent())
			}
			this._children.length = 0;
			cc.renderer.childrenOrderDirty = !0
		}
	},
	_detachChild: function(a, b) {
		this._running && (a._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart),
			a._performRecursive(cc.Node._stateCallbackType.onExit));
		b && a._performRecursive(cc.Node._stateCallbackType.cleanup);
		a.parent = null;
		a._renderCmd.detachFromParent();
		cc.arrayRemoveObject(this._children, a)
	},
	_insertChild: function(a, b) {
		cc.renderer.childrenOrderDirty = this._reorderChildDirty = !0;
		this._children.push(a);
		a._setLocalZOrder(b)
	},
	setNodeDirty: function() {
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	reorderChild: function(a, b) {
		cc.assert(a, cc._LogInfos.Node_reorderChild); - 1 === this._children.indexOf(a) ?
			cc.log(cc._LogInfos.Node_reorderChild_2) : (cc.renderer.childrenOrderDirty = this._reorderChildDirty = !0, a.arrivalOrder = cc.s_globalOrderOfArrival, cc.s_globalOrderOfArrival++, a._setLocalZOrder(b), this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.orderDirty))
	},
	sortAllChildren: function() {
		if (this._reorderChildDirty) {
			var a = this._children,
				b = a.length,
				c, d, e;
			for (c = 1; c < b; c++) {
				e = a[c];
				for (d = c - 1; 0 <= d;) {
					if (e._localZOrder < a[d]._localZOrder) a[d + 1] = a[d];
					else if (e._localZOrder === a[d]._localZOrder && e.arrivalOrder < a[d].arrivalOrder) a[d +
						1] = a[d];
					else break;
					d--
				}
				a[d + 1] = e
			}
			this._reorderChildDirty = !1
		}
	},
	draw: function(a) {},
	transformAncestors: function() {
		null !== this._parent && (this._parent.transformAncestors(), this._parent.transform())
	},
	onEnter: function() {
		this._isTransitionFinished = !1;
		this._running = !0;
		this.resume()
	},
	_performRecursive: function(a) {
		var b = cc.Node._stateCallbackType;
		if (!(a >= b.max)) {
			var c = 0,
				d, e, f, g, h, k = cc.Node._performStacks[cc.Node._performing];
			k || (k = [], cc.Node._performStacks.push(k));
			k.length = 0;
			cc.Node._performing++;
			for (f = k[0] =
				this; f;) {
				if ((d = f._children) && 0 < d.length)
					for (g = 0, h = d.length; g < h; ++g) e = d[g], k.push(e);
				if ((d = f._protectedChildren) && 0 < d.length)
					for (g = 0, h = d.length; g < h; ++g) e = d[g], k.push(e);
				c++;
				f = k[c]
			}
			for (g = k.length - 1; 0 <= g; --g)
				if (f = k[g], k[g] = null, f) switch (a) {
					case b.onEnter:
						f.onEnter();
						break;
					case b.onExit:
						f.onExit();
						break;
					case b.onEnterTransitionDidFinish:
						f.onEnterTransitionDidFinish();
						break;
					case b.cleanup:
						f.cleanup();
						break;
					case b.onExitTransitionDidStart:
						f.onExitTransitionDidStart()
				}
			cc.Node._performing--
		}
	},
	onEnterTransitionDidFinish: function() {
		this._isTransitionFinished = !0
	},
	onExitTransitionDidStart: function() {},
	onExit: function() {
		this._running = !1;
		this.pause();
		this.removeAllComponents()
	},
	runAction: function(a) {
		cc.assert(a, cc._LogInfos.Node_runAction);
		this.actionManager.addAction(a, this, !this._running);
		return a
	},
	stopAllActions: function() {
		this.actionManager && this.actionManager.removeAllActionsFromTarget(this)
	},
	stopAction: function(a) {
		this.actionManager.removeAction(a)
	},
	stopActionByTag: function(a) {
		a === cc.ACTION_TAG_INVALID ? cc.log(cc._LogInfos.Node_stopActionByTag) : this.actionManager.removeActionByTag(a,
			this)
	},
	getActionByTag: function(a) {
		return a === cc.ACTION_TAG_INVALID ? (cc.log(cc._LogInfos.Node_getActionByTag), null) : this.actionManager.getActionByTag(a, this)
	},
	getNumberOfRunningActions: function() {
		return this.actionManager.numberOfRunningActionsInTarget(this)
	},
	scheduleUpdate: function() {
		this.scheduleUpdateWithPriority(0)
	},
	scheduleUpdateWithPriority: function(a) {
		this.scheduler.scheduleUpdate(this, a, !this._running)
	},
	unscheduleUpdate: function() {
		this.scheduler.unscheduleUpdate(this)
	},
	schedule: function(a,
		b, c, d, e) {
		var f = arguments.length;
		"function" === typeof a ? 1 === f ? (b = 0, c = cc.REPEAT_FOREVER, d = 0, e = this.__instanceId) : 2 === f ? "number" === typeof b ? (c = cc.REPEAT_FOREVER, d = 0, e = this.__instanceId) : (e = b, b = 0, c = cc.REPEAT_FOREVER, d = 0) : 3 === f ? ("string" === typeof c ? (e = c, c = cc.REPEAT_FOREVER) : e = this.__instanceId, d = 0) : 4 === f && (e = this.__instanceId) : 1 === f ? (b = 0, c = cc.REPEAT_FOREVER, d = 0) : 2 === f && (c = cc.REPEAT_FOREVER, d = 0);
		cc.assert(a, cc._LogInfos.Node_schedule);
		cc.assert(0 <= b, cc._LogInfos.Node_schedule_2);
		b = b || 0;
		c = isNaN(c) ? cc.REPEAT_FOREVER :
			c;
		this.scheduler.schedule(a, this, b, c, d || 0, !this._running, e)
	},
	scheduleOnce: function(a, b, c) {
		void 0 === c && (c = this.__instanceId);
		this.schedule(a, 0, 0, b, c)
	},
	unschedule: function(a) {
		a && this.scheduler.unschedule(a, this)
	},
	unscheduleAllCallbacks: function() {
		this.scheduler.unscheduleAllForTarget(this)
	},
	resumeSchedulerAndActions: function() {
		cc.log(cc._LogInfos.Node_resumeSchedulerAndActions);
		this.resume()
	},
	resume: function() {
		this.scheduler.resumeTarget(this);
		this.actionManager && this.actionManager.resumeTarget(this);
		cc.eventManager.resumeTarget(this)
	},
	pauseSchedulerAndActions: function() {
		cc.log(cc._LogInfos.Node_pauseSchedulerAndActions);
		this.pause()
	},
	pause: function() {
		this.scheduler.pauseTarget(this);
		this.actionManager && this.actionManager.pauseTarget(this);
		cc.eventManager.pauseTarget(this)
	},
	setAdditionalTransform: function(a) {
		if (void 0 === a) return this._additionalTransformDirty = !1;
		this._additionalTransform = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);
		this._additionalTransformDirty = !0
	},
	getParentToNodeTransform: function() {
		return this._renderCmd.getParentToNodeTransform()
	},
	parentToNodeTransform: function() {
		return this.getParentToNodeTransform()
	},
	getNodeToWorldTransform: function() {
		for (var a = this.getNodeToParentTransform(), b = this._parent; null !== b; b = b.parent) a = cc.affineTransformConcat(a, b.getNodeToParentTransform());
		return a
	},
	nodeToWorldTransform: function() {
		return this.getNodeToWorldTransform()
	},
	getWorldToNodeTransform: function() {
		return cc.affineTransformInvert(this.getNodeToWorldTransform())
	},
	worldToNodeTransform: function() {
		return this.getWorldToNodeTransform()
	},
	convertToNodeSpace: function(a) {
		return cc.pointApplyAffineTransform(a,
			this.getWorldToNodeTransform())
	},
	convertToWorldSpace: function(a) {
		a = a || cc.p(0, 0);
		return cc.pointApplyAffineTransform(a, this.getNodeToWorldTransform())
	},
	convertToNodeSpaceAR: function(a) {
		return cc.pSub(this.convertToNodeSpace(a), this._renderCmd.getAnchorPointInPoints())
	},
	convertToWorldSpaceAR: function(a) {
		a = a || cc.p(0, 0);
		a = cc.pAdd(a, this._renderCmd.getAnchorPointInPoints());
		return this.convertToWorldSpace(a)
	},
	_convertToWindowSpace: function(a) {
		a = this.convertToWorldSpace(a);
		return cc.director.convertToUI(a)
	},
	convertTouchToNodeSpace: function(a) {
		a = a.getLocation();
		return this.convertToNodeSpace(a)
	},
	convertTouchToNodeSpaceAR: function(a) {
		a = cc.director.convertToGL(a.getLocation());
		return this.convertToNodeSpaceAR(a)
	},
	update: function(a) {
		this._componentContainer && !this._componentContainer.isEmpty() && this._componentContainer.visit(a)
	},
	updateTransform: function() {
		for (var a = this._children, b, c = 0; c < a.length; c++)(b = a[c]) && b.updateTransform()
	},
	retain: function() {},
	release: function() {},
	getComponent: function(a) {
		return this._componentContainer ?
			this._componentContainer.getComponent(a) : null
	},
	addComponent: function(a) {
		this._componentContainer && this._componentContainer.add(a)
	},
	removeComponent: function(a) {
		return this._componentContainer ? this._componentContainer.remove(a) : !1
	},
	removeAllComponents: function() {
		this._componentContainer && this._componentContainer.removeAll()
	},
	grid: null,
	visit: function(a) {
		var b = this._renderCmd,
			c = a ? a._renderCmd : null;
		if (this._visible) {
			a = cc.renderer;
			b.visit(c);
			var d = this._children,
				e = d.length,
				f;
			if (0 < e) {
				this._reorderChildDirty &&
					this.sortAllChildren();
				for (c = 0; c < e; c++)
					if (f = d[c], 0 > f._localZOrder) f.visit(this);
					else break;
				for (a.pushRenderCommand(b); c < e; c++) d[c].visit(this)
			} else a.pushRenderCommand(b);
			b._dirtyFlag = 0
		} else b._propagateFlagsDown(c)
	},
	transform: function(a, b) {
		this._renderCmd.transform(a, b)
	},
	nodeToParentTransform: function() {
		return this.getNodeToParentTransform()
	},
	getNodeToParentTransform: function(a) {
		var b = this._renderCmd.getNodeToParentTransform();
		if (a)
			for (var b = {
					a: b.a,
					b: b.b,
					c: b.c,
					d: b.d,
					tx: b.tx,
					ty: b.ty
				}, c = this._parent; null !=
				c && c != a; c = c.getParent()) cc.affineTransformConcatIn(b, c.getNodeToParentTransform());
		return b
	},
	getNodeToParentAffineTransform: function(a) {
		return this.getNodeToParentTransform(a)
	},
	getCamera: function() {
		return null
	},
	getGrid: function() {
		return this.grid
	},
	setGrid: function(a) {
		this.grid = a
	},
	getShaderProgram: function() {
		return this._renderCmd.getShaderProgram()
	},
	setShaderProgram: function(a) {
		this._renderCmd.setShaderProgram(a)
	},
	setGLProgramState: function(a) {
		this._renderCmd.setGLProgramState(a)
	},
	getGLProgramState: function() {
		return this._renderCmd.getGLProgramState()
	},
	getGLServerState: function() {
		return 0
	},
	setGLServerState: function(a) {},
	getBoundingBoxToWorld: function() {
		var a = cc.rect(0, 0, this._contentSize.width, this._contentSize.height),
			b = this.getNodeToWorldTransform(),
			a = cc.rectApplyAffineTransform(a, b);
		if (!this._children) return a;
		for (var c = this._children, d = 0; d < c.length; d++) {
			var e = c[d];
			e && e._visible && (e = e._getBoundingBoxToCurrentNode(b)) && (a = cc.rectUnion(a, e))
		}
		return a
	},
	_getBoundingBoxToCurrentNode: function(a) {
		var b = cc.rect(0, 0, this._contentSize.width, this._contentSize.height);
		a = void 0 === a ? this.getNodeToParentTransform() : cc.affineTransformConcat(this.getNodeToParentTransform(), a);
		b = cc.rectApplyAffineTransform(b, a);
		if (!this._children) return b;
		for (var c = this._children, d = 0; d < c.length; d++) {
			var e = c[d];
			e && e._visible && (e = e._getBoundingBoxToCurrentNode(a)) && (b = cc.rectUnion(b, e))
		}
		return b
	},
	getOpacity: function() {
		return this._realOpacity
	},
	getDisplayedOpacity: function() {
		return this._renderCmd.getDisplayedOpacity()
	},
	setOpacity: function(a) {
		this._realOpacity = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)
	},
	updateDisplayedOpacity: function(a) {
		this._renderCmd._updateDisplayOpacity(a)
	},
	isCascadeOpacityEnabled: function() {
		return this._cascadeOpacityEnabled
	},
	setCascadeOpacityEnabled: function(a) {
		this._cascadeOpacityEnabled !== a && (this._cascadeOpacityEnabled = a, this._renderCmd.setCascadeOpacityEnabledDirty())
	},
	getColor: function() {
		var a = this._realColor;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	getDisplayedColor: function() {
		return this._renderCmd.getDisplayedColor()
	},
	setColor: function(a) {
		var b = this._realColor;
		b.r = a.r;
		b.g =
			a.g;
		b.b = a.b;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty)
	},
	updateDisplayedColor: function(a) {
		this._renderCmd._updateDisplayColor(a)
	},
	isCascadeColorEnabled: function() {
		return this._cascadeColorEnabled
	},
	setCascadeColorEnabled: function(a) {
		this._cascadeColorEnabled !== a && (this._cascadeColorEnabled = a, this._renderCmd.setCascadeColorEnabledDirty())
	},
	setOpacityModifyRGB: function(a) {},
	isOpacityModifyRGB: function() {
		return !1
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ?
			new cc.Node.CanvasRenderCmd(this) : new cc.Node.WebGLRenderCmd(this)
	},
	enumerateChildren: function(a, b) {
		cc.assert(a && 0 != a.length, "Invalid name");
		cc.assert(null != b, "Invalid callback function");
		var c = a.length,
			d = 0,
			e = c,
			f = !1;
		2 < c && "/" === a[0] && "/" === a[1] && (f = !0, d = 2, e -= 2);
		var g = !1;
		3 < c && "/" === a[c - 3] && "." === a[c - 2] && "." === a[c - 1] && (g = !0, e -= 3);
		c = a.substr(d, e);
		g && (c = "[[:alnum:]]+/" + c);
		f ? this.doEnumerateRecursive(this, c, b) : this.doEnumerate(c, b)
	},
	doEnumerateRecursive: function(a, b, c) {
		var d = !1;
		if (a.doEnumerate(b, c)) d = !0;
		else
			for (var e = a.getChildren(), f = e.length, g = 0; g < f; g++)
				if (a = e[g], this.doEnumerateRecursive(a, b, c)) {
					d = !0;
					break
				} return d
	},
	doEnumerate: function(a, b) {
		var c = a.indexOf("/"),
			d = a,
			e = !1; - 1 !== c && (d = a.substr(0, c), e = !0);
		for (var c = !1, f, g = this._children, h = g.length, k = 0; k < h; k++)
			if (f = g[k], -1 !== f._name.indexOf(d))
				if (e) {
					if (c = f.doEnumerate(a, b)) break
				} else if (b(f)) {
			c = !0;
			break
		}
		return c
	}
});
cc.Node.create = function() {
	return new cc.Node
};
cc.Node._stateCallbackType = {
	onEnter: 1,
	onExit: 2,
	cleanup: 3,
	onEnterTransitionDidFinish: 4,
	onExitTransitionDidStart: 5,
	max: 6
};
cc.Node._performStacks = [
	[]
];
cc.Node._performing = 0;
cc.assert(cc.isFunction(cc._tmp.PrototypeCCNode), cc._LogInfos.MissingFile, "BaseNodesPropertyDefine.js");
cc._tmp.PrototypeCCNode();
delete cc._tmp.PrototypeCCNode;
cc.CustomRenderCmd = function(a, b) {
	this._needDraw = !0;
	this._target = a;
	this._callback = b
};
cc.CustomRenderCmd.prototype.rendering = function(a, b, c) {
	this._callback && this._callback.call(this._target, a, b, c)
};
cc.CustomRenderCmd.prototype.needDraw = function() {
	return this._needDraw
};
var dirtyFlags = cc.Node._dirtyFlags = {
		transformDirty: 1,
		visibleDirty: 2,
		colorDirty: 4,
		opacityDirty: 8,
		cacheDirty: 16,
		orderDirty: 32,
		textDirty: 64,
		gradientDirty: 128,
		textureDirty: 256,
		contentDirty: 512,
		COUNT: 10,
		all: 1023
	},
	ONE_DEGREE = Math.PI / 180;

function transformChildTree(a) {
	var b = 1,
		c, d, e, f, g, h = cc.Node._performStacks[cc.Node._performing];
	h || (h = [], cc.Node._performStacks.push(h));
	h.length = 0;
	cc.Node._performing++;
	for (h[0] = a; b;)
		if (b--, d = h[b], h[b] = null, d) {
			if ((c = d._children) && 0 < c.length)
				for (e = d._renderCmd, f = 0, g = c.length; f < g; ++f) a = c[f], h[b] = a, b++, a._renderCmd.transform(e);
			if ((c = d._protectedChildren) && 0 < c.length)
				for (e = d._renderCmd, f = 0, g = c.length; f < g; ++f) a = c[f], h[b] = a, b++, a._renderCmd.transform(e)
		} cc.Node._performing--
}
cc.Node.RenderCmd = function(a) {
	this._node = a;
	this._anchorPointInPoints = {
		x: 0,
		y: 0
	};
	this._displayedColor = cc.color(255, 255, 255, 255)
};
cc.Node.RenderCmd.prototype = {
	constructor: cc.Node.RenderCmd,
	_needDraw: !1,
	_dirtyFlag: 1,
	_curLevel: -1,
	_displayedOpacity: 255,
	_cascadeColorEnabledDirty: !1,
	_cascadeOpacityEnabledDirty: !1,
	_transform: null,
	_worldTransform: null,
	_inverse: null,
	needDraw: function() {
		return this._needDraw
	},
	getAnchorPointInPoints: function() {
		return cc.p(this._anchorPointInPoints)
	},
	getDisplayedColor: function() {
		var a = this._displayedColor;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	getDisplayedOpacity: function() {
		return this._displayedOpacity
	},
	setCascadeColorEnabledDirty: function() {
		this._cascadeColorEnabledDirty = !0;
		this.setDirtyFlag(cc.Node._dirtyFlags.colorDirty)
	},
	setCascadeOpacityEnabledDirty: function() {
		this._cascadeOpacityEnabledDirty = !0;
		this.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)
	},
	getParentToNodeTransform: function() {
		this._inverse || (this._inverse = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		});
		this._dirtyFlag & cc.Node._dirtyFlags.transformDirty && cc.affineTransformInvertOut(this.getNodeToParentTransform(), this._inverse);
		return this._inverse
	},
	detachFromParent: function() {},
	_updateAnchorPointInPoint: function() {
		var a =
			this._anchorPointInPoints,
			b = this._node._contentSize,
			c = this._node._anchorPoint;
		a.x = b.width * c.x;
		a.y = b.height * c.y;
		this.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	setDirtyFlag: function(a) {
		0 === this._dirtyFlag && 0 !== a && cc.renderer.pushDirtyNode(this);
		this._dirtyFlag |= a
	},
	getParentRenderCmd: function() {
		return this._node && this._node._parent && this._node._parent._renderCmd ? this._node._parent._renderCmd : null
	},
	transform: function(a, b) {
		this._transform || (this._transform = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		}, this._worldTransform = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		});
		var c = this._node,
			d = a ? a._worldTransform : null,
			e = this._transform,
			f = this._worldTransform;
		if (c._usingNormalizedPosition && c._parent) {
			var g = c._parent._contentSize;
			c._position.x = c._normalizedPosition.x * g.width;
			c._position.y = c._normalizedPosition.y * g.height;
			c._normalizedPositionDirty = !1
		}
		var h = c._rotationX || c._rotationY,
			k = c._skewX || c._skewY,
			m = c._scaleX,
			n = c._scaleY,
			g = this._anchorPointInPoints.x,
			p = this._anchorPointInPoints.y,
			r = 1,
			t = 0,
			u = 0,
			s = 1;
		if (h || k) {
			e.tx = c._position.x;
			e.ty = c._position.y;
			h && (r = c._rotationX * ONE_DEGREE, u = Math.sin(r), s = Math.cos(r), c._rotationY === c._rotationX ? (r = s, t = -u) : (t = c._rotationY * ONE_DEGREE, r = Math.cos(t), t = -Math.sin(t)));
			e.a = r *= m;
			e.b = t *= m;
			e.c = u *= n;
			e.d = s *= n;
			k && (k = Math.tan(c._skewX * ONE_DEGREE), m = Math.tan(c._skewY * ONE_DEGREE), Infinity === k && (k = 99999999), Infinity === m && (m = 99999999), e.a = r + u * m, e.b = t + s * m, e.c = u + r * k, e.d = s + t * k);
			if (g || p) e.tx -= e.a * g + e.c * p, e.ty -= e.b * g + e.d * p, c._ignoreAnchorPointForPosition && (e.tx += g, e.ty += p);
			c._additionalTransformDirty && cc.affineTransformConcatIn(e,
				c._additionalTransform);
			d ? (f.a = e.a * d.a + e.b * d.c, f.b = e.a * d.b + e.b * d.d, f.c = e.c * d.a + e.d * d.c, f.d = e.c * d.b + e.d * d.d, f.tx = d.a * e.tx + d.c * e.ty + d.tx, f.ty = d.d * e.ty + d.ty + d.b * e.tx) : (f.a = e.a, f.b = e.b, f.c = e.c, f.d = e.d, f.tx = e.tx, f.ty = e.ty)
		} else {
			e.a = m;
			e.b = 0;
			e.c = 0;
			e.d = n;
			e.tx = c._position.x;
			e.ty = c._position.y;
			if (g || p) e.tx -= e.a * g, e.ty -= e.d * p, c._ignoreAnchorPointForPosition && (e.tx += g, e.ty += p);
			c._additionalTransformDirty && cc.affineTransformConcatIn(e, c._additionalTransform);
			d ? (f.a = e.a * d.a + e.b * d.c, f.b = e.a * d.b + e.b * d.d, f.c = e.c *
				d.a + e.d * d.c, f.d = e.c * d.b + e.d * d.d, f.tx = e.tx * d.a + e.ty * d.c + d.tx, f.ty = e.tx * d.b + e.ty * d.d + d.ty) : (f.a = e.a, f.b = e.b, f.c = e.c, f.d = e.d, f.tx = e.tx, f.ty = e.ty)
		}
		this._updateCurrentRegions && (this._updateCurrentRegions(), this._notifyRegionStatus && this._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.DirtyDouble));
		b && transformChildTree(c);
		this._cacheDirty = !0
	},
	getNodeToParentTransform: function() {
		(!this._transform || this._dirtyFlag & cc.Node._dirtyFlags.transformDirty) && this.transform();
		return this._transform
	},
	visit: function(a) {
		var b =
			this._node,
			c = cc.renderer;
		if (a = a || this.getParentRenderCmd()) this._curLevel = a._curLevel + 1;
		isNaN(b._customZ) && (b._vertexZ = c.assignedZ, c.assignedZ += c.assignedZStep);
		this._syncStatus(a)
	},
	_updateDisplayColor: function(a) {
		var b = this._node,
			c = this._displayedColor,
			d = b._realColor,
			e;
		this._notifyRegionStatus && this._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.Dirty);
		if (this._cascadeColorEnabledDirty && !b._cascadeColorEnabled) {
			c.r = d.r;
			c.g = d.g;
			c.b = d.b;
			c = new cc.Color(255, 255, 255, 255);
			a = b._children;
			b = 0;
			for (d =
				a.length; b < d; b++)(e = a[b]) && e._renderCmd && e._renderCmd._updateDisplayColor(c);
			this._cascadeColorEnabledDirty = !1
		} else if (void 0 === a && (a = (a = b._parent) && a._cascadeColorEnabled ? a.getDisplayedColor() : cc.color.WHITE), c.r = 0 | d.r * a.r / 255, c.g = 0 | d.g * a.g / 255, c.b = 0 | d.b * a.b / 255, b._cascadeColorEnabled)
			for (a = b._children, b = 0, d = a.length; b < d; b++)(e = a[b]) && e._renderCmd && (e._renderCmd._updateDisplayColor(c), e._renderCmd._updateColor());
		this._dirtyFlag &= ~dirtyFlags.colorDirty
	},
	_updateDisplayOpacity: function(a) {
		var b = this._node,
			c, d;
		this._notifyRegionStatus && this._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.Dirty);
		if (this._cascadeOpacityEnabledDirty && !b._cascadeOpacityEnabled) {
			this._displayedOpacity = b._realOpacity;
			c = b._children;
			a = 0;
			for (b = c.length; a < b; a++)(d = c[a]) && d._renderCmd && d._renderCmd._updateDisplayOpacity(255);
			this._cascadeOpacityEnabledDirty = !1
		} else if (void 0 === a && (c = b._parent, a = 255, c && c._cascadeOpacityEnabled && (a = c.getDisplayedOpacity())), this._displayedOpacity = b._realOpacity * a / 255, b._cascadeOpacityEnabled)
			for (c =
				b._children, a = 0, b = c.length; a < b; a++)(d = c[a]) && d._renderCmd && (d._renderCmd._updateDisplayOpacity(this._displayedOpacity), d._renderCmd._updateColor());
		this._dirtyFlag &= ~dirtyFlags.opacityDirty
	},
	_syncDisplayColor: function(a) {
		var b = this._node,
			c = this._displayedColor,
			d = b._realColor;
		void 0 === a && (a = (a = b._parent) && a._cascadeColorEnabled ? a.getDisplayedColor() : cc.color.WHITE);
		c.r = 0 | d.r * a.r / 255;
		c.g = 0 | d.g * a.g / 255;
		c.b = 0 | d.b * a.b / 255
	},
	_syncDisplayOpacity: function(a) {
		var b = this._node;
		if (void 0 === a) {
			var c = b._parent;
			a = 255;
			c && c._cascadeOpacityEnabled && (a = c.getDisplayedOpacity())
		}
		this._displayedOpacity = b._realOpacity * a / 255
	},
	_updateColor: function() {},
	_propagateFlagsDown: function(a) {
		var b = this._dirtyFlag,
			c = a ? a._node : null;
		c && c._cascadeColorEnabled && a._dirtyFlag & dirtyFlags.colorDirty && (b |= dirtyFlags.colorDirty);
		c && c._cascadeOpacityEnabled && a._dirtyFlag & dirtyFlags.opacityDirty && (b |= dirtyFlags.opacityDirty);
		a && a._dirtyFlag & dirtyFlags.transformDirty && (b |= dirtyFlags.transformDirty);
		this._dirtyFlag = b
	},
	updateStatus: function() {
		var a =
			this._dirtyFlag,
			b = a & dirtyFlags.colorDirty,
			c = a & dirtyFlags.opacityDirty;
		a & dirtyFlags.contentDirty && (this._notifyRegionStatus && this._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.Dirty), this._dirtyFlag &= ~dirtyFlags.contentDirty);
		b && this._updateDisplayColor();
		c && this._updateDisplayOpacity();
		(b || c) && this._updateColor();
		a & dirtyFlags.transformDirty && (this.transform(this.getParentRenderCmd(), !0), this._dirtyFlag &= ~dirtyFlags.transformDirty);
		a & dirtyFlags.orderDirty && (this._dirtyFlag &= ~dirtyFlags.orderDirty)
	},
	_syncStatus: function(a) {
		var b = this._dirtyFlag,
			c = a ? a._node : null;
		c && c._cascadeColorEnabled && a._dirtyFlag & dirtyFlags.colorDirty && (b |= dirtyFlags.colorDirty);
		c && c._cascadeOpacityEnabled && a._dirtyFlag & dirtyFlags.opacityDirty && (b |= dirtyFlags.opacityDirty);
		a && a._dirtyFlag & dirtyFlags.transformDirty && (b |= dirtyFlags.transformDirty);
		this._dirtyFlag = b;
		var c = b & dirtyFlags.colorDirty,
			d = b & dirtyFlags.opacityDirty;
		c && this._syncDisplayColor();
		d && this._syncDisplayOpacity();
		(c || d) && this._updateColor();
		b & dirtyFlags.transformDirty &&
			this.transform(a);
		b & dirtyFlags.orderDirty && (this._dirtyFlag &= ~dirtyFlags.orderDirty)
	},
	setShaderProgram: function(a) {},
	getShaderProgram: function() {
		return null
	},
	getGLProgramState: function() {
		return null
	},
	setGLProgramState: function(a) {}
};
cc.Node.RenderCmd.prototype.originTransform = cc.Node.RenderCmd.prototype.transform;
cc.Node.RenderCmd.prototype.originUpdateStatus = cc.Node.RenderCmd.prototype.updateStatus;
cc.Node.RenderCmd.prototype._originSyncStatus = cc.Node.RenderCmd.prototype._syncStatus;
(function() {
	cc.Node.CanvasRenderCmd = function(a) {
		this._node = a;
		this._anchorPointInPoints = {
			x: 0,
			y: 0
		};
		this._displayedColor = cc.color(255, 255, 255, 255);
		this._cachedParent = null;
		this._cacheDirty = !1;
		this._currentRegion = new cc.Region;
		this._oldRegion = new cc.Region;
		this._regionFlag = 0;
		this._canUseDirtyRegion = !1
	};
	cc.Node.CanvasRenderCmd.RegionStatus = {
		NotDirty: 0,
		Dirty: 1,
		DirtyDouble: 2
	};
	var a = cc.Node.CanvasRenderCmd.prototype = Object.create(cc.Node.RenderCmd.prototype);
	a.constructor = cc.Node.CanvasRenderCmd;
	a._rootCtor =
		cc.Node.CanvasRenderCmd;
	a._notifyRegionStatus = function(a) {
		this._needDraw && this._regionFlag < a && (this._regionFlag = a)
	};
	var b = new cc.Rect;
	a.getLocalBB = function() {
		var a = this._node;
		b.x = b.y = 0;
		b.width = a._contentSize.width;
		b.height = a._contentSize.height;
		return b
	};
	a._updateCurrentRegions = function() {
		var a = this._currentRegion;
		this._currentRegion = this._oldRegion;
		this._oldRegion = a;
		cc.Node.CanvasRenderCmd.RegionStatus.DirtyDouble !== this._regionFlag || this._currentRegion.isEmpty() || this._oldRegion.union(this._currentRegion);
		this._currentRegion.updateRegion(this.getLocalBB(), this._worldTransform)
	};
	a.setDirtyFlag = function(a, b) {
		cc.Node.RenderCmd.prototype.setDirtyFlag.call(this, a, b);
		this._setCacheDirty(b);
		this._cachedParent && this._cachedParent.setDirtyFlag(a, !0)
	};
	a._setCacheDirty = function() {
		if (!1 === this._cacheDirty) {
			this._cacheDirty = !0;
			var a = this._cachedParent;
			a && a !== this && a._setNodeDirtyForCache && a._setNodeDirtyForCache()
		}
	};
	a._setCachedParent = function(a) {
		if (this._cachedParent !== a) {
			this._cachedParent = a;
			for (var b = this._node._children,
					e = 0, f = b.length; e < f; e++) b[e]._renderCmd._setCachedParent(a)
		}
	};
	a.detachFromParent = function() {
		this._cachedParent = null;
		for (var a = this._node._children, b, e = 0, f = a.length; e < f; e++)(b = a[e]) && b._renderCmd && b._renderCmd.detachFromParent()
	};
	cc.Node.CanvasRenderCmd._getCompositeOperationByBlendFunc = function(a) {
		return a ? a.src === cc.SRC_ALPHA && a.dst === cc.ONE || a.src === cc.ONE && a.dst === cc.ONE ? "lighter" : a.src === cc.ZERO && a.dst === cc.SRC_ALPHA ? "destination-in" : a.src === cc.ZERO && a.dst === cc.ONE_MINUS_SRC_ALPHA ? "destination-out" :
			"source-over" : "source-over"
	}
})();
(function() {
	cc.Node.WebGLRenderCmd = function(a) {
		this._node = a;
		this._anchorPointInPoints = {
			x: 0,
			y: 0
		};
		this._displayedColor = cc.color(255, 255, 255, 255);
		this._glProgramState = null
	};
	var a = cc.Node.WebGLRenderCmd.prototype = Object.create(cc.Node.RenderCmd.prototype);
	a.constructor = cc.Node.WebGLRenderCmd;
	a._rootCtor = cc.Node.WebGLRenderCmd;
	a._updateColor = function() {};
	a.setShaderProgram = function(a) {
		this._glProgramState = cc.GLProgramState.getOrCreateWithGLProgram(a)
	};
	a.getShaderProgram = function() {
		return this._glProgramState ?
			this._glProgramState.getGLProgram() : null
	};
	a.getGLProgramState = function() {
		return this._glProgramState
	};
	a.setGLProgramState = function(a) {
		this._glProgramState = a
	};
	Object.defineProperty(a, "_shaderProgram", {
		set: function(a) {
			this.setShaderProgram(a)
		},
		get: function() {
			return this.getShaderProgram()
		}
	})
})();
cc.AtlasNode = cc.Node.extend({
	textureAtlas: null,
	quadsToDraw: 0,
	_itemsPerRow: 0,
	_itemsPerColumn: 0,
	_itemWidth: 0,
	_itemHeight: 0,
	_opacityModifyRGB: !1,
	_blendFunc: null,
	_ignoreContentScaleFactor: !1,
	_className: "AtlasNode",
	_texture: null,
	_textureForCanvas: null,
	ctor: function(a, b, c, d) {
		cc.Node.prototype.ctor.call(this);
		this._blendFunc = {
			src: cc.BLEND_SRC,
			dst: cc.BLEND_DST
		};
		this._ignoreContentScaleFactor = !1;
		void 0 !== d && this.initWithTileFile(a, b, c, d)
	},
	_createRenderCmd: function() {
		this._renderCmd = cc._renderType === cc.game.RENDER_TYPE_CANVAS ?
			new cc.AtlasNode.CanvasRenderCmd(this) : new cc.AtlasNode.WebGLRenderCmd(this)
	},
	updateAtlasValues: function() {
		cc.log(cc._LogInfos.AtlasNode_updateAtlasValues)
	},
	getColor: function() {
		return this._opacityModifyRGB ? this._renderCmd._colorUnmodified : cc.Node.prototype.getColor.call(this)
	},
	setOpacityModifyRGB: function(a) {
		var b = this.color;
		this._opacityModifyRGB = a;
		this.setColor(b)
	},
	isOpacityModifyRGB: function() {
		return this._opacityModifyRGB
	},
	getBlendFunc: function() {
		return this._blendFunc
	},
	setBlendFunc: function(a,
		b) {
		this._blendFunc = void 0 === b ? a : {
			src: a,
			dst: b
		}
	},
	setTextureAtlas: function(a) {
		this.textureAtlas = a
	},
	getTextureAtlas: function() {
		return this.textureAtlas
	},
	getQuadsToDraw: function() {
		return this.quadsToDraw
	},
	setQuadsToDraw: function(a) {
		this.quadsToDraw = a
	},
	initWithTileFile: function(a, b, c, d) {
		if (!a) throw Error("cc.AtlasNode.initWithTileFile(): title should not be null");
		a = cc.textureCache.addImage(a);
		return this.initWithTexture(a, b, c, d)
	},
	initWithTexture: function(a, b, c, d) {
		return this._renderCmd.initWithTexture(a,
			b, c, d)
	},
	setColor: function(a) {
		this._renderCmd.setColor(a)
	},
	setOpacity: function(a) {
		this._renderCmd.setOpacity(a)
	},
	getTexture: function() {
		return this._texture
	},
	setTexture: function(a) {
		this._texture = a
	},
	_setIgnoreContentScaleFactor: function(a) {
		this._ignoreContentScaleFactor = a
	}
});
_p = cc.AtlasNode.prototype;
cc.defineGetterSetter(_p, "opacity", _p.getOpacity, _p.setOpacity);
cc.defineGetterSetter(_p, "color", _p.getColor, _p.setColor);
cc.defineGetterSetter(_p, "texture", _p.getTexture, _p.setTexture);
cc.EventHelper.prototype.apply(_p);
cc.AtlasNode.create = function(a, b, c, d) {
	return new cc.AtlasNode(a, b, c, d)
};
(function() {
	cc.AtlasNode.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !1;
		this._colorUnmodified = cc.color.WHITE;
		this._textureToRender = null
	};
	var a = cc.AtlasNode.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.AtlasNode.CanvasRenderCmd;
	a.initWithTexture = function(a, c, d, e) {
		var f = this._node;
		f._itemWidth = c;
		f._itemHeight = d;
		f._opacityModifyRGB = !0;
		f._texture = a;
		if (!f._texture) return cc.log(cc._LogInfos.AtlasNode__initWithTexture), !1;
		this._textureToRender =
			a;
		this._calculateMaxItems();
		f.quadsToDraw = e;
		return !0
	};
	a.setColor = function(a) {
		var c = this._node._realColor;
		if (c.r !== a.r || c.g !== a.g || c.b !== a.b) this._colorUnmodified = a, this._changeTextureColor()
	};
	a._changeTextureColor = function() {
		var a = this._node._texture,
			c = this._colorUnmodified,
			d = a.getHtmlElementObj(),
			d = cc.rect(0, 0, d.width, d.height);
		a === this._textureToRender ? this._textureToRender = a._generateColorTexture(c.r, c.g, c.b, d) : a._generateColorTexture(c.r, c.g, c.b, d, this._textureToRender.getHtmlElementObj())
	};
	a.setOpacity =
		function(a) {
			cc.Node.prototype.setOpacity.call(this._node, a)
		};
	a._calculateMaxItems = function() {
		var a = this._node,
			c = a._texture.getContentSize();
		a._itemsPerColumn = 0 | c.height / a._itemHeight;
		a._itemsPerRow = 0 | c.width / a._itemWidth
	}
})();
(function() {
	cc.AtlasNode.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._textureAtlas = null;
		this._colorUnmodified = cc.color.WHITE;
		this._uniformColor = this._colorF32Array = null;
		this._matrix = new cc.math.Matrix4;
		this._matrix.identity();
		this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE_UCOLOR);
		this._uniformColor = cc._renderContext.getUniformLocation(this._shaderProgram.getProgram(), "u_color")
	};
	var a = cc.AtlasNode.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.AtlasNode.WebGLRenderCmd;
	a._updateBlendFunc = function() {
		var a = this._node;
		this._textureAtlas.texture.hasPremultipliedAlpha() || (a._blendFunc.src = cc.SRC_ALPHA, a._blendFunc.dst = cc.ONE_MINUS_SRC_ALPHA)
	};
	a._updateOpacityModifyRGB = function() {
		this._node._opacityModifyRGB = this._textureAtlas.texture.hasPremultipliedAlpha()
	};
	a.rendering = function(a) {
		a = a || cc._renderContext;
		var c = this._node,
			d = this._worldTransform;
		this._matrix.mat[0] = d.a;
		this._matrix.mat[4] = d.c;
		this._matrix.mat[12] = d.tx;
		this._matrix.mat[1] =
			d.b;
		this._matrix.mat[5] = d.d;
		this._matrix.mat[13] = d.ty;
		this._glProgramState.apply(this._matrix);
		cc.glBlendFunc(c._blendFunc.src, c._blendFunc.dst);
		this._uniformColor && this._colorF32Array && (a.uniform4fv(this._uniformColor, this._colorF32Array), this._textureAtlas.drawNumberOfQuads(c.quadsToDraw, 0))
	};
	a.initWithTexture = function(a, c, d, e) {
		var f = this._node;
		f._itemWidth = c;
		f._itemHeight = d;
		this._colorUnmodified = cc.color.WHITE;
		f._opacityModifyRGB = !0;
		f._blendFunc.src = cc.BLEND_SRC;
		f._blendFunc.dst = cc.BLEND_DST;
		c =
			f._realColor;
		this._colorF32Array = new Float32Array([c.r / 255, c.g / 255, c.b / 255, f._realOpacity / 255]);
		this._textureAtlas = new cc.TextureAtlas;
		this._textureAtlas.initWithTexture(a, e);
		if (!this._textureAtlas) return cc.log(cc._LogInfos.AtlasNode__initWithTexture), !1;
		this._updateBlendFunc();
		this._updateOpacityModifyRGB();
		this._calculateMaxItems();
		f.quadsToDraw = e;
		return !0
	};
	a.setColor = function(a) {
		var c = cc.color(a.r, a.g, a.b),
			d = this._node;
		this._colorUnmodified = a;
		a = this._displayedOpacity;
		d._opacityModifyRGB && (c.r =
			c.r * a / 255, c.g = c.g * a / 255, c.b = c.b * a / 255);
		cc.Node.prototype.setColor.call(d, c)
	};
	a.setOpacity = function(a) {
		var c = this._node;
		cc.Node.prototype.setOpacity.call(c, a);
		c._opacityModifyRGB && (c.color = this._colorUnmodified)
	};
	a._updateColor = function() {
		if (this._colorF32Array) {
			var a = this._displayedColor;
			this._colorF32Array[0] = a.r / 255;
			this._colorF32Array[1] = a.g / 255;
			this._colorF32Array[2] = a.b / 255;
			this._colorF32Array[3] = this._displayedOpacity / 255
		}
	};
	a.getTexture = function() {
		return this._textureAtlas.texture
	};
	a.setTexture =
		function(a) {
			this._textureAtlas.texture = a;
			this._updateBlendFunc();
			this._updateOpacityModifyRGB()
		};
	a._calculateMaxItems = function() {
		var a = this._node,
			c = this._textureAtlas.texture,
			d = c.getContentSize();
		a._ignoreContentScaleFactor && (d = c.getContentSizeInPixels());
		a._itemsPerColumn = 0 | d.height / a._itemHeight;
		a._itemsPerRow = 0 | d.width / a._itemWidth
	}
})();
cc._tmp.WebGLTexture2D = function() {
	cc.Texture2D = cc.Class.extend({
		_pVRHaveAlphaPremultiplied: !0,
		_pixelFormat: null,
		_pixelsWide: 0,
		_pixelsHigh: 0,
		_name: "",
		_contentSize: null,
		maxS: 0,
		maxT: 0,
		_hasPremultipliedAlpha: !1,
		_hasMipmaps: !1,
		shaderProgram: null,
		_textureLoaded: !1,
		_htmlElementObj: null,
		_webTextureObj: null,
		url: null,
		ctor: function() {
			this._contentSize = cc.size(0, 0);
			this._pixelFormat = cc.Texture2D.defaultPixelFormat
		},
		releaseTexture: function() {
			this._webTextureObj && cc._renderContext.deleteTexture(this._webTextureObj);
			this._htmlElementObj = null;
			cc.loader.release(this.url)
		},
		getPixelFormat: function() {
			return this._pixelFormat
		},
		getPixelsWide: function() {
			return this._pixelsWide
		},
		getPixelsHigh: function() {
			return this._pixelsHigh
		},
		getName: function() {
			return this._webTextureObj
		},
		getContentSize: function() {
			return cc.size(this._contentSize.width / cc.contentScaleFactor(), this._contentSize.height / cc.contentScaleFactor())
		},
		_getWidth: function() {
			return this._contentSize.width / cc.contentScaleFactor()
		},
		_getHeight: function() {
			return this._contentSize.height /
				cc.contentScaleFactor()
		},
		getContentSizeInPixels: function() {
			return this._contentSize
		},
		getMaxS: function() {
			return this.maxS
		},
		setMaxS: function(a) {
			this.maxS = a
		},
		getMaxT: function() {
			return this.maxT
		},
		setMaxT: function(a) {
			this.maxT = a
		},
		getShaderProgram: function() {
			return this.shaderProgram
		},
		setShaderProgram: function(a) {
			this.shaderProgram = a
		},
		hasPremultipliedAlpha: function() {
			return this._hasPremultipliedAlpha
		},
		hasMipmaps: function() {
			return this._hasMipmaps
		},
		description: function() {
			return "\x3ccc.Texture2D | Name \x3d " +
				this._name + " | Dimensions \x3d " + this._pixelsWide + " x " + this._pixelsHigh + " | Coordinates \x3d (" + this.maxS + ", " + this.maxT + ")\x3e"
		},
		releaseData: function(a) {},
		keepData: function(a, b) {
			return a
		},
		initWithData: function(a, b, c, d, e) {
			var f = cc.Texture2D,
				g = cc._renderContext,
				h = g.RGBA,
				k = g.UNSIGNED_BYTE,
				m = c * cc.Texture2D._B[b] / 8;
			0 === m % 8 ? g.pixelStorei(g.UNPACK_ALIGNMENT, 8) : 0 === m % 4 ? g.pixelStorei(g.UNPACK_ALIGNMENT, 4) : 0 === m % 2 ? g.pixelStorei(g.UNPACK_ALIGNMENT, 2) : g.pixelStorei(g.UNPACK_ALIGNMENT, 1);
			this._webTextureObj =
				g.createTexture();
			cc.glBindTexture2D(this);
			g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, g.LINEAR);
			g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MAG_FILTER, g.LINEAR);
			g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.CLAMP_TO_EDGE);
			g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.CLAMP_TO_EDGE);
			switch (b) {
				case f.PIXEL_FORMAT_RGBA8888:
					h = g.RGBA;
					break;
				case f.PIXEL_FORMAT_RGB888:
					h = g.RGB;
					break;
				case f.PIXEL_FORMAT_RGBA4444:
					k = g.UNSIGNED_SHORT_4_4_4_4;
					break;
				case f.PIXEL_FORMAT_RGB5A1:
					k = g.UNSIGNED_SHORT_5_5_5_1;
					break;
				case f.PIXEL_FORMAT_RGB565:
					k = g.UNSIGNED_SHORT_5_6_5;
					break;
				case f.PIXEL_FORMAT_AI88:
					h = g.LUMINANCE_ALPHA;
					break;
				case f.PIXEL_FORMAT_A8:
					h = g.ALPHA;
					break;
				case f.PIXEL_FORMAT_I8:
					h = g.LUMINANCE;
					break;
				default:
					cc.assert(0, cc._LogInfos.Texture2D_initWithData)
			}
			g.texImage2D(g.TEXTURE_2D, 0, h, c, d, 0, h, k, a);
			this._contentSize.width = e.width;
			this._contentSize.height = e.height;
			this._pixelsWide = c;
			this._pixelsHigh = d;
			this._pixelFormat = b;
			this.maxS = e.width / c;
			this.maxT = e.height / d;
			this._hasMipmaps = this._hasPremultipliedAlpha = !1;
			this.shaderProgram = cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE);
			return this._textureLoaded = !0
		},
		drawAtPoint: function(a) {
			var b = [0, this.maxT, this.maxS, this.maxT, 0, 0, this.maxS, 0],
				c = cc._renderContext,
				d = this._pixelsWide * this.maxS,
				e = this._pixelsHigh * this.maxT;
			a = [a.x, a.y, 0, d + a.x, a.y, 0, a.x, e + a.y, 0, d + a.x, e + a.y, 0];
			this._glProgramState.apply();
			this._glProgramState._glprogram.setUniformsForBuiltins();
			cc.glBindTexture2D(this);
			c.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
			c.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
			c.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, c.FLOAT, !1, 0, a);
			c.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, c.FLOAT, !1, 0, b);
			c.drawArrays(c.TRIANGLE_STRIP, 0, 4)
		},
		drawInRect: function(a) {
			var b = [0, this.maxT, this.maxS, this.maxT, 0, 0, this.maxS, 0];
			a = [a.x, a.y, a.x + a.width, a.y, a.x, a.y + a.height, a.x + a.width, a.y + a.height];
			this._glProgramState.apply();
			this._glProgramState._glprogram.setUniformsForBuiltins();
			cc.glBindTexture2D(this);
			var c = cc._renderContext;
			c.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
			c.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
			c.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, c.FLOAT, !1, 0, a);
			c.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, c.FLOAT, !1, 0, b);
			c.drawArrays(c.TRIANGLE_STRIP, 0, 4)
		},
		initWithImage: function(a) {
			if (null == a) return cc.log(cc._LogInfos.Texture2D_initWithImage), !1;
			var b = a.getWidth(),
				c = a.getHeight(),
				d = cc.configuration.getMaxTextureSize();
			if (b > d || c > d) return cc.log(cc._LogInfos.Texture2D_initWithImage_2, b, c, d, d), !1;
			this._textureLoaded = !0;
			return this._initPremultipliedATextureWithImage(a,
				b, c)
		},
		initWithElement: function(a) {
			a && (this._webTextureObj = cc._renderContext.createTexture(), this._htmlElementObj = a, this._hasPremultipliedAlpha = this._textureLoaded = !0)
		},
		getHtmlElementObj: function() {
			return this._htmlElementObj
		},
		isLoaded: function() {
			return this._textureLoaded
		},
		handleLoadedTexture: function(a) {
			a = void 0 !== a ? a : this._hasPremultipliedAlpha;
			if (cc.game._rendererInitialized && this._htmlElementObj && this._htmlElementObj.width && this._htmlElementObj.height) {
				var b = cc._renderContext;
				cc.glBindTexture2D(this);
				b.pixelStorei(b.UNPACK_ALIGNMENT, 4);
				a && b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);
				b.texImage2D(b.TEXTURE_2D, 0, b.RGBA, b.RGBA, b.UNSIGNED_BYTE, this._htmlElementObj);
				b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MIN_FILTER, b.LINEAR);
				b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MAG_FILTER, b.LINEAR);
				b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_S, b.CLAMP_TO_EDGE);
				b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_T, b.CLAMP_TO_EDGE);
				this.shaderProgram = cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE);
				cc.glBindTexture2D(null);
				a && b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0);
				b = this._htmlElementObj.height;
				this._pixelsWide = this._contentSize.width = this._htmlElementObj.width;
				this._pixelsHigh = this._contentSize.height = b;
				this._pixelFormat = cc.Texture2D.PIXEL_FORMAT_RGBA8888;
				this.maxT = this.maxS = 1;
				this._hasPremultipliedAlpha = a;
				this._hasMipmaps = !1;
				window.ENABLE_IMAEG_POOL && (this._htmlElementObj = null);
				this.dispatchEvent("load")
			}
		},
		initWithString: function(a, b, c, d, e, f) {
			cc.log(cc._LogInfos.Texture2D_initWithString);
			return null
		},
		initWithETCFile: function(a) {
			cc.log(cc._LogInfos.Texture2D_initWithETCFile_2);
			return !1
		},
		initWithPVRFile: function(a) {
			cc.log(cc._LogInfos.Texture2D_initWithPVRFile_2);
			return !1
		},
		initWithPVRTCData: function(a, b, c, d, e, f) {
			cc.log(cc._LogInfos.Texture2D_initWithPVRTCData_2);
			return !1
		},
		setTexParameters: function(a, b, c, d) {
			var e = cc._renderContext;
			void 0 !== b && (a = {
				minFilter: a,
				magFilter: b,
				wrapS: c,
				wrapT: d
			});
			cc.assert(this._pixelsWide === cc.NextPOT(this._pixelsWide) && this._pixelsHigh === cc.NextPOT(this._pixelsHigh) || a.wrapS === e.CLAMP_TO_EDGE && a.wrapT === e.CLAMP_TO_EDGE, "WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
			cc.glBindTexture2D(this);
			e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, a.minFilter);
			e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, a.magFilter);
			e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, a.wrapS);
			e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, a.wrapT)
		},
		setAntiAliasTexParameters: function() {
			var a = cc._renderContext;
			cc.glBindTexture2D(this);
			this._hasMipmaps ? a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, a.LINEAR_MIPMAP_NEAREST) : a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, a.LINEAR);
			a.texParameteri(a.TEXTURE_2D,
				a.TEXTURE_MAG_FILTER, a.LINEAR)
		},
		setAliasTexParameters: function() {
			var a = cc._renderContext;
			cc.glBindTexture2D(this);
			this._hasMipmaps ? a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, a.NEAREST_MIPMAP_NEAREST) : a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, a.NEAREST);
			a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MAG_FILTER, a.NEAREST)
		},
		generateMipmap: function() {
			cc.assert(this._pixelsWide === cc.NextPOT(this._pixelsWide) && this._pixelsHigh === cc.NextPOT(this._pixelsHigh), "Mimpap texture only works in POT textures");
			cc.glBindTexture2D(this);
			cc._renderContext.generateMipmap(cc._renderContext.TEXTURE_2D);
			this._hasMipmaps = !0
		},
		stringForFormat: function() {
			return cc.Texture2D._M[this._pixelFormat]
		},
		bitsPerPixelForFormat: function(a) {
			a = a || this._pixelFormat;
			var b = cc.Texture2D._B[a];
			if (null != b) return b;
			cc.log(cc._LogInfos.Texture2D_bitsPerPixelForFormat, a);
			return -1
		},
		_initPremultipliedATextureWithImage: function(a, b, c) {
			var d = cc.Texture2D,
				e = a.getData(),
				f = null,
				f = null,
				g = a.hasAlpha(),
				h = cc.size(a.getWidth(), a.getHeight()),
				k = d.defaultPixelFormat,
				m = a.getBitsPerComponent();
			g || (8 <= m ? k = d.PIXEL_FORMAT_RGB888 : (cc.log(cc._LogInfos.Texture2D__initPremultipliedATextureWithImage), k = d.PIXEL_FORMAT_RGB565));
			var n = b * c;
			if (k === d.PIXEL_FORMAT_RGB565)
				if (g)
					for (e = new Uint16Array(b * c), f = a.getData(), m = 0; m < n; ++m) e[m] = (f[m] >> 0 & 255) >> 3 << 11 | (f[m] >> 8 & 255) >> 2 << 5 | (f[m] >> 16 & 255) >> 3 << 0;
				else
					for (e = new Uint16Array(b * c), f = a.getData(), m = 0; m < n; ++m) e[m] = (f[m] & 255) >> 3 << 11 | (f[m] & 255) >> 2 << 5 | (f[m] & 255) >> 3 << 0;
			else if (k === d.PIXEL_FORMAT_RGBA4444)
				for (e = new Uint16Array(b * c), f = a.getData(),
					m = 0; m < n; ++m) e[m] = (f[m] >> 0 & 255) >> 4 << 12 | (f[m] >> 8 & 255) >> 4 << 8 | (f[m] >> 16 & 255) >> 4 << 4 | (f[m] >> 24 & 255) >> 4 << 0;
			else if (k === d.PIXEL_FORMAT_RGB5A1)
				for (e = new Uint16Array(b * c), f = a.getData(), m = 0; m < n; ++m) e[m] = (f[m] >> 0 & 255) >> 3 << 11 | (f[m] >> 8 & 255) >> 3 << 6 | (f[m] >> 16 & 255) >> 3 << 1 | (f[m] >> 24 & 255) >> 7 << 0;
			else if (k === d.PIXEL_FORMAT_A8)
				for (e = new Uint8Array(b * c), f = a.getData(), m = 0; m < n; ++m) e[m] = f >> 24 & 255;
			if (g && k === d.PIXEL_FORMAT_RGB888)
				for (f = a.getData(), e = new Uint8Array(b * c * 3), m = 0; m < n; ++m) e[3 * m] = f >> 0 & 255, e[3 * m + 1] = f >> 8 & 255, e[3 * m + 2] =
					f >> 16 & 255;
			this.initWithData(e, k, b, c, h);
			a.getData();
			this._hasPremultipliedAlpha = a.isPremultipliedAlpha();
			return !0
		},
		addLoadedEventListener: function(a, b) {
			this.addEventListener("load", a, b)
		},
		removeLoadedEventListener: function(a) {
			this.removeEventTarget("load", a)
		}
	})
};
cc._tmp.WebGLTextureAtlas = function() {
	var a = cc.TextureAtlas.prototype;
	a._setupVBO = function() {
		var a = cc._renderContext;
		this._buffersVBO[0] = a.createBuffer();
		this._buffersVBO[1] = a.createBuffer();
		this._quadsWebBuffer = a.createBuffer();
		this._mapBuffers()
	};
	a._mapBuffers = function() {
		var a = cc._renderContext;
		a.bindBuffer(a.ARRAY_BUFFER, this._quadsWebBuffer);
		a.bufferData(a.ARRAY_BUFFER, this._quadsArrayBuffer, a.DYNAMIC_DRAW);
		a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this._buffersVBO[1]);
		a.bufferData(a.ELEMENT_ARRAY_BUFFER,
			this._indices, a.STATIC_DRAW)
	};
	a.drawNumberOfQuads = function(a, c) {
		c = c || 0;
		if (0 !== a && this.texture && this.texture.isLoaded()) {
			var d = cc._renderContext;
			cc.glBindTexture2D(this.texture);
			d.bindBuffer(d.ARRAY_BUFFER, this._quadsWebBuffer);
			this.dirty && (d.bufferData(d.ARRAY_BUFFER, this._quadsArrayBuffer, d.DYNAMIC_DRAW), this.dirty = !1);
			d.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
			d.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);
			d.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
			d.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,
				3, d.FLOAT, !1, 24, 0);
			d.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR, 4, d.UNSIGNED_BYTE, !0, 24, 12);
			d.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, d.FLOAT, !1, 24, 16);
			d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, this._buffersVBO[1]);
			cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP ? d.drawElements(d.TRIANGLE_STRIP, 6 * a, d.UNSIGNED_SHORT, 6 * c * this._indices.BYTES_PER_ELEMENT) : d.drawElements(d.TRIANGLES, 6 * a, d.UNSIGNED_SHORT, 6 * c * this._indices.BYTES_PER_ELEMENT);
			cc.g_NumberOfDraws++
		}
	}
};
cc._tmp.WebGLTextureCache = function() {
	var a = cc.textureCache;
	a.handleLoadedTexture = function(a, c) {
		var d = this._textures,
			e;
		cc.game._rendererInitialized || (d = this._loadedTexturesBefore);
		e = d[a];
		e || (e = d[a] = new cc.Texture2D, e.url = a);
		e.initWithElement(c);
		".png" === cc.path.extname(a) ? e.handleLoadedTexture(!0) : e.handleLoadedTexture();
		return e
	};
	a.addImage = function(a, c, d) {
		cc.assert(a, cc._LogInfos.Texture2D_addImage_2);
		var e = this._textures;
		cc.game._rendererInitialized || (e = this._loadedTexturesBefore);
		var f = e[a] || e[cc.loader._getAliase(a)];
		if (f) return f.isLoaded() ? c && c.call(d, f) : f.addEventListener("load", function() {
			c && c.call(d, f)
		}, d), f;
		f = e[a] = new cc.Texture2D;
		f.url = a;
		e = cc.loader.getBasePath ? cc.loader.getBasePath() : cc.loader.resPath;
		cc.loader.loadImg(cc.path.join(e || "", a), function(e, f) {
			if (e) return c && c.call(d, e);
			var k = cc.textureCache.handleLoadedTexture(a, f);
			c && c.call(d, k)
		});
		return f
	};
	a.addImageAsync = a.addImage;
	a = null
};
cc._tmp.PrototypeTexture2D = function() {
	var a = cc.Texture2D;
	a.PVRImagesHavePremultipliedAlpha = function(a) {
		cc.PVRHaveAlphaPremultiplied_ = a
	};
	a.PIXEL_FORMAT_RGBA8888 = 2;
	a.PIXEL_FORMAT_RGB888 = 3;
	a.PIXEL_FORMAT_RGB565 = 4;
	a.PIXEL_FORMAT_A8 = 5;
	a.PIXEL_FORMAT_I8 = 6;
	a.PIXEL_FORMAT_AI88 = 7;
	a.PIXEL_FORMAT_RGBA4444 = 8;
	a.PIXEL_FORMAT_RGB5A1 = 7;
	a.PIXEL_FORMAT_PVRTC4 = 9;
	a.PIXEL_FORMAT_PVRTC2 = 10;
	a.PIXEL_FORMAT_DEFAULT = a.PIXEL_FORMAT_RGBA8888;
	a.defaultPixelFormat = a.PIXEL_FORMAT_DEFAULT;
	var b = cc.Texture2D._M = {};
	b[a.PIXEL_FORMAT_RGBA8888] =
		"RGBA8888";
	b[a.PIXEL_FORMAT_RGB888] = "RGB888";
	b[a.PIXEL_FORMAT_RGB565] = "RGB565";
	b[a.PIXEL_FORMAT_A8] = "A8";
	b[a.PIXEL_FORMAT_I8] = "I8";
	b[a.PIXEL_FORMAT_AI88] = "AI88";
	b[a.PIXEL_FORMAT_RGBA4444] = "RGBA4444";
	b[a.PIXEL_FORMAT_RGB5A1] = "RGB5A1";
	b[a.PIXEL_FORMAT_PVRTC4] = "PVRTC4";
	b[a.PIXEL_FORMAT_PVRTC2] = "PVRTC2";
	b = cc.Texture2D._B = {};
	b[a.PIXEL_FORMAT_RGBA8888] = 32;
	b[a.PIXEL_FORMAT_RGB888] = 24;
	b[a.PIXEL_FORMAT_RGB565] = 16;
	b[a.PIXEL_FORMAT_A8] = 8;
	b[a.PIXEL_FORMAT_I8] = 8;
	b[a.PIXEL_FORMAT_AI88] = 16;
	b[a.PIXEL_FORMAT_RGBA4444] =
		16;
	b[a.PIXEL_FORMAT_RGB5A1] = 16;
	b[a.PIXEL_FORMAT_PVRTC4] = 4;
	b[a.PIXEL_FORMAT_PVRTC2] = 3;
	a = cc.Texture2D.prototype;
	cc.defineGetterSetter(a, "name", a.getName);
	cc.defineGetterSetter(a, "pixelFormat", a.getPixelFormat);
	cc.defineGetterSetter(a, "pixelsWidth", a.getPixelsWide);
	cc.defineGetterSetter(a, "pixelsHeight", a.getPixelsHigh);
	cc.defineGetterSetter(a, "width", a._getWidth);
	cc.defineGetterSetter(a, "height", a._getHeight)
};
cc._tmp.PrototypeTextureAtlas = function() {
	var a = cc.TextureAtlas.prototype;
	cc.defineGetterSetter(a, "totalQuads", a.getTotalQuads);
	cc.defineGetterSetter(a, "capacity", a.getCapacity);
	cc.defineGetterSetter(a, "quads", a.getQuads, a.setQuads)
};
cc.ALIGN_CENTER = 51;
cc.ALIGN_TOP = 19;
cc.ALIGN_TOP_RIGHT = 18;
cc.ALIGN_RIGHT = 50;
cc.ALIGN_BOTTOM_RIGHT = 34;
cc.ALIGN_BOTTOM = 35;
cc.ALIGN_BOTTOM_LEFT = 33;
cc.ALIGN_LEFT = 49;
cc.ALIGN_TOP_LEFT = 17;
cc.PVRHaveAlphaPremultiplied_ = !1;
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	if (cc._renderType === cc.game.RENDER_TYPE_CANVAS) {
		var a = {
			_contentSize: null,
			_textureLoaded: !1,
			_htmlElementObj: null,
			url: null,
			_pattern: null,
			ctor: function() {
				this._contentSize = cc.size(0, 0);
				this._textureLoaded = !1;
				this._htmlElementObj = null;
				this._pattern = "";
				this._pixelsHigh = this._pixelsWide = 0
			},
			getPixelsWide: function() {
				return this._pixelsWide
			},
			getPixelsHigh: function() {
				return this._pixelsHigh
			},
			getContentSize: function() {
				var a = cc.contentScaleFactor();
				return cc.size(this._contentSize.width / a, this._contentSize.height / a)
			},
			_getWidth: function() {
				return this._contentSize.width / cc.contentScaleFactor()
			},
			_getHeight: function() {
				return this._contentSize.height / cc.contentScaleFactor()
			},
			getContentSizeInPixels: function() {
				return this._contentSize
			},
			initWithElement: function(a) {
				a && (this._htmlElementObj = a, this._pixelsWide = this._contentSize.width = a.width, this._pixelsHigh = this._contentSize.height = a.height, this._textureLoaded = !0)
			},
			getHtmlElementObj: function() {
				return this._htmlElementObj
			},
			isLoaded: function() {
				return this._textureLoaded
			},
			handleLoadedTexture: function() {
				if (this._htmlElementObj) {
					var a = this._htmlElementObj;
					this._pixelsWide = this._contentSize.width = a.width;
					this._pixelsHigh = this._contentSize.height = a.height;
					this.dispatchEvent("load")
				}
			},
			description: function() {
				return "\x3ccc.Texture2D | width \x3d " + this._contentSize.width + " height " + this._contentSize.height + "\x3e"
			},
			initWithData: function(a, c, d, e, f) {
				return !1
			},
			initWithImage: function(a) {
				return !1
			},
			initWithString: function(a, c, d, e,
				f, g) {
				return !1
			},
			releaseTexture: function() {
				this._htmlElementObj = null;
				cc.loader.release(this.url)
			},
			getName: function() {
				return null
			},
			getMaxS: function() {
				return 1
			},
			setMaxS: function(a) {},
			getMaxT: function() {
				return 1
			},
			setMaxT: function(a) {},
			getPixelFormat: function() {
				return null
			},
			getShaderProgram: function() {
				return null
			},
			setShaderProgram: function(a) {},
			hasPremultipliedAlpha: function() {
				return !1
			},
			hasMipmaps: function() {
				return !1
			},
			releaseData: function(a) {},
			keepData: function(a, c) {
				return a
			},
			drawAtPoint: function(a) {},
			drawInRect: function(a) {},
			initWithETCFile: function(a) {
				cc.log(cc._LogInfos.Texture2D_initWithETCFile);
				return !1
			},
			initWithPVRFile: function(a) {
				cc.log(cc._LogInfos.Texture2D_initWithPVRFile);
				return !1
			},
			initWithPVRTCData: function(a, c, d, e, f, g) {
				cc.log(cc._LogInfos.Texture2D_initWithPVRTCData);
				return !1
			},
			setTexParameters: function(a, c, d, e) {
				void 0 !== c && (a = {
					minFilter: a,
					magFilter: c,
					wrapS: d,
					wrapT: e
				});
				this._pattern = a.wrapS === cc.REPEAT && a.wrapT === cc.REPEAT ? "repeat" : a.wrapS === cc.REPEAT ? "repeat-x" : a.wrapT === cc.REPEAT ?
					"repeat-y" : ""
			},
			setAntiAliasTexParameters: function() {},
			setAliasTexParameters: function() {},
			generateMipmap: function() {},
			stringForFormat: function() {
				return ""
			},
			bitsPerPixelForFormat: function(a) {
				return -1
			},
			addLoadedEventListener: function(a, c) {
				this.addEventListener("load", a, c)
			},
			removeLoadedEventListener: function(a) {
				this.removeEventTarget("load", a)
			},
			_generateColorTexture: function() {},
			_generateTextureCacheForColor: function() {
				if (this.channelCache) return this.channelCache;
				var a = [document.createElement("canvas"),
						document.createElement("canvas"), document.createElement("canvas"), document.createElement("canvas")
					],
					c = this._htmlElementObj,
					d = c.width,
					e = c.height;
				a[0].width = d;
				a[0].height = e;
				a[1].width = d;
				a[1].height = e;
				a[2].width = d;
				a[2].height = e;
				a[3].width = d;
				a[3].height = e;
				var f = a[3].getContext("2d");
				f.drawImage(c, 0, 0);
				for (var f = f.getImageData(0, 0, d, e).data, g, h = 0; 4 > h; h++) {
					g = a[h].getContext("2d");
					for (var k = g.getImageData(0, 0, d, e), m = k.data, n = 0; n < f.length; n += 4) m[n] = 0 === h ? f[n] : 0, m[n + 1] = 1 === h ? f[n + 1] : 0, m[n + 2] = 2 === h ? f[n + 2] : 0,
						m[n + 3] = f[n + 3];
					g.putImageData(k, 0, 0)
				}
				c.onload = null;
				return this.channelCache = a
			},
			_grayElementObj: null,
			_backupElement: null,
			_isGray: !1,
			_switchToGray: function(a) {
				this._textureLoaded && this._isGray !== a && ((this._isGray = a) ? (this._backupElement = this._htmlElementObj, this._grayElementObj || (this._grayElementObj = cc.Texture2D._generateGrayTexture(this._htmlElementObj)), this._htmlElementObj = this._grayElementObj) : null !== this._backupElement && (this._htmlElementObj = this._backupElement))
			},
			_generateGrayTexture: function() {
				if (!this._textureLoaded) return null;
				var a = cc.Texture2D._generateGrayTexture(this._htmlElementObj),
					c = new cc.Texture2D;
				c.initWithElement(a);
				c.handleLoadedTexture();
				return c
			}
		};
		a._generateColorTexture = cc.sys._supportCanvasNewBlendModes ? function(a, c, d, e, f) {
			var g = !1;
			f ? g = !0 : f = document.createElement("canvas");
			var h = this._htmlElementObj;
			e || (e = cc.rect(0, 0, h.width, h.height));
			f.width = e.width;
			f.height = e.height;
			var k = f.getContext("2d");
			k.globalCompositeOperation = "source-over";
			k.fillStyle = "rgb(" + (a | 0) + "," + (c | 0) + "," + (d | 0) + ")";
			k.fillRect(0, 0, e.width,
				e.height);
			k.globalCompositeOperation = "multiply";
			k.drawImage(h, e.x, e.y, e.width, e.height, 0, 0, e.width, e.height);
			k.globalCompositeOperation = "destination-atop";
			k.drawImage(h, e.x, e.y, e.width, e.height, 0, 0, e.width, e.height);
			if (g) return f;
			a = new cc.Texture2D;
			a.initWithElement(f);
			a.handleLoadedTexture();
			return a
		} : function(a, c, d, e, f) {
			var g = !1;
			f ? g = !0 : f = document.createElement("canvas");
			var h = this._htmlElementObj;
			e || (e = cc.rect(0, 0, h.width, h.height));
			var k, m, h = e.x;
			k = e.y;
			m = e.width;
			e = e.height;
			if (m && e) {
				f.width = m;
				f.height =
					e;
				var n = f.getContext("2d"),
					p = cc.textureCache.getTextureColors(this);
				n.globalCompositeOperation = "lighter";
				n.drawImage(p[3], h, k, m, e, 0, 0, m, e);
				0 < a && (n.globalAlpha = a / 255, n.drawImage(p[0], h, k, m, e, 0, 0, m, e));
				0 < c && (n.globalAlpha = c / 255, n.drawImage(p[1], h, k, m, e, 0, 0, m, e));
				0 < d && (n.globalAlpha = d / 255, n.drawImage(p[2], h, k, m, e, 0, 0, m, e));
				if (g) return f;
				a = new cc.Texture2D;
				a.initWithElement(f);
				a.handleLoadedTexture();
				return a
			}
		};
		cc.Texture2D = cc.Class.extend(a);
		cc.Texture2D._generateGrayTexture = function(a, c, d) {
			if (null ===
				a) return null;
			d = d || document.createElement("canvas");
			c = c || cc.rect(0, 0, a.width, a.height);
			d.width = c.width;
			d.height = c.height;
			var e = d.getContext("2d");
			e.drawImage(a, c.x, c.y, c.width, c.height, 0, 0, c.width, c.height);
			a = e.getImageData(0, 0, c.width, c.height);
			c = a.data;
			for (var f = 0, g = c.length; f < g; f += 4) c[f] = c[f + 1] = c[f + 2] = 0.34 * c[f] + 0.5 * c[f + 1] + 0.16 * c[f + 2];
			e.putImageData(a, 0, 0);
			return d
		}
	} else cc._renderType === cc.game.RENDER_TYPE_WEBGL && (cc.assert(cc.isFunction(cc._tmp.WebGLTexture2D), cc._LogInfos.MissingFile, "TexturesWebGL.js"),
		cc._tmp.WebGLTexture2D(), delete cc._tmp.WebGLTexture2D);
	cc.EventHelper.prototype.apply(cc.Texture2D.prototype);
	cc.assert(cc.isFunction(cc._tmp.PrototypeTexture2D), cc._LogInfos.MissingFile, "TexturesPropertyDefine.js");
	cc._tmp.PrototypeTexture2D();
	delete cc._tmp.PrototypeTexture2D
});
cc.textureCache = {
	_textures: {},
	_textureColorsCache: {},
	_textureKeySeq: 0 | 1E3 * Math.random(),
	_loadedTexturesBefore: {},
	_initializingRenderer: function() {
		var a, b = this._loadedTexturesBefore,
			c = this._textures;
		for (a in b) {
			var d = b[a];
			d.handleLoadedTexture();
			c[a] = d
		}
		this._loadedTexturesBefore = {}
	},
	addPVRTCImage: function(a) {
		cc.log(cc._LogInfos.textureCache_addPVRTCImage)
	},
	addETCImage: function(a) {
		cc.log(cc._LogInfos.textureCache_addETCImage)
	},
	description: function() {
		return "\x3cTextureCache | Number of textures \x3d " +
			this._textures.length + "\x3e"
	},
	textureForKey: function(a) {
		cc.log(cc._LogInfos.textureCache_textureForKey);
		return this.getTextureForKey(a)
	},
	getTextureForKey: function(a) {
		return this._textures[a] || this._textures[cc.loader._getAliase(a)]
	},
	getKeyByTexture: function(a) {
		for (var b in this._textures)
			if (this._textures[b] === a) return b;
		return null
	},
	_generalTextureKey: function(a) {
		return "_textureKey_" + a
	},
	getTextureColors: function(a) {
		var b = a._htmlElementObj,
			c = this.getKeyByTexture(b);
		c || (c = b instanceof HTMLImageElement ?
			b.src : this._generalTextureKey(a.__instanceId));
		this._textureColorsCache[c] || (this._textureColorsCache[c] = a._generateTextureCacheForColor());
		return this._textureColorsCache[c]
	},
	addPVRImage: function(a) {
		cc.log(cc._LogInfos.textureCache_addPVRImage)
	},
	removeAllTextures: function() {
		var a = this._textures,
			b;
		for (b in a) a[b] && a[b].releaseTexture();
		this._textures = {}
	},
	removeTexture: function(a) {
		if (a) {
			var b = this._textures,
				c;
			for (c in b) b[c] === a && (b[c].releaseTexture(), delete b[c])
		}
	},
	removeTextureForKey: function(a) {
		if (null !=
			a) {
			var b = this._textures[a];
			b && (b.releaseTexture(), delete this._textures[a])
		}
	},
	cacheImage: function(a, b) {
		if (b instanceof cc.Texture2D) this._textures[a] = b;
		else {
			var c = new cc.Texture2D;
			c.initWithElement(b);
			c.handleLoadedTexture();
			this._textures[a] = c
		}
	},
	addUIImage: function(a, b) {
		cc.assert(a, cc._LogInfos.textureCache_addUIImage_2);
		if (b && this._textures[b]) return this._textures[b];
		var c = new cc.Texture2D;
		c.initWithImage(a);
		null != b ? this._textures[b] = c : cc.log(cc._LogInfos.textureCache_addUIImage);
		return c
	},
	dumpCachedTextureInfo: function() {
		var a =
			0,
			b = 0,
			c = this._textures,
			d;
		for (d in c) {
			var e = c[d];
			a++;
			e.getHtmlElementObj() instanceof HTMLImageElement ? cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo, d, e.getHtmlElementObj().src, e.getPixelsWide(), e.getPixelsHigh()) : cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo_2, d, e.getPixelsWide(), e.getPixelsHigh());
			b += e.getPixelsWide() * e.getPixelsHigh() * 4
		}
		c = this._textureColorsCache;
		for (d in c) {
			var e = c[d],
				f;
			for (f in e) {
				var g = e[f];
				a++;
				cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo_2, d, g.width,
					g.height);
				b += g.width * g.height * 4
			}
		}
		cc.log(cc._LogInfos.textureCache_dumpCachedTextureInfo_3, a, b / 1024, (b / 1048576).toFixed(2))
	},
	_clear: function() {
		this._textures = {};
		this._textureColorsCache = {};
		this._textureKeySeq = 0 | 1E3 * Math.random();
		this._loadedTexturesBefore = {}
	}
};
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	if (cc._renderType === cc.game.RENDER_TYPE_CANVAS) {
		var a = cc.textureCache;
		a.handleLoadedTexture = function(a, c) {
			var d = this._textures,
				e = d[a];
			e || (e = d[a] = new cc.Texture2D, e.url = a);
			e.initWithElement(c);
			e.handleLoadedTexture();
			return e
		};
		a.addImage = function(a, c, d) {
			cc.assert(a, cc._LogInfos.Texture2D_addImage);
			var e = this._textures,
				f = e[a] || e[cc.loader._getAliase(a)];
			if (f) return f.isLoaded() ? c && c.call(d, f) : f.addEventListener("load", function() {
				c && c.call(d,
					f)
			}, d), f;
			f = e[a] = new cc.Texture2D;
			f.url = a;
			e = cc.loader.getBasePath ? cc.loader.getBasePath() : cc.loader.resPath;
			cc.loader.loadImg(cc.path.join(e || "", a), function(e, f) {
				if (e) return c && c.call(d, e);
				var k = cc.textureCache.handleLoadedTexture(a, f);
				c && c.call(d, k)
			});
			return f
		};
		a.addImageAsync = a.addImage;
		a = null
	} else cc._renderType === cc.game.RENDER_TYPE_WEBGL && (cc.assert(cc.isFunction(cc._tmp.WebGLTextureCache), cc._LogInfos.MissingFile, "TexturesWebGL.js"), cc._tmp.WebGLTextureCache(), delete cc._tmp.WebGLTextureCache)
});
cc.TextureAtlas = cc.Class.extend({
	dirty: !1,
	texture: null,
	_indices: null,
	_buffersVBO: null,
	_capacity: 0,
	_quads: null,
	_quadsArrayBuffer: null,
	_quadsWebBuffer: null,
	_quadsReader: null,
	ctor: function(a, b) {
		this._buffersVBO = [];
		cc.isString(a) ? this.initWithFile(a, b) : a instanceof cc.Texture2D && this.initWithTexture(a, b)
	},
	getTotalQuads: function() {
		return this._totalQuads
	},
	getCapacity: function() {
		return this._capacity
	},
	getTexture: function() {
		return this.texture
	},
	setTexture: function(a) {
		this.texture = a
	},
	setDirty: function(a) {
		this.dirty =
			a
	},
	isDirty: function() {
		return this.dirty
	},
	getQuads: function() {
		return this._quads
	},
	setQuads: function(a) {
		this._quads = a
	},
	_copyQuadsToTextureAtlas: function(a, b) {
		if (a)
			for (var c = 0; c < a.length; c++) this._setQuadToArray(a[c], b + c)
	},
	_setQuadToArray: function(a, b) {
		var c = this._quads;
		c[b] ? (c[b].bl = a.bl, c[b].br = a.br, c[b].tl = a.tl, c[b].tr = a.tr) : c[b] = new cc.V3F_C4B_T2F_Quad(a.tl, a.bl, a.tr, a.br, this._quadsArrayBuffer, b * cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT)
	},
	description: function() {
		return "\x3ccc.TextureAtlas | totalQuads \x3d" +
			this._totalQuads + "\x3e"
	},
	_setupIndices: function() {
		if (0 !== this._capacity)
			for (var a = this._indices, b = this._capacity, c = 0; c < b; c++) cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP ? (a[6 * c + 0] = 4 * c + 0, a[6 * c + 1] = 4 * c + 0, a[6 * c + 2] = 4 * c + 2, a[6 * c + 3] = 4 * c + 1, a[6 * c + 4] = 4 * c + 3, a[6 * c + 5] = 4 * c + 3) : (a[6 * c + 0] = 4 * c + 0, a[6 * c + 1] = 4 * c + 1, a[6 * c + 2] = 4 * c + 2, a[6 * c + 3] = 4 * c + 3, a[6 * c + 4] = 4 * c + 2, a[6 * c + 5] = 4 * c + 1)
	},
	_setupVBO: function() {
		var a = cc._renderContext;
		this._buffersVBO[0] = a.createBuffer();
		this._buffersVBO[1] = a.createBuffer();
		this._quadsWebBuffer = a.createBuffer();
		this._mapBuffers()
	},
	_mapBuffers: function() {
		var a = cc._renderContext;
		a.bindBuffer(a.ARRAY_BUFFER, this._quadsWebBuffer);
		a.bufferData(a.ARRAY_BUFFER, this._quadsArrayBuffer, a.DYNAMIC_DRAW);
		a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this._buffersVBO[1]);
		a.bufferData(a.ELEMENT_ARRAY_BUFFER, this._indices, a.STATIC_DRAW)
	},
	initWithFile: function(a, b) {
		var c = cc.textureCache.addImage(a);
		if (c) return this.initWithTexture(c, b);
		cc.log(cc._LogInfos.TextureAtlas_initWithFile, a);
		return !1
	},
	initWithTexture: function(a, b) {
		cc.assert(a,
			cc._LogInfos.TextureAtlas_initWithTexture);
		this._capacity = b |= 0;
		this._totalQuads = 0;
		this.texture = a;
		this._quads = [];
		this._indices = new Uint16Array(6 * b);
		var c = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;
		this._quadsArrayBuffer = new ArrayBuffer(c * b);
		this._quadsReader = new Uint8Array(this._quadsArrayBuffer);
		if ((!this._quads || !this._indices) && 0 < b) return !1;
		for (var d = this._quads, e = 0; e < b; e++) d[e] = new cc.V3F_C4B_T2F_Quad(null, null, null, null, this._quadsArrayBuffer, e * c);
		this._setupIndices();
		this._setupVBO();
		return this.dirty = !0
	},
	updateQuad: function(a, b) {
		cc.assert(a, cc._LogInfos.TextureAtlas_updateQuad);
		cc.assert(0 <= b && b < this._capacity, cc._LogInfos.TextureAtlas_updateQuad_2);
		this._totalQuads = Math.max(b + 1, this._totalQuads);
		this._setQuadToArray(a, b);
		this.dirty = !0
	},
	insertQuad: function(a, b) {
		cc.assert(b < this._capacity, cc._LogInfos.TextureAtlas_insertQuad_2);
		this._totalQuads++;
		if (this._totalQuads > this._capacity) cc.log(cc._LogInfos.TextureAtlas_insertQuad);
		else {
			var c = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
				d = b * c,
				e = (this._totalQuads -
					1 - b) * c;
			this._quads[this._totalQuads - 1] = new cc.V3F_C4B_T2F_Quad(null, null, null, null, this._quadsArrayBuffer, (this._totalQuads - 1) * c);
			this._quadsReader.set(this._quadsReader.subarray(d, d + e), d + c);
			this._setQuadToArray(a, b);
			this.dirty = !0
		}
	},
	insertQuads: function(a, b, c) {
		c = c || a.length;
		cc.assert(b + c <= this._capacity, cc._LogInfos.TextureAtlas_insertQuads);
		var d = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;
		this._totalQuads += c;
		if (this._totalQuads > this._capacity) cc.log(cc._LogInfos.TextureAtlas_insertQuad);
		else {
			var e = b *
				d,
				f = (this._totalQuads - 1 - b - c) * d,
				g = this._totalQuads - 1 - c,
				h;
			for (h = 0; h < c; h++) this._quads[g + h] = new cc.V3F_C4B_T2F_Quad(null, null, null, null, this._quadsArrayBuffer, (this._totalQuads - 1) * d);
			this._quadsReader.set(this._quadsReader.subarray(e, e + f), e + d * c);
			for (h = 0; h < c; h++) this._setQuadToArray(a[h], b + h);
			this.dirty = !0
		}
	},
	insertQuadFromIndex: function(a, b) {
		if (a !== b) {
			cc.assert(0 <= b || b < this._totalQuads, cc._LogInfos.TextureAtlas_insertQuadFromIndex);
			cc.assert(0 <= a || a < this._totalQuads, cc._LogInfos.TextureAtlas_insertQuadFromIndex_2);
			var c = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
				d = this._quadsReader,
				e = d.subarray(a * c, c),
				f;
			a > b ? (f = b * c, d.set(d.subarray(f, f + (a - b) * c), f + c), d.set(e, f)) : (f = (a + 1) * c, d.set(d.subarray(f, f + (b - a) * c), f - c), d.set(e, b * c));
			this.dirty = !0
		}
	},
	removeQuadAtIndex: function(a) {
		cc.assert(a < this._totalQuads, cc._LogInfos.TextureAtlas_removeQuadAtIndex);
		var b = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;
		this._totalQuads--;
		this._quads.length = this._totalQuads;
		if (a !== this._totalQuads) {
			var c = (a + 1) * b;
			this._quadsReader.set(this._quadsReader.subarray(c,
				c + (this._totalQuads - a) * b), c - b)
		}
		this.dirty = !0
	},
	removeQuadsAtIndex: function(a, b) {
		cc.assert(a + b <= this._totalQuads, cc._LogInfos.TextureAtlas_removeQuadsAtIndex);
		this._totalQuads -= b;
		if (a !== this._totalQuads) {
			var c = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
				d = (a + b) * c,
				e = a * c;
			this._quadsReader.set(this._quadsReader.subarray(d, d + (this._totalQuads - a) * c), e)
		}
		this.dirty = !0
	},
	removeAllQuads: function() {
		this._totalQuads = this._quads.length = 0
	},
	_setDirty: function(a) {
		this.dirty = a
	},
	resizeCapacity: function(a) {
		if (a === this._capacity) return !0;
		var b = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
			c = this._capacity;
		this._totalQuads = Math.min(this._totalQuads, a);
		var d = this._capacity = 0 | a,
			e = this._totalQuads;
		if (null === this._quads)
			for (this._quads = [], this._quadsArrayBuffer = new ArrayBuffer(b * d), this._quadsReader = new Uint8Array(this._quadsArrayBuffer), a = 0; a < d; a++) this._quads = new cc.V3F_C4B_T2F_Quad(null, null, null, null, this._quadsArrayBuffer, a * b);
		else {
			var f, g, h = this._quads;
			if (d > c) {
				f = [];
				g = new ArrayBuffer(b * d);
				for (a = 0; a < e; a++) f[a] = new cc.V3F_C4B_T2F_Quad(h[a].tl,
					h[a].bl, h[a].tr, h[a].br, g, a * b);
				for (; a < d; a++) f[a] = new cc.V3F_C4B_T2F_Quad(null, null, null, null, g, a * b)
			} else
				for (e = Math.max(e, d), f = [], g = new ArrayBuffer(b * d), a = 0; a < e; a++) f[a] = new cc.V3F_C4B_T2F_Quad(h[a].tl, h[a].bl, h[a].tr, h[a].br, g, a * b);
			this._quadsReader = new Uint8Array(g);
			this._quads = f;
			this._quadsArrayBuffer = g
		}
		null === this._indices ? this._indices = new Uint16Array(6 * d) : d > c ? (b = new Uint16Array(6 * d), b.set(this._indices, 0), this._indices = b) : this._indices = this._indices.subarray(0, 6 * d);
		this._setupIndices();
		this._mapBuffers();
		return this.dirty = !0
	},
	increaseTotalQuadsWith: function(a) {
		this._totalQuads += a
	},
	moveQuadsFromIndex: function(a, b, c) {
		if (void 0 === c) {
			if (c = b, b = this._totalQuads - a, cc.assert(c + (this._totalQuads - a) <= this._capacity, cc._LogInfos.TextureAtlas_moveQuadsFromIndex), 0 === b) return
		} else if (cc.assert(c + b <= this._totalQuads, cc._LogInfos.TextureAtlas_moveQuadsFromIndex_2), cc.assert(a < this._totalQuads, cc._LogInfos.TextureAtlas_moveQuadsFromIndex_3), a === c) return;
		var d = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
			e = a * d,
			f = b * d,
			g = this._quadsReader,
			h = g.subarray(e, e + f),
			k = c * d;
		c < a ? (b = c * d, g.set(g.subarray(b, b + (a - c) * d), b + f)) : (b = (a + b) * d, g.set(g.subarray(b, b + (c - a) * d), e));
		g.set(h, k);
		this.dirty = !0
	},
	fillWithEmptyQuadsFromIndex: function(a, b) {
		for (var c = b * cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT, d = new Uint8Array(this._quadsArrayBuffer, a * cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT, c), e = 0; e < c; e++) d[e] = 0
	},
	drawQuads: function() {
		this.drawNumberOfQuads(this._totalQuads, 0)
	},
	_releaseBuffer: function() {
		var a = cc._renderContext;
		this._buffersVBO && (this._buffersVBO[0] && a.deleteBuffer(this._buffersVBO[0]),
			this._buffersVBO[1] && a.deleteBuffer(this._buffersVBO[1]));
		this._quadsWebBuffer && a.deleteBuffer(this._quadsWebBuffer)
	}
});
_p = cc.TextureAtlas.prototype;
cc.defineGetterSetter(_p, "totalQuads", _p.getTotalQuads);
cc.defineGetterSetter(_p, "capacity", _p.getCapacity);
cc.defineGetterSetter(_p, "quads", _p.getQuads, _p.setQuads);
cc.TextureAtlas.create = function(a, b) {
	return new cc.TextureAtlas(a, b)
};
cc.TextureAtlas.createWithTexture = cc.TextureAtlas.create;
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	cc._renderType === cc.game.RENDER_TYPE_WEBGL && (cc.assert(cc.isFunction(cc._tmp.WebGLTextureAtlas), cc._LogInfos.MissingFile, "TexturesWebGL.js"), cc._tmp.WebGLTextureAtlas(), delete cc._tmp.WebGLTextureAtlas)
});
cc.assert(cc.isFunction(cc._tmp.PrototypeTextureAtlas), cc._LogInfos.MissingFile, "TexturesPropertyDefine.js");
cc._tmp.PrototypeTextureAtlas();
delete cc._tmp.PrototypeTextureAtlas;
cc.Scene = cc.Node.extend({
	_className: "Scene",
	ctor: function() {
		cc.Node.prototype.ctor.call(this);
		this._ignoreAnchorPointForPosition = !0;
		this.setAnchorPoint(0.5, 0.5);
		this.setContentSize(cc.director.getWinSize())
	}
});
cc.Scene.create = function() {
	return new cc.Scene
};
cc.LoaderScene = cc.Scene.extend({
	_interval: null,
	_label: null,
	_logo: null,
	_className: "LoaderScene",
	cb: null,
	target: null,
	init: function() {
		var a = this,
			b = 200,
			c = a._bgLayer = new cc.LayerColor(cc.color(32, 32, 32, 255));
		a.addChild(c, 0);
		var d = 24,
			e = -b / 2 + 100;
		cc._loaderImage && (cc.loader.loadImg(cc._loaderImage, {
			isCrossOrigin: !1
		}, function(c, d) {
			b = d.height;
			a._initStage(d, cc.visibleRect.center)
		}), d = 14, e = -b / 2 - 10);
		d = a._label = new cc.LabelTTF("Loading... 0%", "Arial", d);
		d.setPosition(cc.pAdd(cc.visibleRect.center, cc.p(0, e)));
		d.setColor(cc.color(180, 180, 180));
		c.addChild(this._label, 10);
		return !0
	},
	_initStage: function(a, b) {
		var c = this._texture2d = new cc.Texture2D;
		c.initWithElement(a);
		c.handleLoadedTexture();
		c = this._logo = new cc.Sprite(c);
		c.setScale(cc.contentScaleFactor());
		c.x = b.x;
		c.y = b.y;
		this._bgLayer.addChild(c, 10)
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		this.schedule(this._startLoading, 0.3)
	},
	onExit: function() {
		cc.Node.prototype.onExit.call(this);
		this._label.setString("Loading... 0%")
	},
	initWithResources: function(a,
		b, c) {
		cc.isString(a) && (a = [a]);
		this.resources = a || [];
		this.cb = b;
		this.target = c
	},
	_startLoading: function() {
		var a = this;
		a.unschedule(a._startLoading);
		cc.loader.load(a.resources, function(b, c, d) {
			b = Math.min(d / c * 100 | 0, 100);
			a._label.setString("Loading... " + b + "%")
		}, function() {
			a.cb && a.cb.call(a.target)
		})
	},
	_updateTransform: function() {
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);
		this._bgLayer._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);
		this._label._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);
		this._logo && this._logo._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	}
});
cc.LoaderScene.preload = function(a, b, c) {
	var d = cc;
	d.loaderScene || (d.loaderScene = new cc.LoaderScene, d.loaderScene.init(), cc.eventManager.addCustomListener(cc.Director.EVENT_PROJECTION_CHANGED, function() {
		d.loaderScene._updateTransform()
	}));
	d.loaderScene.initWithResources(a, b, c);
	cc.director.runScene(d.loaderScene);
	return d.loaderScene
};
cc.Layer = cc.Node.extend({
	_className: "Layer",
	ctor: function() {
		cc.Node.prototype.ctor.call(this);
		this._ignoreAnchorPointForPosition = !0;
		this.setAnchorPoint(0.5, 0.5);
		this.setContentSize(cc.winSize);
		this._cascadeOpacityEnabled = this._cascadeColorEnabled = !1
	},
	bake: function() {
		this._renderCmd.bake()
	},
	unbake: function() {
		this._renderCmd.unbake()
	},
	isBaked: function() {
		return this._renderCmd._isBaked
	},
	visit: function(a) {
		var b = this._renderCmd,
			c = a ? a._renderCmd : null;
		if (this._visible) {
			a = cc.renderer;
			b.visit(c);
			if (b._isBaked) a.pushRenderCommand(b),
				b._bakeSprite.visit(this);
			else {
				var d = this._children,
					e = d.length,
					f;
				if (0 < e) {
					this._reorderChildDirty && this.sortAllChildren();
					for (c = 0; c < e; c++)
						if (f = d[c], 0 > f._localZOrder) f.visit(this);
						else break;
					for (a.pushRenderCommand(b); c < e; c++) d[c].visit(this)
				} else a.pushRenderCommand(b)
			}
			b._dirtyFlag = 0
		} else b._propagateFlagsDown(c)
	},
	addChild: function(a, b, c) {
		cc.Node.prototype.addChild.call(this, a, b, c);
		this._renderCmd._bakeForAddChild(a)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.Layer.CanvasRenderCmd(this) :
			new cc.Layer.WebGLRenderCmd(this)
	}
});
cc.Layer.create = function() {
	return new cc.Layer
};
cc.LayerColor = cc.Layer.extend({
	_blendFunc: null,
	_className: "LayerColor",
	getBlendFunc: function() {
		return this._blendFunc
	},
	changeWidthAndHeight: function(a, b) {
		this.width = a;
		this.height = b
	},
	changeWidth: function(a) {
		this.width = a
	},
	changeHeight: function(a) {
		this.height = a
	},
	setOpacityModifyRGB: function(a) {},
	isOpacityModifyRGB: function() {
		return !1
	},
	ctor: function(a, b, c) {
		cc.Layer.prototype.ctor.call(this);
		this._blendFunc = cc.BlendFunc._alphaNonPremultiplied();
		cc.LayerColor.prototype.init.call(this, a, b, c)
	},
	init: function(a,
		b, c) {
		var d = cc.director.getWinSize();
		a = a || cc.color(0, 0, 0, 255);
		b = void 0 === b ? d.width : b;
		c = void 0 === c ? d.height : c;
		d = this._realColor;
		d.r = a.r;
		d.g = a.g;
		d.b = a.b;
		this._realOpacity = a.a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty | cc.Node._dirtyFlags.opacityDirty);
		cc.LayerColor.prototype.setContentSize.call(this, b, c);
		return !0
	},
	visit: function(a) {
		var b = this._renderCmd,
			c = a ? a._renderCmd : null;
		if (this._visible) {
			a = cc.renderer;
			b.visit(c);
			if (b._isBaked) a.pushRenderCommand(b._bakeRenderCmd), b._bakeSprite._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty),
				b._bakeSprite.visit(this);
			else {
				var d = this._children,
					e = d.length;
				if (0 < e) {
					this._reorderChildDirty && this.sortAllChildren();
					for (c = 0; c < e; c++)
						if (child = d[c], 0 > child._localZOrder) child.visit(this);
						else break;
					for (a.pushRenderCommand(b); c < e; c++) d[c].visit(this)
				} else a.pushRenderCommand(b)
			}
			b._dirtyFlag = 0
		} else b._propagateFlagsDown(c)
	},
	setBlendFunc: function(a, b) {
		var c = this._blendFunc;
		void 0 === b ? (c.src = a.src, c.dst = a.dst) : (c.src = a, c.dst = b);
		this._renderCmd.updateBlendFunc(c)
	},
	_createRenderCmd: function() {
		return cc._renderType ===
			cc.game.RENDER_TYPE_CANVAS ? new cc.LayerColor.CanvasRenderCmd(this) : new cc.LayerColor.WebGLRenderCmd(this)
	}
});
cc.LayerColor.create = function(a, b, c) {
	return new cc.LayerColor(a, b, c)
};
(function() {
	var a = cc.LayerColor.prototype;
	cc.defineGetterSetter(a, "width", a._getWidth, a._setWidth);
	cc.defineGetterSetter(a, "height", a._getHeight, a._setHeight)
})();
cc.LayerGradient = cc.LayerColor.extend({
	_endColor: null,
	_startOpacity: 255,
	_endOpacity: 255,
	_alongVector: null,
	_compressedInterpolation: !1,
	_className: "LayerGradient",
	_colorStops: [],
	ctor: function(a, b, c, d) {
		cc.LayerColor.prototype.ctor.call(this);
		this._endColor = cc.color(0, 0, 0, 255);
		this._alongVector = cc.p(0, -1);
		this._endOpacity = this._startOpacity = 255;
		d && d instanceof Array ? (this._colorStops = d, d.splice(0, 0, {
			p: 0,
			color: a || cc.color.BLACK
		}), d.push({
			p: 1,
			color: b || cc.color.BLACK
		})) : this._colorStops = [{
				p: 0,
				color: a || cc.color.BLACK
			},
			{
				p: 1,
				color: b || cc.color.BLACK
			}
		];
		cc.LayerGradient.prototype.init.call(this, a, b, c, d)
	},
	init: function(a, b, c, d) {
		a = a || cc.color(0, 0, 0, 255);
		b = b || cc.color(0, 0, 0, 255);
		c = c || cc.p(0, -1);
		d = this._endColor;
		this._startOpacity = a.a;
		d.r = b.r;
		d.g = b.g;
		d.b = b.b;
		this._endOpacity = b.a;
		this._alongVector = c;
		this._compressedInterpolation = !0;
		cc.LayerColor.prototype.init.call(this, cc.color(a.r, a.g, a.b, 255));
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty | cc.Node._dirtyFlags.opacityDirty | cc.Node._dirtyFlags.gradientDirty);
		return !0
	},
	setContentSize: function(a, b) {
		cc.LayerColor.prototype.setContentSize.call(this, a, b);
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)
	},
	_setWidth: function(a) {
		cc.LayerColor.prototype._setWidth.call(this, a);
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)
	},
	_setHeight: function(a) {
		cc.LayerColor.prototype._setHeight.call(this, a);
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)
	},
	getStartColor: function() {
		return cc.color(this._realColor)
	},
	setStartColor: function(a) {
		this.color =
			a;
		var b = this._colorStops;
		b && 0 < b.length && (b = b[0].color, b.r = a.r, b.g = a.g, b.b = a.b)
	},
	setEndColor: function(a) {
		var b = this._endColor;
		b.r = a.r;
		b.g = a.g;
		b.b = a.b;
		(b = this._colorStops) && 0 < b.length && (b = b[b.length - 1].color, b.r = a.r, b.g = a.g, b.b = a.b);
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty)
	},
	getEndColor: function() {
		return cc.color(this._endColor)
	},
	setStartOpacity: function(a) {
		this._startOpacity = a;
		var b = this._colorStops;
		b && 0 < b.length && (b[0].color.a = a);
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)
	},
	getStartOpacity: function() {
		return this._startOpacity
	},
	setEndOpacity: function(a) {
		this._endOpacity = a;
		var b = this._colorStops;
		b && 0 < b.length && (b[b.length - 1].color.a = a);
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)
	},
	getEndOpacity: function() {
		return this._endOpacity
	},
	setVector: function(a) {
		this._alongVector.x = a.x;
		this._alongVector.y = a.y;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)
	},
	getVector: function() {
		return cc.p(this._alongVector.x, this._alongVector.y)
	},
	isCompressedInterpolation: function() {
		return this._compressedInterpolation
	},
	setCompressedInterpolation: function(a) {
		this._compressedInterpolation = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.gradientDirty)
	},
	getColorStops: function() {
		return this._colorStops
	},
	setColorStops: function(a) {
		this._colorStops = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty | cc.Node._dirtyFlags.opacityDirty | cc.Node._dirtyFlags.gradientDirty)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.LayerGradient.CanvasRenderCmd(this) : new cc.LayerGradient.WebGLRenderCmd(this)
	}
});
cc.LayerGradient.create = function(a, b, c, d) {
	return new cc.LayerGradient(a, b, c, d)
};
(function() {
	var a = cc.LayerGradient.prototype;
	cc.defineGetterSetter(a, "startColor", a.getStartColor, a.setStartColor);
	cc.defineGetterSetter(a, "endColor", a.getEndColor, a.setEndColor);
	cc.defineGetterSetter(a, "startOpacity", a.getStartOpacity, a.setStartOpacity);
	cc.defineGetterSetter(a, "endOpacity", a.getEndOpacity, a.setEndOpacity);
	cc.defineGetterSetter(a, "vector", a.getVector, a.setVector);
	cc.defineGetterSetter(a, "colorStops", a.getColorStops, a.setColorStops)
})();
cc.LayerMultiplex = cc.Layer.extend({
	_enabledLayer: 0,
	_layers: null,
	_className: "LayerMultiplex",
	ctor: function(a) {
		cc.Layer.prototype.ctor.call(this);
		a instanceof Array ? cc.LayerMultiplex.prototype.initWithLayers.call(this, a) : cc.LayerMultiplex.prototype.initWithLayers.call(this, Array.prototype.slice.call(arguments))
	},
	initWithLayers: function(a) {
		0 < a.length && null == a[a.length - 1] && cc.log(cc._LogInfos.LayerMultiplex_initWithLayers);
		this._layers = a;
		this._enabledLayer = 0;
		this.addChild(this._layers[this._enabledLayer]);
		return !0
	},
	switchTo: function(a) {
		a >= this._layers.length ? cc.log(cc._LogInfos.LayerMultiplex_switchTo) : (this.removeChild(this._layers[this._enabledLayer], !0), this._enabledLayer = a, this.addChild(this._layers[a]))
	},
	switchToAndReleaseMe: function(a) {
		a >= this._layers.length ? cc.log(cc._LogInfos.LayerMultiplex_switchToAndReleaseMe) : (this.removeChild(this._layers[this._enabledLayer], !0), this._layers[this._enabledLayer] = null, this._enabledLayer = a, this.addChild(this._layers[a]))
	},
	addLayer: function(a) {
		a ? this._layers.push(a) :
			cc.log(cc._LogInfos.LayerMultiplex_addLayer)
	}
});
cc.LayerMultiplex.create = function() {
	return new cc.LayerMultiplex(Array.prototype.slice.call(arguments))
};
(function() {
	cc.Layer.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._isBaked = !1;
		this._bakeSprite = null;
		this._canUseDirtyRegion = !0;
		this._updateCache = 2
	};
	var a = cc.Layer.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.Layer.CanvasRenderCmd;
	a._layerCmdCtor = cc.Layer.CanvasRenderCmd;
	a._setCacheDirty = function(a) {
		a && 0 === this._updateCache && (this._updateCache = 2);
		!1 === this._cacheDirty && (this._cacheDirty = !0, (a = this._cachedParent) && a !== this && a._setNodeDirtyForCache &&
			a._setNodeDirtyForCache())
	};
	a.updateStatus = function() {
		var a = cc.Node._dirtyFlags;
		this._dirtyFlag & a.orderDirty && (this._cacheDirty = !0, 0 === this._updateCache && (this._updateCache = 2), this._dirtyFlag &= ~a.orderDirty);
		this.originUpdateStatus()
	};
	a._syncStatus = function(a) {
		var c = cc.Node._dirtyFlags,
			d = this._dirtyFlag;
		if (this._isBaked || d & c.orderDirty) this._cacheDirty = !0, 0 === this._updateCache && (this._updateCache = 2), this._dirtyFlag &= ~c.orderDirty;
		this._originSyncStatus(a)
	};
	a.transform = function(a, c) {
		this._worldTransform ||
			(this._worldTransform = {
				a: 1,
				b: 0,
				c: 0,
				d: 1,
				tx: 0,
				ty: 0
			});
		var d = this._worldTransform,
			e = d.a,
			f = d.b,
			g = d.c,
			h = d.d;
		this.originTransform(a, c);
		d.a === e && d.b === f && d.c === g && d.d === h || 0 !== this._updateCache || (this._updateCache = 2)
	};
	a.bake = function() {
		if (!this._isBaked) {
			this._needDraw = !0;
			this._isBaked = this._cacheDirty = cc.renderer.childrenOrderDirty = !0;
			0 === this._updateCache && (this._updateCache = 2);
			for (var a = this._node._children, c = 0, d = a.length; c < d; c++) a[c]._renderCmd._setCachedParent(this);
			this._bakeSprite || (this._bakeSprite =
				new cc.BakeSprite, this._bakeSprite.setAnchorPoint(0, 0))
		}
	};
	a.unbake = function() {
		if (this._isBaked) {
			cc.renderer.childrenOrderDirty = !0;
			this._isBaked = this._needDraw = !1;
			this._cacheDirty = !0;
			0 === this._updateCache && (this._updateCache = 2);
			for (var a = this._node._children, c = 0, d = a.length; c < d; c++) a[c]._renderCmd._setCachedParent(null)
		}
	};
	a.isBaked = function() {
		return this._isBaked
	};
	a.rendering = function() {
		if (this._cacheDirty) {
			var a = this._node,
				c = a._children,
				d = this._bakeSprite;
			this.transform(this.getParentRenderCmd(), !0);
			var e = this._getBoundingBoxForBake();
			e.width = 0 | e.width + 0.5;
			e.height = 0 | e.height + 0.5;
			var f = d.getCacheContext(),
				g = f.getContext();
			d.setPosition(e.x, e.y);
			if (0 < this._updateCache) {
				d.resetCanvasSize(e.width, e.height);
				f.setOffset(0 - e.x, g.canvas.height - e.height + e.y);
				a.sortAllChildren();
				cc.renderer._turnToCacheMode(this.__instanceId);
				a = 0;
				for (e = c.length; a < e; a++) c[a].visit(this);
				cc.renderer._renderingToCacheCanvas(f, this.__instanceId);
				d.transform();
				this._updateCache--
			}
			this._cacheDirty = !1
		}
	};
	a._bakeForAddChild = function(a) {
		a._parent ===
			this._node && this._isBaked && a._renderCmd._setCachedParent(this)
	};
	a._getBoundingBoxForBake = function() {
		var a = null,
			c = this._node;
		if (!c._children || 0 === c._children.length) return cc.rect(0, 0, 10, 10);
		for (var d = c.getNodeToWorldTransform(), c = c._children, e = 0, f = c.length; e < f; e++) {
			var g = c[e];
			g && g._visible && (a ? (g = g._getBoundingBoxToCurrentNode(d)) && (a = cc.rectUnion(a, g)) : a = g._getBoundingBoxToCurrentNode(d))
		}
		return a
	}
})();
(function() {
	cc.LayerColor.CanvasRenderCmd = function(a) {
		this._layerCmdCtor(a);
		this._needDraw = !0;
		this._blendFuncStr = "source-over";
		this._bakeRenderCmd = new cc.CustomRenderCmd(this, this._bakeRendering)
	};
	var a = cc.LayerColor.CanvasRenderCmd.prototype = Object.create(cc.Layer.CanvasRenderCmd.prototype);
	a.constructor = cc.LayerColor.CanvasRenderCmd;
	a.unbake = function() {
		cc.Layer.CanvasRenderCmd.prototype.unbake.call(this);
		this._needDraw = !0
	};
	a.rendering = function(a, c, d) {
		a = a || cc._renderContext;
		var e = a.getContext(),
			f = this._node,
			g = this._displayedColor,
			h = this._displayedOpacity / 255,
			k = f._contentSize.width,
			f = f._contentSize.height;
		0 !== h && (a.setCompositeOperation(this._blendFuncStr), a.setGlobalAlpha(h), a.setFillStyle("rgba(" + (0 | g.r) + "," + (0 | g.g) + "," + (0 | g.b) + ", 1)"), a.setTransform(this._worldTransform, c, d), e.fillRect(0, 0, k, -f), cc.g_NumberOfDraws++)
	};
	a.updateBlendFunc = function(a) {
		this._blendFuncStr = cc.Node.CanvasRenderCmd._getCompositeOperationByBlendFunc(a)
	};
	a._updateSquareVertices = a._updateSquareVerticesWidth = a._updateSquareVerticesHeight =
		function() {};
	a._bakeRendering = function() {
		if (this._cacheDirty) {
			var a = this._node,
				c = this._bakeSprite,
				d = a._children,
				e, f = d.length;
			this.transform(this.getParentRenderCmd(), !0);
			e = this._getBoundingBoxForBake();
			e.width = 0 | e.width + 0.5;
			e.height = 0 | e.height + 0.5;
			var g = c.getCacheContext(),
				h = g.getContext();
			c.setPosition(e.x, e.y);
			if (0 < this._updateCache) {
				h.fillStyle = g._currentFillStyle;
				c.resetCanvasSize(e.width, e.height);
				g.setOffset(0 - e.x, h.canvas.height - e.height + e.y);
				cc.renderer._turnToCacheMode(this.__instanceId);
				if (0 < f) {
					a.sortAllChildren();
					for (e = 0; e < f; e++)
						if (h = d[e], 0 > h._localZOrder) h.visit(a);
						else break;
					for (cc.renderer.pushRenderCommand(this); e < f; e++) d[e].visit(a)
				} else cc.renderer.pushRenderCommand(this);
				cc.renderer._renderingToCacheCanvas(g, this.__instanceId);
				c.transform();
				this._updateCache--
			}
			this._cacheDirty = !1
		}
	};
	a._getBoundingBoxForBake = function() {
		var a = this._node,
			c = cc.rect(0, 0, a._contentSize.width, a._contentSize.height),
			d = a.getNodeToWorldTransform(),
			c = cc.rectApplyAffineTransform(c, a.getNodeToWorldTransform());
		if (!a._children || 0 === a._children.length) return c;
		for (var a = a._children, e = 0; e < a.length; e++) {
			var f = a[e];
			f && f._visible && (f = f._getBoundingBoxToCurrentNode(d), c = cc.rectUnion(c, f))
		}
		return c
	}
})();
(function() {
	cc.LayerGradient.CanvasRenderCmd = function(a) {
		cc.LayerColor.CanvasRenderCmd.call(this, a);
		this._needDraw = !0;
		this._startPoint = cc.p(0, 0);
		this._endPoint = cc.p(0, 0);
		this._endStopStr = this._startStopStr = null
	};
	var a = cc.LayerGradient.CanvasRenderCmd.prototype = Object.create(cc.LayerColor.CanvasRenderCmd.prototype);
	a.constructor = cc.LayerGradient.CanvasRenderCmd;
	a.rendering = function(a, c, d) {
		a = a || cc._renderContext;
		var e = a.getContext(),
			f = this._node,
			g = this._displayedOpacity / 255;
		if (0 !== g) {
			var h = f._contentSize.width,
				k = f._contentSize.height;
			a.setCompositeOperation(this._blendFuncStr);
			a.setGlobalAlpha(g);
			g = e.createLinearGradient(this._startPoint.x, this._startPoint.y, this._endPoint.x, this._endPoint.y);
			if (f._colorStops)
				for (var m = 0; m < f._colorStops.length; m++) g.addColorStop(f._colorStops[m].p, this._colorStopsStr[m]);
			else g.addColorStop(0, this._startStopStr), g.addColorStop(1, this._endStopStr);
			a.setFillStyle(g);
			a.setTransform(this._worldTransform, c, d);
			e.fillRect(0, 0, h, -k);
			cc.g_NumberOfDraws++
		}
	};
	a.updateStatus = function() {
		var a =
			cc.Node._dirtyFlags;
		this._dirtyFlag & a.gradientDirty && (this._dirtyFlag |= a.colorDirty, this._dirtyFlag &= ~a.gradientDirty);
		this.originUpdateStatus()
	};
	a._syncStatus = function(a) {
		var c = cc.Node._dirtyFlags;
		this._dirtyFlag & c.gradientDirty && (this._dirtyFlag |= c.colorDirty, this._dirtyFlag &= ~c.gradientDirty);
		this._originSyncStatus(a)
	};
	a._updateColor = function() {
		var a = this._node,
			c = a._contentSize,
			d = 0.5 * c.width,
			c = 0.5 * c.height,
			e = cc.pAngleSigned(cc.p(0, -1), a._alongVector),
			e = cc.pRotateByAngle(cc.p(0, -1), cc.p(0, 0), e),
			f = Math.min(Math.abs(1 / e.x), Math.abs(1 / e.y));
		this._startPoint.x = d * -e.x * f + d;
		this._startPoint.y = c * e.y * f - c;
		this._endPoint.x = d * e.x * f + d;
		this._endPoint.y = c * -e.y * f - c;
		d = this._displayedColor;
		c = a._endColor;
		e = a._startOpacity / 255;
		f = a._endOpacity / 255;
		this._startStopStr = "rgba(" + Math.round(d.r) + "," + Math.round(d.g) + "," + Math.round(d.b) + "," + e.toFixed(4) + ")";
		this._endStopStr = "rgba(" + Math.round(c.r) + "," + Math.round(c.g) + "," + Math.round(c.b) + "," + f.toFixed(4) + ")";
		if (a._colorStops)
			for (this._endOpacity = this._startOpacity = 0,
				this._colorStopsStr = [], d = 0; d < a._colorStops.length; d++) c = a._colorStops[d].color, e = null == c.a ? 1 : c.a / 255, this._colorStopsStr.push("rgba(" + Math.round(c.r) + "," + Math.round(c.g) + "," + Math.round(c.b) + "," + e.toFixed(4) + ")")
	}
})();
(function() {
	cc.Layer.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._isBaked = !1
	};
	var a = cc.Layer.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.Layer.WebGLRenderCmd;
	a._layerCmdCtor = cc.Layer.WebGLRenderCmd;
	a.bake = function() {};
	a.unbake = function() {};
	a._bakeForAddChild = function() {}
})();
(function() {
	cc.LayerColor.WebGLRenderCmd = function(a) {
		this._layerCmdCtor(a);
		this._needDraw = !0;
		this._matrix = null;
		this.initData(4);
		this._color = new Uint32Array(1);
		this._vertexBuffer = null;
		this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_POSITION_COLOR)
	};
	var a = cc.LayerColor.WebGLRenderCmd.prototype = Object.create(cc.Layer.WebGLRenderCmd.prototype);
	a.constructor = cc.LayerColor.WebGLRenderCmd;
	a.initData = function(a) {
		this._data = new ArrayBuffer(16 * a);
		this._positionView = new Float32Array(this._data);
		this._colorView =
			new Uint32Array(this._data);
		this._dataDirty = !0
	};
	a.transform = function(a, c) {
		this.originTransform(a, c);
		var d = this._node,
			e = d._contentSize.width,
			f = d._contentSize.height,
			g = this._positionView;
		g[4] = e;
		g[9] = f;
		g[12] = e;
		g[13] = f;
		g[2].z = g[6] = g[10] = g[14] = d._vertexZ;
		this._dataDirty = !0
	};
	a._updateColor = function() {
		var a = this._displayedColor;
		this._color[0] = this._displayedOpacity << 24 | a.b << 16 | a.g << 8 | a.r;
		for (var a = this._colorView, c = 0; 4 > c; c++) a[4 * c + 3] = this._color[0];
		this._dataDirty = !0
	};
	a.rendering = function(a) {
		a = a || cc._renderContext;
		var c = this._node;
		this._matrix || (this._matrix = new cc.math.Matrix4, this._matrix.identity());
		var d = this._worldTransform;
		this._matrix.mat[0] = d.a;
		this._matrix.mat[4] = d.c;
		this._matrix.mat[12] = d.tx;
		this._matrix.mat[1] = d.b;
		this._matrix.mat[5] = d.d;
		this._matrix.mat[13] = d.ty;
		this._dataDirty && (this._vertexBuffer || (this._vertexBuffer = a.createBuffer()), a.bindBuffer(a.ARRAY_BUFFER, this._vertexBuffer), a.bufferData(a.ARRAY_BUFFER, this._data, a.DYNAMIC_DRAW), this._dataDirty = !1);
		this._glProgramState.apply(this._matrix);
		cc.glBlendFunc(c._blendFunc.src, c._blendFunc.dst);
		a.bindBuffer(a.ARRAY_BUFFER, this._vertexBuffer);
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 3, a.FLOAT, !1, 16, 0);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR, 4, a.UNSIGNED_BYTE, !0, 16, 12);
		a.drawArrays(a.TRIANGLE_STRIP, 0, 4)
	};
	a.updateBlendFunc = function(a) {}
})();
(function() {
	cc.LayerGradient.WebGLRenderCmd = function(a) {
		cc.LayerColor.WebGLRenderCmd.call(this, a);
		this._needDraw = !0;
		this._clipRect = new cc.Rect;
		this._clippingRectDirty = !1
	};
	var a = cc.LayerGradient.WebGLRenderCmd.prototype = Object.create(cc.LayerColor.WebGLRenderCmd.prototype);
	a.constructor = cc.LayerGradient.WebGLRenderCmd;
	a.updateStatus = function() {
		var a = cc.Node._dirtyFlags;
		this._dirtyFlag & a.gradientDirty && (this._dirtyFlag |= a.colorDirty, this._updateVertex(), this._dirtyFlag &= ~a.gradientDirty);
		this.originUpdateStatus()
	};
	a._syncStatus = function(a) {
		var c = cc.Node._dirtyFlags;
		this._dirtyFlag & c.gradientDirty && (this._dirtyFlag |= c.colorDirty, this._updateVertex(), this._dirtyFlag &= ~c.gradientDirty);
		this._originSyncStatus(a)
	};
	a.transform = function(a, c) {
		this.originTransform(a, c);
		this._updateVertex()
	};
	a._updateVertex = function() {
		var a = this._node,
			c = a._colorStops;
		if (c && !(2 > c.length)) {
			this._clippingRectDirty = !0;
			var d, e = c.length,
				f = 2 * e,
				g = a._contentSize;
			this._positionView.length / 4 < f && this.initData(f);
			var h = Math.PI + cc.pAngleSigned(cc.p(0,
					-1), a._alongVector),
				f = cc.p(g.width / 2, g.height / 2);
			d = Math.round(cc.radiansToDegrees(h));
			var k = cc.affineTransformMake(1, 0, 0, 1, f.x, f.y),
				k = cc.affineTransformRotate(k, h),
				m;
			90 > d ? (m = cc.p(-f.x, f.y), d = cc.p(f.x, f.y)) : 180 > d ? (m = cc.p(f.x, f.y), d = cc.p(f.x, -f.y)) : 270 > d ? (m = cc.p(f.x, -f.y), d = cc.p(-f.x, -f.y)) : (m = cc.p(-f.x, -f.y), d = cc.p(-f.x, f.y));
			var n = Math.sin(h),
				h = Math.cos(h);
			m = Math.abs((m.x * h - m.y * n) / f.x);
			d = Math.abs((d.x * n + d.y * h) / f.y);
			k = cc.affineTransformScale(k, m, d);
			n = this._positionView;
			for (d = 0; d < e; d++) {
				m = c[d].p * g.height;
				var p = cc.pointApplyAffineTransform(-f.x, m - f.y, k),
					h = 8 * d;
				n[h] = p.x;
				n[h + 1] = p.y;
				n[h + 2] = a._vertexZ;
				m = cc.pointApplyAffineTransform(g.width - f.x, m - f.y, k);
				h += 4;
				n[h] = m.x;
				n[h + 1] = m.y;
				n[h + 2] = a._vertexZ
			}
			this._dataDirty = !0
		}
	};
	a._updateColor = function() {
		var a = this._node._colorStops;
		if (a && !(2 > a.length)) {
			var c = a.length,
				d, e = this._colorView,
				f = this._displayedOpacity / 255;
			for (i = 0; i < c; i++) d = a[i].color, this._color[0] = d.a * f << 24 | d.b << 16 | d.g << 8 | d.r, d = 8 * i, e[d + 3] = this._color[0], d += 4, e[d + 3] = this._color[0];
			this._dataDirty = !0
		}
	};
	a.rendering =
		function(a) {
			a = a || cc._renderContext;
			var c = this._node;
			this._matrix || (this._matrix = new cc.math.Matrix4, this._matrix.identity());
			var d = this._getClippingRect();
			a.enable(a.SCISSOR_TEST);
			cc.view.setScissorInPoints(d.x, d.y, d.width, d.height);
			d = this._worldTransform;
			this._matrix.mat[0] = d.a;
			this._matrix.mat[4] = d.c;
			this._matrix.mat[12] = d.tx;
			this._matrix.mat[1] = d.b;
			this._matrix.mat[5] = d.d;
			this._matrix.mat[13] = d.ty;
			this._dataDirty && (this._vertexBuffer || (this._vertexBuffer = gl.createBuffer()), gl.bindBuffer(gl.ARRAY_BUFFER,
				this._vertexBuffer), gl.bufferData(gl.ARRAY_BUFFER, this._data, gl.DYNAMIC_DRAW), this._dataDirty = !1);
			this._glProgramState.apply(this._matrix);
			cc.glBlendFunc(c._blendFunc.src, c._blendFunc.dst);
			gl.bindBuffer(gl.ARRAY_BUFFER, this._vertexBuffer);
			gl.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
			gl.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);
			gl.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 3, gl.FLOAT, !1, 16, 0);
			gl.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR, 4, gl.UNSIGNED_BYTE, !0, 16, 12);
			gl.drawArrays(gl.TRIANGLE_STRIP,
				0, 4);
			a.disable(a.SCISSOR_TEST)
		};
	a._getClippingRect = function() {
		if (this._clippingRectDirty) {
			var a = this._node,
				c = cc.rect(0, 0, a._contentSize.width, a._contentSize.height),
				a = a.getNodeToWorldTransform();
			this._clipRect = cc._rectApplyAffineTransformIn(c, a)
		}
		return this._clipRect
	}
})();
cc._tmp.PrototypeSprite = function() {
	var a = cc.Sprite.prototype;
	cc.defineGetterSetter(a, "opacityModifyRGB", a.isOpacityModifyRGB, a.setOpacityModifyRGB);
	cc.defineGetterSetter(a, "opacity", a.getOpacity, a.setOpacity);
	cc.defineGetterSetter(a, "color", a.getColor, a.setColor);
	cc.defineGetterSetter(a, "flippedX", a.isFlippedX, a.setFlippedX);
	cc.defineGetterSetter(a, "flippedY", a.isFlippedY, a.setFlippedY);
	cc.defineGetterSetter(a, "offsetX", a._getOffsetX);
	cc.defineGetterSetter(a, "offsetY", a._getOffsetY);
	cc.defineGetterSetter(a,
		"texture", a.getTexture, a.setTexture);
	cc.defineGetterSetter(a, "textureRectRotated", a.isTextureRectRotated);
	cc.defineGetterSetter(a, "batchNode", a.getBatchNode, a.setBatchNode);
	cc.defineGetterSetter(a, "quad", a.getQuad)
};
cc.Sprite = cc.Node.extend({
	dirty: !1,
	atlasIndex: 0,
	textureAtlas: null,
	_batchNode: null,
	_recursiveDirty: null,
	_hasChildren: null,
	_shouldBeHidden: !1,
	_transformToBatch: null,
	_blendFunc: null,
	_texture: null,
	_rect: null,
	_rectRotated: !1,
	_offsetPosition: null,
	_unflippedOffsetPositionFromCenter: null,
	_opacityModifyRGB: !1,
	_flippedX: !1,
	_flippedY: !1,
	_textureLoaded: !1,
	_className: "Sprite",
	ctor: function(a, b, c) {
		cc.Node.prototype.ctor.call(this);
		this.setAnchorPoint(0.5, 0.5);
		this._loader = new cc.Sprite.LoadManager;
		this._shouldBeHidden = !1;
		this._offsetPosition = cc.p(0, 0);
		this._unflippedOffsetPositionFromCenter = cc.p(0, 0);
		this._blendFunc = {
			src: cc.BLEND_SRC,
			dst: cc.BLEND_DST
		};
		this._rect = cc.rect(0, 0, 0, 0);
		this._softInit(a, b, c)
	},
	textureLoaded: function() {
		return this._textureLoaded
	},
	addLoadedEventListener: function(a, b) {
		this.addEventListener("load", a, b)
	},
	isDirty: function() {
		return this.dirty
	},
	setDirty: function(a) {
		this.dirty = a
	},
	isTextureRectRotated: function() {
		return this._rectRotated
	},
	getAtlasIndex: function() {
		return this.atlasIndex
	},
	setAtlasIndex: function(a) {
		this.atlasIndex =
			a
	},
	getTextureRect: function() {
		return cc.rect(this._rect)
	},
	getTextureAtlas: function() {
		return this.textureAtlas
	},
	setTextureAtlas: function(a) {
		this.textureAtlas = a
	},
	getOffsetPosition: function() {
		return cc.p(this._offsetPosition)
	},
	_getOffsetX: function() {
		return this._offsetPosition.x
	},
	_getOffsetY: function() {
		return this._offsetPosition.y
	},
	getBlendFunc: function() {
		return this._blendFunc
	},
	initWithSpriteFrame: function(a) {
		cc.assert(a, cc._LogInfos.Sprite_initWithSpriteFrame);
		return this.setSpriteFrame(a)
	},
	initWithSpriteFrameName: function(a) {
		cc.assert(a,
			cc._LogInfos.Sprite_initWithSpriteFrameName);
		var b = cc.spriteFrameCache.getSpriteFrame(a);
		cc.assert(b, a + cc._LogInfos.Sprite_initWithSpriteFrameName1);
		return this.initWithSpriteFrame(b)
	},
	useBatchNode: function(a) {},
	setVertexRect: function(a) {
		var b = this._rect;
		b.x = a.x;
		b.y = a.y;
		b.width = a.width;
		b.height = a.height;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	setFlippedX: function(a) {
		this._flippedX !== a && (this._flippedX = a, this.setTextureRect(this._rect, this._rectRotated, this._contentSize),
			this.setNodeDirty(!0))
	},
	setFlippedY: function(a) {
		this._flippedY !== a && (this._flippedY = a, this.setTextureRect(this._rect, this._rectRotated, this._contentSize), this.setNodeDirty(!0))
	},
	isFlippedX: function() {
		return this._flippedX
	},
	isFlippedY: function() {
		return this._flippedY
	},
	setOpacityModifyRGB: function(a) {
		this._opacityModifyRGB !== a && (this._opacityModifyRGB = a, this._renderCmd._setColorDirty())
	},
	isOpacityModifyRGB: function() {
		return this._opacityModifyRGB
	},
	setDisplayFrameWithAnimationName: function(a, b) {
		cc.assert(a,
			cc._LogInfos.Sprite_setDisplayFrameWithAnimationName_3);
		var c = cc.animationCache.getAnimation(a);
		c ? (c = c.getFrames()[b]) ? this.setSpriteFrame(c.getSpriteFrame()) : cc.log(cc._LogInfos.Sprite_setDisplayFrameWithAnimationName_2) : cc.log(cc._LogInfos.Sprite_setDisplayFrameWithAnimationName)
	},
	getBatchNode: function() {
		return this._batchNode
	},
	getTexture: function() {
		return this._texture
	},
	_softInit: function(a, b, c) {
		if (void 0 === a) cc.Sprite.prototype.init.call(this);
		else if ("string" === typeof a) "#" === a[0] ? (b = a.substr(1,
			a.length - 1), (b = cc.spriteFrameCache.getSpriteFrame(b)) ? this.initWithSpriteFrame(b) : cc.log("%s does not exist", a)) : cc.Sprite.prototype.init.call(this, a, b);
		else if ("object" === typeof a)
			if (a instanceof cc.Texture2D) this.initWithTexture(a, b, c);
			else if (a instanceof cc.SpriteFrame) this.initWithSpriteFrame(a);
		else if (a instanceof HTMLImageElement || a instanceof HTMLCanvasElement) b = new cc.Texture2D, b.initWithElement(a), b.handleLoadedTexture(), this.initWithTexture(b)
	},
	getQuad: function() {
		return null
	},
	setBlendFunc: function(a,
		b) {
		var c = this._blendFunc;
		void 0 === b ? (c.src = a.src, c.dst = a.dst) : (c.src = a, c.dst = b);
		this._renderCmd.updateBlendFunc(c)
	},
	init: function() {
		if (0 < arguments.length) return this.initWithFile(arguments[0], arguments[1]);
		cc.Node.prototype.init.call(this);
		this.dirty = this._recursiveDirty = !1;
		this._blendFunc.src = cc.BLEND_SRC;
		this._blendFunc.dst = cc.BLEND_DST;
		this.texture = null;
		this._flippedX = this._flippedY = !1;
		this.anchorY = this.anchorX = 0.5;
		this._offsetPosition.x = 0;
		this._offsetPosition.y = 0;
		this._hasChildren = !1;
		this.setTextureRect(cc.rect(0,
			0, 0, 0), !1, cc.size(0, 0));
		return !0
	},
	initWithFile: function(a, b) {
		cc.assert(a, cc._LogInfos.Sprite_initWithFile);
		var c = cc.textureCache.getTextureForKey(a);
		c || (c = cc.textureCache.addImage(a));
		if (!c.isLoaded()) return this._loader.clear(), this._loader.once(c, function() {
			this.initWithFile(a, b);
			this.dispatchEvent("load")
		}, this), !1;
		if (!b) {
			var d = c.getContentSize();
			b = cc.rect(0, 0, d.width, d.height)
		}
		return this.initWithTexture(c, b)
	},
	initWithTexture: function(a, b, c, d) {
		cc.assert(0 !== arguments.length, cc._LogInfos.CCSpriteBatchNode_initWithTexture);
		this._loader.clear();
		this._textureLoaded = a.isLoaded();
		if (!this._textureLoaded) return this._loader.once(a, function() {
			this.initWithTexture(a, b, c, d);
			this.dispatchEvent("load")
		}, this), !1;
		c = c || !1;
		a = this._renderCmd._handleTextureForRotatedTexture(a, b, c, d);
		if (!cc.Node.prototype.init.call(this)) return !1;
		this._batchNode = null;
		this.dirty = this._recursiveDirty = !1;
		this._opacityModifyRGB = !0;
		this._blendFunc.src = cc.BLEND_SRC;
		this._blendFunc.dst = cc.BLEND_DST;
		this._flippedX = this._flippedY = !1;
		this._offsetPosition.x =
			0;
		this._offsetPosition.y = 0;
		this._hasChildren = !1;
		this._rectRotated = c;
		b && (this._rect.x = b.x, this._rect.y = b.y, this._rect.width = b.width, this._rect.height = b.height);
		b || (b = cc.rect(0, 0, a.width, a.height));
		this._renderCmd._checkTextureBoundary(a, b, c);
		this.setTexture(a);
		this.setTextureRect(b, c);
		this.setBatchNode(null);
		return !0
	},
	setTextureRect: function(a, b, c, d) {
		this._rectRotated = b || !1;
		this.setContentSize(c || a);
		this.setVertexRect(a);
		this._renderCmd._setTextureCoords(a, d);
		a = this._unflippedOffsetPositionFromCenter.x;
		b = this._unflippedOffsetPositionFromCenter.y;
		this._flippedX && (a = -a);
		this._flippedY && (b = -b);
		c = this._rect;
		this._offsetPosition.x = a + (this._contentSize.width - c.width) / 2;
		this._offsetPosition.y = b + (this._contentSize.height - c.height) / 2
	},
	addChild: function(a, b, c) {
		cc.assert(a, cc._LogInfos.CCSpriteBatchNode_addChild_2);
		null == b && (b = a._localZOrder);
		null == c && (c = a.tag);
		this._renderCmd._setBatchNodeForAddChild(a) && (cc.Node.prototype.addChild.call(this, a, b, c), this._hasChildren = !0)
	},
	setSpriteFrame: function(a) {
		"string" ===
		typeof a && (a = cc.spriteFrameCache.getSpriteFrame(a), cc.assert(a, cc._LogInfos.Sprite_setSpriteFrame));
		this._loader.clear();
		this.setNodeDirty(!0);
		var b = a.getTexture();
		this._textureLoaded = a.textureLoaded();
		this._loader.clear();
		if (!this._textureLoaded) return this._loader.once(b, function() {
			this.setSpriteFrame(a);
			this.dispatchEvent("load")
		}, this), !1;
		var c = a.getOffset();
		this._unflippedOffsetPositionFromCenter.x = c.x;
		this._unflippedOffsetPositionFromCenter.y = c.y;
		b !== this._texture && (this._renderCmd._setTexture(b),
			this.setColor(this._realColor));
		this.setTextureRect(a.getRect(), a.isRotated(), a.getOriginalSize())
	},
	setDisplayFrame: function(a) {
		cc.log(cc._LogInfos.Sprite_setDisplayFrame);
		this.setSpriteFrame(a)
	},
	isFrameDisplayed: function(a) {
		return this._renderCmd.isFrameDisplayed(a)
	},
	displayFrame: function() {
		return this.getSpriteFrame()
	},
	getSpriteFrame: function() {
		return new cc.SpriteFrame(this._texture, cc.rectPointsToPixels(this._rect), this._rectRotated, cc.pointPointsToPixels(this._unflippedOffsetPositionFromCenter),
			cc.sizePointsToPixels(this._contentSize))
	},
	setBatchNode: function(a) {},
	setTexture: function(a) {
		if (!a) return this._renderCmd._setTexture(null);
		var b = "string" === typeof a;
		b && (a = cc.textureCache.addImage(a));
		this._loader.clear();
		if (!a._textureLoaded) return this._loader.once(a, function() {
			this.setTexture(a);
			this.dispatchEvent("load")
		}, this), !1;
		this._renderCmd._setTexture(a);
		b && this._changeRectWithTexture(a);
		this.setColor(this._realColor);
		this._textureLoaded = !0
	},
	_changeRectWithTexture: function(a) {
		a = a._contentSize;
		a = cc.rect(0, 0, a.width, a.height);
		this.setTextureRect(a)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.Sprite.CanvasRenderCmd(this) : new cc.Sprite.WebGLRenderCmd(this)
	}
});
cc.Sprite.create = function(a, b, c) {
	return new cc.Sprite(a, b, c)
};
cc.Sprite.createWithTexture = cc.Sprite.create;
cc.Sprite.createWithSpriteFrameName = cc.Sprite.create;
cc.Sprite.createWithSpriteFrame = cc.Sprite.create;
cc.Sprite.INDEX_NOT_INITIALIZED = -1;
cc.EventHelper.prototype.apply(cc.Sprite.prototype);
cc.assert(cc.isFunction(cc._tmp.PrototypeSprite), cc._LogInfos.MissingFile, "SpritesPropertyDefine.js");
cc._tmp.PrototypeSprite();
delete cc._tmp.PrototypeSprite;
(function() {
	var a = cc.Sprite.LoadManager = function() {
		this.list = []
	};
	a.prototype.add = function(a, c, d) {
		a && a.addEventListener && (a.addEventListener("load", c, d), this.list.push({
			source: a,
			listener: c,
			target: d
		}))
	};
	a.prototype.once = function(a, c, d) {
		if (a && a.addEventListener) {
			var e = function(f) {
				a.removeEventListener("load", e, d);
				c.call(d, f)
			};
			a.addEventListener("load", e, d);
			this.list.push({
				source: a,
				listener: e,
				target: d
			})
		}
	};
	a.prototype.clear = function() {
		for (; 0 < this.list.length;) {
			var a = this.list.pop();
			a.source.removeEventListener("load",
				a.listener, a.target)
		}
	}
})();
(function() {
	cc.Sprite.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._textureCoord = {
			renderX: 0,
			renderY: 0,
			x: 0,
			y: 0,
			width: 0,
			height: 0,
			validRect: !1
		};
		this._blendFuncStr = "source-over";
		this._colorized = !1;
		this._canUseDirtyRegion = !0;
		this._textureToRender = null
	};
	var a = cc.Sprite.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.Sprite.CanvasRenderCmd;
	a._spriteCmdCtor = cc.Sprite.CanvasRenderCmd;
	a.setDirtyRecursively = function(a) {};
	a._setTexture = function(a) {
		var c =
			this._node;
		c._texture !== a && (c._textureLoaded = a ? a._textureLoaded : !1, c._texture = a, a = a._contentSize, a = cc.rect(0, 0, a.width, a.height), c.setTextureRect(a), this._updateColor())
	};
	a._setColorDirty = function() {
		this.setDirtyFlag(cc.Node._dirtyFlags.colorDirty | cc.Node._dirtyFlags.opacityDirty)
	};
	a.isFrameDisplayed = function(a) {
		var c = this._node;
		return a.getTexture() !== c._texture ? !1 : cc.rectEqualToRect(a.getRect(), c._rect)
	};
	a.updateBlendFunc = function(a) {
		this._blendFuncStr = cc.Node.CanvasRenderCmd._getCompositeOperationByBlendFunc(a)
	};
	a._setBatchNodeForAddChild = function(a) {
		return !0
	};
	a._handleTextureForRotatedTexture = function(a, c, d, e) {
		d && a.isLoaded() && (a = a.getHtmlElementObj(), a = cc.Sprite.CanvasRenderCmd._cutRotateImageToCanvas(a, c, e), e = new cc.Texture2D, e.initWithElement(a), e.handleLoadedTexture(), a = e, c.x = c.y = 0, this._node._rect = cc.rect(0, 0, c.width, c.height));
		return a
	};
	a._checkTextureBoundary = function(a, c, d) {
		a && a.url && (d = c.y + c.height, c.x + c.width > a.width && cc.error(cc._LogInfos.RectWidth, a.url), d > a.height && cc.error(cc._LogInfos.RectHeight,
			a.url))
	};
	a.rendering = function(a, c, d) {
		var e = this._node,
			f = this._textureCoord,
			g = this._displayedOpacity / 255,
			h = this._textureToRender || e._texture;
		if ((!h || 0 !== f.width && 0 !== f.height && h._textureLoaded) && 0 !== g) {
			a = a || cc._renderContext;
			var k = a.getContext(),
				m = e._offsetPosition.x,
				n = e._rect.height,
				p = e._rect.width,
				r = -e._offsetPosition.y - n;
			a.setTransform(this._worldTransform, c, d);
			a.setCompositeOperation(this._blendFuncStr);
			a.setGlobalAlpha(g);
			(e._flippedX || e._flippedY) && a.save();
			e._flippedX && (m = -m - p, k.scale(-1, 1));
			e._flippedY && (r = e._offsetPosition.y, k.scale(1, -1));
			var t, u, s;
			this._colorized ? t = g = 0 : (g = f.renderX, t = f.renderY);
			u = f.width;
			s = f.height;
			h && h._htmlElementObj ? (c = h._htmlElementObj, "" !== h._pattern ? (a.setFillStyle(k.createPattern(c, h._pattern)), k.fillRect(m, r, p, n)) : k.drawImage(c, g, t, u, s, m, r, p, n)) : (h = e._contentSize, f.validRect && (f = this._displayedColor, a.setFillStyle("rgba(" + f.r + "," + f.g + "," + f.b + ",1)"), k.fillRect(m, r, h.width * c, h.height * d)));
			(e._flippedX || e._flippedY) && a.restore();
			cc.g_NumberOfDraws++
		}
	};
	a._updateColor =
		function() {
			var a = this._node._texture,
				c = this._textureCoord,
				d = this._displayedColor;
			a && (255 !== d.r || 255 !== d.g || 255 !== d.b ? (this._textureToRender = a._generateColorTexture(d.r, d.g, d.b, c), this._colorized = !0) : a && (this._textureToRender = a, this._colorized = !1))
		};
	a._textureLoadedCallback = function(a) {
		if (!this._textureLoaded) {
			this._textureLoaded = !0;
			var c = this._rect,
				d = this._renderCmd;
			c ? cc._rectEqualToZero(c) && (c.width = a.width, c.height = a.height) : c = cc.rect(0, 0, a.width, a.height);
			this.texture = a;
			this.setTextureRect(c, this._rectRotated);
			a = d._displayedColor;
			255 === a.r && 255 === a.g && 255 === a.b || d._updateColor();
			this.setBatchNode(this._batchNode);
			this.dispatchEvent("load")
		}
	};
	a._setTextureCoords = function(a, c) {
		void 0 === c && (c = !0);
		var d = this._textureCoord,
			e = c ? cc.contentScaleFactor() : 1;
		d.renderX = d.x = 0 | a.x * e;
		d.renderY = d.y = 0 | a.y * e;
		d.width = 0 | a.width * e;
		d.height = 0 | a.height * e;
		d.validRect = !(0 === d.width || 0 === d.height || 0 > d.x || 0 > d.y)
	};
	cc.Sprite.CanvasRenderCmd._cutRotateImageToCanvas = function(a, c, d) {
		if (!a) return null;
		if (!c) return a;
		d = null == d ? !0 : d;
		var e =
			document.createElement("canvas");
		e.width = c.width;
		e.height = c.height;
		var f = e.getContext("2d");
		f.translate(e.width / 2, e.height / 2);
		d ? f.rotate(-1.5707963267948966) : f.rotate(1.5707963267948966);
		f.drawImage(a, c.x, c.y, c.height, c.width, -c.height / 2, -c.width / 2, c.height, c.width);
		return e
	}
})();
(function() {
	cc.Sprite.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._vertices = [{
			x: 0,
			y: 0,
			u: 0,
			v: 0
		}, {
			x: 0,
			y: 0,
			u: 0,
			v: 0
		}, {
			x: 0,
			y: 0,
			u: 0,
			v: 0
		}, {
			x: 0,
			y: 0,
			u: 0,
			v: 0
		}];
		this._color = new Uint32Array(1);
		this._recursiveDirty = this._dirty = !1;
		this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)
	};
	var a = cc.Sprite.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.Sprite.WebGLRenderCmd;
	a._spriteCmdCtor = cc.Sprite.WebGLRenderCmd;
	a.updateBlendFunc = function(a) {};
	a.setDirtyFlag = function(a) {
		cc.Node.WebGLRenderCmd.prototype.setDirtyFlag.call(this, a);
		this._dirty = !0
	};
	a.setDirtyRecursively = function(a) {
		this._dirty = this._recursiveDirty = a;
		for (var c = this._node._children, d, e = c ? c.length : 0, f = 0; f < e; f++) d = c[f], d instanceof cc.Sprite && d._renderCmd.setDirtyRecursively(a)
	};
	a._setBatchNodeForAddChild = function(a) {
		var c = this._node;
		if (c._batchNode) {
			if (!(a instanceof cc.Sprite)) return cc.log(cc._LogInfos.Sprite_addChild), !1;
			a.texture._webTextureObj !==
				c.textureAtlas.texture._webTextureObj && cc.log(cc._LogInfos.Sprite_addChild_2);
			c._batchNode.appendChild(a);
			c._reorderChildDirty || c._setReorderChildDirtyRecursively()
		}
		return !0
	};
	a._handleTextureForRotatedTexture = function(a) {
		return a
	};
	a.isFrameDisplayed = function(a) {
		var c = this._node;
		return cc.rectEqualToRect(a.getRect(), c._rect) && a.getTexture().getName() === c._texture.getName() && cc.pointEqualToPoint(a.getOffset(), c._unflippedOffsetPositionFromCenter)
	};
	a._textureLoadedCallback = function(a) {
		if (!this._textureLoaded) {
			this._textureLoaded = !0;
			var c = this._rect;
			c ? cc._rectEqualToZero(c) && (c.width = a.width, c.height = a.height) : c = cc.rect(0, 0, a.width, a.height);
			this.texture = a;
			this.setTextureRect(c, this._rectRotated);
			this.setBatchNode(this._batchNode);
			this.dispatchEvent("load");
			cc.renderer.childrenOrderDirty = !0
		}
	};
	a._setTextureCoords = function(a, c) {
		void 0 === c && (c = !0);
		c && (a = cc.rectPointsToPixels(a));
		var d = this._node,
			e = d._batchNode ? d.textureAtlas.texture : d._texture,
			f = this._vertices;
		if (e) {
			var g = e.pixelsWidth,
				h = e.pixelsHeight,
				k, m;
			d._rectRotated ? (cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL ?
				(e = (2 * a.x + 1) / (2 * g), g = e + (2 * a.height - 2) / (2 * g), k = (2 * a.y + 1) / (2 * h), h = k + (2 * a.width - 2) / (2 * h)) : (e = a.x / g, g = (a.x + a.height) / g, k = a.y / h, h = (a.y + a.width) / h), d._flippedX && (m = k, k = h, h = m), d._flippedY && (m = e, e = g, g = m), f[0].u = g, f[0].v = k, f[1].u = e, f[1].v = k, f[2].u = g, f[2].v = h, f[3].u = e) : (cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL ? (e = (2 * a.x + 1) / (2 * g), g = e + (2 * a.width - 2) / (2 * g), k = (2 * a.y + 1) / (2 * h), h = k + (2 * a.height - 2) / (2 * h)) : (e = a.x / g, g = (a.x + a.width) / g, k = a.y / h, h = (a.y + a.height) / h), d._flippedX && (m = e, e = g, g = m), d._flippedY && (m = k, k = h, h = m), f[0].u = e,
				f[0].v = k, f[1].u = e, f[1].v = h, f[2].u = g, f[2].v = k, f[3].u = g);
			f[3].v = h
		}
	};
	a._setColorDirty = function() {};
	a._updateBlendFunc = function() {
		if (this._batchNode) cc.log(cc._LogInfos.Sprite__updateBlendFunc);
		else {
			var a = this._node,
				c = a._blendFunc;
			a._texture && a._texture.hasPremultipliedAlpha() ? (c.src === cc.SRC_ALPHA && c.dst === cc.BLEND_DST && (c.src = cc.ONE), a.opacityModifyRGB = !0) : (c.src === cc.ONE && c.dst === cc.BLEND_DST && (c.src = cc.SRC_ALPHA), a.opacityModifyRGB = !1)
		}
	};
	a._setTexture = function(a) {
		var c = this._node;
		if (c._texture !==
			a) {
			c._textureLoaded = a ? a._textureLoaded : !1;
			if (c._texture = a) a = a._contentSize, a = cc.rect(0, 0, a.width, a.height), c.setTextureRect(a), this._updateBlendFunc();
			c._textureLoaded && (cc.renderer.childrenOrderDirty = !0)
		}
	};
	a._checkTextureBoundary = function(a, c, d) {
		a && a.url && (d ? (d = c.x + c.height, c = c.y + c.width) : (d = c.x + c.width, c = c.y + c.height), d > a.width && cc.error(cc._LogInfos.RectWidth, a.url), c > a.height && cc.error(cc._LogInfos.RectHeight, a.url))
	};
	a.transform = function(a, c) {
		this.originTransform(a, c);
		var d = this._node,
			e = d._offsetPosition.x,
			f = e + d._rect.width,
			g = d._offsetPosition.y,
			h = g + d._rect.height,
			k = this._worldTransform,
			d = k.tx,
			m = k.ty,
			n = e * k.a,
			e = e * k.b,
			p = f * k.a,
			f = f * k.b,
			r = h * k.c,
			h = h * k.d,
			t = g * k.c,
			g = g * k.d,
			k = this._vertices;
		k[0].x = n + r + d;
		k[0].y = e + h + m;
		k[1].x = n + t + d;
		k[1].y = e + g + m;
		k[2].x = p + r + d;
		k[2].y = f + h + m;
		k[3].x = p + t + d;
		k[3].y = f + g + m
	};
	a.needDraw = function() {
		var a = this._node._texture;
		return this._needDraw && a
	};
	a.uploadData = function(a, c, d) {
		var e = this._node,
			f = e._texture;
		if (!(f && f._textureLoaded && e._rect.width && e._rect.height && this._displayedOpacity)) return 0;
		var f = this._displayedOpacity,
			g = this._displayedColor.r,
			h = this._displayedColor.g,
			k = this._displayedColor.b;
		if (e._opacityModifyRGB) var m = f / 255,
			g = g * m,
			h = h * m,
			k = k * m;
		this._color[0] = f << 24 | k << 16 | h << 8 | g;
		e = e._vertexZ;
		f = this._vertices;
		g = f.length;
		k = d;
		for (d = 0; d < g; ++d) h = f[d], a[k] = h.x, a[k + 1] = h.y, a[k + 2] = e, c[k + 3] = this._color[0], a[k + 4] = h.u, a[k + 5] = h.v, k += 6;
		return g
	}
})();
cc.SpriteBatchNode = cc.Node.extend({
	_blendFunc: null,
	_texture: null,
	_className: "SpriteBatchNode",
	ctor: function(a) {
		cc.Node.prototype.ctor.call(this);
		this._blendFunc = new cc.BlendFunc(cc.BLEND_SRC, cc.BLEND_DST);
		var b;
		cc.isString(a) ? (b = cc.textureCache.getTextureForKey(a)) || (b = cc.textureCache.addImage(a)) : a instanceof cc.Texture2D && (b = a);
		b && this.initWithTexture(b)
	},
	addSpriteWithoutQuad: function(a, b, c) {
		this.addChild(a, b, c);
		return this
	},
	getTextureAtlas: function() {
		return null
	},
	setTextureAtlas: function(a) {},
	getDescendants: function() {
		return this._children
	},
	initWithFile: function(a, b) {
		var c = cc.textureCache.getTextureForKey(a);
		c || (c = cc.textureCache.addImage(a));
		return this.initWithTexture(c, b)
	},
	init: function(a, b) {
		var c = cc.textureCache.getTextureForKey(a);
		c || (c = cc.textureCache.addImage(a));
		return this.initWithTexture(c, b)
	},
	increaseAtlasCapacity: function() {},
	removeChildAtIndex: function(a, b) {
		this.removeChild(this._children[a], b)
	},
	rebuildIndexInOrder: function(a, b) {
		return b
	},
	highestAtlasIndexInChild: function(a) {
		var b =
			a.children;
		return b && 0 !== b.length ? this.highestAtlasIndexInChild(b[b.length - 1]) : a.zIndex
	},
	lowestAtlasIndexInChild: function(a) {
		var b = a.children;
		return b && 0 !== b.length ? this.lowestAtlasIndexInChild(b[b.length - 1]) : a.zIndex
	},
	atlasIndexForChild: function(a) {
		return a.zIndex
	},
	reorderBatch: function(a) {
		this._reorderChildDirty = a
	},
	setBlendFunc: function(a, b) {
		this._blendFunc = void 0 === b ? a : {
			src: a,
			dst: b
		}
	},
	getBlendFunc: function() {
		return new cc.BlendFunc(this._blendFunc.src, this._blendFunc.dst)
	},
	updateQuadFromSprite: function(a,
		b) {
		cc.assert(a, cc._LogInfos.CCSpriteBatchNode_updateQuadFromSprite_2);
		a instanceof cc.Sprite ? (a.dirty = !0, a._renderCmd.transform(this._renderCmd, !0)) : cc.log(cc._LogInfos.CCSpriteBatchNode_updateQuadFromSprite)
	},
	insertQuadFromSprite: function(a, b) {
		this.addChild(a, b)
	},
	insertChild: function(a, b) {
		this.addChild(a, b)
	},
	appendChild: function(a) {
		this.sortAllChildren();
		this.addChild(a.lastLocalZOrder + 1)
	},
	removeSpriteFromAtlas: function(a, b) {
		this.removeChild(a, b)
	},
	initWithTexture: function(a) {
		this.setTexture(a);
		return !0
	},
	getTexture: function() {
		return this._texture
	},
	setTexture: function(a) {
		this._texture = a;
		if (a._textureLoaded) {
			var b, c = this._children,
				d = c.length;
			for (b = 0; b < d; ++b) c[b].setTexture(a)
		} else a.addEventListener("load", function() {
			var b, c = this._children,
				d = c.length;
			for (b = 0; b < d; ++b) c[b].setTexture(a)
		}, this)
	},
	setShaderProgram: function(a) {
		this._renderCmd.setShaderProgram(a);
		var b, c = this._children,
			d = c.length;
		for (b = 0; b < d; ++b) c[b].setShaderProgram(a)
	},
	addChild: function(a, b, c) {
		cc.assert(void 0 !== a, cc._LogInfos.CCSpriteBatchNode_addChild_3);
		this._isValidChild(a) && (b = void 0 === b ? a.zIndex : b, c = void 0 === c ? a.tag : c, cc.Node.prototype.addChild.call(this, a, b, c), this._renderCmd._shaderProgram && (a.shaderProgram = this._renderCmd._shaderProgram))
	},
	_isValidChild: function(a) {
		return a instanceof cc.Sprite ? a.texture !== this._texture ? (cc.log(cc._LogInfos.Sprite_addChild_5), !1) : !0 : (cc.log(cc._LogInfos.Sprite_addChild_4), !1)
	}
});
_p = cc.SpriteBatchNode.prototype;
cc.defineGetterSetter(_p, "texture", _p.getTexture, _p.setTexture);
cc.defineGetterSetter(_p, "shaderProgram", _p.getShaderProgram, _p.setShaderProgram);
cc.SpriteBatchNode.create = function(a) {
	return new cc.SpriteBatchNode(a)
};
cc.SpriteBatchNode.createWithTexture = cc.SpriteBatchNode.create;
cc.BakeSprite = cc.Sprite.extend({
	_cacheCanvas: null,
	_cacheContext: null,
	ctor: function() {
		cc.Sprite.prototype.ctor.call(this);
		var a = document.createElement("canvas");
		a.width = a.height = 10;
		this._cacheCanvas = a;
		this._cacheContext = new cc.CanvasContextWrapper(a.getContext("2d"));
		var b = new cc.Texture2D;
		b.initWithElement(a);
		b.handleLoadedTexture();
		this.setTexture(b)
	},
	getCacheContext: function() {
		return this._cacheContext
	},
	getCacheCanvas: function() {
		return this._cacheCanvas
	},
	resetCanvasSize: function(a, b) {
		var c = this._cacheCanvas,
			d = this._cacheContext,
			e = d._context.strokeStyle,
			f = d._context.fillStyle;
		void 0 === b && (b = a.height, a = a.width);
		c.width = a;
		c.height = b;
		e !== d._context.strokeStyle && (d._context.strokeStyle = e);
		f !== d._context.fillStyle && (d._context.fillStyle = f);
		this.getTexture().handleLoadedTexture();
		this.setTextureRect(cc.rect(0, 0, a, b), !1, null, !1)
	}
});
cc.AnimationFrame = cc.Class.extend({
	_spriteFrame: null,
	_delayPerUnit: 0,
	_userInfo: null,
	ctor: function(a, b, c) {
		this._spriteFrame = a || null;
		this._delayPerUnit = b || 0;
		this._userInfo = c || null
	},
	clone: function() {
		var a = new cc.AnimationFrame;
		a.initWithSpriteFrame(this._spriteFrame.clone(), this._delayPerUnit, this._userInfo);
		return a
	},
	copyWithZone: function(a) {
		return cc.clone(this)
	},
	copy: function(a) {
		a = new cc.AnimationFrame;
		a.initWithSpriteFrame(this._spriteFrame.clone(), this._delayPerUnit, this._userInfo);
		return a
	},
	initWithSpriteFrame: function(a,
		b, c) {
		this._spriteFrame = a;
		this._delayPerUnit = b;
		this._userInfo = c;
		return !0
	},
	getSpriteFrame: function() {
		return this._spriteFrame
	},
	setSpriteFrame: function(a) {
		this._spriteFrame = a
	},
	getDelayUnits: function() {
		return this._delayPerUnit
	},
	setDelayUnits: function(a) {
		this._delayPerUnit = a
	},
	getUserInfo: function() {
		return this._userInfo
	},
	setUserInfo: function(a) {
		this._userInfo = a
	}
});
cc.AnimationFrame.create = function(a, b, c) {
	return new cc.AnimationFrame(a, b, c)
};
cc.Animation = cc.Class.extend({
	_frames: null,
	_loops: 0,
	_restoreOriginalFrame: !1,
	_duration: 0,
	_delayPerUnit: 0,
	_totalDelayUnits: 0,
	ctor: function(a, b, c) {
		this._frames = [];
		if (void 0 === a) this.initWithSpriteFrames(null, 0);
		else {
			var d = a[0];
			d && (d instanceof cc.SpriteFrame ? this.initWithSpriteFrames(a, b, c) : d instanceof cc.AnimationFrame && this.initWithAnimationFrames(a, b, c))
		}
	},
	getFrames: function() {
		return this._frames
	},
	setFrames: function(a) {
		this._frames = a
	},
	addSpriteFrame: function(a) {
		var b = new cc.AnimationFrame;
		b.initWithSpriteFrame(a,
			1, null);
		this._frames.push(b);
		this._totalDelayUnits++
	},
	addSpriteFrameWithFile: function(a) {
		a = cc.textureCache.addImage(a);
		var b = cc.rect(0, 0, 0, 0);
		b.width = a.width;
		b.height = a.height;
		a = new cc.SpriteFrame(a, b);
		this.addSpriteFrame(a)
	},
	addSpriteFrameWithTexture: function(a, b) {
		var c = new cc.SpriteFrame(a, b);
		this.addSpriteFrame(c)
	},
	initWithAnimationFrames: function(a, b, c) {
		cc.arrayVerifyType(a, cc.AnimationFrame);
		this._delayPerUnit = b;
		this._loops = void 0 === c ? 1 : c;
		this._totalDelayUnits = 0;
		b = this._frames;
		for (c = b.length =
			0; c < a.length; c++) {
			var d = a[c];
			b.push(d);
			this._totalDelayUnits += d.getDelayUnits()
		}
		return !0
	},
	clone: function() {
		var a = new cc.Animation;
		a.initWithAnimationFrames(this._copyFrames(), this._delayPerUnit, this._loops);
		a.setRestoreOriginalFrame(this._restoreOriginalFrame);
		return a
	},
	copyWithZone: function(a) {
		a = new cc.Animation;
		a.initWithAnimationFrames(this._copyFrames(), this._delayPerUnit, this._loops);
		a.setRestoreOriginalFrame(this._restoreOriginalFrame);
		return a
	},
	_copyFrames: function() {
		for (var a = [], b = 0; b < this._frames.length; b++) a.push(this._frames[b].clone());
		return a
	},
	copy: function(a) {
		return this.copyWithZone(null)
	},
	getLoops: function() {
		return this._loops
	},
	setLoops: function(a) {
		this._loops = a
	},
	setRestoreOriginalFrame: function(a) {
		this._restoreOriginalFrame = a
	},
	getRestoreOriginalFrame: function() {
		return this._restoreOriginalFrame
	},
	getDuration: function() {
		return this._totalDelayUnits * this._delayPerUnit
	},
	getDelayPerUnit: function() {
		return this._delayPerUnit
	},
	setDelayPerUnit: function(a) {
		this._delayPerUnit = a
	},
	getTotalDelayUnits: function() {
		return this._totalDelayUnits
	},
	initWithSpriteFrames: function(a, b, c) {
		cc.arrayVerifyType(a, cc.SpriteFrame);
		this._loops = void 0 === c ? 1 : c;
		this._delayPerUnit = b || 0;
		this._totalDelayUnits = 0;
		b = this._frames;
		b.length = 0;
		if (a) {
			for (c = 0; c < a.length; c++) {
				var d = a[c],
					e = new cc.AnimationFrame;
				e.initWithSpriteFrame(d, 1, null);
				b.push(e)
			}
			this._totalDelayUnits += a.length
		}
		return !0
	},
	retain: function() {},
	release: function() {}
});
cc.Animation.create = function(a, b, c) {
	return new cc.Animation(a, b, c)
};
cc.Animation.createWithAnimationFrames = cc.Animation.create;
cc.animationCache = {
	_animations: {},
	addAnimation: function(a, b) {
		this._animations[b] = a
	},
	removeAnimation: function(a) {
		a && this._animations[a] && delete this._animations[a]
	},
	getAnimation: function(a) {
		return this._animations[a] ? this._animations[a] : null
	},
	_addAnimationsWithDictionary: function(a, b) {
		var c = a.animations;
		if (c) {
			var d = 1,
				e = a.properties;
			if (e)
				for (var d = null != e.format ? parseInt(e.format) : d, e = e.spritesheets, f = cc.spriteFrameCache, g = cc.path, h = 0; h < e.length; h++) f.addSpriteFrames(g.changeBasename(b, e[h]));
			switch (d) {
				case 1:
					this._parseVersion1(c);
					break;
				case 2:
					this._parseVersion2(c);
					break;
				default:
					cc.log(cc._LogInfos.animationCache__addAnimationsWithDictionary_2)
			}
		} else cc.log(cc._LogInfos.animationCache__addAnimationsWithDictionary)
	},
	addAnimations: function(a) {
		cc.assert(a, cc._LogInfos.animationCache_addAnimations_2);
		var b = cc.loader.getRes(a);
		b ? this._addAnimationsWithDictionary(b, a) : cc.log(cc._LogInfos.animationCache_addAnimations)
	},
	_parseVersion1: function(a) {
		var b = cc.spriteFrameCache,
			c;
		for (c in a) {
			var d = a[c],
				e = d.frames,
				d = parseFloat(d.delay) ||
				0,
				f = null;
			if (e) {
				for (var f = [], g = 0; g < e.length; g++) {
					var h = b.getSpriteFrame(e[g]);
					if (h) {
						var k = new cc.AnimationFrame;
						k.initWithSpriteFrame(h, 1, null);
						f.push(k)
					} else cc.log(cc._LogInfos.animationCache__parseVersion1_2, c, e[g])
				}
				0 === f.length ? cc.log(cc._LogInfos.animationCache__parseVersion1_3, c) : (f.length !== e.length && cc.log(cc._LogInfos.animationCache__parseVersion1_4, c), f = new cc.Animation(f, d, 1), cc.animationCache.addAnimation(f, c))
			} else cc.log(cc._LogInfos.animationCache__parseVersion1, c)
		}
	},
	_parseVersion2: function(a) {
		var b =
			cc.spriteFrameCache,
			c;
		for (c in a) {
			var d = a[c],
				e = d.loop,
				f = parseInt(d.loops),
				e = e ? cc.REPEAT_FOREVER : isNaN(f) ? 1 : f,
				f = d.restoreOriginalFrame && !0 == d.restoreOriginalFrame ? !0 : !1,
				g = d.frames;
			if (g) {
				for (var h = [], k = 0; k < g.length; k++) {
					var m = g[k],
						n = m.spriteframe,
						p = b.getSpriteFrame(n);
					if (p) {
						var n = parseFloat(m.delayUnits) || 0,
							m = m.notification,
							r = new cc.AnimationFrame;
						r.initWithSpriteFrame(p, n, m);
						h.push(r)
					} else cc.log(cc._LogInfos.animationCache__parseVersion2_2, c, n)
				}
				d = parseFloat(d.delayPerUnit) || 0;
				g = new cc.Animation;
				g.initWithAnimationFrames(h,
					d, e);
				g.setRestoreOriginalFrame(f);
				cc.animationCache.addAnimation(g, c)
			} else cc.log(cc._LogInfos.animationCache__parseVersion2, c)
		}
	},
	_clear: function() {
		this._animations = {}
	}
};
cc.SpriteFrame = cc.Class.extend({
	_offset: null,
	_originalSize: null,
	_rectInPixels: null,
	_rotated: !1,
	_rect: null,
	_offsetInPixels: null,
	_originalSizeInPixels: null,
	_texture: null,
	_textureFilename: "",
	_textureLoaded: !1,
	ctor: function(a, b, c, d, e) {
		this._offset = cc.p(0, 0);
		this._offsetInPixels = cc.p(0, 0);
		this._originalSize = cc.size(0, 0);
		this._rotated = !1;
		this._originalSizeInPixels = cc.size(0, 0);
		this._textureFilename = "";
		this._texture = null;
		this._textureLoaded = !1;
		void 0 !== a && void 0 !== b && (void 0 === c || void 0 === d || void 0 === e ?
			this.initWithTexture(a, b) : this.initWithTexture(a, b, c, d, e))
	},
	textureLoaded: function() {
		return this._textureLoaded
	},
	addLoadedEventListener: function(a, b) {
		this.addEventListener("load", a, b)
	},
	getRectInPixels: function() {
		var a = this._rectInPixels;
		return cc.rect(a.x, a.y, a.width, a.height)
	},
	setRectInPixels: function(a) {
		this._rectInPixels || (this._rectInPixels = cc.rect(0, 0, 0, 0));
		this._rectInPixels.x = a.x;
		this._rectInPixels.y = a.y;
		this._rectInPixels.width = a.width;
		this._rectInPixels.height = a.height;
		this._rect = cc.rectPixelsToPoints(a)
	},
	isRotated: function() {
		return this._rotated
	},
	setRotated: function(a) {
		this._rotated = a
	},
	getRect: function() {
		var a = this._rect;
		return cc.rect(a.x, a.y, a.width, a.height)
	},
	setRect: function(a) {
		this._rect || (this._rect = cc.rect(0, 0, 0, 0));
		this._rect.x = a.x;
		this._rect.y = a.y;
		this._rect.width = a.width;
		this._rect.height = a.height;
		this._rectInPixels = cc.rectPointsToPixels(this._rect)
	},
	getOffsetInPixels: function() {
		return cc.p(this._offsetInPixels)
	},
	setOffsetInPixels: function(a) {
		this._offsetInPixels.x = a.x;
		this._offsetInPixels.y =
			a.y;
		cc._pointPixelsToPointsOut(this._offsetInPixels, this._offset)
	},
	getOriginalSizeInPixels: function() {
		return cc.size(this._originalSizeInPixels)
	},
	setOriginalSizeInPixels: function(a) {
		this._originalSizeInPixels.width = a.width;
		this._originalSizeInPixels.height = a.height
	},
	getOriginalSize: function() {
		return cc.size(this._originalSize)
	},
	setOriginalSize: function(a) {
		this._originalSize.width = a.width;
		this._originalSize.height = a.height
	},
	getTexture: function() {
		if (this._texture) return this._texture;
		if ("" !== this._textureFilename) {
			var a =
				cc.textureCache.addImage(this._textureFilename);
			a && (this._textureLoaded = a.isLoaded());
			return a
		}
		return null
	},
	setTexture: function(a) {
		if (this._texture !== a) {
			var b = a.isLoaded();
			this._textureLoaded = b;
			this._texture = a;
			b || a.addEventListener("load", function(a) {
				this._textureLoaded = !0;
				if (this._rotated && cc._renderType === cc.game.RENDER_TYPE_CANVAS) {
					var b = a.getHtmlElementObj(),
						b = cc.Sprite.CanvasRenderCmd._cutRotateImageToCanvas(b, this.getRect()),
						e = new cc.Texture2D;
					e.initWithElement(b);
					e.handleLoadedTexture();
					this.setTexture(e);
					b = this.getRect();
					this.setRect(cc.rect(0, 0, b.width, b.height))
				}
				b = this._rect;
				0 === b.width && 0 === b.height && (b = a.width, a = a.height, this._rect.width = b, this._rect.height = a, this._rectInPixels = cc.rectPointsToPixels(this._rect), this._originalSizeInPixels.width = this._rectInPixels.width, this._originalSizeInPixels.height = this._rectInPixels.height, this._originalSize.width = b, this._originalSize.height = a);
				this.dispatchEvent("load")
			}, this)
		}
	},
	getOffset: function() {
		return cc.p(this._offset)
	},
	setOffset: function(a) {
		this._offset.x =
			a.x;
		this._offset.y = a.y
	},
	clone: function() {
		var a = new cc.SpriteFrame;
		a.initWithTexture(this._textureFilename, this._rectInPixels, this._rotated, this._offsetInPixels, this._originalSizeInPixels);
		a.setTexture(this._texture);
		return a
	},
	copyWithZone: function() {
		var a = new cc.SpriteFrame;
		a.initWithTexture(this._textureFilename, this._rectInPixels, this._rotated, this._offsetInPixels, this._originalSizeInPixels);
		a.setTexture(this._texture);
		return a
	},
	copy: function() {
		return this.copyWithZone()
	},
	initWithTexture: function(a,
		b, c, d, e) {
		2 === arguments.length && (b = cc.rectPointsToPixels(b));
		d = d || cc.p(0, 0);
		e = e || b;
		c = c || !1;
		"string" === typeof a ? (this._texture = null, this._textureFilename = a) : a instanceof cc.Texture2D && this.setTexture(a);
		a = this.getTexture();
		this._rectInPixels = b;
		this._rect = cc.rectPixelsToPoints(b);
		if (a && a.url && a.isLoaded()) {
			var f, g;
			c ? (f = b.x + b.height, g = b.y + b.width) : (f = b.x + b.width, g = b.y + b.height);
			f > a.getPixelsWide() && cc.error(cc._LogInfos.RectWidth, a.url);
			g > a.getPixelsHigh() && cc.error(cc._LogInfos.RectHeight, a.url)
		}
		this._offsetInPixels.x =
			d.x;
		this._offsetInPixels.y = d.y;
		cc._pointPixelsToPointsOut(d, this._offset);
		this._originalSizeInPixels.width = e.width;
		this._originalSizeInPixels.height = e.height;
		cc._sizePixelsToPointsOut(e, this._originalSize);
		this._rotated = c;
		return !0
	}
});
cc.EventHelper.prototype.apply(cc.SpriteFrame.prototype);
cc.SpriteFrame.create = function(a, b, c, d, e) {
	return new cc.SpriteFrame(a, b, c, d, e)
};
cc.SpriteFrame.createWithTexture = cc.SpriteFrame.create;
cc.SpriteFrame._frameWithTextureForCanvas = function(a, b, c, d, e) {
	var f = new cc.SpriteFrame;
	f._texture = a;
	f._rectInPixels = b;
	f._rect = cc.rectPixelsToPoints(b);
	f._offsetInPixels.x = d.x;
	f._offsetInPixels.y = d.y;
	cc._pointPixelsToPointsOut(f._offsetInPixels, f._offset);
	f._originalSizeInPixels.width = e.width;
	f._originalSizeInPixels.height = e.height;
	cc._sizePixelsToPointsOut(f._originalSizeInPixels, f._originalSize);
	f._rotated = c;
	return f
};
cc.spriteFrameCache = {
	_CCNS_REG1: /^\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*$/,
	_CCNS_REG2: /^\s*\{\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*,\s*\{\s*([\-]?\d+[.]?\d*)\s*,\s*([\-]?\d+[.]?\d*)\s*\}\s*\}\s*$/,
	_spriteFrames: {},
	_spriteFramesAliases: {},
	_frameConfigCache: {},
	_rectFromString: function(a) {
		return (a = this._CCNS_REG2.exec(a)) ? cc.rect(parseFloat(a[1]), parseFloat(a[2]), parseFloat(a[3]), parseFloat(a[4])) : cc.rect(0, 0, 0, 0)
	},
	_pointFromString: function(a) {
		return (a = this._CCNS_REG1.exec(a)) ?
			cc.p(parseFloat(a[1]), parseFloat(a[2])) : cc.p(0, 0)
	},
	_sizeFromString: function(a) {
		return (a = this._CCNS_REG1.exec(a)) ? cc.size(parseFloat(a[1]), parseFloat(a[2])) : cc.size(0, 0)
	},
	_getFrameConfig: function(a) {
		var b = cc.loader.getRes(a);
		cc.assert(b, cc._LogInfos.spriteFrameCache__getFrameConfig_2, a);
		cc.loader.release(a);
		if (b._inited) return this._frameConfigCache[a] = b;
		this._frameConfigCache[a] = this._parseFrameConfig(b);
		return this._frameConfigCache[a]
	},
	_getFrameConfigByJsonObject: function(a, b) {
		cc.assert(b, cc._LogInfos.spriteFrameCache__getFrameConfig_2,
			a);
		this._frameConfigCache[a] = this._parseFrameConfig(b);
		return this._frameConfigCache[a]
	},
	_parseFrameConfig: function(a) {
		var b = a.frames,
			c = a.metadata || a.meta;
		a = {};
		var d = {},
			e = 0;
		c && (e = c.format, e = 1 >= e.length ? parseInt(e) : e, d.image = c.textureFileName || c.textureFileName || c.image);
		for (var f in b) {
			var g = b[f];
			if (g) {
				c = {};
				if (0 == e) {
					c.rect = cc.rect(g.x, g.y, g.width, g.height);
					c.rotated = !1;
					c.offset = cc.p(g.offsetX, g.offsetY);
					var h = g.originalWidth,
						g = g.originalHeight;
					h && g || cc.log(cc._LogInfos.spriteFrameCache__getFrameConfig);
					h = Math.abs(h);
					g = Math.abs(g);
					c.size = cc.size(h, g)
				} else if (1 == e || 2 == e) c.rect = this._rectFromString(g.frame), c.rotated = g.rotated || !1, c.offset = this._pointFromString(g.offset), c.size = this._sizeFromString(g.sourceSize);
				else if (3 == e) {
					var h = this._sizeFromString(g.spriteSize),
						k = this._rectFromString(g.textureRect);
					h && (k = cc.rect(k.x, k.y, h.width, h.height));
					c.rect = k;
					c.rotated = g.textureRotated || !1;
					c.offset = this._pointFromString(g.spriteOffset);
					c.size = this._sizeFromString(g.spriteSourceSize);
					c.aliases = g.aliases
				} else h =
					g.frame, k = g.sourceSize, f = g.filename || f, c.rect = cc.rect(h.x, h.y, h.w, h.h), c.rotated = g.rotated || !1, c.offset = cc.p(0, 0), c.size = cc.size(k.w, k.h);
				a[f] = c
			}
		}
		return {
			_inited: !0,
			frames: a,
			meta: d
		}
	},
	_addSpriteFramesByObject: function(a, b, c) {
		cc.assert(a, cc._LogInfos.spriteFrameCache_addSpriteFrames_2);
		b && b.frames && (b = this._frameConfigCache[a] || this._getFrameConfigByJsonObject(a, b), this._createSpriteFrames(a, b, c))
	},
	_createSpriteFrames: function(a, b, c) {
		var d = b.frames;
		b = b.meta;
		c ? c instanceof cc.Texture2D || (cc.isString(c) ?
			c = cc.textureCache.addImage(c) : cc.assert(0, cc._LogInfos.spriteFrameCache_addSpriteFrames_3)) : (c = cc.path.changeBasename(a, b.image || ".png"), c = cc.textureCache.addImage(c));
		a = this._spriteFramesAliases;
		b = this._spriteFrames;
		for (var e in d) {
			var f = d[e],
				g = b[e];
			if (!g) {
				g = new cc.SpriteFrame(c, cc.rect(f.rect), f.rotated, f.offset, f.size);
				if (f = f.aliases)
					for (var h = 0, k = f.length; h < k; h++) {
						var m = f[h];
						a[m] && cc.log(cc._LogInfos.spriteFrameCache_addSpriteFrames, m);
						a[m] = e
					}
				cc._renderType === cc.game.RENDER_TYPE_CANVAS && g.isRotated() &&
					g.getTexture().isLoaded() && (f = g.getTexture().getHtmlElementObj(), f = cc.Sprite.CanvasRenderCmd._cutRotateImageToCanvas(f, g.getRectInPixels()), h = new cc.Texture2D, h.initWithElement(f), h.handleLoadedTexture(), g.setTexture(h), g.setRotated(!1), f = g._rect, g.setRect(cc.rect(0, 0, f.width, f.height)));
				b[e] = g
			}
		}
	},
	addSpriteFrames: function(a, b) {
		cc.assert(a, cc._LogInfos.spriteFrameCache_addSpriteFrames_2);
		var c = this._frameConfigCache[a] || cc.loader.getRes(a);
		c && c.frames && (c = this._frameConfigCache[a] || this._getFrameConfig(a),
			this._createSpriteFrames(a, c, b))
	},
	_checkConflict: function(a) {
		a = a.frames;
		for (var b in a) this._spriteFrames[b] && cc.log(cc._LogInfos.spriteFrameCache__checkConflict, b)
	},
	addSpriteFrame: function(a, b) {
		this._spriteFrames[b] = a
	},
	removeSpriteFrames: function() {
		this._spriteFrames = {};
		this._spriteFramesAliases = {}
	},
	removeSpriteFrameByName: function(a) {
		a && (this._spriteFramesAliases[a] && delete this._spriteFramesAliases[a], this._spriteFrames[a] && delete this._spriteFrames[a])
	},
	removeSpriteFramesFromFile: function(a) {
		var b =
			this._spriteFrames,
			c = this._spriteFramesAliases;
		if (a = this._frameConfigCache[a]) {
			a = a.frames;
			for (var d in a)
				if (b[d]) {
					delete b[d];
					for (var e in c) c[e] === d && delete c[e]
				}
		}
	},
	removeSpriteFramesFromTexture: function(a) {
		var b = this._spriteFrames,
			c = this._spriteFramesAliases,
			d;
		for (d in b) {
			var e = b[d];
			if (e && e.getTexture() === a) {
				delete b[d];
				for (var f in c) c[f] === d && delete c[f]
			}
		}
	},
	getSpriteFrame: function(a) {
		var b = this._spriteFrames[a];
		if (!b) {
			var c = this._spriteFramesAliases[a];
			c && ((b = this._spriteFrames[c.toString()]) ||
				delete this._spriteFramesAliases[a])
		}
		return b
	},
	_clear: function() {
		this._spriteFrames = {};
		this._spriteFramesAliases = {};
		this._frameConfigCache = {}
	}
};
cc.configuration = {
	ERROR: 0,
	STRING: 1,
	INT: 2,
	DOUBLE: 3,
	BOOLEAN: 4,
	_maxTextureSize: 0,
	_maxModelviewStackDepth: 0,
	_supportsPVRTC: !1,
	_supportsNPOT: !1,
	_supportsBGRA8888: !1,
	_supportsDiscardFramebuffer: !1,
	_supportsShareableVAO: !1,
	_maxSamplesAllowed: 0,
	_maxTextureUnits: 0,
	_GlExtensions: "",
	_valueDict: {},
	_inited: !1,
	_init: function() {
		var a = this._valueDict;
		a["cocos2d.x.version"] = cc.ENGINE_VERSION;
		a["cocos2d.x.compiled_with_profiler"] = !1;
		a["cocos2d.x.compiled_with_gl_state_cache"] = cc.ENABLE_GL_STATE_CACHE;
		this._inited = !0
	},
	getMaxTextureSize: function() {
		return this._maxTextureSize
	},
	getMaxModelviewStackDepth: function() {
		return this._maxModelviewStackDepth
	},
	getMaxTextureUnits: function() {
		return this._maxTextureUnits
	},
	supportsNPOT: function() {
		return this._supportsNPOT
	},
	supportsPVRTC: function() {
		return this._supportsPVRTC
	},
	supportsETC: function() {
		return !1
	},
	supportsS3TC: function() {
		return !1
	},
	supportsATITC: function() {
		return !1
	},
	supportsBGRA8888: function() {
		return this._supportsBGRA8888
	},
	supportsDiscardFramebuffer: function() {
		return this._supportsDiscardFramebuffer
	},
	supportsShareableVAO: function() {
		return this._supportsShareableVAO
	},
	checkForGLExtension: function(a) {
		return -1 < this._GlExtensions.indexOf(a)
	},
	getValue: function(a, b) {
		this._inited || this._init();
		var c = this._valueDict;
		return c[a] ? c[a] : b
	},
	setValue: function(a, b) {
		this._valueDict[a] = b
	},
	dumpInfo: function() {
		0 === cc.ENABLE_GL_STATE_CACHE && (cc.log(""), cc.log(cc._LogInfos.configuration_dumpInfo), cc.log(""))
	},
	gatherGPUInfo: function() {
		if (cc._renderType !== cc.game.RENDER_TYPE_CANVAS) {
			this._inited || this._init();
			var a =
				cc._renderContext,
				b = this._valueDict;
			b["gl.vendor"] = a.getParameter(a.VENDOR);
			b["gl.renderer"] = a.getParameter(a.RENDERER);
			b["gl.version"] = a.getParameter(a.VERSION);
			this._GlExtensions = "";
			for (var c = a.getSupportedExtensions(), d = 0; d < c.length; d++) this._GlExtensions += c[d] + " ";
			this._maxTextureSize = a.getParameter(a.MAX_TEXTURE_SIZE);
			b["gl.max_texture_size"] = this._maxTextureSize;
			this._maxTextureUnits = a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);
			b["gl.max_texture_units"] = this._maxTextureUnits;
			this._supportsPVRTC =
				this.checkForGLExtension("GL_IMG_texture_compression_pvrtc");
			b["gl.supports_PVRTC"] = this._supportsPVRTC;
			this._supportsNPOT = !1;
			b["gl.supports_NPOT"] = this._supportsNPOT;
			this._supportsBGRA8888 = this.checkForGLExtension("GL_IMG_texture_format_BGRA888");
			b["gl.supports_BGRA8888"] = this._supportsBGRA8888;
			this._supportsDiscardFramebuffer = this.checkForGLExtension("GL_EXT_discard_framebuffer");
			b["gl.supports_discard_framebuffer"] = this._supportsDiscardFramebuffer;
			this._supportsShareableVAO = this.checkForGLExtension("vertex_array_object");
			b["gl.supports_vertex_array_object"] = this._supportsShareableVAO;
			cc.checkGLErrorDebug()
		}
	},
	loadConfigFile: function(a) {
		this._inited || this._init();
		var b = cc.loader.getRes(a);
		if (!b) throw Error("Please load the resource first : " + a);
		cc.assert(b, cc._LogInfos.configuration_loadConfigFile_2, a);
		if (b = b.data)
			for (var c in b) this._valueDict[c] = b[c];
		else cc.log(cc._LogInfos.configuration_loadConfigFile, a)
	}
};
cc.g_NumberOfDraws = 0;
cc.Director = cc.Class.extend({
	_landscape: !1,
	_nextDeltaTimeZero: !1,
	_paused: !1,
	_purgeDirectorInNextLoop: !1,
	_sendCleanupToScene: !1,
	_animationInterval: 0,
	_oldAnimationInterval: 0,
	_projection: 0,
	_contentScaleFactor: 1,
	_deltaTime: 0,
	_winSizeInPoints: null,
	_lastUpdate: null,
	_nextScene: null,
	_notificationNode: null,
	_openGLView: null,
	_scenesStack: null,
	_projectionDelegate: null,
	_runningScene: null,
	_totalFrames: 0,
	_secondsPerFrame: 0,
	_dirtyRegion: null,
	_scheduler: null,
	_actionManager: null,
	_eventProjectionChanged: null,
	_eventAfterUpdate: null,
	_eventAfterVisit: null,
	_eventAfterDraw: null,
	ctor: function() {
		var a = this;
		a._lastUpdate = Date.now();
		cc.eventManager.addCustomListener(cc.game.EVENT_SHOW, function() {
			a._lastUpdate = Date.now()
		})
	},
	init: function() {
		this._oldAnimationInterval = this._animationInterval = 1 / cc.defaultFPS;
		this._scenesStack = [];
		this._projection = cc.Director.PROJECTION_DEFAULT;
		this._projectionDelegate = null;
		this._totalFrames = 0;
		this._lastUpdate = Date.now();
		this._purgeDirectorInNextLoop = this._paused = !1;
		this._winSizeInPoints = cc.size(0, 0);
		this._openGLView =
			null;
		this._contentScaleFactor = 1;
		this._scheduler = new cc.Scheduler;
		cc.ActionManager ? (this._actionManager = new cc.ActionManager, this._scheduler.scheduleUpdate(this._actionManager, cc.Scheduler.PRIORITY_SYSTEM, !1)) : this._actionManager = null;
		this._eventAfterUpdate = new cc.EventCustom(cc.Director.EVENT_AFTER_UPDATE);
		this._eventAfterUpdate.setUserData(this);
		this._eventAfterVisit = new cc.EventCustom(cc.Director.EVENT_AFTER_VISIT);
		this._eventAfterVisit.setUserData(this);
		this._eventAfterDraw = new cc.EventCustom(cc.Director.EVENT_AFTER_DRAW);
		this._eventAfterDraw.setUserData(this);
		this._eventProjectionChanged = new cc.EventCustom(cc.Director.EVENT_PROJECTION_CHANGED);
		this._eventProjectionChanged.setUserData(this);
		return !0
	},
	calculateDeltaTime: function() {
		var a = Date.now();
		this._nextDeltaTimeZero ? (this._deltaTime = 0, this._nextDeltaTimeZero = !1) : this._deltaTime = (a - this._lastUpdate) / 1E3;
		0 < cc.game.config[cc.game.CONFIG_KEY.debugMode] && 0.2 < this._deltaTime && (this._deltaTime = 1 / 60);
		this._lastUpdate = a
	},
	convertToGL: function(a) {
		var b = document.documentElement,
			c = cc.view,
			d = b.getBoundingClientRect();
		d.left += window.pageXOffset - b.clientLeft;
		d.top += window.pageYOffset - b.clientTop;
		b = c._devicePixelRatio * (a.x - d.left);
		a = c._devicePixelRatio * (d.top + d.height - a.y);
		return c._isRotated ? {
			x: c._viewPortRect.width - a,
			y: b
		} : {
			x: b,
			y: a
		}
	},
	convertToUI: function(a) {
		var b = document.documentElement,
			c = cc.view,
			d = b.getBoundingClientRect();
		d.left += window.pageXOffset - b.clientLeft;
		d.top += window.pageYOffset - b.clientTop;
		b = {
			x: 0,
			y: 0
		};
		c._isRotated ? (b.x = d.left + a.y / c._devicePixelRatio, b.y = d.top + d.height -
			(c._viewPortRect.width - a.x) / c._devicePixelRatio) : (b.x = d.left + a.x / c._devicePixelRatio, b.y = d.top + d.height - a.y / c._devicePixelRatio);
		return b
	},
	drawScene: function() {
		var a = cc.renderer;
		this.calculateDeltaTime();
		this._paused || (this._scheduler.update(this._deltaTime), cc.eventManager.dispatchEvent(this._eventAfterUpdate));
		this._nextScene && this.setNextScene();
		this._runningScene && (a.childrenOrderDirty ? (cc.renderer.clearRenderCommands(), cc.renderer.assignedZ = 0, this._runningScene._renderCmd._curLevel = 0, this._runningScene.visit(),
			a.resetFlag()) : a.transformDirty() && a.transform());
		a.clear();
		this._notificationNode && this._notificationNode.visit();
		cc.eventManager.dispatchEvent(this._eventAfterVisit);
		cc.g_NumberOfDraws = 0;
		a.rendering(cc._renderContext);
		this._totalFrames++;
		cc.eventManager.dispatchEvent(this._eventAfterDraw);
		cc.eventManager.frameUpdateListeners();
		this._calculateMPF()
	},
	end: function() {
		this._purgeDirectorInNextLoop = !0
	},
	getContentScaleFactor: function() {
		return this._contentScaleFactor
	},
	getNotificationNode: function() {
		return this._notificationNode
	},
	getWinSize: function() {
		return cc.size(this._winSizeInPoints)
	},
	getWinSizeInPixels: function() {
		return cc.size(this._winSizeInPoints.width * this._contentScaleFactor, this._winSizeInPoints.height * this._contentScaleFactor)
	},
	getVisibleSize: null,
	getVisibleOrigin: null,
	getZEye: null,
	pause: function() {
		this._paused || (this._oldAnimationInterval = this._animationInterval, this.setAnimationInterval(0.25), this._paused = !0)
	},
	popScene: function() {
		cc.assert(this._runningScene, cc._LogInfos.Director_popScene);
		this._scenesStack.pop();
		var a = this._scenesStack.length;
		0 === a ? this.end() : (this._sendCleanupToScene = !0, this._nextScene = this._scenesStack[a - 1])
	},
	purgeCachedData: function() {
		cc.animationCache._clear();
		cc.spriteFrameCache._clear();
		cc.textureCache._clear()
	},
	purgeDirector: function() {
		this.getScheduler().unscheduleAll();
		cc.eventManager && cc.eventManager.setEnabled(!1);
		this._runningScene && (this._runningScene._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart), this._runningScene._performRecursive(cc.Node._stateCallbackType.onExit),
			this._runningScene._performRecursive(cc.Node._stateCallbackType.cleanup));
		this._nextScene = this._runningScene = null;
		this._scenesStack.length = 0;
		this.stopAnimation();
		this.purgeCachedData();
		cc.checkGLErrorDebug()
	},
	pushScene: function(a) {
		cc.assert(a, cc._LogInfos.Director_pushScene);
		this._sendCleanupToScene = !1;
		this._scenesStack.push(a);
		this._nextScene = a
	},
	runScene: function(a) {
		cc.assert(a, cc._LogInfos.Director_pushScene);
		if (this._runningScene) {
			var b = this._scenesStack.length;
			0 === b ? (this._sendCleanupToScene = !0, this._scenesStack[b] = a) : (this._sendCleanupToScene = !0, this._scenesStack[b - 1] = a);
			this._nextScene = a
		} else this.pushScene(a), this.startAnimation()
	},
	resume: function() {
		this._paused && (this.setAnimationInterval(this._oldAnimationInterval), (this._lastUpdate = Date.now()) || cc.log(cc._LogInfos.Director_resume), this._paused = !1, this._deltaTime = 0)
	},
	setContentScaleFactor: function(a) {
		a !== this._contentScaleFactor && (this._contentScaleFactor = a)
	},
	setDepthTest: null,
	setClearColor: null,
	setDefaultValues: function() {},
	setNextDeltaTimeZero: function(a) {
		this._nextDeltaTimeZero =
			a
	},
	setNextScene: function() {
		var a = !1,
			b = !1;
		cc.TransitionScene && (a = this._runningScene ? this._runningScene instanceof cc.TransitionScene : !1, b = this._nextScene ? this._nextScene instanceof cc.TransitionScene : !1);
		if (!b) {
			if (b = this._runningScene) b._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart), b._performRecursive(cc.Node._stateCallbackType.onExit);
			this._sendCleanupToScene && b && b._performRecursive(cc.Node._stateCallbackType.cleanup)
		}
		this._runningScene = this._nextScene;
		cc.renderer.childrenOrderDirty = !0;
		this._nextScene = null;
		a || null === this._runningScene || (this._runningScene._performRecursive(cc.Node._stateCallbackType.onEnter), this._runningScene._performRecursive(cc.Node._stateCallbackType.onEnterTransitionDidFinish))
	},
	setNotificationNode: function(a) {
		cc.renderer.childrenOrderDirty = !0;
		this._notificationNode && (this._notificationNode._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart), this._notificationNode._performRecursive(cc.Node._stateCallbackType.onExit), this._notificationNode._performRecursive(cc.Node._stateCallbackType.cleanup));
		if (this._notificationNode = a) this._notificationNode._performRecursive(cc.Node._stateCallbackType.onEnter), this._notificationNode._performRecursive(cc.Node._stateCallbackType.onEnterTransitionDidFinish)
	},
	getDelegate: function() {
		return this._projectionDelegate
	},
	setDelegate: function(a) {
		this._projectionDelegate = a
	},
	setOpenGLView: null,
	setProjection: null,
	setViewport: null,
	getOpenGLView: null,
	getProjection: null,
	setAlphaBlending: null,
	isSendCleanupToScene: function() {
		return this._sendCleanupToScene
	},
	getRunningScene: function() {
		return this._runningScene
	},
	getAnimationInterval: function() {
		return this._animationInterval
	},
	isDisplayStats: function() {
		return cc.profiler ? cc.profiler.isShowingStats() : !1
	},
	setDisplayStats: function(a) {
		cc.profiler && (a ? cc.profiler.showStats() : cc.profiler.hideStats())
	},
	getSecondsPerFrame: function() {
		return this._secondsPerFrame
	},
	isNextDeltaTimeZero: function() {
		return this._nextDeltaTimeZero
	},
	isPaused: function() {
		return this._paused
	},
	getTotalFrames: function() {
		return this._totalFrames
	},
	popToRootScene: function() {
		this.popToSceneStackLevel(1)
	},
	popToSceneStackLevel: function(a) {
		cc.assert(this._runningScene, cc._LogInfos.Director_popToSceneStackLevel_2);
		var b = this._scenesStack,
			c = b.length;
		if (0 === a) this.end();
		else if (!(a >= c)) {
			for (; c > a;) {
				var d = b.pop();
				d.running && (d._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart), d._performRecursive(cc.Node._stateCallbackType.onExit));
				d._performRecursive(cc.Node._stateCallbackType.cleanup);
				c--
			}
			this._nextScene = b[b.length - 1];
			this._sendCleanupToScene = !0
		}
	},
	getScheduler: function() {
		return this._scheduler
	},
	setScheduler: function(a) {
		this._scheduler !== a && (this._scheduler = a)
	},
	getActionManager: function() {
		return this._actionManager
	},
	setActionManager: function(a) {
		this._actionManager !== a && (this._actionManager = a)
	},
	getDeltaTime: function() {
		return this._deltaTime
	},
	_calculateMPF: function() {
		this._secondsPerFrame = (Date.now() - this._lastUpdate) / 1E3
	}
});
cc.Director.EVENT_PROJECTION_CHANGED = "director_projection_changed";
cc.Director.EVENT_AFTER_UPDATE = "director_after_update";
cc.Director.EVENT_AFTER_VISIT = "director_after_visit";
cc.Director.EVENT_AFTER_DRAW = "director_after_draw";
cc.DisplayLinkDirector = cc.Director.extend({
	invalid: !1,
	startAnimation: function() {
		this._nextDeltaTimeZero = !0;
		this.invalid = !1
	},
	mainLoop: function() {
		this._purgeDirectorInNextLoop ? (this._purgeDirectorInNextLoop = !1, this.purgeDirector()) : this.invalid || this.drawScene()
	},
	stopAnimation: function() {
		this.invalid = !0
	},
	setAnimationInterval: function(a) {
		this._animationInterval = a;
		this.invalid || (this.stopAnimation(), this.startAnimation())
	}
});
cc.Director.sharedDirector = null;
cc.Director.firstUseDirector = !0;
cc.Director._getInstance = function() {
	cc.Director.firstUseDirector && (cc.Director.firstUseDirector = !1, cc.Director.sharedDirector = new cc.DisplayLinkDirector, cc.Director.sharedDirector.init());
	return cc.Director.sharedDirector
};
cc.defaultFPS = 60;
cc.Director.PROJECTION_2D = 0;
cc.Director.PROJECTION_3D = 1;
cc.Director.PROJECTION_CUSTOM = 3;
cc.Director.PROJECTION_DEFAULT = cc.Director.PROJECTION_3D;
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	if (cc._renderType === cc.game.RENDER_TYPE_CANVAS) {
		var a = cc.Director.prototype;
		a.getProjection = function(a) {
			return this._projection
		};
		a.setProjection = function(a) {
			this._projection = a;
			cc.eventManager.dispatchEvent(this._eventProjectionChanged)
		};
		a.setDepthTest = function() {};
		a.setClearColor = function(a) {
			cc.renderer._clearColor = a;
			cc.renderer._clearFillStyle = "rgb(" + a.r + "," + a.g + "," + a.b + ")"
		};
		a.setOpenGLView = function(a) {
			this._winSizeInPoints.width =
				cc._canvas.width;
			this._winSizeInPoints.height = cc._canvas.height;
			this._openGLView = a || cc.view;
			cc.eventManager && cc.eventManager.setEnabled(!0)
		};
		a.getVisibleSize = function() {
			return this.getWinSize()
		};
		a.getVisibleOrigin = function() {
			return cc.p(0, 0)
		}
	} else cc.Director._fpsImage = new Image, cc.Director._fpsImage.addEventListener("load", function() {
		cc.Director._fpsImageLoaded = !0
	}), cc._fpsImage && (cc.Director._fpsImage.src = cc._fpsImage)
});
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
		cc.DirectorDelegate = cc.Class.extend({
			updateProjection: function() {}
		});
		var a = cc.Director.prototype,
			b = function(a) {
				if (a && a._renderCmd) {
					a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty);
					var d = a._children;
					for (a = 0; a < d.length; a++) b(d[a])
				}
			};
		cc.eventManager.addCustomListener(cc.Director.EVENT_PROJECTION_CHANGED, function() {
			for (var a = cc.director._scenesStack, d = 0; d < a.length; d++) b(a[d])
		});
		a.setProjection = function(a) {
			var b = this._winSizeInPoints;
			this.setViewport();
			var e = this._openGLView,
				f = e._viewPortRect.x / e._scaleX,
				g = e._viewPortRect.y / e._scaleY;
			switch (a) {
				case cc.Director.PROJECTION_2D:
					cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);
					cc.kmGLLoadIdentity();
					e = cc.math.Matrix4.createOrthographicProjection(0, b.width, 0, b.height, -1024, 1024);
					cc.kmGLMultMatrix(e);
					cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);
					cc.kmGLLoadIdentity();
					break;
				case cc.Director.PROJECTION_3D:
					var h = this.getZEye(),
						k = new cc.math.Matrix4,
						e = new cc.math.Matrix4;
					cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);
					cc.kmGLLoadIdentity();
					k = cc.math.Matrix4.createPerspectiveProjection(60, b.width / b.height, 0.1, 2 * h);
					cc.kmGLMultMatrix(k);
					h = new cc.math.Vec3(-f + b.width / 2, -g + b.height / 2, h);
					b = new cc.math.Vec3(-f + b.width / 2, -g + b.height / 2, 0);
					f = new cc.math.Vec3(0, 1, 0);
					e.lookAt(h, b, f);
					cc.kmGLMultMatrix(e);
					cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);
					cc.kmGLLoadIdentity();
					break;
				case cc.Director.PROJECTION_CUSTOM:
					this._projectionDelegate && this._projectionDelegate.updateProjection();
					break;
				default:
					cc.log(cc._LogInfos.Director_setProjection)
			}
			this._projection = a;
			cc.eventManager.dispatchEvent(this._eventProjectionChanged);
			cc.setProjectionMatrixDirty();
			cc.renderer.childrenOrderDirty = !0
		};
		a.setDepthTest = function(a) {
			cc.renderer.setDepthTest(a)
		};
		a.setClearColor = function(a) {
			cc.renderer._clearColor = a
		};
		a.setOpenGLView = function(a) {
			this._winSizeInPoints.width = cc._canvas.width;
			this._winSizeInPoints.height = cc._canvas.height;
			this._openGLView = a || cc.view;
			a = cc.configuration;
			a.gatherGPUInfo();
			a.dumpInfo();
			this.setGLDefaultValues();
			cc.eventManager && cc.eventManager.setEnabled(!0)
		};
		a.getVisibleSize = function() {
			return this._openGLView.getVisibleSize()
		};
		a.getVisibleOrigin = function() {
			return this._openGLView.getVisibleOrigin()
		};
		a.getZEye = function() {
			return this._winSizeInPoints.height / 1.1546999375
		};
		a.setViewport = function() {
			var a = this._openGLView;
			if (a) {
				var b = this._winSizeInPoints;
				a.setViewPortInPoints(-a._viewPortRect.x / a._scaleX, -a._viewPortRect.y / a._scaleY, b.width, b.height)
			}
		};
		a.getOpenGLView = function() {
			return this._openGLView
		};
		a.getProjection = function() {
			return this._projection
		};
		a.setAlphaBlending = function(a) {
			a ? cc.glBlendFunc(cc.BLEND_SRC, cc.BLEND_DST) : cc.glBlendFunc(cc._renderContext.ONE, cc._renderContext.ZERO)
		};
		a.setGLDefaultValues = function() {
			this.setAlphaBlending(!0);
			this.setProjection(this._projection);
			cc._renderContext.clearColor(0, 0, 0, 0)
		}
	}
});
(function() {
	var a = function(a, b, c, d, e, f, g) {
			this.prev = a;
			this.next = b;
			this.callback = c;
			this.target = d;
			this.priority = e;
			this.paused = f;
			this.markedForDeletion = g
		},
		b = [];
	a.get = function(c, d, e, f, g, h, u) {
		var s = b.pop();
		s ? (s.prev = c, s.next = d, s.callback = e, s.target = f, s.priority = g, s.paused = h, s.markedForDeletion = u) : s = new a(c, d, e, f, g, h, u);
		return s
	};
	a.put = function(a) {
		a.prev = null;
		a.next = null;
		a.callback = null;
		a.target = null;
		a.priority = 0;
		a.paused = !1;
		a.markedForDeletion = !1;
		20 > b.length && b.push(a)
	};
	var c = function(a, b, c, d) {
			this.list =
				a;
			this.entry = b;
			this.target = c;
			this.callback = d
		},
		d = [];
	c.get = function(a, b, e, f) {
		var g = d.pop();
		g ? (g.list = a, g.entry = b, g.target = e, g.callback = f) : g = new c(a, b, e, f);
		return g
	};
	c.put = function(a) {
		a.list = null;
		a.entry = null;
		a.target = null;
		a.callback = null;
		20 > d.length && d.push(a)
	};
	var e = function(a, b, c, d, e, f) {
			this.timers = a;
			this.target = b;
			this.timerIndex = c;
			this.currentTimer = d;
			this.currentTimerSalvaged = e;
			this.paused = f
		},
		f = [];
	e.get = function(a, b, c, d, g, h) {
		var u = f.pop();
		u ? (u.timers = a, u.target = b, u.timerIndex = c, u.currentTimer = d,
			u.currentTimerSalvaged = g, u.paused = h) : u = new e(a, b, c, d, g, h);
		return u
	};
	e.put = function(a) {
		a.timers = null;
		a.target = null;
		a.timerIndex = 0;
		a.currentTimer = null;
		a.currentTimerSalvaged = !1;
		a.paused = !1;
		20 > f.length && f.push(a)
	};
	var g = function() {
		this._scheduler = null;
		this._elapsed = -1;
		this._useDelay = this._runForever = !1;
		this._interval = this._delay = this._repeat = this._timesExecuted = 0;
		this._key = this._callback = this._target = null
	};
	cc.inject({
		initWithCallback: function(a, b, c, d, e, f, g) {
			this._scheduler = a;
			this._target = c;
			this._callback =
				b;
			g && (this._key = g);
			this._elapsed = -1;
			this._interval = d;
			this._delay = f;
			this._useDelay = 0 < this._delay;
			this._repeat = e;
			this._runForever = this._repeat === cc.REPEAT_FOREVER;
			return !0
		},
		getInterval: function() {
			return this._interval
		},
		setInterval: function(a) {
			this._interval = a
		},
		update: function(a) {
			-1 === this._elapsed ? this._timesExecuted = this._elapsed = 0 : (this._elapsed += a, this._runForever && !this._useDelay ? this._elapsed >= this._interval && (this.trigger(), this._elapsed = 0) : (this._useDelay ? this._elapsed >= this._delay && (this.trigger(),
				this._elapsed -= this._delay, this._timesExecuted += 1, this._useDelay = !1) : this._elapsed >= this._interval && (this.trigger(), this._elapsed = 0, this._timesExecuted += 1), this._callback && !this._runForever && this._timesExecuted > this._repeat && this.cancel()))
		},
		getCallback: function() {
			return this._callback
		},
		getKey: function() {
			return this._key
		},
		trigger: function() {
			this._target && this._callback && this._callback.call(this._target, this._elapsed)
		},
		cancel: function() {
			this._scheduler.unschedule(this._callback, this._target)
		}
	}, g.prototype);
	var h = [];
	g.get = function() {
		return h.pop() || new g
	};
	g.put = function(a) {
		a._scheduler = null;
		a._elapsed = -1;
		a._runForever = !1;
		a._useDelay = !1;
		a._timesExecuted = 0;
		a._repeat = 0;
		a._delay = 0;
		a._interval = 0;
		a._target = null;
		a._callback = null;
		a._key = null;
		20 > h.length && h.push(a)
	};
	cc.Scheduler = cc.Class.extend({
		_timeScale: 1,
		_updatesNegList: null,
		_updates0List: null,
		_updatesPosList: null,
		_hashForTimers: null,
		_arrayForTimers: null,
		_hashForUpdates: null,
		_currentTarget: null,
		_currentTargetSalvaged: !1,
		_updateHashLocked: !1,
		ctor: function() {
			this._timeScale =
				1;
			this._updatesNegList = [];
			this._updates0List = [];
			this._updatesPosList = [];
			this._hashForUpdates = {};
			this._hashForTimers = {};
			this._currentTarget = null;
			this._updateHashLocked = this._currentTargetSalvaged = !1;
			this._arrayForTimers = []
		},
		_schedulePerFrame: function(a, b, c, d) {
			var e = this._hashForUpdates[b.__instanceId];
			if (e && e.entry)
				if (e.entry.priority !== c) {
					if (this._updateHashLocked) {
						cc.log("warning: you CANNOT change update priority in scheduled function");
						e.entry.markedForDeletion = !1;
						e.entry.paused = d;
						return
					}
					this.unscheduleUpdate(b)
				} else {
					e.entry.markedForDeletion = !1;
					e.entry.paused = d;
					return
				} 0 === c ? this._appendIn(this._updates0List, a, b, d) : 0 > c ? this._priorityIn(this._updatesNegList, a, b, c, d) : this._priorityIn(this._updatesPosList, a, b, c, d)
		},
		_removeHashElement: function(a) {
			delete this._hashForTimers[a.target.__instanceId];
			for (var b = this._arrayForTimers, c = 0, d = b.length; c < d; c++)
				if (b[c] === a) {
					b.splice(c, 1);
					break
				} e.put(a)
		},
		_removeUpdateFromHash: function(b) {
			if (b = this._hashForUpdates[b.target.__instanceId]) {
				for (var d = b.list, e = b.entry, f = 0, g = d.length; f < g; f++)
					if (d[f] === e) {
						d.splice(f,
							1);
						break
					} delete this._hashForUpdates[b.target.__instanceId];
				a.put(e);
				c.put(b)
			}
		},
		_priorityIn: function(b, d, e, f, g) {
			d = a.get(null, null, d, e, f, g, !1);
			if (b) {
				g = b.length - 1;
				for (var h = 0; h <= g && !(f < b[h].priority); h++);
				b.splice(h, 0, d)
			} else b = [], b.push(d);
			this._hashForUpdates[e.__instanceId] = c.get(b, d, e, null);
			return b
		},
		_appendIn: function(b, d, e, f) {
			d = a.get(null, null, d, e, 0, f, !1);
			b.push(d);
			this._hashForUpdates[e.__instanceId] = c.get(b, d, e, null, null)
		},
		setTimeScale: function(a) {
			this._timeScale = a
		},
		getTimeScale: function() {
			return this._timeScale
		},
		update: function(a) {
			this._updateHashLocked = !0;
			1 !== this._timeScale && (a *= this._timeScale);
			var b, c, d, e;
			b = 0;
			c = this._updatesNegList;
			for (d = c.length; b < d; b++) e = c[b], e.paused || e.markedForDeletion || e.callback(a);
			b = 0;
			c = this._updates0List;
			for (d = c.length; b < d; b++) e = c[b], e.paused || e.markedForDeletion || e.callback(a);
			b = 0;
			c = this._updatesPosList;
			for (d = c.length; b < d; b++) e = c[b], e.paused || e.markedForDeletion || e.callback(a);
			d = this._arrayForTimers;
			for (b = 0; b < d.length; b++) {
				this._currentTarget = c = d[b];
				this._currentTargetSalvaged = !1;
				if (!c.paused)
					for (c.timerIndex = 0; c.timerIndex < c.timers.length; ++c.timerIndex) c.currentTimer = c.timers[c.timerIndex], c.currentTimerSalvaged = !1, c.currentTimer.update(a), c.currentTimer = null;
				this._currentTargetSalvaged && 0 === this._currentTarget.timers.length && this._removeHashElement(this._currentTarget)
			}
			b = 0;
			for (c = this._updatesNegList; b < c.length;) e = c[b], e.markedForDeletion ? this._removeUpdateFromHash(e) : b++;
			b = 0;
			for (c = this._updates0List; b < c.length;) e = c[b], e.markedForDeletion ? this._removeUpdateFromHash(e) :
				b++;
			b = 0;
			for (c = this._updatesPosList; b < c.length;) e = c[b], e.markedForDeletion ? this._removeUpdateFromHash(e) : b++;
			this._updateHashLocked = !1;
			this._currentTarget = null
		},
		scheduleCallbackForTarget: function(a, b, c, d, e, f) {
			this.schedule(b, a, c, d, e, f, a.__instanceId + "")
		},
		schedule: function(a, b, c, d, f, h, u) {
			if ("function" !== typeof a) {
				var s = a;
				a = b;
				b = s
			}
			if (4 === arguments.length || 5 === arguments.length) u = f, h = d, d = cc.REPEAT_FOREVER, f = 0;
			void 0 === u && (u = b.__instanceId + "");
			cc.assert(b, cc._LogInfos.Scheduler_scheduleCallbackForTarget_3);
			(s = this._hashForTimers[b.__instanceId]) ? cc.assert(s.paused === h, ""): (s = e.get(null, b, 0, null, null, h), this._arrayForTimers.push(s), this._hashForTimers[b.__instanceId] = s);
			var w, v;
			if (null == s.timers) s.timers = [];
			else
				for (v = 0; v < s.timers.length; v++)
					if (w = s.timers[v], a === w._callback) {
						cc.log(cc._LogInfos.Scheduler_scheduleCallbackForTarget, w.getInterval().toFixed(4), c.toFixed(4));
						w._interval = c;
						return
					} w = g.get();
			w.initWithCallback(this, a, b, c, d, f, u);
			s.timers.push(w)
		},
		scheduleUpdate: function(a, b, c) {
			this._schedulePerFrame(function(b) {
					a.update(b)
				},
				a, b, c)
		},
		_getUnscheduleMark: function(a, b) {
			switch (typeof a) {
				case "number":
				case "string":
					return a === b._key;
				case "function":
					return a === b._callback
			}
		},
		unschedule: function(a, b) {
			if (b && a) {
				var c = this._hashForTimers[b.__instanceId];
				if (c)
					for (var d = c.timers, e = 0, f = d.length; e < f; e++) {
						var h = d[e];
						if (this._getUnscheduleMark(a, h)) {
							h !== c.currentTimer || c.currentTimerSalvaged || (c.currentTimerSalvaged = !0);
							d.splice(e, 1);
							g.put(h);
							c.timerIndex >= e && c.timerIndex--;
							0 === d.length && (this._currentTarget === c ? this._currentTargetSalvaged = !0 : this._removeHashElement(c));
							break
						}
					}
			}
		},
		unscheduleUpdate: function(a) {
			a && (a = this._hashForUpdates[a.__instanceId]) && (this._updateHashLocked ? a.entry.markedForDeletion = !0 : this._removeUpdateFromHash(a.entry))
		},
		unscheduleAllForTarget: function(a) {
			if (a) {
				var b = this._hashForTimers[a.__instanceId];
				if (b) {
					var c = b.timers; - 1 < c.indexOf(b.currentTimer) && !b.currentTimerSalvaged && (b.currentTimerSalvaged = !0);
					for (var d = 0, e = c.length; d < e; d++) g.put(c[d]);
					c.length = 0;
					this._currentTarget === b ? this._currentTargetSalvaged = !0 :
						this._removeHashElement(b)
				}
				this.unscheduleUpdate(a)
			}
		},
		unscheduleAll: function() {
			this.unscheduleAllWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)
		},
		unscheduleAllWithMinPriority: function(a) {
			var b, c, d = this._arrayForTimers;
			for (b = d.length - 1; 0 <= b; b--) c = d[b], this.unscheduleAllForTarget(c.target);
			d = 0;
			if (0 > a)
				for (b = 0; b < this._updatesNegList.length;) d = this._updatesNegList.length, (c = this._updatesNegList[b]) && c.priority >= a && this.unscheduleUpdate(c.target), d == this._updatesNegList.length && b++;
			if (0 >= a)
				for (b = 0; b < this._updates0List.length;) d =
					this._updates0List.length, (c = this._updates0List[b]) && this.unscheduleUpdate(c.target), d == this._updates0List.length && b++;
			for (b = 0; b < this._updatesPosList.length;) d = this._updatesPosList.length, (c = this._updatesPosList[b]) && c.priority >= a && this.unscheduleUpdate(c.target), d == this._updatesPosList.length && b++
		},
		isScheduled: function(a, b) {
			cc.assert(a, "Argument callback must not be empty");
			cc.assert(b, "Argument target must be non-nullptr");
			var c = this._hashForTimers[b.__instanceId];
			if (!c) return !1;
			if (null != c.timers)
				for (var c =
						c.timers, d = 0; d < c.length; ++d)
					if (a === c[d]._callback) return !0;
			return !1
		},
		pauseAllTargets: function() {
			return this.pauseAllTargetsWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)
		},
		pauseAllTargetsWithMinPriority: function(a) {
			var b = [],
				c, d = this._arrayForTimers,
				e, f;
			e = 0;
			for (f = d.length; e < f; e++)
				if (c = d[e]) c.paused = !0, b.push(c.target);
			if (0 > a)
				for (e = 0; e < this._updatesNegList.length; e++)(c = this._updatesNegList[e]) && c.priority >= a && (c.paused = !0, b.push(c.target));
			if (0 >= a)
				for (e = 0; e < this._updates0List.length; e++)
					if (c = this._updates0List[e]) c.paused = !0, b.push(c.target);
			for (e = 0; e < this._updatesPosList.length; e++)(c = this._updatesPosList[e]) && c.priority >= a && (c.paused = !0, b.push(c.target));
			return b
		},
		resumeTargets: function(a) {
			if (a)
				for (var b = 0; b < a.length; b++) this.resumeTarget(a[b])
		},
		pauseTarget: function(a) {
			cc.assert(a, cc._LogInfos.Scheduler_pauseTarget);
			var b = this._hashForTimers[a.__instanceId];
			b && (b.paused = !0);
			(a = this._hashForUpdates[a.__instanceId]) && (a.entry.paused = !0)
		},
		resumeTarget: function(a) {
			cc.assert(a, cc._LogInfos.Scheduler_resumeTarget);
			var b =
				this._hashForTimers[a.__instanceId];
			b && (b.paused = !1);
			(a = this._hashForUpdates[a.__instanceId]) && (a.entry.paused = !1)
		},
		isTargetPaused: function(a) {
			cc.assert(a, cc._LogInfos.Scheduler_isTargetPaused);
			var b = this._hashForTimers[a.__instanceId];
			return b ? b.paused : (a = this._hashForUpdates[a.__instanceId]) ? a.entry.paused : !1
		},
		scheduleUpdateForTarget: function(a, b, c) {
			this.scheduleUpdate(a, b, c)
		},
		unscheduleCallbackForTarget: function(a, b) {
			this.unschedule(b, a)
		},
		unscheduleUpdateForTarget: function(a) {
			this.unscheduleUpdate(a)
		},
		unscheduleAllCallbacksForTarget: function(a) {
			this.unschedule(a.__instanceId + "", a)
		},
		unscheduleAllCallbacks: function() {
			this.unscheduleAllWithMinPriority(cc.Scheduler.PRIORITY_SYSTEM)
		},
		unscheduleAllCallbacksWithMinPriority: function(a) {
			this.unscheduleAllWithMinPriority(a)
		}
	});
	cc.Scheduler.PRIORITY_SYSTEM = -2147483648;
	cc.Scheduler.PRIORITY_NON_SYSTEM = cc.Scheduler.PRIORITY_SYSTEM + 1
})();
cc.PI2 = 2 * Math.PI;
cc.DrawingPrimitiveCanvas = cc.Class.extend({
	_cacheArray: [],
	_renderContext: null,
	ctor: function(a) {
		this._renderContext = a
	},
	drawPoint: function(a, b) {
		b || (b = 1);
		var c = cc.view.getScaleX(),
			d = cc.view.getScaleY(),
			d = cc.p(a.x * c, a.y * d),
			e = this._renderContext.getContext();
		e.beginPath();
		e.arc(d.x, -d.y, b * c, 0, 2 * Math.PI, !1);
		e.closePath();
		e.fill()
	},
	drawPoints: function(a, b, c) {
		if (null != a) {
			c || (c = 1);
			b = this._renderContext.getContext();
			var d = cc.view.getScaleX(),
				e = cc.view.getScaleY();
			b.beginPath();
			for (var f = 0, g = a.length; f < g; f++) b.arc(a[f].x *
				d, -a[f].y * e, c * d, 0, 2 * Math.PI, !1);
			b.closePath();
			b.fill()
		}
	},
	drawLine: function(a, b) {
		var c = this._renderContext.getContext();
		cc.view.getScaleX();
		cc.view.getScaleY();
		c.beginPath();
		c.moveTo(a.x, -a.y);
		c.lineTo(b.x, -b.y);
		c.closePath();
		c.stroke()
	},
	drawRect: function(a, b) {
		this.drawLine(cc.p(a.x, a.y), cc.p(b.x, a.y));
		this.drawLine(cc.p(b.x, a.y), cc.p(b.x, b.y));
		this.drawLine(cc.p(b.x, b.y), cc.p(a.x, b.y));
		this.drawLine(cc.p(a.x, b.y), cc.p(a.x, a.y))
	},
	drawSolidRect: function(a, b, c) {
		a = [a, cc.p(b.x, a.y), b, cc.p(a.x, b.y)];
		this.drawSolidPoly(a,
			4, c)
	},
	drawPoly: function(a, b, c, d) {
		d = d || !1;
		if (null != a) {
			if (3 > a.length) throw Error("Polygon's point must greater than 2");
			var e = a[0];
			b = this._renderContext.getContext();
			cc.view.getScaleX();
			cc.view.getScaleY();
			b.beginPath();
			b.moveTo(e.x, -e.y);
			for (var e = 1, f = a.length; e < f; e++) b.lineTo(a[e].x, -a[e].y);
			c && b.closePath();
			d ? b.fill() : b.stroke()
		}
	},
	drawSolidPoly: function(a, b, c) {
		this.setDrawColor(c.r, c.g, c.b, c.a);
		this.drawPoly(a, b, !0, !0)
	},
	drawCircle: function(a, b, c, d, e) {
		e = e || !1;
		d = this._renderContext.getContext();
		cc.view.getScaleX();
		cc.view.getScaleY();
		d.beginPath();
		d.arc(0 | a.x, 0 | -a.y, b, -c, -(c - 2 * Math.PI), !1);
		e && d.lineTo(0 | a.x, 0 | -a.y);
		d.stroke()
	},
	drawQuadBezier: function(a, b, c, d) {
		for (var e = this._cacheArray, f = e.length = 0, g = 0; g < d; g++) {
			var h = Math.pow(1 - f, 2) * a.x + 2 * (1 - f) * f * b.x + f * f * c.x,
				k = Math.pow(1 - f, 2) * a.y + 2 * (1 - f) * f * b.y + f * f * c.y;
			e.push(cc.p(h, k));
			f += 1 / d
		}
		e.push(cc.p(c.x, c.y));
		this.drawPoly(e, d + 1, !1, !1)
	},
	drawCubicBezier: function(a, b, c, d, e) {
		for (var f = this._cacheArray, g = f.length = 0, h = 0; h < e; h++) {
			var k = Math.pow(1 - g, 3) * a.x + 3 * Math.pow(1 - g, 2) *
				g * b.x + 3 * (1 - g) * g * g * c.x + g * g * g * d.x,
				m = Math.pow(1 - g, 3) * a.y + 3 * Math.pow(1 - g, 2) * g * b.y + 3 * (1 - g) * g * g * c.y + g * g * g * d.y;
			f.push(cc.p(k, m));
			g += 1 / e
		}
		f.push(cc.p(d.x, d.y));
		this.drawPoly(f, e + 1, !1, !1)
	},
	drawCatmullRom: function(a, b) {
		this.drawCardinalSpline(a, 0.5, b)
	},
	drawCardinalSpline: function(a, b, c) {
		cc._renderContext.setStrokeStyle("rgba(255,255,255,1)");
		var d = this._cacheArray;
		d.length = 0;
		for (var e, f, g = 1 / a.length, h = 0; h < c + 1; h++) f = h / c, 1 === f ? (e = a.length - 1, f = 1) : (e = 0 | f / g, f = (f - g * e) / g), e = cc.CardinalSplineAt(cc.getControlPointAt(a,
			e - 1), cc.getControlPointAt(a, e - 0), cc.getControlPointAt(a, e + 1), cc.getControlPointAt(a, e + 2), b, f), d.push(e);
		this.drawPoly(d, c + 1, !1, !1)
	},
	drawImage: function(a, b, c, d, e) {
		var f = arguments.length,
			g = this._renderContext.getContext();
		switch (f) {
			case 2:
				g.drawImage(a, b.x, -(b.y + a.height));
				break;
			case 3:
				g.drawImage(a, b.x, -(b.y + c.height), c.width, c.height);
				break;
			case 5:
				g.drawImage(a, b.x, b.y, c.width, c.height, d.x, -(d.y + e.height), e.width, e.height);
				break;
			default:
				throw Error("Argument must be non-nil");
		}
	},
	drawStar: function(a,
		b, c) {
		a = a || this._renderContext;
		var d = a.getContext();
		c = "rgba(" + (0 | c.r) + "," + (0 | c.g) + "," + (0 | c.b);
		a.setFillStyle(c + ",1)");
		var e = b / 10;
		d.beginPath();
		d.moveTo(-b, b);
		d.lineTo(0, e);
		d.lineTo(b, b);
		d.lineTo(e, 0);
		d.lineTo(b, -b);
		d.lineTo(0, -e);
		d.lineTo(-b, -b);
		d.lineTo(-e, 0);
		d.lineTo(-b, b);
		d.closePath();
		d.fill();
		var f = d.createRadialGradient(0, 0, e, 0, 0, b);
		f.addColorStop(0, c + ", 1)");
		f.addColorStop(0.3, c + ", 0.8)");
		f.addColorStop(1, c + ", 0.0)");
		a.setFillStyle(f);
		d.beginPath();
		d.arc(0, 0, b - e, 0, cc.PI2, !1);
		d.closePath();
		d.fill()
	},
	drawColorBall: function(a, b, c) {
		a = a || this._renderContext;
		var d = a.getContext();
		b *= cc.view.getScaleX();
		c = "rgba(" + (0 | c.r) + "," + (0 | c.g) + "," + (0 | c.b);
		var e = d.createRadialGradient(0, 0, b / 10, 0, 0, b);
		e.addColorStop(0, c + ", 1)");
		e.addColorStop(0.3, c + ", 0.8)");
		e.addColorStop(0.6, c + ", 0.4)");
		e.addColorStop(1, c + ", 0.0)");
		a.setFillStyle(e);
		d.beginPath();
		d.arc(0, 0, b, 0, cc.PI2, !1);
		d.closePath();
		d.fill()
	},
	fillText: function(a, b, c) {
		this._renderContext.getContext().fillText(a, b, -c)
	},
	setDrawColor: function(a, b, c, d) {
		this._renderContext.setFillStyle("rgba(" +
			a + "," + b + "," + c + "," + d / 255 + ")");
		this._renderContext.setStrokeStyle("rgba(" + a + "," + b + "," + c + "," + d / 255 + ")")
	},
	setPointSize: function(a) {},
	setLineWidth: function(a) {
		this._renderContext.getContext().lineWidth = a * cc.view.getScaleX()
	}
});
cc.DrawingPrimitiveWebGL = cc.Class.extend({
	_renderContext: null,
	_initialized: !1,
	_shader: null,
	_colorLocation: "u_color",
	_colorArray: null,
	_pointSizeLocation: "u_pointSize",
	_pointSize: -1,
	ctor: function(a) {
		null == a && (a = cc._renderContext);
		if (!a instanceof WebGLRenderingContext) throw Error("Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext");
		this._renderContext = a;
		this._colorArray = new Float32Array([1, 1, 1, 1])
	},
	lazy_init: function() {
		this._initialized || (this._shader = cc.shaderCache.programForKey(cc.SHADER_POSITION_UCOLOR),
			this._shader._addUniformLocation(this._colorLocation), this._shader._addUniformLocation(this._pointSizeLocation), this._glProgramState = cc.GLProgramState.getOrCreateWithGLProgram(this._shader), this._initialized = !0)
	},
	drawInit: function() {
		this._initialized = !1
	},
	drawPoint: function(a) {
		this.lazy_init();
		var b = this._renderContext;
		this._glProgramState.apply();
		this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
		b.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		this._shader.setUniformLocationWith4fv(this._colorLocation,
			this._colorArray);
		this._shader.setUniformLocationWith1f(this._pointSizeLocation, this._pointSize);
		var c = b.createBuffer();
		b.bindBuffer(b.ARRAY_BUFFER, c);
		b.bufferData(b.ARRAY_BUFFER, new Float32Array([a.x, a.y]), b.STATIC_DRAW);
		b.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, b.FLOAT, !1, 0, 0);
		b.drawArrays(b.POINTS, 0, 1);
		b.deleteBuffer(c);
		cc.incrementGLDraws(1)
	},
	drawPoints: function(a, b) {
		if (a && 0 !== a.length) {
			this.lazy_init();
			var c = this._renderContext;
			this._glProgramState.apply();
			this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
			c.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
			this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
			this._shader.setUniformLocationWith1f(this._pointSizeLocation, this._pointSize);
			var d = c.createBuffer();
			c.bindBuffer(c.ARRAY_BUFFER, d);
			c.bufferData(c.ARRAY_BUFFER, this._pointsToTypeArray(a), c.STATIC_DRAW);
			c.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, c.FLOAT, !1, 0, 0);
			c.drawArrays(c.POINTS, 0, a.length);
			c.deleteBuffer(d);
			cc.incrementGLDraws(1)
		}
	},
	_pointsToTypeArray: function(a) {
		for (var b =
				new Float32Array(2 * a.length), c = 0; c < a.length; c++) b[2 * c] = a[c].x, b[2 * c + 1] = a[c].y;
		return b
	},
	drawLine: function(a, b) {
		this.lazy_init();
		var c = this._renderContext;
		this._glProgramState.apply();
		this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
		c.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
		var d = c.createBuffer();
		c.bindBuffer(c.ARRAY_BUFFER, d);
		c.bufferData(c.ARRAY_BUFFER, this._pointsToTypeArray([a, b]), c.STATIC_DRAW);
		c.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, c.FLOAT, !1, 0, 0);
		c.drawArrays(c.LINES, 0, 2);
		c.deleteBuffer(d);
		cc.incrementGLDraws(1)
	},
	drawRect: function(a, b) {
		this.drawLine(cc.p(a.x, a.y), cc.p(b.x, a.y));
		this.drawLine(cc.p(b.x, a.y), cc.p(b.x, b.y));
		this.drawLine(cc.p(b.x, b.y), cc.p(a.x, b.y));
		this.drawLine(cc.p(a.x, b.y), cc.p(a.x, a.y))
	},
	drawSolidRect: function(a, b, c) {
		a = [a, cc.p(b.x, a.y), b, cc.p(a.x, b.y)];
		this.drawSolidPoly(a, 4, c)
	},
	drawPoly: function(a, b, c) {
		this.lazy_init();
		b = this._renderContext;
		this._glProgramState.apply();
		this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
		b.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
		var d = b.createBuffer();
		b.bindBuffer(b.ARRAY_BUFFER, d);
		b.bufferData(b.ARRAY_BUFFER, this._pointsToTypeArray(a), b.STATIC_DRAW);
		b.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, b.FLOAT, !1, 0, 0);
		c ? b.drawArrays(b.LINE_LOOP, 0, a.length) : b.drawArrays(b.LINE_STRIP, 0, a.length);
		b.deleteBuffer(d);
		cc.incrementGLDraws(1)
	},
	drawSolidPoly: function(a, b, c) {
		this.lazy_init();
		c && this.setDrawColor(c.r, c.g, c.b, c.a);
		b = this._renderContext;
		this._glProgramState.apply();
		this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
		b.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
		c = b.createBuffer();
		b.bindBuffer(b.ARRAY_BUFFER, c);
		b.bufferData(b.ARRAY_BUFFER, this._pointsToTypeArray(a), b.STATIC_DRAW);
		b.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2,
			b.FLOAT, !1, 0, 0);
		b.drawArrays(b.TRIANGLE_FAN, 0, a.length);
		b.deleteBuffer(c);
		cc.incrementGLDraws(1)
	},
	drawCircle: function(a, b, c, d, e) {
		this.lazy_init();
		var f = 1;
		e && f++;
		var g = 2 * Math.PI / d;
		if (e = new Float32Array(2 * (d + 2))) {
			for (var h = 0; h <= d; h++) {
				var k = h * g,
					m = b * Math.cos(k + c) + a.x,
					k = b * Math.sin(k + c) + a.y;
				e[2 * h] = m;
				e[2 * h + 1] = k
			}
			e[2 * (d + 1)] = a.x;
			e[2 * (d + 1) + 1] = a.y;
			a = this._renderContext;
			this._glProgramState.apply();
			this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
			a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
			this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
			b = a.createBuffer();
			a.bindBuffer(a.ARRAY_BUFFER, b);
			a.bufferData(a.ARRAY_BUFFER, e, a.STATIC_DRAW);
			a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, a.FLOAT, !1, 0, 0);
			a.drawArrays(a.LINE_STRIP, 0, d + f);
			a.deleteBuffer(b);
			cc.incrementGLDraws(1)
		}
	},
	drawQuadBezier: function(a, b, c, d) {
		this.lazy_init();
		for (var e = new Float32Array(2 * (d + 1)), f = 0, g = 0; g < d; g++) e[2 * g] = Math.pow(1 - f, 2) * a.x + 2 * (1 - f) * f * b.x + f * f * c.x, e[2 * g + 1] = Math.pow(1 - f, 2) * a.y + 2 * (1 - f) *
			f * b.y + f * f * c.y, f += 1 / d;
		e[2 * d] = c.x;
		e[2 * d + 1] = c.y;
		a = this._renderContext;
		this._glProgramState.apply();
		this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
		b = a.createBuffer();
		a.bindBuffer(a.ARRAY_BUFFER, b);
		a.bufferData(a.ARRAY_BUFFER, e, a.STATIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, a.FLOAT, !1, 0, 0);
		a.drawArrays(a.LINE_STRIP, 0, d + 1);
		a.deleteBuffer(b);
		cc.incrementGLDraws(1)
	},
	drawCubicBezier: function(a, b, c, d, e) {
		this.lazy_init();
		for (var f = new Float32Array(2 * (e + 1)), g = 0, h = 0; h < e; h++) f[2 * h] = Math.pow(1 - g, 3) * a.x + 3 * Math.pow(1 - g, 2) * g * b.x + 3 * (1 - g) * g * g * c.x + g * g * g * d.x, f[2 * h + 1] = Math.pow(1 - g, 3) * a.y + 3 * Math.pow(1 - g, 2) * g * b.y + 3 * (1 - g) * g * g * c.y + g * g * g * d.y, g += 1 / e;
		f[2 * e] = d.x;
		f[2 * e + 1] = d.y;
		a = this._renderContext;
		this._glProgramState.apply();
		this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		this._shader.setUniformLocationWith4fv(this._colorLocation,
			this._colorArray);
		b = a.createBuffer();
		a.bindBuffer(a.ARRAY_BUFFER, b);
		a.bufferData(a.ARRAY_BUFFER, f, a.STATIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, a.FLOAT, !1, 0, 0);
		a.drawArrays(a.LINE_STRIP, 0, e + 1);
		a.deleteBuffer(b);
		cc.incrementGLDraws(1)
	},
	drawCatmullRom: function(a, b) {
		this.drawCardinalSpline(a, 0.5, b)
	},
	drawCardinalSpline: function(a, b, c) {
		this.lazy_init();
		for (var d = new Float32Array(2 * (c + 1)), e, f, g = 1 / a.length, h = 0; h < c + 1; h++) f = h / c, 1 === f ? (e = a.length - 1, f = 1) : (e = 0 | f / g, f = (f - g * e) / g), e = cc.cardinalSplineAt(cc.getControlPointAt(a,
			e - 1), cc.getControlPointAt(a, e), cc.getControlPointAt(a, e + 1), cc.getControlPointAt(a, e + 2), b, f), d[2 * h] = e.x, d[2 * h + 1] = e.y;
		a = this._renderContext;
		this._glProgramState.apply();
		this._shader.setUniformForModelViewAndProjectionMatrixWithMat4();
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		this._shader.setUniformLocationWith4fv(this._colorLocation, this._colorArray);
		b = a.createBuffer();
		a.bindBuffer(a.ARRAY_BUFFER, b);
		a.bufferData(a.ARRAY_BUFFER, d, a.STATIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION,
			2, a.FLOAT, !1, 0, 0);
		a.drawArrays(a.LINE_STRIP, 0, c + 1);
		a.deleteBuffer(b);
		cc.incrementGLDraws(1)
	},
	setDrawColor: function(a, b, c, d) {
		this._colorArray[0] = a / 255;
		this._colorArray[1] = b / 255;
		this._colorArray[2] = c / 255;
		this._colorArray[3] = d / 255
	},
	setPointSize: function(a) {
		this._pointSize = a * cc.contentScaleFactor()
	},
	setLineWidth: function(a) {
		this._renderContext.lineWidth && this._renderContext.lineWidth(a)
	}
});
cc._tmp.PrototypeLabelTTF = function() {
	var a = cc.LabelTTF.prototype;
	cc.defineGetterSetter(a, "color", a.getColor, a.setColor);
	cc.defineGetterSetter(a, "opacity", a.getOpacity, a.setOpacity);
	cc.defineGetterSetter(a, "string", a.getString, a.setString);
	cc.defineGetterSetter(a, "textAlign", a.getHorizontalAlignment, a.setHorizontalAlignment);
	cc.defineGetterSetter(a, "verticalAlign", a.getVerticalAlignment, a.setVerticalAlignment);
	cc.defineGetterSetter(a, "fontSize", a.getFontSize, a.setFontSize);
	cc.defineGetterSetter(a,
		"fontName", a.getFontName, a.setFontName);
	cc.defineGetterSetter(a, "font", a._getFont, a._setFont);
	cc.defineGetterSetter(a, "boundingWidth", a._getBoundingWidth, a._setBoundingWidth);
	cc.defineGetterSetter(a, "boundingHeight", a._getBoundingHeight, a._setBoundingHeight);
	cc.defineGetterSetter(a, "fillStyle", a._getFillStyle, a.setFontFillColor);
	cc.defineGetterSetter(a, "strokeStyle", a._getStrokeStyle, a._setStrokeStyle);
	cc.defineGetterSetter(a, "lineWidth", a._getLineWidth, a._setLineWidth);
	cc.defineGetterSetter(a, "shadowOffsetX",
		a._getShadowOffsetX, a._setShadowOffsetX);
	cc.defineGetterSetter(a, "shadowOffsetY", a._getShadowOffsetY, a._setShadowOffsetY);
	cc.defineGetterSetter(a, "shadowOpacity", a._getShadowOpacity, a._setShadowOpacity);
	cc.defineGetterSetter(a, "shadowBlur", a._getShadowBlur, a._setShadowBlur)
};
cc.LabelTTF = cc.Sprite.extend({
	_dimensions: null,
	_hAlignment: cc.TEXT_ALIGNMENT_CENTER,
	_vAlignment: cc.VERTICAL_TEXT_ALIGNMENT_TOP,
	_fontName: null,
	_fontSize: 0,
	_string: "",
	_originalText: null,
	_onCacheCanvasMode: !0,
	_shadowEnabled: !1,
	_shadowOffset: null,
	_shadowOpacity: 0,
	_shadowBlur: 0,
	_shadowColor: null,
	_strokeEnabled: !1,
	_strokeColor: null,
	_strokeSize: 0,
	_textFillColor: null,
	_strokeShadowOffsetX: 0,
	_strokeShadowOffsetY: 0,
	_needUpdateTexture: !1,
	_lineWidths: null,
	_className: "LabelTTF",
	_fontStyle: "normal",
	_fontWeight: "normal",
	_lineHeight: "normal",
	initWithString: function(a, b, c, d, e, f) {
		a = a ? a + "" : "";
		c = c || 16;
		d = d || cc.size(0, 0);
		e = e || cc.TEXT_ALIGNMENT_LEFT;
		f = f || cc.VERTICAL_TEXT_ALIGNMENT_TOP;
		this._opacityModifyRGB = !1;
		this._dimensions = cc.size(d.width, d.height);
		this._fontName = b || "Arial";
		this._hAlignment = e;
		this._vAlignment = f;
		this._fontSize = c;
		this._renderCmd._setFontStyle(this._fontName, c, this._fontStyle, this._fontWeight);
		this.string = a;
		this._renderCmd._setColorsString();
		this._renderCmd._updateTexture();
		this._setUpdateTextureDirty();
		this._scaleX = this._scaleY = 1 / cc.view.getDevicePixelRatio();
		return !0
	},
	_setUpdateTextureDirty: function() {
		this._needUpdateTexture = !0;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.textDirty)
	},
	ctor: function(a, b, c, d, e, f) {
		cc.Sprite.prototype.ctor.call(this);
		this._dimensions = cc.size(0, 0);
		this._hAlignment = cc.TEXT_ALIGNMENT_LEFT;
		this._vAlignment = cc.VERTICAL_TEXT_ALIGNMENT_TOP;
		this._opacityModifyRGB = !1;
		this._fontName = "Arial";
		this._shadowEnabled = !1;
		this._shadowOffset = cc.p(0, 0);
		this._shadowBlur = this._shadowOpacity =
			0;
		this._strokeEnabled = !1;
		this._strokeColor = cc.color(255, 255, 255, 255);
		this._strokeSize = 0;
		this._textFillColor = cc.color(255, 255, 255, 255);
		this._strokeShadowOffsetY = this._strokeShadowOffsetX = 0;
		this._needUpdateTexture = !1;
		this._lineWidths = [];
		this._renderCmd._setColorsString();
		this._textureLoaded = !0;
		b && b instanceof cc.FontDefinition ? this.initWithStringAndTextDefinition(a, b) : cc.LabelTTF.prototype.initWithString.call(this, a, b, c, d, e, f)
	},
	init: function() {
		return this.initWithString(" ", this._fontName, this._fontSize)
	},
	description: function() {
		return "\x3ccc.LabelTTF | FontName \x3d" + this._fontName + " FontSize \x3d " + this._fontSize.toFixed(1) + "\x3e"
	},
	getLineHeight: function() {
		return !this._lineHeight || this._lineHeight.charAt ? this._renderCmd._getFontClientHeight() : this._lineHeight || this._renderCmd._getFontClientHeight()
	},
	setLineHeight: function(a) {
		this._lineHeight = a
	},
	getString: function() {
		return this._string
	},
	getHorizontalAlignment: function() {
		return this._hAlignment
	},
	getVerticalAlignment: function() {
		return this._vAlignment
	},
	getDimensions: function() {
		return cc.size(this._dimensions)
	},
	getFontSize: function() {
		return this._fontSize
	},
	getFontName: function() {
		return this._fontName
	},
	initWithStringAndTextDefinition: function(a, b) {
		this._updateWithTextDefinition(b, !1);
		this.string = a;
		return !0
	},
	setTextDefinition: function(a) {
		a && this._updateWithTextDefinition(a, !0)
	},
	getTextDefinition: function() {
		return this._prepareTextDefinition(!1)
	},
	enableShadow: function(a, b, c, d) {
		null != a.r && null != a.g && null != a.b && null != a.a ? this._enableShadow(a, b, c) : this._enableShadowNoneColor(a,
			b, c, d)
	},
	_enableShadowNoneColor: function(a, b, c, d) {
		c = c || 0.5;
		!1 === this._shadowEnabled && (this._shadowEnabled = !0);
		var e = this._shadowOffset;
		if (e && e.x !== a || e._y !== b) e.x = a, e.y = b;
		this._shadowOpacity !== c && (this._shadowOpacity = c);
		this._renderCmd._setColorsString();
		this._shadowBlur !== d && (this._shadowBlur = d);
		this._setUpdateTextureDirty()
	},
	_enableShadow: function(a, b, c) {
		this._shadowColor || (this._shadowColor = cc.color(255, 255, 255, 128));
		this._shadowColor.r = a.r;
		this._shadowColor.g = a.g;
		this._shadowColor.b = a.b;
		this._enableShadowNoneColor(b.width ||
			b.x || 0, b.height || b.y || 0, null != a.a ? a.a / 255 : 0.5, c)
	},
	_getShadowOffsetX: function() {
		return this._shadowOffset.x
	},
	_setShadowOffsetX: function(a) {
		!1 === this._shadowEnabled && (this._shadowEnabled = !0);
		this._shadowOffset.x !== a && (this._shadowOffset.x = a, this._setUpdateTextureDirty())
	},
	_getShadowOffsetY: function() {
		return this._shadowOffset._y
	},
	_setShadowOffsetY: function(a) {
		!1 === this._shadowEnabled && (this._shadowEnabled = !0);
		this._shadowOffset._y !== a && (this._shadowOffset._y = a, this._setUpdateTextureDirty())
	},
	_getShadowOffset: function() {
		return cc.p(this._shadowOffset.x,
			this._shadowOffset.y)
	},
	_setShadowOffset: function(a) {
		!1 === this._shadowEnabled && (this._shadowEnabled = !0);
		if (this._shadowOffset.x !== a.x || this._shadowOffset.y !== a.y) this._shadowOffset.x = a.x, this._shadowOffset.y = a.y, this._setUpdateTextureDirty()
	},
	_getShadowOpacity: function() {
		return this._shadowOpacity
	},
	_setShadowOpacity: function(a) {
		!1 === this._shadowEnabled && (this._shadowEnabled = !0);
		this._shadowOpacity !== a && (this._shadowOpacity = a, this._renderCmd._setColorsString(), this._setUpdateTextureDirty())
	},
	_getShadowBlur: function() {
		return this._shadowBlur
	},
	_setShadowBlur: function(a) {
		!1 === this._shadowEnabled && (this._shadowEnabled = !0);
		this._shadowBlur !== a && (this._shadowBlur = a, this._setUpdateTextureDirty())
	},
	disableShadow: function() {
		this._shadowEnabled && (this._shadowEnabled = !1, this._setUpdateTextureDirty())
	},
	enableStroke: function(a, b) {
		!1 === this._strokeEnabled && (this._strokeEnabled = !0);
		var c = this._strokeColor;
		if (c.r !== a.r || c.g !== a.g || c.b !== a.b) c.r = a.r, c.g = a.g, c.b = a.b, this._renderCmd._setColorsString();
		this._strokeSize !== b && (this._strokeSize = b || 0);
		this._setUpdateTextureDirty()
	},
	_getStrokeStyle: function() {
		return this._strokeColor
	},
	_setStrokeStyle: function(a) {
		!1 === this._strokeEnabled && (this._strokeEnabled = !0);
		var b = this._strokeColor;
		if (b.r !== a.r || b.g !== a.g || b.b !== a.b) b.r = a.r, b.g = a.g, b.b = a.b, this._renderCmd._setColorsString(), this._setUpdateTextureDirty()
	},
	_getLineWidth: function() {
		return this._strokeSize
	},
	_setLineWidth: function(a) {
		!1 === this._strokeEnabled && (this._strokeEnabled = !0);
		this._strokeSize !== a && (this._strokeSize = a || 0, this._setUpdateTextureDirty())
	},
	disableStroke: function() {
		this._strokeEnabled &&
			(this._strokeEnabled = !1, this._setUpdateTextureDirty())
	},
	setFontFillColor: function(a) {
		var b = this._textFillColor;
		if (b.r !== a.r || b.g !== a.g || b.b !== a.b) b.r = a.r, b.g = a.g, b.b = a.b, this._renderCmd._setColorsString(), this._needUpdateTexture = !0
	},
	_getFillStyle: function() {
		return this._textFillColor
	},
	_updateWithTextDefinition: function(a, b) {
		a.fontDimensions ? (this._dimensions.width = a.boundingWidth, this._dimensions.height = a.boundingHeight) : (this._dimensions.width = 0, this._dimensions.height = 0);
		this._hAlignment = a.textAlign;
		this._vAlignment = a.verticalAlign;
		this._fontName = a.fontName;
		this._fontSize = a.fontSize || 12;
		this._lineHeight = a.lineHeight ? a.lineHeight : this._fontSize;
		this._renderCmd._setFontStyle(a);
		a.shadowEnabled && this.enableShadow(a.shadowOffsetX, a.shadowOffsetY, a.shadowOpacity, a.shadowBlur);
		a.strokeEnabled && this.enableStroke(a.strokeStyle, a.lineWidth);
		this.setFontFillColor(a.fillStyle);
		b && this._renderCmd._updateTexture();
		var c = cc.Node._dirtyFlags;
		this._renderCmd.setDirtyFlag(c.colorDirty | c.opacityDirty | c.textDirty)
	},
	_prepareTextDefinition: function(a) {
		var b = new cc.FontDefinition;
		a ? (b.fontSize = this._fontSize, b.boundingWidth = cc.contentScaleFactor() * this._dimensions.width, b.boundingHeight = cc.contentScaleFactor() * this._dimensions.height) : (b.fontSize = this._fontSize, b.boundingWidth = this._dimensions.width, b.boundingHeight = this._dimensions.height);
		b.fontName = this._fontName;
		b.textAlign = this._hAlignment;
		b.verticalAlign = this._vAlignment;
		if (this._strokeEnabled) {
			b.strokeEnabled = !0;
			var c = this._strokeColor;
			b.strokeStyle = cc.color(c.r,
				c.g, c.b);
			b.lineWidth = this._strokeSize
		} else b.strokeEnabled = !1;
		this._shadowEnabled ? (b.shadowEnabled = !0, b.shadowBlur = this._shadowBlur, b.shadowOpacity = this._shadowOpacity, b.shadowOffsetX = (a ? cc.contentScaleFactor() : 1) * this._shadowOffset.x, b.shadowOffsetY = (a ? cc.contentScaleFactor() : 1) * this._shadowOffset.y) : b._shadowEnabled = !1;
		a = this._textFillColor;
		b.fillStyle = cc.color(a.r, a.g, a.b);
		return b
	},
	getScale: function() {
		this._scaleX !== this._scaleY && cc.log(cc._LogInfos.Node_getScale);
		return this._scaleX * cc.view.getDevicePixelRatio()
	},
	setScale: function(a, b) {
		var c = cc.view.getDevicePixelRatio();
		this._scaleX = a / c;
		this._scaleY = (b || 0 === b ? b : a) / c;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getScaleX: function() {
		return this._scaleX * cc.view.getDevicePixelRatio()
	},
	setScaleX: function(a) {
		this._scaleX = a / cc.view.getDevicePixelRatio();
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getScaleY: function() {
		return this._scaleY * cc.view.getDevicePixelRatio()
	},
	setScaleY: function(a) {
		this._scaleY = a / cc.view.getDevicePixelRatio();
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	setString: function(a) {
		a = String(a);
		this._originalText !== a && (this._originalText = a + "", this._updateString(), this._setUpdateTextureDirty(), this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty))
	},
	_updateString: function() {
		this._string && "" !== this._string || this._string === this._originalText || (cc.renderer.childrenOrderDirty = !0);
		this._string = this._originalText
	},
	setHorizontalAlignment: function(a) {
		a !== this._hAlignment && (this._hAlignment =
			a, this._setUpdateTextureDirty())
	},
	setVerticalAlignment: function(a) {
		a !== this._vAlignment && (this._vAlignment = a, this._setUpdateTextureDirty())
	},
	setDimensions: function(a, b) {
		var c;
		void 0 === b ? (c = a.width, b = a.height) : c = a;
		if (c !== this._dimensions.width || b !== this._dimensions.height) this._dimensions.width = c, this._dimensions.height = b, this._updateString(), this._setUpdateTextureDirty()
	},
	_getBoundingWidth: function() {
		return this._dimensions.width
	},
	_setBoundingWidth: function(a) {
		a !== this._dimensions.width && (this._dimensions.width =
			a, this._updateString(), this._setUpdateTextureDirty())
	},
	_getBoundingHeight: function() {
		return this._dimensions.height
	},
	_setBoundingHeight: function(a) {
		a !== this._dimensions.height && (this._dimensions.height = a, this._updateString(), this._setUpdateTextureDirty())
	},
	setFontSize: function(a) {
		this._fontSize !== a && (this._fontSize = a, this._renderCmd._setFontStyle(this._fontName, this._fontSize, this._fontStyle, this._fontWeight), this._setUpdateTextureDirty())
	},
	setFontName: function(a) {
		this._fontName && this._fontName !==
			a && (this._fontName = a, this._renderCmd._setFontStyle(this._fontName, this._fontSize, this._fontStyle, this._fontWeight), this._setUpdateTextureDirty())
	},
	_getFont: function() {
		return this._renderCmd._getFontStyle()
	},
	_setFont: function(a) {
		if (a = cc.LabelTTF._fontStyleRE.exec(a)) this._fontSize = parseInt(a[1]), this._fontName = a[2], this._renderCmd._setFontStyle(this._fontName, this._fontSize, this._fontStyle, this._fontWeight), this._setUpdateTextureDirty()
	},
	getContentSize: function() {
		this._needUpdateTexture && this._renderCmd._updateTTF();
		var a = cc.view.getDevicePixelRatio();
		return cc.size(this._contentSize.width / a, this._contentSize.height / a)
	},
	_getWidth: function() {
		this._needUpdateTexture && this._renderCmd._updateTTF();
		return this._contentSize.width / cc.view.getDevicePixelRatio()
	},
	_getHeight: function() {
		this._needUpdateTexture && this._renderCmd._updateTTF();
		return this._contentSize.height / cc.view.getDevicePixelRatio()
	},
	setTextureRect: function(a, b, c) {
		this._rectRotated = b || !1;
		this.setContentSize(c || a);
		b = this._rect;
		b.x = a.x;
		b.y = a.y;
		b.width = a.width;
		b.height = a.height;
		this._renderCmd._setTextureCoords(a, !1);
		c = this._unflippedOffsetPositionFromCenter.x;
		var d = this._unflippedOffsetPositionFromCenter.y;
		this._flippedX && (c = -c);
		this._flippedY && (d = -d);
		this._offsetPosition.x = c + (a.width - b.width) / 2;
		this._offsetPosition.y = d + (a.height - b.height) / 2
	},
	setDrawMode: function(a) {
		this._onCacheCanvasMode = a
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_WEBGL ? new cc.LabelTTF.WebGLRenderCmd(this) : this._onCacheCanvasMode ? new cc.LabelTTF.CacheCanvasRenderCmd(this) :
			new cc.LabelTTF.CanvasRenderCmd(this)
	},
	_setFontStyle: function(a) {
		this._fontStyle !== a && (this._fontStyle = a, this._renderCmd._setFontStyle(this._fontName, this._fontSize, this._fontStyle, this._fontWeight), this._setUpdateTextureDirty())
	},
	_getFontStyle: function() {
		return this._fontStyle
	},
	_setFontWeight: function(a) {
		this._fontWeight !== a && (this._fontWeight = a, this._renderCmd._setFontStyle(this._fontName, this._fontSize, this._fontStyle, this._fontWeight), this._setUpdateTextureDirty())
	},
	_getFontWeight: function() {
		return this._fontWeight
	}
});
cc.assert(cc.isFunction(cc._tmp.PrototypeLabelTTF), cc._LogInfos.MissingFile, "LabelTTFPropertyDefine.js");
cc._tmp.PrototypeLabelTTF();
delete cc._tmp.PrototypeLabelTTF;
cc.LabelTTF._fontStyleRE = /^(\d+)px\s+['"]?([\w\s\d]+)['"]?$/;
cc.LabelTTF.create = function(a, b, c, d, e, f) {
	return new cc.LabelTTF(a, b, c, d, e, f)
};
cc.LabelTTF.createWithFontDefinition = cc.LabelTTF.create;
cc.LabelTTF.__labelHeightDiv = document.createElement("div");
cc.LabelTTF.__labelHeightDiv.style.fontFamily = "Arial";
cc.LabelTTF.__labelHeightDiv.style.position = "absolute";
cc.LabelTTF.__labelHeightDiv.style.left = "-100px";
cc.LabelTTF.__labelHeightDiv.style.top = "-100px";
cc.LabelTTF.__labelHeightDiv.style.lineHeight = "normal";
document.body ? document.body.appendChild(cc.LabelTTF.__labelHeightDiv) : window.addEventListener("load", function() {
	this.removeEventListener("load", arguments.callee, !1);
	document.body.appendChild(cc.LabelTTF.__labelHeightDiv)
}, !1);
cc.LabelTTF.__getFontHeightByDiv = function(a, b) {
	var c, d = cc.LabelTTF.__labelHeightDiv;
	if (a instanceof cc.FontDefinition) {
		c = cc.LabelTTF.__fontHeightCache[a._getCanvasFontStr()];
		if (0 < c) return c;
		d.innerHTML = "ajghl~!";
		d.style.fontFamily = a.fontName;
		d.style.fontSize = a.fontSize + "px";
		d.style.fontStyle = a.fontStyle;
		d.style.fontWeight = a.fontWeight;
		c = d.clientHeight;
		cc.LabelTTF.__fontHeightCache[a._getCanvasFontStr()] = c
	} else {
		c = cc.LabelTTF.__fontHeightCache[a + "." + b];
		if (0 < c) return c;
		d.innerHTML = "ajghl~!";
		d.style.fontFamily =
			a;
		d.style.fontSize = b + "px";
		c = d.clientHeight;
		cc.LabelTTF.__fontHeightCache[a + "." + b] = c
	}
	d.innerHTML = "";
	return c
};
cc.LabelTTF.__fontHeightCache = {};
cc.LabelTTF._textAlign = ["left", "center", "right"];
cc.LabelTTF._textBaseline = ["top", "middle", "bottom"];
cc.LabelTTF.wrapInspection = !0;
cc.LabelTTF._wordRex = /([a-zA-Z0-9\-\u00bf\u00a1\u00ab\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02af\u0300-\u034e\u0350-\u036F\u0370-\u052f\u2011\u2035-\u2037\u2039\u2045]+|\S)/;
cc.LabelTTF._symbolRex = /^[!,.:;}\]%\?>\u3001\u2018\u201c\u300b\u00bb\uff1f\u3002\uff0c\uff01\u2010\u2032-\u2034\u203a\u203c\u2046\u2047-\u2049]/;
cc.LabelTTF._lastWordRex = /([a-zA-Z0-9\-\u00bf\u00a1\u00ab\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02af\u0300-\u034e\u0350-\u036F\u0370-\u052f\u2011\u2035-\u2037\u2039\u2045]+|\S)$/;
cc.LabelTTF._lastEnglish = /[a-zA-Z0-9\-\u00bf\u00a1\u00ab\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02af\u0300-\u034e\u0350-\u036F\u0370-\u052f\u2011\u2035-\u2037\u2039\u2045]+$/;
cc.LabelTTF._firsrEnglish = /^[a-zA-Z0-9\-\u00bf\u00a1\u00ab\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02af\u0300-\u034e\u0350-\u036F\u0370-\u052f\u2011\u2035-\u2037\u2039\u2045]/;
(function() {
	cc.LabelTTF.RenderCmd = function() {
		this._fontClientHeight = 18;
		this._fontStyleStr = "";
		this._shadowColorStr = "rgba(128, 128, 128, 0.5)";
		this._strokeColorStr = "";
		this._fillColorStr = "rgba(255,255,255,1)";
		this._labelContext = this._labelCanvas = null;
		this._lineWidths = [];
		this._strings = [];
		this._isMultiLine = !1;
		this._status = [];
		this._renderingIndex = 0;
		this._canUseDirtyRegion = !0
	};
	var a = cc.LabelTTF.RenderCmd.prototype;
	a.constructor = cc.LabelTTF.RenderCmd;
	a._labelCmdCtor = cc.LabelTTF.RenderCmd;
	a._setFontStyle =
		function(a, b, e, f) {
			if (a instanceof cc.FontDefinition) this._fontStyleStr = a._getCanvasFontStr(), this._fontClientHeight = cc.LabelTTF.__getFontHeightByDiv(a);
			else {
				var g = b * cc.view.getDevicePixelRatio();
				this._fontStyleStr = e + " " + f + " " + g + "px '" + a + "'";
				this._fontClientHeight = cc.LabelTTF.__getFontHeightByDiv(a, b)
			}
		};
	a._getFontStyle = function() {
		return this._fontStyleStr
	};
	a._getFontClientHeight = function() {
		return this._fontClientHeight
	};
	a._updateColor = function() {
		this._setColorsString();
		this._updateTexture()
	};
	a._setColorsString =
		function() {
			var a = this._displayedColor,
				b = this._node,
				e = b._shadowColor || this._displayedColor,
				f = b._strokeColor,
				g = b._textFillColor,
				h = a.r / 255,
				k = a.g / 255,
				a = a.b / 255;
			this._shadowColorStr = "rgba(" + (0 | h * e.r) + "," + (0 | k * e.g) + "," + (0 | a * e.b) + "," + b._shadowOpacity + ")";
			this._fillColorStr = "rgba(" + (0 | h * g.r) + "," + (0 | k * g.g) + "," + (0 | a * g.b) + ", 1)";
			this._strokeColorStr = "rgba(" + (0 | h * f.r) + "," + (0 | k * f.g) + "," + (0 | a * f.b) + ", 1)"
		};
	var b = new cc.Rect;
	a.getLocalBB = function() {
		var a = this._node;
		b.x = b.y = 0;
		var d = cc.view.getDevicePixelRatio();
		b.width =
			a._getWidth() * d;
		b.height = a._getHeight() * d;
		return b
	};
	a._updateTTF = function() {
		var a = this._node,
			b = cc.view.getDevicePixelRatio(),
			e = a._dimensions.width * b,
			f, g, h = this._lineWidths;
		h.length = 0;
		this._isMultiLine = !1;
		this._measureConfig();
		var k = {};
		if (0 !== e)
			for (this._strings = a._string.split("\n"), f = 0; f < this._strings.length; f++) this._checkWarp(this._strings, f, e);
		else
			for (this._strings = a._string.split("\n"), f = 0, g = this._strings.length; f < g; f++)
				if (this._strings[f]) {
					var m = this._measure(this._strings[f]);
					h.push(m);
					k[this._strings[f]] =
						m
				} else h.push(0);
		1 < this._strings.length && (this._isMultiLine = !0);
		g = f = 0;
		a._strokeEnabled && (f = g = 2 * a._strokeSize);
		a._shadowEnabled && (m = a._shadowOffset, f += 2 * Math.abs(m.x), g += 2 * Math.abs(m.y));
		0 === e ? this._isMultiLine ? b = cc.size(Math.ceil(Math.max.apply(Math, h) + f), Math.ceil(this._fontClientHeight * b * this._strings.length + g)) : (m = k[a._string], !m && a._string && (m = this._measure(a._string)), b = cc.size(Math.ceil((m ? m : 0) + f), Math.ceil(this._fontClientHeight * b + g))) : b = 0 === a._dimensions.height ? this._isMultiLine ? cc.size(Math.ceil(e +
			f), Math.ceil(a.getLineHeight() * b * this._strings.length + g)) : cc.size(Math.ceil(e + f), Math.ceil(a.getLineHeight() * b + g)) : cc.size(Math.ceil(e + f), Math.ceil(a._dimensions.height * b + g));
		"normal" !== a._getFontStyle() && (b.width = Math.ceil(b.width + 0.3 * a._fontSize));
		a.setContentSize(b);
		a._strokeShadowOffsetX = f;
		a._strokeShadowOffsetY = g;
		a = a._anchorPoint;
		this._anchorPointInPoints.x = 0.5 * f + (b.width - f) * a.x;
		this._anchorPointInPoints.y = 0.5 * g + (b.height - g) * a.y
	};
	a._saveStatus = function() {
		var a = this._node,
			b = cc.view.getDevicePixelRatio(),
			e = a._strokeShadowOffsetX,
			f = a._strokeShadowOffsetY,
			g = a._contentSize.height - f,
			h = a._vAlignment,
			k = a._hAlignment,
			m = 0.5 * e,
			f = g + 0.5 * f,
			n = 0,
			p = 0,
			r = [],
			e = a._contentSize.width - e,
			a = a.getLineHeight() * b,
			b = (a - this._fontClientHeight * b) / 2,
			n = k === cc.TEXT_ALIGNMENT_RIGHT ? n + e : k === cc.TEXT_ALIGNMENT_CENTER ? n + e / 2 : n + 0;
		if (this._isMultiLine)
			for (k = this._strings.length, h === cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM ? p = a - 2 * b + g - a * k : h === cc.VERTICAL_TEXT_ALIGNMENT_CENTER && (p = (a - 2 * b) / 2 + (g - a * k) / 2), h = 0; h < k; h++) r.push(-g + (a * h + b) + p);
		else h !== cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM &&
			(p = h === cc.VERTICAL_TEXT_ALIGNMENT_TOP ? p - g : p - 0.5 * g), r.push(p);
		g = {
			contextTransform: cc.p(m, f),
			xOffset: n,
			OffsetYArray: r
		};
		this._status.push(g)
	};
	a._drawTTFInCanvas = function(a) {
		if (a) {
			var b = this._status.pop();
			a.setTransform(1, 0, 0, 1, b.contextTransform.x, b.contextTransform.y);
			this.drawLabels(a, b.xOffset, b.OffsetYArray)
		}
	};
	a._checkWarp = function(a, b, e) {
		var f = a[b],
			g = this._measure(f);
		if (g > e && 1 < f.length) {
			for (var h = e / g * f.length | 0, k = f.substr(h), m = g - this._measure(k), n, p = 0, r = 0; m > e && 100 > r++;) h *= e / m, h |= 0, k = f.substr(h),
				m = g - this._measure(k);
			for (r = 0; m < e && 100 > r++;) k && (p = (n = cc.LabelTTF._wordRex.exec(k)) ? n[0].length : 1, n = k), h += p, k = f.substr(h), m = g - this._measure(k);
			h -= p;
			0 === h && (h = 1, n = n.substr(1));
			e = f.substr(0, h);
			cc.LabelTTF.wrapInspection && cc.LabelTTF._symbolRex.test(n || k) && (g = cc.LabelTTF._lastWordRex.exec(e), h -= g ? g[0].length : 0, 0 === h && (h = 1), n = f.substr(h), e = f.substr(0, h));
			cc.LabelTTF._firsrEnglish.test(n) && (g = cc.LabelTTF._lastEnglish.exec(e)) && e !== g[0] && (h -= g[0].length, n = f.substr(h), e = f.substr(0, h));
			a[b] = n || k;
			a.splice(b,
				0, e)
		}
	};
	a.updateStatus = function() {
		this._dirtyFlag & cc.Node._dirtyFlags.textDirty && this._updateTexture();
		this.originUpdateStatus()
	};
	a._syncStatus = function(a) {
		var b = cc.Node._dirtyFlags,
			e = this._dirtyFlag;
		e & b.textDirty && this._updateTexture();
		this._originSyncStatus(a);
		(cc._renderType === cc.game.RENDER_TYPE_WEBGL || e & b.transformDirty) && this.transform(a)
	};
	a.drawLabels = function(a, b, e) {
		var f = this._node;
		if (f._shadowEnabled) {
			var g = f._shadowOffset;
			a.shadowColor = this._shadowColorStr;
			a.shadowOffsetX = g.x;
			a.shadowOffsetY = -g.y;
			a.shadowBlur = f._shadowBlur
		}
		var g = f._hAlignment,
			h = f._vAlignment,
			k = f._strokeSize;
		a.font !== this._fontStyleStr && (a.font = this._fontStyleStr);
		a.fillStyle = this._fillColorStr;
		if (f = f._strokeEnabled) a.lineWidth = 2 * k, a.strokeStyle = this._strokeColorStr;
		a.textBaseline = cc.LabelTTF._textBaseline[h];
		a.textAlign = cc.LabelTTF._textAlign[g];
		g = this._strings.length;
		for (h = 0; h < g; h++) k = this._strings[h], f && (a.lineJoin = "round", a.strokeText(k, b, e[h])), a.fillText(k, b, e[h]);
		cc.g_NumberOfDraws++
	}
})();
(function() {
	cc.LabelTTF.CacheRenderCmd = function() {
		this._labelCmdCtor();
		var a = this._labelCanvas = document.createElement("canvas");
		a.width = 1;
		a.height = 1;
		this._labelContext = a.getContext("2d")
	};
	cc.LabelTTF.CacheRenderCmd.prototype = Object.create(cc.LabelTTF.RenderCmd.prototype);
	cc.inject(cc.LabelTTF.RenderCmd.prototype, cc.LabelTTF.CacheRenderCmd.prototype);
	var a = cc.LabelTTF.CacheRenderCmd.prototype;
	a.constructor = cc.LabelTTF.CacheRenderCmd;
	a._cacheCmdCtor = cc.LabelTTF.CacheRenderCmd;
	a._updateTexture = function() {
		this._dirtyFlag ^=
			this._dirtyFlag & cc.Node._dirtyFlags.textDirty;
		var a = this._node;
		a._needUpdateTexture = !1;
		var c = a._contentSize;
		this._updateTTF();
		var d = c.width,
			e = c.height,
			f = this._labelContext,
			g = this._labelCanvas;
		if (!a._texture) {
			var h = new cc.Texture2D;
			h.initWithElement(this._labelCanvas);
			a.setTexture(h)
		}
		if (0 === a._string.length) return g.width = 1, g.height = c.height || 1, a._texture && (a._texture._htmlElementObj = this._labelCanvas, a._texture.handleLoadedTexture()), a.setTextureRect(cc.rect(0, 0, 1, c.height)), !0;
		f.font = this._fontStyleStr;
		c = g.width === d && g.height === e;
		g.width = d;
		g.height = e;
		c && f.clearRect(0, 0, d, e);
		this._saveStatus();
		this._drawTTFInCanvas(f);
		a._texture && (a._texture._htmlElementObj = this._labelCanvas, a._texture.handleLoadedTexture());
		a.setTextureRect(cc.rect(0, 0, d, e));
		return !0
	};
	a._measureConfig = function() {
		this._labelContext.font = this._fontStyleStr
	};
	a._measure = function(a) {
		return a ? this._labelContext.measureText(a).width : 0
	}
})();
(function() {
	cc.LabelTTF.CacheCanvasRenderCmd = function(a) {
		this._spriteCmdCtor(a);
		this._cacheCmdCtor()
	};
	var a = cc.LabelTTF.CacheCanvasRenderCmd.prototype = Object.create(cc.Sprite.CanvasRenderCmd.prototype);
	cc.inject(cc.LabelTTF.CacheRenderCmd.prototype, a);
	a.constructor = cc.LabelTTF.CacheCanvasRenderCmd
})();
(function() {
	cc.LabelTTF.CanvasRenderCmd = function(a) {
		this._spriteCmdCtor(a);
		this._labelCmdCtor()
	};
	cc.LabelTTF.CanvasRenderCmd.prototype = Object.create(cc.Sprite.CanvasRenderCmd.prototype);
	cc.inject(cc.LabelTTF.RenderCmd.prototype, cc.LabelTTF.CanvasRenderCmd.prototype);
	var a = cc.LabelTTF.CanvasRenderCmd.prototype;
	a.constructor = cc.LabelTTF.CanvasRenderCmd;
	a._measureConfig = function() {};
	a._measure = function(a) {
		if (a) {
			var c = cc._renderContext.getContext();
			c.font = this._fontStyleStr;
			return c.measureText(a).width
		}
		return 0
	};
	a._updateTexture = function() {
		this._dirtyFlag ^= this._dirtyFlag & cc.Node._dirtyFlags.textDirty;
		var a = this._node,
			c = a._contentSize;
		this._updateTTF();
		var d = c.width,
			e = c.height;
		if (0 === a._string.length) return a.setTextureRect(cc.rect(0, 0, 1, c.height)), !0;
		this._saveStatus();
		a.setTextureRect(cc.rect(0, 0, d, e));
		return !0
	};
	a.rendering = function(a) {
		var c = cc.view.getScaleX(),
			d = cc.view.getScaleY();
		a = a || cc._renderContext;
		var e = a.getContext();
		if (e) {
			var f = this._node;
			a.computeRealOffsetY();
			if (!(0 >= this._status.length)) {
				var g =
					this._renderingIndex >= this._status.length ? this._renderingIndex - this._status.length : this._renderingIndex,
					h = this._status[g];
				this._renderingIndex = g + 1;
				var k = f._offsetPosition.x,
					g = -f._offsetPosition.y - f._rect.height,
					m = this._displayedOpacity / 255;
				a.setTransform(this._worldTransform, c, d);
				a.setCompositeOperation(this._blendFuncStr);
				a.setGlobalAlpha(m);
				a.save();
				f._flippedX && (k = -k - f._rect.width, e.scale(-1, 1));
				f._flippedY && (g = f._offsetPosition.y, e.scale(1, -1));
				c = h.xOffset + h.contextTransform.x + k * c;
				f = [];
				k = this._strings.length;
				for (m = 0; m < k; m++) f.push(h.OffsetYArray[m] + h.contextTransform.y + g * d);
				this.drawLabels(e, c, f);
				a.restore()
			}
		}
	}
})();
(function() {
	cc.LabelTTF.WebGLRenderCmd = function(a) {
		this._spriteCmdCtor(a);
		this._cacheCmdCtor()
	};
	var a = cc.LabelTTF.WebGLRenderCmd.prototype = Object.create(cc.Sprite.WebGLRenderCmd.prototype);
	cc.inject(cc.LabelTTF.CacheRenderCmd.prototype, a);
	a.constructor = cc.LabelTTF.WebGLRenderCmd;
	a._updateColor = function() {}
})();
cc.HashElement = function() {
	this.actions = [];
	this.target = null;
	this.actionIndex = 0;
	this.currentAction = null;
	this.lock = this.paused = !1
};
cc.ActionManager = cc.Class.extend({
	_elementPool: [],
	_searchElementByTarget: function(a, b) {
		for (var c = 0; c < a.length; c++)
			if (b === a[c].target) return a[c];
		return null
	},
	ctor: function() {
		this._hashTargets = {};
		this._arrayTargets = [];
		this._currentTarget = null
	},
	_getElement: function(a, b) {
		var c = this._elementPool.pop();
		c || (c = new cc.HashElement);
		c.target = a;
		c.paused = !!b;
		return c
	},
	_putElement: function(a) {
		a.actions.length = 0;
		a.actionIndex = 0;
		a.currentAction = null;
		a.paused = !1;
		a.target = null;
		a.lock = !1;
		this._elementPool.push(a)
	},
	addAction: function(a, b, c) {
		if (!a) throw Error("cc.ActionManager.addAction(): action must be non-null");
		if (!b) throw Error("cc.ActionManager.addAction(): target must be non-null");
		var d = this._hashTargets[b.__instanceId];
		d ? d.actions || (d.actions = []) : (d = this._getElement(b, c), this._hashTargets[b.__instanceId] = d, this._arrayTargets.push(d));
		d.actions.push(a);
		a.startWithTarget(b)
	},
	removeAllActions: function() {
		for (var a = this._arrayTargets, b = 0; b < a.length; b++) {
			var c = a[b];
			c && this.removeAllActionsFromTarget(c.target,
				!0)
		}
	},
	removeAllActionsFromTarget: function(a, b) {
		if (null != a) {
			var c = this._hashTargets[a.__instanceId];
			c && (c.actions.length = 0, this._deleteHashElement(c))
		}
	},
	removeAction: function(a) {
		if (null != a) {
			var b = a.getOriginalTarget();
			if (b = this._hashTargets[b.__instanceId])
				for (var c = 0; c < b.actions.length; c++) {
					if (b.actions[c] === a) {
						b.actions.splice(c, 1);
						b.actionIndex >= c && b.actionIndex--;
						break
					}
				} else cc.log(cc._LogInfos.ActionManager_removeAction)
		}
	},
	removeActionByTag: function(a, b) {
		a === cc.ACTION_TAG_INVALID && cc.log(cc._LogInfos.ActionManager_addAction);
		cc.assert(b, cc._LogInfos.ActionManager_addAction);
		var c = this._hashTargets[b.__instanceId];
		if (c)
			for (var d = c.actions.length, e = 0; e < d; ++e) {
				var f = c.actions[e];
				if (f && f.getTag() === a && f.getOriginalTarget() === b) {
					this._removeActionAtIndex(e, c);
					break
				}
			}
	},
	getActionByTag: function(a, b) {
		a === cc.ACTION_TAG_INVALID && cc.log(cc._LogInfos.ActionManager_getActionByTag);
		var c = this._hashTargets[b.__instanceId];
		if (c) {
			if (null != c.actions)
				for (var d = 0; d < c.actions.length; ++d) {
					var e = c.actions[d];
					if (e && e.getTag() === a) return e
				}
			cc.log(cc._LogInfos.ActionManager_getActionByTag_2,
				a)
		}
		return null
	},
	numberOfRunningActionsInTarget: function(a) {
		return (a = this._hashTargets[a.__instanceId]) ? a.actions ? a.actions.length : 0 : 0
	},
	pauseTarget: function(a) {
		(a = this._hashTargets[a.__instanceId]) && (a.paused = !0)
	},
	resumeTarget: function(a) {
		(a = this._hashTargets[a.__instanceId]) && (a.paused = !1)
	},
	pauseAllRunningActions: function() {
		for (var a = [], b = this._arrayTargets, c = 0; c < b.length; c++) {
			var d = b[c];
			d && !d.paused && (d.paused = !0, a.push(d.target))
		}
		return a
	},
	resumeTargets: function(a) {
		if (a)
			for (var b = 0; b < a.length; b++) a[b] &&
				this.resumeTarget(a[b])
	},
	purgeSharedManager: function() {
		cc.director.getScheduler().unscheduleUpdate(this)
	},
	_removeActionAtIndex: function(a, b) {
		b.actions.splice(a, 1);
		b.actionIndex >= a && b.actionIndex--;
		0 === b.actions.length && this._deleteHashElement(b)
	},
	_deleteHashElement: function(a) {
		var b = !1;
		if (a && !a.lock && this._hashTargets[a.target.__instanceId]) {
			delete this._hashTargets[a.target.__instanceId];
			for (var b = this._arrayTargets, c = 0, d = b.length; c < d; c++)
				if (b[c] === a) {
					b.splice(c, 1);
					break
				} this._putElement(a);
			b = !0
		}
		return b
	},
	update: function(a) {
		for (var b = this._arrayTargets, c, d = 0; d < b.length; d++) {
			c = this._currentTarget = b[d];
			if (!c.paused && c.actions) {
				c.lock = !0;
				for (c.actionIndex = 0; c.actionIndex < c.actions.length; c.actionIndex++)
					if (c.currentAction = c.actions[c.actionIndex], c.currentAction) {
						c.currentAction.step(a * (c.currentAction._speedMethod ? c.currentAction._speed : 1));
						if (c.currentAction && c.currentAction.isDone()) {
							c.currentAction.stop();
							var e = c.currentAction;
							c.currentAction = null;
							this.removeAction(e)
						}
						c.currentAction = null
					} c.lock = !1
			}
			0 === c.actions.length && this._deleteHashElement(c) && d--
		}
	}
});
cc.profiler = function() {
	var a = !1,
		b = !1,
		c = 0,
		d = 0,
		e = 0,
		f = 0,
		g = null,
		h = document.createElement("div"),
		k = document.createElement("div"),
		m = document.createElement("div"),
		n = document.createElement("div"),
		p = 10,
		r = [0, 10, 20, 30],
		t = [0, 0, 0, 0],
		u = 3,
		s = 0,
		w = 0;
	n.id = "fps";
	n.style.position = "absolute";
	n.style.padding = "3px";
	n.style.textAlign = "left";
	n.style.backgroundColor = "rgb(0, 0, 34)";
	n.style.bottom = cc.DIRECTOR_STATS_POSITION.y + "0px";
	n.style.left = cc.DIRECTOR_STATS_POSITION.x + "px";
	n.style.width = "45px";
	n.style.height = "80px";
	for (var v = [m, k, h], x = 0; 3 > x; ++x) {
		var A = v[x].style;
		A.color = "rgb(0, 255, 255)";
		A.font = "bold 12px Helvetica, Arial";
		A.lineHeight = "20px";
		A.width = "100%";
		n.appendChild(v[x])
	}
	var z = function() {
			e = cc.director.getSecondsPerFrame();
			c++;
			f += cc.director.getDeltaTime();
			if (f > cc.DIRECTOR_FPS_INTERVAL) {
				d = c / f;
				f = c = 0;
				if (y.onFrameRateChange) {
					var b = d,
						g = r.length - 1,
						n = g,
						v = 0;
					s++;
					for (w += b; 0 <= n; n--)
						if (b >= r[n]) {
							t[n]++;
							break
						} if (s >= p) {
						v = w / p;
						for (n = g; 0 < n; n--)
							if (b = t[n] / p, 0.6 <= b && v >= r[n]) {
								n != u && (u = n, y.onFrameRateChange && y.onFrameRateChange(v.toFixed(2)));
								break
							} w = s = _changeCount = 0;
						for (n = g; 0 < n; n--) t[n] = 0
					}
				}
				a && (g = cc._renderType === cc.game.RENDER_TYPE_CANVAS ? "\n canvas" : "\n webgl", k.innerHTML = e.toFixed(3), h.innerHTML = d.toFixed(1).toString() + g, m.innerHTML = (0 | cc.g_NumberOfDraws).toString())
			}
		},
		y = {
			onFrameRateChange: null,
			getSecondsPerFrame: function() {
				return e
			},
			getFrameRate: function() {
				return d
			},
			setProfileDuration: function(a) {
				!isNaN(a) && 0 < a && (p = a / cc.DIRECTOR_FPS_INTERVAL)
			},
			resumeProfiling: function() {
				cc.eventManager.addListener(g, 1)
			},
			stopProfiling: function() {
				cc.eventManager.removeListener(g)
			},
			isShowingStats: function() {
				return a
			},
			showStats: function() {
				b || this.init();
				null === n.parentElement && cc.container.appendChild(n);
				a = !0
			},
			hideStats: function() {
				a = !1;
				n.parentElement === cc.container && cc.container.removeChild(n)
			},
			init: function() {
				b || (g = cc.eventManager.addCustomListener(cc.Director.EVENT_AFTER_VISIT, z), b = !0)
			}
		};
	return y
}();
cc.math = cc.math || {};
cc.math.EPSILON = 0.015625;
cc.math.square = function(a) {
	return a * a
};
cc.math.almostEqual = function(a, b) {
	return a + cc.math.EPSILON > b && a - cc.math.EPSILON < b
};
(function(a) {
	a.math.Vec2 = function(a, b) {
		void 0 === b ? (this.x = a.x, this.y = a.y) : (this.x = a || 0, this.y = b || 0)
	};
	var b = a.math.Vec2.prototype;
	b.fill = function(a, b) {
		this.x = a;
		this.y = b
	};
	b.length = function() {
		return Math.sqrt(a.math.square(this.x) + a.math.square(this.y))
	};
	b.lengthSq = function() {
		return a.math.square(this.x) + a.math.square(this.y)
	};
	b.normalize = function() {
		var a = 1 / this.length();
		this.x *= a;
		this.y *= a;
		return this
	};
	a.math.Vec2.add = function(a, b, e) {
		a.x = b.x + e.x;
		a.y = b.y + e.y;
		return a
	};
	b.add = function(a) {
		this.x += a.x;
		this.y +=
			a.y;
		return this
	};
	b.dot = function(a) {
		return this.x * a.x + this.y * a.y
	};
	a.math.Vec2.subtract = function(a, b, e) {
		a.x = b.x - e.x;
		a.y = b.y - e.y;
		return a
	};
	b.subtract = function(a) {
		this.x -= a.x;
		this.y -= a.y;
		return this
	};
	b.transform = function(a) {
		var b = this.x,
			e = this.y;
		this.x = b * a.mat[0] + e * a.mat[3] + a.mat[6];
		this.y = b * a.mat[1] + e * a.mat[4] + a.mat[7];
		return this
	};
	a.math.Vec2.scale = function(a, b, e) {
		a.x = b.x * e;
		a.y = b.y * e;
		return a
	};
	b.scale = function(a) {
		this.x *= a;
		this.y *= a;
		return this
	};
	b.equals = function(b) {
		return this.x < b.x + a.math.EPSILON &&
			this.x > b.x - a.math.EPSILON && this.y < b.y + a.math.EPSILON && this.y > b.y - a.math.EPSILON
	}
})(cc);
(function(a) {
	a.math.Vec3 = a.kmVec3 = function(a, b, e) {
		a && void 0 === b ? (this.x = a.x, this.y = a.y, this.z = a.z) : (this.x = a || 0, this.y = b || 0, this.z = e || 0)
	};
	a.math.vec3 = function(b, d, e) {
		return new a.math.Vec3(b, d, e)
	};
	var b = a.math.Vec3.prototype;
	b.fill = function(a, b, e) {
		a && void 0 === b ? (this.x = a.x, this.y = a.y, this.z = a.z) : (this.x = a, this.y = b, this.z = e);
		return this
	};
	b.length = function() {
		return Math.sqrt(a.math.square(this.x) + a.math.square(this.y) + a.math.square(this.z))
	};
	b.lengthSq = function() {
		return a.math.square(this.x) + a.math.square(this.y) +
			a.math.square(this.z)
	};
	b.normalize = function() {
		var a = 1 / this.length();
		this.x *= a;
		this.y *= a;
		this.z *= a;
		return this
	};
	b.cross = function(a) {
		var b = this.x,
			e = this.y,
			f = this.z;
		this.x = e * a.z - f * a.y;
		this.y = f * a.x - b * a.z;
		this.z = b * a.y - e * a.x;
		return this
	};
	b.dot = function(a) {
		return this.x * a.x + this.y * a.y + this.z * a.z
	};
	b.add = function(a) {
		this.x += a.x;
		this.y += a.y;
		this.z += a.z;
		return this
	};
	b.subtract = function(a) {
		this.x -= a.x;
		this.y -= a.y;
		this.z -= a.z;
		return this
	};
	b.transform = function(a) {
		var b = this.x,
			e = this.y,
			f = this.z;
		a = a.mat;
		this.x = b *
			a[0] + e * a[4] + f * a[8] + a[12];
		this.y = b * a[1] + e * a[5] + f * a[9] + a[13];
		this.z = b * a[2] + e * a[6] + f * a[10] + a[14];
		return this
	};
	b.transformNormal = function(a) {
		var b = this.x,
			e = this.y,
			f = this.z;
		a = a.mat;
		this.x = b * a[0] + e * a[4] + f * a[8];
		this.y = b * a[1] + e * a[5] + f * a[9];
		this.z = b * a[2] + e * a[6] + f * a[10];
		return this
	};
	b.transformCoord = function(b) {
		var d = new a.math.Vec4(this.x, this.y, this.z, 1);
		d.transform(b);
		this.x = d.x / d.w;
		this.y = d.y / d.w;
		this.z = d.z / d.w;
		return this
	};
	b.scale = function(a) {
		this.x *= a;
		this.y *= a;
		this.z *= a;
		return this
	};
	b.equals = function(b) {
		var d =
			a.math.EPSILON;
		return this.x < b.x + d && this.x > b.x - d && this.y < b.y + d && this.y > b.y - d && this.z < b.z + d && this.z > b.z - d
	};
	b.inverseTransform = function(b) {
		b = b.mat;
		var d = new a.math.Vec3(this.x - b[12], this.y - b[13], this.z - b[14]);
		this.x = d.x * b[0] + d.y * b[1] + d.z * b[2];
		this.y = d.x * b[4] + d.y * b[5] + d.z * b[6];
		this.z = d.x * b[8] + d.y * b[9] + d.z * b[10];
		return this
	};
	b.inverseTransformNormal = function(a) {
		var b = this.x,
			e = this.y,
			f = this.z;
		a = a.mat;
		this.x = b * a[0] + e * a[1] + f * a[2];
		this.y = b * a[4] + e * a[5] + f * a[6];
		this.z = b * a[8] + e * a[9] + f * a[10];
		return this
	};
	b.assignFrom =
		function(a) {
			if (!a) return this;
			this.x = a.x;
			this.y = a.y;
			this.z = a.z;
			return this
		};
	a.math.Vec3.zero = function(a) {
		a.x = a.y = a.z = 0;
		return a
	};
	b.toTypeArray = function() {
		var a = new Float32Array(3);
		a[0] = this.x;
		a[1] = this.y;
		a[2] = this.z;
		return a
	}
})(cc);
(function(a) {
	a.math.Vec4 = function(a, b, e, f) {
		a && void 0 === b ? (this.x = a.x, this.y = a.y, this.z = a.z, this.w = a.w) : (this.x = a || 0, this.y = b || 0, this.z = e || 0, this.w = f || 0)
	};
	a.kmVec4 = a.math.Vec4;
	var b = a.math.Vec4.prototype;
	b.fill = function(a, b, e, f) {
		a && void 0 === b ? (this.x = a.x, this.y = a.y, this.z = a.z, this.w = a.w) : (this.x = a, this.y = b, this.z = e, this.w = f)
	};
	b.add = function(a) {
		if (!a) return this;
		this.x += a.x;
		this.y += a.y;
		this.z += a.z;
		this.w += a.w;
		return this
	};
	b.dot = function(a) {
		return this.x * a.x + this.y * a.y + this.z * a.z + this.w * a.w
	};
	b.length =
		function() {
			return Math.sqrt(a.math.square(this.x) + a.math.square(this.y) + a.math.square(this.z) + a.math.square(this.w))
		};
	b.lengthSq = function() {
		return a.math.square(this.x) + a.math.square(this.y) + a.math.square(this.z) + a.math.square(this.w)
	};
	b.lerp = function(a, b) {
		return this
	};
	b.normalize = function() {
		var a = 1 / this.length();
		this.x *= a;
		this.y *= a;
		this.z *= a;
		this.w *= a;
		return this
	};
	b.scale = function(a) {
		this.normalize();
		this.x *= a;
		this.y *= a;
		this.z *= a;
		this.w *= a;
		return this
	};
	b.subtract = function(a) {
		this.x -= a.x;
		this.y -=
			a.y;
		this.z -= a.z;
		this.w -= a.w
	};
	b.transform = function(a) {
		var b = this.x,
			e = this.y,
			f = this.z,
			g = this.w;
		a = a.mat;
		this.x = b * a[0] + e * a[4] + f * a[8] + g * a[12];
		this.y = b * a[1] + e * a[5] + f * a[9] + g * a[13];
		this.z = b * a[2] + e * a[6] + f * a[10] + g * a[14];
		this.w = b * a[3] + e * a[7] + f * a[11] + g * a[15];
		return this
	};
	a.math.Vec4.transformArray = function(b, d) {
		for (var e = [], f = 0; f < b.length; f++) {
			var g = new a.math.Vec4(b[f]);
			g.transform(d);
			e.push(g)
		}
		return e
	};
	b.equals = function(b) {
		var d = a.math.EPSILON;
		return this.x < b.x + d && this.x > b.x - d && this.y < b.y + d && this.y > b.y - d &&
			this.z < b.z + d && this.z > b.z - d && this.w < b.w + d && this.w > b.w - d
	};
	b.assignFrom = function(a) {
		this.x = a.x;
		this.y = a.y;
		this.z = a.z;
		this.w = a.w;
		return this
	};
	b.toTypeArray = function() {
		var a = new Float32Array(4);
		a[0] = this.x;
		a[1] = this.y;
		a[2] = this.z;
		a[3] = this.w;
		return a
	}
})(cc);
(function(a) {
	function b(b, d, e) {
		d = new a.math.Vec2(d);
		d.subtract(b);
		e.x = -d.y;
		e.y = d.x;
		e.normalize()
	}
	a.math.Ray2 = function(b, d) {
		this.start = b || new a.math.Vec2;
		this.dir = d || new a.math.Vec2
	};
	a.math.Ray2.prototype.fill = function(a, b, e, f) {
		this.start.x = a;
		this.start.y = b;
		this.dir.x = e;
		this.dir.y = f
	};
	a.math.Ray2.prototype.intersectLineSegment = function(b, d, e) {
		var f = this.start.x,
			g = this.start.y,
			h = this.start.x + this.dir.x,
			k = this.start.y + this.dir.y,
			m = b.x,
			n = b.y,
			p = d.x,
			r = d.y,
			t = (r - n) * (h - f) - (p - m) * (k - g);
		if (t > -a.math.EPSILON &&
			t < a.math.EPSILON) return !1;
		n = ((p - m) * (g - n) - (r - n) * (f - m)) / t;
		m = f + n * (h - f);
		n = g + n * (k - g);
		if (m < Math.min(b.x, d.x) - a.math.EPSILON || m > Math.max(b.x, d.x) + a.math.EPSILON || n < Math.min(b.y, d.y) - a.math.EPSILON || n > Math.max(b.y, d.y) + a.math.EPSILON || m < Math.min(f, h) - a.math.EPSILON || m > Math.max(f, h) + a.math.EPSILON || n < Math.min(g, k) - a.math.EPSILON || n > Math.max(g, k) + a.math.EPSILON) return !1;
		e.x = m;
		e.y = n;
		return !0
	};
	a.math.Ray2.prototype.intersectTriangle = function(c, d, e, f, g) {
		var h = new a.math.Vec2,
			k = new a.math.Vec2,
			m = new a.math.Vec2,
			n = 1E4,
			p = !1,
			r;
		this.intersectLineSegment(c, d, h) && (p = !0, r = h.subtract(this.start).length(), r < n && (k.x = h.x, k.y = h.y, n = r, b(c, d, m)));
		this.intersectLineSegment(d, e, h) && (p = !0, r = h.subtract(this.start).length(), r < n && (k.x = h.x, k.y = h.y, n = r, b(d, e, m)));
		this.intersectLineSegment(e, c, h) && (p = !0, r = h.subtract(this.start).length(), r < n && (k.x = h.x, k.y = h.y, b(e, c, m)));
		p && (f.x = k.x, f.y = k.y, g && (g.x = m.x, g.y = m.y));
		return p
	}
})(cc);
window.Uint16Array = window.Uint16Array || window.Array;
window.Float32Array = window.Float32Array || window.Array;
(function(a) {
	a.math.Matrix3 = function(a) {
		this.mat = a && a.mat ? new Float32Array(a.mat) : new Float32Array(9)
	};
	a.kmMat3 = a.math.Matrix3;
	var b = a.math.Matrix3.prototype;
	b.fill = function(a) {
		var b = this.mat;
		a = a.mat;
		b[0] = a[0];
		b[1] = a[1];
		b[2] = a[2];
		b[3] = a[3];
		b[4] = a[4];
		b[5] = a[5];
		b[6] = a[6];
		b[7] = a[7];
		b[8] = a[8];
		return this
	};
	b.adjugate = function() {
		var a = this.mat,
			b = a[0],
			c = a[1],
			g = a[2],
			h = a[3],
			k = a[4],
			m = a[5],
			n = a[6],
			p = a[7],
			r = a[8];
		a[0] = k * r - m * p;
		a[1] = g * p - c * r;
		a[2] = c * m - g * k;
		a[3] = m * n - h * r;
		a[4] = b * r - g * n;
		a[5] = g * h - b * m;
		a[6] = h * p - k * n;
		a[8] = b *
			k - c * h;
		return this
	};
	b.identity = function() {
		var a = this.mat;
		a[1] = a[2] = a[3] = a[5] = a[6] = a[7] = 0;
		a[0] = a[4] = a[8] = 1;
		return this
	};
	var c = new a.math.Matrix3;
	b.inverse = function(a) {
		if (0 === a) return this;
		c.assignFrom(this);
		a = 1 / a;
		this.adjugate();
		this.multiplyScalar(a);
		return this
	};
	b.isIdentity = function() {
		var a = this.mat;
		return 1 === a[0] && 0 === a[1] && 0 === a[2] && 0 === a[3] && 1 === a[4] && 0 === a[5] && 0 === a[6] && 0 === a[7] && 1 === a[8]
	};
	b.transpose = function() {
		var a = this.mat,
			b = a[1],
			c = a[2],
			g = a[5],
			h = a[6],
			k = a[7];
		a[1] = a[3];
		a[2] = h;
		a[3] = b;
		a[5] =
			k;
		a[6] = c;
		a[7] = g;
		return this
	};
	b.determinant = function() {
		var a = this.mat,
			b = a[0] * a[4] * a[8] + a[1] * a[5] * a[6] + a[2] * a[3] * a[7];
		return b -= a[2] * a[4] * a[6] + a[0] * a[5] * a[7] + a[1] * a[3] * a[8]
	};
	b.multiply = function(a) {
		var b = this.mat,
			c = a.mat;
		a = b[0];
		var g = b[1],
			h = b[2],
			k = b[3],
			m = b[4],
			n = b[5],
			p = b[6],
			r = b[7],
			t = b[8],
			u = c[0],
			s = c[1],
			w = c[2],
			v = c[3],
			x = c[4],
			A = c[5],
			z = c[6],
			y = c[7],
			c = c[8];
		b[0] = a * u + k * s + p * w;
		b[1] = g * u + m * s + r * w;
		b[2] = h * u + n * s + t * w;
		b[3] = h * u + n * s + t * w;
		b[4] = g * v + m * x + r * A;
		b[5] = h * v + n * x + t * A;
		b[6] = a * z + k * y + p * c;
		b[7] = g * z + m * y + r * c;
		b[8] = h * z + n * y + t * c;
		return this
	};
	b.multiplyScalar = function(a) {
		var b = this.mat;
		b[0] *= a;
		b[1] *= a;
		b[2] *= a;
		b[3] *= a;
		b[4] *= a;
		b[5] *= a;
		b[6] *= a;
		b[7] *= a;
		b[8] *= a;
		return this
	};
	a.math.Matrix3.rotationAxisAngle = function(b, c) {
		var f = Math.cos(c),
			g = Math.sin(c),
			h = new a.math.Matrix3,
			k = h.mat;
		k[0] = f + b.x * b.x * (1 - f);
		k[1] = b.z * g + b.y * b.x * (1 - f);
		k[2] = -b.y * g + b.z * b.x * (1 - f);
		k[3] = -b.z * g + b.x * b.y * (1 - f);
		k[4] = f + b.y * b.y * (1 - f);
		k[5] = b.x * g + b.z * b.y * (1 - f);
		k[6] = b.y * g + b.x * b.z * (1 - f);
		k[7] = -b.x * g + b.y * b.z * (1 - f);
		k[8] = f + b.z * b.z * (1 - f);
		return h
	};
	b.assignFrom = function(b) {
		if (this ===
			b) return a.log("cc.math.Matrix3.assign(): current matrix equals matIn"), this;
		var c = this.mat;
		b = b.mat;
		c[0] = b[0];
		c[1] = b[1];
		c[2] = b[2];
		c[3] = b[3];
		c[4] = b[4];
		c[5] = b[5];
		c[6] = b[6];
		c[7] = b[7];
		c[8] = b[8];
		return this
	};
	b.equals = function(b) {
		if (this === b) return !0;
		var c = a.math.EPSILON,
			f = this.mat;
		b = b.mat;
		for (var g = 0; 9 > g; ++g)
			if (!(f[g] + c > b[g] && f[g] - c < b[g])) return !1;
		return !0
	};
	a.math.Matrix3.createByRotationX = function(b) {
		var c = new a.math.Matrix3,
			f = c.mat;
		f[0] = 1;
		f[1] = 0;
		f[2] = 0;
		f[3] = 0;
		f[4] = Math.cos(b);
		f[5] = Math.sin(b);
		f[6] = 0;
		f[7] = -Math.sin(b);
		f[8] = Math.cos(b);
		return c
	};
	a.math.Matrix3.createByRotationY = function(b) {
		var c = new a.math.Matrix3,
			f = c.mat;
		f[0] = Math.cos(b);
		f[1] = 0;
		f[2] = -Math.sin(b);
		f[3] = 0;
		f[4] = 1;
		f[5] = 0;
		f[6] = Math.sin(b);
		f[7] = 0;
		f[8] = Math.cos(b);
		return c
	};
	a.math.Matrix3.createByRotationZ = function(b) {
		var c = new a.math.Matrix3,
			f = c.mat;
		f[0] = Math.cos(b);
		f[1] = -Math.sin(b);
		f[2] = 0;
		f[3] = Math.sin(b);
		f[4] = Math.cos(b);
		f[5] = 0;
		f[6] = 0;
		f[7] = 0;
		f[8] = 1;
		return c
	};
	a.math.Matrix3.createByRotation = function(b) {
		var c = new a.math.Matrix3,
			f = c.mat;
		f[0] = Math.cos(b);
		f[1] = Math.sin(b);
		f[2] = 0;
		f[3] = -Math.sin(b);
		f[4] = Math.cos(b);
		f[5] = 0;
		f[6] = 0;
		f[7] = 0;
		f[8] = 1;
		return c
	};
	a.math.Matrix3.createByScale = function(b, c) {
		var f = new a.math.Matrix3;
		f.identity();
		f.mat[0] = b;
		f.mat[4] = c;
		return f
	};
	a.math.Matrix3.createByTranslation = function(b, c) {
		var f = new a.math.Matrix3;
		f.identity();
		f.mat[6] = b;
		f.mat[7] = c;
		return f
	};
	a.math.Matrix3.createByQuaternion = function(b) {
		if (!b) return null;
		var c = new a.math.Matrix3,
			f = c.mat;
		f[0] = 1 - 2 * (b.y * b.y + b.z * b.z);
		f[1] = 2 * (b.x * b.y - b.w * b.z);
		f[2] = 2 *
			(b.x * b.z + b.w * b.y);
		f[3] = 2 * (b.x * b.y + b.w * b.z);
		f[4] = 1 - 2 * (b.x * b.x + b.z * b.z);
		f[5] = 2 * (b.y * b.z - b.w * b.x);
		f[6] = 2 * (b.x * b.z - b.w * b.y);
		f[7] = 2 * (b.y * b.z + b.w * b.x);
		f[8] = 1 - 2 * (b.x * b.x + b.y * b.y);
		return c
	};
	b.rotationToAxisAngle = function() {
		return a.math.Quaternion.rotationMatrix(this).toAxisAndAngle()
	}
})(cc);
(function(a) {
	a.math.Matrix4 = function(a) {
		this.mat = a && a.mat ? new Float32Array(a.mat) : new Float32Array(16)
	};
	a.kmMat4 = a.math.Matrix4;
	var b = a.math.Matrix4.prototype;
	b.fill = function(a) {
		for (var b = this.mat, c = 0; 16 > c; c++) b[c] = a[c];
		return this
	};
	a.kmMat4Identity = function(a) {
		var b = a.mat;
		b[1] = b[2] = b[3] = b[4] = b[6] = b[7] = b[8] = b[9] = b[11] = b[12] = b[13] = b[14] = 0;
		b[0] = b[5] = b[10] = b[15] = 1;
		return a
	};
	b.identity = function() {
		var a = this.mat;
		a[1] = a[2] = a[3] = a[4] = a[6] = a[7] = a[8] = a[9] = a[11] = a[12] = a[13] = a[14] = 0;
		a[0] = a[5] = a[10] = a[15] = 1;
		return this
	};
	b.get = function(a, b) {
		return this.mat[a + 4 * b]
	};
	b.set = function(a, b, c) {
		this.mat[a + 4 * b] = c
	};
	b.swap = function(a, b, c, d) {
		var k = this.mat,
			m = k[a + 4 * b];
		k[a + 4 * b] = k[c + 4 * d];
		k[c + 4 * d] = m
	};
	a.math.Matrix4._gaussj = function(a, b) {
		var c, d = 0,
			k = 0,
			m, n, p, r, t = [0, 0, 0, 0],
			u = [0, 0, 0, 0],
			s = [0, 0, 0, 0];
		for (c = 0; 4 > c; c++) {
			for (m = r = 0; 4 > m; m++)
				if (1 !== s[m])
					for (n = 0; 4 > n; n++) 0 === s[n] && (p = Math.abs(a.get(m, n)), p >= r && (r = p, k = m, d = n));
			++s[d];
			if (k !== d) {
				for (m = 0; 4 > m; m++) a.swap(k, m, d, m);
				for (m = 0; 4 > m; m++) b.swap(k, m, d, m)
			}
			u[c] = k;
			t[c] = d;
			if (0 === a.get(d,
					d)) return !1;
			n = 1 / a.get(d, d);
			a.set(d, d, 1);
			for (m = 0; 4 > m; m++) a.set(d, m, a.get(d, m) * n);
			for (m = 0; 4 > m; m++) b.set(d, m, b.get(d, m) * n);
			for (n = 0; 4 > n; n++)
				if (n !== d) {
					p = a.get(n, d);
					a.set(n, d, 0);
					for (m = 0; 4 > m; m++) a.set(n, m, a.get(n, m) - a.get(d, m) * p);
					for (m = 0; 4 > m; m++) b.set(n, m, a.get(n, m) - b.get(d, m) * p)
				}
		}
		for (m = 3; 0 <= m; m--)
			if (u[m] !== t[m])
				for (n = 0; 4 > n; n++) a.swap(n, u[m], n, t[m]);
		return !0
	};
	var c = (new a.math.Matrix4).identity();
	a.kmMat4Inverse = function(b, d) {
		var g = new a.math.Matrix4(d),
			h = new a.math.Matrix4(c);
		if (!1 === a.math.Matrix4._gaussj(g,
				h)) return null;
		b.assignFrom(g);
		return b
	};
	b.inverse = function() {
		var b = new a.math.Matrix4(this),
			d = new a.math.Matrix4(c);
		return !1 === a.math.Matrix4._gaussj(b, d) ? null : b
	};
	b.isIdentity = function() {
		var a = this.mat;
		return 1 === a[0] && 0 === a[1] && 0 === a[2] && 0 === a[3] && 0 === a[4] && 1 === a[5] && 0 === a[6] && 0 === a[7] && 0 === a[8] && 0 === a[9] && 1 === a[10] && 0 === a[11] && 0 === a[12] && 0 === a[13] && 0 === a[14] && 1 === a[15]
	};
	b.transpose = function() {
		var a = this.mat,
			b = a[1],
			c = a[2],
			d = a[3],
			k = a[6],
			m = a[7],
			n = a[8],
			p = a[9],
			r = a[11],
			t = a[12],
			u = a[13],
			s = a[14];
		a[1] = a[4];
		a[2] = n;
		a[3] = t;
		a[4] = b;
		a[6] = p;
		a[7] = u;
		a[8] = c;
		a[9] = k;
		a[11] = s;
		a[12] = d;
		a[13] = m;
		a[14] = r;
		return this
	};
	a.kmMat4Multiply = function(a, b, c) {
		var d = a.mat,
			k = b.mat,
			m = c.mat;
		c = k[0];
		b = k[1];
		var n = k[2],
			p = k[3],
			r = k[4],
			t = k[5],
			u = k[6],
			s = k[7],
			w = k[8],
			v = k[9],
			x = k[10],
			A = k[11],
			z = k[12],
			y = k[13],
			B = k[14],
			k = k[15],
			C = m[0],
			D = m[1],
			I = m[2],
			E = m[3],
			F = m[4],
			K = m[5],
			G = m[6],
			H = m[7],
			M = m[8],
			J = m[9],
			N = m[10],
			L = m[11],
			O = m[12],
			R = m[13],
			P = m[14],
			m = m[15];
		d[0] = C * c + D * r + I * w + E * z;
		d[1] = C * b + D * t + I * v + E * y;
		d[2] = C * n + D * u + I * x + E * B;
		d[3] = C * p + D * s + I * A + E * k;
		d[4] = F * c + K * r + G * w + H * z;
		d[5] =
			F * b + K * t + G * v + H * y;
		d[6] = F * n + K * u + G * x + H * B;
		d[7] = F * p + K * s + G * A + H * k;
		d[8] = M * c + J * r + N * w + L * z;
		d[9] = M * b + J * t + N * v + L * y;
		d[10] = M * n + J * u + N * x + L * B;
		d[11] = M * p + J * s + N * A + L * k;
		d[12] = O * c + R * r + P * w + m * z;
		d[13] = O * b + R * t + P * v + m * y;
		d[14] = O * n + R * u + P * x + m * B;
		d[15] = O * p + R * s + P * A + m * k;
		return a
	};
	b.multiply = function(a) {
		var b = this.mat,
			c = a.mat;
		a = b[0];
		var d = b[1],
			k = b[2],
			m = b[3],
			n = b[4],
			p = b[5],
			r = b[6],
			t = b[7],
			u = b[8],
			s = b[9],
			w = b[10],
			v = b[11],
			x = b[12],
			A = b[13],
			z = b[14],
			y = b[15],
			B = c[0],
			C = c[1],
			D = c[2],
			I = c[3],
			E = c[4],
			F = c[5],
			K = c[6],
			G = c[7],
			H = c[8],
			M = c[9],
			J = c[10],
			N = c[11],
			L = c[12],
			O = c[13],
			R = c[14],
			c = c[15];
		b[0] = B * a + C * n + D * u + I * x;
		b[1] = B * d + C * p + D * s + I * A;
		b[2] = B * k + C * r + D * w + I * z;
		b[3] = B * m + C * t + D * v + I * y;
		b[4] = E * a + F * n + K * u + G * x;
		b[5] = E * d + F * p + K * s + G * A;
		b[6] = E * k + F * r + K * w + G * z;
		b[7] = E * m + F * t + K * v + G * y;
		b[8] = H * a + M * n + J * u + N * x;
		b[9] = H * d + M * p + J * s + N * A;
		b[10] = H * k + M * r + J * w + N * z;
		b[11] = H * m + M * t + J * v + N * y;
		b[12] = L * a + O * n + R * u + c * x;
		b[13] = L * d + O * p + R * s + c * A;
		b[14] = L * k + O * r + R * w + c * z;
		b[15] = L * m + O * t + R * v + c * y;
		return this
	};
	a.getMat4MultiplyValue = function(a, b) {
		var c = a.mat,
			d = b.mat,
			k = new Float32Array(16);
		k[0] = c[0] * d[0] + c[4] * d[1] + c[8] * d[2] + c[12] * d[3];
		k[1] = c[1] * d[0] + c[5] * d[1] + c[9] * d[2] + c[13] * d[3];
		k[2] = c[2] * d[0] + c[6] * d[1] + c[10] * d[2] + c[14] * d[3];
		k[3] = c[3] * d[0] + c[7] * d[1] + c[11] * d[2] + c[15] * d[3];
		k[4] = c[0] * d[4] + c[4] * d[5] + c[8] * d[6] + c[12] * d[7];
		k[5] = c[1] * d[4] + c[5] * d[5] + c[9] * d[6] + c[13] * d[7];
		k[6] = c[2] * d[4] + c[6] * d[5] + c[10] * d[6] + c[14] * d[7];
		k[7] = c[3] * d[4] + c[7] * d[5] + c[11] * d[6] + c[15] * d[7];
		k[8] = c[0] * d[8] + c[4] * d[9] + c[8] * d[10] + c[12] * d[11];
		k[9] = c[1] * d[8] + c[5] * d[9] + c[9] * d[10] + c[13] * d[11];
		k[10] = c[2] * d[8] + c[6] * d[9] + c[10] * d[10] + c[14] * d[11];
		k[11] = c[3] * d[8] + c[7] * d[9] + c[11] *
			d[10] + c[15] * d[11];
		k[12] = c[0] * d[12] + c[4] * d[13] + c[8] * d[14] + c[12] * d[15];
		k[13] = c[1] * d[12] + c[5] * d[13] + c[9] * d[14] + c[13] * d[15];
		k[14] = c[2] * d[12] + c[6] * d[13] + c[10] * d[14] + c[14] * d[15];
		k[15] = c[3] * d[12] + c[7] * d[13] + c[11] * d[14] + c[15] * d[15];
		return k
	};
	a.kmMat4Assign = function(b, c) {
		if (b === c) return a.log("cc.kmMat4Assign(): pOut equals pIn"), b;
		var d = b.mat,
			h = c.mat;
		d[0] = h[0];
		d[1] = h[1];
		d[2] = h[2];
		d[3] = h[3];
		d[4] = h[4];
		d[5] = h[5];
		d[6] = h[6];
		d[7] = h[7];
		d[8] = h[8];
		d[9] = h[9];
		d[10] = h[10];
		d[11] = h[11];
		d[12] = h[12];
		d[13] = h[13];
		d[14] = h[14];
		d[15] = h[15];
		return b
	};
	b.assignFrom = function(b) {
		if (this === b) return a.log("cc.mat.Matrix4.assignFrom(): mat4 equals current matrix"), this;
		var c = this.mat;
		b = b.mat;
		c[0] = b[0];
		c[1] = b[1];
		c[2] = b[2];
		c[3] = b[3];
		c[4] = b[4];
		c[5] = b[5];
		c[6] = b[6];
		c[7] = b[7];
		c[8] = b[8];
		c[9] = b[9];
		c[10] = b[10];
		c[11] = b[11];
		c[12] = b[12];
		c[13] = b[13];
		c[14] = b[14];
		c[15] = b[15];
		return this
	};
	b.equals = function(b) {
		if (this === b) return a.log("cc.kmMat4AreEqual(): pMat1 and pMat2 are same object."), !0;
		var c = this.mat;
		b = b.mat;
		for (var d = a.math.EPSILON, h = 0; 16 >
			h; h++)
			if (!(c[h] + d > b[h] && c[h] - d < b[h])) return !1;
		return !0
	};
	a.math.Matrix4.createByRotationX = function(b, c) {
		c = c || new a.math.Matrix4;
		var d = c.mat;
		d[0] = 1;
		d[3] = d[2] = d[1] = 0;
		d[4] = 0;
		d[5] = Math.cos(b);
		d[6] = Math.sin(b);
		d[7] = 0;
		d[8] = 0;
		d[9] = -Math.sin(b);
		d[10] = Math.cos(b);
		d[11] = 0;
		d[14] = d[13] = d[12] = 0;
		d[15] = 1;
		return c
	};
	a.math.Matrix4.createByRotationY = function(b, c) {
		c = c || new a.math.Matrix4;
		var d = c.mat;
		d[0] = Math.cos(b);
		d[1] = 0;
		d[2] = -Math.sin(b);
		d[3] = 0;
		d[7] = d[6] = d[4] = 0;
		d[5] = 1;
		d[8] = Math.sin(b);
		d[9] = 0;
		d[10] = Math.cos(b);
		d[11] =
			0;
		d[14] = d[13] = d[12] = 0;
		d[15] = 1;
		return c
	};
	a.math.Matrix4.createByRotationZ = function(b, c) {
		c = c || new a.math.Matrix4;
		var d = c.mat;
		d[0] = Math.cos(b);
		d[1] = Math.sin(b);
		d[3] = d[2] = 0;
		d[4] = -Math.sin(b);
		d[5] = Math.cos(b);
		d[7] = d[6] = 0;
		d[11] = d[9] = d[8] = 0;
		d[10] = 1;
		d[14] = d[13] = d[12] = 0;
		d[15] = 1;
		return c
	};
	a.math.Matrix4.createByPitchYawRoll = function(b, c, d, h) {
		h = h || new a.math.Matrix4;
		var k = Math.cos(b);
		b = Math.sin(b);
		var m = Math.cos(c);
		c = Math.sin(c);
		var n = Math.cos(d);
		d = Math.sin(d);
		var p = b * c,
			r = k * c,
			t = h.mat;
		t[0] = m * n;
		t[4] = m * d;
		t[8] = -c;
		t[1] = p * n - k * d;
		t[5] = p * d + k * n;
		t[9] = b * m;
		t[2] = r * n + b * d;
		t[6] = r * d - b * n;
		t[10] = k * m;
		t[3] = t[7] = t[11] = 0;
		t[15] = 1;
		return h
	};
	a.math.Matrix4.createByQuaternion = function(b, c) {
		c = c || new a.math.Matrix4;
		var d = c.mat;
		d[0] = 1 - 2 * (b.y * b.y + b.z * b.z);
		d[1] = 2 * (b.x * b.y + b.z * b.w);
		d[2] = 2 * (b.x * b.z - b.y * b.w);
		d[3] = 0;
		d[4] = 2 * (b.x * b.y - b.z * b.w);
		d[5] = 1 - 2 * (b.x * b.x + b.z * b.z);
		d[6] = 2 * (b.z * b.y + b.x * b.w);
		d[7] = 0;
		d[8] = 2 * (b.x * b.z + b.y * b.w);
		d[9] = 2 * (b.y * b.z - b.x * b.w);
		d[10] = 1 - 2 * (b.x * b.x + b.y * b.y);
		d[11] = 0;
		d[14] = d[13] = d[12] = 0;
		d[15] = 1;
		return c
	};
	a.math.Matrix4.createByRotationTranslation =
		function(b, c, d) {
			d = d || new a.math.Matrix4;
			var h = d.mat;
			b = b.mat;
			h[0] = b[0];
			h[1] = b[1];
			h[2] = b[2];
			h[3] = 0;
			h[4] = b[3];
			h[5] = b[4];
			h[6] = b[5];
			h[7] = 0;
			h[8] = b[6];
			h[9] = b[7];
			h[10] = b[8];
			h[11] = 0;
			h[12] = c.x;
			h[13] = c.y;
			h[14] = c.z;
			h[15] = 1;
			return d
		};
	a.math.Matrix4.createByScale = function(b, c, d, h) {
		h = h || new a.math.Matrix4;
		var k = h.mat;
		k[0] = b;
		k[5] = c;
		k[10] = d;
		k[15] = 1;
		k[1] = k[2] = k[3] = k[4] = k[6] = k[7] = k[8] = k[9] = k[11] = k[12] = k[13] = k[14] = 0;
		return h
	};
	a.kmMat4Translation = function(a, b, c, d) {
		a.mat[0] = a.mat[5] = a.mat[10] = a.mat[15] = 1;
		a.mat[1] = a.mat[2] =
			a.mat[3] = a.mat[4] = a.mat[6] = a.mat[7] = a.mat[8] = a.mat[9] = a.mat[11] = 0;
		a.mat[12] = b;
		a.mat[13] = c;
		a.mat[14] = d;
		return a
	};
	a.math.Matrix4.createByTranslation = function(b, c, d, h) {
		h = h || new a.math.Matrix4;
		h.identity();
		h.mat[12] = b;
		h.mat[13] = c;
		h.mat[14] = d;
		return h
	};
	b.getUpVec3 = function() {
		var b = this.mat;
		return (new a.math.Vec3(b[4], b[5], b[6])).normalize()
	};
	b.getRightVec3 = function() {
		var b = this.mat;
		return (new a.math.Vec3(b[0], b[1], b[2])).normalize()
	};
	b.getForwardVec3 = function() {
		var b = this.mat;
		return (new a.math.Vec3(b[8],
			b[9], b[10])).normalize()
	};
	a.kmMat4PerspectiveProjection = function(b, c, d, h, k) {
		var m = a.degreesToRadians(c / 2);
		c = k - h;
		var n = Math.sin(m);
		if (0 === c || 0 === n || 0 === d) return null;
		m = Math.cos(m) / n;
		b.identity();
		b.mat[0] = m / d;
		b.mat[5] = m;
		b.mat[10] = -(k + h) / c;
		b.mat[11] = -1;
		b.mat[14] = -2 * h * k / c;
		b.mat[15] = 0;
		return b
	};
	a.math.Matrix4.createPerspectiveProjection = function(b, c, d, h) {
		var k = a.degreesToRadians(b / 2);
		b = h - d;
		var m = Math.sin(k);
		if (0 === b || 0 === m || 0 === c) return null;
		var k = Math.cos(k) / m,
			m = new a.math.Matrix4,
			n = m.mat;
		m.identity();
		n[0] = k / c;
		n[5] = k;
		n[10] = -(h + d) / b;
		n[11] = -1;
		n[14] = -2 * d * h / b;
		n[15] = 0;
		return m
	};
	a.kmMat4OrthographicProjection = function(a, b, c, d, k, m, n) {
		a.identity();
		a.mat[0] = 2 / (c - b);
		a.mat[5] = 2 / (k - d);
		a.mat[10] = -2 / (n - m);
		a.mat[12] = -((c + b) / (c - b));
		a.mat[13] = -((k + d) / (k - d));
		a.mat[14] = -((n + m) / (n - m));
		return a
	};
	a.math.Matrix4.createOrthographicProjection = function(b, c, d, h, k, m) {
		var n = new a.math.Matrix4,
			p = n.mat;
		n.identity();
		p[0] = 2 / (c - b);
		p[5] = 2 / (h - d);
		p[10] = -2 / (m - k);
		p[12] = -((c + b) / (c - b));
		p[13] = -((h + d) / (h - d));
		p[14] = -((m + k) / (m - k));
		return n
	};
	a.kmMat4LookAt = function(b, c, d, h) {
		d = new a.math.Vec3(d);
		var k = new a.math.Vec3(h);
		d.subtract(c);
		d.normalize();
		k.normalize();
		h = new a.math.Vec3(d);
		h.cross(k);
		h.normalize();
		k = new a.math.Vec3(h);
		k.cross(d);
		h.normalize();
		b.identity();
		b.mat[0] = h.x;
		b.mat[4] = h.y;
		b.mat[8] = h.z;
		b.mat[1] = k.x;
		b.mat[5] = k.y;
		b.mat[9] = k.z;
		b.mat[2] = -d.x;
		b.mat[6] = -d.y;
		b.mat[10] = -d.z;
		c = a.math.Matrix4.createByTranslation(-c.x, -c.y, -c.z);
		b.multiply(c);
		return b
	};
	var d = new a.math.Matrix4;
	b.lookAt = function(b, c, g) {
		c = new a.math.Vec3(c);
		var h =
			new a.math.Vec3(g);
		g = this.mat;
		c.subtract(b);
		c.normalize();
		h.normalize();
		var k = new a.math.Vec3(c);
		k.cross(h);
		k.normalize();
		h = new a.math.Vec3(k);
		h.cross(c);
		k.normalize();
		this.identity();
		g[0] = k.x;
		g[4] = k.y;
		g[8] = k.z;
		g[1] = h.x;
		g[5] = h.y;
		g[9] = h.z;
		g[2] = -c.x;
		g[6] = -c.y;
		g[10] = -c.z;
		d = a.math.Matrix4.createByTranslation(-b.x, -b.y, -b.z, d);
		this.multiply(d);
		return this
	};
	a.kmMat4RotationAxisAngle = function(b, c, d) {
		var h = Math.cos(d);
		d = Math.sin(d);
		c = new a.math.Vec3(c);
		c.normalize();
		b.mat[0] = h + c.x * c.x * (1 - h);
		b.mat[1] = c.z *
			d + c.y * c.x * (1 - h);
		b.mat[2] = -c.y * d + c.z * c.x * (1 - h);
		b.mat[3] = 0;
		b.mat[4] = -c.z * d + c.x * c.y * (1 - h);
		b.mat[5] = h + c.y * c.y * (1 - h);
		b.mat[6] = c.x * d + c.z * c.y * (1 - h);
		b.mat[7] = 0;
		b.mat[8] = c.y * d + c.x * c.z * (1 - h);
		b.mat[9] = -c.x * d + c.y * c.z * (1 - h);
		b.mat[10] = h + c.z * c.z * (1 - h);
		b.mat[11] = 0;
		b.mat[12] = 0;
		b.mat[13] = 0;
		b.mat[14] = 0;
		b.mat[15] = 1;
		return b
	};
	a.math.Matrix4.createByAxisAndAngle = function(b, c, d) {
		d = d || new a.math.Matrix4;
		var h = this.mat,
			k = Math.cos(c);
		c = Math.sin(c);
		b = new a.math.Vec3(b);
		b.normalize();
		h[0] = k + b.x * b.x * (1 - k);
		h[1] = b.z * c + b.y * b.x *
			(1 - k);
		h[2] = -b.y * c + b.z * b.x * (1 - k);
		h[3] = 0;
		h[4] = -b.z * c + b.x * b.y * (1 - k);
		h[5] = k + b.y * b.y * (1 - k);
		h[6] = b.x * c + b.z * b.y * (1 - k);
		h[7] = 0;
		h[8] = b.y * c + b.x * b.z * (1 - k);
		h[9] = -b.x * c + b.y * b.z * (1 - k);
		h[10] = k + b.z * b.z * (1 - k);
		h[11] = 0;
		h[12] = h[13] = h[14] = 0;
		h[15] = 1;
		return d
	};
	b.extractRotation = function() {
		var b = new a.math.Matrix3,
			c = this.mat,
			d = b.mat;
		d[0] = c[0];
		d[1] = c[1];
		d[2] = c[2];
		d[3] = c[4];
		d[4] = c[5];
		d[5] = c[6];
		d[6] = c[8];
		d[7] = c[9];
		d[8] = c[10];
		return b
	};
	b.extractPlane = function(b) {
		var c = new a.math.Plane,
			d = this.mat;
		switch (b) {
			case a.math.Plane.RIGHT:
				c.a =
					d[3] - d[0];
				c.b = d[7] - d[4];
				c.c = d[11] - d[8];
				c.d = d[15] - d[12];
				break;
			case a.math.Plane.LEFT:
				c.a = d[3] + d[0];
				c.b = d[7] + d[4];
				c.c = d[11] + d[8];
				c.d = d[15] + d[12];
				break;
			case a.math.Plane.BOTTOM:
				c.a = d[3] + d[1];
				c.b = d[7] + d[5];
				c.c = d[11] + d[9];
				c.d = d[15] + d[13];
				break;
			case a.math.Plane.TOP:
				c.a = d[3] - d[1];
				c.b = d[7] - d[5];
				c.c = d[11] - d[9];
				c.d = d[15] - d[13];
				break;
			case a.math.Plane.FAR:
				c.a = d[3] - d[2];
				c.b = d[7] - d[6];
				c.c = d[11] - d[10];
				c.d = d[15] - d[14];
				break;
			case a.math.Plane.NEAR:
				c.a = d[3] + d[2];
				c.b = d[7] + d[6];
				c.c = d[11] + d[10];
				c.d = d[15] + d[14];
				break;
			default:
				a.log("cc.math.Matrix4.extractPlane: Invalid plane index")
		}
		b = Math.sqrt(c.a * c.a + c.b * c.b + c.c * c.c);
		c.a /= b;
		c.b /= b;
		c.c /= b;
		c.d /= b;
		return c
	};
	b.toAxisAndAngle = function() {
		var b = this.extractRotation();
		return a.math.Quaternion.rotationMatrix(b).toAxisAndAngle()
	}
})(cc);
(function(a) {
	a.math.Plane = function(a, b, e, f) {
		a && void 0 === b ? (this.a = a.a, this.b = a.b, this.c = a.c, this.d = a.d) : (this.a = a || 0, this.b = b || 0, this.c = e || 0, this.d = f || 0)
	};
	a.kmPlane = a.math.Plane;
	var b = a.math.Plane.prototype;
	a.math.Plane.LEFT = 0;
	a.math.Plane.RIGHT = 1;
	a.math.Plane.BOTTOM = 2;
	a.math.Plane.TOP = 3;
	a.math.Plane.NEAR = 4;
	a.math.Plane.FAR = 5;
	a.math.Plane.POINT_INFRONT_OF_PLANE = 0;
	a.math.Plane.POINT_BEHIND_PLANE = 1;
	a.math.Plane.POINT_ON_PLANE = 2;
	b.dot = function(a) {
		return this.a * a.x + this.b * a.y + this.c * a.z + this.d * a.w
	};
	b.dotCoord =
		function(a) {
			return this.a * a.x + this.b * a.y + this.c * a.z + this.d
		};
	b.dotNormal = function(a) {
		return this.a * a.x + this.b * a.y + this.c * a.z
	};
	a.math.Plane.fromPointNormal = function(b, d) {
		return new a.math.Plane(d.x, d.y, d.z, -d.dot(b))
	};
	a.math.Plane.fromPoints = function(b, d, e) {
		d = new a.math.Vec3(d);
		e = new a.math.Vec3(e);
		var f = new a.math.Plane;
		d.subtract(b);
		e.subtract(b);
		d.cross(e);
		d.normalize();
		f.a = d.x;
		f.b = d.y;
		f.c = d.z;
		f.d = d.scale(-1).dot(b);
		return f
	};
	b.normalize = function() {
		var b = new a.math.Vec3(this.a, this.b, this.c),
			d = 1 /
			b.length();
		b.normalize();
		this.a = b.x;
		this.b = b.y;
		this.c = b.z;
		this.d *= d;
		return this
	};
	b.classifyPoint = function(b) {
		b = this.a * b.x + this.b * b.y + this.c * b.z + this.d;
		return 0.001 < b ? a.math.Plane.POINT_INFRONT_OF_PLANE : -0.001 > b ? a.math.Plane.POINT_BEHIND_PLANE : a.math.Plane.POINT_ON_PLANE
	}
})(cc);
(function(a) {
	a.math.Quaternion = function(a, b, e, f) {
		a && void 0 === b ? (this.x = a.x, this.y = a.y, this.z = a.z, this.w = a.w) : (this.x = a || 0, this.y = b || 0, this.z = e || 0, this.w = f || 0)
	};
	a.kmQuaternion = a.math.Quaternion;
	var b = a.math.Quaternion.prototype;
	b.conjugate = function(a) {
		this.x = -a.x;
		this.y = -a.y;
		this.z = -a.z;
		this.w = a.w;
		return this
	};
	b.dot = function(a) {
		return this.w * a.w + this.x * a.x + this.y * a.y + this.z * a.z
	};
	b.exponential = function() {
		return this
	};
	b.identity = function() {
		this.z = this.y = this.x = 0;
		this.w = 1;
		return this
	};
	b.inverse = function() {
		var b =
			this.length();
		if (Math.abs(b) > a.math.EPSILON) return this.w = this.z = this.y = this.x = 0, this;
		this.conjugate(this).scale(1 / b);
		return this
	};
	b.isIdentity = function() {
		return 0 === this.x && 0 === this.y && 0 === this.z && 1 === this.w
	};
	b.length = function() {
		return Math.sqrt(this.lengthSq())
	};
	b.lengthSq = function() {
		return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
	};
	b.multiply = function(a) {
		var b = this.x,
			e = this.y,
			f = this.z,
			g = this.w;
		this.w = g * a.w - b * a.x - e * a.y - f * a.z;
		this.x = g * a.x + b * a.w + e * a.z - f * a.y;
		this.y = g * a.y + e * a.w + f * a.x -
			b * a.z;
		this.z = g * a.z + f * a.w + b * a.y - e * a.x;
		return this
	};
	b.normalize = function() {
		var b = this.length();
		if (Math.abs(b) <= a.math.EPSILON) throw Error("current quaternion is an invalid value");
		this.scale(1 / b);
		return this
	};
	b.rotationAxis = function(a, b) {
		var e = 0.5 * b,
			f = Math.sin(e);
		this.w = Math.cos(e);
		this.x = a.x * f;
		this.y = a.y * f;
		this.z = a.z * f;
		return this
	};
	a.math.Quaternion.rotationMatrix = function(b) {
		if (!b) return null;
		var d, e, f;
		d = [];
		e = b.mat;
		b = 0;
		d[0] = e[0];
		d[1] = e[3];
		d[2] = e[6];
		d[4] = e[1];
		d[5] = e[4];
		d[6] = e[7];
		d[8] = e[2];
		d[9] = e[5];
		d[10] = e[8];
		d[15] = 1;
		var g = d[0];
		b = g[0] + g[5] + g[10] + 1;
		b > a.math.EPSILON ? (b = 2 * Math.sqrt(b), d = (g[9] - g[6]) / b, e = (g[2] - g[8]) / b, f = (g[4] - g[1]) / b, b *= 0.25) : g[0] > g[5] && g[0] > g[10] ? (b = 2 * Math.sqrt(1 + g[0] - g[5] - g[10]), d = 0.25 * b, e = (g[4] + g[1]) / b, f = (g[2] + g[8]) / b, b = (g[9] - g[6]) / b) : g[5] > g[10] ? (b = 2 * Math.sqrt(1 + g[5] - g[0] - g[10]), d = (g[4] + g[1]) / b, e = 0.25 * b, f = (g[9] + g[6]) / b, b = (g[2] - g[8]) / b) : (b = 2 * Math.sqrt(1 + g[10] - g[0] - g[5]), d = (g[2] + g[8]) / b, e = (g[9] + g[6]) / b, f = 0.25 * b, b = (g[4] - g[1]) / b);
		return new a.math.Quaternion(d, e, f, b)
	};
	a.math.Quaternion.rotationYawPitchRoll =
		function(b, d, e) {
			var f, g, h, k, m;
			f = a.degreesToRadians(d) / 2;
			g = a.degreesToRadians(b) / 2;
			h = a.degreesToRadians(e) / 2;
			e = Math.cos(f);
			b = Math.cos(g);
			d = Math.cos(h);
			f = Math.sin(f);
			g = Math.sin(g);
			h = Math.sin(h);
			k = b * d;
			m = g * h;
			var n = new a.math.Quaternion;
			n.w = e * k + f * m;
			n.x = f * k - e * m;
			n.y = e * g * d + f * b * h;
			n.z = e * b * h - f * g * d;
			n.normalize();
			return n
		};
	b.slerp = function(b, d) {
		if (this.x === b.x && this.y === b.y && this.z === b.z && this.w === b.w) return this;
		var e = this.dot(b),
			f = Math.acos(e),
			g = Math.sqrt(1 - a.math.square(e)),
			e = Math.sin(d * f) / g,
			f = Math.sin((1 -
				d) * f) / g,
			g = new a.math.Quaternion(b);
		this.scale(f);
		g.scale(e);
		this.add(g);
		return this
	};
	b.toAxisAndAngle = function() {
		var b, d, e = new a.math.Vec3;
		b = Math.acos(this.w);
		d = Math.sqrt(a.math.square(this.x) + a.math.square(this.y) + a.math.square(this.z));
		d > -a.math.EPSILON && d < a.math.EPSILON || d < 2 * Math.PI + a.math.EPSILON && d > 2 * Math.PI - a.math.EPSILON ? (b = 0, e.x = 0, e.y = 0, e.z = 1) : (b *= 2, e.x = this.x / d, e.y = this.y / d, e.z = this.z / d, e.normalize());
		return {
			axis: e,
			angle: b
		}
	};
	b.scale = function(a) {
		this.x *= a;
		this.y *= a;
		this.z *= a;
		this.w *= a;
		return this
	};
	b.assignFrom = function(a) {
		this.x = a.x;
		this.y = a.y;
		this.z = a.z;
		this.w = a.w;
		return this
	};
	b.add = function(a) {
		this.x += a.x;
		this.y += a.y;
		this.z += a.z;
		this.w += a.w;
		return this
	};
	a.math.Quaternion.rotationBetweenVec3 = function(b, d, e) {
		var f = new a.math.Vec3(b),
			g = new a.math.Vec3(d);
		f.normalize();
		g.normalize();
		var h = f.dot(g);
		d = new a.math.Quaternion;
		if (1 <= h) return d.identity(), d; - 0.999999 > h ? Math.abs(e.lengthSq()) < a.math.EPSILON ? d.rotationAxis(e, Math.PI) : (f = new a.math.Vec3(1, 0, 0), f.cross(b), Math.abs(f.lengthSq()) < a.math.EPSILON &&
			(f.fill(0, 1, 0), f.cross(b)), f.normalize(), d.rotationAxis(f, Math.PI)) : (b = Math.sqrt(2 * (1 + h)), e = 1 / b, f.cross(g), d.x = f.x * e, d.y = f.y * e, d.z = f.z * e, d.w = 0.5 * b, d.normalize());
		return d
	};
	b.multiplyVec3 = function(b) {
		var d = this.x,
			e = this.y,
			f = this.z,
			g = new a.math.Vec3(b),
			h = new a.math.Vec3(d, e, f),
			d = new a.math.Vec3(d, e, f);
		h.cross(b);
		d.cross(h);
		h.scale(2 * q.w);
		d.scale(2);
		g.add(h);
		g.add(d);
		return g
	}
})(cc);
cc.math.AABB = function(a, b) {
	this.min = a || new cc.math.Vec3;
	this.max = b || new cc.math.Vec3
};
cc.math.AABB.prototype.containsPoint = function(a) {
	return a.x >= this.min.x && a.x <= this.max.x && a.y >= this.min.y && a.y <= this.max.y && a.z >= this.min.z && a.z <= this.max.z
};
cc.math.AABB.containsPoint = function(a, b) {
	return a.x >= b.min.x && a.x <= b.max.x && a.y >= b.min.y && a.y <= b.max.y && a.z >= b.min.z && a.z <= b.max.z
};
cc.math.AABB.prototype.assignFrom = function(a) {
	this.min.assignFrom(a.min);
	this.max.assignFrom(a.max)
};
cc.math.AABB.assign = function(a, b) {
	a.min.assignFrom(b.min);
	a.max.assignFrom(b.max);
	return a
};
(function(a) {
	a.math.Matrix4Stack = function(a, b) {
		this.top = a;
		this.stack = b || [];
		this.lastUpdated = 0
	};
	a.km_mat4_stack = a.math.Matrix4Stack;
	var b = a.math.Matrix4Stack.prototype;
	b.initialize = function() {
		this.stack.length = 0;
		this.top = null
	};
	a.km_mat4_stack_push = function(b, d) {
		b.stack.push(b.top);
		b.top = new a.math.Matrix4(d)
	};
	a.km_mat4_stack_pop = function(a, b) {
		a.top = a.stack.pop()
	};
	a.km_mat4_stack_release = function(a) {
		a.stack = null;
		a.top = null
	};
	b.push = function(b) {
		b = b || this.top;
		this.stack.push(this.top);
		this.top = new a.math.Matrix4(b)
	};
	b.pop = function() {
		this.top = this.stack.pop()
	};
	b.release = function() {
		this._matrixPool = this.top = this.stack = null
	};
	b._getFromPool = function(b) {
		var d = this._matrixPool;
		if (0 === d.length) return new a.math.Matrix4(b);
		d = d.pop();
		d.assignFrom(b);
		return d
	};
	b._putInPool = function(a) {
		this._matrixPool.push(a)
	}
})(cc);
(function(a) {
	a.KM_GL_MODELVIEW = 5888;
	a.KM_GL_PROJECTION = 5889;
	a.KM_GL_TEXTURE = 5890;
	a.modelview_matrix_stack = new a.math.Matrix4Stack;
	a.projection_matrix_stack = new a.math.Matrix4Stack;
	a.texture_matrix_stack = new a.math.Matrix4Stack;
	a.current_stack = null;
	a.lazyInitialize = function() {
		var b = new a.math.Matrix4;
		a.modelview_matrix_stack.initialize();
		a.projection_matrix_stack.initialize();
		a.texture_matrix_stack.initialize();
		a.current_stack = a.modelview_matrix_stack;
		a.initialized = !0;
		b.identity();
		a.modelview_matrix_stack.push(b);
		a.projection_matrix_stack.push(b);
		a.texture_matrix_stack.push(b)
	};
	a.lazyInitialize();
	a.kmGLFreeAll = function() {
		a.modelview_matrix_stack.release();
		a.modelview_matrix_stack = null;
		a.projection_matrix_stack.release();
		a.projection_matrix_stack = null;
		a.texture_matrix_stack.release();
		a.texture_matrix_stack = null;
		a.initialized = !1;
		a.current_stack = null
	};
	a.kmGLPushMatrix = function() {
		a.current_stack.push(a.current_stack.top)
	};
	a.kmGLPushMatrixWitMat4 = function(b) {
		a.current_stack.stack.push(a.current_stack.top);
		b.assignFrom(a.current_stack.top);
		a.current_stack.top = b
	};
	a.kmGLPopMatrix = function() {
		a.current_stack.top = a.current_stack.stack.pop()
	};
	a.kmGLMatrixMode = function(b) {
		switch (b) {
			case a.KM_GL_MODELVIEW:
				a.current_stack = a.modelview_matrix_stack;
				break;
			case a.KM_GL_PROJECTION:
				a.current_stack = a.projection_matrix_stack;
				break;
			case a.KM_GL_TEXTURE:
				a.current_stack = a.texture_matrix_stack;
				break;
			default:
				throw Error("Invalid matrix mode specified");
		}
		a.current_stack.lastUpdated = a.director.getTotalFrames()
	};
	a.kmGLLoadIdentity = function() {
		a.current_stack.top.identity()
	};
	a.kmGLLoadMatrix = function(b) {
		a.current_stack.top.assignFrom(b)
	};
	a.kmGLMultMatrix = function(b) {
		a.current_stack.top.multiply(b)
	};
	var b = new a.math.Matrix4;
	a.kmGLTranslatef = function(c, e, f) {
		c = a.math.Matrix4.createByTranslation(c, e, f, b);
		a.current_stack.top.multiply(c)
	};
	var c = new a.math.Vec3;
	a.kmGLRotatef = function(d, e, f, g) {
		c.fill(e, f, g);
		d = a.math.Matrix4.createByAxisAndAngle(c, a.degreesToRadians(d), b);
		a.current_stack.top.multiply(d)
	};
	a.kmGLScalef = function(c, e, f) {
		c = a.math.Matrix4.createByScale(c, e, f, b);
		a.current_stack.top.multiply(c)
	};
	a.kmGLGetMatrix = function(b, c) {
		switch (b) {
			case a.KM_GL_MODELVIEW:
				c.assignFrom(a.modelview_matrix_stack.top);
				break;
			case a.KM_GL_PROJECTION:
				c.assignFrom(a.projection_matrix_stack.top);
				break;
			case a.KM_GL_TEXTURE:
				c.assignFrom(a.texture_matrix_stack.top);
				break;
			default:
				throw Error("Invalid matrix mode specified");
		}
	}
})(cc);
cc.SHADER_POSITION_UCOLOR_FRAG = "precision lowp float;\nvarying vec4 v_fragmentColor;\nvoid main()                              \n{ \n    gl_FragColor \x3d v_fragmentColor;      \n}\n";
cc.SHADER_POSITION_UCOLOR_VERT = "attribute vec4 a_position;\nuniform    vec4 u_color;\nuniform float u_pointSize;\nvarying lowp vec4 v_fragmentColor; \nvoid main(void)   \n{\n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    gl_PointSize \x3d u_pointSize;          \n    v_fragmentColor \x3d u_color;           \n}";
cc.SHADER_POSITION_COLOR_FRAG = "precision lowp float; \nvarying vec4 v_fragmentColor; \nvoid main() \n{ \n     gl_FragColor \x3d v_fragmentColor; \n} ";
cc.SHADER_POSITION_COLOR_VERT = "attribute vec4 a_position;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvoid main()\n{\n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor \x3d a_color;             \n}";
cc.SHADER_SPRITE_POSITION_COLOR_VERT = "attribute vec4 a_position;\nattribute vec4 a_color;\nvarying lowp vec4 v_fragmentColor;\nvoid main()\n{\n    gl_Position \x3d CC_PMatrix * a_position;  \n    v_fragmentColor \x3d a_color;             \n}";
cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_FRAG = "// #extension GL_OES_standard_derivatives : enable\nvarying mediump vec4 v_color;\nvarying mediump vec2 v_texcoord;\nvoid main()\t\n{ \n// #if defined GL_OES_standard_derivatives\t\n// gl_FragColor \x3d v_color*smoothstep(0.0, length(fwidth(v_texcoord)), 1.0 - length(v_texcoord)); \n// #else\t\ngl_FragColor \x3d v_color * step(0.0, 1.0 - length(v_texcoord)); \n// #endif \n}";
cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_VERT = "attribute mediump vec4 a_position; \nattribute mediump vec2 a_texcoord; \nattribute mediump vec4 a_color;\t\nvarying mediump vec4 v_color; \nvarying mediump vec2 v_texcoord;\t\nvoid main() \n{ \n     v_color \x3d a_color;//vec4(a_color.rgb * a_color.a, a_color.a); \n     v_texcoord \x3d a_texcoord; \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n}";
cc.SHADER_POSITION_TEXTURE_FRAG = "precision lowp float;   \nvarying vec2 v_texCoord;  \nvoid main() \n{  \n    gl_FragColor \x3d  texture2D(CC_Texture0, v_texCoord);   \n}";
cc.SHADER_POSITION_TEXTURE_VERT = "attribute vec4 a_position; \nattribute vec2 a_texCoord; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_texCoord \x3d a_texCoord;               \n}";
cc.SHADER_POSITION_TEXTURE_UCOLOR_FRAG = "precision lowp float;  \nuniform vec4 u_color; \nvarying vec2 v_texCoord; \nvoid main() \n{  \n    gl_FragColor \x3d  texture2D(CC_Texture0, v_texCoord) * u_color;    \n}";
cc.SHADER_POSITION_TEXTURE_UCOLOR_VERT = "attribute vec4 a_position;\nattribute vec2 a_texCoord; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_texCoord \x3d a_texCoord;                 \n}";
cc.SHADER_POSITION_TEXTURE_A8COLOR_FRAG = "precision lowp float;  \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    gl_FragColor \x3d vec4( v_fragmentColor.rgb,         \n        v_fragmentColor.a * texture2D(CC_Texture0, v_texCoord).a   \n    ); \n}";
cc.SHADER_POSITION_TEXTURE_A8COLOR_VERT = "attribute vec4 a_position; \nattribute vec2 a_texCoord; \nattribute vec4 a_color;  \nvarying lowp vec4 v_fragmentColor; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor \x3d a_color; \n    v_texCoord \x3d a_texCoord; \n}";
cc.SHADER_POSITION_TEXTURE_COLOR_FRAG = "precision lowp float;\nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    gl_FragColor \x3d v_fragmentColor * texture2D(CC_Texture0, v_texCoord); \n}";
cc.SHADER_POSITION_TEXTURE_COLOR_VERT = "attribute vec4 a_position; \nattribute vec2 a_texCoord; \nattribute vec4 a_color;  \nvarying lowp vec4 v_fragmentColor; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d (CC_PMatrix * CC_MVMatrix) * a_position;  \n    v_fragmentColor \x3d a_color; \n    v_texCoord \x3d a_texCoord; \n}";
cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT = "attribute vec4 a_position; \nattribute vec2 a_texCoord; \nattribute vec4 a_color;  \nvarying lowp vec4 v_fragmentColor; \nvarying mediump vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position \x3d CC_PMatrix * a_position;  \n    v_fragmentColor \x3d a_color; \n    v_texCoord \x3d a_texCoord; \n}";
cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_GRAY_FRAG = "precision lowp float;\nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    vec4 c \x3d texture2D(CC_Texture0, v_texCoord); \n    gl_FragColor.xyz \x3d vec3(0.2126*c.r + 0.7152*c.g + 0.0722*c.b); \n     gl_FragColor.w \x3d c.w ; \n}";
cc.SHADER_POSITION_TEXTURE_COLOR_ALPHATEST_FRAG = "precision lowp float;   \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord;   \nuniform float CC_alpha_value; \nvoid main() \n{  \n    vec4 texColor \x3d texture2D(CC_Texture0, v_texCoord);  \n    if ( texColor.a \x3c\x3d CC_alpha_value )          \n        discard; \n    gl_FragColor \x3d texColor * v_fragmentColor;  \n}";
cc.SHADEREX_SWITCHMASK_FRAG = "precision lowp float; \nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nuniform sampler2D u_texture;  \nuniform sampler2D   u_mask;   \nvoid main()  \n{  \n    vec4 texColor   \x3d texture2D(u_texture, v_texCoord);  \n    vec4 maskColor  \x3d texture2D(u_mask, v_texCoord); \n    vec4 finalColor \x3d vec4(texColor.r, texColor.g, texColor.b, maskColor.a * texColor.a);        \n    gl_FragColor    \x3d v_fragmentColor * finalColor; \n}";
cc.shaderCache = {
	TYPE_POSITION_TEXTURECOLOR: 0,
	TYPE_POSITION_TEXTURECOLOR_ALPHATEST: 1,
	TYPE_POSITION_COLOR: 2,
	TYPE_POSITION_TEXTURE: 3,
	TYPE_POSITION_TEXTURE_UCOLOR: 4,
	TYPE_POSITION_TEXTURE_A8COLOR: 5,
	TYPE_POSITION_UCOLOR: 6,
	TYPE_POSITION_LENGTH_TEXTURECOLOR: 7,
	TYPE_SPRITE_POSITION_TEXTURECOLOR: 8,
	TYPE_SPRITE_POSITION_TEXTURECOLOR_ALPHATEST: 9,
	TYPE_SPRITE_POSITION_COLOR: 10,
	TYPE_SPRITE_POSITION_TEXTURECOLOR_GRAY: 11,
	TYPE_MAX: 11,
	_keyMap: [cc.SHADER_POSITION_TEXTURECOLOR, cc.SHADER_POSITION_TEXTURECOLORALPHATEST, cc.SHADER_POSITION_COLOR,
		cc.SHADER_POSITION_TEXTURE, cc.SHADER_POSITION_TEXTURE_UCOLOR, cc.SHADER_POSITION_TEXTUREA8COLOR, cc.SHADER_POSITION_UCOLOR, cc.SHADER_POSITION_LENGTHTEXTURECOLOR, cc.SHADER_SPRITE_POSITION_TEXTURECOLOR, cc.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST, cc.SHADER_SPRITE_POSITION_COLOR, cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY
	],
	_programs: {},
	_init: function() {
		this.loadDefaultShaders();
		return !0
	},
	_loadDefaultShader: function(a, b) {
		switch (b) {
			case cc.SHADER_POSITION_TEXTURECOLOR:
				a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_COLOR_VERT,
					cc.SHADER_POSITION_TEXTURE_COLOR_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_TEX_COORDS);
				break;
			case cc.SHADER_SPRITE_POSITION_TEXTURECOLOR:
				a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT, cc.SHADER_POSITION_TEXTURE_COLOR_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR,
					cc.VERTEX_ATTRIB_COLOR);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_TEX_COORDS);
				break;
			case cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY:
				a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT, cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_GRAY_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_TEX_COORDS);
				break;
			case cc.SHADER_POSITION_TEXTURECOLORALPHATEST:
				a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_COLOR_VERT,
					cc.SHADER_POSITION_TEXTURE_COLOR_ALPHATEST_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_TEX_COORDS);
				break;
			case cc.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST:
				a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_VERT, cc.SHADER_POSITION_TEXTURE_COLOR_ALPHATEST_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_TEX_COORDS);
				break;
			case cc.SHADER_POSITION_COLOR:
				a.initWithVertexShaderByteArray(cc.SHADER_POSITION_COLOR_VERT, cc.SHADER_POSITION_COLOR_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR);
				break;
			case cc.SHADER_SPRITE_POSITION_COLOR:
				a.initWithVertexShaderByteArray(cc.SHADER_SPRITE_POSITION_COLOR_VERT,
					cc.SHADER_POSITION_COLOR_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR);
				break;
			case cc.SHADER_POSITION_TEXTURE:
				a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_VERT, cc.SHADER_POSITION_TEXTURE_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_TEX_COORDS);
				break;
			case cc.SHADER_POSITION_TEXTURE_UCOLOR:
				a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_UCOLOR_VERT,
					cc.SHADER_POSITION_TEXTURE_UCOLOR_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_TEX_COORDS);
				break;
			case cc.SHADER_POSITION_TEXTUREA8COLOR:
				a.initWithVertexShaderByteArray(cc.SHADER_POSITION_TEXTURE_A8COLOR_VERT, cc.SHADER_POSITION_TEXTURE_A8COLOR_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD,
					cc.VERTEX_ATTRIB_TEX_COORDS);
				break;
			case cc.SHADER_POSITION_UCOLOR:
				a.initWithVertexShaderByteArray(cc.SHADER_POSITION_UCOLOR_VERT, cc.SHADER_POSITION_UCOLOR_FRAG);
				a.addAttribute("aVertex", cc.VERTEX_ATTRIB_POSITION);
				break;
			case cc.SHADER_POSITION_LENGTHTEXTURECOLOR:
				a.initWithVertexShaderByteArray(cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_VERT, cc.SHADER_POSITION_COLOR_LENGTH_TEXTURE_FRAG);
				a.addAttribute(cc.ATTRIBUTE_NAME_POSITION, cc.VERTEX_ATTRIB_POSITION);
				a.addAttribute(cc.ATTRIBUTE_NAME_TEX_COORD, cc.VERTEX_ATTRIB_TEX_COORDS);
				a.addAttribute(cc.ATTRIBUTE_NAME_COLOR, cc.VERTEX_ATTRIB_COLOR);
				break;
			default:
				cc.log("cocos2d: cc.shaderCache._loadDefaultShader, error shader type");
				return
		}
		a.link();
		a.updateUniforms()
	},
	loadDefaultShaders: function() {
		for (var a = 0; a < this.TYPE_MAX; ++a) this.programForKey(this._keyMap[a])
	},
	reloadDefaultShaders: function() {
		var a = this.programForKey(cc.SHADER_POSITION_TEXTURECOLOR);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_POSITION_TEXTURECOLOR);
		a = this.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_SPRITE_POSITION_TEXTURECOLOR);
		a = this.programForKey(cc.SHADER_POSITION_TEXTURECOLORALPHATEST);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_POSITION_TEXTURECOLORALPHATEST);
		a = this.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST);
		a = this.programForKey(cc.SHADER_POSITION_COLOR);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_POSITION_COLOR);
		a = this.programForKey(cc.SHADER_POSITION_TEXTURE);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_POSITION_TEXTURE);
		a = this.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_GRAY_FRAG);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_SPRITE_POSITION_TEXTURE_COLOR_GRAY_FRAG);
		a = this.programForKey(cc.SHADER_POSITION_TEXTURE_UCOLOR);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_POSITION_TEXTURE_UCOLOR);
		a = this.programForKey(cc.SHADER_POSITION_TEXTUREA8COLOR);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_POSITION_TEXTUREA8COLOR);
		a = this.programForKey(cc.SHADER_POSITION_UCOLOR);
		a.reset();
		this._loadDefaultShader(a, cc.SHADER_POSITION_UCOLOR)
	},
	programForKey: function(a) {
		if (!this._programs[a]) {
			var b = new cc.GLProgram;
			this._loadDefaultShader(b, a);
			this._programs[a] = b
		}
		return this._programs[a]
	},
	getProgram: function(a) {
		return this.programForKey(a)
	},
	addProgram: function(a, b) {
		this._programs[b] = a
	}
};
cc.GLProgram = cc.Class.extend({
	_glContext: null,
	_programObj: null,
	_vertShader: null,
	_fragShader: null,
	_uniforms: null,
	_hashForUniforms: null,
	_usesTime: !1,
	_projectionUpdated: -1,
	_updateUniform: function(a) {
		if (!a) return !1;
		var b = !1,
			c = this._hashForUniforms[a],
			d;
		if (Array.isArray(arguments[1])) d = arguments[1];
		else {
			d = Array(arguments.length - 1);
			for (var e = 1; e < arguments.length; e += 1) d[e - 1] = arguments[e]
		}
		if (c && c.length === d.length)
			for (e = 0; e < d.length; e += 1) {
				if (d[e] !== c[e] || "object" === typeof d[e]) c[e] = d[e], b = !0
			} else this._hashForUniforms[a] = [].concat(d), b = !0;
		return b
	},
	_description: function() {
		return "\x3cCCGLProgram \x3d " + this.toString() + " | Program \x3d " + this._programObj.toString() + ", VertexShader \x3d " + this._vertShader.toString() + ", FragmentShader \x3d " + this._fragShader.toString() + "\x3e"
	},
	_compileShader: function(a, b, c) {
		if (!c || !a) return !1;
		c = (cc.GLProgram._isHighpSupported() ? "precision highp float;\n" : "precision mediump float;\n") + "uniform mat4 CC_PMatrix;         \nuniform mat4 CC_MVMatrix;        \nuniform mat4 CC_MVPMatrix;       \nuniform vec4 CC_Time;            \nuniform vec4 CC_SinTime;         \nuniform vec4 CC_CosTime;         \nuniform vec4 CC_Random01;        \nuniform sampler2D CC_Texture0;   \n//CC INCLUDES END                \n" +
			c;
		this._glContext.shaderSource(a, c);
		this._glContext.compileShader(a);
		c = this._glContext.getShaderParameter(a, this._glContext.COMPILE_STATUS);
		c || (cc.log("cocos2d: ERROR: Failed to compile shader:\n" + this._glContext.getShaderSource(a)), b === this._glContext.VERTEX_SHADER ? cc.log("cocos2d: \n" + this.vertexShaderLog()) : cc.log("cocos2d: \n" + this.fragmentShaderLog()));
		return !0 === c
	},
	ctor: function(a, b, c) {
		this._uniforms = {};
		this._hashForUniforms = {};
		this._glContext = c || cc._renderContext;
		a && b && this.init(a, b)
	},
	destroyProgram: function() {
		this._hashForUniforms =
			this._uniforms = this._fragShader = this._vertShader = null;
		this._glContext.deleteProgram(this._programObj)
	},
	initWithVertexShaderByteArray: function(a, b) {
		var c = this._glContext;
		this._programObj = c.createProgram();
		this._fragShader = this._vertShader = null;
		a && (this._vertShader = c.createShader(c.VERTEX_SHADER), this._compileShader(this._vertShader, c.VERTEX_SHADER, a) || cc.log("cocos2d: ERROR: Failed to compile vertex shader"));
		b && (this._fragShader = c.createShader(c.FRAGMENT_SHADER), this._compileShader(this._fragShader,
			c.FRAGMENT_SHADER, b) || cc.log("cocos2d: ERROR: Failed to compile fragment shader"));
		this._vertShader && c.attachShader(this._programObj, this._vertShader);
		cc.checkGLErrorDebug();
		this._fragShader && c.attachShader(this._programObj, this._fragShader);
		0 < Object.keys(this._hashForUniforms).length && (this._hashForUniforms = {});
		cc.checkGLErrorDebug();
		return !0
	},
	initWithString: function(a, b) {
		return this.initWithVertexShaderByteArray(a, b)
	},
	initWithVertexShaderFilename: function(a, b) {
		var c = cc.loader.getRes(a);
		if (!c) throw Error("Please load the resource firset : " +
			a);
		var d = cc.loader.getRes(b);
		if (!d) throw Error("Please load the resource firset : " + b);
		return this.initWithVertexShaderByteArray(c, d)
	},
	init: function(a, b) {
		return this.initWithVertexShaderFilename(a, b)
	},
	addAttribute: function(a, b) {
		this._glContext.bindAttribLocation(this._programObj, b, a)
	},
	link: function() {
		if (!this._programObj) return cc.log("cc.GLProgram.link(): Cannot link invalid program"), !1;
		this._glContext.linkProgram(this._programObj);
		this._vertShader && this._glContext.deleteShader(this._vertShader);
		this._fragShader && this._glContext.deleteShader(this._fragShader);
		this._fragShader = this._vertShader = null;
		return cc.game.config[cc.game.CONFIG_KEY.debugMode] && !this._glContext.getProgramParameter(this._programObj, this._glContext.LINK_STATUS) ? (cc.log("cocos2d: ERROR: Failed to link program: " + this._glContext.getProgramInfoLog(this._programObj)), cc.glDeleteProgram(this._programObj), this._programObj = null, !1) : !0
	},
	use: function() {
		cc.glUseProgram(this._programObj)
	},
	updateUniforms: function() {
		this._addUniformLocation(cc.UNIFORM_PMATRIX_S);
		this._addUniformLocation(cc.UNIFORM_MVMATRIX_S);
		this._addUniformLocation(cc.UNIFORM_MVPMATRIX_S);
		this._addUniformLocation(cc.UNIFORM_TIME_S);
		this._addUniformLocation(cc.UNIFORM_SINTIME_S);
		this._addUniformLocation(cc.UNIFORM_COSTIME_S);
		this._addUniformLocation(cc.UNIFORM_RANDOM01_S);
		this._addUniformLocation(cc.UNIFORM_SAMPLER_S);
		this._usesTime = null != this._uniforms[cc.UNIFORM_TIME_S] || null != this._uniforms[cc.UNIFORM_SINTIME_S] || null != this._uniforms[cc.UNIFORM_COSTIME_S];
		this.use();
		this.setUniformLocationWith1i(this._uniforms[cc.UNIFORM_SAMPLER_S],
			0)
	},
	_addUniformLocation: function(a) {
		var b = this._glContext.getUniformLocation(this._programObj, a);
		b && (b._name = a);
		return this._uniforms[a] = b
	},
	getUniformLocationForName: function(a) {
		if (!a) throw Error("cc.GLProgram.getUniformLocationForName(): uniform name should be non-null");
		if (!this._programObj) throw Error("cc.GLProgram.getUniformLocationForName(): Invalid operation. Cannot get uniform location when program is not initialized");
		return this._uniforms[a] || this._addUniformLocation(a)
	},
	getUniformMVPMatrix: function() {
		return this._uniforms[cc.UNIFORM_MVPMATRIX_S]
	},
	getUniformSampler: function() {
		return this._uniforms[cc.UNIFORM_SAMPLER_S]
	},
	setUniformLocationWith1i: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniform1i(a, b)) : this._glContext.uniform1i(a, b)
	},
	setUniformLocationWith2i: function(a, b, c) {
		var d = "string" === typeof a,
			e = d ? a : a && a._name;
		e ? this._updateUniform(e, b, c) && (d && (a = this.getUniformLocationForName(e)), this._glContext.uniform2i(a, b, c)) : this._glContext.uniform2i(a,
			b, c)
	},
	setUniformLocationWith3i: function(a, b, c, d) {
		var e = "string" === typeof a,
			f = e ? a : a && a._name;
		f ? this._updateUniform(f, b, c, d) && (e && (a = this.getUniformLocationForName(f)), this._glContext.uniform3i(a, b, c, d)) : this._glContext.uniform3i(a, b, c, d)
	},
	setUniformLocationWith4i: function(a, b, c, d, e) {
		var f = "string" === typeof a,
			g = f ? a : a && a._name;
		g ? this._updateUniform(g, b, c, d, e) && (f && (a = this.getUniformLocationForName(g)), this._glContext.uniform4i(a, b, c, d, e)) : this._glContext.uniform4i(a, b, c, d, e)
	},
	setUniformLocationWith2iv: function(a,
		b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniform2iv(a, b)) : this._glContext.uniform2iv(a, b)
	},
	setUniformLocationWith3iv: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniform3iv(a, b)) : this._glContext.uniform3iv(a, b)
	},
	setUniformLocationWith4iv: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d,
			b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniform4iv(a, b)) : this._glContext.uniform4iv(a, b)
	},
	setUniformLocationI32: function(a, b) {
		this.setUniformLocationWith1i(a, b)
	},
	setUniformLocationWith1f: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniform1f(a, b)) : this._glContext.uniform1f(a, b)
	},
	setUniformLocationWith2f: function(a, b, c) {
		var d = "string" === typeof a,
			e = d ? a : a && a._name;
		e ? this._updateUniform(e,
			b, c) && (d && (a = this.getUniformLocationForName(e)), this._glContext.uniform2f(a, b, c)) : this._glContext.uniform2f(a, b, c)
	},
	setUniformLocationWith3f: function(a, b, c, d) {
		var e = "string" === typeof a,
			f = e ? a : a && a._name;
		f ? this._updateUniform(f, b, c, d) && (e && (a = this.getUniformLocationForName(f)), this._glContext.uniform3f(a, b, c, d)) : this._glContext.uniform3f(a, b, c, d)
	},
	setUniformLocationWith4f: function(a, b, c, d, e) {
		var f = "string" === typeof a,
			g = f ? a : a && a._name;
		g ? this._updateUniform(g, b, c, d, e) && (f && (a = this.getUniformLocationForName(g)),
			this._glContext.uniform4f(a, b, c, d, e)) : (this._glContext.uniform4f(a, b, c, d, e), cc.log("uniform4f", b, c, d, e))
	},
	setUniformLocationWith2fv: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniform2fv(a, b)) : this._glContext.uniform2fv(a, b)
	},
	setUniformLocationWith3fv: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniform3fv(a,
			b)) : this._glContext.uniform3fv(a, b)
	},
	setUniformLocationWith4fv: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniform4fv(a, b)) : (this._glContext.uniform4fv(a, b), cc.log("uniform4fv", b))
	},
	setUniformLocationWithMatrix2fv: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniformMatrix2fv(a, !1, b)) : this._glContext.uniformMatrix2fv(a,
			!1, b)
	},
	setUniformLocationWithMatrix3fv: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniformMatrix3fv(a, !1, b)) : this._glContext.uniformMatrix3fv(a, !1, b)
	},
	setUniformLocationWithMatrix4fv: function(a, b) {
		var c = "string" === typeof a,
			d = c ? a : a && a._name;
		d ? this._updateUniform(d, b) && (c && (a = this.getUniformLocationForName(d)), this._glContext.uniformMatrix4fv(a, !1, b)) : this._glContext.uniformMatrix4fv(a, !1, b)
	},
	setUniformLocationF32: function() {
		if (!(2 >
				arguments.length)) switch (arguments.length) {
			case 2:
				this.setUniformLocationWith1f(arguments[0], arguments[1]);
				break;
			case 3:
				this.setUniformLocationWith2f(arguments[0], arguments[1], arguments[2]);
				break;
			case 4:
				this.setUniformLocationWith3f(arguments[0], arguments[1], arguments[2], arguments[3]);
				break;
			case 5:
				this.setUniformLocationWith4f(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4])
		}
	},
	setUniformsForBuiltins: function() {
		var a = new cc.math.Matrix4,
			b = new cc.math.Matrix4,
			c = new cc.math.Matrix4;
		cc.kmGLGetMatrix(cc.KM_GL_PROJECTION, a);
		cc.kmGLGetMatrix(cc.KM_GL_MODELVIEW, b);
		cc.kmMat4Multiply(c, a, b);
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S], a.mat, 1);
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX_S], b.mat, 1);
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX_S], c.mat, 1);
		this._usesTime && (a = cc.director, a = a.getTotalFrames() * a.getAnimationInterval(), this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_TIME_S], a / 10,
			a, 2 * a, 4 * a), this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_SINTIME_S], a / 8, a / 4, a / 2, Math.sin(a)), this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_COSTIME_S], a / 8, a / 4, a / 2, Math.cos(a))); - 1 !== this._uniforms[cc.UNIFORM_RANDOM01_S] && this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_RANDOM01_S], Math.random(), Math.random(), Math.random(), Math.random())
	},
	_setUniformsForBuiltinsForRenderer: function(a) {
		if (a && a._renderCmd) {
			var b = new cc.math.Matrix4,
				c = new cc.math.Matrix4;
			cc.kmGLGetMatrix(cc.KM_GL_PROJECTION,
				b);
			cc.kmMat4Multiply(c, b, a._renderCmd._stackMatrix);
			this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S], b.mat, 1);
			this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX_S], a._renderCmd._stackMatrix.mat, 1);
			this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX_S], c.mat, 1);
			this._usesTime && (a = cc.director, a = a.getTotalFrames() * a.getAnimationInterval(), this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_TIME_S], a / 10, a, 2 * a, 4 * a), this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_SINTIME_S],
				a / 8, a / 4, a / 2, Math.sin(a)), this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_COSTIME_S], a / 8, a / 4, a / 2, Math.cos(a))); - 1 !== this._uniforms[cc.UNIFORM_RANDOM01_S] && this.setUniformLocationWith4f(this._uniforms[cc.UNIFORM_RANDOM01_S], Math.random(), Math.random(), Math.random(), Math.random())
		}
	},
	setUniformForModelViewProjectionMatrix: function() {
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX_S], cc.getMat4MultiplyValue(cc.projection_matrix_stack.top, cc.modelview_matrix_stack.top))
	},
	setUniformForModelViewProjectionMatrixWithMat4: function(a) {
		cc.kmMat4Multiply(a, cc.projection_matrix_stack.top, cc.modelview_matrix_stack.top);
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVPMATRIX_S], a.mat)
	},
	setUniformForModelViewAndProjectionMatrixWithMat4: function() {
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX_S], cc.modelview_matrix_stack.top.mat);
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S], cc.projection_matrix_stack.top.mat)
	},
	_setUniformForMVPMatrixWithMat4: function(a) {
		if (!a) throw Error("modelView matrix is undefined.");
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_MVMATRIX_S], a.mat);
		this.setUniformLocationWithMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S], cc.projection_matrix_stack.top.mat)
	},
	_updateProjectionUniform: function() {
		var a = cc.projection_matrix_stack;
		a.lastUpdated !== this._projectionUpdated && (this._glContext.uniformMatrix4fv(this._uniforms[cc.UNIFORM_PMATRIX_S], !1, a.top.mat), this._projectionUpdated =
			a.lastUpdated)
	},
	vertexShaderLog: function() {
		return this._glContext.getShaderInfoLog(this._vertShader)
	},
	getVertexShaderLog: function() {
		return this._glContext.getShaderInfoLog(this._vertShader)
	},
	getFragmentShaderLog: function() {
		return this._glContext.getShaderInfoLog(this._vertShader)
	},
	fragmentShaderLog: function() {
		return this._glContext.getShaderInfoLog(this._fragShader)
	},
	programLog: function() {
		return this._glContext.getProgramInfoLog(this._programObj)
	},
	getProgramLog: function() {
		return this._glContext.getProgramInfoLog(this._programObj)
	},
	reset: function() {
		this._fragShader = this._vertShader = null;
		0 < Object.keys(this._uniforms).length && (this._uniforms = {});
		this._glContext.deleteProgram(this._programObj);
		this._programObj = null;
		0 < Object.keys(this._hashForUniforms).length && (this._hashForUniforms = {})
	},
	getProgram: function() {
		return this._programObj
	},
	retain: function() {},
	release: function() {}
});
cc.GLProgram.create = function(a, b) {
	return new cc.GLProgram(a, b)
};
cc.GLProgram._highpSupported = null;
cc.GLProgram._isHighpSupported = function() {
	var a = cc._renderContext;
	a.getShaderPrecisionFormat && null == cc.GLProgram._highpSupported && (a = a.getShaderPrecisionFormat(a.FRAGMENT_SHADER, a.HIGH_FLOAT), cc.GLProgram._highpSupported = 0 !== a.precision);
	return cc.GLProgram._highpSupported
};
cc.setProgram = function(a, b) {
	a.shaderProgram = b;
	var c = a.children;
	if (c)
		for (var d = 0; d < c.length; d++) cc.setProgram(c[d], b)
};
var types = {
	GL_FLOAT: 0,
	GL_INT: 1,
	GL_FLOAT_VEC2: 2,
	GL_FLOAT_VEC3: 3,
	GL_FLOAT_VEC4: 4,
	GL_FLOAT_MAT4: 5,
	GL_CALLBACK: 6,
	GL_TEXTURE: 7
};
cc.UniformValue = function(a, b) {
	this._uniform = a;
	this._glprogram = b;
	this._value = null;
	this._type = -1
};
cc.UniformValue.prototype = {
	setFloat: function(a) {
		this._value = a;
		this._type = types.GL_FLOAT
	},
	setInt: function(a) {
		this._value = a;
		this._type = types.GL_INT
	},
	setVec2: function(a, b) {
		this._value = [a, b];
		this._type = types.GL_FLOAT_VEC2
	},
	setVec2v: function(a) {
		this._value = a.slice(0);
		this._type = types.GL_FLOAT_VEC2
	},
	setVec3: function(a, b, c) {
		this._value = [a, b, c];
		this._type = types.GL_FLOAT_VEC3
	},
	setVec3v: function(a) {
		this._value = a.slice(0);
		this._type = types.GL_FLOAT_VEC3
	},
	setVec4: function(a, b, c, d) {
		this._value = [a, b, c, d];
		this._type =
			types.GL_FLOAT_VEC4
	},
	setVec4v: function(a) {
		this._value = a.slice(0);
		this._type = types.GL_FLOAT_VEC4
	},
	setMat4: function(a) {
		this._value = a.slice(0);
		this._type = types.GL_FLOAT_MAT4
	},
	setCallback: function(a) {
		this._value = a;
		this._type = types.GL_CALLBACK
	},
	setTexture: function(a, b) {
		this._value = b;
		this._textureId = a;
		this._type = types.GL_TEXTURE
	},
	apply: function() {
		switch (this._type) {
			case types.GL_INT:
				this._glprogram.setUniformLocationWith1i(this._uniform._location, this._value);
				break;
			case types.GL_FLOAT:
				this._glprogram.setUniformLocationWith1f(this._uniform._location,
					this._value);
				break;
			case types.GL_FLOAT_VEC2:
				this._glprogram.setUniformLocationWith2fv(this._uniform._location, this._value);
				break;
			case types.GL_FLOAT_VEC3:
				this._glprogram.setUniformLocationWith3fv(this._uniform._location, this._value);
				break;
			case types.GL_FLOAT_VEC4:
				this._glprogram.setUniformLocationWith4fv(this._uniform._location, this._value);
				break;
			case types.GL_FLOAT_MAT4:
				this._glprogram.setUniformLocationWithMatrix4fv(this._uniform._location, this._value);
				break;
			case types.GL_CALLBACK:
				this._value(this._glprogram,
					this._uniform);
				break;
			case types.GL_TEXTURE:
				this._glprogram.setUniformLocationWith1i(this._uniform._location, this._value), cc.glBindTexture2DN(this._value, this._textureId)
		}
	}
};
cc.GLProgramState = function(a) {
	this._glprogram = a;
	this._uniforms = {};
	this._boundTextureUnits = {};
	this._textureUnitIndex = 1;
	for (var b = a._glContext.getProgramParameter(a._programObj, a._glContext.ACTIVE_UNIFORMS), c = 0; c < b; c += 1) {
		var d = a._glContext.getActiveUniform(a._programObj, c);
		if (0 !== d.name.indexOf("CC_")) {
			d._location = a._glContext.getUniformLocation(a._programObj, d.name);
			d._location._name = d.name;
			var e = new cc.UniformValue(d, a);
			this._uniforms[d.name] = e
		}
	}
};
cc.GLProgramState.prototype = {
	apply: function(a) {
		this._glprogram.use();
		a && this._glprogram._setUniformForMVPMatrixWithMat4(a);
		for (var b in this._uniforms) this._uniforms[b].apply()
	},
	setGLProgram: function(a) {
		this._glprogram = a
	},
	getGLProgram: function() {
		return this._glprogram
	},
	getUniformCount: function() {
		return this._uniforms.length
	},
	getUniformValue: function(a) {
		return this._uniforms[a]
	},
	setUniformInt: function(a, b) {
		var c = this.getUniformValue(a);
		c ? c.setInt(b) : cc.log("cocos2d: warning: Uniform not found: " + a)
	},
	setUniformFloat: function(a, b) {
		var c = this.getUniformValue(a);
		c ? c.setFloat(b) : cc.log("cocos2d: warning: Uniform not found: " + a)
	},
	setUniformVec2: function(a, b, c) {
		var d = this.getUniformValue(a);
		d ? d.setVec2(b, c) : cc.log("cocos2d: warning: Uniform not found: " + a)
	},
	setUniformVec2v: function(a, b) {
		var c = this.getUniformValue(a);
		c ? c.setVec2v(b) : cc.log("cocos2d: warning: Uniform not found: " + a)
	},
	setUniformVec3: function(a, b, c, d) {
		var e = this.getUniformValue(a);
		e ? e.setVec3(b, c, d) : cc.log("cocos2d: warning: Uniform not found: " +
			a)
	},
	setUniformVec3v: function(a, b) {
		var c = this.getUniformValue(a);
		c ? c.setVec3v(b) : cc.log("cocos2d: warning: Uniform not found: " + a)
	},
	setUniformVec4: function(a, b, c, d, e) {
		var f = this.getUniformValue(a);
		f ? f.setVec4(b, c, d, e) : cc.log("cocos2d: warning: Uniform not found: " + a)
	},
	setUniformVec4v: function(a, b) {
		var c = this.getUniformValue(a);
		c ? c.setVec4v(b) : cc.log("cocos2d: warning: Uniform not found: " + a)
	},
	setUniformMat4: function(a, b) {
		var c = this.getUniformValue(a);
		c ? c.setMat4(b) : cc.log("cocos2d: warning: Uniform not found: " +
			a)
	},
	setUniformCallback: function(a, b) {
		var c = this.getUniformValue(a);
		c ? c.setCallback(b) : cc.log("cocos2d: warning: Uniform not found: " + a)
	},
	setUniformTexture: function(a, b) {
		var c = this.getUniformValue(a);
		if (c) {
			var d = this._boundTextureUnits[a];
			d ? c.setTexture(b, d) : (c.setTexture(b, this._textureUnitIndex), this._boundTextureUnits[a] = this._textureUnitIndex++)
		}
	}
};
cc.GLProgramState._cache = {};
cc.GLProgramState.getOrCreateWithGLProgram = function(a) {
	var b = cc.GLProgramState._cache[a.__instanceId];
	b || (b = new cc.GLProgramState(a), cc.GLProgramState._cache[a.__instanceId] = b);
	return b
};
cc._currentProjectionMatrix = -1;
cc.ENABLE_GL_STATE_CACHE && (cc.MAX_ACTIVETEXTURE = 16, cc._currentShaderProgram = -1, cc._currentBoundTexture = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1], cc._blendingSource = -1, cc._blendingDest = -1, cc._GLServerState = 0, cc.TEXTURE_ATLAS_USE_VAO && (cc._uVAO = 0));
cc.glInvalidateStateCache = function() {
	cc.kmGLFreeAll();
	cc._currentProjectionMatrix = -1;
	if (cc.ENABLE_GL_STATE_CACHE) {
		cc._currentShaderProgram = -1;
		for (var a = 0; a < cc.MAX_ACTIVETEXTURE; a++) cc._currentBoundTexture[a] = -1;
		cc._blendingSource = -1;
		cc._blendingDest = -1;
		cc._GLServerState = 0
	}
};
cc.glUseProgram = cc.ENABLE_GL_STATE_CACHE ? function(a) {
	a !== cc._currentShaderProgram && (cc._currentShaderProgram = a, cc._renderContext.useProgram(a))
} : function(a) {
	cc._renderContext.useProgram(a)
};
cc.glDeleteProgram = function(a) {
	cc.ENABLE_GL_STATE_CACHE && a === cc._currentShaderProgram && (cc._currentShaderProgram = -1);
	gl.deleteProgram(a)
};
cc.setBlending = function(a, b) {
	var c = cc._renderContext;
	a === c.ONE && b === c.ZERO ? c.disable(c.BLEND) : (c.enable(c.BLEND), cc._renderContext.blendFunc(a, b))
};
cc.glBlendFunc = cc.ENABLE_GL_STATE_CACHE ? function(a, b) {
	if (a !== cc._blendingSource || b !== cc._blendingDest) cc._blendingSource = a, cc._blendingDest = b, cc.setBlending(a, b)
} : cc.setBlending;
cc.glBlendFuncForParticle = function(a, b) {
	if (a !== cc._blendingSource || b !== cc._blendingDest) {
		cc._blendingSource = a;
		cc._blendingDest = b;
		var c = cc._renderContext;
		a === c.ONE && b === c.ZERO ? c.disable(c.BLEND) : (c.enable(c.BLEND), c.blendFuncSeparate(c.SRC_ALPHA, b, a, b))
	}
};
cc.glBlendResetToCache = function() {
	var a = cc._renderContext;
	a.blendEquation(a.FUNC_ADD);
	cc.ENABLE_GL_STATE_CACHE ? cc.setBlending(cc._blendingSource, cc._blendingDest) : cc.setBlending(a.BLEND_SRC, a.BLEND_DST)
};
cc.setProjectionMatrixDirty = function() {
	cc._currentProjectionMatrix = -1
};
cc.glBindTexture2D = function(a) {
	cc.glBindTexture2DN(0, a)
};
cc.glBindTexture2DN = cc.ENABLE_GL_STATE_CACHE ? function(a, b) {
	if (cc._currentBoundTexture[a] !== b) {
		cc._currentBoundTexture[a] = b;
		var c = cc._renderContext;
		c.activeTexture(c.TEXTURE0 + a);
		b ? c.bindTexture(c.TEXTURE_2D, b._webTextureObj) : c.bindTexture(c.TEXTURE_2D, null)
	}
} : function(a, b) {
	var c = cc._renderContext;
	c.activeTexture(c.TEXTURE0 + a);
	b ? c.bindTexture(c.TEXTURE_2D, b._webTextureObj) : c.bindTexture(c.TEXTURE_2D, null)
};
cc.glDeleteTexture = function(a) {
	cc.glDeleteTextureN(0, a)
};
cc.glDeleteTextureN = function(a, b) {
	cc.ENABLE_GL_STATE_CACHE && b === cc._currentBoundTexture[a] && (cc._currentBoundTexture[a] = -1);
	cc._renderContext.deleteTexture(b._webTextureObj)
};
cc.glBindVAO = function(a) {
	cc.TEXTURE_ATLAS_USE_VAO && cc.ENABLE_GL_STATE_CACHE && cc._uVAO !== a && (cc._uVAO = a)
};
cc.glEnable = function(a) {};
cc.IMAGE_FORMAT_JPEG = 0;
cc.IMAGE_FORMAT_PNG = 1;
cc.IMAGE_FORMAT_RAWDATA = 9;
cc.NextPOT = function(a) {
	a -= 1;
	a |= a >> 1;
	a |= a >> 2;
	a |= a >> 4;
	a |= a >> 8;
	return (a | a >> 16) + 1
};
cc.RenderTexture = cc.Node.extend({
	sprite: null,
	clearFlags: 0,
	clearDepthVal: 0,
	autoDraw: !1,
	_texture: null,
	_pixelFormat: 0,
	clearStencilVal: 0,
	_clearColor: null,
	_className: "RenderTexture",
	ctor: function(a, b, c, d) {
		cc.Node.prototype.ctor.call(this);
		this._cascadeOpacityEnabled = this._cascadeColorEnabled = !0;
		this._pixelFormat = cc.Texture2D.PIXEL_FORMAT_RGBA8888;
		this._clearColor = new cc.Color(0, 0, 0, 255);
		void 0 !== a && void 0 !== b && (c = c || cc.Texture2D.PIXEL_FORMAT_RGBA8888, this.initWithWidthAndHeight(a, b, c, d || 0));
		this.setAnchorPoint(0,
			0)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.RenderTexture.CanvasRenderCmd(this) : new cc.RenderTexture.WebGLRenderCmd(this)
	},
	visit: function(a) {
		var b = this._renderCmd;
		a = a ? a._renderCmd : null;
		if (this._visible) {
			var c = cc.renderer;
			b.visit(a);
			c.pushRenderCommand(b);
			this.sprite.visit(this);
			b._dirtyFlag = 0
		} else b._propagateFlagsDown(a)
	},
	cleanup: function() {
		cc.Node.prototype.onExit.call(this);
		this._renderCmd.cleanup()
	},
	getSprite: function() {
		return this.sprite
	},
	setSprite: function(a) {
		this.sprite =
			a
	},
	setVirtualViewport: function(a, b, c) {
		this._renderCmd.setVirtualViewport(a, b, c)
	},
	initWithWidthAndHeight: function(a, b, c, d) {
		return this._renderCmd.initWithWidthAndHeight(a, b, c, d)
	},
	begin: function() {
		cc.renderer._turnToCacheMode(this.__instanceId);
		this._renderCmd.begin()
	},
	beginWithClear: function(a, b, c, d, e, f) {
		var g = cc._renderContext;
		e = e || g.COLOR_BUFFER_BIT;
		f = f || g.COLOR_BUFFER_BIT | g.DEPTH_BUFFER_BIT;
		this._beginWithClear(a, b, c, d, e, f, g.COLOR_BUFFER_BIT | g.DEPTH_BUFFER_BIT | g.STENCIL_BUFFER_BIT)
	},
	_beginWithClear: function(a,
		b, c, d, e, f, g) {
		this.begin();
		this._renderCmd._beginWithClear(a, b, c, d, e, f, g)
	},
	end: function() {
		this._renderCmd.end()
	},
	clear: function(a, b, c, d) {
		this.beginWithClear(a, b, c, d);
		this.end()
	},
	clearRect: function(a, b, c, d) {
		this._renderCmd.clearRect(a, b, c, d)
	},
	clearDepth: function(a) {
		this._renderCmd.clearDepth(a)
	},
	clearStencil: function(a) {
		this._renderCmd.clearStencil(a)
	},
	getClearFlags: function() {
		return this.clearFlags
	},
	setClearFlags: function(a) {
		this.clearFlags = a
	},
	getClearColor: function() {
		return this._clearColor
	},
	setClearColor: function(a) {
		var b =
			this._clearColor;
		b.r = a.r;
		b.g = a.g;
		b.b = a.b;
		b.a = a.a;
		this._renderCmd.updateClearColor(a)
	},
	getClearDepth: function() {
		return this.clearDepthVal
	},
	setClearDepth: function(a) {
		this.clearDepthVal = a
	},
	getClearStencil: function() {
		return this.clearStencilVal
	},
	setClearStencil: function(a) {
		this.clearStencilVal = a
	},
	isAutoDraw: function() {
		return this.autoDraw
	},
	setAutoDraw: function(a) {
		this.autoDraw = a
	},
	saveToFile: function(a, b) {
		cc.log("saveToFile isn't supported on Cocos2d-Html5")
	},
	newCCImage: function(a) {
		cc.log("saveToFile isn't supported on cocos2d-html5");
		return null
	},
	listenToBackground: function(a) {},
	listenToForeground: function(a) {}
});
_p = cc.RenderTexture.prototype;
cc.defineGetterSetter(_p, "clearColorVal", _p.getClearColor, _p.setClearColor);
cc.RenderTexture.create = function(a, b, c, d) {
	return new cc.RenderTexture(a, b, c, d)
};
(function() {
	cc.RenderTexture.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !1;
		this._clearColorStr = "rgba(255,255,255,1)";
		this._cacheCanvas = document.createElement("canvas");
		this._cacheContext = new cc.CanvasContextWrapper(this._cacheCanvas.getContext("2d"))
	};
	var a = cc.RenderTexture.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.RenderTexture.CanvasRenderCmd;
	a.cleanup = function() {
		this._cacheCanvas = this._cacheContext = null
	};
	a.clearStencil = function(a) {};
	a.setVirtualViewport = function(a, c, d) {};
	a.updateClearColor = function(a) {
		this._clearColorStr = "rgba(" + (0 | a.r) + "," + (0 | a.g) + "," + (0 | a.b) + "," + a.a / 255 + ")"
	};
	a.initWithWidthAndHeight = function(a, c, d, e) {
		d = this._node;
		e = this._cacheCanvas;
		var f = cc.contentScaleFactor();
		e.width = 0 | a * f;
		e.height = 0 | c * f;
		a = new cc.Texture2D;
		a.initWithElement(e);
		a.handleLoadedTexture();
		a = d.sprite = new cc.Sprite(a);
		a.setBlendFunc(cc.ONE, cc.ONE_MINUS_SRC_ALPHA);
		d.autoDraw = !1;
		d.addChild(a);
		return !0
	};
	a.begin = function() {};
	a._beginWithClear = function(a,
		c, d, e, f, g, h) {
		a = a || 0;
		c = c || 0;
		d = d || 0;
		e = isNaN(e) ? 255 : e;
		f = this._cacheContext.getContext();
		g = this._cacheCanvas;
		f.setTransform(1, 0, 0, 1, 0, 0);
		this._cacheContext.setFillStyle("rgba(" + (0 | a) + "," + (0 | c) + "," + (0 | d) + "," + e / 255 + ")");
		f.clearRect(0, 0, g.width, g.height);
		f.fillRect(0, 0, g.width, g.height)
	};
	a.end = function() {
		var a = this._node,
			c = cc.contentScaleFactor();
		cc.renderer._renderingToCacheCanvas(this._cacheContext, a.__instanceId, c, c);
		a = a.sprite._renderCmd;
		a._notifyRegionStatus && a._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.Dirty)
	};
	a.clearRect = function(a, c, d, e) {
		this._cacheContext.clearRect(a, c, d, -e)
	};
	a.clearDepth = function(a) {
		cc.log("clearDepth isn't supported on Cocos2d-Html5")
	}
})();
(function() {
	cc.RenderTexture.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._depthRenderBuffer = this._textureCopy = this._oldFBO = this._fBO = null;
		this._rtTextureRect = new cc.Rect;
		this._fullRect = new cc.Rect;
		this._fullViewport = new cc.Rect
	};
	var a = cc.RenderTexture.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.RenderTexture.WebGLRenderCmd;
	a.setVirtualViewport = function(a, c, d) {
		this._rtTextureRect.x = a.x;
		this._rtTextureRect.y = a.y;
		this._fullRect = c;
		this._fullViewport = d
	};
	a.needDraw = function() {
		return this._needDraw && this._node.autoDraw
	};
	a.rendering = function(a) {
		var c = a || cc._renderContext;
		a = this._node;
		if (a.autoDraw) {
			a.begin();
			var d = a.clearFlags;
			if (d) {
				var e = [0, 0, 0, 0],
					f = 0,
					g = 0;
				d & c.COLOR_BUFFER_BIT && (e = c.getParameter(c.COLOR_CLEAR_VALUE), c.clearColor(a._clearColor.r / 255, a._clearColor.g / 255, a._clearColor.b / 255, a._clearColor.a / 255));
				d & c.DEPTH_BUFFER_BIT && (f = c.getParameter(c.DEPTH_CLEAR_VALUE), c.clearDepth(a.clearDepthVal));
				d & c.STENCIL_BUFFER_BIT && (g =
					c.getParameter(c.STENCIL_CLEAR_VALUE), c.clearStencil(a.clearStencilVal));
				c.clear(d);
				d & c.COLOR_BUFFER_BIT && c.clearColor(e[0], e[1], e[2], e[3]);
				d & c.DEPTH_BUFFER_BIT && c.clearDepth(f);
				d & c.STENCIL_BUFFER_BIT && c.clearStencil(g)
			}
			a.sortAllChildren();
			c = a._children;
			for (d = 0; d < c.length; d++) e = c[d], e !== a.sprite && e.visit(a.sprite);
			a.end()
		}
	};
	a.clearStencil = function(a) {
		var c = cc._renderContext,
			d = c.getParameter(c.STENCIL_CLEAR_VALUE);
		c.clearStencil(a);
		c.clear(c.STENCIL_BUFFER_BIT);
		c.clearStencil(d)
	};
	a.cleanup = function() {
		this._textureCopy =
			null;
		var a = cc._renderContext;
		a.deleteFramebuffer(this._fBO);
		this._depthRenderBuffer && a.deleteRenderbuffer(this._depthRenderBuffer)
	};
	a.updateClearColor = function(a) {};
	a.initWithWidthAndHeight = function(a, c, d, e) {
		var f = this._node;
		d === cc.Texture2D.PIXEL_FORMAT_A8 && cc.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");
		var g = cc._renderContext,
			h = cc.contentScaleFactor();
		this._fullRect = new cc.Rect(0, 0, a, c);
		this._fullViewport = new cc.Rect(0, 0,
			a, c);
		a = 0 | a * h;
		c = 0 | c * h;
		this._oldFBO = g.getParameter(g.FRAMEBUFFER_BINDING);
		var k;
		cc.configuration.supportsNPOT() ? (h = a, k = c) : (h = cc.NextPOT(a), k = cc.NextPOT(c));
		for (var m = new Uint8Array(h * k * 4), n = 0; n < h * k * 4; n++) m[n] = 0;
		this._pixelFormat = d;
		n = f._texture = new cc.Texture2D;
		if (!f._texture) return !1;
		n.initWithData(m, f._pixelFormat, h, k, cc.size(a, c));
		d = g.getParameter(g.RENDERBUFFER_BINDING);
		if (cc.configuration.checkForGLExtension("GL_QCOM")) {
			this._textureCopy = new cc.Texture2D;
			if (!this._textureCopy) return !1;
			this._textureCopy.initWithData(m,
				f._pixelFormat, h, k, cc.size(a, c))
		}
		this._fBO = g.createFramebuffer();
		g.bindFramebuffer(g.FRAMEBUFFER, this._fBO);
		g.framebufferTexture2D(g.FRAMEBUFFER, g.COLOR_ATTACHMENT0, g.TEXTURE_2D, n._webTextureObj, 0);
		0 !== e && (this._depthRenderBuffer = g.createRenderbuffer(), g.bindRenderbuffer(g.RENDERBUFFER, this._depthRenderBuffer), g.renderbufferStorage(g.RENDERBUFFER, e, h, k), e === g.DEPTH_STENCIL ? g.framebufferRenderbuffer(g.FRAMEBUFFER, g.DEPTH_STENCIL_ATTACHMENT, g.RENDERBUFFER, this._depthRenderBuffer) : e === g.STENCIL_INDEX ||
			e === g.STENCIL_INDEX8 ? g.framebufferRenderbuffer(g.FRAMEBUFFER, g.STENCIL_ATTACHMENT, g.RENDERBUFFER, this._depthRenderBuffer) : e === g.DEPTH_COMPONENT16 && g.framebufferRenderbuffer(g.FRAMEBUFFER, g.DEPTH_ATTACHMENT, g.RENDERBUFFER, this._depthRenderBuffer));
		g.checkFramebufferStatus(g.FRAMEBUFFER) !== g.FRAMEBUFFER_COMPLETE && cc.log("Could not attach texture to the framebuffer");
		n.setAliasTexParameters();
		a = f.sprite = new cc.Sprite(n);
		a.scaleY = -1;
		a.setBlendFunc(g.ONE, g.ONE_MINUS_SRC_ALPHA);
		g.bindRenderbuffer(g.RENDERBUFFER,
			d);
		g.bindFramebuffer(g.FRAMEBUFFER, this._oldFBO);
		f.autoDraw = !1;
		f.addChild(a);
		return !0
	};
	a.begin = function() {
		var a = this._node;
		cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);
		cc.kmGLPushMatrix();
		cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);
		cc.kmGLPushMatrix();
		var c = cc._renderContext,
			d = cc.director;
		d.setProjection(d.getProjection());
		var e = a._texture.getContentSizeInPixels(),
			f = cc.director.getWinSizeInPixels(),
			d = f.width / e.width,
			e = f.height / e.height,
			d = cc.math.Matrix4.createOrthographicProjection(-1 / d, 1 / d, -1 / e, 1 / e, -1, 1);
		cc.kmGLMultMatrix(d);
		d = new cc.Rect(0, 0, 0, 0);
		d.width = this._fullViewport.width;
		d.height = this._fullViewport.height;
		e = d.height / this._fullRect.height;
		d.x = d.width / this._fullRect.width * (this._fullRect.x - this._rtTextureRect.x);
		d.y = (this._fullRect.y - this._rtTextureRect.y) * e;
		c.viewport(d.x, d.y, d.width, d.height);
		this._oldFBO = c.getParameter(c.FRAMEBUFFER_BINDING);
		c.bindFramebuffer(c.FRAMEBUFFER, this._fBO);
		cc.configuration.checkForGLExtension("GL_QCOM") && (c.framebufferTexture2D(c.FRAMEBUFFER, c.COLOR_ATTACHMENT0, c.TEXTURE_2D, this._textureCopy._webTextureObj,
			0), c.clear(c.COLOR_BUFFER_BIT | c.DEPTH_BUFFER_BIT), c.framebufferTexture2D(c.FRAMEBUFFER, c.COLOR_ATTACHMENT0, c.TEXTURE_2D, a._texture._webTextureObj, 0))
	};
	a._beginWithClear = function(a, c, d, e, f, g, h) {
		a /= 255;
		c /= 255;
		d /= 255;
		e /= 255;
		var k = cc._renderContext,
			m = [0, 0, 0, 0],
			n = 0,
			p = 0;
		h & k.COLOR_BUFFER_BIT && (m = k.getParameter(k.COLOR_CLEAR_VALUE), k.clearColor(a, c, d, e));
		h & k.DEPTH_BUFFER_BIT && (n = k.getParameter(k.DEPTH_CLEAR_VALUE), k.clearDepth(f));
		h & k.STENCIL_BUFFER_BIT && (p = k.getParameter(k.STENCIL_CLEAR_VALUE), k.clearStencil(g));
		k.clear(h);
		h & k.COLOR_BUFFER_BIT && k.clearColor(m[0], m[1], m[2], m[3]);
		h & k.DEPTH_BUFFER_BIT && k.clearDepth(n);
		h & k.STENCIL_BUFFER_BIT && k.clearStencil(p)
	};
	a.end = function() {
		cc.renderer._renderingToBuffer(this._node.__instanceId);
		var a = cc._renderContext,
			c = cc.director;
		a.bindFramebuffer(a.FRAMEBUFFER, this._oldFBO);
		c.setViewport();
		cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);
		cc.kmGLPopMatrix();
		cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);
		cc.kmGLPopMatrix()
	};
	a.clearRect = function(a, c, d, e) {};
	a.clearDepth = function(a) {
		var c = this._node;
		c.begin();
		var d = cc._renderContext,
			e = d.getParameter(d.DEPTH_CLEAR_VALUE);
		d.clearDepth(a);
		d.clear(d.DEPTH_BUFFER_BIT);
		d.clearDepth(e);
		c.end()
	}
})();
cc.LabelBMFont = cc.SpriteBatchNode.extend({
	_opacityModifyRGB: !1,
	_string: "",
	_config: null,
	_fntFile: "",
	_initialString: "",
	_alignment: cc.TEXT_ALIGNMENT_CENTER,
	_width: -1,
	_lineBreakWithoutSpaces: !1,
	_imageOffset: null,
	_textureLoaded: !1,
	_className: "LabelBMFont",
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_WEBGL ? new cc.LabelBMFont.WebGLRenderCmd(this) : new cc.LabelBMFont.CanvasRenderCmd(this)
	},
	_setString: function(a, b) {
		b ? this._initialString = a : this._string = a;
		var c = this._children;
		if (c)
			for (var d =
					0; d < c.length; d++) {
				var e = c[d];
				e && e.setVisible(!1)
			}
		this._textureLoaded && (this._string && 0 < this._string.length && this.createFontChars(), b && this.updateLabel())
	},
	ctor: function(a, b, c, d, e) {
		cc.SpriteBatchNode.prototype.ctor.call(this);
		this._imageOffset = cc.p(0, 0);
		this._cascadeOpacityEnabled = this._cascadeColorEnabled = !0;
		this.initWithString(a, b, c, d, e)
	},
	textureLoaded: function() {
		return this._textureLoaded
	},
	addLoadedEventListener: function(a, b) {
		this.addEventListener("load", a, b)
	},
	isOpacityModifyRGB: function() {
		return this._opacityModifyRGB
	},
	setOpacityModifyRGB: function(a) {
		this._opacityModifyRGB = a;
		if (a = this._children)
			for (var b = 0; b < a.length; b++) {
				var c = a[b];
				c && (c.opacityModifyRGB = this._opacityModifyRGB)
			}
	},
	_changeTextureColor: function() {
		this._renderCmd._changeTextureColor()
	},
	init: function() {
		return this.initWithString(null, null, null, null, null)
	},
	initWithString: function(a, b, c, d, e) {
		a = a || "";
		this._config && cc.log("cc.LabelBMFont.initWithString(): re-init is no longer supported");
		var f;
		if (b) {
			f = cc.loader.getRes(b);
			if (!f && (f = cc.FntFrameCache[b] ||
					cc.FntFrameCache[cc.path.basename(b)], !f)) return cc.log("cc.LabelBMFont.initWithString(): Impossible to create font. Please check file"), !1;
			this._config = f;
			this._fntFile = b;
			b = f.atlasName;
			(b = cc.spriteFrameCache.getSpriteFrame(b) || cc.spriteFrameCache.getSpriteFrame(cc.path.basename(b))) ? (f = b.getTexture(), this._spriteFrame = b) : f = cc.textureCache.addImage(f.atlasName);
			(this._textureLoaded = b = f.isLoaded()) || f.addEventListener("load", function(a) {
				this._textureLoaded = !0;
				this.initWithTexture(a, this._initialString.length);
				this.setString(this._initialString, !0);
				this.dispatchEvent("load")
			}, this)
		} else f = new cc.Texture2D, b = new Image, f.initWithElement(b), this._textureLoaded = !1;
		return this.initWithTexture(f, a.length) ? (this._alignment = d || cc.TEXT_ALIGNMENT_LEFT, this._imageOffset = e || cc.p(0, 0), this._width = void 0 === c ? -1 : c, this._realOpacity = 255, this._realColor = cc.color(255, 255, 255, 255), this._contentSize.width = 0, this._contentSize.height = 0, this.setAnchorPoint(0.5, 0.5), this.setString(a, !0), !0) : !1
	},
	createFontChars: function() {
		var a =
			this._string,
			b = a ? a.length : 0,
			c = this._renderCmd,
			d = c._texture || this._texture,
			e = 0,
			f = cc.size(0, 0),
			g = 0,
			h = 1,
			k, m = this._config,
			n = m.kerningDict,
			p = m.commonHeight,
			r = m.fontDefDictionary;
		for (k = 0; k < b - 1; k++) 10 === a.charCodeAt(k) && h++;
		var t = p * h,
			h = -(p - p * h),
			u = -1,
			s;
		for (k = 0; k < b; k++)
			if (p = a.charCodeAt(k), 0 !== p)
				if (10 === p) e = 0, h -= m.commonHeight;
				else {
					u = n[u << 16 | p & 65535] || 0;
					s = r[p];
					s || (cc.log("cocos2d: LabelBMFont: character not found " + a[k]), s = {
						rect: {
							x: 0,
							y: 0,
							width: 0,
							height: 0
						},
						xOffset: 0,
						yOffset: 0,
						xAdvance: 0
					});
					var w = cc.rect(s.rect.x,
							s.rect.y, s.rect.width, s.rect.height),
						w = cc.rectPixelsToPoints(w);
					w.x += this._imageOffset.x;
					w.y += this._imageOffset.y;
					var v = !1;
					if (this._spriteFrame) {
						var x = this._spriteFrame._rect;
						if (this._spriteFrame._rotated) {
							var v = !0,
								A = w.x;
							w.x = w.y + x.x;
							w.y = A + x.y
						} else w.x += x.x, w.y += x.y
					}(x = this.getChildByTag(k)) ? c._updateCharTexture(x, w, p, v): (x = new cc.Sprite, x.initWithTexture(d, w, v), x._newTextureWhenChangeColor = !0, this.addChild(x, 0, k));
					x.opacityModifyRGB = this._opacityModifyRGB;
					c._updateCharColorAndOpacity(x);
					w = cc.p(e +
						s.xOffset + 0.5 * s.rect.width + u, h + (m.commonHeight - s.yOffset) - 0.5 * w.height * cc.contentScaleFactor());
					x.setPosition(cc.pointPixelsToPoints(w));
					e += s.xAdvance + u;
					u = p;
					g < e && (g = e)
				} f.width = s && s.xAdvance < s.rect.width ? g - s.xAdvance + s.rect.width : g;
		f.height = t;
		this.setContentSize(cc.sizePixelsToPoints(f))
	},
	updateString: function(a) {
		var b = this._children;
		if (b)
			for (var c = 0, d = b.length; c < d; c++) {
				var e = b[c];
				e && (e.visible = !1)
			}
		this._config && this._string && 0 < this._string.length && this.createFontChars();
		a || this.updateLabel()
	},
	getString: function() {
		return this._initialString
	},
	setString: function(a, b) {
		a = String(a);
		void 0 === b && (b = !0);
		if (void 0 === a || "string" !== typeof a) a += "";
		this._initialString = a;
		this._setString(a, b)
	},
	_setStringForSetter: function(a) {
		this.setString(a, !1)
	},
	setCString: function(a) {
		this.setString(a, !0)
	},
	_getCharsWidth: function(a, b) {
		if (0 >= b) return 0;
		var c = this.getChildByTag(a),
			d = this.getChildByTag(a + b);
		return this._getLetterPosXLeft(d) - this._getLetterPosXLeft(c)
	},
	_checkWarp: function(a, b, c, d) {
		for (var e = a[b], f = 0, g = 0; g < b; g++) f += a[g].length;
		var f = f + b - d,
			h = this._getCharsWidth(f,
				a[b].length - 1);
		if (h > c && 1 < e.length) {
			d = c / h * e.length | 0;
			for (var g = e.substr(d), k = h - this._getCharsWidth(f + d, g.length - 1), m, n = 0, p = 0; k > c && 100 > p++;) d *= c / k, d |= 0, g = e.substr(d), k = h - this._getCharsWidth(f + d, g.length - 1);
			for (p = 0; k < c && 100 > p++;) g && (n = (m = cc.LabelTTF._wordRex.exec(g)) ? m[0].length : 1, m = g), this._lineBreakWithoutSpaces && (n = 0), d += n, g = e.substr(d), k = h - this._getCharsWidth(f + d, g.length - 1);
			d -= n;
			0 === d && (d = 1, m = m.substr(1));
			c = e.substr(0, d);
			cc.LabelTTF.wrapInspection && cc.LabelTTF._symbolRex.test(m || g) && (n = (f = cc.LabelTTF._lastWordRex.exec(c)) ?
				f[0].length : 0, this._lineBreakWithoutSpaces && (n = 0), d -= n, m = e.substr(d), c = e.substr(0, d));
			cc.LabelTTF._firsrEnglish.test(m) && (f = cc.LabelTTF._lastEnglish.exec(c)) && c !== f[0] && (n = f[0].length, this._lineBreakWithoutSpaces && (n = 0), d -= n, m = e.substr(d), c = e.substr(0, d));
			a[b] = m || g;
			a.splice(b, 0, c)
		}
	},
	updateLabel: function() {
		this.string = this._initialString;
		var a, b, c;
		if (0 < this._width) {
			var d = this.string.split("\n"),
				e = "",
				f = 0,
				g = 0;
			for (a = 0; a < d.length; a++) g = d.length, this._checkWarp(d, a, this._width * this._scaleX, f), g < d.length &&
				f++, 0 < a && (e += "\n"), e += d[a];
			e += String.fromCharCode(0);
			this._setString(e, !1)
		}
		if (this._alignment !== cc.TEXT_ALIGNMENT_LEFT)
			for (d = a = 0, e = this._string.length, f = [], g = 0; g < e; g++)
				if (10 === this._string[g].charCodeAt(0) || 0 === this._string[g].charCodeAt(0)) {
					b = 0;
					var h = f.length;
					if (0 === h) d++;
					else if (c = a + h - 1 + d, !(0 > c)) {
						var k = this.getChildByTag(c);
						if (null != k) {
							b = k.getPositionX() + k._getWidth() / 2;
							k = 0;
							switch (this._alignment) {
								case cc.TEXT_ALIGNMENT_CENTER:
									k = this.width / 2 - b / 2;
									break;
								case cc.TEXT_ALIGNMENT_RIGHT:
									k = this.width - b
							}
							if (0 !==
								k)
								for (b = 0; b < h; b++) c = a + b + d, 0 > c || (c = this.getChildByTag(c)) && (c.x += k);
							a += h;
							d++;
							f.length = 0
						}
					}
				} else f.push(this._string[a])
	},
	setAlignment: function(a) {
		this._alignment = a;
		this.updateLabel()
	},
	_getAlignment: function() {
		return this._alignment
	},
	setBoundingWidth: function(a) {
		this._width = a;
		this.updateLabel()
	},
	_getBoundingWidth: function() {
		return this._width
	},
	setLineBreakWithoutSpace: function(a) {
		this._lineBreakWithoutSpaces = a;
		this.updateLabel()
	},
	setScale: function(a, b) {
		cc.Node.prototype.setScale.call(this, a, b);
		this.updateLabel()
	},
	setScaleX: function(a) {
		cc.Node.prototype.setScaleX.call(this, a);
		this.updateLabel()
	},
	setScaleY: function(a) {
		cc.Node.prototype.setScaleY.call(this, a);
		this.updateLabel()
	},
	setFntFile: function(a) {
		if (null != a && a !== this._fntFile) {
			var b = cc.loader.getRes(a);
			b ? (this._fntFile = a, this._config = b, a = cc.textureCache.addImage(b.atlasName), (this._textureLoaded = b = a.isLoaded()) ? (this.setTexture(a), this._string && 0 < this._string.length && this.createFontChars()) : a.addEventListener("load", function(a) {
				this._textureLoaded = !0;
				this.setTexture(a);
				this._string && 0 < this._string.length && this.createFontChars();
				this._changeTextureColor();
				this.updateLabel();
				this.dispatchEvent("load")
			}, this)) : cc.log("cc.LabelBMFont.setFntFile() : Impossible to create font. Please check file")
		}
	},
	getFntFile: function() {
		return this._fntFile
	},
	setTexture: function(a) {
		this._texture = a;
		this._renderCmd.setTexture(a)
	},
	setAnchorPoint: function(a, b) {
		cc.Node.prototype.setAnchorPoint.call(this, a, b);
		this.updateLabel()
	},
	_setAnchorX: function(a) {
		cc.Node.prototype._setAnchorX.call(this,
			a);
		this.updateLabel()
	},
	_setAnchorY: function(a) {
		cc.Node.prototype._setAnchorY.call(this, a);
		this.updateLabel()
	},
	_atlasNameFromFntFile: function(a) {},
	_kerningAmountForFirst: function(a, b) {
		var c = 0;
		if (this._configuration.kerningDictionary) {
			var d = this._configuration.kerningDictionary[(a << 16 | b & 65535).toString()];
			d && (c = d.amount)
		}
		return c
	},
	_getLetterPosXLeft: function(a) {
		return a.getPositionX() * this._scaleX - a._getWidth() * this._scaleX * a._getAnchorX()
	},
	_getLetterPosXRight: function(a) {
		return a.getPositionX() * this._scaleX +
			a._getWidth() * this._scaleX * a._getAnchorX()
	},
	_isspace_unicode: function(a) {
		a = a.charCodeAt(0);
		return 9 <= a && 13 >= a || 32 === a || 133 === a || 160 === a || 5760 === a || 8192 <= a && 8202 >= a || 8232 === a || 8233 === a || 8239 === a || 8287 === a || 12288 === a
	},
	_utf8_trim_ws: function(a) {
		var b = a.length;
		if (!(0 >= b) && (b -= 1, this._isspace_unicode(a[b]))) {
			for (var c = b - 1; 0 <= c; --c)
				if (this._isspace_unicode(a[c])) b = c;
				else break;
			this._utf8_trim_from(a, b)
		}
	},
	_utf8_trim_from: function(a, b) {
		var c = a.length;
		b >= c || 0 > b || a.splice(b, c)
	}
});
(function() {
	var a = cc.LabelBMFont.prototype;
	cc.EventHelper.prototype.apply(a);
	cc.defineGetterSetter(a, "string", a.getString, a._setStringForSetter);
	cc.defineGetterSetter(a, "boundingWidth", a._getBoundingWidth, a.setBoundingWidth);
	cc.defineGetterSetter(a, "textAlign", a._getAlignment, a.setAlignment);
	cc.defineGetterSetter(a, "texture", a.getTexture, a.setTexture)
})();
cc.LabelBMFont.create = function(a, b, c, d, e) {
	return new cc.LabelBMFont(a, b, c, d, e)
};
cc.FntFrameCache = {};
var _fntLoader = {
	FNT_HEAD: /fntframes [^\n]*(\n|$)/gi,
	FNT_FRAME_NAME: /fntframe [^\n]*(\n|$)/gi,
	INFO_EXP: /info [^\n]*(\n|$)/gi,
	COMMON_EXP: /common [^\n]*(\n|$)/gi,
	PAGE_EXP: /page [^\n]*(\n|$)/gi,
	CHAR_EXP: /char [^\n]*(\n|$)/gi,
	KERNING_EXP: /kerning [^\n]*(\n|$)/gi,
	ITEM_EXP: /\w+=[^ \r\n]+/gi,
	INT_EXP: /^[\-]?\d+$/,
	_parseStrToObj: function(a) {
		a = a.match(this.ITEM_EXP);
		var b = {};
		if (a)
			for (var c = 0, d = a.length; c < d; c++) {
				var e = a[c],
					f = e.indexOf("\x3d"),
					g = e.substring(0, f),
					e = e.substring(f + 1);
				e.match(this.INT_EXP) ? e = parseInt(e) :
					'"' === e[0] && (e = e.substring(1, e.length - 1));
				b[g] = e
			}
		return b
	},
	_parseFntContent: function(a, b, c, d) {
		var e = this._parseStrToObj(b.match(this.COMMON_EXP)[0]);
		a.commonHeight = e.lineHeight;
		if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
			var f = cc.configuration.getMaxTextureSize();
			(e.scaleW > f.width || e.scaleH > f.height) && cc.log("cc.LabelBMFont._parseCommonArguments(): page can't be larger than supported")
		}
		1 !== e.pages && cc.log("cc.LabelBMFont._parseCommonArguments(): only supports 1 page");
		e = this._parseStrToObj(b.match(this.PAGE_EXP)[0]);
		0 !== e.id && cc.log("cc.LabelBMFont._parseImageFileName() : file could not be found");
		a.atlasName = d ? cc.path.join(cc.path.dirname(d.path) + e.file) : cc.path.changeBasename(c, e.file);
		e = b.match(this.CHAR_EXP);
		f = a.fontDefDictionary = {};
		c = 0;
		for (d = e.length; c < d; c++) {
			var g = this._parseStrToObj(e[c]);
			f[g.id] = {
				rect: {
					x: g.x,
					y: g.y,
					width: g.width,
					height: g.height
				},
				xOffset: g.xoffset,
				yOffset: g.yoffset,
				xAdvance: g.xadvance
			}
		}
		e = a.kerningDict = {};
		if (b = b.match(this.KERNING_EXP))
			for (c = 0, d = b.length; c < d; c++) f = this._parseStrToObj(b[c]),
				e[f.first << 16 | f.second & 65535] = f.amount;
		return a
	},
	parseFnt: function(a, b) {
		var c = {},
			d = a.match(this.FNT_HEAD);
		if (d) {
			var e = this._parseStrToObj(d[0]);
			if (e && e.count) {
				a = a.substr(d[0].length);
				for (var d = a.split("----"), f = 0; f < e.count; ++f) {
					var g = d[f],
						h = g.match(this.FNT_FRAME_NAME);
					if (h) {
						var k = this._parseStrToObj(h[0]);
						if (k && k.name) {
							var c = {},
								m = cc.path.join(cc.path.dirname(b), k.name);
							cc.FntFrameCache[m] = this._parseFntContent(c, g.substr(h[0].length), b, {
								path: k.name
							})
						}
					}
				}
			}
		} else c = this._parseFntContent(c, a, b);
		return c
	},
	load: function(a, b, c, d) {
		var e = this;
		cc.loader.loadTxt(a, function(a, c) {
			if (a) return d(a);
			d(null, e.parseFnt(c, b))
		})
	}
};
cc.loader.register(["fnt"], _fntLoader);
(function() {
	cc.LabelBMFont.CanvasRenderCmd = function(a) {
		this._rootCtor(a)
	};
	var a = cc.LabelBMFont.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.LabelBMFont.CanvasRenderCmd;
	a._updateCharTexture = function(a, c, d) {
		32 === d ? a.setTextureRect(c, !1, cc.size(0, 0)) : (a.setTextureRect(c, !1), a.visible = !0)
	};
	a._updateCharColorAndOpacity = function(a) {
		a._displayedColor = this._displayedColor;
		a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty);
		a._displayedOpacity = this._displayedOpacity;
		a._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)
	};
	a.setTexture = function(a) {
		for (var c = this._node, d = c._children, e = this._displayedColor, f = 0; f < d.length; f++) {
			var g = d[f],
				h = g._renderCmd,
				k = h._displayedColor;
			if (c._texture === h._texture || k.r === e.r && k.g === e.g && k.b === e.b) g.texture = a
		}
		c._texture = a
	};
	a._changeTextureColor = function() {
		var a = this._node,
			c = a._texture,
			d = c.getContentSize(),
			e = a._texture,
			f = e.getHtmlElementObj(),
			g = this._displayedColor,
			h = cc.rect(0, 0, f.width, f.height);
		c && 0 < d.width && f && (c = e._generateColorTexture(g.r,
			g.g, g.b, h), a.setTexture(c))
	};
	a._updateChildrenDisplayedOpacity = function(a) {
		cc.Node.prototype.updateDisplayedOpacity.call(a, this._displayedOpacity)
	};
	a._updateChildrenDisplayedColor = function(a) {
		cc.Node.prototype.updateDisplayedColor.call(a, this._displayedColor)
	}
})();
(function() {
	cc.LabelBMFont.WebGLRenderCmd = function(a) {
		this._rootCtor(a)
	};
	var a = cc.LabelBMFont.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.LabelBMFont.WebGLRenderCmd;
	a.setTexture = function(a) {
		this._node.setOpacityModifyRGB(this._node._texture.hasPremultipliedAlpha())
	};
	a._updateCharTexture = function(a, c, d, e) {
		a.setTextureRect(c, e);
		a.visible = !0
	};
	a._changeTextureColor = function() {};
	a._updateCharColorAndOpacity = function() {}
})();
cc.LabelAtlas = cc.LabelBMFont.extend({
	_className: "LabelAtlas",
	ctor: function(a, b, c, d, e) {
		cc.SpriteBatchNode.prototype.ctor.call(this);
		this._imageOffset = cc.p(0, 0);
		this._cascadeOpacityEnabled = this._cascadeColorEnabled = !0;
		b && cc.LabelAtlas.prototype.initWithString.call(this, a, b, c, d, e)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_WEBGL ? new cc.LabelBMFont.WebGLRenderCmd(this) : new cc.LabelBMFont.CanvasRenderCmd(this)
	},
	_createFntConfig: function(a, b, c, d) {
		var e = {};
		e.commonHeight = c;
		var f = e.fontDefDictionary = {},
			g = a.pixelsWidth;
		a = a.pixelsHeight;
		d = d.charCodeAt(0);
		for (var h = 0, k = c; k <= a; k += c)
			for (var m = 0; m < g; m += b) f[d + h] = {
				rect: {
					x: m,
					y: k - c,
					width: b,
					height: c
				},
				xOffset: 0,
				yOffset: 0,
				xAdvance: b
			}, ++h;
		e.kerningDict = {};
		return e
	},
	initWithString: function(a, b, c, d, e) {
		var f;
		this._string = this._initialString = a = a + "" || "";
		if (void 0 === c) {
			e = cc.loader.getRes(b);
			if (1 !== parseInt(e.version, 10)) return cc.log("cc.LabelAtlas.initWithString(): Unsupported version. Upgrade cocos2d version"), !1;
			f = cc.path.changeBasename(b,
				e.textureFilename);
			d = cc.contentScaleFactor();
			c = parseInt(e.itemWidth, 10) / d;
			d = parseInt(e.itemHeight, 10) / d;
			e = String.fromCharCode(parseInt(e.firstChar, 10))
		} else f = b, c = c || 0, d = d || 0, e = e || " ";
		if (b) {
			this._fntFile = "dummy_fnt_file:" + f;
			b = f;
			var g = cc.spriteFrameCache.getSpriteFrame(b) || cc.spriteFrameCache.getSpriteFrame(cc.path.basename(b));
			g ? (b = g.getTexture(), this._spriteFrame = g) : b = cc.textureCache.addImage(f);
			c = this._createFntConfig(b, c, d, e);
			c.atlasName = f;
			this._config = c;
			(this._textureLoaded = f = b.isLoaded()) || b.addEventListener("load",
				function(a) {
					this._textureLoaded = !0;
					this.initWithTexture(a, this._initialString.length);
					this.setString(this._initialString, !0);
					this.dispatchEvent("load")
				}, this)
		} else b = new cc.Texture2D, f = new Image, b.initWithElement(f), this._textureLoaded = !1;
		return this.initWithTexture(b, a.length) ? (this._alignment = cc.TEXT_ALIGNMENT_LEFT, this._imageOffset = cc.p(0, 0), this._width = -1, this._realOpacity = 255, this._realColor = cc.color(255, 255, 255, 255), this._contentSize.width = 0, this._contentSize.height = 0, this.setString(a, !0), !0) :
			!1
	},
	setFntFile: function() {
		cc.warn("setFntFile doesn't support with LabelAtlas.")
	}
});
cc.LabelAtlas.create = function(a, b, c, d, e) {
	return new cc.LabelAtlas(a, b, c, d, e)
};
(function() {
	cc.LabelAtlas.CanvasRenderCmd = function(a) {
		cc.AtlasNode.CanvasRenderCmd.call(this, a);
		this._needDraw = !1
	};
	var a = cc.LabelAtlas.CanvasRenderCmd.prototype = Object.create(cc.AtlasNode.CanvasRenderCmd.prototype);
	a.constructor = cc.LabelAtlas.CanvasRenderCmd;
	a.setCascade = function() {
		var a = this._node;
		a._cascadeOpacityEnabled = !0;
		a._cascadeColorEnabled = !1
	};
	a.updateAtlasValues = function() {
		for (var a = this._node, c = a._string || "", d = c.length, e = this._textureToRender, f = a._itemWidth, g = a._itemHeight, h = 0, k = -1; h < d; h++) {
			var m =
				c.charCodeAt(h) - a._mapStartChar.charCodeAt(0),
				n = parseInt(m % a._itemsPerRow, 10),
				m = parseInt(m / a._itemsPerRow, 10);
			if (!(0 > n || 0 > m || (n = cc.rect(n * f, m * g, f, g), m = e._contentSize, 0 > n.x || 0 > n.y || n.x + n.width > m.width || n.y + n.height > m.height))) {
				k++;
				var m = c.charCodeAt(h),
					p = a.getChildByTag(h);
				p ? 32 === m ? (p.init(), p.setTextureRect(cc.rect(0, 0, 10, 10), !1, cc.size(0, 0))) : (p.initWithTexture(e, n), p.visible = !0) : (p = new cc.Sprite, 32 === m ? (p.init(), p.setTextureRect(cc.rect(0, 0, 10, 10), !1, cc.size(0, 0))) : p.initWithTexture(e, n), cc.Node.prototype.addChild.call(a,
					p, 0, h));
				p.setPosition(k * f + f / 2, g / 2)
			}
		}
		this.updateContentSize(h, k + 1)
	};
	a.updateContentSize = function(a, c) {
		var d = this._node,
			e = d._contentSize;
		a !== c && a * d._itemWidth === e.width && d._itemHeight === e.height && d.setContentSize(c * d._itemWidth, d._itemHeight)
	};
	a.setString = function(a) {
		a = this._node;
		if (a._children) {
			a = a._children;
			for (var c = a.length, d = 0; d < c; d++) {
				var e = a[d];
				e && !e._lateChild && (e.visible = !1)
			}
		}
	};
	a._addChild = function() {
		child._lateChild = !0
	}
})();
(function() {
	cc.LabelAtlas.WebGLRenderCmd = function(a) {
		cc.AtlasNode.WebGLRenderCmd.call(this, a);
		this._needDraw = !0
	};
	var a = cc.LabelAtlas.WebGLRenderCmd.prototype = Object.create(cc.AtlasNode.WebGLRenderCmd.prototype);
	a.constructor = cc.LabelAtlas.WebGLRenderCmd;
	a._updateColor = function() {
		if (this._colorF32Array) {
			var a = this._displayedColor,
				c = this._displayedOpacity / 255;
			this._node._opacityModifyRGB ? (this._colorF32Array[0] = a.r * c / 255, this._colorF32Array[1] = a.g * c / 255, this._colorF32Array[2] = a.b * c / 255) : (this._colorF32Array[0] =
				a.r / 255, this._colorF32Array[1] = a.g / 255, this._colorF32Array[2] = a.b / 255);
			this._colorF32Array[3] = c
		}
	};
	a.setCascade = function() {
		var a = this._node;
		a._cascadeOpacityEnabled = !0;
		a._cascadeColorEnabled = !0
	};
	a.rendering = function(a) {
		cc.AtlasNode.WebGLRenderCmd.prototype.rendering.call(this, a);
		if (cc.LABELATLAS_DEBUG_DRAW) {
			var c = this._node;
			a = c.getContentSize();
			var c = c.getBoundingBoxToWorld(),
				d = c.x,
				e = c.y;
			a.width = c.width;
			a.height = c.height;
			a = [cc.p(d, e), cc.p(d + a.width, e), cc.p(a.width + d, a.height + e), cc.p(d, e + a.height)];
			cc._drawingUtil.drawPoly(a, 4, !0)
		}
	};
	a.updateAtlasValues = function() {
		var a = this._node,
			c = a._string,
			d = c.length,
			e = this._textureAtlas,
			f = e.texture,
			g = f.pixelsWidth,
			f = f.pixelsHeight,
			h = a._itemWidth,
			k = a._itemHeight;
		a._ignoreContentScaleFactor || (h = a._itemWidth * cc.contentScaleFactor(), k = a._itemHeight * cc.contentScaleFactor());
		d > e.getCapacity() && cc.log("cc.LabelAtlas._updateAtlasValues(): Invalid String length");
		for (var m = e.quads, n = a._itemWidth, p = a._itemHeight, r = 0, t = -1; r < d; r++) {
			var u = c.charCodeAt(r) - a._mapStartChar.charCodeAt(0),
				s = u % a._itemsPerRow,
				w = 0 | u / a._itemsPerRow;
			if (!(0 > s || 0 > w || s * n + n > g || w * p + p > f)) {
				t++;
				var v;
				cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL ? (s = (2 * s * h + 1) / (2 * g), u = s + (2 * h - 2) / (2 * g), w = (2 * w * k + 1) / (2 * f), v = w + (2 * k - 2) / (2 * f)) : (s = s * h / g, u = s + h / g, w = w * k / f, v = w + k / f);
				var x = m[r],
					A = x.tl,
					z = x.tr,
					y = x.bl,
					x = x.br;
				A.texCoords.u = s;
				A.texCoords.v = w;
				z.texCoords.u = u;
				z.texCoords.v = w;
				y.texCoords.u = s;
				y.texCoords.v = v;
				x.texCoords.u = u;
				x.texCoords.v = v;
				y.vertices.x = t * n;
				y.vertices.y = 0;
				y.vertices.z = 0;
				x.vertices.x = t * n + n;
				x.vertices.y = 0;
				x.vertices.z = 0;
				A.vertices.x =
					t * n;
				A.vertices.y = a._itemHeight;
				A.vertices.z = 0;
				z.vertices.x = t * n + n;
				z.vertices.y = a._itemHeight;
				z.vertices.z = 0
			}
		}
		this._updateColor();
		this.updateContentSize(r, t + 1);
		0 < d && (e.dirty = !0, a = e.totalQuads, d > a && e.increaseTotalQuadsWith(d - a))
	};
	a.updateContentSize = function(a, c) {
		var d = this._node,
			e = d._contentSize;
		a !== c && a * d._itemWidth === e.width && d._itemHeight === e.height && d.setContentSize(c * d._itemWidth, d._itemHeight)
	};
	a.setString = function(a) {
		a = a.length;
		a > this._textureAtlas.totalQuads && this._textureAtlas.resizeCapacity(a)
	};
	a._addChild = function() {}
})();
cc.MotionStreak = cc.Node.extend({
	texture: null,
	fastMode: !1,
	startingPositionInitialized: !1,
	_blendFunc: null,
	_stroke: 0,
	_fadeDelta: 0,
	_minSeg: 0,
	_maxPoints: 0,
	_nuPoints: 0,
	_previousNuPoints: 0,
	_pointVertexes: null,
	_pointState: null,
	_vertices: null,
	_colorPointer: null,
	_texCoords: null,
	_verticesBuffer: null,
	_colorPointerBuffer: null,
	_texCoordsBuffer: null,
	_className: "MotionStreak",
	ctor: function(a, b, c, d, e) {
		cc.Node.prototype.ctor.call(this);
		this._positionR = cc.p(0, 0);
		this._blendFunc = new cc.BlendFunc(cc.SRC_ALPHA, cc.ONE_MINUS_SRC_ALPHA);
		this.startingPositionInitialized = this.fastMode = !1;
		this.texture = null;
		this._previousNuPoints = this._nuPoints = this._maxPoints = this._minSeg = this._fadeDelta = this._stroke = 0;
		this._texCoordsBuffer = this._colorPointerBuffer = this._verticesBuffer = this._texCoords = this._colorPointer = this._vertices = this._pointState = this._pointVertexes = null;
		void 0 !== e && this.initWithFade(a, b, c, d, e)
	},
	getTexture: function() {
		return this.texture
	},
	setTexture: function(a) {
		this.texture !== a && (this.texture = a)
	},
	getBlendFunc: function() {
		return this._blendFunc
	},
	setBlendFunc: function(a, b) {
		void 0 === b ? this._blendFunc = a : (this._blendFunc.src = a, this._blendFunc.dst = b)
	},
	getOpacity: function() {
		cc.log("cc.MotionStreak.getOpacity has not been supported.");
		return 0
	},
	setOpacity: function(a) {
		cc.log("cc.MotionStreak.setOpacity has not been supported.")
	},
	setOpacityModifyRGB: function(a) {},
	isOpacityModifyRGB: function() {
		return !1
	},
	isFastMode: function() {
		return this.fastMode
	},
	setFastMode: function(a) {
		this.fastMode = a
	},
	isStartingPositionInitialized: function() {
		return this.startingPositionInitialized
	},
	setStartingPositionInitialized: function(a) {
		this.startingPositionInitialized = a
	},
	getStroke: function() {
		return this._stroke
	},
	setStroke: function(a) {
		this._stroke = a
	},
	initWithFade: function(a, b, c, d, e) {
		if (!e) throw Error("cc.MotionStreak.initWithFade(): Invalid filename or texture");
		cc.isString(e) && (e = cc.textureCache.addImage(e));
		cc.Node.prototype.setPosition.call(this, cc.p(0, 0));
		this.anchorY = this.anchorX = 0;
		this.ignoreAnchor = !0;
		this.startingPositionInitialized = !1;
		this.fastMode = !0;
		this._minSeg = -1 === b ? c / 5 : b;
		this._minSeg *=
			this._minSeg;
		this._stroke = c;
		this._fadeDelta = 1 / a;
		this._maxPoints = a = (0 | 60 * a) + 2;
		this._nuPoints = 0;
		this._pointState = new Float32Array(a);
		this._pointVertexes = new Float32Array(2 * a);
		this._vertices = new Float32Array(4 * a);
		this._texCoords = new Float32Array(4 * a);
		this._colorPointer = new Uint8Array(8 * a);
		this._verticesBuffer = gl.createBuffer();
		this._texCoordsBuffer = gl.createBuffer();
		this._colorPointerBuffer = gl.createBuffer();
		this._blendFunc.src = gl.SRC_ALPHA;
		this._blendFunc.dst = gl.ONE_MINUS_SRC_ALPHA;
		this.texture = e;
		this.color =
			d;
		this.scheduleUpdate();
		gl.bindBuffer(gl.ARRAY_BUFFER, this._verticesBuffer);
		gl.bufferData(gl.ARRAY_BUFFER, this._vertices, gl.DYNAMIC_DRAW);
		gl.bindBuffer(gl.ARRAY_BUFFER, this._texCoordsBuffer);
		gl.bufferData(gl.ARRAY_BUFFER, this._texCoords, gl.DYNAMIC_DRAW);
		gl.bindBuffer(gl.ARRAY_BUFFER, this._colorPointerBuffer);
		gl.bufferData(gl.ARRAY_BUFFER, this._colorPointer, gl.DYNAMIC_DRAW);
		return !0
	},
	tintWithColor: function(a) {
		this.color = a;
		for (var b = this._colorPointer, c = 0, d = 2 * this._nuPoints; c < d; c++) b[4 * c] = a.r, b[4 * c +
			1] = a.g, b[4 * c + 2] = a.b
	},
	reset: function() {
		this._nuPoints = 0
	},
	setPosition: function(a, b) {
		this.startingPositionInitialized = !0;
		void 0 === b ? (this._positionR.x = a.x, this._positionR.y = a.y) : (this._positionR.x = a, this._positionR.y = b)
	},
	getPositionX: function() {
		return this._positionR.x
	},
	setPositionX: function(a) {
		this._positionR.x = a;
		this.startingPositionInitialized || (this.startingPositionInitialized = !0)
	},
	getPositionY: function() {
		return this._positionR.y
	},
	setPositionY: function(a) {
		this._positionR.y = a;
		this.startingPositionInitialized ||
			(this.startingPositionInitialized = !0)
	},
	update: function(a) {
		if (this.startingPositionInitialized) {
			this._renderCmd._updateDisplayColor();
			a *= this._fadeDelta;
			var b, c, d, e, f = 0,
				g = this._nuPoints,
				h = this._pointState,
				k = this._pointVertexes,
				m = this._vertices,
				n = this._colorPointer;
			for (b = 0; b < g; b++) h[b] -= a, 0 >= h[b] ? f++ : (c = b - f, 0 < f ? (h[c] = h[b], k[2 * c] = k[2 * b], k[2 * c + 1] = k[2 * b + 1], e = 2 * b, d = 2 * c, m[2 * d] = m[2 * e], m[2 * d + 1] = m[2 * e + 1], m[2 * (d + 1)] = m[2 * (e + 1)], m[2 * (d + 1) + 1] = m[2 * (e + 1) + 1], e *= 4, d *= 4, n[d + 0] = n[e + 0], n[d + 1] = n[e + 1], n[d + 2] = n[e + 2], n[d +
				4] = n[e + 4], n[d + 5] = n[e + 5], n[d + 6] = n[e + 6]) : d = 8 * c, c = 255 * h[c], n[d + 3] = c, n[d + 7] = c);
			g -= f;
			b = !0;
			g >= this._maxPoints ? b = !1 : 0 < g && (a = cc.pDistanceSQ(cc.p(k[2 * (g - 1)], k[2 * (g - 1) + 1]), this._positionR) < this._minSeg, d = 1 === g ? !1 : cc.pDistanceSQ(cc.p(k[2 * (g - 2)], k[2 * (g - 2) + 1]), this._positionR) < 2 * this._minSeg, a || d) && (b = !1);
			b && (k[2 * g] = this._positionR.x, k[2 * g + 1] = this._positionR.y, h[g] = 1, h = 8 * g, b = this.getDisplayedColor(), n[h] = b.r, n[h + 1] = b.g, n[h + 2] = b.b, n[h + 4] = b.r, n[h + 5] = b.g, n[h + 6] = b.b, n[h + 3] = 255, n[h + 7] = 255, 0 < g && this.fastMode && (1 < g ?
				cc.vertexLineToPolygon(k, this._stroke, this._vertices, g, 1) : cc.vertexLineToPolygon(k, this._stroke, this._vertices, 0, 2)), g++);
			this.fastMode || cc.vertexLineToPolygon(k, this._stroke, this._vertices, 0, g);
			if (g && this._previousNuPoints !== g) {
				k = 1 / g;
				n = this._texCoords;
				for (b = 0; b < g; b++) n[4 * b] = 0, n[4 * b + 1] = k * b, n[2 * (2 * b + 1)] = 1, n[2 * (2 * b + 1) + 1] = k * b;
				this._previousNuPoints = g
			}
			this._nuPoints = g
		}
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_WEBGL ? new cc.MotionStreak.WebGLRenderCmd(this) : null
	}
});
cc.MotionStreak.create = function(a, b, c, d, e) {
	return new cc.MotionStreak(a, b, c, d, e)
};
cc.MotionStreak.WebGLRenderCmd = function(a) {
	this._rootCtor(a);
	this._needDraw = !0;
	this._matrix = new cc.math.Matrix4;
	this._matrix.identity();
	this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR)
};
cc.MotionStreak.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
cc.MotionStreak.WebGLRenderCmd.prototype.constructor = cc.Sprite.WebGLRenderCmd;
cc.MotionStreak.WebGLRenderCmd.prototype.rendering = function(a) {
	var b = this._node;
	if (!(1 >= b._nuPoints) && b.texture && b.texture.isLoaded()) {
		a = a || cc._renderContext;
		var c = this._worldTransform;
		this._matrix.mat[0] = c.a;
		this._matrix.mat[4] = c.c;
		this._matrix.mat[12] = c.tx;
		this._matrix.mat[1] = c.b;
		this._matrix.mat[5] = c.d;
		this._matrix.mat[13] = c.ty;
		this._glProgramState.apply(this._matrix);
		cc.glBlendFunc(b._blendFunc.src, b._blendFunc.dst);
		cc.glBindTexture2D(b.texture);
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
		a.bindBuffer(a.ARRAY_BUFFER, b._verticesBuffer);
		a.bufferData(a.ARRAY_BUFFER, b._vertices, a.DYNAMIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, a.FLOAT, !1, 0, 0);
		a.bindBuffer(a.ARRAY_BUFFER, b._texCoordsBuffer);
		a.bufferData(a.ARRAY_BUFFER, b._texCoords, a.DYNAMIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, a.FLOAT, !1, 0, 0);
		a.bindBuffer(a.ARRAY_BUFFER, b._colorPointerBuffer);
		a.bufferData(a.ARRAY_BUFFER,
			b._colorPointer, a.DYNAMIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR, 4, a.UNSIGNED_BYTE, !0, 0, 0);
		a.drawArrays(a.TRIANGLE_STRIP, 0, 2 * b._nuPoints);
		cc.g_NumberOfDraws++
	}
};
cc.NodeGrid = cc.Node.extend({
	grid: null,
	_target: null,
	_gridRect: null,
	ctor: function(a) {
		cc.Node.prototype.ctor.call(this);
		void 0 === a && (a = cc.rect());
		this._gridRect = a
	},
	getGrid: function() {
		return this.grid
	},
	setGrid: function(a) {
		this.grid = a
	},
	setGridRect: function(a) {
		this._gridRect = a
	},
	getGridRect: function() {
		return this._gridRect
	},
	setTarget: function(a) {
		this._target = a
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_WEBGL ? new cc.NodeGrid.WebGLRenderCmd(this) : new cc.Node.CanvasRenderCmd(this)
	}
});
_p = cc.NodeGrid.prototype;
cc.defineGetterSetter(_p, "target", null, _p.setTarget);
cc.NodeGrid.create = function() {
	return new cc.NodeGrid
};
(function() {
	cc.NodeGrid.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !1;
		this._gridBeginCommand = new cc.CustomRenderCmd(this, this.onGridBeginDraw);
		this._gridEndCommand = new cc.CustomRenderCmd(this, this.onGridEndDraw)
	};
	var a = cc.NodeGrid.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.NodeGrid.WebGLRenderCmd;
	a.visit = function(a) {
		var c = this._node;
		if (c._visible) {
			if (a = a || this.getParentRenderCmd()) this._curLevel = a._curLevel + 1;
			var d = cc.current_stack;
			d.stack.push(d.top);
			this._syncStatus(a);
			d.top = this._stackMatrix;
			cc.renderer.pushRenderCommand(this._gridBeginCommand);
			c._target && c._target.visit();
			if ((a = c._children) && 0 < a.length) {
				var e = a.length;
				c.sortAllChildren();
				for (c = 0; c < e; c++) {
					var f = a[c];
					f && f.visit()
				}
			}
			cc.renderer.pushRenderCommand(this._gridEndCommand);
			this._dirtyFlag = 0;
			d.top = d.stack.pop()
		}
	};
	a.onGridBeginDraw = function() {
		var a = this._node.grid;
		a && a._active && a.beforeDraw()
	};
	a.onGridEndDraw = function() {
		var a = this._node.grid;
		a && a._active && a.afterDraw(this._node)
	}
})();
cc.DrawNode = cc.Node.extend({
	_buffer: null,
	_blendFunc: null,
	_lineWidth: 1,
	_drawColor: null,
	getBlendFunc: function() {
		return this._blendFunc
	},
	setBlendFunc: function(a, b) {
		void 0 === b ? (this._blendFunc.src = a.src, this._blendFunc.dst = a.dst) : (this._blendFunc.src = a, this._blendFunc.dst = b)
	},
	setLineWidth: function(a) {
		this._lineWidth = a
	},
	getLineWidth: function() {
		return this._lineWidth
	},
	setDrawColor: function(a) {
		var b = this._drawColor;
		b.r = a.r;
		b.g = a.g;
		b.b = a.b;
		b.a = null == a.a ? 255 : a.a
	},
	getDrawColor: function() {
		return cc.color(this._drawColor.r,
			this._drawColor.g, this._drawColor.b, this._drawColor.a)
	}
});
cc.DrawNode.create = function() {
	return new cc.DrawNode
};
cc.DrawNode.TYPE_DOT = 0;
cc.DrawNode.TYPE_SEGMENT = 1;
cc.DrawNode.TYPE_POLY = 2;
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	if (cc._renderType === cc.game.RENDER_TYPE_CANVAS) cc._DrawNodeElement = function(a, b, c, d, e, f, h, g, k) {
		this.type = a;
		this.verts = b || null;
		this.fillColor = c || null;
		this.lineWidth = d || 0;
		this.lineColor = e || null;
		this.lineCap = f || "butt";
		this.isClosePolygon = h || !1;
		this.isFill = g || !1;
		this.isStroke = k || !1
	}, cc.extend(cc.DrawNode.prototype, {
		_className: "DrawNodeCanvas",
		ctor: function() {
			cc.Node.prototype.ctor.call(this);
			var a = this._renderCmd;
			a._buffer = this._buffer = [];
			a._drawColor = this._drawColor = cc.color(255, 255, 255, 255);
			a._blendFunc = this._blendFunc = new cc.BlendFunc(cc.SRC_ALPHA, cc.ONE_MINUS_SRC_ALPHA);
			this.init();
			this._localBB = new cc.Rect
		},
		setLocalBB: function(a, b, c, d) {
			var e = this._localBB;
			void 0 === b ? (e.x = a.x, e.y = a.y, e.width = a.width, e.height = a.height) : (e.x = a, e.y = b, e.width = c, e.height = d)
		},
		drawRect: function(a, b, c, d, e) {
			d = null == d ? this._lineWidth : d;
			e = e || this.getDrawColor();
			null == e.a && (e.a = 255);
			a = [a, cc.p(b.x, a.y), b, cc.p(a.x, b.y)];
			b = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
			b.verts = a;
			b.lineWidth = d;
			b.lineColor = e;
			b.isClosePolygon = !0;
			b.isStroke = !0;
			b.lineCap = "butt";
			if (b.fillColor = c) null == c.a && (c.a = 255), b.isFill = !0;
			this._buffer.push(b)
		},
		drawCircle: function(a, b, c, d, e, f, h) {
			f = f || this._lineWidth;
			h = h || this.getDrawColor();
			null == h.a && (h.a = 255);
			for (var g = 2 * Math.PI / d, k = [], m = 0; m <= d; m++) {
				var z = m * g,
					y = b * Math.cos(z + c) + a.x,
					z = b * Math.sin(z + c) + a.y;
				k.push(cc.p(y, z))
			}
			e && k.push(cc.p(a.x, a.y));
			a = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
			a.verts = k;
			a.lineWidth = f;
			a.lineColor = h;
			a.isClosePolygon = !0;
			a.isStroke = !0;
			this._buffer.push(a)
		},
		drawQuadBezier: function(a, b, c, d, e, f) {
			e = e || this._lineWidth;
			f = f || this.getDrawColor();
			null == f.a && (f.a = 255);
			for (var h = [], g = 0, k = 0; k < d; k++) {
				var m = Math.pow(1 - g, 2) * a.x + 2 * (1 - g) * g * b.x + g * g * c.x,
					z = Math.pow(1 - g, 2) * a.y + 2 * (1 - g) * g * b.y + g * g * c.y;
				h.push(cc.p(m, z));
				g += 1 / d
			}
			h.push(cc.p(c.x, c.y));
			a = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
			a.verts = h;
			a.lineWidth = e;
			a.lineColor = f;
			a.isStroke = !0;
			a.lineCap = "round";
			this._buffer.push(a)
		},
		drawCubicBezier: function(a, b, c, d, e, f, h) {
			f = f || this._lineWidth;
			h = h || this.getDrawColor();
			null == h.a && (h.a = 255);
			for (var g = [], k = 0, m = 0; m < e; m++) {
				var z = Math.pow(1 - k, 3) * a.x + 3 * Math.pow(1 - k, 2) * k * b.x + 3 * (1 - k) * k * k * c.x + k * k * k * d.x,
					y = Math.pow(1 - k, 3) * a.y + 3 * Math.pow(1 - k, 2) * k * b.y + 3 * (1 - k) * k * k * c.y + k * k * k * d.y;
				g.push(cc.p(z, y));
				k += 1 / e
			}
			g.push(cc.p(d.x, d.y));
			a = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
			a.verts = g;
			a.lineWidth = f;
			a.lineColor = h;
			a.isStroke = !0;
			a.lineCap = "round";
			this._buffer.push(a)
		},
		drawCatmullRom: function(a, b, c, d) {
			this.drawCardinalSpline(a, 0.5, b, c, d)
		},
		drawCardinalSpline: function(a,
			b, c, d, e) {
			d = d || this._lineWidth;
			e = e || this.getDrawColor();
			null == e.a && (e.a = 255);
			for (var f = [], h, g, k = 1 / a.length, m = 0; m < c + 1; m++) g = m / c, 1 === g ? (h = a.length - 1, g = 1) : (h = 0 | g / k, g = (g - k * h) / k), h = cc.cardinalSplineAt(cc.getControlPointAt(a, h - 1), cc.getControlPointAt(a, h - 0), cc.getControlPointAt(a, h + 1), cc.getControlPointAt(a, h + 2), b, g), f.push(h);
			a = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
			a.verts = f;
			a.lineWidth = d;
			a.lineColor = e;
			a.isStroke = !0;
			a.lineCap = "round";
			this._buffer.push(a)
		},
		drawDot: function(a, b, c) {
			c = c || this.getDrawColor();
			null == c.a && (c.a = 255);
			var d = new cc._DrawNodeElement(cc.DrawNode.TYPE_DOT);
			d.verts = [a];
			d.lineWidth = b;
			d.fillColor = c;
			this._buffer.push(d)
		},
		drawDots: function(a, b, c) {
			if (a && 0 != a.length) {
				c = c || this.getDrawColor();
				null == c.a && (c.a = 255);
				for (var d = 0, e = a.length; d < e; d++) this.drawDot(a[d], b, c)
			}
		},
		drawSegment: function(a, b, c, d) {
			c = c || this._lineWidth;
			d = d || this.getDrawColor();
			null == d.a && (d.a = 255);
			var e = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
			e.verts = [a, b];
			e.lineWidth = 2 * c;
			e.lineColor = d;
			e.isStroke = !0;
			e.lineCap = "round";
			this._buffer.push(e)
		},
		drawPoly_: function(a, b, c, d) {
			c = null == c ? this._lineWidth : c;
			d = d || this.getDrawColor();
			null == d.a && (d.a = 255);
			var e = new cc._DrawNodeElement(cc.DrawNode.TYPE_POLY);
			e.verts = a;
			e.fillColor = b;
			e.lineWidth = c;
			e.lineColor = d;
			e.isClosePolygon = !0;
			e.isStroke = !0;
			e.lineCap = "round";
			b && (e.isFill = !0);
			this._buffer.push(e)
		},
		drawPoly: function(a, b, c, d) {
			for (var e = [], f = 0; f < a.length; f++) e.push(cc.p(a[f].x, a[f].y));
			return this.drawPoly_(e, b, c, d)
		},
		clear: function() {
			this._buffer.length = 0
		},
		_createRenderCmd: function() {
			return new cc.DrawNode.CanvasRenderCmd(this)
		}
	});
	else if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
		var a = null,
			b = [],
			c = cc.p(),
			d = cc.p(),
			e = new Uint32Array(1),
			f = cc.p(),
			g = cc.p(),
			h = cc.p(),
			k = cc.p(),
			m = [];
		cc.extend(cc.DrawNode.prototype, {
			_bufferCapacity: 0,
			_vertexCount: 0,
			_offset: 0,
			_occupiedSize: 0,
			_f32Buffer: null,
			_ui32Buffer: null,
			_dirty: !1,
			_className: "DrawNodeWebGL",
			manualRelease: !1,
			ctor: function(b, c) {
				cc.Node.prototype.ctor.call(this);
				a || (a = new GlobalVertexBuffer(cc._renderContext, 20 * cc.DRAWNODE_TOTAL_VERTICES));
				this._renderCmd._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_POSITION_LENGTHTEXTURECOLOR);
				this._blendFunc = new cc.BlendFunc(cc.SRC_ALPHA, cc.ONE_MINUS_SRC_ALPHA);
				this._drawColor = cc.color(255, 255, 255, 255);
				this._bufferCapacity = b || 64;
				this.manualRelease = c;
				this._dirty = !0
			},
			onEnter: function() {
				cc.Node.prototype.onEnter.call(this);
				this._occupiedSize < this._bufferCapacity && this._ensureCapacity(this._bufferCapacity)
			},
			onExit: function() {
				this.manualRelease || this.release();
				cc.Node.prototype.onExit.call(this)
			},
			release: function() {
				0 < this._occupiedSize && (this._vertexCount = 0, a.freeBuffer(this._offset, 20 * this._occupiedSize),
					this._occupiedSize = 0)
			},
			_ensureCapacity: function(b) {
				var c = this._occupiedSize,
					d = this._offset;
				if (b > c || this._bufferCapacity > c) {
					var e = Math.max(Math.min(c + c, 200), b, this._bufferCapacity);
					0 !== c && (a.freeBuffer(d, 20 * c), this._occupiedSize = 0);
					b = this._offset = a.requestBuffer(20 * e);
					if (0 <= b) {
						this._occupiedSize = this._bufferCapacity = e;
						this._f32Buffer = new Float32Array(a.data, b, 5 * this._occupiedSize);
						this._ui32Buffer = new Uint32Array(a.data, b, 5 * this._occupiedSize);
						if (0 !== c && d !== b)
							for (c = d / 4 + 5 * c, b /= 4, d /= 4; d < c; b++, d++) a.dataArray[b] =
								a.dataArray[d];
						return !0
					}
					cc.warn("Failed to allocate buffer for DrawNode: buffer for " + e + " vertices requested");
					return !1
				}
				return !0
			},
			drawRect: function(a, c, d, e, f) {
				e = null == e ? this._lineWidth : e;
				f = f || this._drawColor;
				b.length = 0;
				b.push(a.x, a.y, c.x, a.y, c.x, c.y, a.x, c.y);
				null == d ? this._drawSegments(b, e, f, !0) : this.drawPoly(b, d, e, f);
				b.length = 0
			},
			drawCircle: function(a, e, f, h, g, k, m) {
				k = k || this._lineWidth;
				m = m || this._drawColor;
				var v = 2 * Math.PI / h,
					x;
				for (x = b.length = 0; x <= h; x++) {
					var A = x * v,
						z = e * Math.cos(A + f) + a.x,
						A = e * Math.sin(A +
							f) + a.y;
					b.push(z, A)
				}
				g && b.push(a.x, a.y);
				k *= 0.5;
				x = 0;
				for (a = b.length - 2; x < a; x += 2) c.x = b[x], c.y = b[x + 1], d.x = b[x + 2], d.y = b[x + 3], this.drawSegment(c, d, k, m);
				b.length = 0
			},
			drawQuadBezier: function(a, c, d, e, f, h) {
				f = f || this._lineWidth;
				h = h || this._drawColor;
				for (var g = 0, k = b.length = 0; k < e; k++) {
					var m = Math.pow(1 - g, 2) * a.x + 2 * (1 - g) * g * c.x + g * g * d.x,
						A = Math.pow(1 - g, 2) * a.y + 2 * (1 - g) * g * c.y + g * g * d.y;
					b.push(m, A);
					g += 1 / e
				}
				b.push(d.x, d.y);
				this._drawSegments(b, f, h, !1);
				b.length = 0
			},
			drawCubicBezier: function(a, c, d, e, f, h, g) {
				h = h || this._lineWidth;
				g = g ||
					this._drawColor;
				for (var k = 0, m = b.length = 0; m < f; m++) {
					var A = Math.pow(1 - k, 3) * a.x + 3 * Math.pow(1 - k, 2) * k * c.x + 3 * (1 - k) * k * k * d.x + k * k * k * e.x,
						z = Math.pow(1 - k, 3) * a.y + 3 * Math.pow(1 - k, 2) * k * c.y + 3 * (1 - k) * k * k * d.y + k * k * k * e.y;
					b.push(A, z);
					k += 1 / f
				}
				b.push(e.x, e.y);
				this._drawSegments(b, h, g, !1);
				b.length = 0
			},
			drawCatmullRom: function(a, b, c, d) {
				this.drawCardinalSpline(a, 0.5, b, c, d)
			},
			drawCardinalSpline: function(a, e, f, h, g) {
				h = h || this._lineWidth;
				g = g || this._drawColor;
				for (var k, m, v = 1 / a.length, x = b.length = 0; x < f + 1; x++) m = x / f, 1 === m ? (k = a.length - 1, m =
					1) : (k = 0 | m / v, m = (m - v * k) / v), cc.cardinalSplineAt(cc.getControlPointAt(a, k - 1), cc.getControlPointAt(a, k - 0), cc.getControlPointAt(a, k + 1), cc.getControlPointAt(a, k + 2), e, m, c), b.push(c.x, c.y);
				h *= 0.5;
				a = 0;
				for (e = b.length - 2; a < e; a += 2) c.x = b[a], c.y = b[a + 1], d.x = b[a + 2], d.y = b[a + 3], this.drawSegment(c, d, h, g);
				b.length = 0
			},
			drawDots: function(a, b, c) {
				if (a && 0 !== a.length) {
					c = c || this._drawColor;
					for (var d = 0, e = a.length; d < e; d++) this.drawDot(a[d], b, c)
				}
			},
			_render: function() {
				var b = cc._renderContext;
				0 > this._offset || 0 >= this._vertexCount || (this._dirty ?
					(a.updateSubData(this._offset, this._f32Buffer), this._dirty = !1) : b.bindBuffer(b.ARRAY_BUFFER, a.vertexBuffer), b.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION), b.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR), b.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS), b.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 2, b.FLOAT, !1, 20, 0), b.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR, 4, b.UNSIGNED_BYTE, !0, 20, 8), b.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, b.FLOAT, !1, 20, 12), b.drawArrays(b.TRIANGLES, this._offset /
						20, this._vertexCount), cc.incrementGLDraws(1))
			},
			appendVertexData: function(a, b, c, d, f) {
				var h = this._f32Buffer,
					g = 5 * this._vertexCount;
				h[g] = a;
				h[g + 1] = b;
				e[0] = c.a << 24 | c.b << 16 | c.g << 8 | c.r;
				this._ui32Buffer[g + 2] = e[0];
				h[g + 3] = d;
				h[g + 4] = f;
				this._vertexCount++
			},
			drawDot: function(a, b, c) {
				c = c || this._drawColor;
				null == c.a && (c.a = 255);
				var d = a.x - b,
					e = a.y - b,
					f = a.x + b;
				a = a.y + b;
				this._ensureCapacity(this._vertexCount + 6) && (this.appendVertexData(d, e, c, -1, -1), this.appendVertexData(d, a, c, -1, 1), this.appendVertexData(f, a, c, 1, 1), this.appendVertexData(d,
					e, c, -1, -1), this.appendVertexData(f, a, c, 1, 1), this.appendVertexData(f, e, c, 1, -1), this._dirty = !0)
			},
			drawSegment: function(a, b, c, d) {
				d = d || this.getDrawColor();
				null == d.a && (d.a = 255);
				c = c || 0.5 * this._lineWidth;
				if (this._ensureCapacity(this._vertexCount + 18)) {
					f.x = a.y - b.y;
					f.y = b.x - a.x;
					cc.pNormalizeIn(f);
					g.x = -f.y;
					g.y = f.x;
					var e = c;
					h.x = f.x * e;
					h.y = f.y * e;
					k.x = g.x * c;
					k.y = g.y * c;
					c = b.x + h.x - k.x;
					var e = b.y + h.y - k.y,
						m = f.x - g.x,
						w = f.y - g.y,
						v = b.x - h.x,
						x = b.y - h.y,
						A = -f.x,
						z = -f.y,
						y = b.x + h.x,
						B = b.y + h.y,
						C = f.x,
						D = f.y,
						I = a.x - h.x,
						E = a.y - h.y,
						F = a.x + h.x,
						K =
						a.y + h.y,
						G = f.x,
						H = f.y,
						M = a.x - h.x + k.x,
						J = a.y - h.y + k.y,
						N = g.x - f.x,
						L = g.y - f.y,
						O = a.x + h.x + k.x;
					a = a.y + h.y + k.y;
					var R = f.x + g.x,
						P = f.y + g.y;
					this.appendVertexData(b.x - h.x - k.x, b.y - h.y - k.y, d, -(f.x + g.x), -(f.y + g.y));
					this.appendVertexData(c, e, d, m, w);
					this.appendVertexData(v, x, d, A, z);
					this.appendVertexData(y, B, d, C, D);
					this.appendVertexData(c, e, d, m, w);
					this.appendVertexData(v, x, d, A, z);
					this.appendVertexData(y, B, d, C, D);
					this.appendVertexData(I, E, d, A, z);
					this.appendVertexData(v, x, d, A, z);
					this.appendVertexData(y, B, d, C, D);
					this.appendVertexData(I,
						E, d, A, z);
					this.appendVertexData(F, K, d, G, H);
					this.appendVertexData(M, J, d, N, L);
					this.appendVertexData(I, E, d, A, z);
					this.appendVertexData(F, K, d, G, H);
					this.appendVertexData(M, J, d, N, L);
					this.appendVertexData(O, a, d, R, P);
					this.appendVertexData(F, K, d, G, H);
					this._dirty = !0
				}
			},
			drawPoly: function(a, c, d, e) {
				if ("object" === typeof a[0]) {
					for (var g = b.length = 0; g < a.length; g++) b.push(a[g].x, a[g].y);
					a = b
				}
				if (null == c) this._drawSegments(a, d, e, !0);
				else {
					null == c.a && (c.a = 255);
					null == e.a && (e.a = 255);
					d = null == d ? this._lineWidth : d;
					d *= 0.5;
					for (var k,
							w, v, x, A, z, y, B = a.length, g = m.length = 0; g < B; g += 2) k = a[(g - 2 + B) % B], w = a[(g - 1 + B) % B], v = a[g], x = a[g + 1], A = a[(g + 2) % B], z = a[(g + 3) % B], f.x = w - x, f.y = v - k, h.x = x - z, h.y = A - v, cc.pNormalizeIn(f), cc.pNormalizeIn(h), x = f.x * h.x + f.y * h.y + 1, y = (f.x + h.x) / x, x = (f.y + h.y) / x, m.push(y, x, h.x, h.y);
					B /= 2;
					y = 0 < d;
					if (this._ensureCapacity(this._vertexCount + 3 * (3 * B - 2))) {
						for (var C = !1 == y ? 0.5 : 0, g = 0; g < B - 2; g++) k = a[0] - m[0] * C, w = a[1] - m[1] * C, v = a[2 * g + 2] - m[4 * (g + 1)] * C, x = a[2 * g + 3] - m[4 * (g + 1) + 1] * C, A = a[2 * g + 4] - m[4 * (g + 2)] * C, z = a[2 * g + 5] - m[4 * (g + 2) + 1] * C, this.appendVertexData(k,
							w, c, 0, 0), this.appendVertexData(v, x, c, 0, 0), this.appendVertexData(A, z, c, 0, 0);
						var D, I, E, F;
						d = y ? d : 0.5;
						c = y ? e : c;
						for (g = 0; g < B; g++) e = (g + 1) % B, k = a[2 * g], w = a[2 * g + 1], v = a[2 * e], x = a[2 * e + 1], f.x = m[4 * g + 2], f.y = m[4 * g + 3], h.x = y ? -f.x : 0, h.y = y ? -f.y : 0, D = m[4 * g], I = m[4 * g + 1], E = m[4 * e], F = m[4 * e + 1], e = k - D * d, A = w - I * d, z = v - E * d, C = x - F * d, k += D * d, w += I * d, v += E * d, x += F * d, this.appendVertexData(e, A, c, h.x, h.y), this.appendVertexData(z, C, c, h.x, h.y), this.appendVertexData(v, x, c, f.x, f.y), this.appendVertexData(e, A, c, h.x, h.y), this.appendVertexData(k, w, c, f.x,
							f.y), this.appendVertexData(v, x, c, f.x, f.y);
						m.length = 0;
						b.length = 0;
						this._dirty = !0
					}
				}
			},
			_drawSegments: function(a, b, c, d) {
				b = null == b ? this._lineWidth : b;
				if (!(0 >= b)) {
					c = c || this._drawColor;
					null == c.a && (c.a = 255);
					b *= 0.5;
					var e, g, k, v, x, A, z, y = a.length;
					for (z = m.length = 0; z < y; z += 2) e = a[(z - 2 + y) % y], g = a[(z - 1 + y) % y], k = a[z], v = a[z + 1], x = a[(z + 2) % y], A = a[(z + 3) % y], f.x = g - v, f.y = k - e, h.x = v - A, h.y = x - k, cc.pNormalizeIn(f), cc.pNormalizeIn(h), k = f.x * h.x + f.y * h.y + 1, v = (f.x + h.x) / k, k = (f.y + h.y) / k, m.push(v, k, h.x, h.y);
					y /= 2;
					if (this._ensureCapacity(this._vertexCount +
							3 * (3 * y - 2))) {
						d = d ? y : y - 1;
						var B, C, D, I, E, F;
						for (z = 0; z < d; z++) x = (z + 1) % y, e = a[2 * z], g = a[2 * z + 1], k = a[2 * x], v = a[2 * x + 1], f.x = m[4 * z + 2], f.y = m[4 * z + 3], B = m[4 * z], C = m[4 * z + 1], D = m[4 * x], I = m[4 * x + 1], x = e - B * b, A = g - C * b, E = k - D * b, F = v - I * b, e += B * b, g += C * b, k += D * b, v += I * b, this.appendVertexData(x, A, c, -f.x, -f.y), this.appendVertexData(E, F, c, -f.x, -f.y), this.appendVertexData(k, v, c, f.x, f.y), this.appendVertexData(x, A, c, -f.x, -f.y), this.appendVertexData(e, g, c, f.x, f.y), this.appendVertexData(k, v, c, f.x, f.y);
						m.length = 0;
						this._dirty = !0
					}
				}
			},
			clear: function() {
				this.release();
				this._dirty = !0
			},
			_createRenderCmd: function() {
				return new cc.DrawNode.WebGLRenderCmd(this)
			}
		})
	}
});
(function() {
	cc.DrawNode.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._blendFunc = this._drawColor = this._buffer = null
	};
	cc.DrawNode.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	cc.DrawNode.CanvasRenderCmd.prototype.constructor = cc.DrawNode.CanvasRenderCmd;
	cc.DrawNode.CanvasRenderCmd.prototype.getLocalBB = function() {
		return this._node._localBB
	};
	cc.extend(cc.DrawNode.CanvasRenderCmd.prototype, {
		rendering: function(a, b, c) {
			a = a || cc._renderContext;
			a.getContext();
			var d = this._displayedOpacity / 255;
			if (0 !== d) {
				a.setTransform(this._worldTransform, b, c);
				a.setGlobalAlpha(d);
				this._blendFunc && this._blendFunc.src === cc.SRC_ALPHA && this._blendFunc.dst === cc.ONE && a.setCompositeOperation("lighter");
				for (var d = this._buffer, e = 0, f = d.length; e < f; e++) {
					var g = d[e];
					switch (g.type) {
						case cc.DrawNode.TYPE_DOT:
							this._drawDot(a, g, b, c);
							break;
						case cc.DrawNode.TYPE_SEGMENT:
							this._drawSegment(a, g, b, c);
							break;
						case cc.DrawNode.TYPE_POLY:
							this._drawPoly(a, g, b, c)
					}
				}
			}
		},
		_drawDot: function(a, b) {
			var c = b.fillColor,
				d = b.verts[0],
				e = b.lineWidth,
				f = a.getContext();
			a.setFillStyle("rgba(" + (0 | c.r) + "," + (0 | c.g) + "," + (0 | c.b) + "," + c.a / 255 + ")");
			f.beginPath();
			f.arc(d.x, -d.y, e, 0, 2 * Math.PI, !1);
			f.closePath();
			f.fill()
		},
		_drawSegment: function(a, b, c) {
			var d = b.lineColor,
				e = b.verts[0],
				f = b.verts[1],
				g = b.lineWidth;
			b = b.lineCap;
			var h = a.getContext();
			a.setStrokeStyle("rgba(" + (0 | d.r) + "," + (0 | d.g) + "," + (0 | d.b) + "," + d.a / 255 + ")");
			h.lineWidth = g * c;
			h.beginPath();
			h.lineCap = b;
			h.moveTo(e.x, -e.y);
			h.lineTo(f.x, -f.y);
			h.stroke()
		},
		_drawPoly: function(a, b, c) {
			var d =
				b.verts,
				e = b.lineCap;
			if (null != d) {
				var f = b.fillColor,
					g = b.lineWidth,
					h = b.lineColor,
					k = b.isClosePolygon,
					m = b.isFill;
				b = b.isStroke;
				var n = a.getContext(),
					p = d[0];
				n.lineCap = e;
				f && a.setFillStyle("rgba(" + (0 | f.r) + "," + (0 | f.g) + "," + (0 | f.b) + "," + f.a / 255 + ")");
				g && (n.lineWidth = g * c);
				h && a.setStrokeStyle("rgba(" + (0 | h.r) + "," + (0 | h.g) + "," + (0 | h.b) + "," + h.a / 255 + ")");
				n.beginPath();
				n.moveTo(p.x, -p.y);
				a = 1;
				for (c = d.length; a < c; a++) n.lineTo(d[a].x, -d[a].y);
				k && n.closePath();
				m && n.fill();
				b && n.stroke()
			}
		}
	})
})();
(function() {
	cc.DrawNode.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._matrix = new cc.math.Matrix4;
		this._matrix.identity()
	};
	cc.DrawNode.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	cc.DrawNode.WebGLRenderCmd.prototype.constructor = cc.DrawNode.WebGLRenderCmd;
	cc.DrawNode.WebGLRenderCmd.prototype.rendering = function(a) {
		a = this._node;
		if (0 < a._vertexCount) {
			var b = this._worldTransform;
			this._matrix.mat[0] = b.a;
			this._matrix.mat[4] = b.c;
			this._matrix.mat[12] = b.tx;
			this._matrix.mat[1] =
				b.b;
			this._matrix.mat[5] = b.d;
			this._matrix.mat[13] = b.ty;
			cc.glBlendFunc(a._blendFunc.src, a._blendFunc.dst);
			this._glProgramState.apply(this._matrix);
			a._render()
		}
	}
})();
cc.stencilBits = -1;
cc.ClippingNode = cc.Node.extend({
	inverted: !1,
	_alphaThreshold: 0,
	_stencil: null,
	_className: "ClippingNode",
	_originStencilProgram: null,
	ctor: function(a) {
		a = a || null;
		cc.Node.prototype.ctor.call(this);
		if (this._stencil = a) this._originStencilProgram = a.getShaderProgram();
		this.alphaThreshold = 1;
		this.inverted = !1;
		this._renderCmd.initStencilBits()
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		this._stencil && this._stencil._performRecursive(cc.Node._stateCallbackType.onEnter)
	},
	onEnterTransitionDidFinish: function() {
		cc.Node.prototype.onEnterTransitionDidFinish.call(this);
		this._stencil &&
			this._stencil._performRecursive(cc.Node._stateCallbackType.onEnterTransitionDidFinish)
	},
	onExitTransitionDidStart: function() {
		this._stencil._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart);
		cc.Node.prototype.onExitTransitionDidStart.call(this)
	},
	onExit: function() {
		this._stencil._performRecursive(cc.Node._stateCallbackType.onExit);
		cc.Node.prototype.onExit.call(this)
	},
	visit: function(a) {
		this._renderCmd.clippingVisit(a && a._renderCmd)
	},
	_visitChildren: function() {
		this._reorderChildDirty &&
			this.sortAllChildren();
		for (var a = this._children, b, c = 0, d = a.length; c < d; c++)(b = a[c]) && b._visible && b.visit(this);
		this._renderCmd._dirtyFlag = 0
	},
	getAlphaThreshold: function() {
		return this._alphaThreshold
	},
	setAlphaThreshold: function(a) {
		1 === a && a !== this._alphaThreshold && this._renderCmd.resetProgramByStencil();
		this._alphaThreshold = a
	},
	isInverted: function() {
		return this.inverted
	},
	setInverted: function(a) {
		this.inverted = a
	},
	getStencil: function() {
		return this._stencil
	},
	setStencil: function(a) {
		this._stencil !== a && (a && (this._originStencilProgram =
			a.getShaderProgram()), this._renderCmd.setStencil(a))
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.ClippingNode.CanvasRenderCmd(this) : new cc.ClippingNode.WebGLRenderCmd(this)
	}
});
_p = cc.ClippingNode.prototype;
cc.defineGetterSetter(_p, "stencil", _p.getStencil, _p.setStencil);
cc.defineGetterSetter(_p, "alphaThreshold", _p.getAlphaThreshold, _p.setAlphaThreshold);
cc.ClippingNode.create = function(a) {
	return new cc.ClippingNode(a)
};
(function() {
	cc.ClippingNode.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._clipElemType = this._godhelpme = this._needDraw = !1;
		this._rendererSaveCmd = new cc.CustomRenderCmd(this, this._saveCmdCallback);
		this._rendererClipCmd = new cc.CustomRenderCmd(this, this._clipCmdCallback);
		this._rendererRestoreCmd = new cc.CustomRenderCmd(this, this._restoreCmdCallback)
	};
	var a = cc.ClippingNode.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.ClippingNode.CanvasRenderCmd;
	a.resetProgramByStencil =
		function() {};
	a.initStencilBits = function() {};
	a.setStencil = function(a) {
		if (null != a)
			if (this._node._stencil = a, a instanceof cc.DrawNode) {
				if (a._buffer)
					for (var c = 0; c < a._buffer.length; c++) a._buffer[c].isFill = !1, a._buffer[c].isStroke = !1;
				a._renderCmd.rendering = function(a, b, c) {};
				a._renderCmd._canUseDirtyRegion = !0;
				this._rendererSaveCmd._canUseDirtyRegion = !0;
				this._rendererClipCmd._canUseDirtyRegion = !0;
				this._rendererRestoreCmd._canUseDirtyRegion = !0
			} else a._parent = this._node
	};
	a._saveCmdCallback = function(a, c, d) {
		var e =
			a || cc._renderContext;
		a = e.getContext();
		this._clipElemType ? (c = cc.ClippingNode.CanvasRenderCmd._getSharedCache(), d = a.canvas, c.width = d.width, c.height = d.height, c.getContext("2d").drawImage(d, 0, 0)) : (e.save(), e.setTransform(this._worldTransform, c, d), this._node.inverted && (a.beginPath(), a.rect(0, 0, a.canvas.width, -a.canvas.height), a.clip()))
	};
	a._setStencilCompositionOperation = function(a) {
		if (a) {
			var c = this._node;
			a._renderCmd && a._renderCmd._blendFuncStr && (a._renderCmd._blendFuncStr = c.inverted ? "destination-out" :
				"destination-in");
			if (a._children) {
				a = a._children;
				for (var c = 0, d = a.length; c < d; c++) this._setStencilCompositionOperation(a[c])
			}
		}
	};
	a._clipCmdCallback = function(a) {
		var c = this._node;
		a = (a || cc._renderContext).getContext();
		if (this._clipElemType) this._setStencilCompositionOperation(c._stencil);
		else {
			c = this._node._stencil;
			if (c instanceof cc.DrawNode) {
				a.beginPath();
				var d = c._renderCmd._transform;
				a.transform(d.a, d.b, d.c, d.d, d.tx, -d.ty);
				for (d = 0; d < c._buffer.length; d++) {
					var e = c._buffer[d].verts,
						f = e[0];
					a.moveTo(f.x, -f.y);
					for (f = e.length - 1; 0 < f; f--) a.lineTo(e[f].x, -e[f].y)
				}
			}
			a.clip()
		}
	};
	a._restoreCmdCallback = function(a) {
		var c = cc.ClippingNode.CanvasRenderCmd._getSharedCache();
		a = a || cc._renderContext;
		var d = a.getContext();
		this._clipElemType ? (d.save(), d.setTransform(1, 0, 0, 1, 0, 0), d.globalCompositeOperation = "destination-over", d.drawImage(c, 0, 0), d.restore(), this._dirtyFlag = 0) : a.restore()
	};
	a.transform = function(a, c) {
		this.originTransform(a, c);
		var d = this._node;
		d._stencil && d._stencil._renderCmd && (d._stencil._renderCmd.transform(this,
			!0), d._stencil._dirtyFlag &= ~cc.Node._dirtyFlags.transformDirty)
	};
	a._cangodhelpme = function(a) {
		if (!0 === a || !1 === a) cc.ClippingNode.CanvasRenderCmd.prototype._godhelpme = a;
		return cc.ClippingNode.CanvasRenderCmd.prototype._godhelpme
	};
	a.clippingVisit = function(a) {
		var c = this._node;
		a = a || this.getParentRenderCmd();
		this.visit(a);
		this._clipElemType = !(!this._cangodhelpme() && c._stencil instanceof cc.DrawNode);
		if (c._stencil && c._stencil.visible) {
			cc.renderer.pushRenderCommand(this._rendererSaveCmd);
			this._clipElemType ?
				c._visitChildren() : c._stencil.visit(c);
			cc.renderer.pushRenderCommand(this._rendererClipCmd);
			if (this._clipElemType) c._stencil.visit(c);
			else {
				this._cangodhelpme(!0);
				a = c._children;
				var d, e = a.length;
				if (0 < e)
					for (c.sortAllChildren(), d = 0; d < e; d++) a[d].visit(c);
				this._cangodhelpme(!1)
			}
			cc.renderer.pushRenderCommand(this._rendererRestoreCmd);
			this._dirtyFlag = 0
		} else this.inverted && c._visitChildren()
	};
	cc.ClippingNode.CanvasRenderCmd._sharedCache = null;
	cc.ClippingNode.CanvasRenderCmd._getSharedCache = function() {
		return cc.ClippingNode.CanvasRenderCmd._sharedCache ||
			(cc.ClippingNode.CanvasRenderCmd._sharedCache = document.createElement("canvas"))
	}
})();

function setProgram(a, b) {
	a.shaderProgram = b;
	var c = a.children;
	if (c)
		for (var d = 0; d < c.length; d++) setProgram(c[d], b)
}
(function() {
	cc.ClippingNode.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !1;
		this._beforeVisitCmd = new cc.CustomRenderCmd(this, this._onBeforeVisit);
		this._afterDrawStencilCmd = new cc.CustomRenderCmd(this, this._onAfterDrawStencil);
		this._afterVisitCmd = new cc.CustomRenderCmd(this, this._onAfterVisit);
		this._mask_layer_le = this._currentStencilEnabled = null
	};
	var a = cc.ClippingNode.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.ClippingNode.WebGLRenderCmd;
	cc.ClippingNode.WebGLRenderCmd._init_once = null;
	cc.ClippingNode.WebGLRenderCmd._visit_once = null;
	cc.ClippingNode.WebGLRenderCmd._layer = -1;
	a.initStencilBits = function() {
		cc.ClippingNode.WebGLRenderCmd._init_once = !0;
		cc.ClippingNode.WebGLRenderCmd._init_once && (cc.stencilBits = cc._renderContext.getParameter(cc._renderContext.STENCIL_BITS), 0 >= cc.stencilBits && cc.log("Stencil buffer is not enabled."), cc.ClippingNode.WebGLRenderCmd._init_once = !1)
	};
	a.transform = function(a, c) {
		var d = this._node;
		this.originTransform(a,
			c);
		d._stencil && (d._stencil._renderCmd.transform(this, !0), d._stencil._dirtyFlag &= ~cc.Node._dirtyFlags.transformDirty)
	};
	a.clippingVisit = function(a) {
		var c = this._node;
		a = a || this.getParentRenderCmd();
		this.visit(a);
		if (1 > cc.stencilBits) c._visitChildren();
		else if (c._stencil && c._stencil.visible)
			if (cc.ClippingNode.WebGLRenderCmd._layer + 1 === cc.stencilBits) cc.ClippingNode.WebGLRenderCmd._visit_once = !0, cc.ClippingNode.WebGLRenderCmd._visit_once && (cc.log("Nesting more than " + cc.stencilBits + "stencils is not supported. Everything will be drawn without stencil for this node and its children."),
				cc.ClippingNode.WebGLRenderCmd._visit_once = !1), c._visitChildren();
			else {
				cc.renderer.pushRenderCommand(this._beforeVisitCmd);
				c._stencil.visit(c);
				cc.renderer.pushRenderCommand(this._afterDrawStencilCmd);
				if ((a = c._children) && 0 < a.length) {
					var d = a.length;
					c.sortAllChildren();
					for (var e = 0; e < d; e++) a[e].visit(c)
				}
				cc.renderer.pushRenderCommand(this._afterVisitCmd);
				this._dirtyFlag = 0
			}
		else c.inverted && c._visitChildren()
	};
	a.setStencil = function(a) {
		var c = this._node;
		c._stencil && (c._stencil._parent = null);
		c._stencil = a;
		c._stencil &&
			(c._stencil._parent = c)
	};
	a.resetProgramByStencil = function() {
		var a = this._node;
		a._stencil && setProgram(a._stencil, a._originStencilProgram)
	};
	a._onBeforeVisit = function(a) {
		var c = a || cc._renderContext;
		a = this._node;
		cc.ClippingNode.WebGLRenderCmd._layer++;
		var d = 1 << cc.ClippingNode.WebGLRenderCmd._layer;
		this._mask_layer_le = d | d - 1;
		this._currentStencilEnabled = c.isEnabled(c.STENCIL_TEST);
		c.clear(c.DEPTH_BUFFER_BIT);
		c.enable(c.STENCIL_TEST);
		c.depthMask(!1);
		c.stencilFunc(c.NEVER, d, d);
		c.stencilOp(c.REPLACE, c.KEEP, c.KEEP);
		c.stencilMask(d);
		c.clear(c.STENCIL_BUFFER_BIT);
		1 > a.alphaThreshold && (c = cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLORALPHATEST), cc.glUseProgram(c.getProgram()), c.setUniformLocationWith1f(cc.UNIFORM_ALPHA_TEST_VALUE_S, a.alphaThreshold), c.setUniformLocationWithMatrix4fv(cc.UNIFORM_MVMATRIX_S, cc.renderer.mat4Identity.mat), cc.setProgram(a._stencil, c))
	};
	a._onAfterDrawStencil = function(a) {
		a = a || cc._renderContext;
		a.depthMask(!0);
		a.stencilFunc(this._node.inverted ? a.NOTEQUAL : a.EQUAL, this._mask_layer_le,
			this._mask_layer_le);
		a.stencilOp(a.KEEP, a.KEEP, a.KEEP)
	};
	a._onAfterVisit = function(a) {
		a = a || cc._renderContext;
		cc.ClippingNode.WebGLRenderCmd._layer--;
		if (this._currentStencilEnabled) {
			var c = 1 << cc.ClippingNode.WebGLRenderCmd._layer,
				d = c | c - 1;
			a.stencilMask(c);
			a.stencilFunc(a.EQUAL, d, d)
		} else a.disable(a.STENCIL_TEST)
	}
})();
cc.GridBase = cc.Class.extend({
	_active: !1,
	_reuseGrid: 0,
	_gridSize: null,
	_gridRect: null,
	_texture: null,
	_step: null,
	_grabber: null,
	_isTextureFlipped: !1,
	_glProgramState: null,
	_directorProjection: 0,
	_dirty: !1,
	ctor: function(a, b, c, d) {
		cc.sys._checkWebGLRenderMode();
		this._active = !1;
		this._reuseGrid = 0;
		this._gridSize = null;
		this._gridRect = new cc.rect;
		this._texture = null;
		this._step = cc.p(0, 0);
		this._grabber = null;
		this._isTextureFlipped = !1;
		this._glProgramState = null;
		this._directorProjection = 0;
		this._dirty = !1;
		void 0 !== a && this.initWithSize(a,
			b, c, d)
	},
	isActive: function() {
		return this._active
	},
	setActive: function(a) {
		this._active = a;
		if (!a) {
			a = cc.director;
			var b = a.getProjection();
			a.setProjection(b)
		}
	},
	getReuseGrid: function() {
		return this._reuseGrid
	},
	setReuseGrid: function(a) {
		this._reuseGrid = a
	},
	getGridSize: function() {
		return cc.size(this._gridSize.width, this._gridSize.height)
	},
	setGridSize: function(a) {
		this._gridSize.width = parseInt(a.width);
		this._gridSize.height = parseInt(a.height)
	},
	setGridRect: function(a) {
		this._gridRect = a
	},
	getGridRect: function() {
		return this._gridRect
	},
	getStep: function() {
		return cc.p(this._step.x, this._step.y)
	},
	setStep: function(a) {
		this._step.x = a.x;
		this._step.y = a.y
	},
	isTextureFlipped: function() {
		return this._isTextureFlipped
	},
	setTextureFlipped: function(a) {
		this._isTextureFlipped !== a && (this._isTextureFlipped = a, this.calculateVertexPoints())
	},
	initWithSize: function(a, b, c, d) {
		if (!b) {
			var e = cc.director.getWinSizeInPixels(),
				f = cc.NextPOT(e.width),
				g = cc.NextPOT(e.height),
				h = new Uint8Array(f * g * 4);
			if (!h) return cc.log("cocos2d: CCGrid: not enough memory."), !1;
			b = new cc.Texture2D;
			b.initWithData(h, cc.Texture2D.PIXEL_FORMAT_RGBA8888, f, g, e);
			if (!b) return cc.log("cocos2d: CCGrid: error creating texture"), !1
		}
		this._active = !1;
		this._reuseGrid = 0;
		this._gridSize = a;
		this._texture = b;
		this._isTextureFlipped = c || !1;
		if (void 0 === d || cc._rectEqualToZero(d)) b = this._texture.getContentSize(), d = new cc.rect(0, 0, b.width, b.height);
		this._gridRect = d;
		this._step.x = this._gridRect.width / a.width;
		this._step.y = this._gridRect.height / a.height;
		this._grabber = new cc.Grabber;
		if (!this._grabber) return !1;
		this._grabber.grab(this._texture);
		this._glProgramState = cc.GLProgramState.getOrCreateWithGLProgram(cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURE));
		this.calculateVertexPoints();
		return !0
	},
	beforeDraw: function() {
		this._directorProjection = cc.director.getProjection();
		var a = cc.director.getWinSizeInPixels();
		gl.viewport(0, 0, a.width, a.height);
		this._grabber.beforeRender(this._texture)
	},
	afterDraw: function(a) {
		this._grabber.afterRender(this._texture);
		cc.director.setViewport();
		cc.glBindTexture2D(this._texture);
		this.beforeBlit();
		this.blit(a);
		this.afterBlit()
	},
	beforeBlit: function() {},
	afterBlit: function() {},
	blit: function() {
		cc.log("cc.GridBase.blit(): Shall be overridden in subclass.")
	},
	reuse: function() {
		cc.log("cc.GridBase.reuse(): Shall be overridden in subclass.")
	},
	calculateVertexPoints: function() {
		cc.log("cc.GridBase.calculateVertexPoints(): Shall be overridden in subclass.")
	},
	set2DProjection: function() {
		var a = cc.director.getWinSizeInPixels();
		cc._renderContext.viewport(0, 0, a.width, a.height);
		cc.kmGLMatrixMode(cc.KM_GL_PROJECTION);
		cc.kmGLLoadIdentity();
		a = cc.math.Matrix4.createOrthographicProjection(0, a.width, 0, a.height, -1, 1);
		cc.kmGLMultMatrix(a);
		cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);
		cc.kmGLLoadIdentity();
		cc.setProjectionMatrixDirty()
	}
});
cc.GridBase.create = function(a, b, c, d) {
	return new cc.GridBase(a, b, c, d)
};
cc.Grid3D = cc.GridBase.extend({
	_texCoordinates: null,
	_vertices: null,
	_originalVertices: null,
	_indices: null,
	_texCoordinateBuffer: null,
	_verticesBuffer: null,
	_indicesBuffer: null,
	_needDepthTestForBlit: !1,
	_oldDepthTestValue: !1,
	_oldDepthWriteValue: !1,
	ctor: function(a, b, c, d) {
		cc.GridBase.prototype.ctor.call(this);
		this._indicesBuffer = this._verticesBuffer = this._texCoordinateBuffer = this._indices = this._originalVertices = this._vertices = this._texCoordinates = null;
		this._matrix = new cc.math.Matrix4;
		this._matrix.identity();
		void 0 !== a && this.initWithSize(a, b, c, d)
	},
	vertex: function(a) {
		return this.getVertex(a)
	},
	getVertex: function(a) {
		a.x === (0 | a.x) && a.y === (0 | a.y) || cc.log("cc.Grid3D.vertex() : Numbers must be integers");
		a = 0 | 3 * (a.x * (this._gridSize.height + 1) + a.y);
		var b = this._vertices;
		return new cc.Vertex3F(b[a], b[a + 1], b[a + 2])
	},
	originalVertex: function(a) {
		return this.getOriginalVertex(a)
	},
	getOriginalVertex: function(a) {
		a.x === (0 | a.x) && a.y === (0 | a.y) || cc.log("cc.Grid3D.originalVertex() : Numbers must be integers");
		a = 0 | 3 * (a.x * (this._gridSize.height +
			1) + a.y);
		var b = this._originalVertices;
		return new cc.Vertex3F(b[a], b[a + 1], b[a + 2])
	},
	setVertex: function(a, b) {
		a.x === (0 | a.x) && a.y === (0 | a.y) || cc.log("cc.Grid3D.setVertex() : Numbers must be integers");
		var c = 0 | 3 * (a.x * (this._gridSize.height + 1) + a.y),
			d = this._vertices;
		d[c] = b.x;
		d[c + 1] = b.y;
		d[c + 2] = b.z;
		this._dirty = !0
	},
	beforeBlit: function() {
		if (this._needDepthTestForBlit) {
			var a = cc._renderContext;
			this._oldDepthTestValue = a.isEnabled(a.DEPTH_TEST);
			this._oldDepthWriteValue = a.getParameter(a.DEPTH_WRITEMASK);
			a.enable(a.DEPTH_TEST);
			a.depthMask(!0)
		}
	},
	afterBlit: function() {
		if (this._needDepthTestForBlit) {
			var a = cc._renderContext;
			this._oldDepthTestValue ? a.enable(a.DEPTH_TEST) : a.disable(a.DEPTH_TEST);
			a.depthMask(this._oldDepthWriteValue)
		}
	},
	blit: function(a) {
		var b = this._gridSize.width * this._gridSize.height;
		a = a._renderCmd._worldTransform;
		this._matrix.mat[0] = a.a;
		this._matrix.mat[4] = a.c;
		this._matrix.mat[12] = a.tx;
		this._matrix.mat[1] = a.b;
		this._matrix.mat[5] = a.d;
		this._matrix.mat[13] = a.ty;
		this._glProgramState.apply(this._matrix);
		a = cc._renderContext;
		var c = this._dirty;
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
		a.bindBuffer(a.ARRAY_BUFFER, this._verticesBuffer);
		c && a.bufferData(a.ARRAY_BUFFER, this._vertices, a.DYNAMIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 3, a.FLOAT, !1, 0, 0);
		a.bindBuffer(a.ARRAY_BUFFER, this._texCoordinateBuffer);
		c && a.bufferData(a.ARRAY_BUFFER, this._texCoordinates, a.DYNAMIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, a.FLOAT, !1, 0, 0);
		a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,
			this._indicesBuffer);
		c && a.bufferData(a.ELEMENT_ARRAY_BUFFER, this._indices, a.STATIC_DRAW);
		a.drawElements(a.TRIANGLES, 6 * b, a.UNSIGNED_SHORT, 0);
		c && (this._dirty = !1);
		cc.incrementGLDraws(1)
	},
	reuse: function() {
		if (0 < this._reuseGrid) {
			for (var a = this._originalVertices, b = this._vertices, c = 0, d = this._vertices.length; c < d; c++) a[c] = b[c];
			--this._reuseGrid
		}
	},
	calculateVertexPoints: function() {
		var a = cc._renderContext,
			b = this._texture.pixelsWidth,
			c = this._texture.pixelsHeight,
			d = this._texture.getContentSizeInPixels().height,
			e = this._gridSize,
			f = (e.width + 1) * (e.height + 1);
		this._vertices = new Float32Array(3 * f);
		this._texCoordinates = new Float32Array(2 * f);
		this._indices = new Uint16Array(e.width * e.height * 6);
		this._verticesBuffer && a.deleteBuffer(this._verticesBuffer);
		this._verticesBuffer = a.createBuffer();
		this._texCoordinateBuffer && a.deleteBuffer(this._texCoordinateBuffer);
		this._texCoordinateBuffer = a.createBuffer();
		this._indicesBuffer && a.deleteBuffer(this._indicesBuffer);
		this._indicesBuffer = a.createBuffer();
		for (var g, h, k = this._indices,
				m = this._texCoordinates, n = this._isTextureFlipped, p = this._vertices, f = 0; f < e.width; ++f)
			for (g = 0; g < e.height; ++g) {
				var r = g * e.width + f;
				h = f * this._step.x + this._gridRect.x;
				var t = h + this._step.x,
					u = g * this._step.y + this._gridRect.y,
					s = u + this._step.y,
					w = f * (e.height + 1) + g,
					v = (f + 1) * (e.height + 1) + g,
					x = (f + 1) * (e.height + 1) + (g + 1),
					A = f * (e.height + 1) + (g + 1);
				k[6 * r] = w;
				k[6 * r + 1] = v;
				k[6 * r + 2] = A;
				k[6 * r + 3] = v;
				k[6 * r + 4] = x;
				k[6 * r + 5] = A;
				var r = [3 * w, 3 * v, 3 * x, 3 * A],
					z = [{
						x: h,
						y: u,
						z: 0
					}, {
						x: t,
						y: u,
						z: 0
					}, {
						x: t,
						y: s,
						z: 0
					}, {
						x: h,
						y: s,
						z: 0
					}],
					w = [2 * w, 2 * v, 2 * x, 2 * A],
					t = [cc.p(h,
						u), cc.p(t, u), cc.p(t, s), cc.p(h, s)];
				for (h = 0; 4 > h; ++h) p[r[h]] = z[h].x, p[r[h] + 1] = z[h].y, p[r[h] + 2] = z[h].z, m[w[h]] = t[h].x / b, m[w[h] + 1] = n ? (d - t[h].y) / c : t[h].y / c
			}
		this._originalVertices = new Float32Array(this._vertices);
		a.bindBuffer(a.ARRAY_BUFFER, this._verticesBuffer);
		a.bufferData(a.ARRAY_BUFFER, this._vertices, a.DYNAMIC_DRAW);
		a.bindBuffer(a.ARRAY_BUFFER, this._texCoordinateBuffer);
		a.bufferData(a.ARRAY_BUFFER, this._texCoordinates, a.DYNAMIC_DRAW);
		a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this._indicesBuffer);
		a.bufferData(a.ELEMENT_ARRAY_BUFFER,
			this._indices, a.STATIC_DRAW);
		this._dirty = !0
	},
	setNeedDepthTestForBlit: function(a) {
		this._needDepthTestForBlit = a
	},
	getNeedDepthTestForBlit: function() {
		return this._needDepthTestForBlit
	}
});
cc.Grid3D.create = function(a, b, c) {
	return new cc.Grid3D(a, b, c)
};
cc.TiledGrid3D = cc.GridBase.extend({
	_texCoordinates: null,
	_vertices: null,
	_originalVertices: null,
	_indices: null,
	_texCoordinateBuffer: null,
	_verticesBuffer: null,
	_indicesBuffer: null,
	ctor: function(a, b, c, d) {
		cc.GridBase.prototype.ctor.call(this);
		this._indicesBuffer = this._verticesBuffer = this._texCoordinateBuffer = this._indices = this._originalVertices = this._vertices = this._texCoordinates = null;
		this._matrix = new cc.math.Matrix4;
		this._matrix.identity();
		void 0 !== a && this.initWithSize(a, b, c, d)
	},
	tile: function(a) {
		return this.getTile(a)
	},
	getTile: function(a) {
		a.x === (0 | a.x) && a.y === (0 | a.y) || cc.log("cc.TiledGrid3D.tile() : Numbers must be integers");
		a = 12 * (this._gridSize.height * a.x + a.y);
		var b = this._vertices;
		return new cc.Quad3(new cc.Vertex3F(b[a], b[a + 1], b[a + 2]), new cc.Vertex3F(b[a + 3], b[a + 4], b[a + 5]), new cc.Vertex3F(b[a + 6], b[a + 7], b[a + 8]), new cc.Vertex3F(b[a + 9], b[a + 10], b[a + 11]))
	},
	getOriginalTile: function(a) {
		a.x === (0 | a.x) && a.y === (0 | a.y) || cc.log("cc.TiledGrid3D.originalTile() : Numbers must be integers");
		a = 12 * (this._gridSize.height * a.x + a.y);
		var b = this._originalVertices;
		return new cc.Quad3(new cc.Vertex3F(b[a], b[a + 1], b[a + 2]), new cc.Vertex3F(b[a + 3], b[a + 4], b[a + 5]), new cc.Vertex3F(b[a + 6], b[a + 7], b[a + 8]), new cc.Vertex3F(b[a + 9], b[a + 10], b[a + 11]))
	},
	originalTile: function(a) {
		return this.getOriginalTile(a)
	},
	setTile: function(a, b) {
		a.x === (0 | a.x) && a.y === (0 | a.y) || cc.log("cc.TiledGrid3D.setTile() : Numbers must be integers");
		var c = 12 * (this._gridSize.height * a.x + a.y),
			d = this._vertices;
		d[c] = b.bl.x;
		d[c + 1] = b.bl.y;
		d[c + 2] = b.bl.z;
		d[c + 3] = b.br.x;
		d[c + 4] = b.br.y;
		d[c +
			5] = b.br.z;
		d[c + 6] = b.tl.x;
		d[c + 7] = b.tl.y;
		d[c + 8] = b.tl.z;
		d[c + 9] = b.tr.x;
		d[c + 10] = b.tr.y;
		d[c + 11] = b.tr.z;
		this._dirty = !0
	},
	blit: function(a) {
		var b = this._gridSize.width * this._gridSize.height;
		a = a._renderCmd._worldTransform;
		this._matrix.mat[0] = a.a;
		this._matrix.mat[4] = a.c;
		this._matrix.mat[12] = a.tx;
		this._matrix.mat[1] = a.b;
		this._matrix.mat[5] = a.d;
		this._matrix.mat[13] = a.ty;
		this._glProgramState.apply(this._matrix);
		a = cc._renderContext;
		var c = this._dirty;
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
		a.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
		a.bindBuffer(a.ARRAY_BUFFER, this._verticesBuffer);
		c && a.bufferData(a.ARRAY_BUFFER, this._vertices, a.DYNAMIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 3, a.FLOAT, !1, 0, this._vertices);
		a.bindBuffer(a.ARRAY_BUFFER, this._texCoordinateBuffer);
		c && a.bufferData(a.ARRAY_BUFFER, this._texCoordinates, a.DYNAMIC_DRAW);
		a.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, a.FLOAT, !1, 0, this._texCoordinates);
		a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this._indicesBuffer);
		c && a.bufferData(a.ELEMENT_ARRAY_BUFFER, this._indices,
			a.STATIC_DRAW);
		a.drawElements(a.TRIANGLES, 6 * b, a.UNSIGNED_SHORT, 0);
		c && (this._dirty = !1);
		cc.incrementGLDraws(1)
	},
	reuse: function() {
		if (0 < this._reuseGrid) {
			for (var a = this._vertices, b = this._originalVertices, c = 0; c < a.length; c++) b[c] = a[c];
			--this._reuseGrid
		}
	},
	calculateVertexPoints: function() {
		var a = this._texture.pixelsWidth,
			b = this._texture.pixelsHeight,
			c = this._texture.getContentSizeInPixels().height,
			d = this._gridSize,
			e = d.width * d.height;
		this._vertices = new Float32Array(12 * e);
		this._texCoordinates = new Float32Array(8 *
			e);
		this._indices = new Uint16Array(6 * e);
		var f = cc._renderContext;
		this._verticesBuffer && f.deleteBuffer(this._verticesBuffer);
		this._verticesBuffer = f.createBuffer();
		this._texCoordinateBuffer && f.deleteBuffer(this._texCoordinateBuffer);
		this._texCoordinateBuffer = f.createBuffer();
		this._indicesBuffer && f.deleteBuffer(this._indicesBuffer);
		this._indicesBuffer = f.createBuffer();
		var g, h, k = 0,
			m = this._step,
			n = this._vertices,
			p = this._texCoordinates,
			r = this._isTextureFlipped;
		for (g = 0; g < d.width; g++)
			for (h = 0; h < d.height; h++) {
				var t =
					g * m.x,
					u = t + m.x,
					s = h * m.y,
					w = s + m.y;
				n[12 * k] = t;
				n[12 * k + 1] = s;
				n[12 * k + 2] = 0;
				n[12 * k + 3] = u;
				n[12 * k + 4] = s;
				n[12 * k + 5] = 0;
				n[12 * k + 6] = t;
				n[12 * k + 7] = w;
				n[12 * k + 8] = 0;
				n[12 * k + 9] = u;
				n[12 * k + 10] = w;
				n[12 * k + 11] = 0;
				var v = s,
					x = w;
				r && (v = c - s, x = c - w);
				p[8 * k] = t / a;
				p[8 * k + 1] = v / b;
				p[8 * k + 2] = u / a;
				p[8 * k + 3] = v / b;
				p[8 * k + 4] = t / a;
				p[8 * k + 5] = x / b;
				p[8 * k + 6] = u / a;
				p[8 * k + 7] = x / b;
				k++
			}
		a = this._indices;
		for (g = 0; g < e; g++) a[6 * g + 0] = 4 * g + 0, a[6 * g + 1] = 4 * g + 1, a[6 * g + 2] = 4 * g + 2, a[6 * g + 3] = 4 * g + 1, a[6 * g + 4] = 4 * g + 2, a[6 * g + 5] = 4 * g + 3;
		this._originalVertices = new Float32Array(this._vertices);
		f.bindBuffer(f.ARRAY_BUFFER,
			this._verticesBuffer);
		f.bufferData(f.ARRAY_BUFFER, this._vertices, f.DYNAMIC_DRAW);
		f.bindBuffer(f.ARRAY_BUFFER, this._texCoordinateBuffer);
		f.bufferData(f.ARRAY_BUFFER, this._texCoordinates, f.DYNAMIC_DRAW);
		f.bindBuffer(f.ELEMENT_ARRAY_BUFFER, this._indicesBuffer);
		f.bufferData(f.ELEMENT_ARRAY_BUFFER, this._indices, f.DYNAMIC_DRAW);
		this._dirty = !0
	}
});
cc.TiledGrid3D.create = function(a, b, c) {
	return new cc.TiledGrid3D(a, b, c)
};
cc.Grabber = cc.Class.extend({
	_FBO: null,
	_oldFBO: null,
	_oldClearColor: null,
	_gl: null,
	ctor: function() {
		cc.sys._checkWebGLRenderMode();
		this._gl = cc._renderContext;
		this._oldClearColor = [0, 0, 0, 0];
		this._oldFBO = null;
		this._FBO = this._gl.createFramebuffer()
	},
	grab: function(a) {
		var b = this._gl;
		this._oldFBO = b.getParameter(b.FRAMEBUFFER_BINDING);
		b.bindFramebuffer(b.FRAMEBUFFER, this._FBO);
		b.framebufferTexture2D(b.FRAMEBUFFER, b.COLOR_ATTACHMENT0, b.TEXTURE_2D, a._webTextureObj, 0);
		b.checkFramebufferStatus(b.FRAMEBUFFER) !== b.FRAMEBUFFER_COMPLETE &&
			cc.log("Frame Grabber: could not attach texture to frmaebuffer");
		b.bindFramebuffer(b.FRAMEBUFFER, this._oldFBO)
	},
	beforeRender: function(a) {
		a = this._gl;
		this._oldFBO = a.getParameter(a.FRAMEBUFFER_BINDING);
		a.bindFramebuffer(a.FRAMEBUFFER, this._FBO);
		this._oldClearColor = a.getParameter(a.COLOR_CLEAR_VALUE);
		a.clearColor(0, 0, 0, 0);
		a.clear(a.COLOR_BUFFER_BIT | a.DEPTH_BUFFER_BIT)
	},
	afterRender: function(a) {
		a = this._gl;
		a.bindFramebuffer(a.FRAMEBUFFER, this._oldFBO);
		a.colorMask(!0, !0, !0, !0)
	},
	destroy: function() {
		this._gl.deleteFramebuffer(this._FBO)
	}
});
cc.ACTION_TAG_INVALID = -1;
cc.Action = cc.Class.extend({
	originalTarget: null,
	target: null,
	tag: cc.ACTION_TAG_INVALID,
	ctor: function() {
		this.target = this.originalTarget = null;
		this.tag = cc.ACTION_TAG_INVALID
	},
	copy: function() {
		cc.log("copy is deprecated. Please use clone instead.");
		return this.clone()
	},
	clone: function() {
		var a = new cc.Action;
		a.originalTarget = null;
		a.target = null;
		a.tag = this.tag;
		return a
	},
	isDone: function() {
		return !0
	},
	startWithTarget: function(a) {
		this.target = this.originalTarget = a
	},
	stop: function() {
		this.target = null
	},
	step: function(a) {
		cc.log("[Action step]. override me")
	},
	update: function(a) {
		cc.log("[Action update]. override me")
	},
	getTarget: function() {
		return this.target
	},
	setTarget: function(a) {
		this.target = a
	},
	getOriginalTarget: function() {
		return this.originalTarget
	},
	setOriginalTarget: function(a) {
		this.originalTarget = a
	},
	getTag: function() {
		return this.tag
	},
	setTag: function(a) {
		this.tag = a
	},
	retain: function() {},
	release: function() {}
});
cc.action = function() {
	return new cc.Action
};
cc.Action.create = cc.action;
cc.FiniteTimeAction = cc.Action.extend({
	_duration: 0,
	ctor: function() {
		cc.Action.prototype.ctor.call(this);
		this._duration = 0
	},
	getDuration: function() {
		return this._duration * (this._timesForRepeat || 1)
	},
	setDuration: function(a) {
		this._duration = a
	},
	reverse: function() {
		cc.log("cocos2d: FiniteTimeAction#reverse: Implement me");
		return null
	},
	clone: function() {
		return new cc.FiniteTimeAction
	}
});
cc.Speed = cc.Action.extend({
	_speed: 0,
	_innerAction: null,
	ctor: function(a, b) {
		cc.Action.prototype.ctor.call(this);
		this._speed = 0;
		this._innerAction = null;
		a && this.initWithAction(a, b)
	},
	getSpeed: function() {
		return this._speed
	},
	setSpeed: function(a) {
		this._speed = a
	},
	initWithAction: function(a, b) {
		if (!a) throw Error("cc.Speed.initWithAction(): action must be non nil");
		this._innerAction = a;
		this._speed = b;
		return !0
	},
	clone: function() {
		var a = new cc.Speed;
		a.initWithAction(this._innerAction.clone(), this._speed);
		return a
	},
	startWithTarget: function(a) {
		cc.Action.prototype.startWithTarget.call(this,
			a);
		this._innerAction.startWithTarget(a)
	},
	stop: function() {
		this._innerAction.stop();
		cc.Action.prototype.stop.call(this)
	},
	step: function(a) {
		this._innerAction.step(a * this._speed)
	},
	isDone: function() {
		return this._innerAction.isDone()
	},
	reverse: function() {
		return new cc.Speed(this._innerAction.reverse(), this._speed)
	},
	setInnerAction: function(a) {
		this._innerAction !== a && (this._innerAction = a)
	},
	getInnerAction: function() {
		return this._innerAction
	}
});
cc.speed = function(a, b) {
	return new cc.Speed(a, b)
};
cc.Speed.create = cc.speed;
cc.Follow = cc.Action.extend({
	_followedNode: null,
	_boundarySet: !1,
	_boundaryFullyCovered: !1,
	_halfScreenSize: null,
	_fullScreenSize: null,
	_worldRect: null,
	leftBoundary: 0,
	rightBoundary: 0,
	topBoundary: 0,
	bottomBoundary: 0,
	ctor: function(a, b) {
		cc.Action.prototype.ctor.call(this);
		this._followedNode = null;
		this._boundaryFullyCovered = this._boundarySet = !1;
		this._fullScreenSize = this._halfScreenSize = null;
		this.bottomBoundary = this.topBoundary = this.rightBoundary = this.leftBoundary = 0;
		this._worldRect = cc.rect(0, 0, 0, 0);
		a && (b ? this.initWithTarget(a,
			b) : this.initWithTarget(a))
	},
	clone: function() {
		var a = new cc.Follow,
			b = this._worldRect,
			b = new cc.Rect(b.x, b.y, b.width, b.height);
		a.initWithTarget(this._followedNode, b);
		return a
	},
	isBoundarySet: function() {
		return this._boundarySet
	},
	setBoudarySet: function(a) {
		this._boundarySet = a
	},
	initWithTarget: function(a, b) {
		if (!a) throw Error("cc.Follow.initWithAction(): followedNode must be non nil");
		b = b || cc.rect(0, 0, 0, 0);
		this._followedNode = a;
		this._worldRect = b;
		this._boundarySet = !cc._rectEqualToZero(b);
		this._boundaryFullyCovered = !1;
		var c = cc.director.getWinSize();
		this._fullScreenSize = cc.p(c.width, c.height);
		this._halfScreenSize = cc.pMult(this._fullScreenSize, 0.5);
		this._boundarySet && (this.leftBoundary = -(b.x + b.width - this._fullScreenSize.x), this.rightBoundary = -b.x, this.topBoundary = -b.y, this.bottomBoundary = -(b.y + b.height - this._fullScreenSize.y), this.rightBoundary < this.leftBoundary && (this.rightBoundary = this.leftBoundary = (this.leftBoundary + this.rightBoundary) / 2), this.topBoundary < this.bottomBoundary && (this.topBoundary = this.bottomBoundary =
			(this.topBoundary + this.bottomBoundary) / 2), this.topBoundary === this.bottomBoundary && this.leftBoundary === this.rightBoundary && (this._boundaryFullyCovered = !0));
		return !0
	},
	step: function(a) {
		a = this._followedNode.x;
		var b = this._followedNode.y;
		a = this._halfScreenSize.x - a;
		b = this._halfScreenSize.y - b;
		this.target._renderCmd._dirtyFlag = 0;
		this._boundarySet ? this._boundaryFullyCovered || this.target.setPosition(cc.clampf(a, this.leftBoundary, this.rightBoundary), cc.clampf(b, this.bottomBoundary, this.topBoundary)) : this.target.setPosition(a,
			b)
	},
	isDone: function() {
		return !this._followedNode.running
	},
	stop: function() {
		this.target = null;
		cc.Action.prototype.stop.call(this)
	}
});
cc.follow = function(a, b) {
	return new cc.Follow(a, b)
};
cc.Follow.create = cc.follow;
cc.ActionInterval = cc.FiniteTimeAction.extend({
	_elapsed: 0,
	_firstTick: !1,
	_easeList: null,
	_timesForRepeat: 1,
	_repeatForever: !1,
	_repeatMethod: !1,
	_speed: 1,
	_speedMethod: !1,
	ctor: function(a) {
		this._timesForRepeat = this._speed = 1;
		this._repeatForever = !1;
		this.MAX_VALUE = 2;
		this._speedMethod = this._repeatMethod = !1;
		cc.FiniteTimeAction.prototype.ctor.call(this);
		void 0 !== a && this.initWithDuration(a)
	},
	getElapsed: function() {
		return this._elapsed
	},
	initWithDuration: function(a) {
		this._duration = 0 === a ? cc.FLT_EPSILON : a;
		this._elapsed =
			0;
		return this._firstTick = !0
	},
	isDone: function() {
		return this._elapsed >= this._duration
	},
	_cloneDecoration: function(a) {
		a._repeatForever = this._repeatForever;
		a._speed = this._speed;
		a._timesForRepeat = this._timesForRepeat;
		a._easeList = this._easeList;
		a._speedMethod = this._speedMethod;
		a._repeatMethod = this._repeatMethod
	},
	_reverseEaseList: function(a) {
		if (this._easeList) {
			a._easeList = [];
			for (var b = 0; b < this._easeList.length; b++) a._easeList.push(this._easeList[b].reverse())
		}
	},
	clone: function() {
		var a = new cc.ActionInterval(this._duration);
		this._cloneDecoration(a);
		return a
	},
	easing: function(a) {
		this._easeList ? this._easeList.length = 0 : this._easeList = [];
		for (var b = 0; b < arguments.length; b++) this._easeList.push(arguments[b]);
		return this
	},
	_computeEaseTime: function(a) {
		var b = this._easeList;
		if (!b || 0 === b.length) return a;
		for (var c = 0, d = b.length; c < d; c++) a = b[c].easing(a);
		return a
	},
	step: function(a) {
		this._firstTick ? (this._firstTick = !1, this._elapsed = 0) : this._elapsed += a;
		a = this._elapsed / (1.192092896E-7 < this._duration ? this._duration : 1.192092896E-7);
		a = 1 > a ?
			a : 1;
		this.update(0 < a ? a : 0);
		this._repeatMethod && 1 < this._timesForRepeat && this.isDone() && (this._repeatForever || this._timesForRepeat--, this.startWithTarget(this.target), this.step(this._elapsed - this._duration))
	},
	startWithTarget: function(a) {
		cc.Action.prototype.startWithTarget.call(this, a);
		this._elapsed = 0;
		this._firstTick = !0
	},
	reverse: function() {
		cc.log("cc.IntervalAction: reverse not implemented.");
		return null
	},
	setAmplitudeRate: function(a) {
		cc.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")
	},
	getAmplitudeRate: function() {
		cc.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.");
		return 0
	},
	speed: function(a) {
		if (0 >= a) return cc.log("The speed parameter error"), this;
		this._speedMethod = !0;
		this._speed *= a;
		return this
	},
	getSpeed: function() {
		return this._speed
	},
	setSpeed: function(a) {
		this._speed = a;
		return this
	},
	repeat: function(a) {
		a = Math.round(a);
		if (isNaN(a) || 1 > a) return cc.log("The repeat parameter error"), this;
		this._repeatMethod = !0;
		this._timesForRepeat *= a;
		return this
	},
	repeatForever: function() {
		this._repeatMethod = !0;
		this._timesForRepeat = this.MAX_VALUE;
		this._repeatForever = !0;
		return this
	}
});
cc.actionInterval = function(a) {
	return new cc.ActionInterval(a)
};
cc.ActionInterval.create = cc.actionInterval;
cc.Sequence = cc.ActionInterval.extend({
	_actions: null,
	_split: null,
	_last: 0,
	ctor: function(a) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._actions = [];
		var b = a instanceof Array ? a : arguments,
			c = b.length - 1;
		0 <= c && null == b[c] && cc.log("parameters should not be ending with null in Javascript");
		if (0 <= c) {
			for (var d = b[0], e = 1; e < c; e++) b[e] && (d = cc.Sequence._actionOneTwo(d, b[e]));
			this.initWithTwoActions(d, b[c])
		}
	},
	initWithTwoActions: function(a, b) {
		if (!a || !b) throw Error("cc.Sequence.initWithTwoActions(): arguments must all be non nil");
		this.initWithDuration(a._duration + b._duration);
		this._actions[0] = a;
		this._actions[1] = b;
		return !0
	},
	clone: function() {
		var a = new cc.Sequence;
		this._cloneDecoration(a);
		a.initWithTwoActions(this._actions[0].clone(), this._actions[1].clone());
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._split = this._actions[0]._duration / this._duration;
		this._last = -1
	},
	stop: function() {
		-1 !== this._last && this._actions[this._last].stop();
		cc.Action.prototype.stop.call(this)
	},
	update: function(a) {
		var b =
			0,
			c = this._split,
			d = this._actions,
			e = this._last;
		a = this._computeEaseTime(a);
		a < c ? (a = 0 !== c ? a / c : 1, 0 === b && 1 === e && (d[1].update(0), d[1].stop())) : (b = 1, a = 1 === c ? 1 : (a - c) / (1 - c), -1 === e && (d[0].startWithTarget(this.target), d[0].update(1), d[0].stop()), e || (d[0].update(1), d[0].stop()));
		d = d[b];
		e === b && d.isDone() || (e !== b && d.startWithTarget(this.target), a *= d._timesForRepeat, d.update(1 < a ? a % 1 : a), this._last = b)
	},
	reverse: function() {
		var a = cc.Sequence._actionOneTwo(this._actions[1].reverse(), this._actions[0].reverse());
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.sequence = function(a) {
	var b = a instanceof Array ? a : arguments;
	0 < b.length && null == b[b.length - 1] && cc.log("parameters should not be ending with null in Javascript");
	for (var c, d, e, f; b && 0 < b.length;)
		for (d = Array.prototype.shift.call(b), f = d._timesForRepeat || 1, d._repeatMethod = !1, d._timesForRepeat = 1, e = 0, c || (c = d, e = 1), e; e < f; e++) c = cc.Sequence._actionOneTwo(c, d);
	return c
};
cc.Sequence.create = cc.sequence;
cc.Sequence._actionOneTwo = function(a, b) {
	var c = new cc.Sequence;
	c.initWithTwoActions(a, b);
	return c
};
cc.Repeat = cc.ActionInterval.extend({
	_times: 0,
	_total: 0,
	_nextDt: 0,
	_actionInstant: !1,
	_innerAction: null,
	ctor: function(a, b) {
		cc.ActionInterval.prototype.ctor.call(this);
		void 0 !== b && this.initWithAction(a, b)
	},
	initWithAction: function(a, b) {
		return this.initWithDuration(a._duration * b) ? (this._times = b, this._innerAction = a, a instanceof cc.ActionInstant && (this._actionInstant = !0, this._times -= 1), this._total = 0, !0) : !1
	},
	clone: function() {
		var a = new cc.Repeat;
		this._cloneDecoration(a);
		a.initWithAction(this._innerAction.clone(),
			this._times);
		return a
	},
	startWithTarget: function(a) {
		this._total = 0;
		this._nextDt = this._innerAction._duration / this._duration;
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._innerAction.startWithTarget(a)
	},
	stop: function() {
		this._innerAction.stop();
		cc.Action.prototype.stop.call(this)
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		var b = this._innerAction,
			c = this._duration,
			d = this._times,
			e = this._nextDt;
		if (a >= e) {
			for (; a > e && this._total < d;) b.update(1), this._total++, b.stop(), b.startWithTarget(this.target),
				this._nextDt = e += b._duration / c;
			1 <= a && this._total < d && this._total++;
			this._actionInstant || (this._total === d ? (b.update(1), b.stop()) : b.update(a - (e - b._duration / c)))
		} else b.update(a * d % 1)
	},
	isDone: function() {
		return this._total === this._times
	},
	reverse: function() {
		var a = new cc.Repeat(this._innerAction.reverse(), this._times);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	},
	setInnerAction: function(a) {
		this._innerAction !== a && (this._innerAction = a)
	},
	getInnerAction: function() {
		return this._innerAction
	}
});
cc.repeat = function(a, b) {
	return new cc.Repeat(a, b)
};
cc.Repeat.create = cc.repeat;
cc.RepeatForever = cc.ActionInterval.extend({
	_innerAction: null,
	ctor: function(a) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._innerAction = null;
		a && this.initWithAction(a)
	},
	initWithAction: function(a) {
		if (!a) throw Error("cc.RepeatForever.initWithAction(): action must be non null");
		this._innerAction = a;
		return !0
	},
	clone: function() {
		var a = new cc.RepeatForever;
		this._cloneDecoration(a);
		a.initWithAction(this._innerAction.clone());
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this,
			a);
		this._innerAction.startWithTarget(a)
	},
	step: function(a) {
		var b = this._innerAction;
		b.step(a);
		b.isDone() && (b.startWithTarget(this.target), b.step(b.getElapsed() - b._duration))
	},
	isDone: function() {
		return !1
	},
	reverse: function() {
		var a = new cc.RepeatForever(this._innerAction.reverse());
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	},
	setInnerAction: function(a) {
		this._innerAction !== a && (this._innerAction = a)
	},
	getInnerAction: function() {
		return this._innerAction
	}
});
cc.repeatForever = function(a) {
	return new cc.RepeatForever(a)
};
cc.RepeatForever.create = cc.repeatForever;
cc.Spawn = cc.ActionInterval.extend({
	_one: null,
	_two: null,
	ctor: function(a) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._two = this._one = null;
		var b, c, d;
		if (a instanceof Array) c = a;
		else
			for (c = Array(arguments.length), b = 0; b < arguments.length; ++b) c[b] = arguments[b];
		d = c.length - 1;
		0 <= d && null == c[d] && cc.log("parameters should not be ending with null in Javascript");
		if (0 <= d) {
			var e = c[0];
			for (b = 1; b < d; b++) c[b] && (e = cc.Spawn._actionOneTwo(e, c[b]));
			this.initWithTwoActions(e, c[d])
		}
	},
	initWithTwoActions: function(a, b) {
		if (!a ||
			!b) throw Error("cc.Spawn.initWithTwoActions(): arguments must all be non null");
		var c = !1,
			d = a._duration,
			e = b._duration;
		this.initWithDuration(Math.max(d, e)) && (this._one = a, this._two = b, d > e ? this._two = cc.Sequence._actionOneTwo(b, cc.delayTime(d - e)) : d < e && (this._one = cc.Sequence._actionOneTwo(a, cc.delayTime(e - d))), c = !0);
		return c
	},
	clone: function() {
		var a = new cc.Spawn;
		this._cloneDecoration(a);
		a.initWithTwoActions(this._one.clone(), this._two.clone());
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this,
			a);
		this._one.startWithTarget(a);
		this._two.startWithTarget(a)
	},
	stop: function() {
		this._one.stop();
		this._two.stop();
		cc.Action.prototype.stop.call(this)
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		this._one && this._one.update(a);
		this._two && this._two.update(a)
	},
	reverse: function() {
		var a = cc.Spawn._actionOneTwo(this._one.reverse(), this._two.reverse());
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.spawn = function(a) {
	var b = a instanceof Array ? a : arguments;
	0 < b.length && null == b[b.length - 1] && cc.log("parameters should not be ending with null in Javascript");
	for (var c = b[0], d = 1; d < b.length; d++) null != b[d] && (c = cc.Spawn._actionOneTwo(c, b[d]));
	return c
};
cc.Spawn.create = cc.spawn;
cc.Spawn._actionOneTwo = function(a, b) {
	var c = new cc.Spawn;
	c.initWithTwoActions(a, b);
	return c
};
cc.RotateTo = cc.ActionInterval.extend({
	_dstAngleX: 0,
	_startAngleX: 0,
	_diffAngleX: 0,
	_dstAngleY: 0,
	_startAngleY: 0,
	_diffAngleY: 0,
	ctor: function(a, b, c) {
		cc.ActionInterval.prototype.ctor.call(this);
		void 0 !== b && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._dstAngleX = b || 0, this._dstAngleY = void 0 !== c ? c : this._dstAngleX, !0) : !1
	},
	clone: function() {
		var a = new cc.RotateTo;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._dstAngleX,
			this._dstAngleY);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		var b = a.rotationX % 360,
			c = this._dstAngleX - b;
		180 < c && (c -= 360); - 180 > c && (c += 360);
		this._startAngleX = b;
		this._diffAngleX = c;
		this._startAngleY = a.rotationY % 360;
		a = this._dstAngleY - this._startAngleY;
		180 < a && (a -= 360); - 180 > a && (a += 360);
		this._diffAngleY = a
	},
	reverse: function() {
		cc.log("cc.RotateTo.reverse(): it should be overridden in subclass.")
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		this.target && (this.target.rotationX =
			this._startAngleX + this._diffAngleX * a, this.target.rotationY = this._startAngleY + this._diffAngleY * a)
	}
});
cc.rotateTo = function(a, b, c) {
	return new cc.RotateTo(a, b, c)
};
cc.RotateTo.create = cc.rotateTo;
cc.RotateBy = cc.ActionInterval.extend({
	_angleX: 0,
	_startAngleX: 0,
	_angleY: 0,
	_startAngleY: 0,
	ctor: function(a, b, c) {
		cc.ActionInterval.prototype.ctor.call(this);
		void 0 !== b && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._angleX = b || 0, this._angleY = c || this._angleX, !0) : !1
	},
	clone: function() {
		var a = new cc.RotateBy;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._angleX, this._angleY);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this,
			a);
		this._startAngleX = a.rotationX;
		this._startAngleY = a.rotationY
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		this.target && (this.target.rotationX = this._startAngleX + this._angleX * a, this.target.rotationY = this._startAngleY + this._angleY * a)
	},
	reverse: function() {
		var a = new cc.RotateBy(this._duration, -this._angleX, -this._angleY);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.rotateBy = function(a, b, c) {
	return new cc.RotateBy(a, b, c)
};
cc.RotateBy.create = cc.rotateBy;
cc.MoveBy = cc.ActionInterval.extend({
	_positionDelta: null,
	_startPosition: null,
	_previousPosition: null,
	ctor: function(a, b, c) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._positionDelta = cc.p(0, 0);
		this._startPosition = cc.p(0, 0);
		this._previousPosition = cc.p(0, 0);
		void 0 !== b && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (void 0 !== b.x && (c = b.y, b = b.x), this._positionDelta.x = b, this._positionDelta.y = c, !0) : !1
	},
	clone: function() {
		var a =
			new cc.MoveBy;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._positionDelta);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		var b = a.getPositionX();
		a = a.getPositionY();
		this._previousPosition.x = b;
		this._previousPosition.y = a;
		this._startPosition.x = b;
		this._startPosition.y = a
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		if (this.target) {
			var b = this._positionDelta.x * a;
			a *= this._positionDelta.y;
			var c = this._startPosition;
			if (cc.ENABLE_STACKABLE_ACTIONS) {
				var d =
					this.target.getPositionX(),
					e = this.target.getPositionY(),
					f = this._previousPosition;
				c.x = c.x + d - f.x;
				c.y = c.y + e - f.y;
				b += c.x;
				a += c.y;
				f.x = b;
				f.y = a;
				this.target.setPosition(b, a)
			} else this.target.setPosition(c.x + b, c.y + a)
		}
	},
	reverse: function() {
		var a = new cc.MoveBy(this._duration, cc.p(-this._positionDelta.x, -this._positionDelta.y));
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.moveBy = function(a, b, c) {
	return new cc.MoveBy(a, b, c)
};
cc.MoveBy.create = cc.moveBy;
cc.MoveTo = cc.MoveBy.extend({
	_endPosition: null,
	ctor: function(a, b, c) {
		cc.MoveBy.prototype.ctor.call(this);
		this._endPosition = cc.p(0, 0);
		void 0 !== b && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		return cc.MoveBy.prototype.initWithDuration.call(this, a, b, c) ? (void 0 !== b.x && (c = b.y, b = b.x), this._endPosition.x = b, this._endPosition.y = c, !0) : !1
	},
	clone: function() {
		var a = new cc.MoveTo;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._endPosition);
		return a
	},
	startWithTarget: function(a) {
		cc.MoveBy.prototype.startWithTarget.call(this,
			a);
		this._positionDelta.x = this._endPosition.x - a.getPositionX();
		this._positionDelta.y = this._endPosition.y - a.getPositionY()
	}
});
cc.moveTo = function(a, b, c) {
	return new cc.MoveTo(a, b, c)
};
cc.MoveTo.create = cc.moveTo;
cc.SkewTo = cc.ActionInterval.extend({
	_skewX: 0,
	_skewY: 0,
	_startSkewX: 0,
	_startSkewY: 0,
	_endSkewX: 0,
	_endSkewY: 0,
	_deltaX: 0,
	_deltaY: 0,
	ctor: function(a, b, c) {
		cc.ActionInterval.prototype.ctor.call(this);
		void 0 !== c && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		var d = !1;
		cc.ActionInterval.prototype.initWithDuration.call(this, a) && (this._endSkewX = b, this._endSkewY = c, d = !0);
		return d
	},
	clone: function() {
		var a = new cc.SkewTo;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._endSkewX, this._endSkewY);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._startSkewX = a.skewX % 180;
		this._deltaX = this._endSkewX - this._startSkewX;
		180 < this._deltaX && (this._deltaX -= 360); - 180 > this._deltaX && (this._deltaX += 360);
		this._startSkewY = a.skewY % 360;
		this._deltaY = this._endSkewY - this._startSkewY;
		180 < this._deltaY && (this._deltaY -= 360); - 180 > this._deltaY && (this._deltaY += 360)
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		this.target.skewX = this._startSkewX + this._deltaX * a;
		this.target.skewY =
			this._startSkewY + this._deltaY * a
	}
});
cc.skewTo = function(a, b, c) {
	return new cc.SkewTo(a, b, c)
};
cc.SkewTo.create = cc.skewTo;
cc.SkewBy = cc.SkewTo.extend({
	ctor: function(a, b, c) {
		cc.SkewTo.prototype.ctor.call(this);
		void 0 !== c && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		var d = !1;
		cc.SkewTo.prototype.initWithDuration.call(this, a, b, c) && (this._skewX = b, this._skewY = c, d = !0);
		return d
	},
	clone: function() {
		var a = new cc.SkewBy;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._skewX, this._skewY);
		return a
	},
	startWithTarget: function(a) {
		cc.SkewTo.prototype.startWithTarget.call(this, a);
		this._deltaX = this._skewX;
		this._deltaY = this._skewY;
		this._endSkewX = this._startSkewX + this._deltaX;
		this._endSkewY = this._startSkewY + this._deltaY
	},
	reverse: function() {
		var a = new cc.SkewBy(this._duration, -this._skewX, -this._skewY);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.skewBy = function(a, b, c) {
	return new cc.SkewBy(a, b, c)
};
cc.SkewBy.create = cc.skewBy;
cc.JumpBy = cc.ActionInterval.extend({
	_startPosition: null,
	_delta: null,
	_height: 0,
	_jumps: 0,
	_previousPosition: null,
	ctor: function(a, b, c, d, e) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._startPosition = cc.p(0, 0);
		this._previousPosition = cc.p(0, 0);
		this._delta = cc.p(0, 0);
		void 0 !== d && this.initWithDuration(a, b, c, d, e)
	},
	initWithDuration: function(a, b, c, d, e) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (void 0 === e && (e = d, d = c, c = b.y, b = b.x), this._delta.x = b, this._delta.y = c, this._height = d, this._jumps =
			e, !0) : !1
	},
	clone: function() {
		var a = new cc.JumpBy;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._delta, this._height, this._jumps);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		var b = a.getPositionX();
		a = a.getPositionY();
		this._previousPosition.x = b;
		this._previousPosition.y = a;
		this._startPosition.x = b;
		this._startPosition.y = a
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		if (this.target) {
			var b = a * this._jumps % 1,
				b = 4 * this._height * b * (1 - b),
				b = b + this._delta.y *
				a;
			a *= this._delta.x;
			var c = this._startPosition;
			if (cc.ENABLE_STACKABLE_ACTIONS) {
				var d = this.target.getPositionX(),
					e = this.target.getPositionY(),
					f = this._previousPosition;
				c.x = c.x + d - f.x;
				c.y = c.y + e - f.y;
				a += c.x;
				b += c.y;
				f.x = a;
				f.y = b;
				this.target.setPosition(a, b)
			} else this.target.setPosition(c.x + a, c.y + b)
		}
	},
	reverse: function() {
		var a = new cc.JumpBy(this._duration, cc.p(-this._delta.x, -this._delta.y), this._height, this._jumps);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.jumpBy = function(a, b, c, d, e) {
	return new cc.JumpBy(a, b, c, d, e)
};
cc.JumpBy.create = cc.jumpBy;
cc.JumpTo = cc.JumpBy.extend({
	_endPosition: null,
	ctor: function(a, b, c, d, e) {
		cc.JumpBy.prototype.ctor.call(this);
		this._endPosition = cc.p(0, 0);
		void 0 !== d && this.initWithDuration(a, b, c, d, e)
	},
	initWithDuration: function(a, b, c, d, e) {
		return cc.JumpBy.prototype.initWithDuration.call(this, a, b, c, d, e) ? (void 0 === e && (c = b.y, b = b.x), this._endPosition.x = b, this._endPosition.y = c, !0) : !1
	},
	startWithTarget: function(a) {
		cc.JumpBy.prototype.startWithTarget.call(this, a);
		this._delta.x = this._endPosition.x - this._startPosition.x;
		this._delta.y =
			this._endPosition.y - this._startPosition.y
	},
	clone: function() {
		var a = new cc.JumpTo;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._endPosition, this._height, this._jumps);
		return a
	}
});
cc.jumpTo = function(a, b, c, d, e) {
	return new cc.JumpTo(a, b, c, d, e)
};
cc.JumpTo.create = cc.jumpTo;
cc.bezierAt = function(a, b, c, d, e) {
	return Math.pow(1 - e, 3) * a + 3 * e * Math.pow(1 - e, 2) * b + 3 * Math.pow(e, 2) * (1 - e) * c + Math.pow(e, 3) * d
};
cc.BezierBy = cc.ActionInterval.extend({
	_config: null,
	_startPosition: null,
	_previousPosition: null,
	ctor: function(a, b) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._config = [];
		this._startPosition = cc.p(0, 0);
		this._previousPosition = cc.p(0, 0);
		b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._config = b, !0) : !1
	},
	clone: function() {
		var a = new cc.BezierBy;
		this._cloneDecoration(a);
		for (var b = [], c = 0; c < this._config.length; c++) {
			var d =
				this._config[c];
			b.push(cc.p(d.x, d.y))
		}
		a.initWithDuration(this._duration, b);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		var b = a.getPositionX();
		a = a.getPositionY();
		this._previousPosition.x = b;
		this._previousPosition.y = a;
		this._startPosition.x = b;
		this._startPosition.y = a
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		if (this.target) {
			var b = this._config,
				c = b[0].y,
				d = b[1].y,
				e = b[2].y,
				b = cc.bezierAt(0, b[0].x, b[1].x, b[2].x, a);
			a = cc.bezierAt(0, c, d, e, a);
			c = this._startPosition;
			if (cc.ENABLE_STACKABLE_ACTIONS) {
				var d = this.target.getPositionX(),
					e = this.target.getPositionY(),
					f = this._previousPosition;
				c.x = c.x + d - f.x;
				c.y = c.y + e - f.y;
				b += c.x;
				a += c.y;
				f.x = b;
				f.y = a;
				this.target.setPosition(b, a)
			} else this.target.setPosition(c.x + b, c.y + a)
		}
	},
	reverse: function() {
		var a = this._config,
			a = [cc.pAdd(a[1], cc.pNeg(a[2])), cc.pAdd(a[0], cc.pNeg(a[2])), cc.pNeg(a[2])],
			a = new cc.BezierBy(this._duration, a);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.bezierBy = function(a, b) {
	return new cc.BezierBy(a, b)
};
cc.BezierBy.create = cc.bezierBy;
cc.BezierTo = cc.BezierBy.extend({
	_toConfig: null,
	ctor: function(a, b) {
		cc.BezierBy.prototype.ctor.call(this);
		this._toConfig = [];
		b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._toConfig = b, !0) : !1
	},
	clone: function() {
		var a = new cc.BezierTo;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._toConfig);
		return a
	},
	startWithTarget: function(a) {
		cc.BezierBy.prototype.startWithTarget.call(this, a);
		a = this._startPosition;
		var b =
			this._toConfig,
			c = this._config;
		c[0] = cc.pSub(b[0], a);
		c[1] = cc.pSub(b[1], a);
		c[2] = cc.pSub(b[2], a)
	}
});
cc.bezierTo = function(a, b) {
	return new cc.BezierTo(a, b)
};
cc.BezierTo.create = cc.bezierTo;
cc.ScaleTo = cc.ActionInterval.extend({
	_scaleX: 1,
	_scaleY: 1,
	_startScaleX: 1,
	_startScaleY: 1,
	_endScaleX: 0,
	_endScaleY: 0,
	_deltaX: 0,
	_deltaY: 0,
	ctor: function(a, b, c) {
		cc.ActionInterval.prototype.ctor.call(this);
		void 0 !== b && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._endScaleX = b, this._endScaleY = null != c ? c : b, !0) : !1
	},
	clone: function() {
		var a = new cc.ScaleTo;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._endScaleX,
			this._endScaleY);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._startScaleX = a.scaleX;
		this._startScaleY = a.scaleY;
		this._deltaX = this._endScaleX - this._startScaleX;
		this._deltaY = this._endScaleY - this._startScaleY
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		this.target && (this.target.scaleX = this._startScaleX + this._deltaX * a, this.target.scaleY = this._startScaleY + this._deltaY * a)
	}
});
cc.scaleTo = function(a, b, c) {
	return new cc.ScaleTo(a, b, c)
};
cc.ScaleTo.create = cc.scaleTo;
cc.ScaleBy = cc.ScaleTo.extend({
	startWithTarget: function(a) {
		cc.ScaleTo.prototype.startWithTarget.call(this, a);
		this._deltaX = this._startScaleX * this._endScaleX - this._startScaleX;
		this._deltaY = this._startScaleY * this._endScaleY - this._startScaleY
	},
	reverse: function() {
		var a = new cc.ScaleBy(this._duration, 1 / this._endScaleX, 1 / this._endScaleY);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	},
	clone: function() {
		var a = new cc.ScaleBy;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._endScaleX,
			this._endScaleY);
		return a
	}
});
cc.scaleBy = function(a, b, c) {
	return new cc.ScaleBy(a, b, c)
};
cc.ScaleBy.create = cc.scaleBy;
cc.Blink = cc.ActionInterval.extend({
	_times: 0,
	_originalState: !1,
	ctor: function(a, b) {
		cc.ActionInterval.prototype.ctor.call(this);
		void 0 !== b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._times = b, !0) : !1
	},
	clone: function() {
		var a = new cc.Blink;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._times);
		return a
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		if (this.target && !this.isDone()) {
			var b = 1 / this._times;
			this.target.visible =
				a % b > b / 2
		}
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._originalState = a.visible
	},
	stop: function() {
		this.target.visible = this._originalState;
		cc.ActionInterval.prototype.stop.call(this)
	},
	reverse: function() {
		var a = new cc.Blink(this._duration, this._times);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.blink = function(a, b) {
	return new cc.Blink(a, b)
};
cc.Blink.create = cc.blink;
cc.FadeTo = cc.ActionInterval.extend({
	_toOpacity: 0,
	_fromOpacity: 0,
	ctor: function(a, b) {
		cc.ActionInterval.prototype.ctor.call(this);
		void 0 !== b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._toOpacity = b, !0) : !1
	},
	clone: function() {
		var a = new cc.FadeTo;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._toOpacity);
		return a
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		var b = void 0 !== this._fromOpacity ? this._fromOpacity :
			255;
		this.target.opacity = b + (this._toOpacity - b) * a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._fromOpacity = a.opacity
	}
});
cc.fadeTo = function(a, b) {
	return new cc.FadeTo(a, b)
};
cc.FadeTo.create = cc.fadeTo;
cc.FadeIn = cc.FadeTo.extend({
	_reverseAction: null,
	ctor: function(a) {
		cc.FadeTo.prototype.ctor.call(this);
		null == a && (a = 0);
		this.initWithDuration(a, 255)
	},
	reverse: function() {
		var a = new cc.FadeOut;
		a.initWithDuration(this._duration, 0);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	},
	clone: function() {
		var a = new cc.FadeIn;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._toOpacity);
		return a
	},
	startWithTarget: function(a) {
		this._reverseAction && (this._toOpacity = this._reverseAction._fromOpacity);
		cc.FadeTo.prototype.startWithTarget.call(this, a)
	}
});
cc.fadeIn = function(a) {
	return new cc.FadeIn(a)
};
cc.FadeIn.create = cc.fadeIn;
cc.FadeOut = cc.FadeTo.extend({
	ctor: function(a) {
		cc.FadeTo.prototype.ctor.call(this);
		null == a && (a = 0);
		this.initWithDuration(a, 0)
	},
	reverse: function() {
		var a = new cc.FadeIn;
		a._reverseAction = this;
		a.initWithDuration(this._duration, 255);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	},
	clone: function() {
		var a = new cc.FadeOut;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._toOpacity);
		return a
	}
});
cc.fadeOut = function(a) {
	return new cc.FadeOut(a)
};
cc.FadeOut.create = cc.fadeOut;
cc.TintTo = cc.ActionInterval.extend({
	_to: null,
	_from: null,
	ctor: function(a, b, c, d) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._to = cc.color(0, 0, 0);
		this._from = cc.color(0, 0, 0);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	initWithDuration: function(a, b, c, d) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._to = cc.color(b, c, d), !0) : !1
	},
	clone: function() {
		var a = new cc.TintTo;
		this._cloneDecoration(a);
		var b = this._to;
		a.initWithDuration(this._duration, b.r, b.g, b.b);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this,
			a);
		this._from = this.target.color
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		var b = this._from,
			c = this._to;
		b && this.target.setColor(cc.color(b.r + (c.r - b.r) * a, b.g + (c.g - b.g) * a, b.b + (c.b - b.b) * a))
	}
});
cc.tintTo = function(a, b, c, d) {
	return new cc.TintTo(a, b, c, d)
};
cc.TintTo.create = cc.tintTo;
cc.TintBy = cc.ActionInterval.extend({
	_deltaR: 0,
	_deltaG: 0,
	_deltaB: 0,
	_fromR: 0,
	_fromG: 0,
	_fromB: 0,
	ctor: function(a, b, c, d) {
		cc.ActionInterval.prototype.ctor.call(this);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	initWithDuration: function(a, b, c, d) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._deltaR = b, this._deltaG = c, this._deltaB = d, !0) : !1
	},
	clone: function() {
		var a = new cc.TintBy;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration, this._deltaR, this._deltaG, this._deltaB);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		a = a.color;
		this._fromR = a.r;
		this._fromG = a.g;
		this._fromB = a.b
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		this.target.color = cc.color(this._fromR + this._deltaR * a, this._fromG + this._deltaG * a, this._fromB + this._deltaB * a)
	},
	reverse: function() {
		var a = new cc.TintBy(this._duration, -this._deltaR, -this._deltaG, -this._deltaB);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	}
});
cc.tintBy = function(a, b, c, d) {
	return new cc.TintBy(a, b, c, d)
};
cc.TintBy.create = cc.tintBy;
cc.DelayTime = cc.ActionInterval.extend({
	update: function(a) {},
	reverse: function() {
		var a = new cc.DelayTime(this._duration);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	},
	clone: function() {
		var a = new cc.DelayTime;
		this._cloneDecoration(a);
		a.initWithDuration(this._duration);
		return a
	}
});
cc.delayTime = function(a) {
	return new cc.DelayTime(a)
};
cc.DelayTime.create = cc.delayTime;
cc.ReverseTime = cc.ActionInterval.extend({
	_other: null,
	ctor: function(a) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._other = null;
		a && this.initWithAction(a)
	},
	initWithAction: function(a) {
		if (!a) throw Error("cc.ReverseTime.initWithAction(): action must be non null");
		if (a === this._other) throw Error("cc.ReverseTime.initWithAction(): the action was already passed in.");
		return cc.ActionInterval.prototype.initWithDuration.call(this, a._duration) ? (this._other = a, !0) : !1
	},
	clone: function() {
		var a = new cc.ReverseTime;
		this._cloneDecoration(a);
		a.initWithAction(this._other.clone());
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._other.startWithTarget(a)
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		this._other && this._other.update(1 - a)
	},
	reverse: function() {
		return this._other.clone()
	},
	stop: function() {
		this._other.stop();
		cc.Action.prototype.stop.call(this)
	}
});
cc.reverseTime = function(a) {
	return new cc.ReverseTime(a)
};
cc.ReverseTime.create = cc.reverseTime;
cc.Animate = cc.ActionInterval.extend({
	_animation: null,
	_nextFrame: 0,
	_origFrame: null,
	_executedLoops: 0,
	_splitTimes: null,
	_currFrameIndex: 0,
	ctor: function(a) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._splitTimes = [];
		a && this.initWithAnimation(a)
	},
	getAnimation: function() {
		return this._animation
	},
	setAnimation: function(a) {
		this._animation = a
	},
	getCurrentFrameIndex: function() {
		return this._currFrameIndex
	},
	initWithAnimation: function(a) {
		if (!a) throw Error("cc.Animate.initWithAnimation(): animation must be non-NULL");
		var b = a.getDuration();
		if (this.initWithDuration(b * a.getLoops())) {
			this._nextFrame = 0;
			this.setAnimation(a);
			this._origFrame = null;
			this._executedLoops = 0;
			var c = this._splitTimes,
				d = c.length = 0,
				e = b / a.getTotalDelayUnits();
			a = a.getFrames();
			cc.arrayVerifyType(a, cc.AnimationFrame);
			for (var f = 0; f < a.length; f++) {
				var g = d * e / b,
					d = d + a[f].getDelayUnits();
				c.push(g)
			}
			return !0
		}
		return !1
	},
	clone: function() {
		var a = new cc.Animate;
		this._cloneDecoration(a);
		a.initWithAnimation(this._animation.clone());
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this,
			a);
		this._animation.getRestoreOriginalFrame() && (this._origFrame = a.getSpriteFrame());
		this._executedLoops = this._nextFrame = 0
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		1 > a && (a *= this._animation.getLoops(), (0 | a) > this._executedLoops && (this._nextFrame = 0, this._executedLoops++), a %= 1);
		for (var b = this._animation.getFrames(), c = b.length, d = this._splitTimes, e = this._nextFrame; e < c; e++)
			if (d[e] <= a) _currFrameIndex = e, this.target.setSpriteFrame(b[_currFrameIndex].getSpriteFrame()), this._nextFrame = e + 1;
			else break
	},
	reverse: function() {
		var a =
			this._animation,
			b = a.getFrames(),
			c = [];
		cc.arrayVerifyType(b, cc.AnimationFrame);
		if (0 < b.length)
			for (var d = b.length - 1; 0 <= d; d--) {
				var e = b[d];
				if (!e) break;
				c.push(e.clone())
			}
		b = new cc.Animation(c, a.getDelayPerUnit(), a.getLoops());
		b.setRestoreOriginalFrame(a.getRestoreOriginalFrame());
		a = new cc.Animate(b);
		this._cloneDecoration(a);
		this._reverseEaseList(a);
		return a
	},
	stop: function() {
		this._animation.getRestoreOriginalFrame() && this.target && this.target.setSpriteFrame(this._origFrame);
		cc.Action.prototype.stop.call(this)
	}
});
cc.animate = function(a) {
	return new cc.Animate(a)
};
cc.Animate.create = cc.animate;
cc.TargetedAction = cc.ActionInterval.extend({
	_action: null,
	_forcedTarget: null,
	ctor: function(a, b) {
		cc.ActionInterval.prototype.ctor.call(this);
		b && this.initWithTarget(a, b)
	},
	initWithTarget: function(a, b) {
		return this.initWithDuration(b._duration) ? (this._forcedTarget = a, this._action = b, !0) : !1
	},
	clone: function() {
		var a = new cc.TargetedAction;
		this._cloneDecoration(a);
		a.initWithTarget(this._forcedTarget, this._action.clone());
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._action.startWithTarget(this._forcedTarget)
	},
	stop: function() {
		this._action.stop()
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		this._action.update(a)
	},
	getForcedTarget: function() {
		return this._forcedTarget
	},
	setForcedTarget: function(a) {
		this._forcedTarget !== a && (this._forcedTarget = a)
	}
});
cc.targetedAction = function(a, b) {
	return new cc.TargetedAction(a, b)
};
cc.TargetedAction.create = cc.targetedAction;
cc.ActionInstant = cc.FiniteTimeAction.extend({
	isDone: function() {
		return !0
	},
	step: function(a) {
		this.update(1)
	},
	update: function(a) {},
	reverse: function() {
		return this.clone()
	},
	clone: function() {
		return new cc.ActionInstant
	}
});
cc.Show = cc.ActionInstant.extend({
	update: function(a) {
		this.target.visible = !0
	},
	reverse: function() {
		return new cc.Hide
	},
	clone: function() {
		return new cc.Show
	}
});
cc.show = function() {
	return new cc.Show
};
cc.Show.create = cc.show;
cc.Hide = cc.ActionInstant.extend({
	update: function(a) {
		this.target.visible = !1
	},
	reverse: function() {
		return new cc.Show
	},
	clone: function() {
		return new cc.Hide
	}
});
cc.hide = function() {
	return new cc.Hide
};
cc.Hide.create = cc.hide;
cc.ToggleVisibility = cc.ActionInstant.extend({
	update: function(a) {
		this.target.visible = !this.target.visible
	},
	reverse: function() {
		return new cc.ToggleVisibility
	},
	clone: function() {
		return new cc.ToggleVisibility
	}
});
cc.toggleVisibility = function() {
	return new cc.ToggleVisibility
};
cc.ToggleVisibility.create = cc.toggleVisibility;
cc.RemoveSelf = cc.ActionInstant.extend({
	_isNeedCleanUp: !0,
	ctor: function(a) {
		cc.FiniteTimeAction.prototype.ctor.call(this);
		void 0 !== a && this.init(a)
	},
	update: function(a) {
		this.target.removeFromParent(this._isNeedCleanUp)
	},
	init: function(a) {
		this._isNeedCleanUp = a;
		return !0
	},
	reverse: function() {
		return new cc.RemoveSelf(this._isNeedCleanUp)
	},
	clone: function() {
		return new cc.RemoveSelf(this._isNeedCleanUp)
	}
});
cc.removeSelf = function(a) {
	return new cc.RemoveSelf(a)
};
cc.RemoveSelf.create = cc.removeSelf;
cc.FlipX = cc.ActionInstant.extend({
	_flippedX: !1,
	ctor: function(a) {
		cc.FiniteTimeAction.prototype.ctor.call(this);
		this._flippedX = !1;
		void 0 !== a && this.initWithFlipX(a)
	},
	initWithFlipX: function(a) {
		this._flippedX = a;
		return !0
	},
	update: function(a) {
		this.target.flippedX = this._flippedX
	},
	reverse: function() {
		return new cc.FlipX(!this._flippedX)
	},
	clone: function() {
		var a = new cc.FlipX;
		a.initWithFlipX(this._flippedX);
		return a
	}
});
cc.flipX = function(a) {
	return new cc.FlipX(a)
};
cc.FlipX.create = cc.flipX;
cc.FlipY = cc.ActionInstant.extend({
	_flippedY: !1,
	ctor: function(a) {
		cc.FiniteTimeAction.prototype.ctor.call(this);
		this._flippedY = !1;
		void 0 !== a && this.initWithFlipY(a)
	},
	initWithFlipY: function(a) {
		this._flippedY = a;
		return !0
	},
	update: function(a) {
		this.target.flippedY = this._flippedY
	},
	reverse: function() {
		return new cc.FlipY(!this._flippedY)
	},
	clone: function() {
		var a = new cc.FlipY;
		a.initWithFlipY(this._flippedY);
		return a
	}
});
cc.flipY = function(a) {
	return new cc.FlipY(a)
};
cc.FlipY.create = cc.flipY;
cc.Place = cc.ActionInstant.extend({
	_x: 0,
	_y: 0,
	ctor: function(a, b) {
		cc.FiniteTimeAction.prototype.ctor.call(this);
		this._y = this._x = 0;
		void 0 !== a && (void 0 !== a.x && (b = a.y, a = a.x), this.initWithPosition(a, b))
	},
	initWithPosition: function(a, b) {
		this._x = a;
		this._y = b;
		return !0
	},
	update: function(a) {
		this.target.setPosition(this._x, this._y)
	},
	clone: function() {
		var a = new cc.Place;
		a.initWithPosition(this._x, this._y);
		return a
	}
});
cc.place = function(a, b) {
	return new cc.Place(a, b)
};
cc.Place.create = cc.place;
cc.CallFunc = cc.ActionInstant.extend({
	_selectorTarget: null,
	_function: null,
	_data: null,
	ctor: function(a, b, c) {
		cc.FiniteTimeAction.prototype.ctor.call(this);
		this.initWithFunction(a, b, c)
	},
	initWithFunction: function(a, b, c) {
		a && (this._function = a);
		b && (this._selectorTarget = b);
		void 0 !== c && (this._data = c);
		return !0
	},
	execute: function() {
		this._function && this._function.call(this._selectorTarget, this.target, this._data)
	},
	update: function(a) {
		this.execute()
	},
	getTargetCallback: function() {
		return this._selectorTarget
	},
	setTargetCallback: function(a) {
		a !==
			this._selectorTarget && (this._selectorTarget && (this._selectorTarget = null), this._selectorTarget = a)
	},
	clone: function() {
		var a = new cc.CallFunc;
		a.initWithFunction(this._function, this._selectorTarget, this._data);
		return a
	}
});
cc.callFunc = function(a, b, c) {
	return new cc.CallFunc(a, b, c)
};
cc.CallFunc.create = cc.callFunc;
cc.ActionEase = cc.ActionInterval.extend({
	_inner: null,
	ctor: function(a) {
		cc.ActionInterval.prototype.ctor.call(this);
		a && this.initWithAction(a)
	},
	initWithAction: function(a) {
		if (!a) throw Error("cc.ActionEase.initWithAction(): action must be non nil");
		return this.initWithDuration(a.getDuration()) ? (this._inner = a, !0) : !1
	},
	clone: function() {
		var a = new cc.ActionEase;
		a.initWithAction(this._inner.clone());
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._inner.startWithTarget(this.target)
	},
	stop: function() {
		this._inner.stop();
		cc.ActionInterval.prototype.stop.call(this)
	},
	update: function(a) {
		this._inner.update(a)
	},
	reverse: function() {
		return new cc.ActionEase(this._inner.reverse())
	},
	getInnerAction: function() {
		return this._inner
	}
});
cc.actionEase = function(a) {
	return new cc.ActionEase(a)
};
cc.ActionEase.create = cc.actionEase;
cc.EaseRateAction = cc.ActionEase.extend({
	_rate: 0,
	ctor: function(a, b) {
		cc.ActionEase.prototype.ctor.call(this);
		void 0 !== b && this.initWithAction(a, b)
	},
	setRate: function(a) {
		this._rate = a
	},
	getRate: function() {
		return this._rate
	},
	initWithAction: function(a, b) {
		return cc.ActionEase.prototype.initWithAction.call(this, a) ? (this._rate = b, !0) : !1
	},
	clone: function() {
		var a = new cc.EaseRateAction;
		a.initWithAction(this._inner.clone(), this._rate);
		return a
	},
	reverse: function() {
		return new cc.EaseRateAction(this._inner.reverse(),
			1 / this._rate)
	}
});
cc.easeRateAction = function(a, b) {
	return new cc.EaseRateAction(a, b)
};
cc.EaseRateAction.create = cc.easeRateAction;
cc.EaseIn = cc.EaseRateAction.extend({
	update: function(a) {
		this._inner.update(Math.pow(a, this._rate))
	},
	reverse: function() {
		return new cc.EaseIn(this._inner.reverse(), 1 / this._rate)
	},
	clone: function() {
		var a = new cc.EaseIn;
		a.initWithAction(this._inner.clone(), this._rate);
		return a
	}
});
cc.EaseIn.create = function(a, b) {
	return new cc.EaseIn(a, b)
};
cc.easeIn = function(a) {
	return {
		_rate: a,
		easing: function(a) {
			return Math.pow(a, this._rate)
		},
		reverse: function() {
			return cc.easeIn(1 / this._rate)
		}
	}
};
cc.EaseOut = cc.EaseRateAction.extend({
	update: function(a) {
		this._inner.update(Math.pow(a, 1 / this._rate))
	},
	reverse: function() {
		return new cc.EaseOut(this._inner.reverse(), 1 / this._rate)
	},
	clone: function() {
		var a = new cc.EaseOut;
		a.initWithAction(this._inner.clone(), this._rate);
		return a
	}
});
cc.EaseOut.create = function(a, b) {
	return new cc.EaseOut(a, b)
};
cc.easeOut = function(a) {
	return {
		_rate: a,
		easing: function(a) {
			return Math.pow(a, 1 / this._rate)
		},
		reverse: function() {
			return cc.easeOut(1 / this._rate)
		}
	}
};
cc.EaseInOut = cc.EaseRateAction.extend({
	update: function(a) {
		a *= 2;
		1 > a ? this._inner.update(0.5 * Math.pow(a, this._rate)) : this._inner.update(1 - 0.5 * Math.pow(2 - a, this._rate))
	},
	clone: function() {
		var a = new cc.EaseInOut;
		a.initWithAction(this._inner.clone(), this._rate);
		return a
	},
	reverse: function() {
		return new cc.EaseInOut(this._inner.reverse(), this._rate)
	}
});
cc.EaseInOut.create = function(a, b) {
	return new cc.EaseInOut(a, b)
};
cc.easeInOut = function(a) {
	return {
		_rate: a,
		easing: function(a) {
			a *= 2;
			return 1 > a ? 0.5 * Math.pow(a, this._rate) : 1 - 0.5 * Math.pow(2 - a, this._rate)
		},
		reverse: function() {
			return cc.easeInOut(this._rate)
		}
	}
};
cc.EaseExponentialIn = cc.ActionEase.extend({
	update: function(a) {
		this._inner.update(0 === a ? 0 : Math.pow(2, 10 * (a - 1)))
	},
	reverse: function() {
		return new cc.EaseExponentialOut(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseExponentialIn;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseExponentialIn.create = function(a) {
	return new cc.EaseExponentialIn(a)
};
cc._easeExponentialInObj = {
	easing: function(a) {
		return 0 === a ? 0 : Math.pow(2, 10 * (a - 1))
	},
	reverse: function() {
		return cc._easeExponentialOutObj
	}
};
cc.easeExponentialIn = function() {
	return cc._easeExponentialInObj
};
cc.EaseExponentialOut = cc.ActionEase.extend({
	update: function(a) {
		this._inner.update(1 === a ? 1 : -Math.pow(2, -10 * a) + 1)
	},
	reverse: function() {
		return new cc.EaseExponentialIn(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseExponentialOut;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseExponentialOut.create = function(a) {
	return new cc.EaseExponentialOut(a)
};
cc._easeExponentialOutObj = {
	easing: function(a) {
		return 1 === a ? 1 : -Math.pow(2, -10 * a) + 1
	},
	reverse: function() {
		return cc._easeExponentialInObj
	}
};
cc.easeExponentialOut = function() {
	return cc._easeExponentialOutObj
};
cc.EaseExponentialInOut = cc.ActionEase.extend({
	update: function(a) {
		1 !== a && 0 !== a && (a *= 2, a = 1 > a ? 0.5 * Math.pow(2, 10 * (a - 1)) : 0.5 * (-Math.pow(2, -10 * (a - 1)) + 2));
		this._inner.update(a)
	},
	reverse: function() {
		return new cc.EaseExponentialInOut(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseExponentialInOut;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseExponentialInOut.create = function(a) {
	return new cc.EaseExponentialInOut(a)
};
cc._easeExponentialInOutObj = {
	easing: function(a) {
		return 1 !== a && 0 !== a ? (a *= 2, 1 > a ? 0.5 * Math.pow(2, 10 * (a - 1)) : 0.5 * (-Math.pow(2, -10 * (a - 1)) + 2)) : a
	},
	reverse: function() {
		return cc._easeExponentialInOutObj
	}
};
cc.easeExponentialInOut = function() {
	return cc._easeExponentialInOutObj
};
cc.EaseSineIn = cc.ActionEase.extend({
	update: function(a) {
		a = 0 === a || 1 === a ? a : -1 * Math.cos(a * Math.PI / 2) + 1;
		this._inner.update(a)
	},
	reverse: function() {
		return new cc.EaseSineOut(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseSineIn;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseSineIn.create = function(a) {
	return new cc.EaseSineIn(a)
};
cc._easeSineInObj = {
	easing: function(a) {
		return 0 === a || 1 === a ? a : -1 * Math.cos(a * Math.PI / 2) + 1
	},
	reverse: function() {
		return cc._easeSineOutObj
	}
};
cc.easeSineIn = function() {
	return cc._easeSineInObj
};
cc.EaseSineOut = cc.ActionEase.extend({
	update: function(a) {
		a = 0 === a || 1 === a ? a : Math.sin(a * Math.PI / 2);
		this._inner.update(a)
	},
	reverse: function() {
		return new cc.EaseSineIn(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseSineOut;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseSineOut.create = function(a) {
	return new cc.EaseSineOut(a)
};
cc._easeSineOutObj = {
	easing: function(a) {
		return 0 === a || 1 === a ? a : Math.sin(a * Math.PI / 2)
	},
	reverse: function() {
		return cc._easeSineInObj
	}
};
cc.easeSineOut = function() {
	return cc._easeSineOutObj
};
cc.EaseSineInOut = cc.ActionEase.extend({
	update: function(a) {
		a = 0 === a || 1 === a ? a : -0.5 * (Math.cos(Math.PI * a) - 1);
		this._inner.update(a)
	},
	clone: function() {
		var a = new cc.EaseSineInOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseSineInOut(this._inner.reverse())
	}
});
cc.EaseSineInOut.create = function(a) {
	return new cc.EaseSineInOut(a)
};
cc._easeSineInOutObj = {
	easing: function(a) {
		return 0 === a || 1 === a ? a : -0.5 * (Math.cos(Math.PI * a) - 1)
	},
	reverse: function() {
		return cc._easeSineInOutObj
	}
};
cc.easeSineInOut = function() {
	return cc._easeSineInOutObj
};
cc.EaseElastic = cc.ActionEase.extend({
	_period: 0.3,
	ctor: function(a, b) {
		cc.ActionEase.prototype.ctor.call(this);
		a && this.initWithAction(a, b)
	},
	getPeriod: function() {
		return this._period
	},
	setPeriod: function(a) {
		this._period = a
	},
	initWithAction: function(a, b) {
		cc.ActionEase.prototype.initWithAction.call(this, a);
		this._period = null == b ? 0.3 : b;
		return !0
	},
	reverse: function() {
		cc.log("cc.EaseElastic.reverse(): it should be overridden in subclass.");
		return null
	},
	clone: function() {
		var a = new cc.EaseElastic;
		a.initWithAction(this._inner.clone(),
			this._period);
		return a
	}
});
cc.EaseElastic.create = function(a, b) {
	return new cc.EaseElastic(a, b)
};
cc.EaseElasticIn = cc.EaseElastic.extend({
	update: function(a) {
		var b = 0;
		0 === a || 1 === a ? b = a : (b = this._period / 4, a -= 1, b = -Math.pow(2, 10 * a) * Math.sin((a - b) * Math.PI * 2 / this._period));
		this._inner.update(b)
	},
	reverse: function() {
		return new cc.EaseElasticOut(this._inner.reverse(), this._period)
	},
	clone: function() {
		var a = new cc.EaseElasticIn;
		a.initWithAction(this._inner.clone(), this._period);
		return a
	}
});
cc.EaseElasticIn.create = function(a, b) {
	return new cc.EaseElasticIn(a, b)
};
cc._easeElasticInObj = {
	easing: function(a) {
		if (0 === a || 1 === a) return a;
		a -= 1;
		return -Math.pow(2, 10 * a) * Math.sin((a - 0.075) * Math.PI * 2 / 0.3)
	},
	reverse: function() {
		return cc._easeElasticOutObj
	}
};
cc.easeElasticIn = function(a) {
	return a && 0.3 !== a ? {
		_period: a,
		easing: function(a) {
			if (0 === a || 1 === a) return a;
			a -= 1;
			return -Math.pow(2, 10 * a) * Math.sin((a - this._period / 4) * Math.PI * 2 / this._period)
		},
		reverse: function() {
			return cc.easeElasticOut(this._period)
		}
	} : cc._easeElasticInObj
};
cc.EaseElasticOut = cc.EaseElastic.extend({
	update: function(a) {
		var b = 0;
		0 === a || 1 === a ? b = a : (b = this._period / 4, b = Math.pow(2, -10 * a) * Math.sin((a - b) * Math.PI * 2 / this._period) + 1);
		this._inner.update(b)
	},
	reverse: function() {
		return new cc.EaseElasticIn(this._inner.reverse(), this._period)
	},
	clone: function() {
		var a = new cc.EaseElasticOut;
		a.initWithAction(this._inner.clone(), this._period);
		return a
	}
});
cc.EaseElasticOut.create = function(a, b) {
	return new cc.EaseElasticOut(a, b)
};
cc._easeElasticOutObj = {
	easing: function(a) {
		return 0 === a || 1 === a ? a : Math.pow(2, -10 * a) * Math.sin((a - 0.075) * Math.PI * 2 / 0.3) + 1
	},
	reverse: function() {
		return cc._easeElasticInObj
	}
};
cc.easeElasticOut = function(a) {
	return a && 0.3 !== a ? {
		_period: a,
		easing: function(a) {
			return 0 === a || 1 === a ? a : Math.pow(2, -10 * a) * Math.sin((a - this._period / 4) * Math.PI * 2 / this._period) + 1
		},
		reverse: function() {
			return cc.easeElasticIn(this._period)
		}
	} : cc._easeElasticOutObj
};
cc.EaseElasticInOut = cc.EaseElastic.extend({
	update: function(a) {
		var b = 0,
			b = this._period;
		if (0 === a || 1 === a) b = a;
		else {
			b || (b = this._period = 0.3 * 1.5);
			var c = b / 4;
			a = 2 * a - 1;
			b = 0 > a ? -0.5 * Math.pow(2, 10 * a) * Math.sin((a - c) * Math.PI * 2 / b) : Math.pow(2, -10 * a) * Math.sin((a - c) * Math.PI * 2 / b) * 0.5 + 1
		}
		this._inner.update(b)
	},
	reverse: function() {
		return new cc.EaseElasticInOut(this._inner.reverse(), this._period)
	},
	clone: function() {
		var a = new cc.EaseElasticInOut;
		a.initWithAction(this._inner.clone(), this._period);
		return a
	}
});
cc.EaseElasticInOut.create = function(a, b) {
	return new cc.EaseElasticInOut(a, b)
};
cc.easeElasticInOut = function(a) {
	return {
		_period: a || 0.3,
		easing: function(a) {
			var c = 0,
				c = this._period;
			if (0 === a || 1 === a) c = a;
			else {
				c || (c = this._period = 0.3 * 1.5);
				var d = c / 4;
				a = 2 * a - 1;
				c = 0 > a ? -0.5 * Math.pow(2, 10 * a) * Math.sin((a - d) * Math.PI * 2 / c) : Math.pow(2, -10 * a) * Math.sin((a - d) * Math.PI * 2 / c) * 0.5 + 1
			}
			return c
		},
		reverse: function() {
			return cc.easeElasticInOut(this._period)
		}
	}
};
cc.EaseBounce = cc.ActionEase.extend({
	bounceTime: function(a) {
		if (a < 1 / 2.75) return 7.5625 * a * a;
		if (a < 2 / 2.75) return a -= 1.5 / 2.75, 7.5625 * a * a + 0.75;
		if (a < 2.5 / 2.75) return a -= 2.25 / 2.75, 7.5625 * a * a + 0.9375;
		a -= 2.625 / 2.75;
		return 7.5625 * a * a + 0.984375
	},
	clone: function() {
		var a = new cc.EaseBounce;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseBounce(this._inner.reverse())
	}
});
cc.EaseBounce.create = function(a) {
	return new cc.EaseBounce(a)
};
cc.EaseBounceIn = cc.EaseBounce.extend({
	update: function(a) {
		a = 1 - this.bounceTime(1 - a);
		this._inner.update(a)
	},
	reverse: function() {
		return new cc.EaseBounceOut(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseBounceIn;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseBounceIn.create = function(a) {
	return new cc.EaseBounceIn(a)
};
cc._bounceTime = function(a) {
	if (a < 1 / 2.75) return 7.5625 * a * a;
	if (a < 2 / 2.75) return a -= 1.5 / 2.75, 7.5625 * a * a + 0.75;
	if (a < 2.5 / 2.75) return a -= 2.25 / 2.75, 7.5625 * a * a + 0.9375;
	a -= 2.625 / 2.75;
	return 7.5625 * a * a + 0.984375
};
cc._easeBounceInObj = {
	easing: function(a) {
		return 1 - cc._bounceTime(1 - a)
	},
	reverse: function() {
		return cc._easeBounceOutObj
	}
};
cc.easeBounceIn = function() {
	return cc._easeBounceInObj
};
cc.EaseBounceOut = cc.EaseBounce.extend({
	update: function(a) {
		a = this.bounceTime(a);
		this._inner.update(a)
	},
	reverse: function() {
		return new cc.EaseBounceIn(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseBounceOut;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseBounceOut.create = function(a) {
	return new cc.EaseBounceOut(a)
};
cc._easeBounceOutObj = {
	easing: function(a) {
		return cc._bounceTime(a)
	},
	reverse: function() {
		return cc._easeBounceInObj
	}
};
cc.easeBounceOut = function() {
	return cc._easeBounceOutObj
};
cc.EaseBounceInOut = cc.EaseBounce.extend({
	update: function(a) {
		var b = 0,
			b = 0.5 > a ? 0.5 * (1 - this.bounceTime(1 - 2 * a)) : 0.5 * this.bounceTime(2 * a - 1) + 0.5;
		this._inner.update(b)
	},
	clone: function() {
		var a = new cc.EaseBounceInOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseBounceInOut(this._inner.reverse())
	}
});
cc.EaseBounceInOut.create = function(a) {
	return new cc.EaseBounceInOut(a)
};
cc._easeBounceInOutObj = {
	easing: function(a) {
		return a = 0.5 > a ? 0.5 * (1 - cc._bounceTime(1 - 2 * a)) : 0.5 * cc._bounceTime(2 * a - 1) + 0.5
	},
	reverse: function() {
		return cc._easeBounceInOutObj
	}
};
cc.easeBounceInOut = function() {
	return cc._easeBounceInOutObj
};
cc.EaseBackIn = cc.ActionEase.extend({
	update: function(a) {
		this._inner.update(0 === a || 1 === a ? a : a * a * (2.70158 * a - 1.70158))
	},
	reverse: function() {
		return new cc.EaseBackOut(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseBackIn;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseBackIn.create = function(a) {
	return new cc.EaseBackIn(a)
};
cc._easeBackInObj = {
	easing: function(a) {
		return 0 === a || 1 === a ? a : a * a * (2.70158 * a - 1.70158)
	},
	reverse: function() {
		return cc._easeBackOutObj
	}
};
cc.easeBackIn = function() {
	return cc._easeBackInObj
};
cc.EaseBackOut = cc.ActionEase.extend({
	update: function(a) {
		a -= 1;
		this._inner.update(a * a * (2.70158 * a + 1.70158) + 1)
	},
	reverse: function() {
		return new cc.EaseBackIn(this._inner.reverse())
	},
	clone: function() {
		var a = new cc.EaseBackOut;
		a.initWithAction(this._inner.clone());
		return a
	}
});
cc.EaseBackOut.create = function(a) {
	return new cc.EaseBackOut(a)
};
cc._easeBackOutObj = {
	easing: function(a) {
		a -= 1;
		return a * a * (2.70158 * a + 1.70158) + 1
	},
	reverse: function() {
		return cc._easeBackInObj
	}
};
cc.easeBackOut = function() {
	return cc._easeBackOutObj
};
cc.EaseBackInOut = cc.ActionEase.extend({
	update: function(a) {
		a *= 2;
		1 > a ? this._inner.update(a * a * (3.5949095 * a - 2.5949095) / 2) : (a -= 2, this._inner.update(a * a * (3.5949095 * a + 2.5949095) / 2 + 1))
	},
	clone: function() {
		var a = new cc.EaseBackInOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseBackInOut(this._inner.reverse())
	}
});
cc.EaseBackInOut.create = function(a) {
	return new cc.EaseBackInOut(a)
};
cc._easeBackInOutObj = {
	easing: function(a) {
		a *= 2;
		if (1 > a) return a * a * (3.5949095 * a - 2.5949095) / 2;
		a -= 2;
		return a * a * (3.5949095 * a + 2.5949095) / 2 + 1
	},
	reverse: function() {
		return cc._easeBackInOutObj
	}
};
cc.easeBackInOut = function() {
	return cc._easeBackInOutObj
};
cc.EaseBezierAction = cc.ActionEase.extend({
	_p0: null,
	_p1: null,
	_p2: null,
	_p3: null,
	ctor: function(a) {
		cc.ActionEase.prototype.ctor.call(this, a)
	},
	_updateTime: function(a, b, c, d, e) {
		return Math.pow(1 - e, 3) * a + 3 * e * Math.pow(1 - e, 2) * b + 3 * Math.pow(e, 2) * (1 - e) * c + Math.pow(e, 3) * d
	},
	update: function(a) {
		a = this._updateTime(this._p0, this._p1, this._p2, this._p3, a);
		this._inner.update(a)
	},
	clone: function() {
		var a = new cc.EaseBezierAction;
		a.initWithAction(this._inner.clone());
		a.setBezierParamer(this._p0, this._p1, this._p2, this._p3);
		return a
	},
	reverse: function() {
		var a = new cc.EaseBezierAction(this._inner.reverse());
		a.setBezierParamer(this._p3, this._p2, this._p1, this._p0);
		return a
	},
	setBezierParamer: function(a, b, c, d) {
		this._p0 = a || 0;
		this._p1 = b || 0;
		this._p2 = c || 0;
		this._p3 = d || 0
	}
});
cc.EaseBezierAction.create = function(a) {
	return new cc.EaseBezierAction(a)
};
cc.easeBezierAction = function(a, b, c, d) {
	return {
		easing: function(e) {
			return cc.EaseBezierAction.prototype._updateTime(a, b, c, d, e)
		},
		reverse: function() {
			return cc.easeBezierAction(d, c, b, a)
		}
	}
};
cc.EaseQuadraticActionIn = cc.ActionEase.extend({
	_updateTime: function(a) {
		return Math.pow(a, 2)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuadraticActionIn;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseQuadraticActionIn(this._inner.reverse())
	}
});
cc.EaseQuadraticActionIn.create = function(a) {
	return new cc.EaseQuadraticActionIn(a)
};
cc._easeQuadraticActionIn = {
	easing: cc.EaseQuadraticActionIn.prototype._updateTime,
	reverse: function() {
		return cc._easeQuadraticActionIn
	}
};
cc.easeQuadraticActionIn = function() {
	return cc._easeQuadraticActionIn
};
cc.EaseQuadraticActionOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		return -a * (a - 2)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuadraticActionOut;
		a.initWithAction();
		return a
	},
	reverse: function() {
		return new cc.EaseQuadraticActionOut(this._inner.reverse())
	}
});
cc.EaseQuadraticActionOut.create = function(a) {
	return new cc.EaseQuadraticActionOut(a)
};
cc._easeQuadraticActionOut = {
	easing: cc.EaseQuadraticActionOut.prototype._updateTime,
	reverse: function() {
		return cc._easeQuadraticActionOut
	}
};
cc.easeQuadraticActionOut = function() {
	return cc._easeQuadraticActionOut
};
cc.EaseQuadraticActionInOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		var b = a;
		a *= 2;
		1 > a ? b = a * a * 0.5 : (--a, b = -0.5 * (a * (a - 2) - 1));
		return b
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuadraticActionInOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseQuadraticActionInOut(this._inner.reverse())
	}
});
cc.EaseQuadraticActionInOut.create = function(a) {
	return new cc.EaseQuadraticActionInOut(a)
};
cc._easeQuadraticActionInOut = {
	easing: cc.EaseQuadraticActionInOut.prototype._updateTime,
	reverse: function() {
		return cc._easeQuadraticActionInOut
	}
};
cc.easeQuadraticActionInOut = function() {
	return cc._easeQuadraticActionInOut
};
cc.EaseQuarticActionIn = cc.ActionEase.extend({
	_updateTime: function(a) {
		return a * a * a * a
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuarticActionIn;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseQuarticActionIn(this._inner.reverse())
	}
});
cc.EaseQuarticActionIn.create = function(a) {
	return new cc.EaseQuarticActionIn(a)
};
cc._easeQuarticActionIn = {
	easing: cc.EaseQuarticActionIn.prototype._updateTime,
	reverse: function() {
		return cc._easeQuarticActionIn
	}
};
cc.easeQuarticActionIn = function() {
	return cc._easeQuarticActionIn
};
cc.EaseQuarticActionOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		a -= 1;
		return -(a * a * a * a - 1)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuarticActionOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseQuarticActionOut(this._inner.reverse())
	}
});
cc.EaseQuarticActionOut.create = function(a) {
	return new cc.EaseQuarticActionOut(a)
};
cc._easeQuarticActionOut = {
	easing: cc.EaseQuarticActionOut.prototype._updateTime,
	reverse: function() {
		return cc._easeQuarticActionOut
	}
};
cc.easeQuarticActionOut = function() {
	return cc._easeQuarticActionOut
};
cc.EaseQuarticActionInOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		a *= 2;
		if (1 > a) return 0.5 * a * a * a * a;
		a -= 2;
		return -0.5 * (a * a * a * a - 2)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuarticActionInOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseQuarticActionInOut(this._inner.reverse())
	}
});
cc.EaseQuarticActionInOut.create = function(a) {
	return new cc.EaseQuarticActionInOut(a)
};
cc._easeQuarticActionInOut = {
	easing: cc.EaseQuarticActionInOut.prototype._updateTime,
	reverse: function() {
		return cc._easeQuarticActionInOut
	}
};
cc.easeQuarticActionInOut = function() {
	return cc._easeQuarticActionInOut
};
cc.EaseQuinticActionIn = cc.ActionEase.extend({
	_updateTime: function(a) {
		return a * a * a * a * a
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuinticActionIn;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseQuinticActionIn(this._inner.reverse())
	}
});
cc.EaseQuinticActionIn.create = function(a) {
	return new cc.EaseQuinticActionIn(a)
};
cc._easeQuinticActionIn = {
	easing: cc.EaseQuinticActionIn.prototype._updateTime,
	reverse: function() {
		return cc._easeQuinticActionIn
	}
};
cc.easeQuinticActionIn = function() {
	return cc._easeQuinticActionIn
};
cc.EaseQuinticActionOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		a -= 1;
		return a * a * a * a * a + 1
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuinticActionOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseQuinticActionOut(this._inner.reverse())
	}
});
cc.EaseQuinticActionOut.create = function(a) {
	return new cc.EaseQuinticActionOut(a)
};
cc._easeQuinticActionOut = {
	easing: cc.EaseQuinticActionOut.prototype._updateTime,
	reverse: function() {
		return cc._easeQuinticActionOut
	}
};
cc.easeQuinticActionOut = function() {
	return cc._easeQuinticActionOut
};
cc.EaseQuinticActionInOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		a *= 2;
		if (1 > a) return 0.5 * a * a * a * a * a;
		a -= 2;
		return 0.5 * (a * a * a * a * a + 2)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseQuinticActionInOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseQuinticActionInOut(this._inner.reverse())
	}
});
cc.EaseQuinticActionInOut.create = function(a) {
	return new cc.EaseQuinticActionInOut(a)
};
cc._easeQuinticActionInOut = {
	easing: cc.EaseQuinticActionInOut.prototype._updateTime,
	reverse: function() {
		return cc._easeQuinticActionInOut
	}
};
cc.easeQuinticActionInOut = function() {
	return cc._easeQuinticActionInOut
};
cc.EaseCircleActionIn = cc.ActionEase.extend({
	_updateTime: function(a) {
		return -1 * (Math.sqrt(1 - a * a) - 1)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseCircleActionIn;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseCircleActionIn(this._inner.reverse())
	}
});
cc.EaseCircleActionIn.create = function(a) {
	return new cc.EaseCircleActionIn(a)
};
cc._easeCircleActionIn = {
	easing: cc.EaseCircleActionIn.prototype._updateTime,
	reverse: function() {
		return cc._easeCircleActionIn
	}
};
cc.easeCircleActionIn = function() {
	return cc._easeCircleActionIn
};
cc.EaseCircleActionOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		a -= 1;
		return Math.sqrt(1 - a * a)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseCircleActionOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseCircleActionOut(this._inner.reverse())
	}
});
cc.EaseCircleActionOut.create = function(a) {
	return new cc.EaseCircleActionOut(a)
};
cc._easeCircleActionOut = {
	easing: cc.EaseCircleActionOut.prototype._updateTime,
	reverse: function() {
		return cc._easeCircleActionOut
	}
};
cc.easeCircleActionOut = function() {
	return cc._easeCircleActionOut
};
cc.EaseCircleActionInOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		a *= 2;
		if (1 > a) return -0.5 * (Math.sqrt(1 - a * a) - 1);
		a -= 2;
		return 0.5 * (Math.sqrt(1 - a * a) + 1)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseCircleActionInOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseCircleActionInOut(this._inner.reverse())
	}
});
cc.EaseCircleActionInOut.create = function(a) {
	return new cc.EaseCircleActionInOut(a)
};
cc._easeCircleActionInOut = {
	easing: cc.EaseCircleActionInOut.prototype._updateTime,
	reverse: function() {
		return cc._easeCircleActionInOut
	}
};
cc.easeCircleActionInOut = function() {
	return cc._easeCircleActionInOut
};
cc.EaseCubicActionIn = cc.ActionEase.extend({
	_updateTime: function(a) {
		return a * a * a
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseCubicActionIn;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseCubicActionIn(this._inner.reverse())
	}
});
cc.EaseCubicActionIn.create = function(a) {
	return new cc.EaseCubicActionIn(a)
};
cc._easeCubicActionIn = {
	easing: cc.EaseCubicActionIn.prototype._updateTime,
	reverse: function() {
		return cc._easeCubicActionIn
	}
};
cc.easeCubicActionIn = function() {
	return cc._easeCubicActionIn
};
cc.EaseCubicActionOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		a -= 1;
		return a * a * a + 1
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseCubicActionOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseCubicActionOut(this._inner.reverse())
	}
});
cc.EaseCubicActionOut.create = function(a) {
	return new cc.EaseCubicActionOut(a)
};
cc._easeCubicActionOut = {
	easing: cc.EaseCubicActionOut.prototype._updateTime,
	reverse: function() {
		return cc._easeCubicActionOut
	}
};
cc.easeCubicActionOut = function() {
	return cc._easeCubicActionOut
};
cc.EaseCubicActionInOut = cc.ActionEase.extend({
	_updateTime: function(a) {
		a *= 2;
		if (1 > a) return 0.5 * a * a * a;
		a -= 2;
		return 0.5 * (a * a * a + 2)
	},
	update: function(a) {
		this._inner.update(this._updateTime(a))
	},
	clone: function() {
		var a = new cc.EaseCubicActionInOut;
		a.initWithAction(this._inner.clone());
		return a
	},
	reverse: function() {
		return new cc.EaseCubicActionInOut(this._inner.reverse())
	}
});
cc.EaseCubicActionInOut.create = function(a) {
	return new cc.EaseCubicActionInOut(a)
};
cc._easeCubicActionInOut = {
	easing: cc.EaseCubicActionInOut.prototype._updateTime,
	reverse: function() {
		return cc._easeCubicActionInOut
	}
};
cc.easeCubicActionInOut = function() {
	return cc._easeCubicActionInOut
};
cc.cardinalSplineAt = function(a, b, c, d, e, f, g) {
	var h = f * f,
		k = h * f,
		m = (1 - e) / 2;
	e = m * (-k + 2 * h - f);
	var n = m * (-k + h) + (2 * k - 3 * h + 1);
	f = m * (k - 2 * h + f) + (-2 * k + 3 * h);
	k = m * (k - h);
	h = a.x * e + b.x * n + c.x * f + d.x * k;
	a = a.y * e + b.y * n + c.y * f + d.y * k;
	if (void 0 !== g) g.x = h, g.y = a;
	else return cc.p(h, a)
};
cc.reverseControlPoints = function(a) {
	for (var b = [], c = a.length - 1; 0 <= c; c--) b.push(cc.p(a[c].x, a[c].y));
	return b
};
cc.cloneControlPoints = function(a) {
	for (var b = [], c = 0; c < a.length; c++) b.push(cc.p(a[c].x, a[c].y));
	return b
};
cc.copyControlPoints = cc.cloneControlPoints;
cc.getControlPointAt = function(a, b) {
	var c = Math.min(a.length - 1, Math.max(b, 0));
	return a[c]
};
cc.reverseControlPointsInline = function(a) {
	for (var b = a.length, c = 0 | b / 2, d = 0; d < c; ++d) {
		var e = a[d];
		a[d] = a[b - d - 1];
		a[b - d - 1] = e
	}
};
cc.CardinalSplineTo = cc.ActionInterval.extend({
	_points: null,
	_deltaT: 0,
	_tension: 0,
	_previousPosition: null,
	_accumulatedDiff: null,
	ctor: function(a, b, c) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._points = [];
		void 0 !== c && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		if (!b || 0 === b.length) throw Error("Invalid configuration. It must at least have one control point");
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this.setPoints(b), this._tension = c, !0) : !1
	},
	clone: function() {
		var a =
			new cc.CardinalSplineTo;
		a.initWithDuration(this._duration, cc.copyControlPoints(this._points), this._tension);
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		this._deltaT = 1 / (this._points.length - 1);
		this._previousPosition = cc.p(this.target.getPositionX(), this.target.getPositionY());
		this._accumulatedDiff = cc.p(0, 0)
	},
	update: function(a) {
		a = this._computeEaseTime(a);
		var b, c = this._points;
		if (1 === a) b = c.length - 1, a = 1;
		else {
			var d = this._deltaT;
			b = 0 | a / d;
			a = (a - d * b) / d
		}
		b = cc.cardinalSplineAt(cc.getControlPointAt(c,
			b - 1), cc.getControlPointAt(c, b - 0), cc.getControlPointAt(c, b + 1), cc.getControlPointAt(c, b + 2), this._tension, a);
		cc.ENABLE_STACKABLE_ACTIONS && (c = this.target.getPositionX() - this._previousPosition.x, a = this.target.getPositionY() - this._previousPosition.y, 0 !== c || 0 !== a) && (d = this._accumulatedDiff, c = d.x + c, a = d.y + a, d.x = c, d.y = a, b.x += c, b.y += a);
		this.updatePosition(b)
	},
	reverse: function() {
		var a = cc.reverseControlPoints(this._points);
		return cc.cardinalSplineTo(this._duration, a, this._tension)
	},
	updatePosition: function(a) {
		this.target.setPosition(a);
		this._previousPosition = a
	},
	getPoints: function() {
		return this._points
	},
	setPoints: function(a) {
		this._points = a
	}
});
cc.cardinalSplineTo = function(a, b, c) {
	return new cc.CardinalSplineTo(a, b, c)
};
cc.CardinalSplineTo.create = cc.cardinalSplineTo;
cc.CardinalSplineBy = cc.CardinalSplineTo.extend({
	_startPosition: null,
	ctor: function(a, b, c) {
		cc.CardinalSplineTo.prototype.ctor.call(this);
		this._startPosition = cc.p(0, 0);
		void 0 !== c && this.initWithDuration(a, b, c)
	},
	startWithTarget: function(a) {
		cc.CardinalSplineTo.prototype.startWithTarget.call(this, a);
		this._startPosition.x = a.getPositionX();
		this._startPosition.y = a.getPositionY()
	},
	reverse: function() {
		for (var a = this._points.slice(), b, c = a[0], d = 1; d < a.length; ++d) b = a[d], a[d] = cc.pSub(b, c), c = b;
		a = cc.reverseControlPoints(a);
		c = a[a.length - 1];
		a.pop();
		c.x = -c.x;
		c.y = -c.y;
		a.unshift(c);
		for (d = 1; d < a.length; ++d) b = a[d], b.x = -b.x, b.y = -b.y, b.x += c.x, b.y += c.y, c = a[d] = b;
		return cc.cardinalSplineBy(this._duration, a, this._tension)
	},
	updatePosition: function(a) {
		var b = this._startPosition,
			c = a.x + b.x;
		a = a.y + b.y;
		this._previousPosition.x = c;
		this._previousPosition.y = a;
		this.target.setPosition(c, a)
	},
	clone: function() {
		var a = new cc.CardinalSplineBy;
		a.initWithDuration(this._duration, cc.copyControlPoints(this._points), this._tension);
		return a
	}
});
cc.cardinalSplineBy = function(a, b, c) {
	return new cc.CardinalSplineBy(a, b, c)
};
cc.CardinalSplineBy.create = cc.cardinalSplineBy;
cc.CatmullRomTo = cc.CardinalSplineTo.extend({
	ctor: function(a, b) {
		b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		return cc.CardinalSplineTo.prototype.initWithDuration.call(this, a, b, 0.5)
	},
	clone: function() {
		var a = new cc.CatmullRomTo;
		a.initWithDuration(this._duration, cc.copyControlPoints(this._points));
		return a
	}
});
cc.catmullRomTo = function(a, b) {
	return new cc.CatmullRomTo(a, b)
};
cc.CatmullRomTo.create = cc.catmullRomTo;
cc.CatmullRomBy = cc.CardinalSplineBy.extend({
	ctor: function(a, b) {
		cc.CardinalSplineBy.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		return cc.CardinalSplineTo.prototype.initWithDuration.call(this, a, b, 0.5)
	},
	clone: function() {
		var a = new cc.CatmullRomBy;
		a.initWithDuration(this._duration, cc.copyControlPoints(this._points));
		return a
	}
});
cc.catmullRomBy = function(a, b) {
	return new cc.CatmullRomBy(a, b)
};
cc.CatmullRomBy.create = cc.catmullRomBy;
cc.ActionTweenDelegate = cc.Class.extend({
	updateTweenAction: function(a, b) {}
});
cc.ActionTween = cc.ActionInterval.extend({
	key: "",
	from: 0,
	to: 0,
	delta: 0,
	ctor: function(a, b, c, d) {
		cc.ActionInterval.prototype.ctor.call(this);
		this.key = "";
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	initWithDuration: function(a, b, c, d) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this.key = b, this.to = d, this.from = c, !0) : !1
	},
	startWithTarget: function(a) {
		if (!a || !a.updateTweenAction) throw Error("cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function");
		cc.ActionInterval.prototype.startWithTarget.call(this,
			a);
		this.delta = this.to - this.from
	},
	update: function(a) {
		this.target.updateTweenAction(this.to - this.delta * (1 - a), this.key)
	},
	reverse: function() {
		return new cc.ActionTween(this.duration, this.key, this.to, this.from)
	},
	clone: function() {
		var a = new cc.ActionTween;
		a.initWithDuration(this._duration, this.key, this.from, this.to);
		return a
	}
});
cc.actionTween = function(a, b, c, d) {
	return new cc.ActionTween(a, b, c, d)
};
cc.ActionTween.create = cc.actionTween;
cc.GridAction = cc.ActionInterval.extend({
	_gridSize: null,
	_gridNodeTarget: null,
	ctor: function(a, b) {
		cc.sys._checkWebGLRenderMode();
		cc.ActionInterval.prototype.ctor.call(this);
		this._gridSize = cc.size(0, 0);
		b && this.initWithDuration(a, b)
	},
	_cacheTargetAsGridNode: function(a) {
		this._gridNodeTarget = a
	},
	clone: function() {
		var a = new cc.GridAction,
			b = this._gridSize;
		a.initWithDuration(this._duration, cc.size(b.width, b.height));
		return a
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a);
		cc.renderer.childrenOrderDirty = !0;
		this._cacheTargetAsGridNode(a);
		var b = this.getGrid();
		(a = this._gridNodeTarget.getGrid()) && 0 < a.getReuseGrid() ? (b = a.getGridSize(), a.isActive() && b.width === this._gridSize.width && b.height === this._gridSize.height && a.reuse()) : (a && a.isActive() && a.setActive(!1), this._gridNodeTarget.setGrid(b), this._gridNodeTarget.getGrid().setActive(!0))
	},
	reverse: function() {
		return new cc.ReverseTime(this)
	},
	initWithDuration: function(a, b) {
		return cc.ActionInterval.prototype.initWithDuration.call(this,
			a) ? (this._gridSize.width = b.width, this._gridSize.height = b.height, !0) : !1
	},
	getGrid: function() {
		cc.log("cc.GridAction.getGrid(): it should be overridden in subclass.")
	}
});
cc.gridAction = function(a, b) {
	return new cc.GridAction(a, b)
};
cc.GridAction.create = cc.gridAction;
cc.Grid3DAction = cc.GridAction.extend({
	getGrid: function() {
		return new cc.Grid3D(this._gridSize, void 0, void 0, this._gridNodeTarget.getGridRect())
	},
	getGridRect: function() {
		return this._gridNodeTarget.getGridRect()
	},
	vertex: function(a) {
		return this.getVertex(a)
	},
	getVertex: function(a) {
		return this.target.grid.getVertex(a)
	},
	originalVertex: function(a) {
		return this.getOriginalVertex(a)
	},
	getOriginalVertex: function(a) {
		return this.target.grid.originalVertex(a)
	},
	setVertex: function(a, b) {
		this.target.grid.setVertex(a,
			b)
	}
});
cc.grid3DAction = function(a, b) {
	return new cc.Grid3DAction(a, b)
};
cc.Grid3DAction.create = cc.grid3DAction;
cc.TiledGrid3DAction = cc.GridAction.extend({
	tile: function(a) {
		return this.getTile(a)
	},
	getTile: function(a) {
		return this.target.grid.tile(a)
	},
	originalTile: function(a) {
		return this.getOriginalTile(a)
	},
	getOriginalTile: function(a) {
		return this.target.grid.originalTile(a)
	},
	setTile: function(a, b) {
		this.target.grid.setTile(a, b)
	},
	getGrid: function() {
		return new cc.TiledGrid3D(this._gridSize, void 0, void 0, this._gridNodeTarget.getGridRect())
	}
});
cc.tiledGrid3DAction = function(a, b) {
	return new cc.TiledGrid3DAction(a, b)
};
cc.TiledGrid3DAction.create = cc.tiledGrid3DAction;
cc.StopGrid = cc.ActionInstant.extend({
	startWithTarget: function(a) {
		cc.ActionInstant.prototype.startWithTarget.call(this, a);
		cc.renderer.childrenOrderDirty = !0;
		(a = this.target.grid) && a.isActive() && a.setActive(!1)
	}
});
cc.stopGrid = function() {
	return new cc.StopGrid
};
cc.StopGrid.create = cc.stopGrid;
cc.ReuseGrid = cc.ActionInstant.extend({
	_times: null,
	ctor: function(a) {
		cc.ActionInstant.prototype.ctor.call(this);
		void 0 !== a && this.initWithTimes(a)
	},
	initWithTimes: function(a) {
		this._times = a;
		return !0
	},
	startWithTarget: function(a) {
		cc.ActionInstant.prototype.startWithTarget.call(this, a);
		cc.renderer.childrenOrderDirty = !0;
		this.target.grid && this.target.grid.isActive() && this.target.grid.setReuseGrid(this.target.grid.getReuseGrid() + this._times)
	}
});
cc.reuseGrid = function(a) {
	return new cc.ReuseGrid(a)
};
cc.ReuseGrid.create = cc.reuseGrid;
cc.Waves3D = cc.Grid3DAction.extend({
	_waves: 0,
	_amplitude: 0,
	_amplitudeRate: 0,
	ctor: function(a, b, c, d) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	getAmplitude: function() {
		return this._amplitude
	},
	setAmplitude: function(a) {
		this._amplitude = a
	},
	getAmplitudeRate: function() {
		return this._amplitudeRate
	},
	setAmplitudeRate: function(a) {
		this._amplitudeRate = a
	},
	initWithDuration: function(a, b, c, d) {
		return cc.Grid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._waves = c, this._amplitude =
			d, this._amplitudeRate = 1, !0) : !1
	},
	update: function(a) {
		for (var b = this._gridSize, c = this._amplitude, d = cc.p(0, 0), e = this._amplitudeRate, f = this._waves, g = 0; g < b.width + 1; ++g)
			for (var h = 0; h < b.height + 1; ++h) {
				d.x = g;
				d.y = h;
				var k = this.originalVertex(d);
				k.z += Math.sin(Math.PI * a * f * 2 + 0.01 * (k.y + k.x)) * c * e;
				this.setVertex(d, k)
			}
	}
});
cc.waves3D = function(a, b, c, d) {
	return new cc.Waves3D(a, b, c, d)
};
cc.Waves3D.create = cc.waves3D;
cc.FlipX3D = cc.Grid3DAction.extend({
	ctor: function(a) {
		void 0 !== a ? cc.GridAction.prototype.ctor.call(this, a, cc.size(1, 1)) : cc.GridAction.prototype.ctor.call(this)
	},
	initWithDuration: function(a) {
		return cc.Grid3DAction.prototype.initWithDuration.call(this, a, cc.size(1, 1))
	},
	initWithSize: function(a, b) {
		return 1 !== a.width || 1 !== a.height ? (cc.log("Grid size must be (1,1)"), !1) : cc.Grid3DAction.prototype.initWithDuration.call(this, b, a)
	},
	update: function(a) {
		var b = Math.PI * a;
		a = Math.sin(b);
		var c = Math.cos(b / 2),
			b = new cc.Vertex3F,
			d = cc.p(0, 0);
		d.x = d.y = 1;
		var e = this.originalVertex(d);
		d.x = d.y = 0;
		var d = this.originalVertex(d),
			f = e.x,
			g = d.x,
			h, k;
		f > g ? (e = cc.p(0, 0), d = cc.p(0, 1), h = cc.p(1, 0), k = cc.p(1, 1)) : (h = cc.p(0, 0), k = cc.p(0, 1), e = cc.p(1, 0), d = cc.p(1, 1), f = g);
		b.x = f - f * c;
		b.z = Math.abs(parseFloat(f * a / 4));
		a = this.originalVertex(e);
		a.x = b.x;
		a.z += b.z;
		this.setVertex(e, a);
		a = this.originalVertex(d);
		a.x = b.x;
		a.z += b.z;
		this.setVertex(d, a);
		a = this.originalVertex(h);
		a.x -= b.x;
		a.z -= b.z;
		this.setVertex(h, a);
		a = this.originalVertex(k);
		a.x -= b.x;
		a.z -= b.z;
		this.setVertex(k,
			a)
	}
});
cc.flipX3D = function(a) {
	return new cc.FlipX3D(a)
};
cc.FlipX3D.create = cc.flipX3D;
cc.FlipY3D = cc.FlipX3D.extend({
	ctor: function(a) {
		void 0 !== a ? cc.GridAction.prototype.ctor.call(this, a, cc.size(1, 1)) : cc.GridAction.prototype.ctor.call(this)
	},
	update: function(a) {
		var b = Math.PI * a;
		a = Math.sin(b);
		var c = Math.cos(b / 2),
			b = new cc.Vertex3F,
			d = cc.p(0, 0);
		d.x = d.y = 1;
		var e = this.originalVertex(d);
		d.x = d.y = 0;
		var d = this.originalVertex(d),
			f = e.y,
			g = d.y,
			h, k;
		f > g ? (e = cc.p(0, 0), d = cc.p(0, 1), h = cc.p(1, 0), k = cc.p(1, 1)) : (d = cc.p(0, 0), e = cc.p(0, 1), k = cc.p(1, 0), h = cc.p(1, 1), f = g);
		b.y = f - f * c;
		b.z = Math.abs(parseFloat(f * a) / 4);
		a = this.originalVertex(e);
		a.y = b.y;
		a.z += b.z;
		this.setVertex(e, a);
		a = this.originalVertex(d);
		a.y -= b.y;
		a.z -= b.z;
		this.setVertex(d, a);
		a = this.originalVertex(h);
		a.y = b.y;
		a.z += b.z;
		this.setVertex(h, a);
		a = this.originalVertex(k);
		a.y -= b.y;
		a.z -= b.z;
		this.setVertex(k, a)
	}
});
cc.flipY3D = function(a) {
	return new cc.FlipY3D(a)
};
cc.FlipY3D.create = cc.flipY3D;
cc.Lens3D = cc.Grid3DAction.extend({
	_position: null,
	_radius: 0,
	_lensEffect: 0,
	_concave: !1,
	_dirty: !1,
	ctor: function(a, b, c, d) {
		cc.GridAction.prototype.ctor.call(this);
		this._position = cc.p(0, 0);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	getLensEffect: function() {
		return this._lensEffect
	},
	setLensEffect: function(a) {
		this._lensEffect = a
	},
	setConcave: function(a) {
		this._concave = a
	},
	getPosition: function() {
		return this._position
	},
	setPosition: function(a) {
		cc.pointEqualToPoint(a, this._position) || (this._position.x = a.x, this._position.y =
			a.y, this._dirty = !0)
	},
	initWithDuration: function(a, b, c, d) {
		return cc.Grid3DAction.prototype.initWithDuration.call(this, a, b) ? (this.setPosition(c), this._radius = d, this._lensEffect = 0.7, this._dirty = !0) : !1
	},
	update: function(a) {
		if (this._dirty) {
			a = this._gridSize.width;
			for (var b = this._gridSize.height, c = this._radius, d = this._lensEffect, e = cc.p(0, 0), f = cc.p(0, 0), g, h, k, m = 0; m < a + 1; ++m)
				for (var n = 0; n < b + 1; ++n) e.x = m, e.y = n, g = this.originalVertex(e), f.x = this._position.x - g.x, f.y = this._position.y - g.y, h = cc.pLength(f), h < c && (h = c -
					h, h /= c, 0 === h && (h = 0.001), h = Math.log(h) * d, k = Math.exp(h) * c, h = cc.pLength(f), 0 < h && (f.x /= h, f.y /= h, f.x *= k, f.y *= k, g.z += cc.pLength(f) * d)), this.setVertex(e, g);
			this._dirty = !1
		}
	}
});
cc.lens3D = function(a, b, c, d) {
	return new cc.Lens3D(a, b, c, d)
};
cc.Lens3D.create = cc.lens3D;
cc.Ripple3D = cc.Grid3DAction.extend({
	_position: null,
	_radius: 0,
	_waves: 0,
	_amplitude: 0,
	_amplitudeRate: 0,
	ctor: function(a, b, c, d, e, f) {
		cc.GridAction.prototype.ctor.call(this);
		this._position = cc.p(0, 0);
		void 0 !== f && this.initWithDuration(a, b, c, d, e, f)
	},
	getPosition: function() {
		return this._position
	},
	setPosition: function(a) {
		this._position.x = a.x;
		this._position.y = a.y
	},
	getAmplitude: function() {
		return this._amplitude
	},
	setAmplitude: function(a) {
		this._amplitude = a
	},
	getAmplitudeRate: function() {
		return this._amplitudeRate
	},
	setAmplitudeRate: function(a) {
		this._amplitudeRate = a
	},
	initWithDuration: function(a, b, c, d, e, f) {
		return cc.Grid3DAction.prototype.initWithDuration.call(this, a, b) ? (this.setPosition(c), this._radius = d, this._waves = e, this._amplitude = f, this._amplitudeRate = 1, !0) : !1
	},
	update: function(a) {
		for (var b = this._gridSize.width, c = this._gridSize.height, d = cc.p(0, 0), e = this._radius, f = this._waves, g = this._amplitude, h = this._amplitudeRate, k, m, n = cc.p(0, 0), p = 0; p < b + 1; ++p)
			for (var r = 0; r < c + 1; ++r) {
				d.x = p;
				d.y = r;
				k = this.originalVertex(d);
				n.x =
					this._position.x - k.x;
				n.y = this._position.y - k.y;
				m = cc.pLength(n);
				if (m < e) {
					m = e - m;
					var t = Math.pow(m / e, 2);
					k.z += Math.sin(a * Math.PI * f * 2 + 0.1 * m) * g * h * t
				}
				this.setVertex(d, k)
			}
	}
});
cc.ripple3D = function(a, b, c, d, e, f) {
	return new cc.Ripple3D(a, b, c, d, e, f)
};
cc.Ripple3D.create = cc.ripple3D;
cc.Shaky3D = cc.Grid3DAction.extend({
	_randRange: 0,
	_shakeZ: !1,
	ctor: function(a, b, c, d) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	initWithDuration: function(a, b, c, d) {
		return cc.Grid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._randRange = c, this._shakeZ = d, !0) : !1
	},
	update: function(a) {
		a = this._gridSize.width;
		for (var b = this._gridSize.height, c = this._randRange, d = this._shakeZ, e = cc.p(0, 0), f, g = 0; g < a + 1; ++g)
			for (var h = 0; h < b + 1; ++h) e.x = g, e.y = h, f = this.originalVertex(e),
				f.x += cc.rand() % (2 * c) - c, f.y += cc.rand() % (2 * c) - c, d && (f.z += cc.rand() % (2 * c) - c), this.setVertex(e, f)
	}
});
cc.shaky3D = function(a, b, c, d) {
	return new cc.Shaky3D(a, b, c, d)
};
cc.Shaky3D.create = cc.shaky3D;
cc.Liquid = cc.Grid3DAction.extend({
	_waves: 0,
	_amplitude: 0,
	_amplitudeRate: 0,
	ctor: function(a, b, c, d) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	getAmplitude: function() {
		return this._amplitude
	},
	setAmplitude: function(a) {
		this._amplitude = a
	},
	getAmplitudeRate: function() {
		return this._amplitudeRate
	},
	setAmplitudeRate: function(a) {
		this._amplitudeRate = a
	},
	initWithDuration: function(a, b, c, d) {
		return cc.Grid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._waves = c, this._amplitude =
			d, this._amplitudeRate = 1, !0) : !1
	},
	update: function(a) {
		for (var b = this._gridSize.width, c = this._gridSize.height, d = cc.p(0, 0), e = this._waves, f = this._amplitude, g = this._amplitudeRate, h, k = 1; k < b; ++k)
			for (var m = 1; m < c; ++m) d.x = k, d.y = m, h = this.originalVertex(d), h.x += Math.sin(a * Math.PI * e * 2 + 0.01 * h.x) * f * g, h.y += Math.sin(a * Math.PI * e * 2 + 0.01 * h.y) * f * g, this.setVertex(d, h)
	}
});
cc.liquid = function(a, b, c, d) {
	return new cc.Liquid(a, b, c, d)
};
cc.Liquid.create = cc.liquid;
cc.Waves = cc.Grid3DAction.extend({
	_waves: 0,
	_amplitude: 0,
	_amplitudeRate: 0,
	_vertical: !1,
	_horizontal: !1,
	ctor: function(a, b, c, d, e, f) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== f && this.initWithDuration(a, b, c, d, e, f)
	},
	getAmplitude: function() {
		return this._amplitude
	},
	setAmplitude: function(a) {
		this._amplitude = a
	},
	getAmplitudeRate: function() {
		return this._amplitudeRate
	},
	setAmplitudeRate: function(a) {
		this._amplitudeRate = a
	},
	initWithDuration: function(a, b, c, d, e, f) {
		return cc.Grid3DAction.prototype.initWithDuration.call(this,
			a, b) ? (this._waves = c, this._amplitude = d, this._amplitudeRate = 1, this._horizontal = e, this._vertical = f, !0) : !1
	},
	update: function(a) {
		for (var b = this._gridSize.width, c = this._gridSize.height, d = cc.p(0, 0), e = this._vertical, f = this._horizontal, g = this._waves, h = this._amplitude, k = this._amplitudeRate, m, n = 0; n < b + 1; ++n)
			for (var p = 0; p < c + 1; ++p) d.x = n, d.y = p, m = this.originalVertex(d), e && (m.x += Math.sin(a * Math.PI * g * 2 + 0.01 * m.y) * h * k), f && (m.y += Math.sin(a * Math.PI * g * 2 + 0.01 * m.x) * h * k), this.setVertex(d, m)
	}
});
cc.waves = function(a, b, c, d, e, f) {
	return new cc.Waves(a, b, c, d, e, f)
};
cc.Waves.create = cc.waves;
cc.Twirl = cc.Grid3DAction.extend({
	_position: null,
	_twirls: 0,
	_amplitude: 0,
	_amplitudeRate: 0,
	ctor: function(a, b, c, d, e) {
		cc.GridAction.prototype.ctor.call(this);
		this._position = cc.p(0, 0);
		void 0 !== e && this.initWithDuration(a, b, c, d, e)
	},
	getPosition: function() {
		return this._position
	},
	setPosition: function(a) {
		this._position.x = a.x;
		this._position.y = a.y
	},
	getAmplitude: function() {
		return this._amplitude
	},
	setAmplitude: function(a) {
		this._amplitude = a
	},
	getAmplitudeRate: function() {
		return this._amplitudeRate
	},
	setAmplitudeRate: function(a) {
		this._amplitudeRate =
			a
	},
	initWithDuration: function(a, b, c, d, e) {
		return cc.Grid3DAction.prototype.initWithDuration.call(this, a, b) ? (this.setPosition(c), this._twirls = d, this._amplitude = e, this._amplitudeRate = 1, !0) : !1
	},
	update: function(a) {
		for (var b = this._position, c = this._gridSize.width, d = this._gridSize.height, e = cc.p(0, 0), f = 0.1 * this._amplitude * this._amplitudeRate, g = this._twirls, h, k, m, n = cc.p(0, 0), p = 0; p < c + 1; ++p)
			for (var r = 0; r < d + 1; ++r) e.x = p, e.y = r, h = this.originalVertex(e), n.x = p - c / 2, n.y = r - d / 2, k = cc.pLength(n) * Math.cos(Math.PI / 2 + a * Math.PI *
				g * 2) * f, m = Math.sin(k) * (h.y - b.y) + Math.cos(k) * (h.x - b.x), k = Math.cos(k) * (h.y - b.y) - Math.sin(k) * (h.x - b.x), h.x = b.x + m, h.y = b.y + k, this.setVertex(e, h)
	}
});
cc.twirl = function(a, b, c, d, e) {
	return new cc.Twirl(a, b, c, d, e)
};
cc.Twirl.create = cc.twirl;
cc.ShakyTiles3D = cc.TiledGrid3DAction.extend({
	_randRange: 0,
	_shakeZ: !1,
	ctor: function(a, b, c, d) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	initWithDuration: function(a, b, c, d) {
		return cc.TiledGrid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._randRange = c, this._shakeZ = d, !0) : !1
	},
	update: function(a) {
		a = this._gridSize;
		for (var b = this._randRange, c = cc.p(0, 0), d = 0; d < a.width; ++d)
			for (var e = 0; e < a.height; ++e) {
				c.x = d;
				c.y = e;
				var f = this.originalTile(c);
				f.bl.x += cc.rand() % (2 *
					b) - b;
				f.br.x += cc.rand() % (2 * b) - b;
				f.tl.x += cc.rand() % (2 * b) - b;
				f.tr.x += cc.rand() % (2 * b) - b;
				f.bl.y += cc.rand() % (2 * b) - b;
				f.br.y += cc.rand() % (2 * b) - b;
				f.tl.y += cc.rand() % (2 * b) - b;
				f.tr.y += cc.rand() % (2 * b) - b;
				this._shakeZ && (f.bl.z += cc.rand() % (2 * b) - b, f.br.z += cc.rand() % (2 * b) - b, f.tl.z += cc.rand() % (2 * b) - b, f.tr.z += cc.rand() % (2 * b) - b);
				this.setTile(c, f)
			}
	}
});
cc.shakyTiles3D = function(a, b, c, d) {
	return new cc.ShakyTiles3D(a, b, c, d)
};
cc.ShakyTiles3D.create = cc.shakyTiles3D;
cc.ShatteredTiles3D = cc.TiledGrid3DAction.extend({
	_randRange: 0,
	_once: !1,
	_shatterZ: !1,
	ctor: function(a, b, c, d) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	initWithDuration: function(a, b, c, d) {
		return cc.TiledGrid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._once = !1, this._randRange = c, this._shatterZ = d, !0) : !1
	},
	update: function(a) {
		if (!1 === this._once) {
			a = this._gridSize;
			for (var b = this._randRange, c, d = cc.p(0, 0), e = 0; e < a.width; ++e)
				for (var f = 0; f < a.height; ++f) d.x = e,
					d.y = f, c = this.originalTile(d), c.bl.x += cc.rand() % (2 * b) - b, c.br.x += cc.rand() % (2 * b) - b, c.tl.x += cc.rand() % (2 * b) - b, c.tr.x += cc.rand() % (2 * b) - b, c.bl.y += cc.rand() % (2 * b) - b, c.br.y += cc.rand() % (2 * b) - b, c.tl.y += cc.rand() % (2 * b) - b, c.tr.y += cc.rand() % (2 * b) - b, this._shatterZ && (c.bl.z += cc.rand() % (2 * b) - b, c.br.z += cc.rand() % (2 * b) - b, c.tl.z += cc.rand() % (2 * b) - b, c.tr.z += cc.rand() % (2 * b) - b), this.setTile(d, c);
			this._once = !0
		}
	}
});
cc.shatteredTiles3D = function(a, b, c, d) {
	return new cc.ShatteredTiles3D(a, b, c, d)
};
cc.ShatteredTiles3D.create = cc.shatteredTiles3D;
cc.Tile = function(a, b, c) {
	this.position = a || cc.p(0, 0);
	this.startPosition = b || cc.p(0, 0);
	this.delta = c || cc.p(0, 0)
};
cc.ShuffleTiles = cc.TiledGrid3DAction.extend({
	_seed: 0,
	_tilesCount: 0,
	_tilesOrder: null,
	_tiles: null,
	ctor: function(a, b, c) {
		cc.GridAction.prototype.ctor.call(this);
		this._tilesOrder = [];
		this._tiles = [];
		void 0 !== c && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		return cc.TiledGrid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._seed = c, this._tilesOrder.length = 0, this._tiles.length = 0, !0) : !1
	},
	shuffle: function(a, b) {
		for (var c = b - 1; 0 <= c; c--) {
			var d = 0 | cc.rand() % (c + 1),
				e = a[c];
			a[c] = a[d];
			a[d] = e
		}
	},
	getDelta: function(a) {
		var b = this._gridSize,
			c = a.width * b.height + a.height;
		return cc.size(this._tilesOrder[c] / b.height - a.width, this._tilesOrder[c] % b.height - a.height)
	},
	placeTile: function(a, b) {
		var c = this.originalTile(a),
			d = this.target.grid.getStep(),
			e = b.position;
		c.bl.x += e.x * d.x;
		c.bl.y += e.y * d.y;
		c.br.x += e.x * d.x;
		c.br.y += e.y * d.y;
		c.tl.x += e.x * d.x;
		c.tl.y += e.y * d.y;
		c.tr.x += e.x * d.x;
		c.tr.y += e.y * d.y;
		this.setTile(a, c)
	},
	startWithTarget: function(a) {
		cc.TiledGrid3DAction.prototype.startWithTarget.call(this, a);
		a = this._gridSize;
		this._tilesCount = a.width * a.height;
		for (var b = this._tilesOrder, c = b.length = 0; c < this._tilesCount; ++c) b[c] = c;
		this.shuffle(b, this._tilesCount);
		for (var b = this._tiles, c = b.length = 0, d = cc.size(0, 0), e = 0; e < a.width; ++e)
			for (var f = 0; f < a.height; ++f) b[c] = new cc.Tile, b[c].position = cc.p(e, f), b[c].startPosition = cc.p(e, f), d.width = e, d.height = f, b[c].delta = this.getDelta(d), ++c
	},
	update: function(a) {
		for (var b = 0, c = this._gridSize, d = this._tiles, e, f = cc.p(0, 0), g = 0; g < c.width; ++g)
			for (var h = 0; h < c.height; ++h) f.x = g, f.y = h, e = d[b], e.position.x =
				e.delta.width * a, e.position.y = e.delta.height * a, this.placeTile(f, e), ++b
	}
});
cc.shuffleTiles = function(a, b, c) {
	return new cc.ShuffleTiles(a, b, c)
};
cc.ShuffleTiles.create = cc.shuffleTiles;
cc.FadeOutTRTiles = cc.TiledGrid3DAction.extend({
	testFunc: function(a, b) {
		var c = this._gridSize.width * b,
			d = this._gridSize.height * b;
		return c === this._gridSize.width && d === this._gridSize.height ? 0 : 0 === c + d ? 1 : Math.pow((a.x + a.y) / (c + d), 6)
	},
	turnOnTile: function(a) {
		this.setTile(a, this.originalTile(a))
	},
	turnOffTile: function(a) {
		this.setTile(a, new cc.Quad3)
	},
	transformTile: function(a, b) {
		var c = this.originalTile(a),
			d = this.target.grid.getStep();
		c.bl.x += d.x / 2 * (1 - b);
		c.bl.y += d.y / 2 * (1 - b);
		c.br.x -= d.x / 2 * (1 - b);
		c.br.y += d.y / 2 * (1 -
			b);
		c.tl.x += d.x / 2 * (1 - b);
		c.tl.y -= d.y / 2 * (1 - b);
		c.tr.x -= d.x / 2 * (1 - b);
		c.tr.y -= d.y / 2 * (1 - b);
		this.setTile(a, c)
	},
	update: function(a) {
		for (var b = this._gridSize, c = cc.p(0, 0), d, e = 0; e < b.width; ++e)
			for (var f = 0; f < b.height; ++f) c.x = e, c.y = f, d = this.testFunc(c, a), 0 === d ? this.turnOffTile(c) : 1 > d ? this.transformTile(c, d) : this.turnOnTile(c)
	}
});
cc.fadeOutTRTiles = function(a, b) {
	return new cc.FadeOutTRTiles(a, b)
};
cc.FadeOutTRTiles.create = cc.fadeOutTRTiles;
cc.FadeOutBLTiles = cc.FadeOutTRTiles.extend({
	testFunc: function(a, b) {
		var c = this._gridSize.width * (1 - b),
			d = this._gridSize.height * (1 - b);
		return 0 === c + d ? 0 : 0 === a.x + a.y ? 1 : Math.pow((c + d) / (a.x + a.y), 6)
	}
});
cc.fadeOutBLTiles = function(a, b) {
	return new cc.FadeOutBLTiles(a, b)
};
cc.FadeOutBLTiles.create = cc.fadeOutBLTiles;
cc.FadeOutUpTiles = cc.FadeOutTRTiles.extend({
	testFunc: function(a, b) {
		var c = this._gridSize.height * b;
		return c === this._gridSize.height ? 0 : 0 === c ? 1 : Math.pow(a.y / c, 6)
	},
	transformTile: function(a, b) {
		var c = this.originalTile(a),
			d = this.target.grid.getStep();
		c.bl.y += d.y / 2 * (1 - b);
		c.br.y += d.y / 2 * (1 - b);
		c.tl.y -= d.y / 2 * (1 - b);
		c.tr.y -= d.y / 2 * (1 - b);
		this.setTile(a, c)
	}
});
cc.fadeOutUpTiles = function(a, b) {
	return new cc.FadeOutUpTiles(a, b)
};
cc.FadeOutUpTiles.create = cc.fadeOutUpTiles;
cc.FadeOutDownTiles = cc.FadeOutUpTiles.extend({
	testFunc: function(a, b) {
		var c = this._gridSize.height * (1 - b);
		return 0 === c ? 0 : 0 === a.y ? 1 : Math.pow(c / a.y, 6)
	}
});
cc.fadeOutDownTiles = function(a, b) {
	return new cc.FadeOutDownTiles(a, b)
};
cc.FadeOutDownTiles.create = cc.fadeOutDownTiles;
cc.TurnOffTiles = cc.TiledGrid3DAction.extend({
	_seed: null,
	_tilesCount: 0,
	_tilesOrder: null,
	ctor: function(a, b, c) {
		cc.GridAction.prototype.ctor.call(this);
		this._tilesOrder = [];
		void 0 !== b && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		return cc.TiledGrid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._seed = c || 0, this._tilesOrder.length = 0, !0) : !1
	},
	shuffle: function(a, b) {
		for (var c = b - 1; 0 <= c; c--) {
			var d = 0 | cc.rand() % (c + 1),
				e = a[c];
			a[c] = a[d];
			a[d] = e
		}
	},
	turnOnTile: function(a) {
		this.setTile(a, this.originalTile(a))
	},
	turnOffTile: function(a) {
		this.setTile(a, new cc.Quad3)
	},
	startWithTarget: function(a) {
		cc.TiledGrid3DAction.prototype.startWithTarget.call(this, a);
		this._tilesCount = this._gridSize.width * this._gridSize.height;
		a = this._tilesOrder;
		for (var b = a.length = 0; b < this._tilesCount; ++b) a[b] = b;
		this.shuffle(a, this._tilesCount)
	},
	update: function(a) {
		a = 0 | a * this._tilesCount;
		for (var b = this._gridSize, c, d = cc.p(0, 0), e = this._tilesOrder, f = 0; f < this._tilesCount; f++) c = e[f], d.x = 0 | c / b.height, d.y = c % (0 | b.height), f < a ? this.turnOffTile(d) : this.turnOnTile(d)
	}
});
cc.turnOffTiles = function(a, b, c) {
	return new cc.TurnOffTiles(a, b, c)
};
cc.TurnOffTiles.create = cc.turnOffTiles;
cc.WavesTiles3D = cc.TiledGrid3DAction.extend({
	_waves: 0,
	_amplitude: 0,
	_amplitudeRate: 0,
	ctor: function(a, b, c, d) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	getAmplitude: function() {
		return this._amplitude
	},
	setAmplitude: function(a) {
		this._amplitude = a
	},
	getAmplitudeRate: function() {
		return this._amplitudeRate
	},
	setAmplitudeRate: function(a) {
		this._amplitudeRate = a
	},
	initWithDuration: function(a, b, c, d) {
		return cc.TiledGrid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._waves =
			c, this._amplitude = d, this._amplitudeRate = 1, !0) : !1
	},
	update: function(a) {
		for (var b = this._gridSize, c = this._waves, d = this._amplitude, e = this._amplitudeRate, f = cc.p(0, 0), g, h = 0; h < b.width; h++)
			for (var k = 0; k < b.height; k++) f.x = h, f.y = k, g = this.originalTile(f), g.bl.z = Math.sin(a * Math.PI * c * 2 + 0.01 * (g.bl.y + g.bl.x)) * d * e, g.br.z = g.bl.z, g.tl.z = g.bl.z, g.tr.z = g.bl.z, this.setTile(f, g)
	}
});
cc.wavesTiles3D = function(a, b, c, d) {
	return new cc.WavesTiles3D(a, b, c, d)
};
cc.WavesTiles3D.create = cc.wavesTiles3D;
cc.JumpTiles3D = cc.TiledGrid3DAction.extend({
	_jumps: 0,
	_amplitude: 0,
	_amplitudeRate: 0,
	ctor: function(a, b, c, d) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== d && this.initWithDuration(a, b, c, d)
	},
	getAmplitude: function() {
		return this._amplitude
	},
	setAmplitude: function(a) {
		this._amplitude = a
	},
	getAmplitudeRate: function() {
		return this._amplitudeRate
	},
	setAmplitudeRate: function(a) {
		this._amplitudeRate = a
	},
	initWithDuration: function(a, b, c, d) {
		return cc.TiledGrid3DAction.prototype.initWithDuration.call(this, a, b) ? (this._jumps =
			c, this._amplitude = d, this._amplitudeRate = 1, !0) : !1
	},
	update: function(a) {
		var b = Math.sin(Math.PI * a * this._jumps * 2) * this._amplitude * this._amplitudeRate;
		a = Math.sin(Math.PI * (a * this._jumps * 2 + 1)) * this._amplitude * this._amplitudeRate;
		for (var c = this._gridSize, d = this.target.grid, e, f = cc.p(0, 0), g = 0; g < c.width; g++)
			for (var h = 0; h < c.height; h++) f.x = g, f.y = h, e = d.originalTile(f), 0 === (g + h) % 2 ? (e.bl.z += b, e.br.z += b, e.tl.z += b, e.tr.z += b) : (e.bl.z += a, e.br.z += a, e.tl.z += a, e.tr.z += a), d.setTile(f, e)
	}
});
cc.jumpTiles3D = function(a, b, c, d) {
	return new cc.JumpTiles3D(a, b, c, d)
};
cc.JumpTiles3D.create = cc.jumpTiles3D;
cc.SplitRows = cc.TiledGrid3DAction.extend({
	_rows: 0,
	_winSize: null,
	ctor: function(a, b) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		this._rows = b;
		return cc.TiledGrid3DAction.prototype.initWithDuration.call(this, a, cc.size(1, b))
	},
	update: function(a) {
		for (var b = this._gridSize, c = this._winSize.width, d, e, f = cc.p(0, 0), g = 0; g < b.height; ++g) f.y = g, d = this.originalTile(f), e = 1, 0 === g % 2 && (e = -1), d.bl.x += e * c * a, d.br.x += e * c * a, d.tl.x += e * c * a, d.tr.x += e * c * a, this.setTile(f,
			d)
	},
	startWithTarget: function(a) {
		cc.TiledGrid3DAction.prototype.startWithTarget.call(this, a);
		this._winSize = cc.director.getWinSizeInPixels()
	}
});
cc.splitRows = function(a, b) {
	return new cc.SplitRows(a, b)
};
cc.SplitRows.create = cc.splitRows;
cc.SplitCols = cc.TiledGrid3DAction.extend({
	_cols: 0,
	_winSize: null,
	ctor: function(a, b) {
		cc.GridAction.prototype.ctor.call(this);
		void 0 !== b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		this._cols = b;
		return cc.TiledGrid3DAction.prototype.initWithDuration.call(this, a, cc.size(b, 1))
	},
	update: function(a) {
		for (var b = this._gridSize.width, c = this._winSize.height, d, e, f = cc.p(0, 0), g = 0; g < b; ++g) f.x = g, d = this.originalTile(f), e = 1, 0 === g % 2 && (e = -1), d.bl.y += e * c * a, d.br.y += e * c * a, d.tl.y += e * c * a, d.tr.y += e * c * a, this.setTile(f,
			d);
		cc.renderer.childrenOrderDirty = !0
	},
	startWithTarget: function(a) {
		cc.TiledGrid3DAction.prototype.startWithTarget.call(this, a);
		this._winSize = cc.director.getWinSizeInPixels()
	}
});
cc.splitCols = function(a, b) {
	return new cc.SplitCols(a, b)
};
cc.SplitCols.create = cc.splitCols;
cc.PageTurn3D = cc.Grid3DAction.extend({
	getGrid: function() {
		var a = new cc.Grid3D(this._gridSize, void 0, void 0, this._gridNodeTarget.getGridRect());
		a.setNeedDepthTestForBlit(!0);
		return a
	},
	clone: function() {
		var a = new cc.PageTurn3D;
		a.initWithDuration(this._duration, this._gridSize);
		return a
	},
	update: function(a) {
		var b = Math.max(0, a - 0.25),
			b = -100 - b * b * 500,
			c = Math.sqrt(a),
			d = 0.5 < c ? Math.PI / 2 * c : Math.PI / 2 * (1 - c);
		a = (2 - a) * Math.PI;
		for (var c = Math.sin(d), d = Math.cos(d), e = this._gridSize, f = cc.p(0, 0), g = 0; g <= e.width; ++g)
			for (var h =
					0; h <= e.height; ++h) {
				f.x = g;
				f.y = h;
				var k = this.getOriginalVertex(f);
				k.x -= this.getGridRect().x;
				var m = Math.sqrt(k.x * k.x + (k.y - b) * (k.y - b)),
					n = m * c,
					p = Math.asin(k.x / m) / c,
					r = Math.cos(p);
				k.x = p <= Math.PI ? n * Math.sin(p) : 0;
				k.y = m + b - n * (1 - r) * c;
				k.z = n * (1 - r) * d;
				k.x = k.z * Math.sin(a) + k.x * Math.cos(a);
				k.z = k.z * Math.cos(a) - k.x * Math.cos(a);
				k.z /= 7;
				0.5 > k.z && (k.z = 0.5);
				k.x += this.getGridRect().x;
				this.setVertex(f, k)
			}
	}
});
cc.pageTurn3D = function(a, b) {
	return new cc.PageTurn3D(a, b)
};
cc.PageTurn3D.create = cc.pageTurn3D;
cc.ProgressTimer = cc.Node.extend({
	_type: null,
	_percentage: 0,
	_sprite: null,
	_midPoint: null,
	_barChangeRate: null,
	_reverseDirection: !1,
	_className: "ProgressTimer",
	ctor: function(a) {
		cc.Node.prototype.ctor.call(this);
		this._type = cc.ProgressTimer.TYPE_RADIAL;
		this._percentage = 0;
		this._midPoint = cc.p(0, 0);
		this._barChangeRate = cc.p(0, 0);
		this._reverseDirection = !1;
		this._sprite = null;
		a && this.initWithSprite(a)
	},
	onEnter: function() {
		this._super();
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && (this._renderCmd.initCmd(), this._renderCmd._updateProgress())
	},
	cleanup: function() {
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && this._renderCmd.releaseData();
		this._super()
	},
	getMidpoint: function() {
		return cc.p(this._midPoint.x, this._midPoint.y)
	},
	setMidpoint: function(a) {
		this._midPoint = cc.pClamp(a, cc.p(0, 0), cc.p(1, 1))
	},
	getBarChangeRate: function() {
		return cc.p(this._barChangeRate.x, this._barChangeRate.y)
	},
	setBarChangeRate: function(a) {
		this._barChangeRate = cc.pClamp(a, cc.p(0, 0), cc.p(1, 1))
	},
	getType: function() {
		return this._type
	},
	getPercentage: function() {
		return this._percentage
	},
	getSprite: function() {
		return this._sprite
	},
	setPercentage: function(a) {
		this._percentage !== a && (this._percentage = cc.clampf(a, 0, 100), this._renderCmd._updateProgress())
	},
	setOpacityModifyRGB: function(a) {},
	isOpacityModifyRGB: function() {
		return !1
	},
	isReverseDirection: function() {
		return this._reverseDirection
	},
	setColor: function(a) {
		this._sprite.color = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.colorDirty)
	},
	setOpacity: function(a) {
		this._sprite.opacity = a;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.opacityDirty)
	},
	getColor: function() {
		return this._sprite.color
	},
	getOpacity: function() {
		return this._sprite.opacity
	},
	setReverseProgress: function(a) {
		this._reverseDirection !== a && (this._reverseDirection = a, this._renderCmd.resetVertexData())
	},
	setSprite: function(a) {
		this._sprite !== a && ((this._sprite = a) ? (this.setContentSize(a.width, a.height), a.ignoreAnchorPointForPosition(!0)) : this.setContentSize(0, 0), this._renderCmd.resetVertexData())
	},
	setType: function(a) {
		a !== this._type && (this._type = a, this._renderCmd.resetVertexData())
	},
	setReverseDirection: function(a) {
		this._reverseDirection !==
			a && (this._reverseDirection = a, this._renderCmd.resetVertexData())
	},
	initWithSprite: function(a) {
		this.percentage = 0;
		this.setAnchorPoint(0.5, 0.5);
		this._type = cc.ProgressTimer.TYPE_RADIAL;
		this._reverseDirection = !1;
		this.midPoint = cc.p(0.5, 0.5);
		this.barChangeRate = cc.p(1, 1);
		this.setSprite(a);
		this._renderCmd.resetVertexData();
		return !0
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.ProgressTimer.CanvasRenderCmd(this) : new cc.ProgressTimer.WebGLRenderCmd(this)
	}
});
_p = cc.ProgressTimer.prototype;
cc.defineGetterSetter(_p, "midPoint", _p.getMidpoint, _p.setMidpoint);
cc.defineGetterSetter(_p, "barChangeRate", _p.getBarChangeRate, _p.setBarChangeRate);
cc.defineGetterSetter(_p, "type", _p.getType, _p.setType);
cc.defineGetterSetter(_p, "percentage", _p.getPercentage, _p.setPercentage);
cc.defineGetterSetter(_p, "sprite", _p.getSprite, _p.setSprite);
cc.defineGetterSetter(_p, "reverseDir", _p.isReverseDirection, _p.setReverseDirection);
cc.ProgressTimer.create = function(a) {
	return new cc.ProgressTimer(a)
};
cc.ProgressTimer.TEXTURE_COORDS_COUNT = 4;
cc.ProgressTimer.TEXTURE_COORDS = 75;
cc.ProgressTimer.TYPE_RADIAL = 0;
cc.ProgressTimer.TYPE_BAR = 1;
cc.ProgressTo = cc.ActionInterval.extend({
	_to: 0,
	_from: 0,
	ctor: function(a, b) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._from = this._to = 0;
		void 0 !== b && this.initWithDuration(a, b)
	},
	initWithDuration: function(a, b) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._to = b, !0) : !1
	},
	clone: function() {
		var a = new cc.ProgressTo;
		a.initWithDuration(this._duration, this._to);
		return a
	},
	reverse: function() {
		cc.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");
		return null
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this,
			a);
		this._from = a.percentage
	},
	update: function(a) {
		this.target instanceof cc.ProgressTimer && (this.target.percentage = this._from + (this._to - this._from) * a)
	}
});
cc.progressTo = function(a, b) {
	return new cc.ProgressTo(a, b)
};
cc.ProgressTo.create = cc.progressTo;
cc.ProgressFromTo = cc.ActionInterval.extend({
	_to: 0,
	_from: 0,
	ctor: function(a, b, c) {
		cc.ActionInterval.prototype.ctor.call(this);
		this._from = this._to = 0;
		void 0 !== c && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._to = c, this._from = b, !0) : !1
	},
	clone: function() {
		var a = new cc.ProgressFromTo;
		a.initWithDuration(this._duration, this._from, this._to);
		return a
	},
	reverse: function() {
		return cc.progressFromTo(this._duration, this._to, this._from)
	},
	startWithTarget: function(a) {
		cc.ActionInterval.prototype.startWithTarget.call(this, a)
	},
	update: function(a) {
		this.target instanceof cc.ProgressTimer && (this.target.percentage = this._from + (this._to - this._from) * a)
	}
});
cc.progressFromTo = function(a, b, c) {
	return new cc.ProgressFromTo(a, b, c)
};
cc.ProgressFromTo.create = cc.progressFromTo;
(function() {
	cc.ProgressTimer.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._PI180 = Math.PI / 180;
		this._barRect = cc.rect(0, 0, 0, 0);
		this._origin = cc.p(0, 0);
		this._radius = 0;
		this._endAngle = this._startAngle = 270;
		this._counterClockWise = !1;
		this._canUseDirtyRegion = !0
	};
	var a = cc.ProgressTimer.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.ProgressTimer.CanvasRenderCmd;
	a.rendering = function(a, c, d) {
		a = a || cc._renderContext;
		var e = a.getContext(),
			f = this._node,
			g = f._sprite,
			h = g._renderCmd._textureCoord,
			k = g._renderCmd._displayedOpacity / 255;
		if (0 !== h.width && 0 !== h.height && g._texture && h.validRect && 0 !== k) {
			a.setTransform(this._worldTransform, c, d);
			a.setCompositeOperation(g._blendFuncStr);
			a.setGlobalAlpha(k);
			var m = g._rect,
				n = g._offsetPosition;
			c = n.x;
			d = -n.y - m.height;
			k = m.width;
			m = m.height;
			a.save();
			g._flippedX && (c = -c - k, e.scale(-1, 1));
			g._flippedY && (d = n.y, e.scale(1, -1));
			f._type === cc.ProgressTimer.TYPE_BAR ? (f = this._barRect, e.beginPath(), e.rect(f.x, f.y, f.width, f.height), e.clip(),
				e.closePath()) : f._type === cc.ProgressTimer.TYPE_RADIAL && (f = this._origin.x, n = this._origin.y, e.beginPath(), e.arc(f, n, this._radius, this._PI180 * this._startAngle, this._PI180 * this._endAngle, this._counterClockWise), e.lineTo(f, n), e.clip(), e.closePath());
			f = (g._renderCmd._textureToRender || g._texture).getHtmlElementObj();
			g._renderCmd._colorized ? e.drawImage(f, 0, 0, h.width, h.height, c, d, k, m) : e.drawImage(f, h.renderX, h.renderY, h.width, h.height, c, d, k, m);
			a.restore();
			cc.g_NumberOfDraws++
		}
	};
	a.releaseData = function() {};
	a.resetVertexData = function() {};
	a._updateProgress = function() {
		this.setDirtyFlag(cc.Node._dirtyFlags.contentDirty);
		var a = this._node,
			c = a._sprite,
			d = c.width,
			e = c.height,
			f = a._midPoint;
		if (a._type === cc.ProgressTimer.TYPE_RADIAL) {
			this._radius = Math.round(Math.sqrt(d * d + e * e));
			var g, h = !1,
				k = this._origin;
			k.x = d * f.x;
			k.y = -e * f.y;
			a._reverseDirection ? (g = 270, f = 270 - 3.6 * a._percentage) : (f = -90, g = -90 + 3.6 * a._percentage);
			c._flippedX && (k.x -= 2 * d * a._midPoint.x, f = -f - 180, g = -g - 180, h = !h);
			c._flippedY && (k.y += 2 * e * a._midPoint.y, h = !h, f = -f,
				g = -g);
			this._startAngle = f;
			this._endAngle = g;
			this._counterClockWise = h
		} else h = a._barChangeRate, k = a._percentage / 100, a = this._barRect, h = cc.size(d * (1 - h.x), e * (1 - h.y)), k = cc.size((d - h.width) * k, (e - h.height) * k), h = cc.size(h.width + k.width, h.height + k.height), g = cc.p(d * f.x, e * f.y), k = g.x - h.width / 2, 0.5 < f.x && h.width / 2 >= d - g.x && (k = d - h.width), d = g.y - h.height / 2, 0.5 < f.y && h.height / 2 >= e - g.y && (d = e - h.height), a.x = 0, e = 1, c._flippedX && (a.x -= h.width, e = -1), 0 < k && (a.x += k * e), a.y = 0, e = 1, c._flippedY && (a.y += h.height, e = -1), 0 < d && (a.y -= d * e), a.width =
			h.width, a.height = -h.height
	};
	a._syncStatus = function(a) {
		var c = this._node;
		if (c._sprite) {
			var d = cc.Node._dirtyFlags,
				e = this._dirtyFlag,
				f = a ? a._node : null;
			f && f._cascadeColorEnabled && a._dirtyFlag & d.colorDirty && (e |= d.colorDirty);
			f && f._cascadeOpacityEnabled && a._dirtyFlag & d.opacityDirty && (e |= d.opacityDirty);
			a && a._dirtyFlag & d.transformDirty && (e |= d.transformDirty);
			this._dirtyFlag = e;
			var c = c._sprite._renderCmd,
				g = c._dirtyFlag,
				f = g & d.colorDirty,
				g = g & d.opacityDirty;
			f && (c._syncDisplayColor(), c._dirtyFlag &= ~d.colorDirty,
				this._dirtyFlag &= ~d.colorDirty);
			g && (c._syncDisplayOpacity(), c._dirtyFlag &= ~d.opacityDirty, this._dirtyFlag &= ~d.opacityDirty);
			(f || g) && c._updateColor();
			e & d.transformDirty && this.transform(a);
			e & d.orderDirty && (this._dirtyFlag &= ~d.orderDirty)
		}
	};
	a.updateStatus = function() {
		var a = this._node;
		if (a._sprite) {
			var c = cc.Node._dirtyFlags,
				d = this._dirtyFlag,
				a = a._sprite._renderCmd,
				e = a._dirtyFlag,
				f = e & c.colorDirty,
				e = e & c.opacityDirty;
			f && (a._updateDisplayColor(), a._dirtyFlag ^= a._dirtyFlag & c.colorDirty, this._dirtyFlag ^= this._dirtyFlag &
				c.colorDirty);
			e && (a._updateDisplayOpacity(), a._dirtyFlag ^= a._dirtyFlag & c.opacityDirty, this._dirtyFlag ^= this._dirtyFlag & c.opacityDirty);
			(f || e) && a._updateColor();
			d & c.transformDirty && this.transform(this.getParentRenderCmd(), !0);
			d & c.contentDirty && this._notifyRegionStatus && this._notifyRegionStatus(cc.Node.CanvasRenderCmd.RegionStatus.Dirty);
			this._dirtyFlag = 0
		}
	}
})();
(function() {
	cc.ProgressTimer.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._progressDirty = this._needDraw = !0;
		this._bl = cc.p();
		this._tr = cc.p();
		this._transformUpdating = !1;
		this.initCmd()
	};
	var a = cc.ProgressTimer.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.ProgressTimer.WebGLRenderCmd;
	a.transform = function(a, c) {
		this.originTransform(a, c);
		var d = this._node._sprite;
		d._renderCmd.transform(this, c);
		var e = d._offsetPosition.x,
			f = e + d._rect.width,
			g = d._offsetPosition.y,
			d = g + d._rect.height,
			h = this._worldTransform;
		this._bl.x = e * h.a + g * h.c + h.tx;
		this._bl.y = e * h.b + g * h.d + h.ty;
		this._tr.x = f * h.a + d * h.c + h.tx;
		this._tr.y = f * h.b + d * h.d + h.ty;
		this._transformUpdating = !0;
		this._updateProgressData();
		this._transformUpdating = !1
	};
	a.rendering = function(a) {
		var c = this._node;
		a = a || cc._renderContext;
		if (0 !== this._vertexDataCount && c._sprite) {
			this._glProgramState.apply();
			this._shaderProgram._updateProjectionUniform();
			var d = c._sprite._blendFunc;
			cc.glBlendFunc(d.src, d.dst);
			cc.glBindTexture2D(c._sprite.texture);
			a.bindBuffer(a.ARRAY_BUFFER, this._vertexWebGLBuffer);
			a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
			a.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);
			a.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
			this._vertexDataDirty && (a.bufferSubData(a.ARRAY_BUFFER, 0, this._float32View), this._vertexDataDirty = !1);
			d = cc.V3F_C4B_T2F.BYTES_PER_ELEMENT;
			a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 3, a.FLOAT, !1, d, 0);
			a.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR, 4, a.UNSIGNED_BYTE, !0, d, 12);
			a.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS,
				2, a.FLOAT, !1, d, 16);
			c._type === cc.ProgressTimer.TYPE_RADIAL ? a.drawArrays(a.TRIANGLE_FAN, 0, this._vertexDataCount) : c._type === cc.ProgressTimer.TYPE_BAR && (c._reverseDirection ? (a.drawArrays(a.TRIANGLE_STRIP, 0, this._vertexDataCount / 2), a.drawArrays(a.TRIANGLE_STRIP, 4, this._vertexDataCount / 2), cc.g_NumberOfDraws++) : a.drawArrays(a.TRIANGLE_STRIP, 0, this._vertexDataCount));
			cc.g_NumberOfDraws++
		}
	};
	a._syncStatus = function(a) {
		var c = this._node;
		if (c._sprite) {
			var d = cc.Node._dirtyFlags,
				e = this._dirtyFlag,
				f = a ? a._node : null;
			f && f._cascadeColorEnabled && a._dirtyFlag & d.colorDirty && (e |= d.colorDirty);
			f && f._cascadeOpacityEnabled && a._dirtyFlag & d.opacityDirty && (e |= d.opacityDirty);
			a && a._dirtyFlag & d.transformDirty && (e |= d.transformDirty);
			this._dirtyFlag = e;
			var c = c._sprite._renderCmd,
				g = c._dirtyFlag,
				f = (e | g) & d.colorDirty,
				g = (e | g) & d.opacityDirty;
			f && (c._syncDisplayColor(), c._dirtyFlag &= ~d.colorDirty, this._dirtyFlag &= ~d.colorDirty);
			g && (c._syncDisplayOpacity(), c._dirtyFlag &= ~d.opacityDirty, this._dirtyFlag &= ~d.opacityDirty);
			(f || g) && this._updateColor();
			e & d.transformDirty && this.transform(a);
			e & d.textureDirty && (this._updateProgressData(), this._dirtyFlag &= ~d.textureDirty);
			c._dirtyFlag = 0
		}
	};
	a.updateStatus = function() {
		var a = this._node;
		if (a._sprite) {
			var c = cc.Node._dirtyFlags,
				d = this._dirtyFlag,
				a = a._sprite._renderCmd,
				e = a._dirtyFlag,
				f = (d | e) & c.colorDirty,
				e = (d | e) & c.opacityDirty;
			f && (a._updateDisplayColor(), a._dirtyFlag ^= a._dirtyFlag & c.colorDirty, this._dirtyFlag ^= this._dirtyFlag & c.colorDirty);
			e && (a._updateDisplayOpacity(), a._dirtyFlag ^= a._dirtyFlag & c.opacityDirty,
				this._dirtyFlag ^= this._dirtyFlag & c.opacityDirty);
			(f || e) && this._updateColor();
			d & c.transformDirty && this.transform(this.getParentRenderCmd(), !0);
			d & c.orderDirty && (this._dirtyFlag ^= this._dirtyFlag & c.orderDirty);
			d & c.textureDirty && (this._updateProgressData(), this._dirtyFlag ^= this._dirtyFlag & c.textureDirty)
		}
	};
	a.releaseData = function() {
		if (this._vertexData) {
			var a = this._vertexWebGLBuffer;
			setTimeout(function() {
				cc._renderContext.deleteBuffer(a)
			}, 0.1);
			this._vertexArrayBuffer = this._float32View = this._vertexData = this._vertexWebGLBuffer =
				null;
			this._vertexDataCount = 0
		}
	};
	a.initCmd = function() {
		if (!this._vertexData) {
			this._vertexWebGLBuffer = cc._renderContext.createBuffer();
			var a = cc.V3F_C4B_T2F.BYTES_PER_ELEMENT;
			this._vertexArrayBuffer = new ArrayBuffer(8 * a);
			this._float32View = new Float32Array(this._vertexArrayBuffer);
			this._vertexData = [];
			for (var c = 0; 8 > c; c++) this._vertexData[c] = new cc.V3F_C4B_T2F(null, null, null, this._vertexArrayBuffer, c * a);
			gl.bindBuffer(gl.ARRAY_BUFFER, this._vertexWebGLBuffer);
			gl.bufferData(gl.ARRAY_BUFFER, this._float32View,
				gl.DYNAMIC_DRAW);
			this._vertexDataCount = 0;
			this._vertexDataDirty = !0;
			this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)
		}
	};
	a.resetVertexData = function() {
		this._vertexDataCount = 0
	};
	a._updateProgressData = function() {
		var a = this._node._type;
		a === cc.ProgressTimer.TYPE_RADIAL ? this._updateRadial() : a === cc.ProgressTimer.TYPE_BAR && this._updateBar();
		this._vertexDataDirty = !0
	};
	a._updateProgress = function() {
		this.setDirtyFlag(cc.Node._dirtyFlags.textureDirty)
	};
	a._updateBar = function() {
		var a =
			this._node;
		if (a._sprite) {
			var c = a._percentage / 100,
				d = a._barChangeRate,
				d = cc.pMult(cc.p(1 - d.x + c * d.x, 1 - d.y + c * d.y), 0.5),
				c = cc.pSub(a._midPoint, d),
				a = cc.pAdd(a._midPoint, d);
			0 > c.x && (a.x += -c.x, c.x = 0);
			1 < a.x && (c.x -= a.x - 1, a.x = 1);
			0 > c.y && (a.y += -c.y, c.y = 0);
			1 < a.y && (c.y -= a.y - 1, a.y = 1);
			this._reverseDirection ? (d = this._vertexData, this._vertexDataCount || (this._vertexDataCount = 8, this._textureCoordFromAlphaPoint(d[0].texCoords, 0, 1), this._vertexFromAlphaPoint(d[0].vertices, 0, 1), this._textureCoordFromAlphaPoint(d[1].texCoords,
				0, 0), this._vertexFromAlphaPoint(d[1].vertices, 0, 0), this._textureCoordFromAlphaPoint(d[6].texCoords, 1, 1), this._vertexFromAlphaPoint(d[6].vertices, 1, 1), this._textureCoordFromAlphaPoint(d[7].texCoords, 1, 0), this._vertexFromAlphaPoint(d[7].vertices, 1, 0)), this._textureCoordFromAlphaPoint(d[2].texCoords, c.x, a.y), this._vertexFromAlphaPoint(d[2].vertices, c.x, a.y), this._textureCoordFromAlphaPoint(d[3].texCoords, c.x, c.y), this._vertexFromAlphaPoint(d[3].vertices, c.x, c.y), this._textureCoordFromAlphaPoint(d[4].texCoords,
				a.x, a.y), this._vertexFromAlphaPoint(d[4].vertices, a.x, a.y), this._textureCoordFromAlphaPoint(d[5].texCoords, a.x, c.y), this._vertexFromAlphaPoint(d[5].vertices, a.x, c.y)) : (this._vertexDataCount || (this._vertexDataCount = 4), d = this._vertexData, this._textureCoordFromAlphaPoint(d[0].texCoords, c.x, a.y), this._vertexFromAlphaPoint(d[0].vertices, c.x, a.y), this._textureCoordFromAlphaPoint(d[1].texCoords, c.x, c.y), this._vertexFromAlphaPoint(d[1].vertices, c.x, c.y), this._textureCoordFromAlphaPoint(d[2].texCoords, a.x,
				a.y), this._vertexFromAlphaPoint(d[2].vertices, a.x, a.y), this._textureCoordFromAlphaPoint(d[3].texCoords, a.x, c.y), this._vertexFromAlphaPoint(d[3].vertices, a.x, c.y));
			this._updateColor()
		}
	};
	a._updateRadial = function() {
		var a = this._node;
		if (a._sprite) {
			var c, d = a._midPoint;
			c = a._percentage / 100;
			var e = 2 * cc.PI * (a._reverseDirection ? c : 1 - c),
				a = cc.p(d.x, 1),
				f = cc.pRotateByAngle(a, d, e),
				e = 0;
			if (0 === c) f = a, e = 0;
			else if (1 === c) f = a, e = 4;
			else {
				var g = cc.FLT_MAX,
					h = cc.ProgressTimer.TEXTURE_COORDS_COUNT;
				for (c = 0; c <= h; ++c) {
					var k = (c + (h -
							1)) % h,
						m = this._boundaryTexCoord(c % h),
						k = this._boundaryTexCoord(k);
					0 === c ? k = cc.pLerp(m, k, 1 - d.x) : 4 === c && (m = cc.pLerp(m, k, 1 - d.x));
					var n = cc.p(0, 0);
					cc.pLineIntersect(m, k, d, f, n) && (0 !== c && 4 !== c || 0 <= n.x && 1 >= n.x) && 0 <= n.y && n.y < g && (g = n.y, e = c)
				}
				f = cc.pAdd(d, cc.pMult(cc.pSub(f, d), g))
			}
			c = !0;
			this._vertexDataCount !== e + 3 && (c = !1, this._vertexDataCount = e + 3);
			this._updateColor();
			g = this._vertexData;
			if (this._transformUpdating || !c)
				for (this._textureCoordFromAlphaPoint(g[0].texCoords, d.x, d.y), this._vertexFromAlphaPoint(g[0].vertices,
						d.x, d.y), this._textureCoordFromAlphaPoint(g[1].texCoords, a.x, a.y), this._vertexFromAlphaPoint(g[1].vertices, a.x, a.y), c = 0; c < e; c++) d = this._boundaryTexCoord(c), this._textureCoordFromAlphaPoint(g[c + 2].texCoords, d.x, d.y), this._vertexFromAlphaPoint(g[c + 2].vertices, d.x, d.y);
			this._textureCoordFromAlphaPoint(g[this._vertexDataCount - 1].texCoords, f.x, f.y);
			this._vertexFromAlphaPoint(g[this._vertexDataCount - 1].vertices, f.x, f.y)
		}
	};
	a._boundaryTexCoord = function(a) {
		if (a < cc.ProgressTimer.TEXTURE_COORDS_COUNT) {
			var c =
				cc.ProgressTimer.TEXTURE_COORDS;
			return this._node._reverseDirection ? cc.p(c >> 7 - (a << 1) & 1, c >> 7 - ((a << 1) + 1) & 1) : cc.p(c >> (a << 1) + 1 & 1, c >> (a << 1) & 1)
		}
		return cc.p(0, 0)
	};
	a._textureCoordFromAlphaPoint = function(a, c, d) {
		var e = this._node._sprite;
		if (e) {
			var f = e._renderCmd._vertices,
				g = f[1],
				f = f[2],
				g = cc.p(g.u, g.v),
				f = cc.p(f.u, f.v);
			e.textureRectRotated && (e = c, c = d, d = e);
			a.u = g.x * (1 - c) + f.x * c;
			a.v = g.y * (1 - d) + f.y * d
		} else a.u = 0, a.v = 0
	};
	a._vertexFromAlphaPoint = function(a, c, d) {
		a.x = this._bl.x * (1 - c) + this._tr.x * c;
		a.y = this._bl.y * (1 - d) + this._tr.y *
			d;
		a.z = this._node._vertexZ
	};
	a._updateColor = function() {
		var a = this._node._sprite;
		if (this._vertexDataCount && a) {
			var c = this._displayedColor,
				d = a._renderCmd._displayedColor,
				e = d.r,
				f = d.g,
				d = d.b,
				g = a._renderCmd._displayedOpacity / 255;
			a._opacityModifyRGB && (e *= g, f *= g, d *= g);
			c.r = e;
			c.g = f;
			c.b = d;
			c.a = a._renderCmd._displayedOpacity;
			a = this._vertexData;
			e = 0;
			for (f = this._vertexDataCount; e < f; ++e) a[e].colors = c;
			this._vertexDataDirty = !0
		}
	}
})();
cc.SCENE_FADE = 4208917214;
cc.TRANSITION_ORIENTATION_LEFT_OVER = 0;
cc.TRANSITION_ORIENTATION_RIGHT_OVER = 1;
cc.TRANSITION_ORIENTATION_UP_OVER = 0;
cc.TRANSITION_ORIENTATION_DOWN_OVER = 1;
cc.TransitionScene = cc.Scene.extend({
	_inScene: null,
	_outScene: null,
	_duration: null,
	_isInSceneOnTop: !1,
	_isSendCleanupToScene: !1,
	_className: "TransitionScene",
	ctor: function(a, b) {
		cc.Scene.prototype.ctor.call(this);
		void 0 !== a && void 0 !== b && this.initWithDuration(a, b)
	},
	_setNewScene: function(a) {
		this.unschedule(this._setNewScene);
		a = cc.director;
		this._isSendCleanupToScene = a.isSendCleanupToScene();
		a.runScene(this._inScene);
		cc.eventManager.setEnabled(!0);
		this._outScene.visible = !0
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !0
	},
	visit: function() {
		this._isInSceneOnTop ? (this._outScene.visit(), this._inScene.visit()) : (this._inScene.visit(), this._outScene.visit());
		cc.Node.prototype.visit.call(this)
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		cc.eventManager.setEnabled(!1);
		this._outScene._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart);
		this._inScene._performRecursive(cc.Node._stateCallbackType.onEnter)
	},
	onExit: function() {
		cc.Node.prototype.onExit.call(this);
		cc.eventManager.setEnabled(!0);
		this._outScene._performRecursive(cc.Node._stateCallbackType.onExit);
		this._inScene._performRecursive(cc.Node._stateCallbackType.onEnterTransitionDidFinish)
	},
	cleanup: function() {
		cc.Node.prototype.cleanup.call(this);
		this._isSendCleanupToScene && this._outScene._performRecursive(cc.Node._stateCallbackType.cleanup)
	},
	initWithDuration: function(a, b) {
		if (!b) throw Error("cc.TransitionScene.initWithDuration(): Argument scene must be non-nil");
		if (this.init()) {
			this._duration = a;
			this.attr({
				x: 0,
				y: 0,
				anchorX: 0,
				anchorY: 0
			});
			this._inScene = b;
			this._outScene = cc.director.getRunningScene();
			this._outScene ||
				(this._outScene = new cc.Scene, this._outScene.init());
			if (this._inScene === this._outScene) throw Error("cc.TransitionScene.initWithDuration(): Incoming scene must be different from the outgoing scene");
			this._sceneOrder();
			return !0
		}
		return !1
	},
	finish: function() {
		this._inScene.attr({
			visible: !0,
			x: 0,
			y: 0,
			scale: 1,
			rotation: 0
		});
		this._outScene.attr({
			visible: !1,
			x: 0,
			y: 0,
			scale: 1,
			rotation: 0
		});
		this.schedule(this._setNewScene, 0)
	},
	hideOutShowIn: function() {
		this._inScene.visible = !0;
		this._outScene.visible = !1
	}
});
cc.TransitionScene.create = function(a, b) {
	return new cc.TransitionScene(a, b)
};
cc.TransitionSceneOriented = cc.TransitionScene.extend({
	_orientation: 0,
	ctor: function(a, b, c) {
		cc.TransitionScene.prototype.ctor.call(this);
		void 0 != c && this.initWithDuration(a, b, c)
	},
	initWithDuration: function(a, b, c) {
		cc.TransitionScene.prototype.initWithDuration.call(this, a, b) && (this._orientation = c);
		return !0
	}
});
cc.TransitionSceneOriented.create = function(a, b, c) {
	return new cc.TransitionSceneOriented(a, b, c)
};
cc.TransitionRotoZoom = cc.TransitionScene.extend({
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		this._inScene.attr({
			scale: 0.001,
			anchorX: 0.5,
			anchorY: 0.5
		});
		this._outScene.attr({
			scale: 1,
			anchorX: 0.5,
			anchorY: 0.5
		});
		var a = cc.sequence(cc.spawn(cc.scaleBy(this._duration / 2, 0.001), cc.rotateBy(this._duration / 2, 720)), cc.delayTime(this._duration / 2));
		this._outScene.runAction(a);
		this._inScene.runAction(cc.sequence(a.reverse(),
			cc.callFunc(this.finish, this)))
	}
});
cc.TransitionRotoZoom.create = function(a, b) {
	return new cc.TransitionRotoZoom(a, b)
};
cc.TransitionJumpZoom = cc.TransitionScene.extend({
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		var a = cc.director.getWinSize();
		this._inScene.attr({
			scale: 0.5,
			x: a.width,
			y: 0,
			anchorX: 0.5,
			anchorY: 0.5
		});
		this._outScene.anchorX = 0.5;
		this._outScene.anchorY = 0.5;
		var b = cc.jumpBy(this._duration / 4, cc.p(-a.width, 0), a.width / 4, 2),
			c = cc.scaleTo(this._duration / 4, 1),
			a = cc.scaleTo(this._duration / 4, 0.5),
			a = cc.sequence(a,
				b),
			b = cc.sequence(b, c),
			c = cc.delayTime(this._duration / 2);
		this._outScene.runAction(a);
		this._inScene.runAction(cc.sequence(c, b, cc.callFunc(this.finish, this)))
	}
});
cc.TransitionJumpZoom.create = function(a, b) {
	return new cc.TransitionJumpZoom(a, b)
};
cc.TransitionMoveInL = cc.TransitionScene.extend({
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		this.initScenes();
		var a = this.action();
		this._inScene.runAction(cc.sequence(this.easeActionWithAction(a), cc.callFunc(this.finish, this)))
	},
	initScenes: function() {
		this._inScene.setPosition(-cc.director.getWinSize().width, 0)
	},
	action: function() {
		return cc.moveTo(this._duration, cc.p(0, 0))
	},
	easeActionWithAction: function(a) {
		return new cc.EaseOut(a,
			2)
	}
});
cc.TransitionMoveInL.create = function(a, b) {
	return new cc.TransitionMoveInL(a, b)
};
cc.TransitionMoveInR = cc.TransitionMoveInL.extend({
	ctor: function(a, b) {
		cc.TransitionMoveInL.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	initScenes: function() {
		this._inScene.setPosition(cc.director.getWinSize().width, 0)
	}
});
cc.TransitionMoveInR.create = function(a, b) {
	return new cc.TransitionMoveInR(a, b)
};
cc.TransitionMoveInT = cc.TransitionMoveInL.extend({
	ctor: function(a, b) {
		cc.TransitionMoveInL.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	initScenes: function() {
		this._inScene.setPosition(0, cc.director.getWinSize().height)
	}
});
cc.TransitionMoveInT.create = function(a, b) {
	return new cc.TransitionMoveInT(a, b)
};
cc.TransitionMoveInB = cc.TransitionMoveInL.extend({
	ctor: function(a, b) {
		cc.TransitionMoveInL.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	initScenes: function() {
		this._inScene.setPosition(0, -cc.director.getWinSize().height)
	}
});
cc.TransitionMoveInB.create = function(a, b) {
	return new cc.TransitionMoveInB(a, b)
};
cc.ADJUST_FACTOR = 0.5;
cc.TransitionSlideInL = cc.TransitionScene.extend({
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !1
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		this.initScenes();
		var a = this.action(),
			b = this.action(),
			a = cc.sequence(this.easeActionWithAction(a), cc.callFunc(this.finish, this)),
			b = this.easeActionWithAction(b);
		this._inScene.runAction(a);
		this._outScene.runAction(b)
	},
	initScenes: function() {
		this._inScene.setPosition(-cc.director.getWinSize().width +
			cc.ADJUST_FACTOR, 0)
	},
	action: function() {
		return cc.moveBy(this._duration, cc.p(cc.director.getWinSize().width - cc.ADJUST_FACTOR, 0))
	},
	easeActionWithAction: function(a) {
		return new cc.EaseInOut(a, 2)
	}
});
cc.TransitionSlideInL.create = function(a, b) {
	return new cc.TransitionSlideInL(a, b)
};
cc.TransitionSlideInR = cc.TransitionSlideInL.extend({
	ctor: function(a, b) {
		cc.TransitionSlideInL.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !0
	},
	initScenes: function() {
		this._inScene.setPosition(cc.director.getWinSize().width - cc.ADJUST_FACTOR, 0)
	},
	action: function() {
		return cc.moveBy(this._duration, cc.p(-(cc.director.getWinSize().width - cc.ADJUST_FACTOR), 0))
	}
});
cc.TransitionSlideInR.create = function(a, b) {
	return new cc.TransitionSlideInR(a, b)
};
cc.TransitionSlideInB = cc.TransitionSlideInL.extend({
	ctor: function(a, b) {
		cc.TransitionSlideInL.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !1
	},
	initScenes: function() {
		this._inScene.setPosition(0, -(cc.director.getWinSize().height - cc.ADJUST_FACTOR))
	},
	action: function() {
		return cc.moveBy(this._duration, cc.p(0, cc.director.getWinSize().height - cc.ADJUST_FACTOR))
	}
});
cc.TransitionSlideInB.create = function(a, b) {
	return new cc.TransitionSlideInB(a, b)
};
cc.TransitionSlideInT = cc.TransitionSlideInL.extend({
	ctor: function(a, b) {
		cc.TransitionSlideInL.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !0
	},
	initScenes: function() {
		this._inScene.setPosition(0, cc.director.getWinSize().height - cc.ADJUST_FACTOR)
	},
	action: function() {
		return cc.moveBy(this._duration, cc.p(0, -(cc.director.getWinSize().height - cc.ADJUST_FACTOR)))
	}
});
cc.TransitionSlideInT.create = function(a, b) {
	return new cc.TransitionSlideInT(a, b)
};
cc.TransitionShrinkGrow = cc.TransitionScene.extend({
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		this._inScene.attr({
			scale: 0.001,
			anchorX: 2 / 3,
			anchorY: 0.5
		});
		this._outScene.attr({
			scale: 1,
			anchorX: 1 / 3,
			anchorY: 0.5
		});
		var a = cc.scaleTo(this._duration, 0.01),
			b = cc.scaleTo(this._duration, 1);
		this._inScene.runAction(cc.sequence(this.easeActionWithAction(b), cc.callFunc(this.finish, this)));
		this._outScene.runAction(this.easeActionWithAction(a))
	},
	easeActionWithAction: function(a) {
		return new cc.EaseOut(a, 2)
	}
});
cc.TransitionShrinkGrow.create = function(a, b) {
	return new cc.TransitionShrinkGrow(a, b)
};
cc.TransitionFade = cc.TransitionScene.extend({
	_color: null,
	ctor: function(a, b, c) {
		cc.TransitionScene.prototype.ctor.call(this);
		this._color = cc.color();
		b && this.initWithDuration(a, b, c)
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		var a = new cc.LayerColor(this._color);
		this._inScene.visible = !1;
		this.addChild(a, 2, cc.SCENE_FADE);
		var a = this.getChildByTag(cc.SCENE_FADE),
			b = cc.sequence(cc.fadeIn(this._duration / 2), cc.callFunc(this.hideOutShowIn, this), cc.fadeOut(this._duration / 2), cc.callFunc(this.finish,
				this));
		a.runAction(b)
	},
	onExit: function() {
		cc.TransitionScene.prototype.onExit.call(this);
		this.removeChildByTag(cc.SCENE_FADE, !1)
	},
	initWithDuration: function(a, b, c) {
		c = c || cc.color.BLACK;
		cc.TransitionScene.prototype.initWithDuration.call(this, a, b) && (this._color.r = c.r, this._color.g = c.g, this._color.b = c.b, this._color.a = 0);
		return !0
	}
});
cc.TransitionFade.create = function(a, b, c) {
	return new cc.TransitionFade(a, b, c)
};
cc.TransitionCrossFade = cc.TransitionScene.extend({
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		var a = cc.color(0, 0, 0, 0),
			b = cc.director.getWinSize(),
			a = new cc.LayerColor(a),
			c = new cc.RenderTexture(b.width, b.height);
		c.sprite.anchorX = 0.5;
		c.sprite.anchorY = 0.5;
		c.attr({
			x: b.width / 2,
			y: b.height / 2,
			anchorX: 0.5,
			anchorY: 0.5
		});
		c.begin();
		this._inScene.visit();
		c.end();
		var d = new cc.RenderTexture(b.width,
			b.height);
		d.setPosition(b.width / 2, b.height / 2);
		d.sprite.anchorX = d.anchorX = 0.5;
		d.sprite.anchorY = d.anchorY = 0.5;
		d.begin();
		this._outScene.visit();
		d.end();
		c.sprite.setBlendFunc(cc.ONE, cc.ONE);
		d.sprite.setBlendFunc(cc.SRC_ALPHA, cc.ONE_MINUS_SRC_ALPHA);
		a.addChild(c);
		a.addChild(d);
		c.sprite.opacity = 255;
		d.sprite.opacity = 255;
		b = cc.sequence(cc.fadeTo(this._duration, 0), cc.callFunc(this.hideOutShowIn, this), cc.callFunc(this.finish, this));
		d.sprite.runAction(b);
		this.addChild(a, 2, cc.SCENE_FADE)
	},
	onExit: function() {
		this.removeChildByTag(cc.SCENE_FADE,
			!1);
		cc.TransitionScene.prototype.onExit.call(this)
	}
});
cc.TransitionCrossFade.create = function(a, b) {
	return new cc.TransitionCrossFade(a, b)
};
cc.TransitionTurnOffTiles = cc.TransitionScene.extend({
	_gridProxy: null,
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		this._gridProxy = new cc.NodeGrid;
		b && this.initWithDuration(a, b)
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !1
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		this._gridProxy.setTarget(this._outScene);
		this._gridProxy._performRecursive(cc.Node._stateCallbackType.onEnter);
		var a = cc.director.getWinSize(),
			a = cc.turnOffTiles(this._duration, cc.size(0 | a.width /
				a.height * 12, 12)),
			a = this.easeActionWithAction(a);
		this._gridProxy.runAction(cc.sequence(a, cc.callFunc(this.finish, this), cc.stopGrid()))
	},
	visit: function() {
		this._inScene.visit();
		this._gridProxy.visit()
	},
	easeActionWithAction: function(a) {
		return a
	}
});
cc.TransitionTurnOffTiles.create = function(a, b) {
	return new cc.TransitionTurnOffTiles(a, b)
};
cc.TransitionSplitCols = cc.TransitionScene.extend({
	_gridProxy: null,
	_switchTargetToInscene: function() {
		this._gridProxy.setTarget(this._inScene)
	},
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		this._gridProxy = new cc.NodeGrid;
		b && this.initWithDuration(a, b)
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		this._gridProxy.setTarget(this._outScene);
		this._gridProxy._performRecursive(cc.Node._stateCallbackType.onEnter);
		var a = this.action(),
			a = cc.sequence(a, cc.callFunc(this._switchTargetToInscene,
				this), a.reverse());
		this._gridProxy.runAction(cc.sequence(this.easeActionWithAction(a), cc.callFunc(this.finish, this), cc.stopGrid()))
	},
	onExit: function() {
		this._gridProxy.setTarget(null);
		this._gridProxy._performRecursive(cc.Node._stateCallbackType.onExit);
		cc.TransitionScene.prototype.onExit.call(this)
	},
	visit: function() {
		this._gridProxy.visit()
	},
	easeActionWithAction: function(a) {
		return new cc.EaseInOut(a, 3)
	},
	action: function() {
		return cc.splitCols(this._duration / 2, 3)
	}
});
cc.TransitionSplitCols.create = function(a, b) {
	return new cc.TransitionSplitCols(a, b)
};
cc.TransitionSplitRows = cc.TransitionSplitCols.extend({
	ctor: function(a, b) {
		cc.TransitionSplitCols.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	action: function() {
		return cc.splitRows(this._duration / 2, 3)
	}
});
cc.TransitionSplitRows.create = function(a, b) {
	return new cc.TransitionSplitRows(a, b)
};
cc.TransitionFadeTR = cc.TransitionScene.extend({
	_gridProxy: null,
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		this._gridProxy = new cc.NodeGrid;
		b && this.initWithDuration(a, b)
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !1
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		this._gridProxy.setTarget(this._outScene);
		this._gridProxy._performRecursive(cc.Node._stateCallbackType.onEnter);
		var a = cc.director.getWinSize(),
			a = this.actionWithSize(cc.size(0 | a.width / a.height * 12, 12));
		this._gridProxy.runAction(cc.sequence(this.easeActionWithAction(a), cc.callFunc(this.finish, this), cc.stopGrid()))
	},
	visit: function() {
		this._inScene.visit();
		this._gridProxy.visit()
	},
	easeActionWithAction: function(a) {
		return a
	},
	actionWithSize: function(a) {
		return cc.fadeOutTRTiles(this._duration, a)
	}
});
cc.TransitionFadeTR.create = function(a, b) {
	return new cc.TransitionFadeTR(a, b)
};
cc.TransitionFadeBL = cc.TransitionFadeTR.extend({
	ctor: function(a, b) {
		cc.TransitionFadeTR.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	actionWithSize: function(a) {
		return cc.fadeOutBLTiles(this._duration, a)
	}
});
cc.TransitionFadeBL.create = function(a, b) {
	return new cc.TransitionFadeBL(a, b)
};
cc.TransitionFadeUp = cc.TransitionFadeTR.extend({
	ctor: function(a, b) {
		cc.TransitionFadeTR.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	actionWithSize: function(a) {
		return new cc.FadeOutUpTiles(this._duration, a)
	}
});
cc.TransitionFadeUp.create = function(a, b) {
	return new cc.TransitionFadeUp(a, b)
};
cc.TransitionFadeDown = cc.TransitionFadeTR.extend({
	ctor: function(a, b) {
		cc.TransitionFadeTR.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	actionWithSize: function(a) {
		return cc.fadeOutDownTiles(this._duration, a)
	}
});
cc.TransitionFadeDown.create = function(a, b) {
	return new cc.TransitionFadeDown(a, b)
};
cc.SCENE_RADIAL = 49153;
cc.TransitionProgress = cc.TransitionScene.extend({
	_to: 0,
	_from: 0,
	_sceneToBeModified: null,
	_className: "TransitionProgress",
	ctor: function(a, b) {
		cc.TransitionScene.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_setAttrs: function(a, b, c) {
		a.attr({
			x: b,
			y: c,
			anchorX: 0.5,
			anchorY: 0.5
		})
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		this._setupTransition();
		var a = cc.director.getWinSize(),
			b = new cc.RenderTexture(a.width, a.height);
		b.sprite.anchorX = 0.5;
		b.sprite.anchorY = 0.5;
		this._setAttrs(b,
			a.width / 2, a.height / 2);
		b.clear(0, 0, 0, 1);
		b.begin();
		this._sceneToBeModified.visit();
		b.end();
		this._sceneToBeModified === this._outScene && this.hideOutShowIn();
		a = this._progressTimerNodeWithRenderTexture(b);
		b = cc.sequence(cc.progressFromTo(this._duration, this._from, this._to), cc.callFunc(this.finish, this));
		a.runAction(b);
		this.addChild(a, 2, cc.SCENE_RADIAL)
	},
	onExit: function() {
		this.removeChildByTag(cc.SCENE_RADIAL, !0);
		cc.TransitionScene.prototype.onExit.call(this)
	},
	_setupTransition: function() {
		this._sceneToBeModified =
			this._outScene;
		this._from = 100;
		this._to = 0
	},
	_progressTimerNodeWithRenderTexture: function(a) {
		cc.log("cc.TransitionProgress._progressTimerNodeWithRenderTexture(): should be overridden in subclass");
		return null
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !1
	}
});
cc.TransitionProgress.create = function(a, b) {
	return new cc.TransitionProgress(a, b)
};
cc.TransitionProgressRadialCCW = cc.TransitionProgress.extend({
	ctor: function(a, b) {
		cc.TransitionProgress.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_progressTimerNodeWithRenderTexture: function(a) {
		var b = cc.director.getWinSize();
		a = new cc.ProgressTimer(a.sprite);
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && (a.sprite.flippedY = !0);
		a.type = cc.ProgressTimer.TYPE_RADIAL;
		a.reverseDir = !1;
		a.percentage = 100;
		this._setAttrs(a, b.width / 2, b.height / 2);
		return a
	}
});
cc.TransitionProgressRadialCCW.create = function(a, b) {
	return new cc.TransitionProgressRadialCCW(a, b)
};
cc.TransitionProgressRadialCW = cc.TransitionProgress.extend({
	ctor: function(a, b) {
		cc.TransitionProgress.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_progressTimerNodeWithRenderTexture: function(a) {
		var b = cc.director.getWinSize();
		a = new cc.ProgressTimer(a.sprite);
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && (a.sprite.flippedY = !0);
		a.type = cc.ProgressTimer.TYPE_RADIAL;
		a.reverseDir = !0;
		a.percentage = 100;
		this._setAttrs(a, b.width / 2, b.height / 2);
		return a
	}
});
cc.TransitionProgressRadialCW.create = function(a, b) {
	var c = new cc.TransitionProgressRadialCW;
	return null !== c && c.initWithDuration(a, b) ? c : new cc.TransitionProgressRadialCW(a, b)
};
cc.TransitionProgressHorizontal = cc.TransitionProgress.extend({
	ctor: function(a, b) {
		cc.TransitionProgress.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_progressTimerNodeWithRenderTexture: function(a) {
		var b = cc.director.getWinSize();
		a = new cc.ProgressTimer(a.sprite);
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && (a.sprite.flippedY = !0);
		a.type = cc.ProgressTimer.TYPE_BAR;
		a.midPoint = cc.p(1, 0);
		a.barChangeRate = cc.p(1, 0);
		a.percentage = 100;
		this._setAttrs(a, b.width / 2, b.height / 2);
		return a
	}
});
cc.TransitionProgressHorizontal.create = function(a, b) {
	return new cc.TransitionProgressHorizontal(a, b)
};
cc.TransitionProgressVertical = cc.TransitionProgress.extend({
	ctor: function(a, b) {
		cc.TransitionProgress.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_progressTimerNodeWithRenderTexture: function(a) {
		var b = cc.director.getWinSize();
		a = new cc.ProgressTimer(a.sprite);
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && (a.sprite.flippedY = !0);
		a.type = cc.ProgressTimer.TYPE_BAR;
		a.midPoint = cc.p(0, 0);
		a.barChangeRate = cc.p(0, 1);
		a.percentage = 100;
		this._setAttrs(a, b.width / 2, b.height / 2);
		return a
	}
});
cc.TransitionProgressVertical.create = function(a, b) {
	return new cc.TransitionProgressVertical(a, b)
};
cc.TransitionProgressInOut = cc.TransitionProgress.extend({
	ctor: function(a, b) {
		cc.TransitionProgress.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_progressTimerNodeWithRenderTexture: function(a) {
		var b = cc.director.getWinSize();
		a = new cc.ProgressTimer(a.sprite);
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && (a.sprite.flippedY = !0);
		a.type = cc.ProgressTimer.TYPE_BAR;
		a.midPoint = cc.p(0.5, 0.5);
		a.barChangeRate = cc.p(1, 1);
		a.percentage = 0;
		this._setAttrs(a, b.width / 2, b.height / 2);
		return a
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = !1
	},
	_setupTransition: function() {
		this._sceneToBeModified = this._inScene;
		this._from = 0;
		this._to = 100
	}
});
cc.TransitionProgressInOut.create = function(a, b) {
	return new cc.TransitionProgressInOut(a, b)
};
cc.TransitionProgressOutIn = cc.TransitionProgress.extend({
	ctor: function(a, b) {
		cc.TransitionProgress.prototype.ctor.call(this);
		b && this.initWithDuration(a, b)
	},
	_progressTimerNodeWithRenderTexture: function(a) {
		var b = cc.director.getWinSize();
		a = new cc.ProgressTimer(a.sprite);
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && (a.sprite.flippedY = !0);
		a.type = cc.ProgressTimer.TYPE_BAR;
		a.midPoint = cc.p(0.5, 0.5);
		a.barChangeRate = cc.p(1, 1);
		a.percentage = 100;
		this._setAttrs(a, b.width / 2, b.height / 2);
		return a
	}
});
cc.TransitionProgressOutIn.create = function(a, b) {
	return new cc.TransitionProgressOutIn(a, b)
};
cc.TransitionPageTurn = cc.TransitionScene.extend({
	ctor: function(a, b, c) {
		cc.TransitionScene.prototype.ctor.call(this);
		this._gridProxy = new cc.NodeGrid;
		this.initWithDuration(a, b, c)
	},
	_back: !0,
	_gridProxy: null,
	_className: "TransitionPageTurn",
	initWithDuration: function(a, b, c) {
		this._back = c;
		cc.TransitionScene.prototype.initWithDuration.call(this, a, b);
		return !0
	},
	actionWithSize: function(a) {
		return this._back ? cc.reverseTime(cc.pageTurn3D(this._duration, a)) : cc.pageTurn3D(this._duration, a)
	},
	onEnter: function() {
		cc.TransitionScene.prototype.onEnter.call(this);
		var a = cc.director.getWinSize(),
			b;
		a.width > a.height ? (a = 16, b = 12) : (a = 12, b = 16);
		a = this.actionWithSize(cc.size(a, b));
		b = this._gridProxy;
		this._back ? (b.setTarget(this._inScene), b._performRecursive(cc.Node._stateCallbackType.onEnter), this._inScene.visible = !1, b.runAction(cc.sequence(a, cc.callFunc(this.finish, this), cc.stopGrid())), this._inScene.runAction(cc.show())) : (b.setTarget(this._outScene), b._performRecursive(cc.Node._stateCallbackType.onEnter), b.runAction(cc.sequence(a, cc.callFunc(this.finish, this), cc.stopGrid())))
	},
	visit: function() {
		this._back ? this._outScene.visit() : this._inScene.visit();
		this._gridProxy.visit()
	},
	_sceneOrder: function() {
		this._isInSceneOnTop = this._back
	}
});
cc.TransitionPageTurn.create = function(a, b, c) {
	return new cc.TransitionPageTurn(a, b, c)
};
cc.Codec = {
	name: "Jacob__Codec"
};
cc.unzip = function() {
	return cc.Codec.GZip.gunzip.apply(cc.Codec.GZip, arguments)
};
cc.unzipBase64 = function() {
	var a = cc.Codec.Base64.decode.apply(cc.Codec.Base64, arguments);
	return cc.Codec.GZip.gunzip.apply(cc.Codec.GZip, [a])
};
cc.unzipBase64AsArray = function(a, b) {
	b = b || 1;
	var c = this.unzipBase64(a),
		d = [],
		e, f, g;
	e = 0;
	for (g = c.length / b; e < g; e++)
		for (d[e] = 0, f = b - 1; 0 <= f; --f) d[e] += c.charCodeAt(e * b + f) << 8 * f;
	return d
};
cc.unzipAsArray = function(a, b) {
	b = b || 1;
	var c = this.unzip(a),
		d = [],
		e, f, g;
	e = 0;
	for (g = c.length / b; e < g; e++)
		for (d[e] = 0, f = b - 1; 0 <= f; --f) d[e] += c.charCodeAt(e * b + f) << 8 * f;
	return d
};
cc.StringToArray = function(a) {
	a = a.split(",");
	var b = [],
		c;
	for (c = 0; c < a.length; c++) b.push(parseInt(a[c]));
	return b
};
cc.Codec.Base64 = {
	name: "Jacob__Codec__Base64"
};
cc.Codec.Base64._keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";
cc.Codec.Base64.decode = function(a) {
	var b = [],
		c, d, e, f, g, h = 0;
	for (a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); h < a.length;) c = this._keyStr.indexOf(a.charAt(h++)), d = this._keyStr.indexOf(a.charAt(h++)), f = this._keyStr.indexOf(a.charAt(h++)), g = this._keyStr.indexOf(a.charAt(h++)), c = c << 2 | d >> 4, d = (d & 15) << 4 | f >> 2, e = (f & 3) << 6 | g, b.push(String.fromCharCode(c)), 64 !== f && b.push(String.fromCharCode(d)), 64 !== g && b.push(String.fromCharCode(e));
	return b = b.join("")
};
cc.Codec.Base64.decodeAsArray = function(a, b) {
	var c = this.decode(a),
		d = [],
		e, f, g;
	e = 0;
	for (g = c.length / b; e < g; e++)
		for (d[e] = 0, f = b - 1; 0 <= f; --f) d[e] += c.charCodeAt(e * b + f) << 8 * f;
	return d
};
cc.uint8ArrayToUint32Array = function(a) {
	if (0 !== a.length % 4) return null;
	for (var b = a.length / 4, c = window.Uint32Array ? new Uint32Array(b) : [], d = 0; d < b; d++) {
		var e = 4 * d;
		c[d] = a[e] + 256 * a[e + 1] + 65536 * a[e + 2] + 16777216 * a[e + 3]
	}
	return c
};
cc.PNGReader = cc.Class.extend({
	ctor: function(a) {
		var b, c, d, e;
		this.data = a;
		this.pos = 8;
		this.palette = [];
		this.imgData = [];
		this.transparency = {};
		this.animation = null;
		this.text = {};
		for (d = null;;) {
			b = this.readUInt32();
			e = a = void 0;
			e = [];
			for (a = 0; 4 > a; ++a) e.push(String.fromCharCode(this.data[this.pos++]));
			a = e.join("");
			switch (a) {
				case "IHDR":
					this.width = this.readUInt32();
					this.height = this.readUInt32();
					this.bits = this.data[this.pos++];
					this.colorType = this.data[this.pos++];
					this.compressionMethod = this.data[this.pos++];
					this.filterMethod =
						this.data[this.pos++];
					this.interlaceMethod = this.data[this.pos++];
					break;
				case "acTL":
					this.animation = {
						numFrames: this.readUInt32(),
						numPlays: this.readUInt32() || Infinity,
						frames: []
					};
					break;
				case "PLTE":
					this.palette = this.read(b);
					break;
				case "fcTL":
					d && this.animation.frames.push(d);
					this.pos += 4;
					d = {
						width: this.readUInt32(),
						height: this.readUInt32(),
						xOffset: this.readUInt32(),
						yOffset: this.readUInt32()
					};
					a = this.readUInt16();
					b = this.readUInt16() || 100;
					d.delay = 1E3 * a / b;
					d.disposeOp = this.data[this.pos++];
					d.blendOp = this.data[this.pos++];
					d.data = [];
					break;
				case "IDAT":
				case "fdAT":
					"fdAT" === a && (this.pos += 4, b -= 4);
					a = (null != d ? d.data : void 0) || this.imgData;
					for (e = 0; 0 <= b ? e < b : e > b; 0 <= b ? ++e : --e) a.push(this.data[this.pos++]);
					break;
				case "tRNS":
					this.transparency = {};
					switch (this.colorType) {
						case 3:
							this.transparency.indexed = this.read(b);
							b = 255 - this.transparency.indexed.length;
							if (0 < b)
								for (a = 0; 0 <= b ? a < b : a > b; 0 <= b ? ++a : --a) this.transparency.indexed.push(255);
							break;
						case 0:
							this.transparency.grayscale = this.read(b)[0];
							break;
						case 2:
							this.transparency.rgb = this.read(b)
					}
					break;
				case "tEXt":
					e = this.read(b);
					b = e.indexOf(0);
					a = String.fromCharCode.apply(String, e.slice(0, b));
					this.text[a] = String.fromCharCode.apply(String, e.slice(b + 1));
					break;
				case "IEND":
					d && this.animation.frames.push(d);
					a: {
						switch (this.colorType) {
							case 0:
							case 3:
							case 4:
								d = 1;
								break a;
							case 2:
							case 6:
								d = 3;
								break a
						}
						d = void 0
					}
					this.colors = d;
					this.hasAlphaChannel = 4 === (c = this.colorType) || 6 === c;
					c = this.colors + (this.hasAlphaChannel ? 1 : 0);
					this.pixelBitlength = this.bits * c;
					a: {
						switch (this.colors) {
							case 1:
								c = "DeviceGray";
								break a;
							case 3:
								c = "DeviceRGB";
								break a
						}
						c = void 0
					}
					this.colorSpace = c;
					Uint8Array != Array && (this.imgData = new Uint8Array(this.imgData));
					return;
				default:
					this.pos += b
			}
			this.pos += 4;
			if (this.pos > this.data.length) throw Error("Incomplete or corrupt PNG file");
		}
	},
	read: function(a) {
		var b, c;
		c = [];
		for (b = 0; 0 <= a ? b < a : b > a; 0 <= a ? ++b : --b) c.push(this.data[this.pos++]);
		return c
	},
	readUInt32: function() {
		var a, b, c, d;
		a = this.data[this.pos++] << 24;
		b = this.data[this.pos++] << 16;
		c = this.data[this.pos++] << 8;
		d = this.data[this.pos++];
		return a | b | c | d
	},
	readUInt16: function() {
		var a,
			b;
		a = this.data[this.pos++] << 8;
		b = this.data[this.pos++];
		return a | b
	},
	decodePixels: function(a) {
		var b, c, d, e, f, g, h, k, m, n, p, r, t, u, s;
		null == a && (a = this.imgData);
		if (0 === a.length) return new Uint8Array(0);
		a = (new Zlib.Inflate(a, {
			index: 0,
			verify: !1
		})).decompress();
		k = this.pixelBitlength / 8;
		r = k * this.width;
		m = new Uint8Array(r * this.height);
		g = a.length;
		for (c = n = p = 0; n < g;) {
			switch (a[n++]) {
				case 0:
					for (b = 0; b < r; b += 1) m[c++] = a[n++];
					break;
				case 1:
					for (e = t = 0; t < r; e = t += 1) b = a[n++], f = e < k ? 0 : m[c - k], m[c++] = (b + f) % 256;
					break;
				case 2:
					for (e = f = 0; f <
						r; e = f += 1) b = a[n++], d = (e - e % k) / k, t = p && m[(p - 1) * r + d * k + e % k], m[c++] = (t + b) % 256;
					break;
				case 3:
					for (e = s = 0; s < r; e = s += 1) b = a[n++], d = (e - e % k) / k, f = e < k ? 0 : m[c - k], t = p && m[(p - 1) * r + d * k + e % k], m[c++] = (b + Math.floor((f + t) / 2)) % 256;
					break;
				case 4:
					for (e = s = 0; s < r; e = s += 1) b = a[n++], d = (e - e % k) / k, f = e < k ? 0 : m[c - k], 0 === p ? t = u = 0 : (t = m[(p - 1) * r + d * k + e % k], u = d && m[(p - 1) * r + (d - 1) * k + e % k]), h = f + t - u, e = Math.abs(h - f), d = Math.abs(h - t), h = Math.abs(h - u), f = e <= d && e <= h ? f : d <= h ? t : u, m[c++] = (b + f) % 256;
					break;
				default:
					throw Error("Invalid filter algorithm: " + a[n - 1]);
			}
			p++
		}
		return m
	},
	copyToImageData: function(a, b) {
		var c, d, e, f, g, h, k, m;
		d = this.colors;
		m = null;
		c = this.hasAlphaChannel;
		this.palette.length && (m = null != (e = this._decodedPalette) ? e : this._decodedPalette = this.decodePalette(), d = 4, c = !0);
		e = a.data || a;
		k = e.length;
		g = m || b;
		f = h = 0;
		if (1 === d)
			for (; f < k;) d = m ? 4 * b[f / 4] : h, h = g[d++], e[f++] = h, e[f++] = h, e[f++] = h, e[f++] = c ? g[d++] : 255, h = d;
		else
			for (; f < k;) d = m ? 4 * b[f / 4] : h, e[f++] = g[d++], e[f++] = g[d++], e[f++] = g[d++], e[f++] = c ? g[d++] : 255, h = d
	},
	decodePalette: function() {
		var a, b, c, d, e, f, g, h, k;
		c = this.palette;
		f = this.transparency.indexed || [];
		e = new Uint8Array((f.length || 0) + c.length);
		b = g = a = d = 0;
		for (h = c.length; g < h; b = g += 3) e[d++] = c[b], e[d++] = c[b + 1], e[d++] = c[b + 2], e[d++] = null != (k = f[a++]) ? k : 255;
		return e
	},
	render: function(a) {
		var b;
		a.width = this.width;
		a.height = this.height;
		a = a.getContext("2d");
		b = a.createImageData(this.width, this.height);
		this.copyToImageData(b, this.decodePixels());
		return a.putImageData(b, 0, 0)
	}
});
cc.tiffReader = {
	_littleEndian: !1,
	_tiffData: null,
	_fileDirectories: [],
	getUint8: function(a) {
		return this._tiffData[a]
	},
	getUint16: function(a) {
		return this._littleEndian ? this._tiffData[a + 1] << 8 | this._tiffData[a] : this._tiffData[a] << 8 | this._tiffData[a + 1]
	},
	getUint32: function(a) {
		var b = this._tiffData;
		return this._littleEndian ? b[a + 3] << 24 | b[a + 2] << 16 | b[a + 1] << 8 | b[a] : b[a] << 24 | b[a + 1] << 16 | b[a + 2] << 8 | b[a + 3]
	},
	checkLittleEndian: function() {
		var a = this.getUint16(0);
		if (18761 === a) this.littleEndian = !0;
		else if (19789 === a) this.littleEndian = !1;
		else throw console.log(a), TypeError("Invalid byte order value.");
		return this.littleEndian
	},
	hasTowel: function() {
		if (42 !== this.getUint16(2)) throw RangeError("You forgot your towel!");
		return !0
	},
	getFieldTypeName: function(a) {
		var b = this.fieldTypeNames;
		return a in b ? b[a] : null
	},
	getFieldTagName: function(a) {
		var b = this.fieldTagNames;
		if (a in b) return b[a];
		console.log("Unknown Field Tag:", a);
		return "Tag" + a
	},
	getFieldTypeLength: function(a) {
		return -1 !== ["BYTE", "ASCII", "SBYTE", "UNDEFINED"].indexOf(a) ? 1 : -1 !== ["SHORT",
			"SSHORT"
		].indexOf(a) ? 2 : -1 !== ["LONG", "SLONG", "FLOAT"].indexOf(a) ? 4 : -1 !== ["RATIONAL", "SRATIONAL", "DOUBLE"].indexOf(a) ? 8 : null
	},
	getFieldValues: function(a, b, c, d) {
		a = [];
		var e = this.getFieldTypeLength(b);
		if (4 >= e * c) !1 === this.littleEndian ? a.push(d >>> 8 * (4 - e)) : a.push(d);
		else
			for (var f = 0; f < c; f++) {
				var g = e * f;
				8 <= e ? -1 !== ["RATIONAL", "SRATIONAL"].indexOf(b) ? (a.push(this.getUint32(d + g)), a.push(this.getUint32(d + g + 4))) : cc.log("Can't handle this field type or size") : a.push(this.getBytes(e, d + g))
			}
		"ASCII" === b && a.forEach(function(a,
			b, c) {
			c[b] = String.fromCharCode(a)
		});
		return a
	},
	getBytes: function(a, b) {
		if (0 >= a) cc.log("No bytes requested");
		else {
			if (1 >= a) return this.getUint8(b);
			if (2 >= a) return this.getUint16(b);
			if (3 >= a) return this.getUint32(b) >>> 8;
			if (4 >= a) return this.getUint32(b);
			cc.log("Too many bytes requested")
		}
	},
	getBits: function(a, b, c) {
		c = c || 0;
		b += Math.floor(c / 8);
		var d = c + a;
		a = 32 - a;
		var e, f;
		0 >= d ? console.log("No bits requested") : 8 >= d ? (e = 24 + c, f = this.getUint8(b)) : 16 >= d ? (e = 16 + c, f = this.getUint16(b)) : 32 >= d ? (e = c, f = this.getUint32(b)) : console.log("Too many bits requested");
		return {
			bits: f << e >>> a,
			byteOffset: b + Math.floor(d / 8),
			bitOffset: d % 8
		}
	},
	parseFileDirectory: function(a) {
		var b = this.getUint16(a),
			c = [];
		a += 2;
		for (var d = 0; d < b; a += 12, d++) {
			var e = this.getUint16(a),
				f = this.getUint16(a + 2),
				g = this.getUint32(a + 4),
				h = this.getUint32(a + 8),
				e = this.getFieldTagName(e),
				f = this.getFieldTypeName(f),
				g = this.getFieldValues(e, f, g, h);
			c[e] = {
				type: f,
				values: g
			}
		}
		this._fileDirectories.push(c);
		b = this.getUint32(a);
		0 !== b && this.parseFileDirectory(b)
	},
	clampColorSample: function(a, b) {
		var c = Math.pow(2, 8 - b);
		return Math.floor(a *
			c + (c - 1))
	},
	parseTIFF: function(a, b) {
		b = b || document.createElement("canvas");
		this._tiffData = a;
		this.canvas = b;
		this.checkLittleEndian();
		if (this.hasTowel()) {
			var c = this.getUint32(4);
			this._fileDirectories.length = 0;
			this.parseFileDirectory(c);
			var d = this._fileDirectories[0],
				c = d.ImageWidth.values[0],
				e = d.ImageLength.values[0];
			this.canvas.width = c;
			this.canvas.height = e;
			var f = [],
				g = d.Compression ? d.Compression.values[0] : 1,
				h = d.SamplesPerPixel.values[0],
				k = [],
				m = 0,
				n = !1;
			d.BitsPerSample.values.forEach(function(a, b, c) {
				k[b] = {
					bitsPerSample: a,
					hasBytesPerSample: !1,
					bytesPerSample: void 0
				};
				0 === a % 8 && (k[b].hasBytesPerSample = !0, k[b].bytesPerSample = a / 8);
				m += a
			}, this);
			if (0 === m % 8) var n = !0,
				p = m / 8;
			var r = d.StripOffsets.values,
				t = r.length;
			if (d.StripByteCounts) var u = d.StripByteCounts.values;
			else if (cc.log("Missing StripByteCounts!"), 1 === t) u = [Math.ceil(c * e * m / 8)];
			else throw Error("Cannot recover from missing StripByteCounts");
			for (var s = 0; s < t; s++) {
				var w = r[s];
				f[s] = [];
				for (var v = u[s], x = 0, A = 0, z = 1, y = !0, B = [], C = 0, D = 0, I = 0; x < v; x += z) switch (g) {
					case 1:
						z = 0;
						for (B = []; z < h; z++)
							if (k[z].hasBytesPerSample) B.push(this.getBytes(k[z].bytesPerSample,
								w + x + k[z].bytesPerSample * z));
							else {
								var E = this.getBits(k[z].bitsPerSample, w + x, A);
								B.push(E.bits);
								x = E.byteOffset - w;
								A = E.bitOffset;
								throw RangeError("Cannot handle sub-byte bits per sample");
							} f[s].push(B);
						if (n) z = p;
						else throw z = 0, RangeError("Cannot handle sub-byte bits per pixel");
						break;
					case 32773:
						if (y) {
							var y = !1,
								F = 1,
								K = 1,
								z = this.getInt8(w + x);
							0 <= z && 127 >= z ? F = z + 1 : -127 <= z && -1 >= z ? K = -z + 1 : y = !0
						} else {
							for (var G = this.getUint8(w + x), z = 0; z < K; z++) {
								if (k[D].hasBytesPerSample) I = I << 8 * C | G, C++, C === k[D].bytesPerSample && (B.push(I),
									I = C = 0, D++);
								else throw RangeError("Cannot handle sub-byte bits per sample");
								D === h && (f[s].push(B), B = [], D = 0)
							}
							F--;
							0 === F && (y = !0)
						}
						z = 1
				}
			}
			if (b.getContext) {
				p = this.canvas.getContext("2d");
				p.fillStyle = "rgba(255, 255, 255, 0)";
				s = d.RowsPerStrip ? d.RowsPerStrip.values[0] : e;
				w = f.length;
				e %= s;
				e = 0 === e ? s : e;
				x = s;
				g = 0;
				B = d.PhotometricInterpretation.values[0];
				F = [];
				K = 0;
				d.ExtraSamples && (F = d.ExtraSamples.values, K = F.length);
				if (d.ColorMap) var E = d.ColorMap.values,
					H = Math.pow(2, k[0].bitsPerSample);
				for (s = 0; s < w; s++) {
					s + 1 === w && (x = e);
					d =
						f[s].length;
					g *= s;
					for (n = h = 0; h < x, n < d; h++)
						for (r = 0; r < c; r++, n++) {
							u = f[s][n];
							y = A = v = 0;
							t = 1;
							if (0 < K)
								for (v = 0; v < K; v++)
									if (1 === F[v] || 2 === F[v]) {
										t = u[3 + v] / 256;
										break
									} switch (B) {
								case 0:
									if (k[0].hasBytesPerSample) var M = Math.pow(16, 2 * k[0].bytesPerSample);
									u.forEach(function(a, b, c) {
										c[b] = M - a
									});
								case 1:
									v = A = y = this.clampColorSample(u[0], k[0].bitsPerSample);
									break;
								case 2:
									v = this.clampColorSample(u[0], k[0].bitsPerSample);
									A = this.clampColorSample(u[1], k[1].bitsPerSample);
									y = this.clampColorSample(u[2], k[2].bitsPerSample);
									break;
								case 3:
									if (void 0 ===
										E) throw Error("Palette image missing color map");
									u = u[0];
									v = this.clampColorSample(E[u], 16);
									A = this.clampColorSample(E[H + u], 16);
									y = this.clampColorSample(E[2 * H + u], 16);
									break;
								default:
									throw RangeError("Unknown Photometric Interpretation:", B);
							}
							p.fillStyle = "rgba(" + v + ", " + A + ", " + y + ", " + t + ")";
							p.fillRect(r, g + h, 1, 1)
						}
					g = x
				}
			}
			return this.canvas
		}
	},
	fieldTagNames: {
		315: "Artist",
		258: "BitsPerSample",
		265: "CellLength",
		264: "CellWidth",
		320: "ColorMap",
		259: "Compression",
		33432: "Copyright",
		306: "DateTime",
		338: "ExtraSamples",
		266: "FillOrder",
		289: "FreeByteCounts",
		288: "FreeOffsets",
		291: "GrayResponseCurve",
		290: "GrayResponseUnit",
		316: "HostComputer",
		270: "ImageDescription",
		257: "ImageLength",
		256: "ImageWidth",
		271: "Make",
		281: "MaxSampleValue",
		280: "MinSampleValue",
		272: "Model",
		254: "NewSubfileType",
		274: "Orientation",
		262: "PhotometricInterpretation",
		284: "PlanarConfiguration",
		296: "ResolutionUnit",
		278: "RowsPerStrip",
		277: "SamplesPerPixel",
		305: "Software",
		279: "StripByteCounts",
		273: "StripOffsets",
		255: "SubfileType",
		263: "Threshholding",
		282: "XResolution",
		283: "YResolution",
		326: "BadFaxLines",
		327: "CleanFaxData",
		343: "ClipPath",
		328: "ConsecutiveBadFaxLines",
		433: "Decode",
		434: "DefaultImageColor",
		269: "DocumentName",
		336: "DotRange",
		321: "HalftoneHints",
		346: "Indexed",
		347: "JPEGTables",
		285: "PageName",
		297: "PageNumber",
		317: "Predictor",
		319: "PrimaryChromaticities",
		532: "ReferenceBlackWhite",
		339: "SampleFormat",
		559: "StripRowCounts",
		330: "SubIFDs",
		292: "T4Options",
		293: "T6Options",
		325: "TileByteCounts",
		323: "TileLength",
		324: "TileOffsets",
		322: "TileWidth",
		301: "TransferFunction",
		318: "WhitePoint",
		344: "XClipPathUnits",
		286: "XPosition",
		529: "YCbCrCoefficients",
		531: "YCbCrPositioning",
		530: "YCbCrSubSampling",
		345: "YClipPathUnits",
		287: "YPosition",
		37378: "ApertureValue",
		40961: "ColorSpace",
		36868: "DateTimeDigitized",
		36867: "DateTimeOriginal",
		34665: "Exif IFD",
		36864: "ExifVersion",
		33434: "ExposureTime",
		41728: "FileSource",
		37385: "Flash",
		40960: "FlashpixVersion",
		33437: "FNumber",
		42016: "ImageUniqueID",
		37384: "LightSource",
		37500: "MakerNote",
		37377: "ShutterSpeedValue",
		37510: "UserComment",
		33723: "IPTC",
		34675: "ICC Profile",
		700: "XMP",
		42112: "GDAL_METADATA",
		42113: "GDAL_NODATA",
		34377: "Photoshop"
	},
	fieldTypeNames: {
		1: "BYTE",
		2: "ASCII",
		3: "SHORT",
		4: "LONG",
		5: "RATIONAL",
		6: "SBYTE",
		7: "UNDEFINED",
		8: "SSHORT",
		9: "SLONG",
		10: "SRATIONAL",
		11: "FLOAT",
		12: "DOUBLE"
	}
};
cc.Particle = function(a, b, c, d, e, f, g, h, k, m, n, p) {
	this.pos = a ? a : cc.p(0, 0);
	this.startPos = b ? b : cc.p(0, 0);
	this.color = c ? c : {
		r: 0,
		g: 0,
		b: 0,
		a: 255
	};
	this.deltaColor = d ? d : {
		r: 0,
		g: 0,
		b: 0,
		a: 255
	};
	this.size = e || 0;
	this.deltaSize = f || 0;
	this.rotation = g || 0;
	this.deltaRotation = h || 0;
	this.timeToLive = k || 0;
	this.atlasIndex = m || 0;
	this.modeA = n ? n : new cc.Particle.ModeA;
	this.modeB = p ? p : new cc.Particle.ModeB;
	this.isChangeColor = !1;
	this.drawPos = cc.p(0, 0)
};
cc.Particle.ModeA = function(a, b, c) {
	this.dir = a ? a : cc.p(0, 0);
	this.radialAccel = b || 0;
	this.tangentialAccel = c || 0
};
cc.Particle.ModeB = function(a, b, c, d) {
	this.angle = a || 0;
	this.degreesPerSecond = b || 0;
	this.radius = c || 0;
	this.deltaRadius = d || 0
};
cc.Particle.TemporaryPoints = [cc.p(), cc.p(), cc.p(), cc.p()];
cc.ParticleSystem = cc.Node.extend({
	_className: "ParticleSystem",
	_plistFile: "",
	_elapsed: 0,
	_dontTint: !1,
	modeA: null,
	modeB: null,
	_pointZeroForParticle: cc.p(0, 0),
	_particles: null,
	_emitCounter: 0,
	_particleIdx: 0,
	_batchNode: null,
	atlasIndex: 0,
	_transformSystemDirty: !1,
	_allocatedParticles: 0,
	_isActive: !1,
	particleCount: 0,
	duration: 0,
	_sourcePosition: null,
	_posVar: null,
	life: 0,
	lifeVar: 0,
	angle: 0,
	angleVar: 0,
	startSize: 0,
	startSizeVar: 0,
	endSize: 0,
	endSizeVar: 0,
	_startColor: null,
	_startColorVar: null,
	_endColor: null,
	_endColorVar: null,
	startSpin: 0,
	startSpinVar: 0,
	endSpin: 0,
	endSpinVar: 0,
	emissionRate: 0,
	_totalParticles: 0,
	_texture: null,
	_blendFunc: null,
	_opacityModifyRGB: !1,
	positionType: null,
	autoRemoveOnFinish: !1,
	emitterMode: 0,
	_textureLoaded: null,
	ctor: function(a) {
		cc.Node.prototype.ctor.call(this);
		this.emitterMode = cc.ParticleSystem.MODE_GRAVITY;
		this.modeA = new cc.ParticleSystem.ModeA;
		this.modeB = new cc.ParticleSystem.ModeB;
		this._blendFunc = {
			src: cc.BLEND_SRC,
			dst: cc.BLEND_DST
		};
		this._particles = [];
		this._sourcePosition = cc.p(0, 0);
		this._posVar = cc.p(0,
			0);
		this._startColor = cc.color(255, 255, 255, 255);
		this._startColorVar = cc.color(255, 255, 255, 255);
		this._endColor = cc.color(255, 255, 255, 255);
		this._endColorVar = cc.color(255, 255, 255, 255);
		this._plistFile = "";
		this._elapsed = 0;
		this._dontTint = !1;
		this._pointZeroForParticle = cc.p(0, 0);
		this._particleIdx = this._emitCounter = 0;
		this._batchNode = null;
		this.atlasIndex = 0;
		this._transformSystemDirty = !1;
		this._allocatedParticles = 0;
		this._isActive = !1;
		this._totalParticles = this.emissionRate = this.endSpinVar = this.endSpin = this.startSpinVar =
			this.startSpin = this.endSizeVar = this.endSize = this.startSizeVar = this.startSize = this.angleVar = this.angle = this.lifeVar = this.life = this.duration = this.particleCount = 0;
		this._texture = null;
		this._opacityModifyRGB = !1;
		this.positionType = cc.ParticleSystem.TYPE_FREE;
		this.autoRemoveOnFinish = !1;
		this._textureLoaded = !0;
		!a || cc.isNumber(a) ? (a = a || 100, this.setDrawMode(cc.ParticleSystem.TEXTURE_MODE), this.initWithTotalParticles(a)) : cc.isString(a) ? this.initWithFile(a) : cc.isObject(a) && this.initWithDictionary(a, "")
	},
	_createRenderCmd: function() {
		return cc._renderType ===
			cc.game.RENDER_TYPE_CANVAS ? new cc.ParticleSystem.CanvasRenderCmd(this) : new cc.ParticleSystem.WebGLRenderCmd(this)
	},
	ignoreColor: function(a) {
		this._dontTint = a
	},
	initTexCoordsWithRect: function(a) {
		this._renderCmd.initTexCoordsWithRect(a)
	},
	getBatchNode: function() {
		return this._batchNode
	},
	setBatchNode: function(a) {
		this._renderCmd.setBatchNode(a)
	},
	getAtlasIndex: function() {
		return this.atlasIndex
	},
	setAtlasIndex: function(a) {
		this.atlasIndex = a
	},
	getDrawMode: function() {
		return this._renderCmd.getDrawMode()
	},
	setDrawMode: function(a) {
		this._renderCmd.setDrawMode(a)
	},
	getShapeType: function() {
		return this._renderCmd.getShapeType()
	},
	setShapeType: function(a) {
		this._renderCmd.setShapeType(a)
	},
	isActive: function() {
		return this._isActive
	},
	getParticleCount: function() {
		return this.particleCount
	},
	setParticleCount: function(a) {
		this.particleCount = a
	},
	getDuration: function() {
		return this.duration
	},
	setDuration: function(a) {
		this.duration = a
	},
	getSourcePosition: function() {
		return {
			x: this._sourcePosition.x,
			y: this._sourcePosition.y
		}
	},
	setSourcePosition: function(a) {
		this._sourcePosition.x = a.x;
		this._sourcePosition.y = a.y
	},
	getPosVar: function() {
		return {
			x: this._posVar.x,
			y: this._posVar.y
		}
	},
	setPosVar: function(a) {
		this._posVar.x = a.x;
		this._posVar.y = a.y
	},
	getLife: function() {
		return this.life
	},
	setLife: function(a) {
		this.life = a
	},
	getLifeVar: function() {
		return this.lifeVar
	},
	setLifeVar: function(a) {
		this.lifeVar = a
	},
	getAngle: function() {
		return this.angle
	},
	setAngle: function(a) {
		this.angle = a
	},
	getAngleVar: function() {
		return this.angleVar
	},
	setAngleVar: function(a) {
		this.angleVar = a
	},
	getGravity: function() {
		this.emitterMode !==
			cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.getGravity() : Particle Mode should be Gravity");
		var a = this.modeA.gravity;
		return cc.p(a.x, a.y)
	},
	setGravity: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.setGravity() : Particle Mode should be Gravity");
		this.modeA.gravity = a
	},
	getSpeed: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.getSpeed() : Particle Mode should be Gravity");
		return this.modeA.speed
	},
	setSpeed: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.setSpeed() : Particle Mode should be Gravity");
		this.modeA.speed = a
	},
	getSpeedVar: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.getSpeedVar() : Particle Mode should be Gravity");
		return this.modeA.speedVar
	},
	setSpeedVar: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.setSpeedVar() : Particle Mode should be Gravity");
		this.modeA.speedVar = a
	},
	getTangentialAccel: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.getTangentialAccel() : Particle Mode should be Gravity");
		return this.modeA.tangentialAccel
	},
	setTangentialAccel: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.setTangentialAccel() : Particle Mode should be Gravity");
		this.modeA.tangentialAccel = a
	},
	getTangentialAccelVar: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY &&
			cc.log("cc.ParticleBatchNode.getTangentialAccelVar() : Particle Mode should be Gravity");
		return this.modeA.tangentialAccelVar
	},
	setTangentialAccelVar: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.setTangentialAccelVar() : Particle Mode should be Gravity");
		this.modeA.tangentialAccelVar = a
	},
	getRadialAccel: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.getRadialAccel() : Particle Mode should be Gravity");
		return this.modeA.radialAccel
	},
	setRadialAccel: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.setRadialAccel() : Particle Mode should be Gravity");
		this.modeA.radialAccel = a
	},
	getRadialAccelVar: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.getRadialAccelVar() : Particle Mode should be Gravity");
		return this.modeA.radialAccelVar
	},
	setRadialAccelVar: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.setRadialAccelVar() : Particle Mode should be Gravity");
		this.modeA.radialAccelVar = a
	},
	getRotationIsDir: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.getRotationIsDir() : Particle Mode should be Gravity");
		return this.modeA.rotationIsDir
	},
	setRotationIsDir: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_GRAVITY && cc.log("cc.ParticleBatchNode.setRotationIsDir() : Particle Mode should be Gravity");
		this.modeA.rotationIsDir = a
	},
	getStartRadius: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.getStartRadius() : Particle Mode should be Radius");
		return this.modeB.startRadius
	},
	setStartRadius: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.setStartRadius() : Particle Mode should be Radius");
		this.modeB.startRadius = a
	},
	getStartRadiusVar: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.getStartRadiusVar() : Particle Mode should be Radius");
		return this.modeB.startRadiusVar
	},
	setStartRadiusVar: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.setStartRadiusVar() : Particle Mode should be Radius");
		this.modeB.startRadiusVar = a
	},
	getEndRadius: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.getEndRadius() : Particle Mode should be Radius");
		return this.modeB.endRadius
	},
	setEndRadius: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.setEndRadius() : Particle Mode should be Radius");
		this.modeB.endRadius = a
	},
	getEndRadiusVar: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.getEndRadiusVar() : Particle Mode should be Radius");
		return this.modeB.endRadiusVar
	},
	setEndRadiusVar: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.setEndRadiusVar() : Particle Mode should be Radius");
		this.modeB.endRadiusVar = a
	},
	getRotatePerSecond: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.getRotatePerSecond() : Particle Mode should be Radius");
		return this.modeB.rotatePerSecond
	},
	setRotatePerSecond: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.setRotatePerSecond() : Particle Mode should be Radius");
		this.modeB.rotatePerSecond = a
	},
	getRotatePerSecondVar: function() {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.getRotatePerSecondVar() : Particle Mode should be Radius");
		return this.modeB.rotatePerSecondVar
	},
	setRotatePerSecondVar: function(a) {
		this.emitterMode !== cc.ParticleSystem.MODE_RADIUS && cc.log("cc.ParticleBatchNode.setRotatePerSecondVar() : Particle Mode should be Radius");
		this.modeB.rotatePerSecondVar = a
	},
	setScale: function(a, b) {
		this._transformSystemDirty = !0;
		cc.Node.prototype.setScale.call(this,
			a, b)
	},
	setRotation: function(a) {
		this._transformSystemDirty = !0;
		cc.Node.prototype.setRotation.call(this, a)
	},
	setScaleX: function(a) {
		this._transformSystemDirty = !0;
		cc.Node.prototype.setScaleX.call(this, a)
	},
	setScaleY: function(a) {
		this._transformSystemDirty = !0;
		cc.Node.prototype.setScaleY.call(this, a)
	},
	getStartSize: function() {
		return this.startSize
	},
	setStartSize: function(a) {
		this.startSize = a
	},
	getStartSizeVar: function() {
		return this.startSizeVar
	},
	setStartSizeVar: function(a) {
		this.startSizeVar = a
	},
	getEndSize: function() {
		return this.endSize
	},
	setEndSize: function(a) {
		this.endSize = a
	},
	getEndSizeVar: function() {
		return this.endSizeVar
	},
	setEndSizeVar: function(a) {
		this.endSizeVar = a
	},
	getStartColor: function() {
		return cc.color(this._startColor.r, this._startColor.g, this._startColor.b, this._startColor.a)
	},
	setStartColor: function(a) {
		this._startColor.r = a.r;
		this._startColor.g = a.g;
		this._startColor.b = a.b;
		this._startColor.a = a.a
	},
	getStartColorVar: function() {
		return cc.color(this._startColorVar.r, this._startColorVar.g, this._startColorVar.b, this._startColorVar.a)
	},
	setStartColorVar: function(a) {
		this._startColorVar.r = a.r;
		this._startColorVar.g = a.g;
		this._startColorVar.b = a.b;
		this._startColorVar.a = a.a
	},
	getEndColor: function() {
		return cc.color(this._endColor.r, this._endColor.g, this._endColor.b, this._endColor.a)
	},
	setEndColor: function(a) {
		this._endColor.r = a.r;
		this._endColor.g = a.g;
		this._endColor.b = a.b;
		this._endColor.a = a.a
	},
	getEndColorVar: function() {
		return cc.color(this._endColorVar.r, this._endColorVar.g, this._endColorVar.b, this._endColorVar.a)
	},
	setEndColorVar: function(a) {
		this._endColorVar.r =
			a.r;
		this._endColorVar.g = a.g;
		this._endColorVar.b = a.b;
		this._endColorVar.a = a.a
	},
	getStartSpin: function() {
		return this.startSpin
	},
	setStartSpin: function(a) {
		this.startSpin = a
	},
	getStartSpinVar: function() {
		return this.startSpinVar
	},
	setStartSpinVar: function(a) {
		this.startSpinVar = a
	},
	getEndSpin: function() {
		return this.endSpin
	},
	setEndSpin: function(a) {
		this.endSpin = a
	},
	getEndSpinVar: function() {
		return this.endSpinVar
	},
	setEndSpinVar: function(a) {
		this.endSpinVar = a
	},
	getEmissionRate: function() {
		return this.emissionRate
	},
	setEmissionRate: function(a) {
		this.emissionRate =
			a
	},
	getTotalParticles: function() {
		return this._totalParticles
	},
	setTotalParticles: function(a) {
		this._renderCmd.setTotalParticles(a)
	},
	getTexture: function() {
		return this._texture
	},
	setTexture: function(a) {
		a && (a.isLoaded() ? this.setTextureWithRect(a, cc.rect(0, 0, a.width, a.height)) : (this._textureLoaded = !1, a.addEventListener("load", function(a) {
			this._textureLoaded = !0;
			this.setTextureWithRect(a, cc.rect(0, 0, a.width, a.height))
		}, this)))
	},
	getBlendFunc: function() {
		return this._blendFunc
	},
	setBlendFunc: function(a, b) {
		if (void 0 ===
			b) this._blendFunc !== a && (this._blendFunc = a, this._updateBlendFunc());
		else if (this._blendFunc.src !== a || this._blendFunc.dst !== b) this._blendFunc = {
			src: a,
			dst: b
		}, this._updateBlendFunc()
	},
	isOpacityModifyRGB: function() {
		return this._opacityModifyRGB
	},
	setOpacityModifyRGB: function(a) {
		this._opacityModifyRGB = a
	},
	isBlendAdditive: function() {
		return this._blendFunc.src === cc.SRC_ALPHA && this._blendFunc.dst === cc.ONE || this._blendFunc.src === cc.ONE && this._blendFunc.dst === cc.ONE
	},
	setBlendAdditive: function(a) {
		var b = this._blendFunc;
		a ? (b.src = cc.SRC_ALPHA, b.dst = cc.ONE) : this._renderCmd._setBlendAdditive()
	},
	getPositionType: function() {
		return this.positionType
	},
	setPositionType: function(a) {
		this.positionType = a
	},
	isAutoRemoveOnFinish: function() {
		return this.autoRemoveOnFinish
	},
	setAutoRemoveOnFinish: function(a) {
		this.autoRemoveOnFinish = a
	},
	getEmitterMode: function() {
		return this.emitterMode
	},
	setEmitterMode: function(a) {
		this.emitterMode = a
	},
	init: function() {
		return this.initWithTotalParticles(150)
	},
	initWithFile: function(a) {
		this._plistFile = a;
		a = cc.loader.getRes(a);
		return a ? this.initWithDictionary(a, "") : (cc.log("cc.ParticleSystem.initWithFile(): Particles: file not found"), !1)
	},
	getBoundingBoxToWorld: function() {
		return cc.rect(0, 0, cc._canvas.width, cc._canvas.height)
	},
	initWithDictionary: function(a, b) {
		var c = !1,
			d = null,
			d = this._valueForKey,
			e = parseInt(d("maxParticles", a));
		if (this.initWithTotalParticles(e)) {
			this.angle = parseFloat(d("angle", a));
			this.angleVar = parseFloat(d("angleVariance", a));
			this.duration = parseFloat(d("duration", a));
			this._blendFunc.src = parseInt(d("blendFuncSource",
				a));
			this._blendFunc.dst = parseInt(d("blendFuncDestination", a));
			c = this._startColor;
			c.r = 255 * parseFloat(d("startColorRed", a));
			c.g = 255 * parseFloat(d("startColorGreen", a));
			c.b = 255 * parseFloat(d("startColorBlue", a));
			c.a = 255 * parseFloat(d("startColorAlpha", a));
			c = this._startColorVar;
			c.r = 255 * parseFloat(d("startColorVarianceRed", a));
			c.g = 255 * parseFloat(d("startColorVarianceGreen", a));
			c.b = 255 * parseFloat(d("startColorVarianceBlue", a));
			c.a = 255 * parseFloat(d("startColorVarianceAlpha", a));
			c = this._endColor;
			c.r = 255 * parseFloat(d("finishColorRed",
				a));
			c.g = 255 * parseFloat(d("finishColorGreen", a));
			c.b = 255 * parseFloat(d("finishColorBlue", a));
			c.a = 255 * parseFloat(d("finishColorAlpha", a));
			c = this._endColorVar;
			c.r = 255 * parseFloat(d("finishColorVarianceRed", a));
			c.g = 255 * parseFloat(d("finishColorVarianceGreen", a));
			c.b = 255 * parseFloat(d("finishColorVarianceBlue", a));
			c.a = 255 * parseFloat(d("finishColorVarianceAlpha", a));
			this.startSize = parseFloat(d("startParticleSize", a));
			this.startSizeVar = parseFloat(d("startParticleSizeVariance", a));
			this.endSize = parseFloat(d("finishParticleSize",
				a));
			this.endSizeVar = parseFloat(d("finishParticleSizeVariance", a));
			this.setPosition(parseFloat(d("sourcePositionx", a)), parseFloat(d("sourcePositiony", a)));
			this._posVar.x = parseFloat(d("sourcePositionVariancex", a));
			this._posVar.y = parseFloat(d("sourcePositionVariancey", a));
			this.startSpin = parseFloat(d("rotationStart", a));
			this.startSpinVar = parseFloat(d("rotationStartVariance", a));
			this.endSpin = parseFloat(d("rotationEnd", a));
			this.endSpinVar = parseFloat(d("rotationEndVariance", a));
			this.emitterMode = parseInt(d("emitterType",
				a));
			if (this.emitterMode === cc.ParticleSystem.MODE_GRAVITY) c = this.modeA, c.gravity.x = parseFloat(d("gravityx", a)), c.gravity.y = parseFloat(d("gravityy", a)), c.speed = parseFloat(d("speed", a)), c.speedVar = parseFloat(d("speedVariance", a)), e = d("radialAcceleration", a), c.radialAccel = e ? parseFloat(e) : 0, e = d("radialAccelVariance", a), c.radialAccelVar = e ? parseFloat(e) : 0, e = d("tangentialAcceleration", a), c.tangentialAccel = e ? parseFloat(e) : 0, e = d("tangentialAccelVariance", a), c.tangentialAccelVar = e ? parseFloat(e) : 0, e = d("rotationIsDir",
				a), null !== e ? (e = e.toString().toLowerCase(), c.rotationIsDir = "true" === e || "1" === e) : c.rotationIsDir = !1;
			else if (this.emitterMode === cc.ParticleSystem.MODE_RADIUS) c = this.modeB, c.startRadius = parseFloat(d("maxRadius", a)), c.startRadiusVar = parseFloat(d("maxRadiusVariance", a)), c.endRadius = parseFloat(d("minRadius", a)), c.endRadiusVar = 0, c.rotatePerSecond = parseFloat(d("rotatePerSecond", a)), c.rotatePerSecondVar = parseFloat(d("rotatePerSecondVariance", a));
			else return cc.log("cc.ParticleSystem.initWithDictionary(): Invalid emitterType in config file"),
				!1;
			this.life = parseFloat(d("particleLifespan", a));
			this.lifeVar = parseFloat(d("particleLifespanVariance", a));
			this.emissionRate = this._totalParticles / this.life;
			if (!this._batchNode)
				if (this._opacityModifyRGB = !1, c = d("textureFileName", a), c = cc.path.changeBasename(this._plistFile, c), e = cc.textureCache.getTextureForKey(c)) this.setTexture(e);
				else if ((d = d("textureImageData", a)) && 0 !== d.length) {
				d = cc.unzipBase64AsArray(d, 1);
				if (!d) return cc.log("cc.ParticleSystem: error decoding or ungzipping textureImageData"), !1;
				e = cc.getImageFormatByData(d);
				if (e !== cc.FMT_TIFF && e !== cc.FMT_PNG) return cc.log("cc.ParticleSystem: unknown image format with Data"), !1;
				var f = document.createElement("canvas");
				e === cc.FMT_PNG ? (new cc.PNGReader(d)).render(f) : cc.tiffReader.parseTIFF(d, f);
				cc.textureCache.cacheImage(c, f);
				(d = cc.textureCache.getTextureForKey(c)) || cc.log("cc.ParticleSystem.initWithDictionary() : error loading the texture");
				this.setTexture(d)
			} else {
				e = cc.textureCache.addImage(c);
				if (!e) return !1;
				this.setTexture(e)
			}
			c = !0
		}
		return c
	},
	initWithTotalParticles: function(a) {
		this._totalParticles = a;
		var b, c = this._particles;
		for (b = c.length = 0; b < a; b++) c[b] = new cc.Particle;
		if (!c) return cc.log("Particle system: not enough memory"), !1;
		this._allocatedParticles = a;
		if (this._batchNode)
			for (b = 0; b < this._totalParticles; b++) c[b].atlasIndex = b;
		this._isActive = !0;
		this._blendFunc.src = cc.BLEND_SRC;
		this._blendFunc.dst = cc.BLEND_DST;
		this.positionType = cc.ParticleSystem.TYPE_FREE;
		this.emitterMode = cc.ParticleSystem.MODE_GRAVITY;
		this._transformSystemDirty = this.autoRemoveOnFinish = !1;
		this.scheduleUpdateWithPriority(1);
		this._renderCmd._initWithTotalParticles(a);
		return !0
	},
	destroyParticleSystem: function() {
		this.unscheduleUpdate()
	},
	addParticle: function() {
		if (this.isFull()) return !1;
		var a = this._renderCmd.addParticle();
		this.initParticle(a);
		++this.particleCount;
		return !0
	},
	initParticle: function(a) {
		var b = cc.randomMinus1To1;
		a.timeToLive = this.life + this.lifeVar * b();
		a.timeToLive = Math.max(0, a.timeToLive);
		a.pos.x = this._sourcePosition.x + this._posVar.x * b();
		a.pos.y = this._sourcePosition.y + this._posVar.y *
			b();
		var c, d;
		c = this._startColor;
		var e = this._startColorVar,
			f = this._endColor;
		d = this._endColorVar;
		c = {
			r: cc.clampf(c.r + e.r * b(), 0, 255),
			g: cc.clampf(c.g + e.g * b(), 0, 255),
			b: cc.clampf(c.b + e.b * b(), 0, 255),
			a: cc.clampf(c.a + e.a * b(), 0, 255)
		};
		d = {
			r: cc.clampf(f.r + d.r * b(), 0, 255),
			g: cc.clampf(f.g + d.g * b(), 0, 255),
			b: cc.clampf(f.b + d.b * b(), 0, 255),
			a: cc.clampf(f.a + d.a * b(), 0, 255)
		};
		a.color = c;
		e = a.deltaColor;
		f = a.timeToLive;
		e.r = (d.r - c.r) / f;
		e.g = (d.g - c.g) / f;
		e.b = (d.b - c.b) / f;
		e.a = (d.a - c.a) / f;
		c = this.startSize + this.startSizeVar * b();
		c = Math.max(0,
			c);
		a.size = c;
		this.endSize === cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE ? a.deltaSize = 0 : (d = this.endSize + this.endSizeVar * b(), d = Math.max(0, d), a.deltaSize = (d - c) / f);
		c = this.startSpin + this.startSpinVar * b();
		d = this.endSpin + this.endSpinVar * b();
		a.rotation = c;
		a.deltaRotation = (d - c) / f;
		this.positionType === cc.ParticleSystem.TYPE_FREE ? a.startPos = this.convertToWorldSpace(this._pointZeroForParticle) : this.positionType === cc.ParticleSystem.TYPE_RELATIVE && (a.startPos.x = this._position.x, a.startPos.y = this._position.y);
		c =
			cc.degreesToRadians(this.angle + this.angleVar * b());
		if (this.emitterMode === cc.ParticleSystem.MODE_GRAVITY) f = this.modeA, d = a.modeA, e = f.speed + f.speedVar * b(), d.dir.x = Math.cos(c), d.dir.y = Math.sin(c), cc.pMultIn(d.dir, e), d.radialAccel = f.radialAccel + f.radialAccelVar * b(), d.tangentialAccel = f.tangentialAccel + f.tangentialAccelVar * b(), f.rotationIsDir && (a.rotation = -cc.radiansToDegrees(cc.pToAngle(d.dir)));
		else {
			d = this.modeB;
			a = a.modeB;
			var e = d.startRadius + d.startRadiusVar * b(),
				g = d.endRadius + d.endRadiusVar * b();
			a.radius =
				e;
			a.deltaRadius = d.endRadius === cc.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS ? 0 : (g - e) / f;
			a.angle = c;
			a.degreesPerSecond = cc.degreesToRadians(d.rotatePerSecond + d.rotatePerSecondVar * b())
		}
	},
	stopSystem: function() {
		this._isActive = !1;
		this._elapsed = this.duration;
		this._emitCounter = 0
	},
	resetSystem: function() {
		this._isActive = !0;
		this._elapsed = 0;
		var a = this._particles;
		for (this._particleIdx = 0; this._particleIdx < this.particleCount; ++this._particleIdx) a[this._particleIdx].timeToLive = 0
	},
	isFull: function() {
		return this.particleCount >=
			this._totalParticles
	},
	updateQuadWithParticle: function(a, b) {
		this._renderCmd.updateQuadWithParticle(a, b)
	},
	postStep: function() {
		this._renderCmd.postStep()
	},
	update: function(a) {
		if (this._isActive && this.emissionRate) {
			var b = 1 / this.emissionRate;
			this.particleCount < this._totalParticles && (this._emitCounter += a);
			for (; this.particleCount < this._totalParticles && this._emitCounter > b;) this.addParticle(), this._emitCounter -= b;
			this._elapsed += a; - 1 !== this.duration && this.duration < this._elapsed && this.stopSystem()
		}
		this._particleIdx =
			0;
		b = cc.Particle.TemporaryPoints[0];
		this.positionType === cc.ParticleSystem.TYPE_FREE ? cc.pIn(b, this.convertToWorldSpace(this._pointZeroForParticle)) : this.positionType === cc.ParticleSystem.TYPE_RELATIVE && (b.x = this._position.x, b.y = this._position.y);
		if (this._visible) {
			for (var c = cc.Particle.TemporaryPoints[1], d = cc.Particle.TemporaryPoints[2], e = cc.Particle.TemporaryPoints[3], f = this._particles; this._particleIdx < this.particleCount;) {
				cc.pZeroIn(c);
				cc.pZeroIn(d);
				cc.pZeroIn(e);
				var g = f[this._particleIdx];
				g.timeToLive -=
					a;
				if (0 < g.timeToLive) {
					if (this.emitterMode === cc.ParticleSystem.MODE_GRAVITY) {
						var h = e,
							k = c,
							m = d;
						g.pos.x || g.pos.y ? (cc.pIn(k, g.pos), cc.pNormalizeIn(k)) : cc.pZeroIn(k);
						cc.pIn(m, k);
						cc.pMultIn(k, g.modeA.radialAccel);
						var n = m.x;
						m.x = -m.y;
						m.y = n;
						cc.pMultIn(m, g.modeA.tangentialAccel);
						cc.pIn(h, k);
						cc.pAddIn(h, m);
						cc.pAddIn(h, this.modeA.gravity);
						cc.pMultIn(h, a);
						cc.pAddIn(g.modeA.dir, h);
						cc.pIn(h, g.modeA.dir);
						cc.pMultIn(h, a);
						cc.pAddIn(g.pos, h)
					} else h = g.modeB, h.angle += h.degreesPerSecond * a, h.radius += h.deltaRadius * a, g.pos.x = -Math.cos(h.angle) * h.radius, g.pos.y = -Math.sin(h.angle) * h.radius;
					this._renderCmd._updateDeltaColor(g, a);
					g.size += g.deltaSize * a;
					g.size = Math.max(0, g.size);
					g.rotation += g.deltaRotation * a;
					h = c;
					this.positionType === cc.ParticleSystem.TYPE_FREE || this.positionType === cc.ParticleSystem.TYPE_RELATIVE ? (k = d, cc.pIn(k, b), cc.pSubIn(k, g.startPos), cc.pIn(h, g.pos), cc.pSubIn(h, k)) : cc.pIn(h, g.pos);
					this._batchNode && (h.x += this._position.x, h.y += this._position.y);
					this._renderCmd.updateParticlePosition(g, h);
					++this._particleIdx
				} else if (g =
					g.atlasIndex, this._particleIdx !== this.particleCount - 1 && (h = f[this._particleIdx], f[this._particleIdx] = f[this.particleCount - 1], f[this.particleCount - 1] = h), this._batchNode && (this._batchNode.disableParticle(this.atlasIndex + g), f[this.particleCount - 1].atlasIndex = g), --this.particleCount, 0 === this.particleCount && this.autoRemoveOnFinish) {
					this.unscheduleUpdate();
					this._parent.removeChild(this, !0);
					return
				}
			}
			this._transformSystemDirty = !1
		}
		this._batchNode || this.postStep()
	},
	updateWithNoTime: function() {
		this.update(0)
	},
	_valueForKey: function(a, b) {
		if (b) {
			var c = b[a];
			return null != c ? c : ""
		}
		return ""
	},
	_updateBlendFunc: function() {
		if (this._batchNode) cc.log("Can't change blending functions when the particle is being batched");
		else {
			var a = this._texture;
			if (a && a instanceof cc.Texture2D) {
				this._opacityModifyRGB = !1;
				var b = this._blendFunc;
				b.src === cc.BLEND_SRC && b.dst === cc.BLEND_DST && (a.hasPremultipliedAlpha() ? this._opacityModifyRGB = !0 : (b.src = cc.SRC_ALPHA, b.dst = cc.ONE_MINUS_SRC_ALPHA))
			}
		}
	},
	clone: function() {
		var a = new cc.ParticleSystem;
		if (a.initWithTotalParticles(this.getTotalParticles())) {
			a.setAngle(this.getAngle());
			a.setAngleVar(this.getAngleVar());
			a.setDuration(this.getDuration());
			var b = this.getBlendFunc();
			a.setBlendFunc(b.src, b.dst);
			a.setStartColor(this.getStartColor());
			a.setStartColorVar(this.getStartColorVar());
			a.setEndColor(this.getEndColor());
			a.setEndColorVar(this.getEndColorVar());
			a.setStartSize(this.getStartSize());
			a.setStartSizeVar(this.getStartSizeVar());
			a.setEndSize(this.getEndSize());
			a.setEndSizeVar(this.getEndSizeVar());
			a.setPosition(cc.p(this.x, this.y));
			a.setPosVar(cc.p(this.getPosVar().x, this.getPosVar().y));
			a.setPositionType(this.getPositionType());
			a.setStartSpin(this.getStartSpin() || 0);
			a.setStartSpinVar(this.getStartSpinVar() || 0);
			a.setEndSpin(this.getEndSpin() || 0);
			a.setEndSpinVar(this.getEndSpinVar() || 0);
			a.setEmitterMode(this.getEmitterMode());
			this.getEmitterMode() === cc.ParticleSystem.MODE_GRAVITY ? (b = this.getGravity(), a.setGravity(cc.p(b.x, b.y)), a.setSpeed(this.getSpeed()), a.setSpeedVar(this.getSpeedVar()), a.setRadialAccel(this.getRadialAccel()), a.setRadialAccelVar(this.getRadialAccelVar()), a.setTangentialAccel(this.getTangentialAccel()),
				a.setTangentialAccelVar(this.getTangentialAccelVar())) : this.getEmitterMode() === cc.ParticleSystem.MODE_RADIUS && (a.setStartRadius(this.getStartRadius()), a.setStartRadiusVar(this.getStartRadiusVar()), a.setEndRadius(this.getEndRadius()), a.setEndRadiusVar(this.getEndRadiusVar()), a.setRotatePerSecond(this.getRotatePerSecond()), a.setRotatePerSecondVar(this.getRotatePerSecondVar()));
			a.setLife(this.getLife());
			a.setLifeVar(this.getLifeVar());
			a.setEmissionRate(this.getEmissionRate());
			if (!this.getBatchNode() &&
				(a.setOpacityModifyRGB(this.isOpacityModifyRGB()), b = this.getTexture())) {
				var c = b.getContentSize();
				a.setTextureWithRect(b, cc.rect(0, 0, c.width, c.height))
			}
		}
		return a
	},
	setDisplayFrame: function(a) {
		if (a) {
			var b = a.getOffsetInPixels();
			0 === b.x && 0 === b.y || cc.log("cc.ParticleSystem.setDisplayFrame(): QuadParticle only supports SpriteFrames with no offsets");
			a = a.getTexture();
			this._texture !== a && this.setTexture(a)
		}
	},
	setTextureWithRect: function(a, b) {
		this._texture !== a && (this._texture = a, this._updateBlendFunc());
		this.initTexCoordsWithRect(b)
	},
	listenBackToForeground: function(a) {}
});
_p = cc.ParticleSystem.prototype;
cc.defineGetterSetter(_p, "opacityModifyRGB", _p.isOpacityModifyRGB, _p.setOpacityModifyRGB);
cc.defineGetterSetter(_p, "batchNode", _p.getBatchNode, _p.setBatchNode);
cc.defineGetterSetter(_p, "drawMode", _p.getDrawMode, _p.setDrawMode);
cc.defineGetterSetter(_p, "shapeType", _p.getShapeType, _p.setShapeType);
cc.defineGetterSetter(_p, "active", _p.isActive);
cc.defineGetterSetter(_p, "sourcePos", _p.getSourcePosition, _p.setSourcePosition);
cc.defineGetterSetter(_p, "posVar", _p.getPosVar, _p.setPosVar);
cc.defineGetterSetter(_p, "gravity", _p.getGravity, _p.setGravity);
cc.defineGetterSetter(_p, "speed", _p.getSpeed, _p.setSpeed);
cc.defineGetterSetter(_p, "speedVar", _p.getSpeedVar, _p.setSpeedVar);
cc.defineGetterSetter(_p, "tangentialAccel", _p.getTangentialAccel, _p.setTangentialAccel);
cc.defineGetterSetter(_p, "tangentialAccelVar", _p.getTangentialAccelVar, _p.setTangentialAccelVar);
cc.defineGetterSetter(_p, "radialAccel", _p.getRadialAccel, _p.setRadialAccel);
cc.defineGetterSetter(_p, "radialAccelVar", _p.getRadialAccelVar, _p.setRadialAccelVar);
cc.defineGetterSetter(_p, "rotationIsDir", _p.getRotationIsDir, _p.setRotationIsDir);
cc.defineGetterSetter(_p, "startRadius", _p.getStartRadius, _p.setStartRadius);
cc.defineGetterSetter(_p, "startRadiusVar", _p.getStartRadiusVar, _p.setStartRadiusVar);
cc.defineGetterSetter(_p, "endRadius", _p.getEndRadius, _p.setEndRadius);
cc.defineGetterSetter(_p, "endRadiusVar", _p.getEndRadiusVar, _p.setEndRadiusVar);
cc.defineGetterSetter(_p, "rotatePerS", _p.getRotatePerSecond, _p.setRotatePerSecond);
cc.defineGetterSetter(_p, "rotatePerSVar", _p.getRotatePerSecondVar, _p.setRotatePerSecondVar);
cc.defineGetterSetter(_p, "startColor", _p.getStartColor, _p.setStartColor);
cc.defineGetterSetter(_p, "startColorVar", _p.getStartColorVar, _p.setStartColorVar);
cc.defineGetterSetter(_p, "endColor", _p.getEndColor, _p.setEndColor);
cc.defineGetterSetter(_p, "endColorVar", _p.getEndColorVar, _p.setEndColorVar);
cc.defineGetterSetter(_p, "totalParticles", _p.getTotalParticles, _p.setTotalParticles);
cc.defineGetterSetter(_p, "texture", _p.getTexture, _p.setTexture);
cc.ParticleSystem.create = function(a) {
	return new cc.ParticleSystem(a)
};
cc.ParticleSystem.createWithTotalParticles = cc.ParticleSystem.create;
cc.ParticleSystem.ModeA = function(a, b, c, d, e, f, g, h) {
	this.gravity = a ? a : cc.p(0, 0);
	this.speed = b || 0;
	this.speedVar = c || 0;
	this.tangentialAccel = d || 0;
	this.tangentialAccelVar = e || 0;
	this.radialAccel = f || 0;
	this.radialAccelVar = g || 0;
	this.rotationIsDir = h || !1
};
cc.ParticleSystem.ModeB = function(a, b, c, d, e, f) {
	this.startRadius = a || 0;
	this.startRadiusVar = b || 0;
	this.endRadius = c || 0;
	this.endRadiusVar = d || 0;
	this.rotatePerSecond = e || 0;
	this.rotatePerSecondVar = f || 0
};
cc.ParticleSystem.SHAPE_MODE = 0;
cc.ParticleSystem.TEXTURE_MODE = 1;
cc.ParticleSystem.STAR_SHAPE = 0;
cc.ParticleSystem.BALL_SHAPE = 1;
cc.ParticleSystem.DURATION_INFINITY = -1;
cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE = -1;
cc.ParticleSystem.START_RADIUS_EQUAL_TO_END_RADIUS = -1;
cc.ParticleSystem.MODE_GRAVITY = 0;
cc.ParticleSystem.MODE_RADIUS = 1;
cc.ParticleSystem.TYPE_FREE = 0;
cc.ParticleSystem.TYPE_RELATIVE = 1;
cc.ParticleSystem.TYPE_GROUPED = 2;
(function() {
	cc.ParticleSystem.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._drawMode = cc.ParticleSystem.TEXTURE_MODE;
		this._shapeType = cc.ParticleSystem.BALL_SHAPE;
		this._pointRect = cc.rect(0, 0, 0, 0);
		this._tintCache = null
	};
	var a = cc.ParticleSystem.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.ParticleSystem.CanvasRenderCmd;
	a.getDrawMode = function() {
		return this._drawMode
	};
	a.setDrawMode = function(a) {
		this._drawMode = a
	};
	a.getShapeType = function() {
		return this._shapeType
	};
	a.setShapeType = function(a) {
		this._shapeType = a
	};
	a.setBatchNode = function(a) {
		this._batchNode !== a && (this._node._batchNode = a)
	};
	a.updateQuadWithParticle = function(a, c) {};
	a.updateParticlePosition = function(a, c) {
		cc.pIn(a.drawPos, c)
	};
	a.rendering = function(a, c, d) {
		a = a || cc._renderContext;
		var e = a.getContext(),
			f = this._node,
			g = this._pointRect;
		a.setTransform(this._worldTransform, c, d);
		a.save();
		f.isBlendAdditive() ? e.globalCompositeOperation = "lighter" : e.globalCompositeOperation = "source-over";
		var h, k;
		d = this._node.particleCount;
		var m = this._node._particles;
		if (f.drawMode !== cc.ParticleSystem.SHAPE_MODE && f._texture) {
			if (!f._texture._textureLoaded) {
				a.restore();
				return
			}
			var n = f._texture.getHtmlElementObj();
			if (!n.width || !n.height) {
				a.restore();
				return
			}
			h = n;
			for (c = 0; c < d; c++)
				if (h = m[c], k = h.color.a / 255, 0 !== k) {
					e.globalAlpha = k;
					e.save();
					e.translate(0 | h.drawPos.x, -(0 | h.drawPos.y));
					var p = 4 * Math.floor(h.size / 4);
					k = g.width;
					var r = g.height;
					e.scale(Math.max(1 / k * p, 1E-6), Math.max(1 / r * p, 1E-6));
					h.rotation && e.rotate(cc.degreesToRadians(h.rotation));
					h = h.isChangeColor ?
						this._changeTextureColor(f._texture, h.color, this._pointRect) : n;
					e.drawImage(h, -(0 | k / 2), -(0 | r / 2));
					e.restore()
				}
		} else
			for (n = cc._drawingUtil, c = 0; c < d; c++) h = m[c], g = 0 | 0.5 * h.size, k = h.color.a / 255, 0 !== k && (e.globalAlpha = k, e.save(), e.translate(0 | h.drawPos.x, -(0 | h.drawPos.y)), f.shapeType === cc.ParticleSystem.STAR_SHAPE ? (h.rotation && e.rotate(cc.degreesToRadians(h.rotation)), n.drawStar(a, g, h.color)) : n.drawColorBall(a, g, h.color), e.restore());
		a.restore();
		cc.g_NumberOfDraws++
	};
	a._changeTextureColor = function(a, c, d) {
		this._tintCache ||
			(this._tintCache = document.createElement("canvas"));
		var e = this._tintCache,
			f = a.getContentSize();
		e.width = f.width;
		e.height = f.height;
		return a._generateColorTexture(c.r, c.g, c.b, d, e)
	};
	a.initTexCoordsWithRect = function(a) {
		this._pointRect = a
	};
	a.setTotalParticles = function(a) {
		this._node._totalParticles = 200 > a ? a : 200
	};
	a.addParticle = function() {
		var a = this._node,
			c = a._particles;
		a.particleCount < c.length ? a = c[a.particleCount] : (a = new cc.Particle, c.push(a));
		return a
	};
	a._setupVBO = function() {};
	a._allocMemory = function() {
		return !0
	};
	a.postStep = function() {};
	a._setBlendAdditive = function() {
		var a = this._node._blendFunc;
		a.src = cc.BLEND_SRC;
		a.dst = cc.BLEND_DST
	};
	a._initWithTotalParticles = function(a) {};
	a._updateDeltaColor = function(a, c) {
		if (!this._node._dontTint) {
			var d = a.deltaColor;
			a.color.r += d.r * c;
			a.color.g += d.g * c;
			a.color.b += d.b * c;
			a.color.a += d.a * c;
			a.isChangeColor = 0 !== d.r || 0 !== d.g || 0 !== d.b
		}
	}
})();
(function() {
	cc.ParticleSystem.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._matrix = null;
		this._buffersVBO = [0, 0];
		this._quads = [];
		this._indices = [];
		this._quadsArrayBuffer = null
	};
	var a = cc.ParticleSystem.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.ParticleSystem.WebGLRenderCmd;
	a.getDrawMode = function() {};
	a.setDrawMode = function(a) {};
	a.getShapeType = function() {};
	a.setShapeType = function(a) {};
	a.setBatchNode = function(a) {
		var c = this._node;
		if (c._batchNode !==
			a) {
			var d = c._batchNode;
			if (c._batchNode = a)
				for (var e = c._particles, f = 0; f < c._totalParticles; f++) e[f].atlasIndex = f;
			a ? d || (c._batchNode.textureAtlas._copyQuadsToTextureAtlas(this._quads, c.atlasIndex), cc._renderContext.deleteBuffer(this._buffersVBO[1])) : (this._allocMemory(), this.initIndices(c._totalParticles), c.setTexture(d.getTexture()), this._setupVBO())
		}
	};
	a.initIndices = function(a) {
		for (var c = this._indices, d = 0; d < a; ++d) {
			var e = 6 * d,
				f = 4 * d;
			c[e + 0] = f + 0;
			c[e + 1] = f + 1;
			c[e + 2] = f + 2;
			c[e + 5] = f + 1;
			c[e + 4] = f + 2;
			c[e + 3] = f + 3
		}
	};
	a.isDifferentTexture =
		function(a, c) {
			return a === c
		};
	a.updateParticlePosition = function(a, c) {
		this.updateQuadWithParticle(a, c)
	};
	a.updateQuadWithParticle = function(a, c) {
		var d = null,
			e = this._node;
		e._batchNode ? (d = e._batchNode.textureAtlas.quads[e.atlasIndex + a.atlasIndex], e._batchNode.textureAtlas.dirty = !0) : d = this._quads[e._particleIdx];
		var f, g, h;
		e._opacityModifyRGB ? (e = 0 | a.color.r * a.color.a / 255, f = 0 | a.color.g * a.color.a / 255, g = 0 | a.color.b * a.color.a / 255) : (e = 0 | a.color.r, f = 0 | a.color.g, g = 0 | a.color.b);
		h = 0 | a.color.a;
		var k = d.bl.colors,
			m = d.br.colors,
			n = d.tl.colors,
			p = d.tr.colors;
		k.r = m.r = n.r = p.r = e;
		k.g = m.g = n.g = p.g = f;
		k.b = m.b = n.b = p.b = g;
		k.a = m.a = n.a = p.a = h;
		e = a.size / 2;
		a.rotation ? (f = -e, g = -e, h = c.x, k = c.y, n = -cc.degreesToRadians(a.rotation), m = Math.cos(n), n = Math.sin(n), d.bl.vertices.x = f * m - g * n + h, d.bl.vertices.y = f * n + g * m + k, d.br.vertices.x = e * m - g * n + h, d.br.vertices.y = e * n + g * m + k, d.tl.vertices.x = f * m - e * n + h, d.tl.vertices.y = f * n + e * m + k, d.tr.vertices.x = e * m - e * n + h, d.tr.vertices.y = e * n + e * m + k) : (d.bl.vertices.x = c.x - e, d.bl.vertices.y = c.y - e, d.br.vertices.x = c.x + e, d.br.vertices.y = c.y -
			e, d.tl.vertices.x = c.x - e, d.tl.vertices.y = c.y + e, d.tr.vertices.x = c.x + e, d.tr.vertices.y = c.y + e)
	};
	a.rendering = function(a) {
		var c = this._node;
		if (c._texture) {
			a = a || cc._renderContext;
			this._matrix || (this._matrix = new cc.math.Matrix4, this._matrix.identity());
			var d = this._worldTransform;
			this._matrix.mat[0] = d.a;
			this._matrix.mat[4] = d.c;
			this._matrix.mat[12] = d.tx;
			this._matrix.mat[1] = d.b;
			this._matrix.mat[5] = d.d;
			this._matrix.mat[13] = d.ty;
			this._glProgramState.apply(this._matrix);
			cc.glBindTexture2D(c._texture);
			cc.glBlendFuncForParticle(c._blendFunc.src,
				c._blendFunc.dst);
			a.enableVertexAttribArray(cc.VERTEX_ATTRIB_POSITION);
			a.enableVertexAttribArray(cc.VERTEX_ATTRIB_COLOR);
			a.enableVertexAttribArray(cc.VERTEX_ATTRIB_TEX_COORDS);
			a.bindBuffer(a.ARRAY_BUFFER, this._buffersVBO[0]);
			a.vertexAttribPointer(cc.VERTEX_ATTRIB_POSITION, 3, a.FLOAT, !1, 24, 0);
			a.vertexAttribPointer(cc.VERTEX_ATTRIB_COLOR, 4, a.UNSIGNED_BYTE, !0, 24, 12);
			a.vertexAttribPointer(cc.VERTEX_ATTRIB_TEX_COORDS, 2, a.FLOAT, !1, 24, 16);
			a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this._buffersVBO[1]);
			a.drawElements(a.TRIANGLES,
				6 * c._particleIdx, a.UNSIGNED_SHORT, 0)
		}
	};
	a.initTexCoordsWithRect = function(a) {
		var c = this._node,
			d = c.texture,
			e = cc.contentScaleFactor(),
			f = cc.rect(a.x * e, a.y * e, a.width * e, a.height * e),
			e = a.width,
			g = a.height;
		d && (e = d.pixelsWidth, g = d.pixelsHeight);
		cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL ? (d = (2 * f.x + 1) / (2 * e), a = (2 * f.y + 1) / (2 * g), e = d + (2 * f.width - 2) / (2 * e), f = a + (2 * f.height - 2) / (2 * g)) : (d = f.x / e, a = f.y / g, e = d + f.width / e, f = a + f.height / g);
		g = f;
		f = a;
		a = g;
		var h = 0,
			k = 0;
		c._batchNode ? (g = c._batchNode.textureAtlas.quads, h = c.atlasIndex, k = c.atlasIndex +
			c._totalParticles) : (g = this._quads, h = 0, k = c._totalParticles);
		for (c = h; c < k; c++) g[c] || (g[c] = cc.V3F_C4B_T2F_QuadZero()), h = g[c], h.bl.texCoords.u = d, h.bl.texCoords.v = a, h.br.texCoords.u = e, h.br.texCoords.v = a, h.tl.texCoords.u = d, h.tl.texCoords.v = f, h.tr.texCoords.u = e, h.tr.texCoords.v = f
	};
	a.setTotalParticles = function(a) {
		var c = this._node;
		if (a > c._allocatedParticles) {
			var d = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT;
			this._indices = new Uint16Array(6 * a);
			var e = new ArrayBuffer(a * d),
				f = c._particles;
			f.length = 0;
			for (var g = this._quads,
					h = g.length = 0; h < a; h++) f[h] = new cc.Particle, g[h] = new cc.V3F_C4B_T2F_Quad(null, null, null, null, e, h * d);
			c._allocatedParticles = a;
			c._totalParticles = a;
			if (c._batchNode)
				for (d = 0; d < a; d++) f[d].atlasIndex = d;
			this._quadsArrayBuffer = e;
			this.initIndices(a);
			this._setupVBO();
			c._texture && this.initTexCoordsWithRect(cc.rect(0, 0, c._texture.width, c._texture.height))
		} else c._totalParticles = a;
		c.resetSystem()
	};
	a.addParticle = function() {
		var a = this._node;
		return a._particles[a.particleCount]
	};
	a._setupVBO = function() {
		var a = cc._renderContext;
		this._buffersVBO[0] = a.createBuffer();
		a.bindBuffer(a.ARRAY_BUFFER, this._buffersVBO[0]);
		a.bufferData(a.ARRAY_BUFFER, this._quadsArrayBuffer, a.DYNAMIC_DRAW);
		this._buffersVBO[1] = a.createBuffer();
		a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this._buffersVBO[1]);
		a.bufferData(a.ELEMENT_ARRAY_BUFFER, this._indices, a.STATIC_DRAW)
	};
	a._allocMemory = function() {
		var a = this._node;
		if (a._batchNode) return cc.log("cc.ParticleSystem._allocMemory(): Memory should not be allocated when not using batchNode"), !1;
		var c = cc.V3F_C4B_T2F_Quad.BYTES_PER_ELEMENT,
			a = a._totalParticles,
			d = this._quads;
		d.length = 0;
		this._indices = new Uint16Array(6 * a);
		for (var e = new ArrayBuffer(c * a), f = 0; f < a; f++) d[f] = new cc.V3F_C4B_T2F_Quad(null, null, null, null, e, f * c);
		if (!d || !this._indices) return cc.log("cocos2d: Particle system: not enough memory"), !1;
		this._quadsArrayBuffer = e;
		return !0
	};
	a.postStep = function() {
		var a = cc._renderContext;
		a.bindBuffer(a.ARRAY_BUFFER, this._buffersVBO[0]);
		a.bufferSubData(a.ARRAY_BUFFER, 0, this._quadsArrayBuffer)
	};
	a._setBlendAdditive = function() {
		var a = this._node._blendFunc;
		this._texture && !this._texture.hasPremultipliedAlpha() ? (a.src = cc.SRC_ALPHA, a.dst = cc.ONE_MINUS_SRC_ALPHA) : (a.src = cc.BLEND_SRC, a.dst = cc.BLEND_DST)
	};
	a._initWithTotalParticles = function(a) {
		if (!this._allocMemory()) return !1;
		this.initIndices(a);
		this._setupVBO();
		this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR)
	};
	a._updateDeltaColor = function(a, c) {
		a.color.r += a.deltaColor.r * c;
		a.color.g += a.deltaColor.g * c;
		a.color.b += a.deltaColor.b * c;
		a.color.a += a.deltaColor.a * c;
		a.isChangeColor = !0
	}
})();
cc.ParticleFire = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 300 : 150)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, 0)), this.setRadialAccel(0), this.setRadialAccelVar(0), this.setSpeed(60), this.setSpeedVar(20), this.setAngle(90), this.setAngleVar(10),
			a = cc.director.getWinSize(), this.setPosition(a.width / 2, 60), this.setPosVar(cc.p(40, 20)), this.setLife(3), this.setLifeVar(0.25), this.setStartSize(54), this.setStartSizeVar(10), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(this.getTotalParticles() / this.getLife()), this.setStartColor(cc.color(194, 64, 31, 255)), this.setStartColorVar(cc.color(0, 0, 0, 0)), this.setEndColor(cc.color(0, 0, 0, 255)), this.setEndColorVar(cc.color(0, 0, 0, 0)), this.setBlendAdditive(!0), !0) : !1
	}
});
cc.ParticleFire.create = function() {
	return new cc.ParticleFire
};
cc.ParticleFireworks = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 1500 : 150)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, -90)), this.setRadialAccel(0), this.setRadialAccelVar(0), this.setSpeed(180), this.setSpeedVar(50), a = cc.director.getWinSize(),
			this.setPosition(a.width / 2, a.height / 2), this.setAngle(90), this.setAngleVar(20), this.setLife(3.5), this.setLifeVar(1), this.setEmissionRate(this.getTotalParticles() / this.getLife()), this.setStartColor(cc.color(128, 128, 128, 255)), this.setStartColorVar(cc.color(128, 128, 128, 255)), this.setEndColor(cc.color(26, 26, 26, 51)), this.setEndColorVar(cc.color(26, 26, 26, 51)), this.setStartSize(8), this.setStartSizeVar(2), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setBlendAdditive(!1), !0) : !1
	}
});
cc.ParticleFireworks.create = function() {
	return new cc.ParticleFireworks
};
cc.ParticleSun = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 350 : 150)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setBlendAdditive(!0), this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, 0)), this.setRadialAccel(0), this.setRadialAccelVar(0), this.setSpeed(20), this.setSpeedVar(5),
			this.setAngle(90), this.setAngleVar(360), a = cc.director.getWinSize(), this.setPosition(a.width / 2, a.height / 2), this.setPosVar(cc.p(0, 0)), this.setLife(1), this.setLifeVar(0.5), this.setStartSize(30), this.setStartSizeVar(10), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(this.getTotalParticles() / this.getLife()), this.setStartColor(cc.color(194, 64, 31, 255)), this.setStartColorVar(cc.color(0, 0, 0, 0)), this.setEndColor(cc.color(0, 0, 0, 255)), this.setEndColorVar(cc.color(0, 0, 0, 0)),
			!0) : !1
	}
});
cc.ParticleSun.create = function() {
	return new cc.ParticleSun
};
cc.ParticleGalaxy = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 200 : 100)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, 0)), this.setSpeed(60), this.setSpeedVar(10), this.setRadialAccel(-80), this.setRadialAccelVar(0), this.setTangentialAccel(80),
			this.setTangentialAccelVar(0), this.setAngle(90), this.setAngleVar(360), a = cc.director.getWinSize(), this.setPosition(a.width / 2, a.height / 2), this.setPosVar(cc.p(0, 0)), this.setLife(4), this.setLifeVar(1), this.setStartSize(37), this.setStartSizeVar(10), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(this.getTotalParticles() / this.getLife()), this.setStartColor(cc.color(31, 64, 194, 255)), this.setStartColorVar(cc.color(0, 0, 0, 0)), this.setEndColor(cc.color(0, 0, 0, 255)), this.setEndColorVar(cc.color(0,
				0, 0, 0)), this.setBlendAdditive(!0), !0) : !1
	}
});
cc.ParticleGalaxy.create = function() {
	return new cc.ParticleGalaxy
};
cc.ParticleFlower = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 250 : 100)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, 0)), this.setSpeed(80), this.setSpeedVar(10), this.setRadialAccel(-60), this.setRadialAccelVar(0), this.setTangentialAccel(15),
			this.setTangentialAccelVar(0), this.setAngle(90), this.setAngleVar(360), a = cc.director.getWinSize(), this.setPosition(a.width / 2, a.height / 2), this.setPosVar(cc.p(0, 0)), this.setLife(4), this.setLifeVar(1), this.setStartSize(30), this.setStartSizeVar(10), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(this.getTotalParticles() / this.getLife()), this.setStartColor(cc.color(128, 128, 128, 255)), this.setStartColorVar(cc.color(128, 128, 128, 128)), this.setEndColor(cc.color(0, 0, 0, 255)),
			this.setEndColorVar(cc.color(0, 0, 0, 0)), this.setBlendAdditive(!0), !0) : !1
	}
});
cc.ParticleFlower.create = function() {
	return new cc.ParticleFlower
};
cc.ParticleMeteor = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 150 : 100)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(-200, 200)), this.setSpeed(15), this.setSpeedVar(5), this.setRadialAccel(0), this.setRadialAccelVar(0), this.setTangentialAccel(0),
			this.setTangentialAccelVar(0), this.setAngle(90), this.setAngleVar(360), a = cc.director.getWinSize(), this.setPosition(a.width / 2, a.height / 2), this.setPosVar(cc.p(0, 0)), this.setLife(2), this.setLifeVar(1), this.setStartSize(60), this.setStartSizeVar(10), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(this.getTotalParticles() / this.getLife()), this.setStartColor(cc.color(51, 102, 179)), this.setStartColorVar(cc.color(0, 0, 51, 26)), this.setEndColor(cc.color(0, 0, 0, 255)), this.setEndColorVar(cc.color(0,
				0, 0, 0)), this.setBlendAdditive(!0), !0) : !1
	}
});
cc.ParticleMeteor.create = function() {
	return new cc.ParticleMeteor
};
cc.ParticleSpiral = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 500 : 100)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, 0)), this.setSpeed(150), this.setSpeedVar(0), this.setRadialAccel(-380), this.setRadialAccelVar(0), this.setTangentialAccel(45),
			this.setTangentialAccelVar(0), this.setAngle(90), this.setAngleVar(0), a = cc.director.getWinSize(), this.setPosition(a.width / 2, a.height / 2), this.setPosVar(cc.p(0, 0)), this.setLife(12), this.setLifeVar(0), this.setStartSize(20), this.setStartSizeVar(0), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(this.getTotalParticles() / this.getLife()), this.setStartColor(cc.color(128, 128, 128, 255)), this.setStartColorVar(cc.color(128, 128, 128, 0)), this.setEndColor(cc.color(128, 128, 128, 255)),
			this.setEndColorVar(cc.color(128, 128, 128, 0)), this.setBlendAdditive(!1), !0) : !1
	}
});
cc.ParticleSpiral.create = function() {
	return new cc.ParticleSpiral
};
cc.ParticleExplosion = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 700 : 300)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(0.1), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, 0)), this.setSpeed(70), this.setSpeedVar(40), this.setRadialAccel(0), this.setRadialAccelVar(0), this.setTangentialAccel(0), this.setTangentialAccelVar(0),
			this.setAngle(90), this.setAngleVar(360), a = cc.director.getWinSize(), this.setPosition(a.width / 2, a.height / 2), this.setPosVar(cc.p(0, 0)), this.setLife(5), this.setLifeVar(2), this.setStartSize(15), this.setStartSizeVar(10), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(this.getTotalParticles() / this.getDuration()), this.setStartColor(cc.color(179, 26, 51, 255)), this.setStartColorVar(cc.color(128, 128, 128, 0)), this.setEndColor(cc.color(128, 128, 128, 0)), this.setEndColorVar(cc.color(128,
				128, 128, 0)), this.setBlendAdditive(!1), !0) : !1
	}
});
cc.ParticleExplosion.create = function() {
	return new cc.ParticleExplosion
};
cc.ParticleSmoke = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 200 : 100)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, 0)), this.setRadialAccel(0), this.setRadialAccelVar(0), this.setSpeed(25), this.setSpeedVar(10), this.setAngle(90),
			this.setAngleVar(5), a = cc.director.getWinSize(), this.setPosition(a.width / 2, 0), this.setPosVar(cc.p(20, 0)), this.setLife(4), this.setLifeVar(1), this.setStartSize(60), this.setStartSizeVar(10), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(this.getTotalParticles() / this.getLife()), this.setStartColor(cc.color(204, 204, 204, 255)), this.setStartColorVar(cc.color(5, 5, 5, 0)), this.setEndColor(cc.color(0, 0, 0, 255)), this.setEndColorVar(cc.color(0, 0, 0, 0)), this.setBlendAdditive(!1),
			!0) : !1
	}
});
cc.ParticleSmoke.create = function() {
	return new cc.ParticleSmoke
};
cc.ParticleSnow = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 700 : 250)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(0, -1)), this.setSpeed(5), this.setSpeedVar(1), this.setRadialAccel(0), this.setRadialAccelVar(1), this.setTangentialAccel(0),
			this.setTangentialAccelVar(1), a = cc.director.getWinSize(), this.setPosition(a.width / 2, a.height + 10), this.setPosVar(cc.p(a.width / 2, 0)), this.setAngle(-90), this.setAngleVar(5), this.setLife(45), this.setLifeVar(15), this.setStartSize(10), this.setStartSizeVar(5), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(10), this.setStartColor(cc.color(255, 255, 255, 255)), this.setStartColorVar(cc.color(0, 0, 0, 0)), this.setEndColor(cc.color(255, 255, 255, 0)), this.setEndColorVar(cc.color(0,
				0, 0, 0)), this.setBlendAdditive(!1), !0) : !1
	}
});
cc.ParticleSnow.create = function() {
	return new cc.ParticleSnow
};
cc.ParticleRain = cc.ParticleSystem.extend({
	ctor: function() {
		cc.ParticleSystem.prototype.ctor.call(this, cc._renderType === cc.game.RENDER_TYPE_WEBGL ? 1E3 : 300)
	},
	initWithTotalParticles: function(a) {
		return cc.ParticleSystem.prototype.initWithTotalParticles.call(this, a) ? (this.setDuration(cc.ParticleSystem.DURATION_INFINITY), this.setEmitterMode(cc.ParticleSystem.MODE_GRAVITY), this.setGravity(cc.p(10, -10)), this.setRadialAccel(0), this.setRadialAccelVar(1), this.setTangentialAccel(0), this.setTangentialAccelVar(1),
			this.setSpeed(130), this.setSpeedVar(30), this.setAngle(-90), this.setAngleVar(5), a = cc.director.getWinSize(), this.setPosition(a.width / 2, a.height), this.setPosVar(cc.p(a.width / 2, 0)), this.setLife(4.5), this.setLifeVar(0), this.setStartSize(4), this.setStartSizeVar(2), this.setEndSize(cc.ParticleSystem.START_SIZE_EQUAL_TO_END_SIZE), this.setEmissionRate(20), this.setStartColor(cc.color(179, 204, 255, 255)), this.setStartColorVar(cc.color(0, 0, 0, 0)), this.setEndColor(cc.color(179, 204, 255, 128)), this.setEndColorVar(cc.color(0,
				0, 0, 0)), this.setBlendAdditive(!1), !0) : !1
	}
});
cc.ParticleRain.create = function() {
	return new cc.ParticleRain
};
cc.PARTICLE_DEFAULT_CAPACITY = 500;
cc.ParticleBatchNode = cc.Node.extend({
	textureAtlas: null,
	_blendFunc: null,
	_className: "ParticleBatchNode",
	ctor: function(a, b) {
		cc.Node.prototype.ctor.call(this);
		this._blendFunc = {
			src: cc.BLEND_SRC,
			dst: cc.BLEND_DST
		};
		cc.isString(a) ? this.init(a, b) : a instanceof cc.Texture2D && this.initWithTexture(a, b)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.ParticleBatchNode.CanvasRenderCmd(this) : new cc.ParticleBatchNode.WebGLRenderCmd(this)
	},
	initWithTexture: function(a, b) {
		this.textureAtlas =
			new cc.TextureAtlas;
		this.textureAtlas.initWithTexture(a, b);
		this._children.length = 0;
		this._renderCmd._initWithTexture();
		return !0
	},
	initWithFile: function(a, b) {
		var c = cc.textureCache.addImage(a);
		return this.initWithTexture(c, b)
	},
	init: function(a, b) {
		var c = cc.textureCache.addImage(a);
		return this.initWithTexture(c, b)
	},
	visit: function(a) {
		var b = this._renderCmd;
		a = a ? a._renderCmd : null;
		this._visible ? (b.visit(a), cc.renderer.pushRenderCommand(b), b._dirtyFlag = 0) : b._propagateFlagsDown(a)
	},
	addChild: function(a, b, c) {
		if (!a) throw Error("cc.ParticleBatchNode.addChild() : child should be non-null");
		if (!(a instanceof cc.ParticleSystem)) throw Error("cc.ParticleBatchNode.addChild() : only supports cc.ParticleSystem as children");
		b = null == b ? a.zIndex : b;
		c = null == c ? a.tag : c;
		if (a.getTexture() !== this.textureAtlas.texture) throw Error("cc.ParticleSystem.addChild() : the child is not using the same texture id");
		var d = a.getBlendFunc();
		if (0 === this._children.length) this.setBlendFunc(d);
		else if (d.src !== this._blendFunc.src || d.dst !== this._blendFunc.dst) {
			cc.log("cc.ParticleSystem.addChild() : Can't add a ParticleSystem that uses a different blending function");
			return
		}
		b = this._addChildHelper(a, b, c);
		c = 0;
		0 !== b ? (b = this._children[b - 1], c = b.getAtlasIndex() + b.getTotalParticles()) : c = 0;
		this.insertChild(a, c);
		a.setBatchNode(this)
	},
	insertChild: function(a, b) {
		var c = a.getTotalParticles(),
			d = this.textureAtlas,
			e = d.totalQuads;
		a.setAtlasIndex(b);
		e + c > d.getCapacity() && (this._increaseAtlasCapacityTo(e + c), d.fillWithEmptyQuadsFromIndex(d.getCapacity() - c, c));
		a.getAtlasIndex() + c !== e && d.moveQuadsFromIndex(b, b + c);
		d.increaseTotalQuadsWith(c);
		this._updateAllAtlasIndexes()
	},
	removeChild: function(a,
		b) {
		if (null != a) {
			if (!(a instanceof cc.ParticleSystem)) throw Error("cc.ParticleBatchNode.removeChild(): only supports cc.ParticleSystem as children");
			if (-1 === this._children.indexOf(a)) cc.log("cc.ParticleBatchNode.removeChild(): doesn't contain the sprite. Can't remove it");
			else {
				cc.Node.prototype.removeChild.call(this, a, b);
				var c = this.textureAtlas;
				c.removeQuadsAtIndex(a.getAtlasIndex(), a.getTotalParticles());
				c.fillWithEmptyQuadsFromIndex(c.totalQuads, a.getTotalParticles());
				a.setBatchNode(null);
				this._updateAllAtlasIndexes()
			}
		}
	},
	reorderChild: function(a, b) {
		if (!a) throw Error("cc.ParticleBatchNode.reorderChild(): child should be non-null");
		if (!(a instanceof cc.ParticleSystem)) throw Error("cc.ParticleBatchNode.reorderChild(): only supports cc.QuadParticleSystems as children");
		if (-1 === this._children.indexOf(a)) cc.log("cc.ParticleBatchNode.reorderChild(): Child doesn't belong to batch");
		else {
			if (1 < this._children.length) {
				var c = this._getCurrentIndex(a, b);
				if (c.oldIndex !== c.newIndex) {
					this._children.splice(c.oldIndex, 1);
					this._children.splice(c.newIndex,
						0, a);
					c = a.getAtlasIndex();
					this._updateAllAtlasIndexes();
					for (var d = 0, e = this._children, f = 0; f < e.length; f++)
						if (e[f] === a) {
							d = a.getAtlasIndex();
							break
						} this.textureAtlas.moveQuadsFromIndex(c, a.getTotalParticles(), d);
					a.updateWithNoTime()
				}
			}
			a._setLocalZOrder(b)
		}
	},
	removeChildAtIndex: function(a, b) {
		this.removeChild(this._children[i], b)
	},
	removeAllChildren: function(a) {
		for (var b = this._children, c = 0; c < b.length; c++) b[c].setBatchNode(null);
		cc.Node.prototype.removeAllChildren.call(this, a);
		this.textureAtlas.removeAllQuads()
	},
	disableParticle: function(a) {
		a = this.textureAtlas.quads[a];
		a.br.vertices.x = a.br.vertices.y = a.tr.vertices.x = a.tr.vertices.y = a.tl.vertices.x = a.tl.vertices.y = a.bl.vertices.x = a.bl.vertices.y = 0;
		this.textureAtlas._setDirty(!0)
	},
	getTexture: function() {
		return this.textureAtlas.texture
	},
	setTexture: function(a) {
		this.textureAtlas.texture = a;
		var b = this._blendFunc;
		a && !a.hasPremultipliedAlpha() && b.src === cc.BLEND_SRC && b.dst === cc.BLEND_DST && (b.src = cc.SRC_ALPHA, b.dst = cc.ONE_MINUS_SRC_ALPHA)
	},
	setBlendFunc: function(a, b) {
		void 0 ===
			b ? (this._blendFunc.src = a.src, this._blendFunc.dst = a.dst) : (this._blendFunc.src = a, this._blendFunc.src = b)
	},
	getBlendFunc: function() {
		return new cc.BlendFunc(this._blendFunc.src, this._blendFunc.dst)
	},
	_updateAllAtlasIndexes: function() {
		for (var a = 0, b = this._children, c = 0; c < b.length; c++) {
			var d = b[c];
			d.setAtlasIndex(a);
			a += d.getTotalParticles()
		}
	},
	_increaseAtlasCapacityTo: function(a) {
		cc.log("cocos2d: cc.ParticleBatchNode: resizing TextureAtlas capacity from [" + this.textureAtlas.getCapacity() + "] to [" + a + "].");
		this.textureAtlas.resizeCapacity(a) ||
			cc.log("cc.ParticleBatchNode._increaseAtlasCapacityTo() : WARNING: Not enough memory to resize the atlas")
	},
	_searchNewPositionInChildrenForZ: function(a) {
		for (var b = this._children, c = b.length, d = 0; d < c; d++)
			if (b[d].zIndex > a) return d;
		return c
	},
	_getCurrentIndex: function(a, b) {
		for (var c = !1, d = !1, e = 0, f = 0, g = 0, h = this._children, k = h.length, m = 0; m < k; m++) {
			var n = h[m];
			if (n.zIndex > b && !d && (e = m, d = !0, c && d)) break;
			if (a === n && (f = m, c = !0, d || (g = -1), c && d)) break
		}
		d || (e = k);
		return {
			newIndex: e + g,
			oldIndex: f
		}
	},
	_addChildHelper: function(a,
		b, c) {
		if (!a) throw Error("cc.ParticleBatchNode._addChildHelper(): child should be non-null");
		if (a.parent) return cc.log("cc.ParticleBatchNode._addChildHelper(): child already added. It can't be added again"), null;
		this._children || (this._children = []);
		var d = this._searchNewPositionInChildrenForZ(b);
		this._children.splice(d, 0, a);
		a.tag = c;
		a._setLocalZOrder(b);
		a.parent = this;
		this._running && (a._performRecursive(cc.Node._stateCallbackType.onEnter), a._performRecursive(cc.Node._stateCallbackType.onEnterTransitionDidFinish));
		return d
	},
	_updateBlendFunc: function() {
		this.textureAtlas.texture.hasPremultipliedAlpha() || (this._blendFunc.src = cc.SRC_ALPHA, this._blendFunc.dst = cc.ONE_MINUS_SRC_ALPHA)
	},
	getTextureAtlas: function() {
		return this.textureAtlas
	},
	setTextureAtlas: function(a) {
		this.textureAtlas = a
	}
});
_p = cc.ParticleBatchNode.prototype;
cc.defineGetterSetter(_p, "texture", _p.getTexture, _p.setTexture);
cc.ParticleBatchNode.create = function(a, b) {
	return new cc.ParticleBatchNode(a, b)
};
(function() {
	cc.ParticleBatchNode.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !1
	};
	var a = cc.ParticleBatchNode.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.ParticleBatchNode.CanvasRenderCmd;
	a._initWithTexture = function() {}
})();
(function() {
	cc.ParticleBatchNode.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._matrix = new cc.math.Matrix4;
		this._matrix.identity()
	};
	var a = cc.ParticleBatchNode.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.ParticleBatchNode.WebGLRenderCmd;
	a.rendering = function(a) {
		a = this._node;
		if (0 !== a.textureAtlas.totalQuads) {
			var c = this._worldTransform;
			this._matrix.mat[0] = c.a;
			this._matrix.mat[4] = c.c;
			this._matrix.mat[12] = c.tx;
			this._matrix.mat[1] = c.b;
			this._matrix.mat[5] =
				c.d;
			this._matrix.mat[13] = c.ty;
			this._glProgramState.apply(this._matrix);
			cc.glBlendFuncForParticle(a._blendFunc.src, a._blendFunc.dst);
			a.textureAtlas.drawQuads()
		}
	};
	a._initWithTexture = function() {
		this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_POSITION_TEXTURECOLOR)
	}
})();
cc.IMEKeyboardNotificationInfo = function(a, b, c) {
	this.begin = a || cc.rect(0, 0, 0, 0);
	this.end = b || cc.rect(0, 0, 0, 0);
	this.duration = c || 0
};
cc.IMEDelegate = cc.Class.extend({
	ctor: function() {
		cc.imeDispatcher.addDelegate(this)
	},
	removeDelegate: function() {
		cc.imeDispatcher.removeDelegate(this)
	},
	attachWithIME: function() {
		return cc.imeDispatcher.attachDelegateWithIME(this)
	},
	detachWithIME: function() {
		return cc.imeDispatcher.detachDelegateWithIME(this)
	},
	canAttachWithIME: function() {
		return !1
	},
	didAttachWithIME: function() {},
	canDetachWithIME: function() {
		return !1
	},
	didDetachWithIME: function() {},
	insertText: function(a, b) {},
	deleteBackward: function() {},
	getContentText: function() {
		return ""
	},
	keyboardWillShow: function(a) {},
	keyboardDidShow: function(a) {},
	keyboardWillHide: function(a) {},
	keyboardDidHide: function(a) {}
});
cc.IMEDispatcher = cc.Class.extend({
	_domInputControl: null,
	impl: null,
	_currentInputString: "",
	_lastClickPosition: null,
	ctor: function() {
		this.impl = new cc.IMEDispatcher.Impl;
		this._lastClickPosition = cc.p(0, 0)
	},
	init: function() {
		if (!cc.sys.isMobile) {
			this._domInputControl = cc.$("#imeDispatcherInput");
			this._domInputControl || (this._domInputControl = cc.$new("input"), this._domInputControl.setAttribute("type", "text"), this._domInputControl.setAttribute("id", "imeDispatcherInput"), this._domInputControl.resize(0, 0), this._domInputControl.translates(0,
				0), this._domInputControl.style.opacity = "0", this._domInputControl.style.fontSize = "1px", this._domInputControl.setAttribute("tabindex", 2), this._domInputControl.style.position = "absolute", this._domInputControl.style.top = 0, this._domInputControl.style.left = 0, document.body.appendChild(this._domInputControl));
			var a = this;
			this._domInputControl.addEventListener("input", function() {
				a._processDomInputString(a._domInputControl.value)
			}, !1);
			this._domInputControl.addEventListener("keydown", function(b) {
				b.keyCode === cc.KEY.tab ?
					(b.stopPropagation(), b.preventDefault()) : b.keyCode === cc.KEY.enter && (a.dispatchInsertText("\n", 1), b.stopPropagation(), b.preventDefault())
			}, !1);
			/msie/i.test(navigator.userAgent) && this._domInputControl.addEventListener("keyup", function(b) {
				b.keyCode === cc.KEY.backspace && a._processDomInputString(a._domInputControl.value)
			}, !1);
			window.addEventListener("mousedown", function(b) {
				var c = b.pageY || 0;
				a._lastClickPosition.x = b.pageX || 0;
				a._lastClickPosition.y = c
			}, !1)
		}
	},
	_processDomInputString: function(a) {
		var b, c;
		b = this._currentInputString.length <
			a.length ? this._currentInputString.length : a.length;
		for (c = 0; c < b && a[c] === this._currentInputString[c]; c++);
		var d = this._currentInputString.length - c,
			e = a.length - c;
		for (b = 0; b < d; b++) this.dispatchDeleteBackward();
		for (b = 0; b < e; b++) this.dispatchInsertText(a[c + b], 1);
		this._currentInputString = a
	},
	dispatchInsertText: function(a, b) {
		!this.impl || !a || 0 >= b || this.impl._delegateWithIme && this.impl._delegateWithIme.insertText(a, b)
	},
	dispatchDeleteBackward: function() {
		this.impl && this.impl._delegateWithIme && this.impl._delegateWithIme.deleteBackward()
	},
	getContentText: function() {
		if (this.impl && this.impl._delegateWithIme) {
			var a = this.impl._delegateWithIme.getContentText();
			return a ? a : ""
		}
		return ""
	},
	dispatchKeyboardWillShow: function(a) {
		if (this.impl)
			for (var b = 0; b < this.impl._delegateList.length; b++) {
				var c = this.impl._delegateList[b];
				c && c.keyboardWillShow(a)
			}
	},
	dispatchKeyboardDidShow: function(a) {
		if (this.impl)
			for (var b = 0; b < this.impl._delegateList.length; b++) {
				var c = this.impl._delegateList[b];
				c && c.keyboardDidShow(a)
			}
	},
	dispatchKeyboardWillHide: function(a) {
		if (this.impl)
			for (var b =
					0; b < this.impl._delegateList.length; b++) {
				var c = this.impl._delegateList[b];
				c && c.keyboardWillHide(a)
			}
	},
	dispatchKeyboardDidHide: function(a) {
		if (this.impl)
			for (var b = 0; b < this.impl._delegateList.length; b++) {
				var c = this.impl._delegateList[b];
				c && c.keyboardDidHide(a)
			}
	},
	addDelegate: function(a) {
		a && this.impl && (-1 < this.impl._delegateList.indexOf(a) || this.impl._delegateList.splice(0, 0, a))
	},
	attachDelegateWithIME: function(a) {
		if (!this.impl || !a || -1 === this.impl._delegateList.indexOf(a)) return !1;
		if (this.impl._delegateWithIme) {
			if (!this.impl._delegateWithIme.canDetachWithIME() ||
				!a.canAttachWithIME()) return !1;
			var b = this.impl._delegateWithIme;
			this.impl._delegateWithIme = null;
			b.didDetachWithIME();
			this._focusDomInput(a);
			return !0
		}
		if (!a.canAttachWithIME()) return !1;
		this._focusDomInput(a);
		return !0
	},
	_focusDomInput: function(a) {
		if (cc.sys.isMobile) {
			this.impl._delegateWithIme = a;
			a.didAttachWithIME();
			this._currentInputString = a.string || "";
			a = a.getTipMessage ? a.getTipMessage() : "please enter your word:";
			var b = window.Window;
			a = b && b.prototype.prompt && b.prototype.prompt != prompt ? b.prototype.prompt.call(window,
				a, this._currentInputString) : prompt(a, this._currentInputString);
			null != a && this._processDomInputString(a);
			this.dispatchInsertText("\n", 1)
		} else this.impl._delegateWithIme = a, this._currentInputString = a.string || "", a.didAttachWithIME(), this._domInputControl.focus(), this._domInputControl.value = this._currentInputString, this._domInputControlTranslate()
	},
	_domInputControlTranslate: function() {
		/msie/i.test(navigator.userAgent) ? (this._domInputControl.style.left = this._lastClickPosition.x + "px", this._domInputControl.style.top =
			this._lastClickPosition.y + "px") : this._domInputControl.translates(this._lastClickPosition.x, this._lastClickPosition.y)
	},
	detachDelegateWithIME: function(a) {
		if (!this.impl || !a || this.impl._delegateWithIme !== a || !a.canDetachWithIME()) return !1;
		this.impl._delegateWithIme = null;
		a.didDetachWithIME();
		cc._canvas.focus();
		return !0
	},
	removeDelegate: function(a) {
		this.impl && a && -1 !== this.impl._delegateList.indexOf(a) && (this.impl._delegateWithIme && a === this.impl._delegateWithIme && (this.impl._delegateWithIme = null), cc.arrayRemoveObject(this.impl._delegateList,
			a))
	},
	processKeycode: function(a) {
		32 > a ? a === cc.KEY.backspace ? this.dispatchDeleteBackward() : a === cc.KEY.enter && this.dispatchInsertText("\n", 1) : 255 > a && this.dispatchInsertText(String.fromCharCode(a), 1)
	}
});
cc.IMEDispatcher.Impl = cc.Class.extend({
	_delegateWithIme: null,
	_delegateList: null,
	ctor: function() {
		this._delegateList = []
	},
	findDelegate: function(a) {
		for (var b = 0; b < this._delegateList.length; b++)
			if (this._delegateList[b] === a) return b;
		return null
	}
});
cc.imeDispatcher = new cc.IMEDispatcher;
document.body ? cc.imeDispatcher.init() : window.addEventListener("load", function() {
	cc.imeDispatcher.init()
}, !1);
cc.TextFieldDelegate = cc.Class.extend({
	onTextFieldAttachWithIME: function(a) {
		return !1
	},
	onTextFieldDetachWithIME: function(a) {
		return !1
	},
	onTextFieldInsertText: function(a, b, c) {
		return !1
	},
	onTextFieldDeleteBackward: function(a, b, c) {
		return !1
	},
	onDraw: function(a) {
		return !1
	}
});
cc.TextFieldTTF = cc.LabelTTF.extend({
	delegate: null,
	colorSpaceHolder: null,
	_colorText: null,
	_lens: null,
	_inputText: "",
	_placeHolder: "",
	_charCount: 0,
	_className: "TextFieldTTF",
	ctor: function(a, b, c, d, e) {
		this.colorSpaceHolder = cc.color(127, 127, 127);
		this._colorText = cc.color(255, 255, 255, 255);
		cc.LabelTTF.prototype.ctor.call(this);
		void 0 !== e ? (this.initWithPlaceHolder("", b, c, d, e), a && this.setPlaceHolder(a)) : void 0 === d && void 0 !== c && (this.initWithString("", b, c), a && this.setPlaceHolder(a))
	},
	onEnter: function() {
		cc.LabelTTF.prototype.onEnter.call(this);
		cc.imeDispatcher.addDelegate(this)
	},
	onExit: function() {
		cc.LabelTTF.prototype.onExit.call(this);
		cc.imeDispatcher.removeDelegate(this)
	},
	getDelegate: function() {
		return this.delegate
	},
	setDelegate: function(a) {
		this.delegate = a
	},
	getCharCount: function() {
		return this._charCount
	},
	getColorSpaceHolder: function() {
		return cc.color(this.colorSpaceHolder)
	},
	setColorSpaceHolder: function(a) {
		this.colorSpaceHolder.r = a.r;
		this.colorSpaceHolder.g = a.g;
		this.colorSpaceHolder.b = a.b;
		this.colorSpaceHolder.a = cc.isUndefined(a.a) ? 255 :
			a.a;
		this._inputText.length || this.setColor(this.colorSpaceHolder)
	},
	setTextColor: function(a) {
		this._colorText.r = a.r;
		this._colorText.g = a.g;
		this._colorText.b = a.b;
		this._colorText.a = cc.isUndefined(a.a) ? 255 : a.a;
		this._inputText.length && this.setColor(this._colorText)
	},
	initWithPlaceHolder: function(a, b, c, d, e) {
		switch (arguments.length) {
			case 5:
				return a && this.setPlaceHolder(a), this.initWithString(this._placeHolder, d, e, b, c);
			case 3:
				return a && this.setPlaceHolder(a), this.initWithString(this._placeHolder, arguments[1],
					arguments[2]);
			default:
				throw Error("Argument must be non-nil ");
		}
	},
	setString: function(a) {
		this._inputText = (a = String(a)) || "";
		this._inputText.length ? (cc.LabelTTF.prototype.setString.call(this, this._inputText), this.setColor(this._colorText)) : (cc.LabelTTF.prototype.setString.call(this, this._placeHolder), this.setColor(this.colorSpaceHolder));
		cc._renderType === cc.game.RENDER_TYPE_CANVAS && this._renderCmd._updateTexture();
		this._charCount = this._inputText.length
	},
	getString: function() {
		return this._inputText
	},
	setPlaceHolder: function(a) {
		this._placeHolder =
			a || "";
		this._inputText.length || (cc.LabelTTF.prototype.setString.call(this, this._placeHolder), this.setColor(this.colorSpaceHolder))
	},
	getPlaceHolder: function() {
		return this._placeHolder
	},
	draw: function(a) {
		a = a || cc._renderContext;
		this.delegate && this.delegate.onDraw(this) || cc.LabelTTF.prototype.draw.call(this, a)
	},
	attachWithIME: function() {
		return cc.imeDispatcher.attachDelegateWithIME(this)
	},
	detachWithIME: function() {
		return cc.imeDispatcher.detachDelegateWithIME(this)
	},
	canAttachWithIME: function() {
		return this.delegate ?
			!this.delegate.onTextFieldAttachWithIME(this) : !0
	},
	didAttachWithIME: function() {},
	canDetachWithIME: function() {
		return this.delegate ? !this.delegate.onTextFieldDetachWithIME(this) : !0
	},
	didDetachWithIME: function() {},
	deleteBackward: function() {
		var a = this._inputText.length;
		0 === a || this.delegate && this.delegate.onTextFieldDeleteBackward(this, this._inputText[a - 1], 1) || (1 >= a ? (this._inputText = "", this._charCount = 0, cc.LabelTTF.prototype.setString.call(this, this._placeHolder), this.setColor(this.colorSpaceHolder)) : this.string =
			this._inputText.substring(0, a - 1))
	},
	removeDelegate: function() {
		cc.imeDispatcher.removeDelegate(this)
	},
	_tipMessage: "please enter your word:",
	setTipMessage: function(a) {
		null != a && (this._tipMessage = a)
	},
	getTipMessage: function() {
		return this._tipMessage
	},
	insertText: function(a, b) {
		var c = a,
			d = c.indexOf("\n"); - 1 < d && (c = c.substring(0, d));
		if (0 < c.length) {
			if (this.delegate && this.delegate.onTextFieldInsertText(this, c, c.length)) return;
			c = this._inputText + c;
			this._charCount = c.length;
			this.string = c
		} - 1 !== d && (this.delegate && this.delegate.onTextFieldInsertText(this,
			"\n", 1) || this.detachWithIME())
	},
	getContentText: function() {
		return this._inputText
	},
	keyboardWillShow: function(a) {},
	keyboardDidShow: function(a) {},
	keyboardWillHide: function(a) {},
	keyboardDidHide: function(a) {}
});
_p = cc.TextFieldTTF.prototype;
cc.defineGetterSetter(_p, "charCount", _p.getCharCount);
cc.defineGetterSetter(_p, "placeHolder", _p.getPlaceHolder, _p.setPlaceHolder);
cc.TextFieldTTF.create = function(a, b, c, d, e) {
	return new cc.TextFieldTTF(a, b, c, d, e)
};
cc._globalFontSize = cc.ITEM_SIZE;
cc._globalFontName = "Arial";
cc._globalFontNameRelease = !1;
cc.MenuItem = cc.Node.extend({
	_enabled: !1,
	_target: null,
	_callback: null,
	_isSelected: !1,
	_className: "MenuItem",
	ctor: function(a, b) {
		var c = cc.Node.prototype;
		c.ctor.call(this);
		this._callback = this._target = null;
		this._enabled = this._isSelected = !1;
		c.setAnchorPoint.call(this, 0.5, 0.5);
		this._target = b || null;
		if (this._callback = a || null) this._enabled = !0
	},
	isSelected: function() {
		return this._isSelected
	},
	setOpacityModifyRGB: function(a) {},
	isOpacityModifyRGB: function() {
		return !1
	},
	setTarget: function(a, b) {
		this._target = b;
		this._callback =
			a
	},
	isEnabled: function() {
		return this._enabled
	},
	setEnabled: function(a) {
		this._enabled = a
	},
	initWithCallback: function(a, b) {
		this.anchorY = this.anchorX = 0.5;
		this._target = b;
		this._callback = a;
		this._enabled = !0;
		this._isSelected = !1;
		return !0
	},
	rect: function() {
		var a = this._position,
			b = this._contentSize,
			c = this._anchorPoint;
		return cc.rect(a.x - b.width * c.x, a.y - b.height * c.y, b.width, b.height)
	},
	selected: function() {
		this._isSelected = !0
	},
	unselected: function() {
		this._isSelected = !1
	},
	setCallback: function(a, b) {
		this._target = b;
		this._callback =
			a
	},
	activate: function() {
		if (this._enabled) {
			var a = this._target,
				b = this._callback;
			if (b)
				if (a && cc.isString(b)) a[b](this);
				else a && cc.isFunction(b) ? b.call(a, this) : b(this)
		}
	}
});
_p = cc.MenuItem.prototype;
cc.defineGetterSetter(_p, "enabled", _p.isEnabled, _p.setEnabled);
cc.MenuItem.create = function(a, b) {
	return new cc.MenuItem(a, b)
};
cc.MenuItemLabel = cc.MenuItem.extend({
	_disabledColor: null,
	_label: null,
	_originalScale: 0,
	_colorBackup: null,
	ctor: function(a, b, c) {
		cc.MenuItem.prototype.ctor.call(this, b, c);
		this._colorBackup = this._label = this._disabledColor = null;
		a && (this._originalScale = 1, this._colorBackup = cc.color.WHITE, this._disabledColor = cc.color(126, 126, 126), this.setLabel(a), a.textureLoaded && !a.textureLoaded() && a.addEventListener("load", function(a) {
				this.width = a.width;
				this.height = a.height;
				this.parent instanceof cc.Menu && this.parent.updateAlign()
			},
			this), this.setCascadeColorEnabled(!0), this.setCascadeOpacityEnabled(!0))
	},
	getDisabledColor: function() {
		return this._disabledColor
	},
	setDisabledColor: function(a) {
		this._disabledColor = a
	},
	getLabel: function() {
		return this._label
	},
	setLabel: function(a) {
		a && (this.addChild(a), a.anchorX = 0, a.anchorY = 0, this.width = a.width, this.height = a.height, a.setCascadeColorEnabled(!0));
		this._label && this.removeChild(this._label, !0);
		this._label = a
	},
	setEnabled: function(a) {
		this._enabled !== a && (a ? this.setColor(this._colorBackup) : (this._colorBackup =
			this.color, this.setColor(this._disabledColor)));
		cc.MenuItem.prototype.setEnabled.call(this, a)
	},
	initWithLabel: function(a, b, c) {
		this.initWithCallback(b, c);
		this._originalScale = 1;
		this._colorBackup = cc.color.WHITE;
		this._disabledColor = cc.color(126, 126, 126);
		this.setLabel(a);
		this.setCascadeColorEnabled(!0);
		this.setCascadeOpacityEnabled(!0);
		return !0
	},
	setString: function(a) {
		this._label.string = a;
		this.width = this._label.width;
		this.height = this._label.height
	},
	getString: function() {
		return this._label.string
	},
	activate: function() {
		this._enabled &&
			(this.stopAllActions(), this.scale = this._originalScale, cc.MenuItem.prototype.activate.call(this))
	},
	selected: function() {
		if (this._enabled) {
			cc.MenuItem.prototype.selected.call(this);
			var a = this.getActionByTag(cc.ZOOM_ACTION_TAG);
			a ? this.stopAction(a) : this._originalScale = this.scale;
			a = cc.scaleTo(0.1, 1.2 * this._originalScale);
			a.setTag(cc.ZOOM_ACTION_TAG);
			this.runAction(a)
		}
	},
	unselected: function() {
		if (this._enabled) {
			cc.MenuItem.prototype.unselected.call(this);
			this.stopActionByTag(cc.ZOOM_ACTION_TAG);
			var a = cc.scaleTo(0.1,
				this._originalScale);
			a.setTag(cc.ZOOM_ACTION_TAG);
			this.runAction(a)
		}
	}
});
_p = cc.MenuItemLabel.prototype;
cc.defineGetterSetter(_p, "string", _p.getString, _p.setString);
cc.defineGetterSetter(_p, "disabledColor", _p.getDisabledColor, _p.setDisabledColor);
cc.defineGetterSetter(_p, "label", _p.getLabel, _p.setLabel);
cc.MenuItemLabel.create = function(a, b, c) {
	return new cc.MenuItemLabel(a, b, c)
};
cc.MenuItemAtlasFont = cc.MenuItemLabel.extend({
	ctor: function(a, b, c, d, e, f, g) {
		var h;
		a && 0 < a.length && (h = new cc.LabelAtlas(a, b, c, d, e));
		cc.MenuItemLabel.prototype.ctor.call(this, h, f, g)
	},
	initWithString: function(a, b, c, d, e, f, g) {
		if (!a || 0 === a.length) throw Error("cc.MenuItemAtlasFont.initWithString(): value should be non-null and its length should be greater than 0");
		var h = new cc.LabelAtlas;
		h.initWithString(a, b, c, d, e);
		this.initWithLabel(h, f, g);
		return !0
	}
});
cc.MenuItemAtlasFont.create = function(a, b, c, d, e, f, g) {
	return new cc.MenuItemAtlasFont(a, b, c, d, e, f, g)
};
cc.MenuItemFont = cc.MenuItemLabel.extend({
	_fontSize: null,
	_fontName: null,
	ctor: function(a, b, c) {
		var d;
		a && 0 < a.length ? (this._fontName = cc._globalFontName, this._fontSize = cc._globalFontSize, d = new cc.LabelTTF(a, this._fontName, this._fontSize)) : (this._fontSize = 0, this._fontName = "");
		cc.MenuItemLabel.prototype.ctor.call(this, d, b, c)
	},
	initWithString: function(a, b, c) {
		if (!a || 0 === a.length) throw Error("Value should be non-null and its length should be greater than 0");
		this._fontName = cc._globalFontName;
		this._fontSize = cc._globalFontSize;
		a = new cc.LabelTTF(a, this._fontName, this._fontSize);
		this.initWithLabel(a, b, c);
		return !0
	},
	setFontSize: function(a) {
		this._fontSize = a;
		this._recreateLabel()
	},
	getFontSize: function() {
		return this._fontSize
	},
	setFontName: function(a) {
		this._fontName = a;
		this._recreateLabel()
	},
	getFontName: function() {
		return this._fontName
	},
	_recreateLabel: function() {
		var a = new cc.LabelTTF(this._label.string, this._fontName, this._fontSize);
		this.setLabel(a)
	}
});
cc.MenuItemFont.setFontSize = function(a) {
	cc._globalFontSize = a
};
cc.MenuItemFont.fontSize = function() {
	return cc._globalFontSize
};
cc.MenuItemFont.setFontName = function(a) {
	cc._globalFontNameRelease && (cc._globalFontName = "");
	cc._globalFontName = a;
	cc._globalFontNameRelease = !0
};
_p = cc.MenuItemFont.prototype;
cc.defineGetterSetter(_p, "fontSize", _p.getFontSize, _p.setFontSize);
cc.defineGetterSetter(_p, "fontName", _p.getFontName, _p.setFontName);
cc.MenuItemFont.fontName = function() {
	return cc._globalFontName
};
cc.MenuItemFont.create = function(a, b, c) {
	return new cc.MenuItemFont(a, b, c)
};
cc.MenuItemSprite = cc.MenuItem.extend({
	_normalImage: null,
	_selectedImage: null,
	_disabledImage: null,
	ctor: function(a, b, c, d, e) {
		cc.MenuItem.prototype.ctor.call(this);
		this._disabledImage = this._selectedImage = this._normalImage = null;
		this._loader = new cc.Sprite.LoadManager;
		if (void 0 !== a) {
			b = b || null;
			var f, g, h;
			void 0 !== e ? (f = c, h = d, g = e) : void 0 !== d && cc.isFunction(d) ? (f = c, h = d) : void 0 !== d && cc.isFunction(c) ? (g = d, h = c, f = null) : void 0 === c && (f = null);
			this._loader.clear();
			if (a.textureLoaded && !a.textureLoaded()) return this._loader.once(a,
				function() {
					this.initWithNormalSprite(a, b, f, h, g)
				}, this), !1;
			this.initWithNormalSprite(a, b, f, h, g);
			return !0
		}
	},
	getNormalImage: function() {
		return this._normalImage
	},
	setNormalImage: function(a) {
		this._normalImage !== a && (a && (this.addChild(a, 0, cc.NORMAL_TAG), a.anchorX = 0, a.anchorY = 0), this._normalImage && this.removeChild(this._normalImage, !0), this._normalImage = a) && (this.width = this._normalImage.width, this.height = this._normalImage.height, this._updateImagesVisibility(), a.textureLoaded && !a.textureLoaded() && a.addEventListener("load",
			function(a) {
				this.width = a.width;
				this.height = a.height;
				this.parent instanceof cc.Menu && this.parent.updateAlign()
			}, this))
	},
	getSelectedImage: function() {
		return this._selectedImage
	},
	setSelectedImage: function(a) {
		this._selectedImage !== a && (a && (this.addChild(a, 0, cc.SELECTED_TAG), a.anchorX = 0, a.anchorY = 0), this._selectedImage && this.removeChild(this._selectedImage, !0), this._selectedImage = a, this._updateImagesVisibility())
	},
	getDisabledImage: function() {
		return this._disabledImage
	},
	setDisabledImage: function(a) {
		this._disabledImage !==
			a && (a && (this.addChild(a, 0, cc.DISABLE_TAG), a.anchorX = 0, a.anchorY = 0), this._disabledImage && this.removeChild(this._disabledImage, !0), this._disabledImage = a, this._updateImagesVisibility())
	},
	initWithNormalSprite: function(a, b, c, d, e) {
		this._loader.clear();
		if (a.textureLoaded && !a.textureLoaded()) return this._loader.once(a, function() {
			this.initWithNormalSprite(a, b, c, d, e)
		}, this), !1;
		this.initWithCallback(d, e);
		this.setNormalImage(a);
		this.setSelectedImage(b);
		this.setDisabledImage(c);
		var f = this._normalImage;
		f && (this.width =
			f.width, this.height = f.height);
		this.setCascadeColorEnabled(!0);
		this.setCascadeOpacityEnabled(!0);
		return !0
	},
	selected: function() {
		cc.MenuItem.prototype.selected.call(this);
		this._normalImage && (this._disabledImage && (this._disabledImage.visible = !1), this._selectedImage ? (this._normalImage.visible = !1, this._selectedImage.visible = !0) : this._normalImage.visible = !0)
	},
	unselected: function() {
		cc.MenuItem.prototype.unselected.call(this);
		this._normalImage && (this._normalImage.visible = !0, this._selectedImage && (this._selectedImage.visible = !1), this._disabledImage && (this._disabledImage.visible = !1))
	},
	setEnabled: function(a) {
		this._enabled !== a && (cc.MenuItem.prototype.setEnabled.call(this, a), this._updateImagesVisibility())
	},
	_updateImagesVisibility: function() {
		var a = this._normalImage,
			b = this._selectedImage,
			c = this._disabledImage;
		this._enabled ? (a && (a.visible = !0), b && (b.visible = !1), c && (c.visible = !1)) : c ? (a && (a.visible = !1), b && (b.visible = !1), c && (c.visible = !0)) : (a && (a.visible = !0), b && (b.visible = !1))
	}
});
_p = cc.MenuItemSprite.prototype;
cc.defineGetterSetter(_p, "normalImage", _p.getNormalImage, _p.setNormalImage);
cc.defineGetterSetter(_p, "selectedImage", _p.getSelectedImage, _p.setSelectedImage);
cc.defineGetterSetter(_p, "disabledImage", _p.getDisabledImage, _p.setDisabledImage);
cc.MenuItemSprite.create = function(a, b, c, d, e) {
	return new cc.MenuItemSprite(a, b, c, d, e || void 0)
};
cc.MenuItemImage = cc.MenuItemSprite.extend({
	ctor: function(a, b, c, d, e) {
		var f = null,
			g = null,
			h = null,
			k = null,
			m = null;
		void 0 === a || null === a ? cc.MenuItemSprite.prototype.ctor.call(this) : (f = new cc.Sprite(a), b && (g = new cc.Sprite(b)), void 0 === d ? k = c : void 0 === e ? (k = c, m = d) : e && (h = new cc.Sprite(c), k = d, m = e), cc.MenuItemSprite.prototype.ctor.call(this, f, g, h, k, m))
	},
	setNormalSpriteFrame: function(a) {
		this.setNormalImage(new cc.Sprite(a))
	},
	setSelectedSpriteFrame: function(a) {
		this.setSelectedImage(new cc.Sprite(a))
	},
	setDisabledSpriteFrame: function(a) {
		this.setDisabledImage(new cc.Sprite(a))
	},
	initWithNormalImage: function(a, b, c, d, e) {
		var f = null,
			g = null,
			h = null;
		a && (f = new cc.Sprite(a));
		b && (g = new cc.Sprite(b));
		c && (h = new cc.Sprite(c));
		return this.initWithNormalSprite(f, g, h, d, e)
	}
});
cc.MenuItemImage.create = function(a, b, c, d, e) {
	return new cc.MenuItemImage(a, b, c, d, e)
};
cc.MenuItemToggle = cc.MenuItem.extend({
	subItems: null,
	_selectedIndex: 0,
	_opacity: null,
	_color: null,
	ctor: function() {
		cc.MenuItem.prototype.ctor.call(this);
		this._selectedIndex = 0;
		this.subItems = [];
		this._opacity = 0;
		this._color = cc.color.WHITE;
		0 < arguments.length && this.initWithItems(Array.prototype.slice.apply(arguments))
	},
	getOpacity: function() {
		return this._opacity
	},
	setOpacity: function(a) {
		this._opacity = a;
		if (this.subItems && 0 < this.subItems.length)
			for (var b = 0; b < this.subItems.length; b++) this.subItems[b].opacity = a;
		this._color.a = a
	},
	getColor: function() {
		var a = this._color;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	setColor: function(a) {
		var b = this._color;
		b.r = a.r;
		b.g = a.g;
		b.b = a.b;
		if (this.subItems && 0 < this.subItems.length)
			for (b = 0; b < this.subItems.length; b++) this.subItems[b].setColor(a);
		void 0 === a.a || a.a_undefined || this.setOpacity(a.a)
	},
	getSelectedIndex: function() {
		return this._selectedIndex
	},
	setSelectedIndex: function(a) {
		if (a !== this._selectedIndex) {
			this._selectedIndex = a;
			(a = this.getChildByTag(cc.CURRENT_ITEM)) && a.removeFromParent(!1);
			a = this.subItems[this._selectedIndex];
			this.addChild(a, 0, cc.CURRENT_ITEM);
			var b = a.width,
				c = a.height;
			this.width = b;
			this.height = c;
			a.setPosition(b / 2, c / 2)
		}
	},
	getSubItems: function() {
		return this.subItems
	},
	setSubItems: function(a) {
		this.subItems = a
	},
	initWithItems: function(a) {
		var b = a.length;
		cc.isFunction(a[a.length - 2]) ? (this.initWithCallback(a[a.length - 2], a[a.length - 1]), b -= 2) : cc.isFunction(a[a.length - 1]) ? (this.initWithCallback(a[a.length - 1], null), b -= 1) : this.initWithCallback(null, null);
		for (var c = this.subItems, d = c.length =
				0; d < b; d++) a[d] && c.push(a[d]);
		this._selectedIndex = cc.UINT_MAX;
		this.setSelectedIndex(0);
		this.setCascadeColorEnabled(!0);
		this.setCascadeOpacityEnabled(!0);
		return !0
	},
	addSubItem: function(a) {
		this.subItems.push(a)
	},
	activate: function() {
		this._enabled && this.setSelectedIndex((this._selectedIndex + 1) % this.subItems.length);
		cc.MenuItem.prototype.activate.call(this)
	},
	selected: function() {
		cc.MenuItem.prototype.selected.call(this);
		this.subItems[this._selectedIndex].selected()
	},
	unselected: function() {
		cc.MenuItem.prototype.unselected.call(this);
		this.subItems[this._selectedIndex].unselected()
	},
	setEnabled: function(a) {
		if (this._enabled !== a) {
			cc.MenuItem.prototype.setEnabled.call(this, a);
			var b = this.subItems;
			if (b && 0 < b.length)
				for (var c = 0; c < b.length; c++) b[c].enabled = a
		}
	},
	selectedItem: function() {
		return this.subItems[this._selectedIndex]
	},
	getSelectedItem: function() {
		return this.subItems[this._selectedIndex]
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		this.setSelectedIndex(this._selectedIndex)
	}
});
_p = cc.MenuItemToggle.prototype;
cc.defineGetterSetter(_p, "selectedIndex", _p.getSelectedIndex, _p.setSelectedIndex);
cc.MenuItemToggle.create = function() {
	0 < arguments.length && null == arguments[arguments.length - 1] && cc.log("parameters should not be ending with null in Javascript");
	var a = new cc.MenuItemToggle;
	a.initWithItems(Array.prototype.slice.apply(arguments));
	return a
};
cc.MENU_STATE_WAITING = 0;
cc.MENU_STATE_TRACKING_TOUCH = 1;
cc.MENU_HANDLER_PRIORITY = -128;
cc.DEFAULT_PADDING = 5;
cc.Menu = cc.Layer.extend({
	enabled: !1,
	_selectedItem: null,
	_state: -1,
	_touchListener: null,
	_className: "Menu",
	ctor: function(a) {
		cc.Layer.prototype.ctor.call(this);
		this._color = cc.color.WHITE;
		this.enabled = !1;
		this._opacity = 255;
		this._selectedItem = null;
		this._state = -1;
		this._touchListener = cc.EventListener.create({
			event: cc.EventListener.TOUCH_ONE_BY_ONE,
			swallowTouches: !0,
			onTouchBegan: this._onTouchBegan,
			onTouchMoved: this._onTouchMoved,
			onTouchEnded: this._onTouchEnded,
			onTouchCancelled: this._onTouchCancelled
		});
		var b =
			arguments.length,
			c;
		if (a instanceof Array) c = a;
		else if (0 === b) c = [];
		else if (0 < b) {
			c = [];
			for (var d = 0; d < b; d++) arguments[d] && c.push(arguments[d])
		}
		this.initWithArray(c)
	},
	onEnter: function() {
		var a = this._touchListener;
		a._isRegistered() || cc.eventManager.addListener(a, this);
		cc.Node.prototype.onEnter.call(this)
	},
	isEnabled: function() {
		return this.enabled
	},
	setEnabled: function(a) {
		this.enabled = a
	},
	initWithItems: function(a) {
		var b = [];
		if (a)
			for (var c = 0; c < a.length; c++) a[c] && b.push(a[c]);
		return this.initWithArray(b)
	},
	initWithArray: function(a) {
		if (cc.Layer.prototype.init.call(this)) {
			this.enabled = !0;
			var b = cc.winSize;
			this.setPosition(b.width / 2, b.height / 2);
			this.setContentSize(b);
			this.setAnchorPoint(0.5, 0.5);
			this.ignoreAnchorPointForPosition(!0);
			if (a)
				for (b = 0; b < a.length; b++) this.addChild(a[b], b);
			this._selectedItem = null;
			this._state = cc.MENU_STATE_WAITING;
			return this.cascadeOpacity = this.cascadeColor = !0
		}
		return !1
	},
	addChild: function(a, b, c) {
		if (!(a instanceof cc.MenuItem)) throw Error("cc.Menu.addChild() : Menu only supports MenuItem objects as children");
		cc.Layer.prototype.addChild.call(this, a, b, c)
	},
	updateAlign: function() {
		switch (this._align) {
			case "vertically":
				this.alignItemsVertically();
				break;
			case "horizontally":
				this.alignItemsHorizontally()
		}
	},
	alignItemsVertically: function() {
		this.alignItemsVerticallyWithPadding(cc.DEFAULT_PADDING)
	},
	alignItemsVerticallyWithPadding: function(a) {
		this._align = "vertically";
		var b = -a,
			c = this._children,
			d, e, f, g;
		if (c && 0 < c.length) {
			e = 0;
			for (d = c.length; e < d; e++) b += c[e].height * c[e].scaleY + a;
			var h = b / 2;
			e = 0;
			for (d = c.length; e < d; e++) g = c[e], f = g.height, b = g.scaleY, g.setPosition(0, h - f * b /
				2), h -= f * b + a
		}
	},
	alignItemsHorizontally: function() {
		this.alignItemsHorizontallyWithPadding(cc.DEFAULT_PADDING)
	},
	alignItemsHorizontallyWithPadding: function(a) {
		this._align = "horizontally";
		var b = -a,
			c = this._children,
			d, e, f, g;
		if (c && 0 < c.length) {
			d = 0;
			for (e = c.length; d < e; d++) b += c[d].width * c[d].scaleX + a;
			var h = -b / 2;
			d = 0;
			for (e = c.length; d < e; d++) g = c[d], b = g.scaleX, f = c[d].width, g.setPosition(h + f * b / 2, 0), h += f * b + a
		}
	},
	alignItemsInColumns: function() {
		0 < arguments.length && null == arguments[arguments.length - 1] && cc.log("parameters should not be ending with null in Javascript");
		var a, b = [];
		for (a = 0; a < arguments.length; a++) b.push(arguments[a]);
		var c = -5,
			d = 0,
			e = 0,
			f = 0,
			g, h, k, m = this._children;
		if (m && 0 < m.length)
			for (a = 0, k = m.length; a < k; a++) d >= b.length || !(g = b[d]) || (h = m[a].height, e = e >= h || isNaN(h) ? e : h, ++f, f >= g && (c += e + 5, e = f = 0, ++d));
		var n = cc.director.getWinSize(),
			p = g = e = d = 0,
			r = 0,
			c = c / 2;
		if (m && 0 < m.length)
			for (a = 0, k = m.length; a < k; a++) {
				var t = m[a];
				0 === g && (g = b[d], r = p = n.width / (1 + g));
				h = t._getHeight();
				e = e >= h || isNaN(h) ? e : h;
				t.setPosition(r - n.width / 2, c - h / 2);
				r += p;
				++f;
				f >= g && (c -= e + 5, e = g = f = 0, ++d)
			}
	},
	alignItemsInRows: function() {
		0 <
			arguments.length && null == arguments[arguments.length - 1] && cc.log("parameters should not be ending with null in Javascript");
		var a, b = [];
		for (a = 0; a < arguments.length; a++) b.push(arguments[a]);
		var c = [],
			d = [],
			e = -10,
			f = -5,
			g = 0,
			h = 0,
			k = 0,
			m, n, p, r, t = this._children;
		if (t && 0 < t.length)
			for (a = 0, p = t.length; a < p; a++)(n = t[a], g >= b.length || !(m = b[g])) || (r = n.width, h = h >= r || isNaN(r) ? h : r, f += n.height + 5, ++k, k >= m && (c.push(h), d.push(f), e += h + 10, h = k = 0, f = -5, ++g));
		f = cc.director.getWinSize();
		m = h = g = 0;
		var e = -e / 2,
			u = 0;
		if (t && 0 < t.length)
			for (a = 0, p =
				t.length; a < p; a++) n = t[a], 0 === m && (m = b[g], u = d[g]), r = n._getWidth(), h = h >= r || isNaN(r) ? h : r, n.setPosition(e + c[g] / 2, u - f.height / 2), u -= n.height + 10, ++k, k >= m && (e += h + 5, h = m = k = 0, ++g)
	},
	removeChild: function(a, b) {
		null != a && (a instanceof cc.MenuItem ? (this._selectedItem === a && (this._selectedItem = null), cc.Node.prototype.removeChild.call(this, a, b)) : cc.log("cc.Menu.removeChild():Menu only supports MenuItem objects as children"))
	},
	_onTouchBegan: function(a, b) {
		var c = b.getCurrentTarget();
		if (c._state !== cc.MENU_STATE_WAITING || !c._visible ||
			!c.enabled) return !1;
		for (var d = c.parent; null != d; d = d.parent)
			if (!d.isVisible()) return !1;
		c._selectedItem = c._itemForTouch(a);
		return c._selectedItem ? (c._state = cc.MENU_STATE_TRACKING_TOUCH, c._selectedItem.selected(), c._selectedItem.setNodeDirty(), !0) : !1
	},
	_onTouchEnded: function(a, b) {
		var c = b.getCurrentTarget();
		c._state !== cc.MENU_STATE_TRACKING_TOUCH ? cc.log("cc.Menu.onTouchEnded(): invalid state") : (c._selectedItem && (c._selectedItem.unselected(), c._selectedItem.setNodeDirty(), c._selectedItem.activate()), c._state =
			cc.MENU_STATE_WAITING)
	},
	_onTouchCancelled: function(a, b) {
		var c = b.getCurrentTarget();
		c._state !== cc.MENU_STATE_TRACKING_TOUCH ? cc.log("cc.Menu.onTouchCancelled(): invalid state") : (c._selectedItem && (c._selectedItem.unselected(), c._selectedItem.setNodeDirty()), c._state = cc.MENU_STATE_WAITING)
	},
	_onTouchMoved: function(a, b) {
		var c = b.getCurrentTarget();
		if (c._state !== cc.MENU_STATE_TRACKING_TOUCH) cc.log("cc.Menu.onTouchMoved(): invalid state");
		else {
			var d = c._itemForTouch(a);
			d !== c._selectedItem && (c._selectedItem &&
				(c._selectedItem.unselected(), c._selectedItem.setNodeDirty()), c._selectedItem = d, c._selectedItem && (c._selectedItem.selected(), c._selectedItem.setNodeDirty()))
		}
	},
	onExit: function() {
		this._state === cc.MENU_STATE_TRACKING_TOUCH && (this._selectedItem && (this._selectedItem.unselected(), this._selectedItem = null), this._state = cc.MENU_STATE_WAITING);
		cc.Node.prototype.onExit.call(this)
	},
	setOpacityModifyRGB: function(a) {},
	isOpacityModifyRGB: function() {
		return !1
	},
	_itemForTouch: function(a) {
		a = a.getLocation();
		var b = this._children,
			c;
		if (b && 0 < b.length)
			for (var d = b.length - 1; 0 <= d; d--)
				if (c = b[d], c.isVisible() && c.isEnabled()) {
					var e = c.convertToNodeSpace(a),
						f = c.rect();
					f.x = 0;
					f.y = 0;
					if (cc.rectContainsPoint(f, e)) return c
				} return null
	}
});
_p = cc.Menu.prototype;
cc.Menu.create = function(a) {
	var b = arguments.length;
	0 < b && null == arguments[b - 1] && cc.log("parameters should not be ending with null in Javascript");
	return 0 === b ? new cc.Menu : 1 === b ? new cc.Menu(a) : new cc.Menu(Array.prototype.slice.call(arguments, 0))
};
cc.Codec.GZip = function(a) {
	this.data = a;
	this.debug = !1;
	this.gpflags = void 0;
	this.files = 0;
	this.unzipped = [];
	this.buf32k = Array(32768);
	this.bIdx = 0;
	this.modeZIP = !1;
	this.bytepos = 0;
	this.bb = 1;
	this.bits = 0;
	this.nameBuf = [];
	this.fileout = void 0;
	this.literalTree = Array(cc.Codec.GZip.LITERALS);
	this.distanceTree = Array(32);
	this.treepos = 0;
	this.Places = null;
	this.len = 0;
	this.fpos = Array(17);
	this.fpos[0] = 0;
	this.fmax = this.flens = void 0
};
cc.Codec.GZip.gunzip = function(a) {
	return (new cc.Codec.GZip(a)).gunzip()[0][0]
};
cc.Codec.GZip.HufNode = function() {
	this.b1 = this.b0 = 0;
	this.jump = null;
	this.jumppos = -1
};
cc.Codec.GZip.LITERALS = 288;
cc.Codec.GZip.NAMEMAX = 256;
cc.Codec.GZip.bitReverse = [0, 128, 64, 192, 32, 160, 96, 224, 16, 144, 80, 208, 48, 176, 112, 240, 8, 136, 72, 200, 40, 168, 104, 232, 24, 152, 88, 216, 56, 184, 120, 248, 4, 132, 68, 196, 36, 164, 100, 228, 20, 148, 84, 212, 52, 180, 116, 244, 12, 140, 76, 204, 44, 172, 108, 236, 28, 156, 92, 220, 60, 188, 124, 252, 2, 130, 66, 194, 34, 162, 98, 226, 18, 146, 82, 210, 50, 178, 114, 242, 10, 138, 74, 202, 42, 170, 106, 234, 26, 154, 90, 218, 58, 186, 122, 250, 6, 134, 70, 198, 38, 166, 102, 230, 22, 150, 86, 214, 54, 182, 118, 246, 14, 142, 78, 206, 46, 174, 110, 238, 30, 158, 94, 222, 62, 190, 126, 254, 1, 129, 65, 193, 33, 161,
	97, 225, 17, 145, 81, 209, 49, 177, 113, 241, 9, 137, 73, 201, 41, 169, 105, 233, 25, 153, 89, 217, 57, 185, 121, 249, 5, 133, 69, 197, 37, 165, 101, 229, 21, 149, 85, 213, 53, 181, 117, 245, 13, 141, 77, 205, 45, 173, 109, 237, 29, 157, 93, 221, 61, 189, 125, 253, 3, 131, 67, 195, 35, 163, 99, 227, 19, 147, 83, 211, 51, 179, 115, 243, 11, 139, 75, 203, 43, 171, 107, 235, 27, 155, 91, 219, 59, 187, 123, 251, 7, 135, 71, 199, 39, 167, 103, 231, 23, 151, 87, 215, 55, 183, 119, 247, 15, 143, 79, 207, 47, 175, 111, 239, 31, 159, 95, 223, 63, 191, 127, 255
];
cc.Codec.GZip.cplens = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0];
cc.Codec.GZip.cplext = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 99, 99];
cc.Codec.GZip.cpdist = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577];
cc.Codec.GZip.cpdext = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13];
cc.Codec.GZip.border = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
cc.Codec.GZip.prototype.gunzip = function() {
	this.outputArr = [];
	this.nextFile();
	return this.unzipped
};
cc.Codec.GZip.prototype.readByte = function() {
	this.bits += 8;
	return this.bytepos < this.data.length ? this.data.charCodeAt(this.bytepos++) : -1
};
cc.Codec.GZip.prototype.byteAlign = function() {
	this.bb = 1
};
cc.Codec.GZip.prototype.readBit = function() {
	var a;
	this.bits++;
	a = this.bb & 1;
	this.bb >>= 1;
	0 === this.bb && (this.bb = this.readByte(), a = this.bb & 1, this.bb = this.bb >> 1 | 128);
	return a
};
cc.Codec.GZip.prototype.readBits = function(a) {
	for (var b = 0, c = a; c--;) b = b << 1 | this.readBit();
	a && (b = cc.Codec.GZip.bitReverse[b] >> 8 - a);
	return b
};
cc.Codec.GZip.prototype.flushBuffer = function() {
	this.bIdx = 0
};
cc.Codec.GZip.prototype.addBuffer = function(a) {
	this.buf32k[this.bIdx++] = a;
	this.outputArr.push(String.fromCharCode(a));
	32768 === this.bIdx && (this.bIdx = 0)
};
cc.Codec.GZip.prototype.IsPat = function() {
	for (;;) {
		if (this.fpos[this.len] >= this.fmax) return -1;
		if (this.flens[this.fpos[this.len]] === this.len) return this.fpos[this.len]++;
		this.fpos[this.len]++
	}
};
cc.Codec.GZip.prototype.Rec = function() {
	var a = this.Places[this.treepos],
		b;
	if (17 === this.len) return -1;
	this.treepos++;
	this.len++;
	b = this.IsPat();
	if (0 <= b) a.b0 = b;
	else if (a.b0 = 32768, this.Rec()) return -1;
	b = this.IsPat();
	if (0 <= b) a.b1 = b, a.jump = null;
	else if (a.b1 = 32768, a.jump = this.Places[this.treepos], a.jumppos = this.treepos, this.Rec()) return -1;
	this.len--;
	return 0
};
cc.Codec.GZip.prototype.CreateTree = function(a, b, c, d) {
	this.Places = a;
	this.treepos = 0;
	this.flens = c;
	this.fmax = b;
	for (a = 0; 17 > a; a++) this.fpos[a] = 0;
	this.len = 0;
	return this.Rec() ? -1 : 0
};
cc.Codec.GZip.prototype.DecodeValue = function(a) {
	for (var b, c, d = 0, e = a[d];;)
		if (b = this.readBit()) {
			if (!(e.b1 & 32768)) return e.b1;
			e = e.jump;
			b = a.length;
			for (c = 0; c < b; c++)
				if (a[c] === e) {
					d = c;
					break
				}
		} else {
			if (!(e.b0 & 32768)) return e.b0;
			d++;
			e = a[d]
		} return -1
};
cc.Codec.GZip.prototype.DeflateLoop = function() {
	var a, b, c, d, e;
	do
		if (a = this.readBit(), c = this.readBits(2), 0 === c)
			for (this.byteAlign(), c = this.readByte(), c |= this.readByte() << 8, b = this.readByte(), b |= this.readByte() << 8, (c ^ ~b) & 65535 && document.write("BlockLen checksum mismatch\n"); c--;) b = this.readByte(), this.addBuffer(b);
		else if (1 === c)
		for (;;)
			if (c = cc.Codec.GZip.bitReverse[this.readBits(7)] >> 1, 23 < c ? (c = c << 1 | this.readBit(), 199 < c ? (c -= 128, c = c << 1 | this.readBit()) : (c -= 48, 143 < c && (c += 136))) : c += 256, 256 > c) this.addBuffer(c);
			else if (256 === c) break;
	else {
		var f;
		c -= 257;
		e = this.readBits(cc.Codec.GZip.cplext[c]) + cc.Codec.GZip.cplens[c];
		c = cc.Codec.GZip.bitReverse[this.readBits(5)] >> 3;
		8 < cc.Codec.GZip.cpdext[c] ? (f = this.readBits(8), f |= this.readBits(cc.Codec.GZip.cpdext[c] - 8) << 8) : f = this.readBits(cc.Codec.GZip.cpdext[c]);
		f += cc.Codec.GZip.cpdist[c];
		for (c = 0; c < e; c++) b = this.buf32k[this.bIdx - f & 32767], this.addBuffer(b)
	} else if (2 === c) {
		var g = Array(320);
		b = 257 + this.readBits(5);
		f = 1 + this.readBits(5);
		d = 4 + this.readBits(4);
		for (c = 0; 19 > c; c++) g[c] =
			0;
		for (c = 0; c < d; c++) g[cc.Codec.GZip.border[c]] = this.readBits(3);
		e = this.distanceTree.length;
		for (d = 0; d < e; d++) this.distanceTree[d] = new cc.Codec.GZip.HufNode;
		if (this.CreateTree(this.distanceTree, 19, g, 0)) return this.flushBuffer(), 1;
		e = b + f;
		d = 0;
		for (var h = -1; d < e;)
			if (h++, c = this.DecodeValue(this.distanceTree), 16 > c) g[d++] = c;
			else if (16 === c) {
			var k;
			c = 3 + this.readBits(2);
			if (d + c > e) return this.flushBuffer(), 1;
			for (k = d ? g[d - 1] : 0; c--;) g[d++] = k
		} else {
			c = 17 === c ? 3 + this.readBits(3) : 11 + this.readBits(7);
			if (d + c > e) return this.flushBuffer(),
				1;
			for (; c--;) g[d++] = 0
		}
		e = this.literalTree.length;
		for (d = 0; d < e; d++) this.literalTree[d] = new cc.Codec.GZip.HufNode;
		if (this.CreateTree(this.literalTree, b, g, 0)) return this.flushBuffer(), 1;
		e = this.literalTree.length;
		for (d = 0; d < e; d++) this.distanceTree[d] = new cc.Codec.GZip.HufNode;
		c = [];
		for (d = b; d < g.length; d++) c[d - b] = g[d];
		if (this.CreateTree(this.distanceTree, f, c, 0)) return this.flushBuffer(), 1;
		for (;;)
			if (c = this.DecodeValue(this.literalTree), 256 <= c) {
				c -= 256;
				if (0 === c) break;
				c--;
				e = this.readBits(cc.Codec.GZip.cplext[c]) +
					cc.Codec.GZip.cplens[c];
				c = this.DecodeValue(this.distanceTree);
				8 < cc.Codec.GZip.cpdext[c] ? (f = this.readBits(8), f |= this.readBits(cc.Codec.GZip.cpdext[c] - 8) << 8) : f = this.readBits(cc.Codec.GZip.cpdext[c]);
				for (f += cc.Codec.GZip.cpdist[c]; e--;) b = this.buf32k[this.bIdx - f & 32767], this.addBuffer(b)
			} else this.addBuffer(c)
	}
	while (!a);
	this.flushBuffer();
	this.byteAlign();
	return 0
};
cc.Codec.GZip.prototype.unzipFile = function(a) {
	var b;
	this.gunzip();
	for (b = 0; b < this.unzipped.length; b++)
		if (this.unzipped[b][1] === a) return this.unzipped[b][0]
};
cc.Codec.GZip.prototype.nextFile = function() {
	this.outputArr = [];
	this.modeZIP = !1;
	var a = [];
	a[0] = this.readByte();
	a[1] = this.readByte();
	120 === a[0] && 218 === a[1] && (this.DeflateLoop(), this.unzipped[this.files] = [this.outputArr.join(""), "geonext.gxt"], this.files++);
	31 === a[0] && 139 === a[1] && (this.skipdir(), this.unzipped[this.files] = [this.outputArr.join(""), "file"], this.files++);
	if (80 === a[0] && 75 === a[1] && (this.modeZIP = !0, a[2] = this.readByte(), a[3] = this.readByte(), 3 === a[2] && 4 === a[3])) {
		a[0] = this.readByte();
		a[1] = this.readByte();
		this.gpflags = this.readByte();
		this.gpflags |= this.readByte() << 8;
		a = this.readByte();
		a |= this.readByte() << 8;
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		this.readByte();
		var b = this.readByte(),
			b = b | this.readByte() << 8,
			c = this.readByte(),
			c = c | this.readByte() << 8,
			d = 0;
		for (this.nameBuf = []; b--;) {
			var e = this.readByte();
			"/" === e | ":" === e ? d = 0 : d < cc.Codec.GZip.NAMEMAX - 1 && (this.nameBuf[d++] = String.fromCharCode(e))
		}
		this.fileout ||
			(this.fileout = this.nameBuf);
		for (var d = 0; d < c;) this.readByte(), d++;
		8 === a && (this.DeflateLoop(), this.unzipped[this.files] = [this.outputArr.join(""), this.nameBuf.join("")], this.files++);
		this.skipdir()
	}
};
cc.Codec.GZip.prototype.skipdir = function() {
	var a = [],
		b;
	this.gpflags & 8 && (a[0] = this.readByte(), a[1] = this.readByte(), a[2] = this.readByte(), a[3] = this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte(), this.readByte());
	this.modeZIP && this.nextFile();
	a[0] = this.readByte();
	if (8 !== a[0]) return 0;
	this.gpflags = this.readByte();
	this.readByte();
	this.readByte();
	this.readByte();
	this.readByte();
	this.readByte();
	this.readByte();
	if (this.gpflags & 4)
		for (a[0] =
			this.readByte(), a[2] = this.readByte(), this.len = a[0] + 256 * a[1], a = 0; a < this.len; a++) this.readByte();
	if (this.gpflags & 8)
		for (a = 0, this.nameBuf = []; b = this.readByte();) {
			if ("7" === b || ":" === b) a = 0;
			a < cc.Codec.GZip.NAMEMAX - 1 && (this.nameBuf[a++] = b)
		}
	if (this.gpflags & 16)
		for (; this.readByte(););
	this.gpflags & 2 && (this.readByte(), this.readByte());
	this.DeflateLoop();
	this.readByte();
	this.readByte();
	this.readByte();
	this.readByte();
	this.modeZIP && this.nextFile()
};
/*
 zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
(function() {
	function a(a) {
		throw a;
	}

	function b(a, b) {
		var c = a.split("."),
			d = z;
		c[0] in d || !d.execScript || d.execScript("var " + c[0]);
		for (var e; c.length && (e = c.shift());) c.length || b === x ? d = d[e] ? d[e] : d[e] = {} : d[e] = b
	}

	function c(a) {
		if ("string" === typeof a) {
			a = a.split("");
			var b, c;
			b = 0;
			for (c = a.length; b < c; b++) a[b] = (a[b].charCodeAt(0) & 255) >>> 0
		}
		b = 1;
		c = 0;
		for (var d = a.length, e, f = 0; 0 < d;) {
			e = 1024 < d ? 1024 : d;
			d -= e;
			do b += a[f++], c += b; while (--e);
			b %= 65521;
			c %= 65521
		}
		return (c << 16 | b) >>> 0
	}

	function d(b, c) {
		this.index = "number" === typeof c ? c : 0;
		this.i = 0;
		this.buffer = b instanceof(y ? Uint8Array : Array) ? b : new(y ? Uint8Array : Array)(32768);
		2 * this.buffer.length <= this.index && a(Error("invalid index"));
		this.buffer.length <= this.index && this.f()
	}

	function e(a) {
		this.buffer = new(y ? Uint16Array : Array)(2 * a);
		this.length = 0
	}

	function f(a) {
		var b = a.length,
			c = 0,
			d = Number.POSITIVE_INFINITY,
			e, f, g, h, k, m, n, p, s;
		for (p = 0; p < b; ++p) a[p] > c && (c = a[p]), a[p] < d && (d = a[p]);
		e = 1 << c;
		f = new(y ? Uint32Array : Array)(e);
		g = 1;
		h = 0;
		for (k = 2; g <= c;) {
			for (p = 0; p < b; ++p)
				if (a[p] === g) {
					m = 0;
					n = h;
					for (s = 0; s < g; ++s) m =
						m << 1 | n & 1, n >>= 1;
					for (s = m; s < e; s += k) f[s] = g << 16 | p;
					++h
				}++ g;
			h <<= 1;
			k <<= 1
		}
		return [f, c, d]
	}

	function g(a, b) {
		this.h = K;
		this.w = 0;
		this.input = a;
		this.b = 0;
		b && (b.lazy && (this.w = b.lazy), "number" === typeof b.compressionType && (this.h = b.compressionType), b.outputBuffer && (this.a = y && b.outputBuffer instanceof Array ? new Uint8Array(b.outputBuffer) : b.outputBuffer), "number" === typeof b.outputIndex && (this.b = b.outputIndex));
		this.a || (this.a = new(y ? Uint8Array : Array)(32768))
	}

	function h(a, b) {
		this.length = a;
		this.G = b
	}

	function k() {
		var b = H;
		switch (A) {
			case 3 ===
			b:
				return [257, b - 3, 0];
			case 4 === b:
				return [258, b - 4, 0];
			case 5 === b:
				return [259, b - 5, 0];
			case 6 === b:
				return [260, b - 6, 0];
			case 7 === b:
				return [261, b - 7, 0];
			case 8 === b:
				return [262, b - 8, 0];
			case 9 === b:
				return [263, b - 9, 0];
			case 10 === b:
				return [264, b - 10, 0];
			case 12 >= b:
				return [265, b - 11, 1];
			case 14 >= b:
				return [266, b - 13, 1];
			case 16 >= b:
				return [267, b - 15, 1];
			case 18 >= b:
				return [268, b - 17, 1];
			case 22 >= b:
				return [269, b - 19, 2];
			case 26 >= b:
				return [270, b - 23, 2];
			case 30 >= b:
				return [271, b - 27, 2];
			case 34 >= b:
				return [272, b - 31, 2];
			case 42 >= b:
				return [273, b - 35, 3];
			case 50 >=
			b:
				return [274, b - 43, 3];
			case 58 >= b:
				return [275, b - 51, 3];
			case 66 >= b:
				return [276, b - 59, 3];
			case 82 >= b:
				return [277, b - 67, 4];
			case 98 >= b:
				return [278, b - 83, 4];
			case 114 >= b:
				return [279, b - 99, 4];
			case 130 >= b:
				return [280, b - 115, 4];
			case 162 >= b:
				return [281, b - 131, 5];
			case 194 >= b:
				return [282, b - 163, 5];
			case 226 >= b:
				return [283, b - 195, 5];
			case 257 >= b:
				return [284, b - 227, 5];
			case 258 === b:
				return [285, b - 258, 0];
			default:
				a("invalid length: " + b)
		}
	}

	function m(b, c) {
		function d(b, c) {
			var e = b.G,
				f = [],
				g = 0,
				h;
			h = M[b.length];
			f[g++] = h & 65535;
			f[g++] = h >> 16 & 255;
			f[g++] =
				h >> 24;
			var k;
			switch (A) {
				case 1 === e:
					k = [0, e - 1, 0];
					break;
				case 2 === e:
					k = [1, e - 2, 0];
					break;
				case 3 === e:
					k = [2, e - 3, 0];
					break;
				case 4 === e:
					k = [3, e - 4, 0];
					break;
				case 6 >= e:
					k = [4, e - 5, 1];
					break;
				case 8 >= e:
					k = [5, e - 7, 1];
					break;
				case 12 >= e:
					k = [6, e - 9, 2];
					break;
				case 16 >= e:
					k = [7, e - 13, 2];
					break;
				case 24 >= e:
					k = [8, e - 17, 3];
					break;
				case 32 >= e:
					k = [9, e - 25, 3];
					break;
				case 48 >= e:
					k = [10, e - 33, 4];
					break;
				case 64 >= e:
					k = [11, e - 49, 4];
					break;
				case 96 >= e:
					k = [12, e - 65, 5];
					break;
				case 128 >= e:
					k = [13, e - 97, 5];
					break;
				case 192 >= e:
					k = [14, e - 129, 6];
					break;
				case 256 >= e:
					k = [15, e - 193, 6];
					break;
				case 384 >= e:
					k = [16, e - 257, 7];
					break;
				case 512 >= e:
					k = [17, e - 385, 7];
					break;
				case 768 >= e:
					k = [18, e - 513, 8];
					break;
				case 1024 >= e:
					k = [19, e - 769, 8];
					break;
				case 1536 >= e:
					k = [20, e - 1025, 9];
					break;
				case 2048 >= e:
					k = [21, e - 1537, 9];
					break;
				case 3072 >= e:
					k = [22, e - 2049, 10];
					break;
				case 4096 >= e:
					k = [23, e - 3073, 10];
					break;
				case 6144 >= e:
					k = [24, e - 4097, 11];
					break;
				case 8192 >= e:
					k = [25, e - 6145, 11];
					break;
				case 12288 >= e:
					k = [26, e - 8193, 12];
					break;
				case 16384 >= e:
					k = [27, e - 12289, 12];
					break;
				case 24576 >= e:
					k = [28, e - 16385, 13];
					break;
				case 32768 >= e:
					k = [29, e - 24577, 13];
					break;
				default:
					a("invalid distance")
			}
			h =
				k;
			f[g++] = h[0];
			f[g++] = h[1];
			f[g++] = h[2];
			e = 0;
			for (g = f.length; e < g; ++e) s[t++] = f[e];
			u[f[0]]++;
			w[f[3]]++;
			r = b.length + c - 1;
			p = null
		}
		var e, f, g, k, m, n = {},
			p, s = y ? new Uint16Array(2 * c.length) : [],
			t = 0,
			r = 0,
			u = new(y ? Uint32Array : Array)(286),
			w = new(y ? Uint32Array : Array)(30),
			v = b.w,
			z;
		if (!y) {
			for (g = 0; 285 >= g;) u[g++] = 0;
			for (g = 0; 29 >= g;) w[g++] = 0
		}
		u[256] = 1;
		e = 0;
		for (f = c.length; e < f; ++e) {
			g = m = 0;
			for (k = 3; g < k && e + g !== f; ++g) m = m << 8 | c[e + g];
			n[m] === x && (n[m] = []);
			g = n[m];
			if (!(0 < r--)) {
				for (; 0 < g.length && 32768 < e - g[0];) g.shift();
				if (e + 3 >= f) {
					p && d(p, -1);
					g = 0;
					for (k = f - e; g < k; ++g) z = c[e + g], s[t++] = z, ++u[z];
					break
				}
				if (0 < g.length) {
					m = k = x;
					var B = 0,
						C = x,
						D = x,
						E = C = x,
						F = c.length,
						D = 0,
						E = g.length;
					a: for (; D < E; D++) {
						k = g[E - D - 1];
						C = 3;
						if (3 < B) {
							for (C = B; 3 < C; C--)
								if (c[k + C - 1] !== c[e + C - 1]) continue a;
							C = B
						}
						for (; 258 > C && e + C < F && c[k + C] === c[e + C];) ++C;
						C > B && (m = k, B = C);
						if (258 === C) break
					}
					k = new h(B, e - m);
					p ? p.length < k.length ? (z = c[e - 1], s[t++] = z, ++u[z], d(k, 0)) : d(p, -1) : k.length < v ? p = k : d(k, 0)
				} else p ? d(p, -1) : (z = c[e], s[t++] = z, ++u[z])
			}
			g.push(e)
		}
		s[t++] = 256;
		u[256]++;
		b.L = u;
		b.K = w;
		return y ? s.subarray(0, t) : s
	}

	function n(a,
		b) {
		function c(a) {
			var b = s[a][t[a]];
			b === n ? (c(a + 1), c(a + 1)) : --p[b];
			++t[a]
		}
		var d = a.length,
			f = new e(572),
			g = new(y ? Uint8Array : Array)(d),
			h, k, m;
		if (!y)
			for (k = 0; k < d; k++) g[k] = 0;
		for (k = 0; k < d; ++k) 0 < a[k] && f.push(k, a[k]);
		d = Array(f.length / 2);
		h = new(y ? Uint32Array : Array)(f.length / 2);
		if (1 === d.length) return g[f.pop().index] = 1, g;
		k = 0;
		for (m = f.length / 2; k < m; ++k) d[k] = f.pop(), h[k] = d[k].value;
		var n = h.length;
		k = new(y ? Uint16Array : Array)(b);
		var f = new(y ? Uint8Array : Array)(b),
			p = new(y ? Uint8Array : Array)(n);
		m = Array(b);
		var s = Array(b),
			t =
			Array(b),
			r = (1 << b) - n,
			u = 1 << b - 1,
			w, v, x;
		k[b - 1] = n;
		for (w = 0; w < b; ++w) r < u ? f[w] = 0 : (f[w] = 1, r -= u), r <<= 1, k[b - 2 - w] = (k[b - 1 - w] / 2 | 0) + n;
		k[0] = f[0];
		m[0] = Array(k[0]);
		s[0] = Array(k[0]);
		for (w = 1; w < b; ++w) k[w] > 2 * k[w - 1] + f[w] && (k[w] = 2 * k[w - 1] + f[w]), m[w] = Array(k[w]), s[w] = Array(k[w]);
		for (r = 0; r < n; ++r) p[r] = b;
		for (u = 0; u < k[b - 1]; ++u) m[b - 1][u] = h[u], s[b - 1][u] = u;
		for (r = 0; r < b; ++r) t[r] = 0;
		1 === f[b - 1] && (--p[0], ++t[b - 1]);
		for (w = b - 2; 0 <= w; --w) {
			v = r = 0;
			x = t[w + 1];
			for (u = 0; u < k[w]; u++) v = m[w + 1][x] + m[w + 1][x + 1], v > h[r] ? (m[w][u] = v, s[w][u] = n, x += 2) : (m[w][u] = h[r],
				s[w][u] = r, ++r);
			t[w] = 0;
			1 === f[w] && c(w)
		}
		h = p;
		k = 0;
		for (m = d.length; k < m; ++k) g[d[k].index] = h[k];
		return g
	}

	function p(b) {
		var c = new(y ? Uint16Array : Array)(b.length),
			d = [],
			e = [],
			f = 0,
			g, h, k;
		g = 0;
		for (h = b.length; g < h; g++) d[b[g]] = (d[b[g]] | 0) + 1;
		g = 1;
		for (h = 16; g <= h; g++) e[g] = f, f += d[g] | 0, f > 1 << g && a("overcommitted"), f <<= 1;
		65536 > f && a("undercommitted");
		g = 0;
		for (h = b.length; g < h; g++)
			for (f = e[b[g]], e[b[g]] += 1, d = c[g] = 0, k = b[g]; d < k; d++) c[g] = c[g] << 1 | f & 1, f >>>= 1;
		return c
	}

	function r(a, b) {
		this.input = a;
		this.a = new(y ? Uint8Array : Array)(32768);
		this.h =
			J.j;
		var c = {},
			d;
		!b && (b = {}) || "number" !== typeof b.compressionType || (this.h = b.compressionType);
		for (d in b) c[d] = b[d];
		c.outputBuffer = this.a;
		this.z = new g(this.input, c)
	}

	function t(b, c) {
		this.k = [];
		this.l = 32768;
		this.e = this.g = this.c = this.q = 0;
		this.input = y ? new Uint8Array(b) : b;
		this.s = !1;
		this.m = L;
		this.B = !1;
		if (c || !(c = {})) c.index && (this.c = c.index), c.bufferSize && (this.l = c.bufferSize), c.bufferType && (this.m = c.bufferType), c.resize && (this.B = c.resize);
		switch (this.m) {
			case N:
				this.b = 32768;
				this.a = new(y ? Uint8Array : Array)(32768 +
					this.l + 258);
				break;
			case L:
				this.b = 0;
				this.a = new(y ? Uint8Array : Array)(this.l);
				this.f = this.J;
				this.t = this.H;
				this.o = this.I;
				break;
			default:
				a(Error("invalid inflate mode"))
		}
	}

	function u(b, c) {
		for (var d = b.g, e = b.e, f = b.input, g = b.c, h; e < c;) h = f[g++], h === x && a(Error("input buffer is broken")), d |= h << e, e += 8;
		b.g = d >>> c;
		b.e = e - c;
		b.c = g;
		return d & (1 << c) - 1
	}

	function s(b, c) {
		for (var d = b.g, e = b.e, f = b.input, g = b.c, h = c[0], k = c[1], m; e < k;) m = f[g++], m === x && a(Error("input buffer is broken")), d |= m << e, e += 8;
		f = h[d & (1 << k) - 1];
		h = f >>> 16;
		b.g = d >> h;
		b.e =
			e - h;
		b.c = g;
		return f & 65535
	}

	function w(a) {
		function b(a, c, d) {
			var e, f, g, h;
			for (h = 0; h < a;) switch (e = s(this, c), e) {
				case 16:
					for (g = 3 + u(this, 2); g--;) d[h++] = f;
					break;
				case 17:
					for (g = 3 + u(this, 3); g--;) d[h++] = 0;
					f = 0;
					break;
				case 18:
					for (g = 11 + u(this, 7); g--;) d[h++] = 0;
					f = 0;
					break;
				default:
					f = d[h++] = e
			}
			return d
		}
		var c = u(a, 5) + 257,
			d = u(a, 5) + 1,
			e = u(a, 4) + 4,
			g = new(y ? Uint8Array : Array)(O.length),
			h;
		for (h = 0; h < e; ++h) g[O[h]] = u(a, 3);
		e = f(g);
		g = new(y ? Uint8Array : Array)(c);
		h = new(y ? Uint8Array : Array)(d);
		a.o(f(b.call(a, c, e, g)), f(b.call(a, d, e, h)))
	}

	function v(b,
		c) {
		var d, e;
		this.input = b;
		this.c = 0;
		if (c || !(c = {})) c.index && (this.c = c.index), c.verify && (this.M = c.verify);
		d = b[this.c++];
		e = b[this.c++];
		switch (d & 15) {
			case Z:
				this.method = Z;
				break;
			default:
				a(Error("unsupported compression method"))
		}
		0 !== ((d << 8) + e) % 31 && a(Error("invalid fcheck flag:" + ((d << 8) + e) % 31));
		e & 32 && a(Error("fdict flag is not supported"));
		this.A = new t(b, {
			index: this.c,
			bufferSize: c.bufferSize,
			bufferType: c.bufferType,
			resize: c.resize
		})
	}
	var x = void 0,
		A = !0,
		z = this,
		y = "undefined" !== typeof Uint8Array && "undefined" !==
		typeof Uint16Array && "undefined" !== typeof Uint32Array;
	d.prototype.f = function() {
		var a = this.buffer,
			b, c = a.length,
			d = new(y ? Uint8Array : Array)(c << 1);
		if (y) d.set(a);
		else
			for (b = 0; b < c; ++b) d[b] = a[b];
		return this.buffer = d
	};
	d.prototype.d = function(a, b, c) {
		var d = this.buffer,
			e = this.index,
			f = this.i,
			g = d[e];
		c && 1 < b && (a = 8 < b ? (F[a & 255] << 24 | F[a >>> 8 & 255] << 16 | F[a >>> 16 & 255] << 8 | F[a >>> 24 & 255]) >> 32 - b : F[a] >> 8 - b);
		if (8 > b + f) g = g << b | a, f += b;
		else
			for (c = 0; c < b; ++c) g = g << 1 | a >> b - c - 1 & 1, 8 === ++f && (f = 0, d[e++] = F[g], g = 0, e === d.length && (d = this.f()));
		d[e] = g;
		this.buffer = d;
		this.i = f;
		this.index = e
	};
	d.prototype.finish = function() {
		var a = this.buffer,
			b = this.index,
			c;
		0 < this.i && (a[b] <<= 8 - this.i, a[b] = F[a[b]], b++);
		y ? c = a.subarray(0, b) : (a.length = b, c = a);
		return c
	};
	var B = new(y ? Uint8Array : Array)(256),
		C;
	for (C = 0; 256 > C; ++C) {
		for (var D = C, I = D, E = 7, D = D >>> 1; D; D >>>= 1) I <<= 1, I |= D & 1, --E;
		B[C] = (I << E & 255) >>> 0
	}
	var F = B,
		B = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049,
			498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275,
			3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277,
			2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143,
			2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112,
			2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918E3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746,
			711928724, 3020668471, 3272380065, 1510334235, 755167117
		];
	y && new Uint32Array(B);
	e.prototype.getParent = function(a) {
		return 2 * ((a - 2) / 4 | 0)
	};
	e.prototype.push = function(a, b) {
		var c, d, e = this.buffer,
			f;
		c = this.length;
		e[this.length++] = b;
		for (e[this.length++] = a; 0 < c;)
			if (d = this.getParent(c), e[c] > e[d]) f = e[c], e[c] = e[d], e[d] = f, f = e[c + 1], e[c + 1] = e[d + 1], e[d + 1] = f, c = d;
			else break;
		return this.length
	};
	e.prototype.pop = function() {
		var a, b, c = this.buffer,
			d, e, f;
		b = c[0];
		a = c[1];
		this.length -= 2;
		c[0] = c[this.length];
		c[1] = c[this.length + 1];
		for (f =
			0;;) {
			e = 2 * f + 2;
			if (e >= this.length) break;
			e + 2 < this.length && c[e + 2] > c[e] && (e += 2);
			if (c[e] > c[f]) d = c[f], c[f] = c[e], c[e] = d, d = c[f + 1], c[f + 1] = c[e + 1], c[e + 1] = d;
			else break;
			f = e
		}
		return {
			index: a,
			value: b,
			length: this.length
		}
	};
	var K = 2,
		B = {
			NONE: 0,
			r: 1,
			j: K,
			N: 3
		},
		G = [];
	for (C = 0; 288 > C; C++) switch (A) {
		case 143 >= C:
			G.push([C + 48, 8]);
			break;
		case 255 >= C:
			G.push([C - 144 + 400, 9]);
			break;
		case 279 >= C:
			G.push([C - 256 + 0, 7]);
			break;
		case 287 >= C:
			G.push([C - 280 + 192, 8]);
			break;
		default:
			a("invalid literal: " + C)
	}
	g.prototype.n = function() {
		var b, c, e, f, g = this.input;
		switch (this.h) {
			case 0:
				e = 0;
				for (f = g.length; e < f;) {
					c = y ? g.subarray(e, e + 65535) : g.slice(e, e + 65535);
					e += c.length;
					var h = e === f,
						k = x,
						s = k = x,
						s = k = x,
						t = this.a,
						r = this.b;
					if (y) {
						for (t = new Uint8Array(this.a.buffer); t.length <= r + c.length + 5;) t = new Uint8Array(t.length << 1);
						t.set(this.a)
					}
					k = h ? 1 : 0;
					t[r++] = k | 0;
					k = c.length;
					s = ~k + 65536 & 65535;
					t[r++] = k & 255;
					t[r++] = k >>> 8 & 255;
					t[r++] = s & 255;
					t[r++] = s >>> 8 & 255;
					if (y) t.set(c, r), r += c.length, t = t.subarray(0, r);
					else {
						k = 0;
						for (s = c.length; k < s; ++k) t[r++] = c[k];
						t.length = r
					}
					this.b = r;
					this.a = t
				}
				break;
			case 1:
				e =
					new d(new Uint8Array(this.a.buffer), this.b);
				e.d(1, 1, A);
				e.d(1, 2, A);
				g = m(this, g);
				c = 0;
				for (h = g.length; c < h; c++)
					if (f = g[c], d.prototype.d.apply(e, G[f]), 256 < f) e.d(g[++c], g[++c], A), e.d(g[++c], 5), e.d(g[++c], g[++c], A);
					else if (256 === f) break;
				this.a = e.finish();
				this.b = this.a.length;
				break;
			case K:
				f = new d(new Uint8Array(this.a), this.b);
				var u, w, v, z = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
					C, B, k = Array(19),
					D, t = K;
				f.d(1, 1, A);
				f.d(t, 2, A);
				g = m(this, g);
				s = n(this.L, 15);
				C = p(s);
				t = n(this.K, 7);
				r = p(t);
				for (u = 286; 257 < u && 0 === s[u -
						1]; u--);
				for (w = 30; 1 < w && 0 === t[w - 1]; w--);
				var E = u,
					F = w;
				b = new(y ? Uint32Array : Array)(E + F);
				var I = new(y ? Uint32Array : Array)(316),
					H, J;
				B = new(y ? Uint8Array : Array)(19);
				for (D = v = 0; D < E; D++) b[v++] = s[D];
				for (D = 0; D < F; D++) b[v++] = t[D];
				if (!y)
					for (D = 0, F = B.length; D < F; ++D) B[D] = 0;
				D = H = 0;
				for (F = b.length; D < F; D += v) {
					for (v = 1; D + v < F && b[D + v] === b[D]; ++v);
					E = v;
					if (0 === b[D])
						if (3 > E)
							for (; 0 < E--;) I[H++] = 0, B[0]++;
						else
							for (; 0 < E;) J = 138 > E ? E : 138, J > E - 3 && J < E && (J = E - 3), 10 >= J ? (I[H++] = 17, I[H++] = J - 3, B[17]++) : (I[H++] = 18, I[H++] = J - 11, B[18]++), E -= J;
					else if (I[H++] =
						b[D], B[b[D]]++, E--, 3 > E)
						for (; 0 < E--;) I[H++] = b[D], B[b[D]]++;
					else
						for (; 0 < E;) J = 6 > E ? E : 6, J > E - 3 && J < E && (J = E - 3), I[H++] = 16, I[H++] = J - 3, B[16]++, E -= J
				}
				b = y ? I.subarray(0, H) : I.slice(0, H);
				B = n(B, 7);
				for (D = 0; 19 > D; D++) k[D] = B[z[D]];
				for (v = 19; 4 < v && 0 === k[v - 1]; v--);
				z = p(B);
				f.d(u - 257, 5, A);
				f.d(w - 1, 5, A);
				f.d(v - 4, 4, A);
				for (D = 0; D < v; D++) f.d(k[D], 3, A);
				D = 0;
				for (k = b.length; D < k; D++)
					if (c = b[D], f.d(z[c], B[c], A), 16 <= c) {
						D++;
						switch (c) {
							case 16:
								h = 2;
								break;
							case 17:
								h = 3;
								break;
							case 18:
								h = 7;
								break;
							default:
								a("invalid code: " + c)
						}
						f.d(b[D], h, A)
					} h = [C, s];
				r = [r,
					t
				];
				c = h[0];
				h = h[1];
				t = r[0];
				C = r[1];
				r = 0;
				for (k = g.length; r < k; ++r)
					if (e = g[r], f.d(c[e], h[e], A), 256 < e) f.d(g[++r], g[++r], A), s = g[++r], f.d(t[s], C[s], A), f.d(g[++r], g[++r], A);
					else if (256 === e) break;
				this.a = f.finish();
				this.b = this.a.length;
				break;
			default:
				a("invalid compression type")
		}
		return this.a
	};
	C = [];
	var H;
	for (H = 3; 258 >= H; H++) D = k(), C[H] = D[2] << 24 | D[1] << 16 | D[0];
	var M = y ? new Uint32Array(C) : C,
		J = B;
	r.prototype.n = function() {
		var b, d, e, f, g = 0;
		f = this.a;
		b = Z;
		switch (b) {
			case Z:
				d = Math.LOG2E * Math.log(32768) - 8;
				break;
			default:
				a(Error("invalid compression method"))
		}
		d =
			d << 4 | b;
		f[g++] = d;
		switch (b) {
			case Z:
				switch (this.h) {
					case J.NONE:
						e = 0;
						break;
					case J.r:
						e = 1;
						break;
					case J.j:
						e = 2;
						break;
					default:
						a(Error("unsupported compression type"))
				}
				break;
			default:
				a(Error("invalid compression method"))
		}
		b = e << 6 | 0;
		f[g++] = b | 31 - (256 * d + b) % 31;
		b = c(this.input);
		this.z.b = g;
		f = this.z.n();
		g = f.length;
		y && (f = new Uint8Array(f.buffer), f.length <= g + 4 && (this.a = new Uint8Array(f.length + 4), this.a.set(f), f = this.a), f = f.subarray(0, g + 4));
		f[g++] = b >> 24 & 255;
		f[g++] = b >> 16 & 255;
		f[g++] = b >> 8 & 255;
		f[g++] = b & 255;
		return f
	};
	b("Zlib.Deflate",
		r);
	b("Zlib.Deflate.compress", function(a, b) {
		return (new r(a, b)).n()
	});
	b("Zlib.Deflate.CompressionType", J);
	b("Zlib.Deflate.CompressionType.NONE", J.NONE);
	b("Zlib.Deflate.CompressionType.FIXED", J.r);
	b("Zlib.Deflate.CompressionType.DYNAMIC", J.j);
	var N = 0,
		L = 1,
		B = {
			D: N,
			C: L
		};
	t.prototype.p = function() {
		for (; !this.s;) {
			var b = u(this, 3);
			b & 1 && (this.s = A);
			b >>>= 1;
			switch (b) {
				case 0:
					var b = this.input,
						c = this.c,
						d = this.a,
						e = this.b,
						f = x,
						g = x,
						h = x,
						k = d.length,
						f = x;
					this.e = this.g = 0;
					f = b[c++];
					f === x && a(Error("invalid uncompressed block header: LEN (first byte)"));
					g = f;
					f = b[c++];
					f === x && a(Error("invalid uncompressed block header: LEN (second byte)"));
					g |= f << 8;
					f = b[c++];
					f === x && a(Error("invalid uncompressed block header: NLEN (first byte)"));
					h = f;
					f = b[c++];
					f === x && a(Error("invalid uncompressed block header: NLEN (second byte)"));
					h |= f << 8;
					g === ~h && a(Error("invalid uncompressed block header: length verify"));
					c + g > b.length && a(Error("input buffer is broken"));
					switch (this.m) {
						case N:
							for (; e + g > d.length;) {
								f = k - e;
								g -= f;
								if (y) d.set(b.subarray(c, c + f), e), e += f, c += f;
								else
									for (; f--;) d[e++] =
										b[c++];
								this.b = e;
								d = this.f();
								e = this.b
							}
							break;
						case L:
							for (; e + g > d.length;) d = this.f({
								v: 2
							});
							break;
						default:
							a(Error("invalid inflate mode"))
					}
					if (y) d.set(b.subarray(c, c + g), e), e += g, c += g;
					else
						for (; g--;) d[e++] = b[c++];
					this.c = c;
					this.b = e;
					this.a = d;
					break;
				case 1:
					this.o(V, X);
					break;
				case 2:
					w(this);
					break;
				default:
					a(Error("unknown BTYPE: " + b))
			}
		}
		return this.t()
	};
	C = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
	var O = y ? new Uint16Array(C) : C;
	C = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227,
		258, 258, 258
	];
	var R = y ? new Uint16Array(C) : C;
	C = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0];
	var P = y ? new Uint8Array(C) : C;
	C = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577];
	var S = y ? new Uint16Array(C) : C;
	C = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13];
	var T = y ? new Uint8Array(C) : C;
	C = new(y ? Uint8Array : Array)(288);
	D = 0;
	for (I = C.length; D < I; ++D) C[D] = 143 >= D ? 8 : 255 >= D ? 9 : 279 >= D ? 7 : 8;
	var V = f(C);
	C = new(y ? Uint8Array :
		Array)(30);
	D = 0;
	for (I = C.length; D < I; ++D) C[D] = 5;
	var X = f(C);
	t.prototype.o = function(a, b) {
		var c = this.a,
			d = this.b;
		this.u = a;
		for (var e = c.length - 258, f, g, h; 256 !== (f = s(this, a));)
			if (256 > f) d >= e && (this.b = d, c = this.f(), d = this.b), c[d++] = f;
			else
				for (f -= 257, h = R[f], 0 < P[f] && (h += u(this, P[f])), f = s(this, b), g = S[f], 0 < T[f] && (g += u(this, T[f])), d >= e && (this.b = d, c = this.f(), d = this.b); h--;) c[d] = c[d++ - g];
		for (; 8 <= this.e;) this.e -= 8, this.c--;
		this.b = d
	};
	t.prototype.I = function(a, b) {
		var c = this.a,
			d = this.b;
		this.u = a;
		for (var e = c.length, f, g, h; 256 !==
			(f = s(this, a));)
			if (256 > f) d >= e && (c = this.f(), e = c.length), c[d++] = f;
			else
				for (f -= 257, h = R[f], 0 < P[f] && (h += u(this, P[f])), f = s(this, b), g = S[f], 0 < T[f] && (g += u(this, T[f])), d + h > e && (c = this.f(), e = c.length); h--;) c[d] = c[d++ - g];
		for (; 8 <= this.e;) this.e -= 8, this.c--;
		this.b = d
	};
	t.prototype.f = function() {
		var a = new(y ? Uint8Array : Array)(this.b - 32768),
			b = this.b - 32768,
			c, d, e = this.a;
		if (y) a.set(e.subarray(32768, a.length));
		else
			for (c = 0, d = a.length; c < d; ++c) a[c] = e[c + 32768];
		this.k.push(a);
		this.q += a.length;
		if (y) e.set(e.subarray(b, b + 32768));
		else
			for (c = 0; 32768 > c; ++c) e[c] = e[b + c];
		this.b = 32768;
		return e
	};
	t.prototype.J = function(a) {
		var b, c = this.input.length / this.c + 1 | 0,
			d, e, f, g = this.input,
			h = this.a;
		a && ("number" === typeof a.v && (c = a.v), "number" === typeof a.F && (c += a.F));
		2 > c ? (d = (g.length - this.c) / this.u[2], f = d / 2 * 258 | 0, e = f < h.length ? h.length + f : h.length << 1) : e = h.length * c;
		y ? (b = new Uint8Array(e), b.set(h)) : b = h;
		return this.a = b
	};
	t.prototype.t = function() {
		var a = 0,
			b = this.a,
			c = this.k,
			d, e = new(y ? Uint8Array : Array)(this.q + (this.b - 32768)),
			f, g, h, k;
		if (0 === c.length) return y ?
			this.a.subarray(32768, this.b) : this.a.slice(32768, this.b);
		f = 0;
		for (g = c.length; f < g; ++f)
			for (d = c[f], h = 0, k = d.length; h < k; ++h) e[a++] = d[h];
		f = 32768;
		for (g = this.b; f < g; ++f) e[a++] = b[f];
		this.k = [];
		return this.buffer = e
	};
	t.prototype.H = function() {
		var a, b = this.b;
		y ? this.B ? (a = new Uint8Array(b), a.set(this.a.subarray(0, b))) : a = this.a.subarray(0, b) : (this.a.length > b && (this.a.length = b), a = this.a);
		return this.buffer = a
	};
	v.prototype.p = function() {
		var b = this.input,
			d, e;
		d = this.A.p();
		this.c = this.A.c;
		this.M && (e = (b[this.c++] << 24 | b[this.c++] <<
			16 | b[this.c++] << 8 | b[this.c++]) >>> 0, e !== c(d) && a(Error("invalid adler-32 checksum")));
		return d
	};
	b("Zlib.Inflate", v);
	b("Zlib.Inflate.BufferType", B);
	B.ADAPTIVE = B.C;
	B.BLOCK = B.D;
	b("Zlib.Inflate.prototype.decompress", v.prototype.p);
	B = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
	y && new Uint16Array(B);
	B = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 258, 258];
	y && new Uint16Array(B);
	B = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0];
	y && new Uint8Array(B);
	B = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577];
	y && new Uint16Array(B);
	B = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13];
	y && new Uint8Array(B);
	B = new(y ? Uint8Array : Array)(288);
	C = 0;
	for (D = B.length; C < D; ++C) B[C] = 143 >= C ? 8 : 255 >= C ? 9 : 279 >= C ? 7 : 8;
	f(B);
	B = new(y ? Uint8Array : Array)(30);
	C = 0;
	for (D = B.length; C < D; ++C) B[C] = 5;
	f(B);
	var Z = 8
}).call(this);
_p = window;
_p = _p.Zlib = _p.Zlib;
_p.Deflate = _p.Deflate;
_p.Deflate.compress = _p.Deflate.compress;
_p.Inflate = _p.Inflate;
_p.Inflate.BufferType = _p.Inflate.BufferType;
_p.Inflate.prototype.decompress = _p.Inflate.prototype.decompress;
cc.TGA_OK = 0;
cc.TGA_ERROR_FILE_OPEN = 1;
cc.TGA_ERROR_READING_FILE = 2;
cc.TGA_ERROR_INDEXED_COLOR = 3;
cc.TGA_ERROR_MEMORY = 4;
cc.TGA_ERROR_COMPRESSED_FILE = 5;
cc.ImageTGA = function(a, b, c, d, e, f, g) {
	this.status = a || 0;
	this.type = b || 0;
	this.pixelDepth = c || 0;
	this.width = d || 0;
	this.height = e || 0;
	this.imageData = f || [];
	this.flipped = g || 0
};
cc.tgaLoadHeader = function(a, b, c) {
	var d = 2;
	if (d + 1 > b) return !1;
	a = new cc.BinaryStreamReader(a);
	a.setOffset(d);
	c.type = a.readByte();
	d += 10;
	if (d + 4 + 1 > b) return !1;
	a.setOffset(d);
	c.width = a.readUnsignedShort();
	c.height = a.readUnsignedInteger();
	c.pixelDepth = a.readByte();
	if (d + 5 + 1 > b) return !1;
	b = a.readByte();
	c.flipped = 0;
	b & 32 && (c.flipped = 1);
	return !0
};
cc.tgaLoadImageData = function(a, b, c) {
	var d, e;
	d = 0 | c.pixelDepth / 2;
	e = c.height * c.width * d;
	if (18 + e > b) return !1;
	c.imageData = cc.__getSubArray(a, 18, 18 + e);
	if (3 <= d)
		for (a = 0; a < e; a += d) b = c.imageData[a], c.imageData[a] = c.imageData[a + 2], c.imageData[a + 2] = b;
	return !0
};
cc.tgaRGBtogreyscale = function(a) {
	var b, c;
	if (8 !== a.pixelDepth) {
		var d = a.pixelDepth / 8,
			e = new Uint8Array(a.height * a.width);
		if (null !== e) {
			for (c = b = 0; c < a.width * a.height; b += d, c++) e[c] = 0.3 * a.imageData[b] + 0.59 * a.imageData[b + 1] + 0.11 * a.imageData[b + 2];
			a.pixelDepth = 8;
			a.type = 3;
			a.imageData = e
		}
	}
};
cc.tgaDestroy = function(a) {
	a && (a.imageData = null)
};
cc.tgaLoadRLEImageData = function(a, b, c) {
	var d, e, f, g = 0,
		h = 0,
		k = 0,
		m = [],
		n = 0,
		p = 18;
	d = c.pixelDepth / 8;
	e = c.height * c.width;
	for (f = 0; f < e; f++) {
		if (0 !== n) n--, h = 0 !== k;
		else {
			if (p + 1 > b) break;
			n = a[p];
			p += 1;
			(k = n & 128) && (n -= 128);
			h = 0
		}
		if (!h) {
			if (p + d > b) break;
			m = cc.__getSubArray(a, p, p + d);
			p += d;
			3 <= d && (h = m[0], m[0] = m[2], m[2] = h)
		}
		for (h = 0; h < d; h++) c.imageData[g + h] = m[h];
		g += d
	}
	return !0
};
cc.tgaFlipImage = function(a) {
	for (var b = a.pixelDepth / 8 * a.width, c = 0; c < a.height / 2; c++) {
		var d = cc.__getSubArray(a.imageData, c * b, c * b + b);
		cc.__setDataToArray(cc.__getSubArray(a.imageData, (a.height - (c + 1)) * b, b), a.imageData, c * b);
		cc.__setDataToArray(d, a.imageData, (a.height - (c + 1)) * b)
	}
	a.flipped = 0
};
cc.__getSubArray = function(a, b, c) {
	return a instanceof Array ? a.slice(b, c) : a.subarray(b, c)
};
cc.__setDataToArray = function(a, b, c) {
	for (var d = 0; d < a.length; d++) b[c + d] = a[d]
};
cc.BinaryStreamReader = cc.Class.extend({
	_binaryData: null,
	_offset: 0,
	ctor: function(a) {
		this._binaryData = a
	},
	setBinaryData: function(a) {
		this._binaryData = a;
		this._offset = 0
	},
	getBinaryData: function() {
		return this._binaryData
	},
	_checkSize: function(a) {
		if (!(this._offset + Math.ceil(a / 8) < this._data.length)) throw Error("Index out of bound");
	},
	_decodeFloat: function(a, b) {
		var c = a + b + 1,
			d = c >> 3;
		this._checkSize(c);
		var c = Math.pow(2, b - 1) - 1,
			e = this._readBits(a + b, 1, d),
			f = this._readBits(a, b, d),
			g = 0,
			h = 2,
			k = 0;
		do
			for (var m = this._readByte(++k,
					d), n = a % 8 || 8, p = 1 << n; p >>= 1;) m & p && (g += 1 / h), h *= 2; while (a -= n);
		this._offset += d;
		return f === (c << 1) + 1 ? g ? NaN : e ? -Infinity : Infinity : (1 + -2 * e) * (f || g ? f ? Math.pow(2, f - c) * (1 + g) : Math.pow(2, -c + 1) * g : 0)
	},
	_readByte: function(a, b) {
		return this._data[this._offset + b - a - 1]
	},
	_decodeInt: function(a, b) {
		var c = this._readBits(0, a, a / 8),
			d = Math.pow(2, a);
		this._offset += a / 8;
		return b && c >= d / 2 ? c - d : c
	},
	_shl: function(a, b) {
		for (++b; --b; a = 1073741824 === ((a %= 2147483648) & 1073741824) ? 2 * a : 2 * (a - 1073741824) + 2147483648);
		return a
	},
	_readBits: function(a, b, c) {
		var d =
			(a + b) % 8,
			e = a % 8,
			f = c - (a >> 3) - 1;
		a = c + (-(a + b) >> 3);
		var g = f - a;
		b = this._readByte(f, c) >> e & (1 << (g ? 8 - e : b)) - 1;
		for (g && d && (b += (this._readByte(a++, c) & (1 << d) - 1) << (g-- << 3) - e); g;) b += this._shl(this._readByte(a++, c), (g-- << 3) - e);
		return b
	},
	readInteger: function() {
		return this._decodeInt(32, !0)
	},
	readUnsignedInteger: function() {
		return this._decodeInt(32, !1)
	},
	readSingle: function() {
		return this._decodeFloat(23, 8)
	},
	readShort: function() {
		return this._decodeInt(16, !0)
	},
	readUnsignedShort: function() {
		return this._decodeInt(16, !1)
	},
	readByte: function() {
		var a =
			this._data[this._offset];
		this._offset += 1;
		return a
	},
	readData: function(a, b) {
		return this._binaryData instanceof Array ? this._binaryData.slice(a, b) : this._binaryData.subarray(a, b)
	},
	setOffset: function(a) {
		this._offset = a
	},
	getOffset: function() {
		return this._offset
	}
});
cc.TMX_ORIENTATION_ORTHO = 0;
cc.TMX_ORIENTATION_HEX = 1;
cc.TMX_ORIENTATION_ISO = 2;
cc.TMXTiledMap = cc.Node.extend({
	properties: null,
	mapOrientation: null,
	objectGroups: null,
	_mapSize: null,
	_tileSize: null,
	_tileProperties: null,
	_className: "TMXTiledMap",
	ctor: function(a, b) {
		cc.Node.prototype.ctor.call(this);
		this._mapSize = cc.size(0, 0);
		this._tileSize = cc.size(0, 0);
		void 0 !== b ? this.initWithXML(a, b) : void 0 !== a && this.initWithTMXFile(a)
	},
	getMapSize: function() {
		return cc.size(this._mapSize.width, this._mapSize.height)
	},
	setMapSize: function(a) {
		this._mapSize.width = a.width;
		this._mapSize.height = a.height
	},
	_getMapWidth: function() {
		return this._mapSize.width
	},
	_setMapWidth: function(a) {
		this._mapSize.width = a
	},
	_getMapHeight: function() {
		return this._mapSize.height
	},
	_setMapHeight: function(a) {
		this._mapSize.height = a
	},
	getTileSize: function() {
		return cc.size(this._tileSize.width, this._tileSize.height)
	},
	setTileSize: function(a) {
		this._tileSize.width = a.width;
		this._tileSize.height = a.height
	},
	_getTileWidth: function() {
		return this._tileSize.width
	},
	_setTileWidth: function(a) {
		this._tileSize.width = a
	},
	_getTileHeight: function() {
		return this._tileSize.height
	},
	_setTileHeight: function(a) {
		this._tileSize.height =
			a
	},
	getMapOrientation: function() {
		return this.mapOrientation
	},
	setMapOrientation: function(a) {
		this.mapOrientation = a
	},
	getObjectGroups: function() {
		return this.objectGroups
	},
	setObjectGroups: function(a) {
		this.objectGroups = a
	},
	getProperties: function() {
		return this.properties
	},
	setProperties: function(a) {
		this.properties = a
	},
	initWithTMXFile: function(a) {
		if (!a || 0 === a.length) throw Error("cc.TMXTiledMap.initWithTMXFile(): tmxFile should be non-null or non-empty string.");
		this.height = this.width = 0;
		a = new cc.TMXMapInfo(a);
		if (!a) return !1;
		var b = a.getTilesets();
		b && 0 !== b.length || cc.log("cc.TMXTiledMap.initWithTMXFile(): Map not found. Please check the filename.");
		this._buildWithMapInfo(a);
		return !0
	},
	initWithXML: function(a, b) {
		this.height = this.width = 0;
		var c = new cc.TMXMapInfo(a, b),
			d = c.getTilesets();
		d && 0 !== d.length || cc.log("cc.TMXTiledMap.initWithXML(): Map not found. Please check the filename.");
		this._buildWithMapInfo(c);
		return !0
	},
	_buildWithMapInfo: function(a) {
		this._mapSize = a.getMapSize();
		this._tileSize = a.getTileSize();
		this.mapOrientation =
			a.orientation;
		this.objectGroups = a.getObjectGroups();
		this.properties = a.properties;
		this._tileProperties = a.getTileProperties();
		var b = 0,
			c = a.getLayers();
		if (c)
			for (var d = null, e = 0, f = c.length; e < f; e++)(d = c[e]) && d.visible && (d = this._parseLayer(d, a), this.addChild(d, b, b), this.width = Math.max(this.width, d.width), this.height = Math.max(this.height, d.height), b++)
	},
	allLayers: function() {
		for (var a = [], b = this._children, c = 0, d = b.length; c < d; c++) {
			var e = b[c];
			e && e instanceof cc.TMXLayer && a.push(e)
		}
		return a
	},
	getLayer: function(a) {
		if (!a ||
			0 === a.length) throw Error("cc.TMXTiledMap.getLayer(): layerName should be non-null or non-empty string.");
		for (var b = this._children, c = 0; c < b.length; c++) {
			var d = b[c];
			if (d && d.layerName === a) return d
		}
		return null
	},
	getObjectGroup: function(a) {
		if (!a || 0 === a.length) throw Error("cc.TMXTiledMap.getObjectGroup(): groupName should be non-null or non-empty string.");
		if (this.objectGroups)
			for (var b = 0; b < this.objectGroups.length; b++) {
				var c = this.objectGroups[b];
				if (c && c.groupName === a) return c
			}
		return null
	},
	getProperty: function(a) {
		return this.properties[a.toString()]
	},
	propertiesForGID: function(a) {
		cc.log("propertiesForGID is deprecated. Please use getPropertiesForGID instead.");
		return this.getPropertiesForGID[a]
	},
	getPropertiesForGID: function(a) {
		return this._tileProperties[a]
	},
	_parseLayer: function(a, b) {
		var c = this._tilesetForLayer(a, b),
			c = new cc.TMXLayer(c, a, b);
		a.ownTiles = !1;
		return c
	},
	_tilesetForLayer: function(a, b) {
		var c = a._layerSize,
			d = b.getTilesets();
		if (d)
			for (var e = d.length - 1; 0 <= e; e--) {
				var f = d[e];
				if (f)
					for (var g = 0; g < c.height; g++)
						for (var h = 0; h < c.width; h++) {
							var k = a._tiles[h +
								c.width * g];
							if (0 !== k && (k & cc.TMX_TILE_FLIPPED_MASK) >>> 0 >= f.firstGid) return f
						}
			}
		cc.log("cocos2d: Warning: TMX Layer " + a.name + " has no tiles");
		return null
	}
});
_p = cc.TMXTiledMap.prototype;
cc.defineGetterSetter(_p, "mapWidth", _p._getMapWidth, _p._setMapWidth);
cc.defineGetterSetter(_p, "mapHeight", _p._getMapHeight, _p._setMapHeight);
cc.defineGetterSetter(_p, "tileWidth", _p._getTileWidth, _p._setTileWidth);
cc.defineGetterSetter(_p, "tileHeight", _p._getTileHeight, _p._setTileHeight);
cc.TMXTiledMap.create = function(a, b) {
	return new cc.TMXTiledMap(a, b)
};
cc.TMX_PROPERTY_NONE = 0;
cc.TMX_PROPERTY_MAP = 1;
cc.TMX_PROPERTY_LAYER = 2;
cc.TMX_PROPERTY_OBJECTGROUP = 3;
cc.TMX_PROPERTY_OBJECT = 4;
cc.TMX_PROPERTY_TILE = 5;
cc.TMX_TILE_HORIZONTAL_FLAG = 2147483648;
cc.TMX_TILE_VERTICAL_FLAG = 1073741824;
cc.TMX_TILE_DIAGONAL_FLAG = 536870912;
cc.TMX_TILE_FLIPPED_ALL = (cc.TMX_TILE_HORIZONTAL_FLAG | cc.TMX_TILE_VERTICAL_FLAG | cc.TMX_TILE_DIAGONAL_FLAG) >>> 0;
cc.TMX_TILE_FLIPPED_MASK = ~cc.TMX_TILE_FLIPPED_ALL >>> 0;
cc.TMXLayerInfo = cc.Class.extend({
	properties: null,
	name: "",
	_layerSize: null,
	_tiles: null,
	visible: null,
	_opacity: null,
	ownTiles: !0,
	_minGID: 1E5,
	_maxGID: 0,
	offset: null,
	ctor: function() {
		this.properties = [];
		this.name = "";
		this._tiles = this._layerSize = null;
		this.visible = !0;
		this._opacity = 0;
		this.ownTiles = !0;
		this._minGID = 1E5;
		this._maxGID = 0;
		this.offset = cc.p(0, 0)
	},
	getProperties: function() {
		return this.properties
	},
	setProperties: function(a) {
		this.properties = a
	}
});
cc.TMXTilesetInfo = cc.Class.extend({
	name: "",
	firstGid: 0,
	_tileSize: null,
	spacing: 0,
	margin: 0,
	sourceImage: "",
	imageSize: null,
	ctor: function() {
		this._tileSize = cc.size(0, 0);
		this.imageSize = cc.size(0, 0)
	},
	rectForGID: function(a, b) {
		var c = b || cc.rect(0, 0, 0, 0);
		c.width = this._tileSize.width;
		c.height = this._tileSize.height;
		a &= cc.TMX_TILE_FLIPPED_MASK;
		a -= parseInt(this.firstGid, 10);
		var d = parseInt((this.imageSize.width - 2 * this.margin + this.spacing) / (this._tileSize.width + this.spacing), 10);
		c.x = parseInt(a % d * (this._tileSize.width +
			this.spacing) + this.margin, 10);
		c.y = parseInt(parseInt(a / d, 10) * (this._tileSize.height + this.spacing) + this.margin, 10);
		return c
	}
});
cc.TMXMapInfo = cc.SAXParser.extend({
	properties: null,
	orientation: null,
	parentElement: null,
	parentGID: null,
	layerAttrs: 0,
	storingCharacters: !1,
	tmxFileName: null,
	currentString: null,
	_objectGroups: null,
	_mapSize: null,
	_tileSize: null,
	_layers: null,
	_tilesets: null,
	_tileProperties: null,
	_resources: "",
	_currentFirstGID: 0,
	ctor: function(a, b) {
		cc.SAXParser.prototype.ctor.apply(this);
		this._mapSize = cc.size(0, 0);
		this._tileSize = cc.size(0, 0);
		this._layers = [];
		this._tilesets = [];
		this._objectGroups = [];
		this.properties = [];
		this._tileProperties = {};
		this._currentFirstGID = 0;
		void 0 !== b ? this.initWithXML(a, b) : void 0 !== a && this.initWithTMXFile(a)
	},
	getOrientation: function() {
		return this.orientation
	},
	setOrientation: function(a) {
		this.orientation = a
	},
	getMapSize: function() {
		return cc.size(this._mapSize.width, this._mapSize.height)
	},
	setMapSize: function(a) {
		this._mapSize.width = a.width;
		this._mapSize.height = a.height
	},
	_getMapWidth: function() {
		return this._mapSize.width
	},
	_setMapWidth: function(a) {
		this._mapSize.width = a
	},
	_getMapHeight: function() {
		return this._mapSize.height
	},
	_setMapHeight: function(a) {
		this._mapSize.height = a
	},
	getTileSize: function() {
		return cc.size(this._tileSize.width, this._tileSize.height)
	},
	setTileSize: function(a) {
		this._tileSize.width = a.width;
		this._tileSize.height = a.height
	},
	_getTileWidth: function() {
		return this._tileSize.width
	},
	_setTileWidth: function(a) {
		this._tileSize.width = a
	},
	_getTileHeight: function() {
		return this._tileSize.height
	},
	_setTileHeight: function(a) {
		this._tileSize.height = a
	},
	getLayers: function() {
		return this._layers
	},
	setLayers: function(a) {
		this._layers.push(a)
	},
	getTilesets: function() {
		return this._tilesets
	},
	setTilesets: function(a) {
		this._tilesets.push(a)
	},
	getObjectGroups: function() {
		return this._objectGroups
	},
	setObjectGroups: function(a) {
		this._objectGroups.push(a)
	},
	getParentElement: function() {
		return this.parentElement
	},
	setParentElement: function(a) {
		this.parentElement = a
	},
	getParentGID: function() {
		return this.parentGID
	},
	setParentGID: function(a) {
		this.parentGID = a
	},
	getLayerAttribs: function() {
		return this.layerAttrs
	},
	setLayerAttribs: function(a) {
		this.layerAttrs = a
	},
	getStoringCharacters: function() {
		return this.storingCharacters
	},
	setStoringCharacters: function(a) {
		this.storingCharacters = a
	},
	getProperties: function() {
		return this.properties
	},
	setProperties: function(a) {
		this.properties = a
	},
	initWithTMXFile: function(a) {
		this._internalInit(a, null);
		return this.parseXMLFile(a)
	},
	initWithXML: function(a, b) {
		this._internalInit(null, b);
		return this.parseXMLString(a)
	},
	parseXMLFile: function(a, b) {
		var c = (b = b || !1) ? a : cc.loader.getRes(a);
		if (!c) throw Error("Please load the resource first : " + a);
		var d, e, c = this._parseXML(c).documentElement;
		d = c.getAttribute("version");
		e = c.getAttribute("orientation");
		if ("map" === c.nodeName && ("1.0" !== d && null !== d && cc.log("cocos2d: TMXFormat: Unsupported TMX version:" + d), "orthogonal" === e ? this.orientation = cc.TMX_ORIENTATION_ORTHO : "isometric" === e ? this.orientation = cc.TMX_ORIENTATION_ISO : "hexagonal" === e ? this.orientation = cc.TMX_ORIENTATION_HEX : null !== e && cc.log("cocos2d: TMXFomat: Unsupported orientation:" + e), d = cc.size(0, 0), d.width = parseFloat(c.getAttribute("width")), d.height = parseFloat(c.getAttribute("height")), this.setMapSize(d), d = cc.size(0,
				0), d.width = parseFloat(c.getAttribute("tilewidth")), d.height = parseFloat(c.getAttribute("tileheight")), this.setTileSize(d), e = c.querySelectorAll("map \x3e properties \x3e  property"))) {
			var f = {};
			for (d = 0; d < e.length; d++) f[e[d].getAttribute("name")] = e[d].getAttribute("value");
			this.properties = f
		}
		f = c.getElementsByTagName("tileset");
		"map" !== c.nodeName && (f = [], f.push(c));
		for (d = 0; d < f.length; d++) {
			e = f[d];
			var g = e.getAttribute("source");
			if (g) e = b ? cc.path.join(this._resources, g) : cc.path.changeBasename(a, g), this.parseXMLFile(e);
			else {
				g = new cc.TMXTilesetInfo;
				g.name = e.getAttribute("name") || "";
				g.firstGid = parseInt(e.getAttribute("firstgid")) || 0;
				g.spacing = parseInt(e.getAttribute("spacing")) || 0;
				g.margin = parseInt(e.getAttribute("margin")) || 0;
				var h = cc.size(0, 0);
				h.width = parseFloat(e.getAttribute("tilewidth"));
				h.height = parseFloat(e.getAttribute("tileheight"));
				g._tileSize = h;
				var h = e.getElementsByTagName("image")[0].getAttribute("source"),
					k = -1;
				this.tmxFileName && (k = this.tmxFileName.lastIndexOf("/")); - 1 !== k ? (k = this.tmxFileName.substr(0,
					k + 1), g.sourceImage = k + h) : g.sourceImage = this._resources + (this._resources ? "/" : "") + h;
				this.setTilesets(g);
				if (h = e.getElementsByTagName("tile"))
					for (k = 0; k < h.length; k++) {
						e = h[k];
						this.parentGID = parseInt(g.firstGid) + parseInt(e.getAttribute("id") || 0);
						var m = e.querySelectorAll("properties \x3e property");
						if (m) {
							var n = {};
							for (e = 0; e < m.length; e++) {
								var p = m[e].getAttribute("name");
								n[p] = m[e].getAttribute("value")
							}
							this._tileProperties[this.parentGID] = n
						}
					}
			}
		}
		if (f = c.getElementsByTagName("layer"))
			for (d = 0; d < f.length; d++) {
				k = f[d];
				m = k.getElementsByTagName("data")[0];
				g = new cc.TMXLayerInfo;
				g.name = k.getAttribute("name");
				e = cc.size(0, 0);
				e.width = parseFloat(k.getAttribute("width"));
				e.height = parseFloat(k.getAttribute("height"));
				g._layerSize = e;
				e = k.getAttribute("visible");
				g.visible = "0" != e;
				e = k.getAttribute("opacity") || 1;
				g._opacity = e ? parseInt(255 * parseFloat(e)) : 255;
				g.offset = cc.p(parseFloat(k.getAttribute("x")) || 0, parseFloat(k.getAttribute("y")) || 0);
				n = "";
				for (e = 0; e < m.childNodes.length; e++) n += m.childNodes[e].nodeValue;
				n = n.trim();
				e = m.getAttribute("compression");
				p = m.getAttribute("encoding");
				if (e && "gzip" !== e && "zlib" !== e) return cc.log("cc.TMXMapInfo.parseXMLFile(): unsupported compression method"), null;
				switch (e) {
					case "gzip":
						h = cc.unzipBase64AsArray(n, 4);
						break;
					case "zlib":
						h = new Zlib.Inflate(cc.Codec.Base64.decodeAsArray(n, 1));
						h = cc.uint8ArrayToUint32Array(h.decompress());
						break;
					case null:
					case "":
						if ("base64" === p) h = cc.Codec.Base64.decodeAsArray(n, 4);
						else if ("csv" === p)
							for (h = [], e = n.split(","), m = 0; m < e.length; m++) h.push(parseInt(e[m]));
						else
							for (e = m.getElementsByTagName("tile"),
								h = [], m = 0; m < e.length; m++) h.push(parseInt(e[m].getAttribute("gid")));
						break;
					default:
						this.layerAttrs === cc.TMXLayerInfo.ATTRIB_NONE && cc.log("cc.TMXMapInfo.parseXMLFile(): Only base64 and/or gzip/zlib maps are supported")
				}
				h && (g._tiles = new Uint32Array(h));
				if (k = k.querySelectorAll("properties \x3e property")) {
					m = {};
					for (e = 0; e < k.length; e++) m[k[e].getAttribute("name")] = k[e].getAttribute("value");
					g.properties = m
				}
				this.setLayers(g)
			}
		if (h = c.getElementsByTagName("objectgroup"))
			for (d = 0; d < h.length; d++) {
				g = h[d];
				f = new cc.TMXObjectGroup;
				f.groupName = g.getAttribute("name");
				f.setPositionOffset(cc.p(parseFloat(g.getAttribute("x")) * this.getTileSize().width || 0, parseFloat(g.getAttribute("y")) * this.getTileSize().height || 0));
				if (k = g.querySelectorAll("objectgroup \x3e properties \x3e property"))
					for (e = 0; e < k.length; e++) m = {}, m[k[e].getAttribute("name")] = k[e].getAttribute("value"), f.properties = m;
				g = g.querySelectorAll("object");
				k = cc.director.getContentScaleFactor();
				if (g)
					for (e = 0; e < g.length; e++) {
						n = g[e];
						m = {};
						m.name = n.getAttribute("name") || "";
						m.type =
							n.getAttribute("type") || "";
						m.width = parseInt(n.getAttribute("width")) || 0;
						m.height = parseInt(n.getAttribute("height")) || 0;
						m.x = (((n.getAttribute("x") || 0) | 0) + f.getPositionOffset().x) / k;
						p = ((n.getAttribute("y") || 0) | 0) + f.getPositionOffset().y / k;
						m.y = (parseInt(this.getMapSize().height * this.getTileSize().height) - p - m.height) / cc.director.getContentScaleFactor();
						m.rotation = parseInt(n.getAttribute("rotation")) || 0;
						if (p = n.querySelectorAll("properties \x3e property"))
							for (var r = 0; r < p.length; r++) m[p[r].getAttribute("name")] =
								p[r].getAttribute("value");
						(p = n.querySelectorAll("polygon")) && 0 < p.length && (p = p[0].getAttribute("points")) && (m.points = this._parsePointsString(p));
						(n = n.querySelectorAll("polyline")) && 0 < n.length && (n = n[0].getAttribute("points")) && (m.polylinePoints = this._parsePointsString(n));
						f.setObjects(m)
					}
				this.setObjectGroups(f)
			}
		return c
	},
	_parsePointsString: function(a) {
		if (!a) return null;
		var b = [];
		a = a.split(" ");
		for (var c = 0; c < a.length; c++) {
			var d = a[c].split(",");
			b.push({
				x: d[0],
				y: d[1]
			})
		}
		return b
	},
	parseXMLString: function(a) {
		return this.parseXMLFile(a,
			!0)
	},
	getTileProperties: function() {
		return this._tileProperties
	},
	setTileProperties: function(a) {
		this._tileProperties.push(a)
	},
	getCurrentString: function() {
		return this.currentString
	},
	setCurrentString: function(a) {
		this.currentString = a
	},
	getTMXFileName: function() {
		return this.tmxFileName
	},
	setTMXFileName: function(a) {
		this.tmxFileName = a
	},
	_internalInit: function(a, b) {
		this._tilesets.length = 0;
		this._layers.length = 0;
		this.tmxFileName = a;
		b && (this._resources = b);
		this._objectGroups.length = 0;
		this.properties.length = 0;
		this._tileProperties.length =
			0;
		this.currentString = "";
		this.storingCharacters = !1;
		this.layerAttrs = cc.TMXLayerInfo.ATTRIB_NONE;
		this.parentElement = cc.TMX_PROPERTY_NONE;
		this._currentFirstGID = 0
	}
});
_p = cc.TMXMapInfo.prototype;
cc.defineGetterSetter(_p, "mapWidth", _p._getMapWidth, _p._setMapWidth);
cc.defineGetterSetter(_p, "mapHeight", _p._getMapHeight, _p._setMapHeight);
cc.defineGetterSetter(_p, "tileWidth", _p._getTileWidth, _p._setTileWidth);
cc.defineGetterSetter(_p, "tileHeight", _p._getTileHeight, _p._setTileHeight);
cc.TMXMapInfo.create = function(a, b) {
	return new cc.TMXMapInfo(a, b)
};
cc.loader.register(["tmx", "tsx"], cc._txtLoader);
cc.TMXLayerInfo.ATTRIB_NONE = 1;
cc.TMXLayerInfo.ATTRIB_BASE64 = 2;
cc.TMXLayerInfo.ATTRIB_GZIP = 4;
cc.TMXLayerInfo.ATTRIB_ZLIB = 8;
cc.TMXObjectGroup = cc.Class.extend({
	properties: null,
	groupName: "",
	_positionOffset: null,
	_objects: null,
	ctor: function() {
		this.groupName = "";
		this._positionOffset = cc.p(0, 0);
		this.properties = [];
		this._objects = []
	},
	getPositionOffset: function() {
		return cc.p(this._positionOffset)
	},
	setPositionOffset: function(a) {
		this._positionOffset.x = a.x;
		this._positionOffset.y = a.y
	},
	getProperties: function() {
		return this.properties
	},
	setProperties: function(a) {
		this.properties.push(a)
	},
	getGroupName: function() {
		return this.groupName.toString()
	},
	setGroupName: function(a) {
		this.groupName = a
	},
	propertyNamed: function(a) {
		return this.properties[a]
	},
	objectNamed: function(a) {
		return this.getObject(a)
	},
	getObject: function(a) {
		if (this._objects && 0 < this._objects.length)
			for (var b = this._objects, c = 0, d = b.length; c < d; c++) {
				var e = b[c].name;
				if (e && e === a) return b[c]
			}
		return null
	},
	getObjects: function() {
		return this._objects
	},
	setObjects: function(a) {
		this._objects.push(a)
	}
});
cc.TMXLayer = cc.SpriteBatchNode.extend({
	tiles: null,
	tileset: null,
	layerOrientation: null,
	properties: null,
	layerName: "",
	_textures: null,
	_texGrids: null,
	_spriteTiles: null,
	_layerSize: null,
	_mapTileSize: null,
	_opacity: 255,
	_minGID: null,
	_maxGID: null,
	_vertexZvalue: null,
	_useAutomaticVertexZ: null,
	_reusedTile: null,
	_atlasIndexArray: null,
	_contentScaleFactor: null,
	_className: "TMXLayer",
	ctor: function(a, b, c) {
		cc.SpriteBatchNode.prototype.ctor.call(this);
		this._descendants = [];
		this._layerSize = cc.size(0, 0);
		this._mapTileSize = cc.size(0,
			0);
		this._spriteTiles = {};
		void 0 !== c && this.initWithTilesetInfo(a, b, c)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.TMXLayer.CanvasRenderCmd(this) : new cc.TMXLayer.WebGLRenderCmd(this)
	},
	_fillTextureGrids: function(a, b) {
		var c = this._textures[b];
		if (c.isLoaded()) {
			a.imageSize.width && a.imageSize.height || (a.imageSize.width = c.width, a.imageSize.height = c.height);
			for (var d = a._tileSize.width, e = a._tileSize.height, f = c._contentSize.width, c = c._contentSize.height, g = a.spacing, h =
					a.margin, k = a.firstGid, g = a.firstGid + Math.floor((c - 2 * h + g) / (e + g)) * Math.floor((f - 2 * h + g) / (d + g)), h = this._texGrids, m = null, n = h[k] ? !0 : !1; k < g; ++k) {
				n && !h[k] && (n = !1);
				if (!n && h[k]) break;
				m = {
					texId: b,
					x: 0,
					y: 0,
					width: d,
					height: e,
					t: 0,
					l: 0,
					r: 0,
					b: 0
				};
				a.rectForGID(k, m);
				m.t = m.y / c;
				m.l = m.x / f;
				m.r = (m.x + m.width) / f;
				m.b = (m.y + m.height) / c;
				h[k] = m
			}
		} else c.addEventListener("load", function() {
			this._fillTextureGrids(a, b)
		}, this)
	},
	initWithTilesetInfo: function(a, b, c) {
		var d = b._layerSize;
		parseInt(d.width * d.height);
		this.layerName = b.name;
		this.tiles =
			b._tiles;
		this.properties = b.properties;
		this._layerSize = d;
		this._minGID = b._minGID;
		this._maxGID = b._maxGID;
		this._opacity = b._opacity;
		this.tileset = a;
		this.layerOrientation = c.orientation;
		this._mapTileSize = c.getTileSize();
		if (c = c._tilesets) {
			this._textures = [];
			this._texGrids = [];
			for (var e = c.length, f, g, d = 0; d < e; ++d) f = c[d], g = cc.textureCache.addImage(f.sourceImage), this._textures.push(g), this._fillTextureGrids(f, d), f === a && (this._texture = g)
		}
		a = this._calculateLayerOffset(b.offset);
		this.setPosition(cc.pointPixelsToPoints(a));
		this._parseInternalProperties();
		this.setContentSize(cc.sizePixelsToPoints(cc.size(this._layerSize.width * this._mapTileSize.width, this._layerSize.height * this._mapTileSize.height)));
		this._useAutomaticVertexZ = !1;
		this._vertexZvalue = 0;
		return !0
	},
	getLayerSize: function() {
		return cc.size(this._layerSize.width, this._layerSize.height)
	},
	setLayerSize: function(a) {
		this._layerSize.width = a.width;
		this._layerSize.height = a.height
	},
	_getLayerWidth: function() {
		return this._layerSize.width
	},
	_setLayerWidth: function(a) {
		this._layerSize.width =
			a
	},
	_getLayerHeight: function() {
		return this._layerSize.height
	},
	_setLayerHeight: function(a) {
		this._layerSize.height = a
	},
	getMapTileSize: function() {
		return cc.size(this._mapTileSize.width, this._mapTileSize.height)
	},
	setMapTileSize: function(a) {
		this._mapTileSize.width = a.width;
		this._mapTileSize.height = a.height
	},
	_getTileWidth: function() {
		return this._mapTileSize.width
	},
	_setTileWidth: function(a) {
		this._mapTileSize.width = a
	},
	_getTileHeight: function() {
		return this._mapTileSize.height
	},
	_setTileHeight: function(a) {
		this._mapTileSize.height =
			a
	},
	getTiles: function() {
		return this.tiles
	},
	setTiles: function(a) {
		this.tiles = a
	},
	getTileset: function() {
		return this.tileset
	},
	setTileset: function(a) {
		this.tileset = a
	},
	getLayerOrientation: function() {
		return this.layerOrientation
	},
	setLayerOrientation: function(a) {
		this.layerOrientation = a
	},
	getProperties: function() {
		return this.properties
	},
	setProperties: function(a) {
		this.properties = a
	},
	getProperty: function(a) {
		return this.properties[a]
	},
	getLayerName: function() {
		return this.layerName
	},
	setLayerName: function(a) {
		this.layerName =
			a
	},
	releaseMap: function() {
		this._spriteTiles = {}
	},
	getTileAt: function(a, b) {
		if (void 0 === a) throw Error("cc.TMXLayer.getTileAt(): pos should be non-null");
		var c = a;
		void 0 === b && (c = a.x, b = a.y);
		if (c >= this._layerSize.width || b >= this._layerSize.height || 0 > c || 0 > b) throw Error("cc.TMXLayer.getTileAt(): invalid position");
		if (!this.tiles) return cc.log("cc.TMXLayer.getTileAt(): TMXLayer: the tiles map has been released"), null;
		var d = null,
			e = this.getTileGIDAt(c, b);
		if (0 === e) return d;
		var f = 0 | c + b * this._layerSize.width,
			d = this._spriteTiles[f];
		d || (d = this._texGrids[e], e = this._textures[d.texId], d = cc.rectPixelsToPoints(d), d = new cc.Sprite(e, d), d.setPosition(this.getPositionAt(c, b)), c = this._vertexZForPos(c, b), d.setVertexZ(c), d.setAnchorPoint(0, 0), d.setOpacity(this._opacity), this.addChild(d, c, f));
		return d
	},
	getTileGIDAt: function(a, b) {
		if (void 0 === a) throw Error("cc.TMXLayer.getTileGIDAt(): pos should be non-null");
		var c = a;
		void 0 === b && (c = a.x, b = a.y);
		if (c >= this._layerSize.width || b >= this._layerSize.height || 0 > c || 0 > b) throw Error("cc.TMXLayer.getTileGIDAt(): invalid position");
		return this.tiles ? (this.tiles[0 | c + b * this._layerSize.width] & cc.TMX_TILE_FLIPPED_MASK) >>> 0 : (cc.log("cc.TMXLayer.getTileGIDAt(): TMXLayer: the tiles map has been released"), null)
	},
	setTileGID: function(a, b, c, d) {
		if (void 0 === b) throw Error("cc.TMXLayer.setTileGID(): pos should be non-null");
		void 0 !== d ? b = cc.p(b, c) : d = c;
		if (b.x >= this._layerSize.width || b.y >= this._layerSize.height || 0 > b.x || 0 > b.y) throw Error("cc.TMXLayer.setTileGID(): invalid position");
		if (this.tiles)
			if (0 !== a && a < this.tileset.firstGid) cc.log("cc.TMXLayer.setTileGID(): invalid gid:" +
				a);
			else {
				d = d || 0;
				c = this.getTileFlagsAt(b);
				var e = this.getTileGIDAt(b);
				if (e !== a || c !== d)
					if (c = (a | d) >>> 0, 0 === a) this.removeTileAt(b);
					else if (0 === e) this._updateTileForGID(c, b);
				else {
					var e = b.x + b.y * this._layerSize.width,
						f = this.getChildByTag(e);
					if (f) {
						a = this._texGrids[a];
						var g = this._textures[a.texId];
						a = cc.rectPixelsToPoints(a);
						f.setTexture(g);
						f.setTextureRect(a, !1);
						null != d && this._setupTileSprite(f, b, c);
						this.tiles[e] = c
					} else this._updateTileForGID(c, b)
				}
			}
		else cc.log("cc.TMXLayer.setTileGID(): TMXLayer: the tiles map has been released")
	},
	addChild: function(a, b, c) {
		cc.Node.prototype.addChild.call(this, a, b, c);
		void 0 !== c && (this._spriteTiles[c] = a, a._vertexZ = this._vertexZ + cc.renderer.assignedZStep * c / this.tiles.length)
	},
	removeChild: function(a, b) {
		this._spriteTiles[a.tag] && (this._spriteTiles[a.tag] = null);
		cc.Node.prototype.removeChild.call(this, a, b)
	},
	getTileFlagsAt: function(a, b) {
		if (!a) throw Error("cc.TMXLayer.getTileFlagsAt(): pos should be non-null");
		void 0 !== b && (a = cc.p(a, b));
		if (a.x >= this._layerSize.width || a.y >= this._layerSize.height || 0 > a.x ||
			0 > a.y) throw Error("cc.TMXLayer.getTileFlagsAt(): invalid position");
		return this.tiles ? (this.tiles[0 | a.x + a.y * this._layerSize.width] & cc.TMX_TILE_FLIPPED_ALL) >>> 0 : (cc.log("cc.TMXLayer.getTileFlagsAt(): TMXLayer: the tiles map has been released"), null)
	},
	removeTileAt: function(a, b) {
		if (!a) throw Error("cc.TMXLayer.removeTileAt(): pos should be non-null");
		void 0 !== b && (a = cc.p(a, b));
		if (a.x >= this._layerSize.width || a.y >= this._layerSize.height || 0 > a.x || 0 > a.y) throw Error("cc.TMXLayer.removeTileAt(): invalid position");
		if (!this.tiles) cc.log("cc.TMXLayer.removeTileAt(): TMXLayer: the tiles map has been released");
		else if (0 !== this.getTileGIDAt(a)) {
			var c = 0 | a.x + a.y * this._layerSize.width;
			this.tiles[c] = 0;
			(c = this._spriteTiles[c]) && this.removeChild(c, !0)
		}
	},
	getPositionAt: function(a, b) {
		void 0 !== b && (a = cc.p(a, b));
		var c = cc.p(0, 0);
		switch (this.layerOrientation) {
			case cc.TMX_ORIENTATION_ORTHO:
				c = this._positionForOrthoAt(a);
				break;
			case cc.TMX_ORIENTATION_ISO:
				c = this._positionForIsoAt(a);
				break;
			case cc.TMX_ORIENTATION_HEX:
				c = this._positionForHexAt(a)
		}
		return cc.pointPixelsToPoints(c)
	},
	_positionForIsoAt: function(a) {
		return cc.p(this._mapTileSize.width / 2 * (this._layerSize.width + a.x - a.y - 1), this._mapTileSize.height / 2 * (2 * this._layerSize.height - a.x - a.y - 2))
	},
	_positionForOrthoAt: function(a) {
		return cc.p(a.x * this._mapTileSize.width, (this._layerSize.height - a.y - 1) * this._mapTileSize.height)
	},
	_positionForHexAt: function(a) {
		return cc.p(a.x * this._mapTileSize.width * 3 / 4, (this._layerSize.height - a.y - 1) * this._mapTileSize.height + (1 === a.x % 2 ? -this._mapTileSize.height / 2 : 0))
	},
	_calculateLayerOffset: function(a) {
		var b =
			cc.p(0, 0);
		switch (this.layerOrientation) {
			case cc.TMX_ORIENTATION_ORTHO:
				b = cc.p(a.x * this._mapTileSize.width, -a.y * this._mapTileSize.height);
				break;
			case cc.TMX_ORIENTATION_ISO:
				b = cc.p(this._mapTileSize.width / 2 * (a.x - a.y), this._mapTileSize.height / 2 * (-a.x - a.y));
				break;
			case cc.TMX_ORIENTATION_HEX:
				0 === a.x && 0 === a.y || cc.log("offset for hexagonal map not implemented yet")
		}
		return b
	},
	_updateTileForGID: function(a, b) {
		if (this._texGrids[a]) {
			var c = 0 | b.x + b.y * this._layerSize.width;
			c < this.tiles.length && (this.tiles[c] = a)
		}
	},
	_parseInternalProperties: function() {
		var a = this.getProperty("cc_vertexz");
		if (a)
			if ("automatic" === a) {
				this._useAutomaticVertexZ = !0;
				var a = this.getProperty("cc_alpha_func"),
					b = 0;
				a && (b = parseFloat(a));
				cc._renderType === cc.game.RENDER_TYPE_WEBGL && (this.shaderProgram = cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST), this.shaderProgram.use(), this.shaderProgram.setUniformLocationWith1f(cc.UNIFORM_ALPHA_TEST_VALUE_S, b))
			} else this._vertexZvalue = parseInt(a, 10)
	},
	_setupTileSprite: function(a,
		b, c) {
		var d = this.getPositionAt(b);
		a.setPosition(d);
		a.setVertexZ(this._vertexZForPos(b));
		a.setAnchorPoint(0, 0);
		a.setOpacity(this._opacity);
		a.setFlippedX(!1);
		a.setFlippedY(!1);
		a.setRotation(0);
		(c & cc.TMX_TILE_DIAGONAL_FLAG) >>> 0 ? (a.setAnchorPoint(0.5, 0.5), a.setPosition(d.x + a.width / 2, d.y + a.height / 2), b = (c & (cc.TMX_TILE_HORIZONTAL_FLAG | cc.TMX_TILE_VERTICAL_FLAG) >>> 0) >>> 0, b === cc.TMX_TILE_HORIZONTAL_FLAG ? a.setRotation(90) : b === cc.TMX_TILE_VERTICAL_FLAG ? a.setRotation(270) : (b === (cc.TMX_TILE_VERTICAL_FLAG | cc.TMX_TILE_HORIZONTAL_FLAG) >>>
			0 ? a.setRotation(90) : a.setRotation(270), a.setFlippedX(!0))) : ((c & cc.TMX_TILE_HORIZONTAL_FLAG) >>> 0 && a.setFlippedX(!0), (c & cc.TMX_TILE_VERTICAL_FLAG) >>> 0 && a.setFlippedY(!0))
	},
	_vertexZForPos: function(a, b) {
		void 0 === b && (b = a.y, a = a.x);
		var c = 0,
			d = 0;
		if (this._useAutomaticVertexZ) switch (this.layerOrientation) {
			case cc.TMX_ORIENTATION_ISO:
				d = this._layerSize.width + this._layerSize.height;
				c = -(d - (a + b));
				break;
			case cc.TMX_ORIENTATION_ORTHO:
				c = -(this._layerSize.height - b);
				break;
			case cc.TMX_ORIENTATION_HEX:
				cc.log("TMX Hexa zOrder not supported");
				break;
			default:
				cc.log("TMX invalid value")
		} else c = this._vertexZvalue;
		return c
	}
});
_p = cc.TMXLayer.prototype;
cc.defineGetterSetter(_p, "layerWidth", _p._getLayerWidth, _p._setLayerWidth);
cc.defineGetterSetter(_p, "layerHeight", _p._getLayerHeight, _p._setLayerHeight);
cc.defineGetterSetter(_p, "tileWidth", _p._getTileWidth, _p._setTileWidth);
cc.defineGetterSetter(_p, "tileHeight", _p._getTileHeight, _p._setTileHeight);
cc.TMXLayer.create = function(a, b, c) {
	return new cc.TMXLayer(a, b, c)
};
(function() {
	cc.TMXLayer.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0
	};
	var a = cc.TMXLayer.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.TMXLayer.CanvasRenderCmd;
	a.visit = function(a) {
		var c = this._node,
			d = cc.renderer;
		if (a = a || this.getParentRenderCmd()) this._curLevel = a._curLevel + 1;
		if (c._visible) {
			isNaN(c._customZ) && (c._vertexZ = d.assignedZ, d.assignedZ += d.assignedZStep);
			this._syncStatus(a);
			a = c._children;
			var e = c._spriteTiles,
				f, g = a.length;
			if (0 < g) {
				c.sortAllChildren();
				for (f = 0; f < g; f++)
					if (c = a[f], 0 > c._localZOrder) c._renderCmd.visit(this);
					else break;
				for (d.pushRenderCommand(this); f < g; f++) c = a[f], 0 === c._localZOrder && e[c.tag] ? (isNaN(c._customZ) && (c._vertexZ = d.assignedZ, d.assignedZ += d.assignedZStep), c._renderCmd.updateStatus()) : c._renderCmd.visit(this)
			} else d.pushRenderCommand(this);
			this._dirtyFlag = 0
		}
	};
	a.rendering = function(a, c, d) {
		var e = this._node,
			f = e._rotationX || e._rotationY,
			g = e.layerOrientation,
			h = e._opacity / 255;
		if (e.tiles && !(0 >= h)) {
			var k = e._mapTileSize.width,
				m = e._mapTileSize.height,
				n = e.tileset._tileSize.width / cc.director._contentScaleFactor,
				p = e.tileset._tileSize.height / cc.director._contentScaleFactor,
				r = n - k,
				t = p - m,
				u = cc.winSize.width,
				s = cc.winSize.height,
				w = e._layerSize.height,
				v = e._layerSize.width,
				x = e._texGrids,
				A = e._spriteTiles,
				z = this._worldTransform,
				y = -e._contentSize.width * e._anchorPoint.x,
				B = -e._contentSize.height * e._anchorPoint.y,
				C = z.a,
				D = z.d,
				I = y * C + B * z.c + z.tx,
				y = y * z.b + B * D + z.ty,
				B = a || cc._renderContext,
				E = B.getContext(),
				F = 0,
				K = 0,
				G = v,
				H = w;
			f || g !== cc.TMX_ORIENTATION_ORTHO || (F = Math.floor(-(I -
				r * C) / (k * C)), K = Math.floor((y - t * D + m * w * D - s) / (m * D)), G = Math.ceil((u - I + r * C) / (k * C)), H = w - Math.floor(-(y + t * D) / (m * D)), 0 > F && (F = 0), 0 > K && (K = 0), G > v && (G = v), H > w && (H = w));
			var M, J, r = K * v,
				N, L, O, R = cc.TMX_TILE_FLIPPED_MASK,
				P, S, T, V, X = n * C,
				Z = p * D,
				Q, ea, aa = !1,
				Y = !1,
				t = r + F;
			for (M in A)
				if (M < t && A[M]) N = A[M]._renderCmd, 0 === A[M]._localZOrder && N.rendering && N.rendering(a, c, d);
				else if (M >= t) break;
			B.setTransform(z, c, d);
			for (B.setGlobalAlpha(h); K < H; ++K) {
				for (J = F; J < G; ++J)
					if (t = r + J, A[t]) N = A[t]._renderCmd, 0 === A[t]._localZOrder && N.rendering && (N.rendering(a,
						c, d), B.setTransform(z, c, d), B.setGlobalAlpha(h));
					else if (N = e.tiles[t], (L = x[(N & R) >>> 0]) && (O = e._textures[L.texId]) && O._htmlElementObj) {
					switch (g) {
						case cc.TMX_ORIENTATION_ORTHO:
							S = J * k;
							T = -(w - K - 1) * m;
							break;
						case cc.TMX_ORIENTATION_ISO:
							S = k / 2 * (v + J - K - 1);
							T = -m / 2 * (2 * w - J - K - 2);
							break;
						case cc.TMX_ORIENTATION_HEX:
							S = J * k * 3 / 4, T = -(w - K - 1) * m + (1 === J % 2 ? -m / 2 : 0)
					}
					V = S + n;
					P = T - p;
					if (!f && g === cc.TMX_ORIENTATION_ISO) {
						Q = -y + T * D;
						if (Q < -s - Z) {
							J += Math.floor(2 * (-s - Q) / Z) - 1;
							continue
						}
						Q = I + V * C;
						if (Q < -X) {
							J += Math.floor(2 * -Q / X) - 1;
							continue
						}
						ea = I + S * C;
						Q = -y +
							P * D;
						if (ea > u || 0 < Q) {
							J = G;
							continue
						}
					}
					N > cc.TMX_TILE_DIAGONAL_FLAG && (aa = (N & cc.TMX_TILE_HORIZONTAL_FLAG) >>> 0, Y = (N & cc.TMX_TILE_VERTICAL_FLAG) >>> 0);
					aa && (S = -V, E.scale(-1, 1));
					Y && (P = -T, E.scale(1, -1));
					E.drawImage(O._htmlElementObj, L.x, L.y, L.width, L.height, S, P, n, p);
					aa && E.scale(-1, 1);
					Y && E.scale(1, -1);
					cc.g_NumberOfDraws++
				}
				r += v
			}
			for (M in A) M > t && A[M] && (N = A[M]._renderCmd, 0 === A[M]._localZOrder && N.rendering && N.rendering(a, c, d))
		}
	}
})();
(function() {
	cc.TMXLayer.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._vertices = [{
			x: 0,
			y: 0
		}, {
			x: 0,
			y: 0
		}, {
			x: 0,
			y: 0
		}, {
			x: 0,
			y: 0
		}];
		this._color = new Uint32Array(1);
		this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLORALPHATEST);
		a = 90 * Math.PI / 180;
		this._sin90 = Math.sin(a);
		this._cos90 = Math.cos(a);
		a *= 3;
		this._sin270 = Math.sin(a);
		this._cos270 = Math.cos(a)
	};
	var a = cc.TMXLayer.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	a.constructor = cc.TMXLayer.WebGLRenderCmd;
	a.uploadData = function(a, c, d) {
		var e = this._node,
			f = e._rotationX || e._rotationY,
			g = e.layerOrientation,
			h = e.tiles;
		if (!h) return 0;
		var k = e._mapTileSize.width,
			m = e._mapTileSize.height,
			n = e.tileset._tileSize.width / cc.director._contentScaleFactor,
			p = e.tileset._tileSize.height / cc.director._contentScaleFactor,
			r = n - k,
			t = p - m,
			u = cc.winSize.width,
			s = cc.winSize.height,
			w = e._layerSize.height,
			v = e._layerSize.width,
			x = e._texGrids,
			A = e._spriteTiles,
			z = this._worldTransform,
			y = z.a,
			B = z.b,
			C = z.c,
			D = z.d,
			I = z.tx,
			z = z.ty,
			E = -e._contentSize.width *
			e._anchorPoint.x,
			F = -e._contentSize.height * e._anchorPoint.y,
			K = E * y + F * C + I,
			E = E * B + F * D + z,
			F = e._opacity,
			G = this._displayedColor.r,
			H = this._displayedColor.g,
			M = this._displayedColor.b;
		if (e._opacityModifyRGB) var J = F / 255,
			G = G * J,
			H = H * J,
			M = M * J;
		this._color[0] = F << 24 | M << 16 | H << 8 | G;
		var N = F = 0,
			G = v,
			H = w;
		f || g !== cc.TMX_ORIENTATION_ORTHO || (F = Math.floor(-(K - r * y) / (k * y)), N = Math.floor((E - t * D + m * w * D - s) / (m * D)), G = Math.ceil((u - K + r * y) / (k * y)), H = w - Math.floor(-(E + t * D) / (m * D)), 0 > F && (F = 0), 0 > N && (N = 0), G > v && (G = v), H > w && (H = w));
		for (var L, r = d, t = N * v, O,
				R, P, M = cc.TMX_TILE_FLIPPED_MASK, S, T, V, X, J = n * y, Z = p * D, Q, ea, aa = y, Y = B, ca = C, ba = D, W = I, fa = z, ha = !1, da = !1, ga = !1, $ = this._vertices; N < H; ++N) {
			for (L = F; L < G; ++L)
				if (r + 24 > a.length && (cc.renderer._increaseBatchingSize((r - d) / 6), cc.renderer._batchRendering(), r = d = 0), O = t + L, !A[O] && (R = e.tiles[O], P = x[(R & M) >>> 0])) {
					switch (g) {
						case cc.TMX_ORIENTATION_ORTHO:
							T = L * k;
							V = (w - N - 1) * m;
							O = e._vertexZ + cc.renderer.assignedZStep * O / h.length;
							break;
						case cc.TMX_ORIENTATION_ISO:
							T = k / 2 * (v + L - N - 1);
							V = m / 2 * (2 * w - L - N - 2);
							O = e._vertexZ + cc.renderer.assignedZStep *
								(e.height - V) / e.height;
							break;
						case cc.TMX_ORIENTATION_HEX:
							T = L * k * 3 / 4, V = (w - N - 1) * m + (1 === L % 2 ? -m / 2 : 0), O = e._vertexZ + cc.renderer.assignedZStep * (e.height - V) / e.height
					}
					X = T + n;
					S = V + p;
					if (!f && g === cc.TMX_ORIENTATION_ISO) {
						Q = E + V * D;
						if (Q > s + Z) {
							L += Math.floor(2 * (Q - s) / Z) - 1;
							continue
						}
						Q = K + X * y;
						if (Q < -J) {
							L += Math.floor(2 * -Q / J) - 1;
							continue
						}
						ea = K + T * y;
						Q = E + S * D;
						if (ea > u || 0 > Q) {
							L = G;
							continue
						}
					}
					R > cc.TMX_TILE_DIAGONAL_FLAG && (ha = !0, da = (R & cc.TMX_TILE_HORIZONTAL_FLAG) >>> 0, ga = (R & cc.TMX_TILE_VERTICAL_FLAG) >>> 0);
					$[0].x = T * aa + S * ca + W;
					$[0].y = T * Y + S * ba + fa;
					$[1].x = T * aa + V * ca + W;
					$[1].y = T * Y + V * ba + fa;
					$[2].x = X * aa + S * ca + W;
					$[2].y = X * Y + S * ba + fa;
					$[3].x = X * aa + V * ca + W;
					$[3].y = X * Y + V * ba + fa;
					for (R = 0; 4 > R; ++R) {
						a[r] = $[R].x;
						a[r + 1] = $[R].y;
						a[r + 2] = O;
						c[r + 3] = this._color[0];
						switch (R) {
							case 0:
								a[r + 4] = da ? P.r : P.l;
								a[r + 5] = ga ? P.b : P.t;
								break;
							case 1:
								a[r + 4] = da ? P.r : P.l;
								a[r + 5] = ga ? P.t : P.b;
								break;
							case 2:
								a[r + 4] = da ? P.l : P.r;
								a[r + 5] = ga ? P.b : P.t;
								break;
							case 3:
								a[r + 4] = da ? P.l : P.r, a[r + 5] = ga ? P.t : P.b
						}
						r += 6
					}
					ha && (aa = y, Y = B, ca = C, ba = D, W = I, fa = z, ha = ga = da = !1)
				} t += v
		}
		return (r - d) / 6
	}
})();
cc.PointObject = cc.Class.extend({
	_ratio: null,
	_offset: null,
	_child: null,
	ctor: function(a, b) {
		this.initWithCCPoint(a, b)
	},
	getRatio: function() {
		return this._ratio
	},
	setRatio: function(a) {
		this._ratio = a
	},
	getOffset: function() {
		return this._offset
	},
	setOffset: function(a) {
		this._offset = a
	},
	getChild: function() {
		return this._child
	},
	setChild: function(a) {
		this._child = a
	},
	initWithCCPoint: function(a, b) {
		this._ratio = a;
		this._offset = b;
		this._child = null;
		return !0
	}
});
cc.PointObject.create = function(a, b) {
	return new cc.PointObject(a, b)
};
cc.ParallaxNode = cc.Node.extend({
	parallaxArray: null,
	_lastPosition: null,
	_className: "ParallaxNode",
	getParallaxArray: function() {
		return this.parallaxArray
	},
	setParallaxArray: function(a) {
		this.parallaxArray = a
	},
	ctor: function() {
		cc.Node.prototype.ctor.call(this);
		this.parallaxArray = [];
		this._lastPosition = cc.p(-100, -100)
	},
	addChild: function(a, b, c, d) {
		if (3 === arguments.length) cc.log("ParallaxNode: use addChild(child, z, ratio, offset) instead");
		else {
			if (!a) throw Error("cc.ParallaxNode.addChild(): child should be non-null");
			var e = new cc.PointObject(c, d);
			e.setChild(a);
			this.parallaxArray.push(e);
			a.setPosition(this._position.x * c.x + d.x, this._position.y * c.y + d.y);
			cc.Node.prototype.addChild.call(this, a, b, a.tag)
		}
	},
	removeChild: function(a, b) {
		for (var c = this.parallaxArray, d = 0; d < c.length; d++)
			if (c[d].getChild() === a) {
				c.splice(d, 1);
				break
			} cc.Node.prototype.removeChild.call(this, a, b)
	},
	removeAllChildren: function(a) {
		this.parallaxArray.length = 0;
		cc.Node.prototype.removeAllChildren.call(this, a)
	},
	_updateParallaxPosition: function() {
		var a = this._absolutePosition();
		if (!cc.pointEqualToPoint(a, this._lastPosition)) {
			for (var b = this.parallaxArray, c = 0, d = b.length; c < d; c++) {
				var e = b[c];
				e.getChild().setPosition(-a.x + a.x * e.getRatio().x + e.getOffset().x, -a.y + a.y * e.getRatio().y + e.getOffset().y)
			}
			this._lastPosition = a
		}
	},
	_absolutePosition: function() {
		for (var a = this._position, b = this; null !== b.parent;) b = b.parent, a = cc.pAdd(a, b.getPosition());
		return a
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.ParallaxNode.CanvasRenderCmd(this) : new cc.ParallaxNode.WebGLRenderCmd(this)
	}
});
cc.ParallaxNode.create = function() {
	return new cc.ParallaxNode
};
(function() {
	cc.ParallaxNode.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !1
	};
	var a = cc.ParallaxNode.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = cc.ParallaxNode.CanvasRenderCmd;
	a.updateStatus = function() {
		this._node._updateParallaxPosition();
		this.originUpdateStatus()
	};
	a._syncStatus = function(a) {
		this._node._updateParallaxPosition();
		this._originSyncStatus(a)
	}
})();
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
		cc.ParallaxNode.WebGLRenderCmd = function(a) {
			this._rootCtor(a);
			this._needDraw = !1
		};
		var a = cc.ParallaxNode.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
		a.constructor = cc.ParallaxNode.WebGLRenderCmd;
		a.updateStatus = function() {
			this._node._updateParallaxPosition();
			this.originUpdateStatus()
		};
		a._syncStatus = function(a) {
			this._node._updateParallaxPosition();
			this._originSyncStatus(a)
		}
	}
});
(function() {
	var a = cc.sys,
		b = {
			ONLY_ONE: !1,
			WEB_AUDIO: !!(window.AudioContext || window.webkitAudioContext || window.mozAudioContext),
			DELAY_CREATE_CTX: !1,
			ONE_SOURCE: !1
		};
	a.browserType === a.BROWSER_TYPE_FIREFOX && (b.DELAY_CREATE_CTX = !0, b.USE_LOADER_EVENT = "canplay");
	a.os === a.OS_IOS && (b.USE_LOADER_EVENT = "loadedmetadata");
	a.os === a.OS_ANDROID && a.browserType === a.BROWSER_TYPE_UC && (b.ONE_SOURCE = !0);
	window.__audioSupport = b
})();
cc.Audio = cc.Class.extend({
	interruptPlay: !1,
	src: null,
	_element: null,
	_AUDIO_TYPE: "AUDIO",
	ctor: function(a) {
		this.src = a
	},
	setBuffer: function(a) {
		this._AUDIO_TYPE = "WEBAUDIO";
		this._element = new cc.Audio.WebAudio(a)
	},
	setElement: function(a) {
		this._AUDIO_TYPE = "AUDIO";
		this._element = a;
		a.addEventListener("ended", function() {
			a.loop || (a.paused = !0)
		})
	},
	play: function(a, b) {
		this._element ? (this._element.loop = b, this._element.play(), "AUDIO" === this._AUDIO_TYPE && this._element.paused && (this.stop(), cc.Audio.touchPlayList.push({
			loop: b,
			offset: a,
			audio: this._element
		})), !1 === cc.Audio.bindTouch && (cc.Audio.bindTouch = !0, cc.game.canvas.addEventListener("touchstart", cc.Audio.touchStart))) : this.interruptPlay = !1
	},
	getPlaying: function() {
		return this._element ? !this._element.paused : !0
	},
	stop: function() {
		if (this._element) {
			this._element.pause();
			try {
				this._element.currentTime = 0
			} catch (a) {}
		} else this.interruptPlay = !0
	},
	pause: function() {
		this._element ? this._element.pause() : this.interruptPlay = !0
	},
	resume: function() {
		this._element ? this._element.play() : this.interruptPlay = !1
	},
	setVolume: function(a) {
		this._element && (this._element.volume = a)
	},
	getVolume: function() {
		if (this._element) return this._element.volume
	},
	cloneNode: function() {
		var a = new cc.Audio(this.src);
		if ("AUDIO" === this._AUDIO_TYPE) {
			for (var b = document.createElement("audio"), c = b.getElementsByTagName("source"), d = 0; d < c.length; d++) b.appendChild(c[d]);
			b.src = this.src;
			a.setElement(b)
		} else a.setBuffer(this._element.buffer);
		return a
	}
});
cc.Audio.touchPlayList = [];
cc.Audio.bindTouch = !1;
cc.Audio.touchStart = function() {
	for (var a = cc.Audio.touchPlayList, b = null; b = a.pop();) b.audio.loop = !!b.loop, b.audio.play(b.offset)
};
cc.Audio.WebAudio = function(a) {
	this.buffer = a;
	this.context = cc.Audio._context;
	a = this.context.createGain();
	a.gain.value = 1;
	a.connect(this.context.destination);
	this._volume = a;
	this._loop = !1;
	this._startTime = -1;
	this._currentSource = null;
	this.playedLength = 0;
	this._currextTimer = null
};
cc.Audio.WebAudio.prototype = {
	constructor: cc.Audio.WebAudio,
	get paused() {
		return this._currentSource && this._currentSource.loop ? !1 : -1 === this._startTime ? !0 : this.context.currentTime - this._startTime > this.buffer.duration
	},
	set paused(a) {},
	get loop() {
		return this._loop
	},
	set loop(a) {
		return this._loop = a
	},
	get volume() {
		return this._volume.gain.value
	},
	set volume(a) {
		return this._volume.gain.value = a
	},
	get currentTime() {
		return this.playedLength
	},
	set currentTime(a) {
		return this.playedLength = a
	},
	play: function(a) {
		this._currentSource &&
			!this.paused && (this._currentSource.stop(0), this.playedLength = 0);
		var b = this.context.createBufferSource();
		b.buffer = this.buffer;
		b.connect(this._volume);
		b.loop = this._loop;
		this._startTime = this.context.currentTime;
		a = a || this.playedLength;
		var c = this.buffer.duration;
		this._loop ? b.start ? b.start(0) : b.notoGrainOn ? b.noteGrainOn(0) : b.noteOn(0) : b.start ? b.start(0, a, c - a) : b.notoGrainOn ? b.noteGrainOn(0, a, c - a) : b.noteOn(0, a, c - a);
		this._currentSource = b;
		if (0 === this.context.currentTime) {
			var d = this;
			clearTimeout(this._currextTimer);
			this._currextTimer = setTimeout(function() {
				0 === d.context.currentTime && cc.Audio.touchPlayList.push({
					offset: a,
					audio: d
				})
			}, 10)
		}
	},
	pause: function() {
		this.playedLength = this.context.currentTime - this._startTime;
		this.playedLength %= this.buffer.duration;
		var a = this._currentSource;
		this._currentSource = null;
		this._startTime = -1;
		a && a.stop(0)
	}
};
(function(a) {
	var b = a.WEB_AUDIO,
		c = a.ONLY_ONE,
		d = [];
	(function() {
		var a = document.createElement("audio");
		if (a.canPlayType) {
			var b = a.canPlayType('audio/ogg; codecs\x3d"vorbis"');
			b && "" !== b && d.push(".ogg");
			(b = a.canPlayType("audio/mpeg")) && "" !== b && d.push(".mp3");
			(b = a.canPlayType('audio/wav; codecs\x3d"1"')) && "" !== b && d.push(".wav");
			(b = a.canPlayType("audio/mp4")) && "" !== b && d.push(".mp4");
			(a = a.canPlayType("audio/x-m4a")) && "" !== a && d.push(".m4a")
		}
	})();
	try {
		if (b) {
			var e = new(window.AudioContext || window.webkitAudioContext ||
				window.mozAudioContext);
			cc.Audio._context = e;
			if (!(e.createBufferSource && e.createGain && e.destination && e.decodeAudioData)) throw "context is incomplete";
			a.DELAY_CREATE_CTX && setTimeout(function() {
				e = new(window.AudioContext || window.webkitAudioContext || window.mozAudioContext);
				cc.Audio._context = e
			}, 0)
		}
	} catch (f) {
		b = !1, cc.log("browser don't support web audio")
	}
	var g = {
		cache: {},
		useWebAudio: !0,
		loadBuffer: function(a, c) {
			if (b) {
				var d = cc.loader.getXMLHttpRequest();
				d.open("GET", a, !0);
				d.responseType = "arraybuffer";
				d.onload =
					function() {
						0 <= d._timeoutId && clearTimeout(d._timeoutId);
						e.decodeAudioData(d.response, function(a) {
							c(null, a)
						}, function() {
							c("decode error - " + a)
						})
					};
				d.onerror = function() {
					c("request error - " + a)
				};
				void 0 === d.ontimeout && (d._timeoutId = setTimeout(function() {
					d.ontimeout()
				}, d.timeout));
				d.ontimeout = function() {
					c("request timeout - " + a)
				};
				d.send()
			}
		},
		load: function(a, b, c, e) {
			if (0 === d.length) return e("can not support audio!");
			var f = cc.loader.getRes(b);
			if (f) return e(null, f);
			cc.loader.audioPath && (a = cc.path.join(cc.loader.audioPath,
				a));
			f = cc.path.extname(a);
			c = [f];
			for (var g = 0; g < d.length; g++) f !== d[g] && c.push(d[g]);
			f = new cc.Audio(a);
			cc.loader.cache[b] = f;
			this.loadAudioFromExtList(a, c, f, e);
			return f
		},
		loadAudioFromExtList: function(c, e, f, g) {
			if (0 === e.length) {
				var p = "can not found the resource of audio! Last match url is : ",
					p = p + c.replace(/\.(.*)?$/, "(");
				d.forEach(function(a) {
					p += a + "|"
				});
				p = p.replace(/\|$/, ")");
				return g({
					status: 520,
					errorMessage: p
				}, null)
			}
			if (b && this.useWebAudio) this.loadBuffer(c, function(a, b) {
				a && cc.log(a);
				b && f.setBuffer(b);
				g(null, f)
			});
			else {
				for (var r = a.ONE_SOURCE ? 1 : e.length, t = document.createElement("audio"), u = 0; u < r; u++) {
					var s = document.createElement("source");
					s.src = cc.path.changeExtname(c, e[u]);
					t.appendChild(s)
				}
				f.setElement(t);
				var w = setTimeout(function() {
						0 === t.readyState ? x() : v()
					}, 8E3),
					v = function() {
						t.removeEventListener("canplaythrough", v, !1);
						t.removeEventListener("error", x, !1);
						t.removeEventListener("emptied", v, !1);
						a.USE_LOADER_EVENT && t.removeEventListener(a.USE_LOADER_EVENT, v, !1);
						clearTimeout(w);
						g(null, f)
					},
					x = function() {
						cc.log("load audio failure - " +
							c);
						v()
					};
				t.addEventListener("canplaythrough", v, !1);
				t.addEventListener("error", x, !1);
				a.USE_LOADER_EVENT && t.addEventListener(a.USE_LOADER_EVENT, v, !1)
			}
		}
	};
	cc.loader.register(["mp3", "ogg", "wav", "mp4", "m4a"], g);
	cc.audioEngine = {
		_currMusic: null,
		_musicVolume: 1,
		features: a,
		willPlayMusic: function() {
			return !1
		},
		playMusic: function(a, b) {
			var c = this._currMusic;
			c && c.getPlaying() && c.stop();
			var d = this._musicVolume,
				e = cc.loader.getRes(a);
			e || (cc.loader.load(a, function() {
				e.getPlaying() || e.interruptPlay || (e.setVolume(d), e.play(0,
					b || !1))
			}), e = cc.loader.getRes(a));
			e.setVolume(d);
			e.play(0, b || !1);
			this._currMusic = e
		},
		stopMusic: function(a) {
			var b = this._currMusic;
			if (b) {
				for (var c = cc.Audio.touchPlayList, d = c.length - 1; 0 <= d; --d) this[d] && this[d].audio === b._element && c.splice(d, 1);
				b.stop();
				this._currMusic = null;
				a && cc.loader.release(b.src)
			}
		},
		pauseMusic: function() {
			var a = this._currMusic;
			a && a.pause()
		},
		resumeMusic: function() {
			var a = this._currMusic;
			a && a.resume()
		},
		rewindMusic: function() {
			var a = this._currMusic;
			a && (a.stop(), a.play())
		},
		getMusicVolume: function() {
			return this._musicVolume
		},
		setMusicVolume: function(a) {
			a -= 0;
			isNaN(a) && (a = 1);
			1 < a && (a = 1);
			0 > a && (a = 0);
			this._musicVolume = a;
			var b = this._currMusic;
			b && b.setVolume(a)
		},
		isMusicPlaying: function() {
			var a = this._currMusic;
			return a ? a.getPlaying() : !1
		},
		_audioPool: {},
		_maxAudioInstance: 10,
		_effectVolume: 1,
		playEffect: function(a, d) {
			if (c && this._currMusic && this._currMusic.getPlaying()) return cc.log("Browser is only allowed to play one audio"), null;
			var e = this._audioPool[a];
			e || (e = this._audioPool[a] = []);
			for (var f = 0; f < e.length && e[f].getPlaying(); f++);
			!b &&
				f > this._maxAudioInstance && (f = e.shift(), f.stop(), e.push(f), f = e.length - 1);
			var p;
			if (e[f]) return p = e[f], p.setVolume(this._effectVolume), p.play(0, d || !1), p;
			(p = cc.loader.getRes(a)) && b && "AUDIO" === p._AUDIO_TYPE && (cc.loader.release(a), p = null);
			if (p)
				if (b && "AUDIO" === p._AUDIO_TYPE) g.loadBuffer(a, function(a, b) {
					p.setBuffer(b);
					p.setVolume(cc.audioEngine._effectVolume);
					p.getPlaying() || p.play(0, d || !1)
				});
				else return p = p.cloneNode(), p.setVolume(this._effectVolume), p.play(0, d || !1), e.push(p), p;
			f = g.useWebAudio;
			g.useWebAudio = !0;
			cc.loader.load(a, function(b) {
				b = cc.loader.getRes(a);
				b = b.cloneNode();
				b.setVolume(cc.audioEngine._effectVolume);
				b.play(0, d || !1);
				e.push(b)
			});
			g.useWebAudio = f;
			return p
		},
		setEffectsVolume: function(a) {
			a -= 0;
			isNaN(a) && (a = 1);
			1 < a && (a = 1);
			0 > a && (a = 0);
			this._effectVolume = a;
			var b = this._audioPool,
				c;
			for (c in b) {
				var d = b[c];
				if (Array.isArray(d))
					for (var e = 0; e < d.length; e++) d[e].setVolume(a)
			}
		},
		getEffectsVolume: function() {
			return this._effectVolume
		},
		pauseEffect: function(a) {
			a && a.pause()
		},
		pauseAllEffects: function() {
			var a = this._audioPool,
				b;
			for (b in a)
				for (var c = a[b], d = 0; d < a[b].length; d++) c[d].getPlaying() && c[d].pause()
		},
		resumeEffect: function(a) {
			a && a.resume()
		},
		resumeAllEffects: function() {
			var a = this._audioPool,
				b;
			for (b in a)
				for (var c = a[b], d = 0; d < a[b].length; d++) c[d].resume()
		},
		stopEffect: function(a) {
			a && a.stop()
		},
		stopAllEffects: function() {
			var a = this._audioPool,
				b;
			for (b in a) {
				for (var c = a[b], d = 0; d < c.length; d++) c[d].stop();
				c.length = 0
			}
			a.length = 0
		},
		unloadEffect: function(a) {
			if (a) {
				cc.loader.release(a);
				var b = this._audioPool[a];
				if (b) {
					for (var c = 0; c <
						b.length; c++) b[c].stop();
					b.length = 0
				}
				delete this._audioPool[a]
			}
		},
		end: function() {
			this.stopMusic();
			this.stopAllEffects()
		},
		_pauseCache: [],
		_pausePlaying: function() {
			var a = this._currMusic;
			a && a.getPlaying() && (a.pause(), this._pauseCache.push(a));
			var a = this._audioPool,
				b;
			for (b in a)
				for (var c = a[b], d = 0; d < a[b].length; d++) c[d].getPlaying() && (c[d].pause(), this._pauseCache.push(c[d]))
		},
		_resumePlaying: function() {
			for (var a = this._pauseCache, b = 0; b < a.length; b++) a[b].resume();
			a.length = 0
		}
	}
})(window.__audioSupport);
cc.CONTROL_EVENT_TOTAL_NUMBER = 9;
cc.CONTROL_EVENT_TOUCH_DOWN = 1;
cc.CONTROL_EVENT_TOUCH_DRAG_INSIDE = 2;
cc.CONTROL_EVENT_TOUCH_DRAG_OUTSIDE = 4;
cc.CONTROL_EVENT_TOUCH_DRAG_ENTER = 8;
cc.CONTROL_EVENT_TOUCH_DRAG_EXIT = 16;
cc.CONTROL_EVENT_TOUCH_UP_INSIDE = 32;
cc.CONTROL_EVENT_TOUCH_UP_OUTSIDE = 64;
cc.CONTROL_EVENT_TOUCH_CANCEL = 128;
cc.CONTROL_EVENT_VALUECHANGED = 256;
cc.CONTROL_STATE_NORMAL = 1;
cc.CONTROL_STATE_HIGHLIGHTED = 2;
cc.CONTROL_STATE_DISABLED = 4;
cc.CONTROL_STATE_SELECTED = 8;
cc.CONTROL_STATE_INITIAL = 8;
cc.Control = cc.Layer.extend({
	_isOpacityModifyRGB: !1,
	_hasVisibleParents: !1,
	_touchListener: null,
	_className: "Control",
	isOpacityModifyRGB: function() {
		return this._isOpacityModifyRGB
	},
	setOpacityModifyRGB: function(a) {
		this._isOpacityModifyRGB = a;
		for (var b = this.getChildren(), c = 0, d = b.length; c < d; c++) {
			var e = b[c];
			e && e.setOpacityModifyRGB(a)
		}
	},
	_state: cc.CONTROL_STATE_NORMAL,
	getState: function() {
		return this._state
	},
	_enabled: !1,
	_selected: !1,
	_highlighted: !1,
	_dispatchTable: null,
	setEnabled: function(a) {
		this._state = (this._enabled =
			a) ? cc.CONTROL_STATE_NORMAL : cc.CONTROL_STATE_DISABLED;
		this.needsLayout()
	},
	isEnabled: function() {
		return this._enabled
	},
	setSelected: function(a) {
		this._selected = a;
		this.needsLayout()
	},
	isSelected: function() {
		return this._selected
	},
	setHighlighted: function(a) {
		this._highlighted = a;
		this.needsLayout()
	},
	isHighlighted: function() {
		return this._highlighted
	},
	hasVisibleParents: function() {
		for (var a = this.getParent(); null != a; a = a.getParent())
			if (!a.isVisible()) return !1;
		return !0
	},
	ctor: function() {
		cc.Layer.prototype.ctor.call(this);
		this._dispatchTable = {};
		this._color = cc.color.WHITE
	},
	init: function() {
		this._state = cc.CONTROL_STATE_NORMAL;
		this._enabled = !0;
		this._highlighted = this._selected = !1;
		var a = cc.EventListener.create({
			event: cc.EventListener.TOUCH_ONE_BY_ONE,
			swallowTouches: !0
		});
		this.onTouchBegan && (a.onTouchBegan = this.onTouchBegan.bind(this));
		this.onTouchMoved && (a.onTouchMoved = this.onTouchMoved.bind(this));
		this.onTouchEnded && (a.onTouchEnded = this.onTouchEnded.bind(this));
		this.onTouchCancelled && (a.onTouchCancelled = this.onTouchCancelled.bind(this));
		this._touchListener = a;
		return !0
	},
	onEnter: function() {
		var a = this._touchListener;
		a._isRegistered() || cc.eventManager.addListener(a, this);
		cc.Node.prototype.onEnter.call(this)
	},
	sendActionsForControlEvents: function(a) {
		for (var b = 0, c = cc.CONTROL_EVENT_TOTAL_NUMBER; b < c; b++)
			if (a & 1 << b)
				for (var d = this._dispatchListforControlEvent(1 << b), e = 0, f = d.length; e < f; e++) d[e].invoke(this)
	},
	addTargetWithActionForControlEvents: function(a, b, c) {
		for (var d = 0, e = cc.CONTROL_EVENT_TOTAL_NUMBER; d < e; d++) c & 1 << d && this._addTargetWithActionForControlEvent(a,
			b, 1 << d)
	},
	removeTargetWithActionForControlEvents: function(a, b, c) {
		for (var d = 0, e = cc.CONTROL_EVENT_TOTAL_NUMBER; d < e; d++) c & 1 << d && this._removeTargetWithActionForControlEvent(a, b, 1 << d)
	},
	getTouchLocation: function(a) {
		a = a.getLocation();
		return this.convertToNodeSpace(a)
	},
	isTouchInside: function(a) {
		a = a.getLocation();
		a = this.getParent().convertToNodeSpace(a);
		return cc.rectContainsPoint(this.getBoundingBox(), a)
	},
	_invocationWithTargetAndActionForControlEvent: function(a, b, c) {
		return null
	},
	_dispatchListforControlEvent: function(a) {
		a =
			a.toString();
		this._dispatchTable[a] || (this._dispatchTable[a] = []);
		return this._dispatchTable[a]
	},
	_addTargetWithActionForControlEvent: function(a, b, c) {
		a = new cc.Invocation(a, b, c);
		this._dispatchListforControlEvent(c).push(a)
	},
	_removeTargetWithActionForControlEvent: function(a, b, c) {
		c = this._dispatchListforControlEvent(c);
		if (a || b)
			for (var d = 0; d < c.length;) {
				var e = c[d],
					f = !0;
				a && (f = a === e.getTarget());
				b && (f = f && b === e.getAction());
				f ? cc.arrayRemoveObject(c, e) : d++
			} else c.length = 0
	},
	needsLayout: function() {}
});
_p = cc.Control.prototype;
cc.defineGetterSetter(_p, "state", _p.getState);
cc.defineGetterSetter(_p, "enabled", _p.isEnabled, _p.setEnabled);
cc.defineGetterSetter(_p, "selected", _p.isSelected, _p.setSelected);
cc.defineGetterSetter(_p, "highlighted", _p.isHighlighted, _p.setHighlighted);
_p = null;
cc.Control.create = function() {
	var a = new cc.Control;
	return a && a.init() ? a : null
};
cc.CONTROL_ZOOM_ACTION_TAG = 3435855873;
cc.ControlButton = cc.Control.extend({
	_doesAdjustBackgroundImage: !1,
	zoomOnTouchDown: !1,
	_preferredSize: null,
	_labelAnchorPoint: null,
	_currentTitle: null,
	_currentTitleColor: null,
	_titleLabel: null,
	_backgroundSprite: null,
	_opacity: 0,
	_isPushed: !1,
	_titleDispatchTable: null,
	_titleColorDispatchTable: null,
	_titleLabelDispatchTable: null,
	_backgroundSpriteDispatchTable: null,
	_parentInited: !1,
	_marginV: 0,
	_marginH: 0,
	_className: "ControlButton",
	ctor: function(a, b, c) {
		cc.Control.prototype.ctor.call(this);
		this._preferredSize = cc.size(0,
			0);
		this._labelAnchorPoint = cc.p(0, 0);
		this._currentTitle = "";
		this._currentTitleColor = cc.color.WHITE;
		this._titleDispatchTable = {};
		this._titleColorDispatchTable = {};
		this._titleLabelDispatchTable = {};
		this._backgroundSpriteDispatchTable = {};
		void 0 != c ? this.initWithTitleAndFontNameAndFontSize(a, b, c) : void 0 != b ? this.initWithLabelAndBackgroundSprite(a, b) : void 0 != a ? this.initWithBackgroundSprite(a) : this.init()
	},
	init: function() {
		return this.initWithLabelAndBackgroundSprite(new cc.LabelTTF("", "Arial", 12), new cc.Scale9Sprite)
	},
	needsLayout: function() {
		if (this._parentInited) {
			this._titleLabel && this._titleLabel.setVisible(!1);
			this._backgroundSprite && this._backgroundSprite.setVisible(!1);
			this.setLabelAnchorPoint(this._labelAnchorPoint);
			var a = this._state;
			this._currentTitle = this.getTitleForState(a);
			this._currentTitleColor = this.getTitleColorForState(a);
			var b = this._titleLabel = this.getTitleLabelForState(a);
			b && b.setString && b.setString(this._currentTitle);
			b && b.setColor(this._currentTitleColor);
			var c = this.getContentSize();
			b && b.setPosition(c.width /
				2, c.height / 2);
			(a = this._backgroundSprite = this.getBackgroundSpriteForState(a)) && a.setPosition(c.width / 2, c.height / 2);
			c = cc.size(0, 0);
			if (b) {
				var d = b.getBoundingBox();
				c.width = d.width;
				c.height = d.height
			}
			this._doesAdjustBackgroundImage ? a && a.setContentSize(c.width + 2 * this._marginH, c.height + 2 * this._marginV) : a && (d = a.getPreferredSize(), d = cc.size(d.width, d.height), 0 >= d.width && (d.width = c.width), 0 >= d.height && (d.height = c.height), a.setContentSize(d));
			c = b ? b.getBoundingBox() : cc.rect(0, 0, 0, 0);
			d = a ? a.getBoundingBox() : cc.rect(0,
				0, 0, 0);
			c = cc.rectUnion(c, d);
			this.setContentSize(c.width, c.height);
			c = this.getContentSize();
			b && (b.setPosition(c.width / 2, c.height / 2), b.setVisible(!0));
			a && (a.setPosition(c.width / 2, c.height / 2), a.setVisible(!0))
		}
	},
	initWithLabelAndBackgroundSprite: function(a, b) {
		if (!a) throw Error("cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null");
		if (!b) throw Error("cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null");
		if (cc.Control.prototype.init.call(this,
				!0)) {
			this._parentInited = !0;
			this._titleDispatchTable = {};
			this._titleColorDispatchTable = {};
			this._titleLabelDispatchTable = {};
			this._backgroundSpriteDispatchTable = {};
			this._isPushed = !1;
			this.zoomOnTouchDown = !0;
			this._currentTitle = null;
			this.setAdjustBackgroundImage(!0);
			this.setPreferredSize(cc.size(0, 0));
			this.zoomOnTouchDown = !0;
			this.ignoreAnchorPointForPosition(!1);
			this.setAnchorPoint(0.5, 0.5);
			this._titleLabel = a;
			this._backgroundSprite = b;
			this.setOpacity(255);
			this.setOpacityModifyRGB(!0);
			var c = a.getString();
			this.setTitleForState(c, cc.CONTROL_STATE_NORMAL);
			this.setTitleColorForState(a.getColor(), cc.CONTROL_STATE_NORMAL);
			this.setTitleLabelForState(a, cc.CONTROL_STATE_NORMAL);
			this.setBackgroundSpriteForState(b, cc.CONTROL_STATE_NORMAL);
			this._state = cc.CONTROL_STATE_NORMAL;
			this._marginH = 24;
			this._marginV = 12;
			this._labelAnchorPoint = cc.p(0.5, 0.5);
			this.setPreferredSize(cc.size(0, 0));
			this.needsLayout();
			return !0
		}
		return !1
	},
	initWithTitleAndFontNameAndFontSize: function(a, b, c) {
		a = new cc.LabelTTF(a, b, c);
		return this.initWithLabelAndBackgroundSprite(a,
			new cc.Scale9Sprite)
	},
	initWithBackgroundSprite: function(a) {
		var b = new cc.LabelTTF("", "Arial", 30);
		return this.initWithLabelAndBackgroundSprite(b, a)
	},
	doesAdjustBackgroundImage: function() {
		return this._doesAdjustBackgroundImage
	},
	setAdjustBackgroundImage: function(a) {
		this._doesAdjustBackgroundImage = a;
		this.needsLayout()
	},
	getZoomOnTouchDown: function() {
		return this.zoomOnTouchDown
	},
	setZoomOnTouchDown: function(a) {
		return this.zoomOnTouchDown = a
	},
	getPreferredSize: function() {
		return this._preferredSize
	},
	setPreferredSize: function(a) {
		if (0 ===
			a.width && 0 === a.height) this._doesAdjustBackgroundImage = !0;
		else {
			this._doesAdjustBackgroundImage = !1;
			var b = this._backgroundSpriteDispatchTable,
				c;
			for (c in b) b[c].setPreferredSize(a)
		}
		this._preferredSize = a;
		this.needsLayout()
	},
	getLabelAnchorPoint: function() {
		return this._labelAnchorPoint
	},
	setLabelAnchorPoint: function(a) {
		this._labelAnchorPoint = a;
		this._titleLabel && this._titleLabel.setAnchorPoint(a)
	},
	_getCurrentTitle: function() {
		return this._currentTitle
	},
	_getCurrentTitleColor: function() {
		return this._currentTitleColor
	},
	getOpacity: function() {
		return this._opacity
	},
	setOpacity: function(a) {
		cc.Control.prototype.setOpacity.call(this, a);
		var b = this._backgroundSpriteDispatchTable,
			c;
		for (c in b) b[c].setOpacity(a)
	},
	setColor: function(a) {
		cc.Control.prototype.setColor.call(this, a);
		var b = this._backgroundSpriteDispatchTable,
			c;
		for (c in b) b[c].setColor(a)
	},
	getColor: function() {
		var a = this._realColor;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	isPushed: function() {
		return this._isPushed
	},
	_getVerticalMargin: function() {
		return this._marginV
	},
	_getHorizontalOrigin: function() {
		return this._marginH
	},
	setMargins: function(a, b) {
		this._marginV = b;
		this._marginH = a;
		this.needsLayout()
	},
	setEnabled: function(a) {
		cc.Control.prototype.setEnabled.call(this, a);
		this.needsLayout()
	},
	setSelected: function(a) {
		cc.Control.prototype.setSelected.call(this, a);
		this.needsLayout()
	},
	setHighlighted: function(a) {
		this._state = a ? cc.CONTROL_STATE_HIGHLIGHTED : cc.CONTROL_STATE_NORMAL;
		cc.Control.prototype.setHighlighted.call(this, a);
		(a = this.getActionByTag(cc.CONTROL_ZOOM_ACTION_TAG)) && this.stopAction(a);
		this.zoomOnTouchDown && (a = this.isHighlighted() &&
			this.isEnabled() && !this.isSelected() ? 1.1 : 1, a = cc.scaleTo(0.05, a), a.setTag(cc.CONTROL_ZOOM_ACTION_TAG), this.runAction(a))
	},
	onTouchBegan: function(a, b) {
		if (!(this.isTouchInside(a) && this.isEnabled() && this.isVisible() && this.hasVisibleParents())) return !1;
		this._isPushed = !0;
		this.setHighlighted(!0);
		this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DOWN);
		return !0
	},
	onTouchMoved: function(a, b) {
		if (this._enabled && this._isPushed && !this._selected) {
			var c = this.isTouchInside(a);
			c && !this._highlighted ? (this.setHighlighted(!0),
				this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DRAG_ENTER)) : c && this._highlighted ? this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DRAG_INSIDE) : !c && this._highlighted ? (this.setHighlighted(!1), this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DRAG_EXIT)) : c || this._highlighted || this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_DRAG_OUTSIDE)
		} else this._highlighted && this.setHighlighted(!1)
	},
	onTouchEnded: function(a, b) {
		this._isPushed = !1;
		this.setHighlighted(!1);
		this.isTouchInside(a) ?
			this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_UP_INSIDE) : this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_UP_OUTSIDE)
	},
	onTouchCancelled: function(a, b) {
		this._isPushed = !1;
		this.setHighlighted(!1);
		this.sendActionsForControlEvents(cc.CONTROL_EVENT_TOUCH_CANCEL)
	},
	getTitleForState: function(a) {
		var b = this._titleDispatchTable;
		return b ? b[a] ? b[a] : b[cc.CONTROL_STATE_NORMAL] : ""
	},
	setTitleForState: function(a, b) {
		this._titleDispatchTable[b] = a || "";
		this.getState() === b && this.needsLayout()
	},
	getTitleColorForState: function(a) {
		return (a =
			this._titleColorDispatchTable[a]) ? a : (a = this._titleColorDispatchTable[cc.CONTROL_STATE_NORMAL]) ? a : cc.color.WHITE
	},
	setTitleColorForState: function(a, b) {
		this._titleColorDispatchTable[b] = a;
		this.getState() === b && this.needsLayout()
	},
	getTitleLabelForState: function(a) {
		var b = this._titleLabelDispatchTable;
		return b[a] ? b[a] : b[cc.CONTROL_STATE_NORMAL]
	},
	setTitleLabelForState: function(a, b) {
		var c = this._titleLabelDispatchTable;
		if (c[b]) {
			var d = c[b];
			d && this.removeChild(d, !0)
		}
		c[b] = a;
		a.setVisible(!1);
		a.setAnchorPoint(0.5,
			0.5);
		this.addChild(a, 1);
		this.getState() === b && this.needsLayout()
	},
	setTitleTTFForState: function(a, b) {
		var c = this.getTitleForState(b);
		c || (c = "");
		this.setTitleLabelForState(new cc.LabelTTF(c, a, 12), b)
	},
	getTitleTTFForState: function(a) {
		a = this.getTitleLabelForState(a);
		return null != a && a instanceof cc.LabelTTF ? a.getFontName() : ""
	},
	setTitleTTFSizeForState: function(a, b) {
		var c = this.getTitleLabelForState(b);
		null != c && c instanceof cc.LabelTTF && c.setFontSize(a)
	},
	getTitleTTFSizeForState: function(a) {
		a = this.getTitleLabelForState(a);
		return null != a && a instanceof cc.LabelTTF ? a.getFontSize() : 0
	},
	setTitleBMFontForState: function(a, b) {
		var c = this.getTitleForState(b);
		c || (c = "");
		this.setTitleLabelForState(new cc.LabelBMFont(c, a), b)
	},
	getTitleBMFontForState: function(a) {
		a = this.getTitleLabelForState(a);
		return null != a && a instanceof cc.LabelBMFont ? a.getFntFile() : ""
	},
	getBackgroundSpriteForState: function(a) {
		var b = this._backgroundSpriteDispatchTable;
		return b[a] ? b[a] : b[cc.CONTROL_STATE_NORMAL]
	},
	setBackgroundSpriteForState: function(a, b) {
		var c = this._backgroundSpriteDispatchTable;
		if (c[b]) {
			var d = c[b];
			d && this.removeChild(d, !0)
		}
		c[b] = a;
		a.setVisible(!1);
		a.setAnchorPoint(0.5, 0.5);
		this.addChild(a);
		c = this._preferredSize;
		0 === c.width && 0 === c.height || a.setPreferredSize(c);
		this._state === b && this.needsLayout()
	},
	setBackgroundSpriteFrameForState: function(a, b) {
		var c = cc.Scale9Sprite.createWithSpriteFrame(a);
		this.setBackgroundSpriteForState(c, b)
	}
});
_p = cc.ControlButton.prototype;
cc.defineGetterSetter(_p, "adjustBackground", _p.getAdjustBackgroundImage, _p.setAdjustBackgroundImage);
cc.defineGetterSetter(_p, "preferredSize", _p.getPreferredSize, _p.setPreferredSize);
cc.defineGetterSetter(_p, "labelAnchor", _p.getLabelAnchorPoint, _p.setLabelAnchorPoint);
_p = null;
cc.ControlButton.create = function(a, b, c) {
	return new cc.ControlButton(a, b, c)
};
cc.RGBA = function(a, b, c, d) {
	this.r = a;
	this.g = b;
	this.b = c;
	this.a = d
};
cc.HSV = function(a, b, c) {
	this.h = a;
	this.s = b;
	this.v = c
};
cc.ControlUtils = {};
cc.ControlUtils.addSpriteToTargetWithPosAndAnchor = function(a, b, c, d) {
	a = new cc.Sprite("#" + a);
	if (!a) return null;
	a.setPosition(c);
	a.setAnchorPoint(d);
	b.addChild(a);
	return a
};
cc.ControlUtils.HSVfromRGB = function(a) {
	var b = new cc.HSV,
		c, d;
	c = a.r < a.g ? a.r : a.g;
	c = c < a.b ? c : a.b;
	d = a.r > a.g ? a.r : a.g;
	d = d > a.b ? d : a.b;
	b.v = d;
	c = d - c;
	if (0 < d) b.s = c / d;
	else return b.s = 0, b.h = -1, b;
	b.h = a.r >= d ? (a.g - a.b) / c : a.g >= d ? 2 + (a.b - a.r) / c : 4 + (a.r - a.g) / c;
	b.h *= 60;
	0 > b.h && (b.h += 360);
	return b
};
cc.ControlUtils.RGBfromHSV = function(a) {
	var b, c, d, e, f = new cc.RGBA;
	f.a = 1;
	if (0 >= a.s) {
		if (!a.h) return f.r = a.v, f.g = a.v, f.b = a.v, f;
		f.r = 0;
		f.g = 0;
		f.b = 0;
		return f
	}
	b = a.h;
	360 <= b && (b = 0);
	b /= 60;
	e = 0 | b;
	d = b - e;
	b = a.v * (1 - a.s);
	c = a.v * (1 - a.s * d);
	d = a.v * (1 - a.s * (1 - d));
	switch (e) {
		case 0:
			f.r = a.v;
			f.g = d;
			f.b = b;
			break;
		case 1:
			f.r = c;
			f.g = a.v;
			f.b = b;
			break;
		case 2:
			f.r = b;
			f.g = a.v;
			f.b = d;
			break;
		case 3:
			f.r = b;
			f.g = c;
			f.b = a.v;
			break;
		case 4:
			f.r = d;
			f.g = b;
			f.b = a.v;
			break;
		default:
			f.r = a.v, f.g = b, f.b = c
	}
	return f
};
cc.ControlUtils.CCRectUnion = function(a, b) {
	return cc.rectUnion(a, b)
};
cc.Invocation = cc.Class.extend({
	_action: null,
	_target: null,
	_controlEvent: null,
	ctor: function(a, b, c) {
		this._target = a;
		this._action = b;
		this._controlEvent = c
	},
	getAction: function() {
		return this._action
	},
	getTarget: function() {
		return this._target
	},
	getControlEvent: function() {
		return this._controlEvent
	},
	invoke: function(a) {
		if (this._target && this._action)
			if (cc.isString(this._action)) this._target[this._action](a, this._controlEvent);
			else this._action.call(this._target, a, this._controlEvent)
	}
});
cc.Spacer = cc.Layer.extend({});
cc.Spacer.verticalSpacer = function(a) {
	var b = new cc.Spacer;
	b.init();
	b.setContentSize(0, a);
	return b
};
cc.Spacer.horizontalSpacer = function(a) {
	var b = new cc.Spacer;
	b.init();
	b.setContentSize(a, 0);
	return b
};
cc.MenuPassive = cc.Layer.extend({
	_color: null,
	_opacity: 0,
	_className: "MenuPassive",
	ctor: function() {},
	getColor: function() {
		var a = this._color;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	setColor: function(a) {
		var b = this._color;
		b.r = a.r;
		b.g = a.g;
		b.b = a.b;
		if (this._children && 0 < this._children.length)
			for (b = 0; b < this._children.length; b++) this._children[b] && this._children[b].setColor(a);
		void 0 === a.a || a.a_undefined || this.setOpacity(a.a)
	},
	getOpacity: function() {
		return this._opacity
	},
	setOpacity: function(a) {
		this._opacity = a;
		if (this._children &&
			0 < this._children.length)
			for (var b = 0; b < this._children.length; b++) this._children[b] && this._children[b].setOpacity(a);
		this._color.a = a
	},
	initWithItems: function(a, b) {
		if (this.init()) {
			var c = cc.director.getWinSize();
			this.ignoreAnchorPointForPosition(!0);
			this.setAnchorPoint(0.5, 0.5);
			this.setContentSize(c);
			this.setPosition(c.width / 2, c.height / 2);
			c = 0;
			if (a) {
				this.addChild(a, c);
				for (var d = 0; d < b.length; d++) b[d] && (c++, this.addChild(b[d], c))
			}
			return !0
		}
		return !1
	},
	alignItemsVertically: function() {
		this.alignItemsVerticallyWithPadding(cc.DEFAULT_PADDING)
	},
	alignItemsVerticallyWithPadding: function(a) {
		var b = -a,
			c;
		if (this._children && 0 < this._children.length)
			for (c = 0; c < this._children.length; c++) this._children[c] && (b += this._children[c].getContentSize().height * this._children[c].getScaleY() + a);
		var d = 0,
			e = b / 2;
		if (this._children && 0 < this._children.length)
			for (c = 0; c < this._children.length; c++) this._children[c] && (d = Math.max(d, this._children[c].getContentSize().width), this._children[c].setPosition(0, e - this._children[c].getContentSize().height * this._children[c].getScaleY() /
				2), e -= this._children[c].getContentSize().height * this._children[c].getScaleY() + a);
		this.setContentSize(d, b)
	},
	alignItemsHorizontally: function() {
		this.alignItemsHorizontallyWithPadding(cc.DEFAULT_PADDING)
	},
	alignItemsHorizontallyWithPadding: function(a) {
		var b = -a,
			c;
		if (this._children && 0 < this._children.length)
			for (c = 0; c < this._children.length; c++) this._children[c] && (b += this._children[c].getContentSize().width * this._children[c].getScaleX() + a);
		var d = 0,
			e = -b / 2;
		if (this._children && 0 < this._children.length)
			for (c = 0; c <
				this._children.length; c++) this._children[c] && (d = Math.max(d, this._children[c].getContentSize().height), this._children[c].setPosition(e + this._children[c].getContentSize().width * this._children[c].getScaleX() / 2, 0), e += this._children[c].getContentSize().width * this._children[c].getScaleX() + a);
		this.setContentSize(b, d)
	},
	alignItemsInColumns: function(a) {
		var b = [],
			c;
		for (c = 1; c < arguments.length; c++) b.push(arguments[c]);
		var d = -5,
			e = 0,
			f = 0,
			g = 0,
			h, k;
		if (this._children && 0 < this._children.length)
			for (c = 0; c < this._children.length; c++) this._children[c] &&
				(e >= b.length ? cc.log("cc.MenuPassive.alignItemsInColumns(): invalid row index") : (h = b[e]) ? (k = this._children[c].getContentSize().height, f = 0 | (f >= k || null == k ? f : k), ++g, g >= h && (d += f + 5, f = g = 0, ++e)) : cc.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));
		var m = cc.director.getWinSize(),
			n = h = f = e = 0,
			p = 0,
			d = d / 2;
		if (this._children && 0 < this._children.length)
			for (c = 0; c < this._children.length; c++) this._children[c] && (0 === h && (h = b[e], p = n = m.width / (1 + h)), k = this._children[c].getContentSize().height, f =
				0 | (f >= k || null == k ? f : k), this._children[c].setPosition(p - m.width / 2, d - this._children[c].getContentSize().height / 2), p += n, ++g, g >= h && (d -= f + 5, f = h = g = 0, ++e))
	},
	alignItemsInRows: function(a) {
		var b = [],
			c;
		for (c = 1; c < arguments.length; c++) b.push(arguments[c]);
		var d = [],
			e = [],
			f = -10,
			g = -5,
			h = 0,
			k = 0,
			m = 0,
			n, p;
		if (this._children && 0 < this._children.length)
			for (c = 0; c < this._children.length; c++) this._children[c] && (h >= b.length ? cc.log("cc.MenuPassive.alignItemsInRows(): invalid row index") : (n = b[h]) ? (p = this._children[c].getContentSize().width,
				k = 0 | (k >= p || null == p ? k : p), g += 0 | this._children[c].getContentSize().height + 5, ++m, m >= n && (d.push(k), e.push(g), f += k + 10, k = m = 0, g = -5, ++h)) : cc.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));
		g = cc.director.getWinSize();
		k = h = 0;
		n = null;
		var f = -f / 2,
			r = 0;
		if (this._children && 0 < this._children.length)
			for (c = 0; c < this._children.length; c++) this._children[c] && (null == n && (n = b[h], r = e[h]), p = this._children[c].getContentSize().width, k = 0 | (k >= p || null == p ? k : p), this._children[c].setPosition(f + d[h] / 2, r - g.height /
				2), r -= this._children[c].getContentSize().height + 10, ++m, m >= n && (f += k + 5, k = n = m = 0, ++h))
	},
	setOpacityModifyRGB: function(a) {},
	isOpacityModifyRGB: function() {
		return !1
	}
});
cc.MenuPassive.create = function(a) {
	a || (a = null);
	for (var b = [], c = 1; c < arguments.length; c++) b.push(arguments[c]);
	return (c = new cc.MenuPassive) && c.initWithItems(a, b) ? c : null
};
cc.MenuPassive.createWithItem = function(a) {
	return cc.MenuPassive.create(a, null)
};
cc.ControlSaturationBrightnessPicker = cc.Control.extend({
	_saturation: 0,
	_brightness: 0,
	_background: null,
	_overlay: null,
	_shadow: null,
	_slider: null,
	_startPos: null,
	_boxPos: 0,
	_boxSize: 0,
	_className: "ControlSaturationBrightnessPicker",
	ctor: function(a, b) {
		cc.Control.prototype.ctor.call(this);
		b && this.initWithTargetAndPos(a, b)
	},
	getSaturation: function() {
		return this._saturation
	},
	getBrightness: function() {
		return this._brightness
	},
	getBackground: function() {
		return this._background
	},
	getOverlay: function() {
		return this._brightness
	},
	getShadow: function() {
		return this._shadow
	},
	getSlider: function() {
		return this._slider
	},
	getStartPos: function() {
		return this._startPos
	},
	initWithTargetAndPos: function(a, b) {
		return cc.Control.prototype.init.call(this) ? (this._background = cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPickerBackground.png", a, b, cc.p(0, 0)), this._overlay = cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPickerOverlay.png", a, b, cc.p(0, 0)), this._shadow = cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPickerShadow.png",
			a, b, cc.p(0, 0)), this._slider = cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPicker.png", a, b, cc.p(0.5, 0.5)), this._startPos = b, this._boxPos = 35, this._boxSize = this._background.getContentSize().width / 2, !0) : !1
	},
	setEnabled: function(a) {
		cc.Control.prototype.setEnabled.call(this, a);
		this._slider && this._slider.setOpacity(a ? 255 : 128)
	},
	updateWithHSV: function(a) {
		var b = new cc.HSV;
		b.s = 1;
		b.h = a.h;
		b.v = 1;
		a = cc.ControlUtils.RGBfromHSV(b);
		this._background.setColor(cc.color(0 | 255 * a.r, 0 | 255 * a.g, 0 | 255 * a.b))
	},
	updateDraggerWithHSV: function(a) {
		a =
			cc.p(this._startPos.x + this._boxPos + this._boxSize * (1 - a.s), this._startPos.y + this._boxPos + this._boxSize * a.v);
		this._updateSliderPosition(a)
	},
	_updateSliderPosition: function(a) {
		var b = this._startPos.x + 0.5 * this._background.getBoundingBox().width,
			c = this._startPos.y + 0.5 * this._background.getBoundingBox().height,
			d = a.x - b,
			e = a.y - c,
			f = Math.sqrt(d * d + e * e),
			d = Math.atan2(e, d),
			e = 0.5 * this._background.getBoundingBox().width;
		f > e && (a.x = b + e * Math.cos(d), a.y = c + e * Math.sin(d));
		this._slider.setPosition(a);
		a.x < this._startPos.x + this._boxPos ?
			a.x = this._startPos.x + this._boxPos : a.x > this._startPos.x + this._boxPos + this._boxSize - 1 && (a.x = this._startPos.x + this._boxPos + this._boxSize - 1);
		a.y < this._startPos.y + this._boxPos ? a.y = this._startPos.y + this._boxPos : a.y > this._startPos.y + this._boxPos + this._boxSize && (a.y = this._startPos.y + this._boxPos + this._boxSize);
		this._saturation = 1 - Math.abs((this._startPos.x + this._boxPos - a.x) / this._boxSize);
		this._brightness = Math.abs((this._startPos.y + this._boxPos - a.y) / this._boxSize)
	},
	_checkSliderPosition: function(a) {
		var b = this._startPos.x +
			0.5 * this._background.getBoundingBox().width,
			c = this._startPos.y + 0.5 * this._background.getBoundingBox().height,
			b = a.x - b,
			c = a.y - c;
		return Math.sqrt(b * b + c * c) <= 0.5 * this._background.getBoundingBox().width ? (this._updateSliderPosition(a), this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED), !0) : !1
	},
	onTouchBegan: function(a, b) {
		if (!this.isEnabled() || !this.isVisible()) return !1;
		var c = this.getTouchLocation(a);
		return this._checkSliderPosition(c)
	},
	onTouchMoved: function(a, b) {
		var c = this.getTouchLocation(a);
		this._checkSliderPosition(c)
	}
});
_p = cc.ControlSaturationBrightnessPicker.prototype;
cc.defineGetterSetter(_p, "saturation", _p.getSaturation);
cc.defineGetterSetter(_p, "brightness", _p.getBrightness);
cc.defineGetterSetter(_p, "background", _p.getBackground);
cc.defineGetterSetter(_p, "overlay", _p.getOverlay);
cc.defineGetterSetter(_p, "shadow", _p.getShadow);
cc.defineGetterSetter(_p, "slider", _p.getSlider);
cc.defineGetterSetter(_p, "startPos", _p.getStartPos);
_p = null;
cc.ControlSaturationBrightnessPicker.create = function(a, b) {
	return new cc.ControlSaturationBrightnessPicker(a, b)
};
cc.ControlHuePicker = cc.Control.extend({
	_hue: 0,
	_huePercentage: 0,
	_background: null,
	_slider: null,
	_startPos: null,
	_className: "ControlHuePicker",
	ctor: function(a, b) {
		cc.Control.prototype.ctor.call(this);
		b && this.initWithTargetAndPos(a, b)
	},
	getHue: function() {
		return this._hue
	},
	setHue: function(a) {
		this._hue = a;
		this.setHuePercentage(this._hue / 360)
	},
	getHuePercentage: function() {
		return this._huePercentage
	},
	setHuePercentage: function(a) {
		this._huePercentage = a;
		this._hue = 360 * this._huePercentage;
		var b = this._background.getBoundingBox(),
			c = this._startPos.x + 0.5 * b.width;
		a = this._startPos.y + 0.5 * b.height;
		var b = 0.5 * b.width - 15,
			d = cc.degreesToRadians(360 * this._huePercentage - 180),
			c = c + b * Math.cos(d);
		a += b * Math.sin(d);
		this._slider.setPosition(c, a)
	},
	setEnabled: function(a) {
		cc.Control.prototype.setEnabled.call(this, a);
		this._slider && this._slider.setOpacity(a ? 255 : 128)
	},
	getBackground: function() {
		return this._background
	},
	getSlider: function() {
		return this._slider
	},
	getStartPos: function() {
		return this._startPos
	},
	initWithTargetAndPos: function(a, b) {
		return cc.Control.prototype.init.call(this) ?
			(this._background = cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("huePickerBackground.png", a, b, cc.p(0, 0)), this._slider = cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("colourPicker.png", a, b, cc.p(0.5, 0.5)), this._slider.setPosition(b.x, b.y + 0.5 * this._background.getBoundingBox().height), this._startPos = b, this._huePercentage = this._hue = 0, !0) : !1
	},
	_updateSliderPosition: function(a) {
		var b = this._background.getBoundingBox();
		a = Math.atan2(a.y - (this._startPos.y + 0.5 * b.height), a.x - (this._startPos.x + 0.5 * b.width));
		a = cc.radiansToDegrees(a) + 180;
		this.setHue(a);
		this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)
	},
	_checkSliderPosition: function(a) {
		var b = Math.sqrt(Math.pow(a.x + 10, 2) + Math.pow(a.y, 2));
		return 80 > b && 59 < b ? (this._updateSliderPosition(a), !0) : !1
	},
	onTouchBegan: function(a, b) {
		if (!this.isEnabled() || !this.isVisible()) return !1;
		var c = this.getTouchLocation(a);
		return this._checkSliderPosition(c)
	},
	onTouchMoved: function(a, b) {
		var c = this.getTouchLocation(a);
		this._checkSliderPosition(c)
	}
});
_p = cc.ControlHuePicker.prototype;
cc.defineGetterSetter(_p, "hue", _p.getHue, _p.setHue);
cc.defineGetterSetter(_p, "huePercent", _p.getHuePercentage, _p.setHuePercentage);
cc.defineGetterSetter(_p, "background", _p.getBackground);
cc.defineGetterSetter(_p, "slider", _p.getSlider);
cc.defineGetterSetter(_p, "startPos", _p.getStartPos);
_p = null;
cc.ControlHuePicker.create = function(a, b) {
	return new cc.ControlHuePicker(a, b)
};
cc.ControlColourPicker = cc.Control.extend({
	_hsv: null,
	_colourPicker: null,
	_huePicker: null,
	_background: null,
	_className: "ControlColourPicker",
	ctor: function() {
		cc.Control.prototype.ctor.call(this);
		this.init()
	},
	hueSliderValueChanged: function(a, b) {
		this._hsv.h = a.getHue();
		var c = cc.ControlUtils.RGBfromHSV(this._hsv);
		cc.Control.prototype.setColor.call(this, cc.color(0 | 255 * c.r, 0 | 255 * c.g, 0 | 255 * c.b));
		this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED);
		this._updateControlPicker()
	},
	colourSliderValueChanged: function(a,
		b) {
		this._hsv.s = a.getSaturation();
		this._hsv.v = a.getBrightness();
		var c = cc.ControlUtils.RGBfromHSV(this._hsv);
		cc.Control.prototype.setColor.call(this, cc.color(0 | 255 * c.r, 0 | 255 * c.g, 0 | 255 * c.b));
		this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)
	},
	setColor: function(a) {
		cc.Control.prototype.setColor.call(this, a);
		var b = new cc.RGBA;
		b.r = a.r / 255;
		b.g = a.g / 255;
		b.b = a.b / 255;
		b.a = 1;
		this._hsv = cc.ControlUtils.HSVfromRGB(b);
		this._updateHueAndControlPicker()
	},
	getBackground: function() {
		return this._background
	},
	init: function() {
		if (cc.Control.prototype.init.call(this)) {
			cc.spriteFrameCache.addSpriteFrames(res.CCControlColourPickerSpriteSheet_plist);
			var a = new cc.SpriteBatchNode(res.CCControlColourPickerSpriteSheet_png);
			this.addChild(a);
			this._hsv = new cc.HSV(0, 0, 0);
			this._background = cc.ControlUtils.addSpriteToTargetWithPosAndAnchor("menuColourPanelBackground.png", a, cc.p(0, 0), cc.p(0.5, 0.5));
			var b = cc.pSub(this._background.getPosition(), cc.p(this._background.getContentSize().width / 2, this._background.getContentSize().height /
				2));
			this._huePicker = new cc.ControlHuePicker(a, cc.p(b.x + 8, b.y + 8));
			this._colourPicker = new cc.ControlSaturationBrightnessPicker(a, cc.p(b.x + 28, b.y + 28));
			this._huePicker.addTargetWithActionForControlEvents(this, this.hueSliderValueChanged, cc.CONTROL_EVENT_VALUECHANGED);
			this._colourPicker.addTargetWithActionForControlEvents(this, this.colourSliderValueChanged, cc.CONTROL_EVENT_VALUECHANGED);
			this._updateHueAndControlPicker();
			this.addChild(this._huePicker);
			this.addChild(this._colourPicker);
			this.setContentSize(this._background.getContentSize());
			return !0
		}
		return !1
	},
	_updateControlPicker: function() {
		this._huePicker.setHue(this._hsv.h);
		this._colourPicker.updateWithHSV(this._hsv)
	},
	_updateHueAndControlPicker: function() {
		this._huePicker.setHue(this._hsv.h);
		this._colourPicker.updateWithHSV(this._hsv);
		this._colourPicker.updateDraggerWithHSV(this._hsv)
	},
	setEnabled: function(a) {
		cc.Control.prototype.setEnabled.call(this, a);
		null !== this._huePicker && this._huePicker.setEnabled(a);
		this._colourPicker && this._colourPicker.setEnabled(a)
	},
	onTouchBegan: function() {
		return !1
	}
});
_p = cc.ControlColourPicker.prototype;
cc.defineGetterSetter(_p, "background", _p.getBackground);
_p = null;
cc.ControlColourPicker.create = function() {
	return new cc.ControlColourPicker
};
var res = res || {};
res.CCControlColourPickerSpriteSheet_plist = res.CCControlColourPickerSpriteSheet_plist || "res/extensions/CCControlColourPickerSpriteSheet.plist";
res.CCControlColourPickerSpriteSheet_png = res.CCControlColourPickerSpriteSheet_png || "res/extensions/CCControlColourPickerSpriteSheet.png";
cc.SLIDER_MARGIN_H = 24;
cc.SLIDER_MARGIN_V = 8;
cc.ControlSlider = cc.Control.extend({
	_value: 0,
	_minimumValue: 0,
	_maximumValue: 0,
	_minimumAllowedValue: 0,
	_maximumAllowedValue: 0,
	_thumbSprite: null,
	_progressSprite: null,
	_backgroundSprite: null,
	_className: "ControlSlider",
	ctor: function(a, b, c) {
		cc.Control.prototype.ctor.call(this);
		void 0 != c && (a = new cc.Sprite(a), b = new cc.Sprite(b), c = new cc.Sprite(c), this.initWithSprites(a, b, c))
	},
	getValue: function() {
		return this._value
	},
	setValue: function(a) {
		a = Math.max(a, this._minimumValue);
		this._value = a = Math.min(a, this._maximumValue);
		this.needsLayout();
		this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)
	},
	getMinimumValue: function() {
		return this._minimumValue
	},
	setMinimumValue: function(a) {
		this._minimumAllowedValue = this._minimumValue = a;
		this._minimumValue >= this._maximumValue && (this._maximumValue = this._minimumValue + 1);
		this.setValue(this._value)
	},
	getMaximumValue: function() {
		return this._maximumValue
	},
	setMaximumValue: function(a) {
		this._maximumAllowedValue = this._maximumValue = a;
		this._maximumValue <= this._minimumValue && (this._minimumValue =
			this._maximumValue - 1);
		this.setValue(this._value)
	},
	isTouchInside: function(a) {
		a = a.getLocation();
		a = this.getParent().convertToNodeSpace(a);
		var b = this.getBoundingBox();
		b.width += this._thumbSprite.getContentSize().width;
		b.x -= this._thumbSprite.getContentSize().width / 2;
		return cc.rectContainsPoint(b, a)
	},
	locationFromTouch: function(a) {
		a = a.getLocation();
		a = this.convertToNodeSpace(a);
		0 > a.x ? a.x = 0 : a.x > this._backgroundSprite.getContentSize().width && (a.x = this._backgroundSprite.getContentSize().width);
		return a
	},
	getMinimumAllowedValue: function() {
		return this._minimumAllowedValue
	},
	setMinimumAllowedValue: function(a) {
		this._minimumAllowedValue = a
	},
	getMaximumAllowedValue: function() {
		return this._maximumAllowedValue
	},
	setMaximumAllowedValue: function(a) {
		this._maximumAllowedValue = a
	},
	getThumbSprite: function() {
		return this._thumbSprite
	},
	getProgressSprite: function() {
		return this._progressSprite
	},
	getBackgroundSprite: function() {
		return this._backgroundSprite
	},
	initWithSprites: function(a, b, c) {
		return cc.Control.prototype.init.call(this) ? (this.ignoreAnchorPointForPosition(!1), this._backgroundSprite =
			a, this._progressSprite = b, this._thumbSprite = c, a = cc.ControlUtils.CCRectUnion(a.getBoundingBox(), c.getBoundingBox()), this.setContentSize(a.width, a.height), this._backgroundSprite.setAnchorPoint(0.5, 0.5), this._backgroundSprite.setPosition(a.width / 2, a.height / 2), this.addChild(this._backgroundSprite), this._progressSprite.setAnchorPoint(0, 0.5), this._progressSprite.setPosition(0, a.height / 2), this.addChild(this._progressSprite), this._thumbSprite.setPosition(0, a.height / 2), this.addChild(this._thumbSprite), this._minimumValue =
			0, this._maximumValue = 1, this.setValue(this._minimumValue), !0) : !1
	},
	setEnabled: function(a) {
		cc.Control.prototype.setEnabled.call(this, a);
		this._thumbSprite && this._thumbSprite.setOpacity(a ? 255 : 128)
	},
	sliderBegan: function(a) {
		this.setSelected(!0);
		this._thumbSprite.setColor(cc.color.GRAY);
		this.setValue(this.valueForLocation(a))
	},
	sliderMoved: function(a) {
		this.setValue(this.valueForLocation(a))
	},
	sliderEnded: function(a) {
		this.isSelected() && this.setValue(this.valueForLocation(this._thumbSprite.getPosition()));
		this._thumbSprite.setColor(cc.color.WHITE);
		this.setSelected(!1)
	},
	getTouchLocationInControl: function(a) {
		a = a.getLocation();
		a = this.convertToNodeSpace(a);
		0 > a.x ? a.x = 0 : a.x > this._backgroundSprite.getContentSize().width + cc.SLIDER_MARGIN_H && (a.x = this._backgroundSprite.getContentSize().width + cc.SLIDER_MARGIN_H);
		return a
	},
	onTouchBegan: function(a, b) {
		if (!this.isTouchInside(a) || !this.isEnabled() || !this.isVisible()) return !1;
		var c = this.locationFromTouch(a);
		this.sliderBegan(c);
		return !0
	},
	onTouchMoved: function(a, b) {
		var c = this.locationFromTouch(a);
		this.sliderMoved(c)
	},
	onTouchEnded: function(a, b) {
		this.sliderEnded(cc.p(0, 0))
	},
	needsLayout: function() {
		this._thumbSprite.setPositionX((this._value - this._minimumValue) / (this._maximumValue - this._minimumValue) * this._backgroundSprite.getContentSize().width);
		var a = this._progressSprite.getTextureRect(),
			a = cc.rect(a.x, a.y, this._thumbSprite.getPositionX(), a.height);
		this._progressSprite.setTextureRect(a, this._progressSprite.isTextureRectRotated());
		this._thumbSprite._renderCmd.transform(this._renderCmd)
	},
	valueForLocation: function(a) {
		a =
			a.x / this._backgroundSprite.getContentSize().width;
		return Math.max(Math.min(this._minimumValue + a * (this._maximumValue - this._minimumValue), this._maximumAllowedValue), this._minimumAllowedValue)
	}
});
_p = cc.ControlSlider.prototype;
cc.defineGetterSetter(_p, "value", _p.getValue, _p.setValue);
cc.defineGetterSetter(_p, "minValue", _p.getMinimumValue, _p.setMinimumValue);
cc.defineGetterSetter(_p, "maxValue", _p.getMaximumValue, _p.setMaximumValue);
cc.defineGetterSetter(_p, "minAllowedValue", _p.getMinimumAllowedValue, _p.setMinimumAllowedValue);
cc.defineGetterSetter(_p, "maxAllowedValue", _p.getMaximumAllowedValue, _p.setMaximumAllowedValue);
cc.defineGetterSetter(_p, "thumbSprite", _p.getThumbSprite);
cc.defineGetterSetter(_p, "progressSprite", _p.getProgressSprite);
cc.defineGetterSetter(_p, "backgroundSprite", _p.getBackgroundSprite);
_p = null;
cc.ControlSlider.create = function(a, b, c) {
	return new cc.ControlSlider(a, b, c)
};
cc.ControlSwitch = cc.Control.extend({
	_switchSprite: null,
	_initialTouchXPosition: 0,
	_moved: !1,
	_on: !1,
	_className: "ControlSwitch",
	ctor: function(a, b, c, d, e, f) {
		cc.Control.prototype.ctor.call(this);
		f && this.initWithMaskSprite(a, b, c, d, e, f)
	},
	initWithMaskSprite: function(a, b, c, d, e, f) {
		if (!a) throw Error("cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.");
		if (!b) throw Error("cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.");
		if (!c) throw Error("cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.");
		if (!d) throw Error("cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.");
		return this.init() ? (this._on = !0, this._switchSprite = new cc.ControlSwitchSprite, this._switchSprite.initWithMaskSprite(a, b, c, d, e, f), this._switchSprite.setPosition(this._switchSprite.getContentSize().width / 2, this._switchSprite.getContentSize().height / 2), this.addChild(this._switchSprite), this.ignoreAnchorPointForPosition(!1), this.setAnchorPoint(0.5, 0.5), this.setContentSize(this._switchSprite.getContentSize()), !0) :
			!1
	},
	setOn: function(a, b) {
		b = b || !1;
		var c = (this._on = a) ? this._switchSprite.getOnPosition() : this._switchSprite.getOffPosition();
		b ? this._switchSprite.runAction(new cc.ActionTween(0.2, "sliderXPosition", this._switchSprite.getSliderXPosition(), c)) : this._switchSprite.setSliderXPosition(c);
		this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)
	},
	isOn: function() {
		return this._on
	},
	hasMoved: function() {
		return this._moved
	},
	setEnabled: function(a) {
		this._enabled = a;
		this._switchSprite.setOpacity(a ? 255 : 128)
	},
	locationFromTouch: function(a) {
		a =
			a.getLocation();
		return a = this.convertToNodeSpace(a)
	},
	onTouchBegan: function(a, b) {
		if (!this.isTouchInside(a) || !this.isEnabled() || !this.isVisible()) return !1;
		this._moved = !1;
		this._initialTouchXPosition = this.locationFromTouch(a).x - this._switchSprite.getSliderXPosition();
		this._switchSprite.getThumbSprite().setColor(cc.color.GRAY);
		this._switchSprite.needsLayout();
		return !0
	},
	onTouchMoved: function(a, b) {
		var c = this.locationFromTouch(a),
			c = cc.p(c.x - this._initialTouchXPosition, 0);
		this._moved = !0;
		this._switchSprite.setSliderXPosition(c.x)
	},
	onTouchEnded: function(a, b) {
		var c = this.locationFromTouch(a);
		this._switchSprite.getThumbSprite().setColor(cc.color.WHITE);
		this.hasMoved() ? this.setOn(!(c.x < this._switchSprite.getContentSize().width / 2), !0) : this.setOn(!this._on, !0)
	},
	onTouchCancelled: function(a, b) {
		var c = this.locationFromTouch(a);
		this._switchSprite.getThumbSprite().setColor(cc.color.WHITE);
		this.hasMoved() ? this.setOn(!(c.x < this._switchSprite.getContentSize().width / 2), !0) : this.setOn(!this._on, !0)
	}
});
cc.ControlSwitch.create = function(a, b, c, d, e, f) {
	return new cc.ControlSwitch(a, b, c, d, e, f)
};
cc.ControlSwitchSprite = cc.Sprite.extend({
	_sliderXPosition: 0,
	_onPosition: 0,
	_offPosition: 0,
	_textureLocation: 0,
	_maskLocation: 0,
	_maskSize: null,
	_onSprite: null,
	_offSprite: null,
	_thumbSprite: null,
	_onLabel: null,
	_offLabel: null,
	_clipper: null,
	_stencil: null,
	_backRT: null,
	ctor: function() {
		cc.Sprite.prototype.ctor.call(this);
		this._maskLocation = this._offPosition = this._onPosition = this._sliderXPosition = 0;
		this._maskSize = cc.size(0, 0);
		this._offLabel = this._onLabel = this._thumbSprite = this._offSprite = this._onSprite = null
	},
	initWithMaskSprite: function(a,
		b, c, d, e, f) {
		return cc.Sprite.prototype.init.call(this) ? (this.setSpriteFrame(a.displayFrame()), this._onPosition = 0, this._offPosition = -b.getContentSize().width + d.getContentSize().width / 2, this._sliderXPosition = this._onPosition, this.setOnSprite(b), this.setOffSprite(c), this.setThumbSprite(d), this.setOnLabel(e), this.setOffLabel(f), this._stencil = a, a = this._maskSize = this._stencil.getContentSize(), this._stencil.setPosition(0, 0), this._clipper = new cc.ClippingNode, this._clipper.setAnchorPoint(0.5, 0.5), this._clipper.setPosition(a.width /
			2, a.height / 2), this._clipper.setStencil(this._stencil), this.addChild(this._clipper), this._clipper.addChild(b), this._clipper.addChild(c), this._clipper.addChild(e), this._clipper.addChild(f), this.addChild(this._thumbSprite), this.needsLayout(), !0) : !1
	},
	needsLayout: function() {
		var a = this._maskSize;
		this._onSprite.setPosition(this._onSprite.getContentSize().width / 2 + this._sliderXPosition - a.width / 2, this._onSprite.getContentSize().height / 2 - a.height / 2);
		this._offSprite.setPosition(this._onSprite.getContentSize().width +
			this._offSprite.getContentSize().width / 2 + this._sliderXPosition - a.width / 2, this._offSprite.getContentSize().height / 2 - a.height / 2);
		this._onLabel && this._onLabel.setPosition(this._onSprite.getPositionX() - this._thumbSprite.getContentSize().width / 6, this._onSprite.getContentSize().height / 2 - a.height / 2);
		this._offLabel && this._offLabel.setPosition(this._offSprite.getPositionX() + this._thumbSprite.getContentSize().width / 6, this._offSprite.getContentSize().height / 2 - a.height / 2);
		this._thumbSprite.setPosition(this._onSprite.getContentSize().width +
			this._sliderXPosition, this._maskSize.height / 2)
	},
	setSliderXPosition: function(a) {
		a <= this._offPosition ? a = this._offPosition : a >= this._onPosition && (a = this._onPosition);
		this._sliderXPosition = a;
		this.needsLayout()
	},
	getSliderXPosition: function() {
		return this._sliderXPosition
	},
	_getOnSideWidth: function() {
		return this._onSprite.getContentSize().width
	},
	_getOffSideWidth: function() {
		return this._offSprite.getContentSize().height
	},
	updateTweenAction: function(a, b) {
		"sliderXPosition" === b && this.setSliderXPosition(a)
	},
	setOnPosition: function(a) {
		this._onPosition =
			a
	},
	getOnPosition: function() {
		return this._onPosition
	},
	setOffPosition: function(a) {
		this._offPosition = a
	},
	getOffPosition: function() {
		return this._offPosition
	},
	setMaskTexture: function(a) {
		this._stencil.setTexture(a)
	},
	getMaskTexture: function() {
		return this._stencil.getTexture()
	},
	setTextureLocation: function(a) {
		this._textureLocation = a
	},
	getTextureLocation: function() {
		return this._textureLocation
	},
	setMaskLocation: function(a) {
		this._maskLocation = a
	},
	getMaskLocation: function() {
		return this._maskLocation
	},
	setOnSprite: function(a) {
		this._onSprite =
			a
	},
	getOnSprite: function() {
		return this._onSprite
	},
	setOffSprite: function(a) {
		this._offSprite = a
	},
	getOffSprite: function() {
		return this._offSprite
	},
	setThumbSprite: function(a) {
		this._thumbSprite = a
	},
	getThumbSprite: function() {
		return this._thumbSprite
	},
	setOnLabel: function(a) {
		this._onLabel = a
	},
	getOnLabel: function() {
		return this._onLabel
	},
	setOffLabel: function(a) {
		this._offLabel = a
	},
	getOffLabel: function() {
		return this._offLabel
	}
});
_p = cc.ControlSwitchSprite.prototype;
cc.defineGetterSetter(_p, "sliderX", _p.getSliderXPosition, _p.setSliderXPosition);
cc.defineGetterSetter(_p, "onPos", _p.getOnPosition, _p.setOnPosition);
cc.defineGetterSetter(_p, "offPos", _p.getOffPosition, _p.setOffPosition);
cc.defineGetterSetter(_p, "maskTexture", _p.getMaskTexture, _p.setMaskTexture);
cc.defineGetterSetter(_p, "maskPos", _p.getMaskLocation, _p.setMaskLocation);
cc.defineGetterSetter(_p, "onSprite", _p.getOnSprite, _p.setOnSprite);
cc.defineGetterSetter(_p, "offSprite", _p.getOffSprite, _p.setOffSprite);
cc.defineGetterSetter(_p, "thumbSprite", _p.getThumbSprite, _p.setThumbSprite);
cc.defineGetterSetter(_p, "onLabel", _p.getOnLabel, _p.setOnLabel);
cc.defineGetterSetter(_p, "offLabel", _p.getOffLabel, _p.setOffLabel);
cc.defineGetterSetter(_p, "onSideWidth", _p._getOnSideWidth);
cc.defineGetterSetter(_p, "offSideWidth", _p._getOffSideWidth);
_p = null;
cc.CONTROL_STEPPER_PARTMINUS = 0;
cc.CONTROL_STEPPER_PARTPLUS = 1;
cc.CONTROL_STEPPER_PARTNONE = 2;
cc.CONTROL_STEPPER_LABELCOLOR_ENABLED = cc.color(55, 55, 55);
cc.CONTROL_STEPPER_LABELCOLOR_DISABLED = cc.color(147, 147, 147);
cc.CONTROL_STEPPER_LABELFONT = "CourierNewPSMT";
cc.AUTOREPEAT_DELTATIME = 0.15;
cc.AUTOREPEAT_INCREASETIME_INCREMENT = 12;
cc.ControlStepper = cc.Control.extend({
	_minusSprite: null,
	_plusSprite: null,
	_minusLabel: null,
	_plusLabel: null,
	_value: 0,
	_continuous: !1,
	_autorepeat: !1,
	_wraps: !1,
	_minimumValue: 0,
	_maximumValue: 0,
	_stepValue: 0,
	_touchInsideFlag: !1,
	_touchedPart: cc.CONTROL_STEPPER_PARTNONE,
	_autorepeatCount: 0,
	_className: "ControlStepper",
	ctor: function(a, b) {
		cc.Control.prototype.ctor.call(this);
		this._plusLabel = this._minusLabel = this._plusSprite = this._minusSprite = null;
		this._value = 0;
		this._wraps = this._autorepeat = this._continuous = !1;
		this._stepValue =
			this._maximumValue = this._minimumValue = 0;
		this._touchInsideFlag = !1;
		this._touchedPart = cc.CONTROL_STEPPER_PARTNONE;
		this._autorepeatCount = 0;
		b && this.initWithMinusSpriteAndPlusSprite(a, b)
	},
	initWithMinusSpriteAndPlusSprite: function(a, b) {
		if (!a) throw Error("cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.");
		if (!b) throw Error("cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.");
		if (this.init()) {
			this._continuous = this._autorepeat = !0;
			this._minimumValue =
				0;
			this._maximumValue = 100;
			this._value = 0;
			this._stepValue = 1;
			this._wraps = !1;
			this.ignoreAnchorPointForPosition(!1);
			this.setMinusSprite(a);
			this._minusSprite.setPosition(a.getContentSize().width / 2, a.getContentSize().height / 2);
			this.addChild(this._minusSprite);
			this.setMinusLabel(new cc.LabelTTF("-", cc.CONTROL_STEPPER_LABELFONT, 40, cc.size(40, 40), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_CENTER));
			this._minusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_DISABLED);
			this._minusLabel.setPosition(this._minusSprite.getContentSize().width /
				2, this._minusSprite.getContentSize().height / 2);
			this._minusSprite.addChild(this._minusLabel);
			this.setPlusSprite(b);
			this._plusSprite.setPosition(a.getContentSize().width + b.getContentSize().width / 2, a.getContentSize().height / 2);
			this.addChild(this._plusSprite);
			this.setPlusLabel(new cc.LabelTTF("+", cc.CONTROL_STEPPER_LABELFONT, 40, cc.size(40, 40), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_CENTER));
			this._plusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);
			this._plusLabel.setPosition(this._plusSprite.getContentSize().width /
				2, this._plusSprite.getContentSize().height / 2);
			this._plusSprite.addChild(this._plusLabel);
			var c = cc.ControlUtils.CCRectUnion(this._minusSprite.getBoundingBox(), this._plusSprite.getBoundingBox());
			this.setContentSize(this._minusSprite.getContentSize().width + this._plusSprite.getContentSize().height, c.height);
			return !0
		}
		return !1
	},
	setWraps: function(a) {
		if (this._wraps = a) this._minusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED), this._plusLabel.setColor(cc.CONTROL_STEPPER_LABELCOLOR_ENABLED);
		this.setValue(this._value)
	},
	getWraps: function() {
		return this._wraps
	},
	setMinimumValue: function(a) {
		if (a >= this._maximumValue) throw Error("cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.");
		this._minimumValue = a;
		this.setValue(this._value)
	},
	getMinimumValue: function() {
		return this._minimumValue
	},
	setMaximumValue: function(a) {
		if (a <= this._minimumValue) throw Error("cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.");
		this._maximumValue = a;
		this.setValue(this._value)
	},
	getMaximumValue: function() {
		return this._maximumValue
	},
	setValue: function(a) {
		this.setValueWithSendingEvent(a, !0)
	},
	getValue: function() {
		return this._value
	},
	setStepValue: function(a) {
		if (0 >= a) throw Error("cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.");
		this._stepValue = a
	},
	getStepValue: function() {
		return this._stepValue
	},
	isContinuous: function() {
		return this._continuous
	},
	setValueWithSendingEvent: function(a, b) {
		a < this._minimumValue ? a = this._wraps ? this._maximumValue : this._minimumValue :
			a > this._maximumValue && (a = this._wraps ? this._minimumValue : this._maximumValue);
		this._value = a;
		this._wraps || (this._minusLabel.setColor(a === this._minimumValue ? cc.CONTROL_STEPPER_LABELCOLOR_DISABLED : cc.CONTROL_STEPPER_LABELCOLOR_ENABLED), this._plusLabel.setColor(a === this._maximumValue ? cc.CONTROL_STEPPER_LABELCOLOR_DISABLED : cc.CONTROL_STEPPER_LABELCOLOR_ENABLED));
		b && this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)
	},
	startAutorepeat: function() {
		this._autorepeatCount = -1;
		this.schedule(this.update,
			cc.AUTOREPEAT_DELTATIME, cc.REPEAT_FOREVER, 3 * cc.AUTOREPEAT_DELTATIME)
	},
	stopAutorepeat: function() {
		this.unschedule(this.update)
	},
	update: function(a) {
		this._autorepeatCount++;
		this._autorepeatCount < cc.AUTOREPEAT_INCREASETIME_INCREMENT && 0 !== this._autorepeatCount % 3 || (this._touchedPart === cc.CONTROL_STEPPER_PARTMINUS ? this.setValueWithSendingEvent(this._value - this._stepValue, this._continuous) : this._touchedPart === cc.CONTROL_STEPPER_PARTPLUS && this.setValueWithSendingEvent(this._value + this._stepValue, this._continuous))
	},
	updateLayoutUsingTouchLocation: function(a) {
		a.x < this._minusSprite.getContentSize().width && this._value > this._minimumValue ? (this._touchedPart = cc.CONTROL_STEPPER_PARTMINUS, this._minusSprite.setColor(cc.color.GRAY), this._plusSprite.setColor(cc.color.WHITE)) : a.x >= this._minusSprite.getContentSize().width && this._value < this._maximumValue ? (this._touchedPart = cc.CONTROL_STEPPER_PARTPLUS, this._minusSprite.setColor(cc.color.WHITE), this._plusSprite.setColor(cc.color.GRAY)) : (this._touchedPart = cc.CONTROL_STEPPER_PARTNONE,
			this._minusSprite.setColor(cc.color.WHITE), this._plusSprite.setColor(cc.color.WHITE))
	},
	onTouchBegan: function(a, b) {
		if (!this.isTouchInside(a) || !this.isEnabled() || !this.isVisible()) return !1;
		var c = this.getTouchLocation(a);
		this.updateLayoutUsingTouchLocation(c);
		this._touchInsideFlag = !0;
		this._autorepeat && this.startAutorepeat();
		return !0
	},
	onTouchMoved: function(a, b) {
		if (this.isTouchInside(a)) {
			var c = this.getTouchLocation(a);
			this.updateLayoutUsingTouchLocation(c);
			this._touchInsideFlag || (this._touchInsideFlag = !0, this._autorepeat && this.startAutorepeat())
		} else this._touchInsideFlag = !1, this._touchedPart = cc.CONTROL_STEPPER_PARTNONE, this._minusSprite.setColor(cc.color.WHITE), this._plusSprite.setColor(cc.color.WHITE), this._autorepeat && this.stopAutorepeat()
	},
	onTouchEnded: function(a, b) {
		this._minusSprite.setColor(cc.color.WHITE);
		this._plusSprite.setColor(cc.color.WHITE);
		this._autorepeat && this.stopAutorepeat();
		if (this.isTouchInside(a)) {
			var c = this.getTouchLocation(a);
			this.setValue(this._value + (c.x < this._minusSprite.getContentSize().width ?
				0 - this._stepValue : this._stepValue))
		}
	},
	setMinusSprite: function(a) {
		this._minusSprite = a
	},
	getMinusSprite: function() {
		return this._minusSprite
	},
	setPlusSprite: function(a) {
		this._plusSprite = a
	},
	getPlusSprite: function() {
		return this._plusSprite
	},
	setMinusLabel: function(a) {
		this._minusLabel = a
	},
	getMinusLabel: function() {
		return this._minusLabel
	},
	setPlusLabel: function(a) {
		this._plusLabel = a
	},
	getPlusLabel: function() {
		return this._plusLabel
	}
});
_p = cc.ControlStepper.prototype;
cc.defineGetterSetter(_p, "wraps", _p.getWraps, _p.setWraps);
cc.defineGetterSetter(_p, "value", _p.getValue, _p.setValue);
cc.defineGetterSetter(_p, "minValue", _p.getMinimumValue, _p.setMinimumValue);
cc.defineGetterSetter(_p, "maxValue", _p.getMaximumValue, _p.setMaximumValue);
cc.defineGetterSetter(_p, "stepValue", _p.getStepValue, _p.setStepValue);
cc.defineGetterSetter(_p, "continuous", _p.isContinuous);
cc.defineGetterSetter(_p, "minusSprite", _p.getMinusSprite, _p.setMinusSprite);
cc.defineGetterSetter(_p, "plusSprite", _p.getPlusSprite, _p.setPlusSprite);
cc.defineGetterSetter(_p, "minusLabel", _p.getMinusLabel, _p.setMinusLabel);
cc.defineGetterSetter(_p, "plusLabel", _p.getPlusLabel, _p.setPlusLabel);
_p = null;
cc.ControlStepper.create = function(a, b) {
	return new cc.ControlStepper(a, b)
};
cc.ControlPotentiometer = cc.Control.extend({
	_thumbSprite: null,
	_progressTimer: null,
	_previousLocation: null,
	_value: 0,
	_minimumValue: 0,
	_maximumValue: 1,
	_className: "ControlPotentiometer",
	ctor: function(a, b, c) {
		cc.Control.prototype.ctor.call(this);
		void 0 != c && (a = new cc.Sprite(a), c = new cc.Sprite(c), b = new cc.ProgressTimer(new cc.Sprite(b)), this.initWithTrackSprite_ProgressTimer_ThumbSprite(a, b, c))
	},
	initWithTrackSprite_ProgressTimer_ThumbSprite: function(a, b, c) {
		return this.init() ? (this.setProgressTimer(b), this.setThumbSprite(c),
			this._thumbSprite.setPosition(b.getPosition()), this.addChild(c, 2), this.addChild(b, 1), this.addChild(a), this.setContentSize(a.getContentSize()), this._minimumValue = 0, this._maximumValue = 1, this.setValue(this._minimumValue), !0) : !1
	},
	setEnabled: function(a) {
		this.setEnabled(a);
		null !== this._thumbSprite && this._thumbSprite.setOpacity(a ? 255 : 128)
	},
	setValue: function(a) {
		a < this._minimumValue && (a = this._minimumValue);
		a > this._maximumValue && (a = this._maximumValue);
		this._value = a;
		a = (a - this._minimumValue) / (this._maximumValue -
			this._minimumValue);
		this._progressTimer.setPercentage(100 * a);
		this._thumbSprite.setRotation(360 * a);
		this.sendActionsForControlEvents(cc.CONTROL_EVENT_VALUECHANGED)
	},
	getValue: function() {
		return this._value
	},
	setMinimumValue: function(a) {
		this._minimumValue = a;
		this._minimumValue >= this._maximumValue && (this._maximumValue = this._minimumValue + 1);
		this.setValue(this._maximumValue)
	},
	getMinimumValue: function() {
		return this._minimumValue
	},
	setMaximumValue: function(a) {
		this._maximumValue = a;
		this._maximumValue <= this._minimumValue &&
			(this._minimumValue = this._maximumValue - 1);
		this.setValue(this._minimumValue)
	},
	getMaximumValue: function() {
		return this._maximumValue
	},
	isTouchInside: function(a) {
		a = this.getTouchLocation(a);
		return this.distanceBetweenPointAndPoint(this._progressTimer.getPosition(), a) < Math.min(this.getContentSize().width / 2, this.getContentSize().height / 2)
	},
	onTouchBegan: function(a, b) {
		if (!this.isTouchInside(a) || !this.isEnabled() || !this.isVisible()) return !1;
		this._previousLocation = this.getTouchLocation(a);
		this.potentiometerBegan(this._previousLocation);
		return !0
	},
	onTouchMoved: function(a, b) {
		var c = this.getTouchLocation(a);
		this.potentiometerMoved(c)
	},
	onTouchEnded: function(a, b) {
		this.potentiometerEnded(cc.p(0, 0))
	},
	distanceBetweenPointAndPoint: function(a, b) {
		var c = a.x - b.x,
			d = a.y - b.y;
		return Math.sqrt(c * c + d * d)
	},
	angleInDegreesBetweenLineFromPoint_toPoint_toLineFromPoint_toPoint: function(a, b, c, d) {
		var e = d.x - c.x;
		c = d.y - c.y;
		a = Math.atan2(b.x - a.x, b.y - a.y);
		e = Math.atan2(e, c);
		return 180 * (a - e) / Math.PI
	},
	potentiometerBegan: function(a) {
		this.setSelected(!0);
		this.getThumbSprite().setColor(cc.color.GRAY)
	},
	potentiometerMoved: function(a) {
		var b = this.angleInDegreesBetweenLineFromPoint_toPoint_toLineFromPoint_toPoint(this._progressTimer.getPosition(), a, this._progressTimer.getPosition(), this._previousLocation);
		180 < b ? b -= 360 : -180 > b && (b += 360);
		this.setValue(this._value + b / 360 * (this._maximumValue - this._minimumValue));
		this._previousLocation = a
	},
	potentiometerEnded: function(a) {
		this.getThumbSprite().setColor(cc.color.WHITE);
		this.setSelected(!1)
	},
	setThumbSprite: function(a) {
		this._thumbSprite = a
	},
	getThumbSprite: function() {
		return this._thumbSprite
	},
	setProgressTimer: function(a) {
		this._progressTimer = a
	},
	getProgressTimer: function() {
		return this._progressTimer
	},
	setPreviousLocation: function(a) {
		this._previousLocation = a
	},
	getPreviousLocation: function() {
		return this._previousLocation
	}
});
_p = cc.ControlPotentiometer.prototype;
cc.defineGetterSetter(_p, "value", _p.getValue, _p.setValue);
cc.defineGetterSetter(_p, "minValue", _p.getMinimumValue, _p.setMinimumValue);
cc.defineGetterSetter(_p, "maxValue", _p.getMaximumValue, _p.setMaximumValue);
cc.defineGetterSetter(_p, "progressTimer", _p.getProgressTimer, _p.setProgressTimer);
cc.defineGetterSetter(_p, "thumbSprite", _p.getThumbSprite, _p.setThumbSprite);
cc.defineGetterSetter(_p, "prevLocation", _p.getPreviousLocation, _p.setPreviousLocation);
_p = null;
cc.ControlPotentiometer.create = function(a, b, c) {
	return new cc.ControlPotentiometer(a, b, c)
};
cc.SCROLLVIEW_DIRECTION_NONE = -1;
cc.SCROLLVIEW_DIRECTION_HORIZONTAL = 0;
cc.SCROLLVIEW_DIRECTION_VERTICAL = 1;
cc.SCROLLVIEW_DIRECTION_BOTH = 2;
var SCROLL_DEACCEL_RATE = 0.95,
	SCROLL_DEACCEL_DIST = 1,
	BOUNCE_DURATION = 0.15,
	INSET_RATIO = 0.2,
	MOVE_INCH = 0.04375,
	BOUNCE_BACK_FACTOR = 0.35;
cc.convertDistanceFromPointToInch = function(a) {
	var b = cc.view,
		b = (b.getScaleX() + b.getScaleY()) / 2;
	return a * b / 160
};
cc.ScrollViewDelegate = cc.Class.extend({
	scrollViewDidScroll: function(a) {},
	scrollViewDidZoom: function(a) {}
});
cc.ScrollView = cc.Layer.extend({
	_zoomScale: 0,
	_minZoomScale: 0,
	_maxZoomScale: 0,
	_delegate: null,
	_direction: cc.SCROLLVIEW_DIRECTION_BOTH,
	_dragging: !1,
	_contentOffset: null,
	_container: null,
	_touchMoved: !1,
	_maxInset: null,
	_minInset: null,
	_bounceable: !1,
	_clippingToBounds: !1,
	_scrollDistance: null,
	_touchPoint: null,
	_touchLength: 0,
	_touches: null,
	_viewSize: null,
	_minScale: 0,
	_maxScale: 0,
	_parentScissorRect: null,
	_scissorRestored: !1,
	_tmpViewRect: null,
	_touchListener: null,
	_className: "ScrollView",
	ctor: function(a, b) {
		cc.Layer.prototype.ctor.call(this);
		this._contentOffset = cc.p(0, 0);
		this._maxInset = cc.p(0, 0);
		this._minInset = cc.p(0, 0);
		this._scrollDistance = cc.p(0, 0);
		this._touchPoint = cc.p(0, 0);
		this._touches = [];
		this._viewSize = cc.size(0, 0);
		this._parentScissorRect = new cc.Rect(0, 0, 0, 0);
		this._tmpViewRect = new cc.Rect(0, 0, 0, 0);
		void 0 != b ? this.initWithViewSize(a, b) : this.initWithViewSize(cc.size(200, 200), null)
	},
	init: function() {
		return this.initWithViewSize(cc.size(200, 200), null)
	},
	initWithViewSize: function(a, b) {
		var c = cc.p(0, 0);
		return cc.Layer.prototype.init.call(this) ?
			(b || this._container || (b = new cc.Layer), b && this.setContainer(b), this.setViewSize(a), this.setTouchEnabled(!0), this._touches.length = 0, this._delegate = null, this._clippingToBounds = this._bounceable = !0, this._direction = cc.SCROLLVIEW_DIRECTION_BOTH, this._container.setPosition(c), this._touchLength = 0, this._minScale = this._maxScale = 1, !0) : !1
	},
	visit: function(a) {
		var b = this._renderCmd,
			c = a ? a._renderCmd : null;
		if (this._visible) {
			a = cc.renderer;
			b.visit(c);
			this._clippingToBounds && a.pushRenderCommand(b.startCmd);
			var d = this._children,
				e = d.length;
			if (0 < e)
				for (this._reorderChildDirty && this.sortAllChildren(), c = 0; c < e; c++) d[c].visit(this);
			this._clippingToBounds && a.pushRenderCommand(b.endCmd);
			b._dirtyFlag = 0
		} else b._propagateFlagsDown(c)
	},
	setContentOffset: function(a, b) {
		if (b) this.setContentOffsetInDuration(a, BOUNCE_DURATION);
		else {
			if (!this._bounceable) {
				var c = this.minContainerOffset(),
					d = this.maxContainerOffset();
				a.x = Math.max(c.x, Math.min(d.x, a.x));
				a.y = Math.max(c.y, Math.min(d.y, a.y))
			}
			this._container.setPosition(a);
			c = this._delegate;
			null != c &&
				c.scrollViewDidScroll && c.scrollViewDidScroll(this)
		}
	},
	getContentOffset: function() {
		var a = this._container.getPosition();
		return cc.p(a.x, a.y)
	},
	setContentOffsetInDuration: function(a, b) {
		var c = cc.moveTo(b, a),
			d = cc.callFunc(this._stoppedAnimatedScroll, this);
		this._container.runAction(cc.sequence(c, d));
		this.schedule(this._performedAnimatedScroll)
	},
	setZoomScale: function(a, b) {
		if (b) this.setZoomScaleInDuration(a, BOUNCE_DURATION);
		else {
			var c = this._container;
			if (c.getScale() !== a) {
				var d, e;
				0 === this._touchLength ? (e = this._viewSize,
					e = cc.p(0.5 * e.width, 0.5 * e.height), e = this.convertToWorldSpace(e)) : e = this._touchPoint;
				d = c.convertToNodeSpace(e);
				c.setScale(Math.max(this._minScale, Math.min(this._maxScale, a)));
				d = c.convertToWorldSpace(d);
				e = cc.pSub(e, d);
				this._delegate && this._delegate.scrollViewDidZoom && this._delegate.scrollViewDidZoom(this);
				this.setContentOffset(cc.pAdd(c.getPosition(), e))
			}
		}
	},
	getZoomScale: function() {
		return this._container.getScale()
	},
	setZoomScaleInDuration: function(a, b) {
		if (0 < b) {
			var c = this._container.getScale();
			c !== a &&
				(c = cc.actionTween(b, "zoomScale", c, a), this.runAction(c))
		} else this.setZoomScale(a)
	},
	minContainerOffset: function() {
		var a = this._container,
			b = a.getContentSize(),
			c = this._viewSize;
		return cc.p(c.width - b.width * a.getScaleX(), c.height - b.height * a.getScaleY())
	},
	maxContainerOffset: function() {
		return cc.p(0, 0)
	},
	isNodeVisible: function(a) {
		var b = this.getContentOffset(),
			c = this.getViewSize(),
			d = this.getZoomScale(),
			b = cc.rect(-b.x / d, -b.y / d, c.width / d, c.height / d);
		return cc.rectIntersectsRect(b, a.getBoundingBox())
	},
	pause: function(a) {
		this._container.pause();
		a = this._container.getChildren();
		for (var b = 0; b < a.length; b++) a[b].pause();
		this._super()
	},
	resume: function(a) {
		a = this._container.getChildren();
		for (var b = 0, c = a.length; b < c; b++) a[b].resume();
		this._container.resume();
		this._super()
	},
	isDragging: function() {
		return this._dragging
	},
	isTouchMoved: function() {
		return this._touchMoved
	},
	isBounceable: function() {
		return this._bounceable
	},
	setBounceable: function(a) {
		this._bounceable = a
	},
	getViewSize: function() {
		return this._viewSize
	},
	setViewSize: function(a) {
		this._viewSize = a;
		cc.Node.prototype.setContentSize.call(this,
			a)
	},
	getContainer: function() {
		return this._container
	},
	setContainer: function(a) {
		a && (this.removeAllChildren(!0), this._container = a, a.ignoreAnchorPointForPosition(!1), a.setAnchorPoint(0, 0), this.addChild(a), this.setViewSize(this._viewSize))
	},
	getDirection: function() {
		return this._direction
	},
	setDirection: function(a) {
		this._direction = a
	},
	getDelegate: function() {
		return this._delegate
	},
	setDelegate: function(a) {
		this._delegate = a
	},
	onTouchBegan: function(a, b) {
		for (var c = this; null != c; c = c.parent)
			if (!c.isVisible()) return !1;
		var c = this._getViewRect(),
			d = this._container,
			e = d.convertToWorldSpace(d.convertTouchToNodeSpace(a)),
			f = this._touches;
		if (2 < f.length || this._touchMoved || !cc.rectContainsPoint(c, e)) return !1;
		f.push(a);
		1 === f.length ? (this._touchPoint = this.convertTouchToNodeSpace(a), this._touchMoved = !1, this._dragging = !0, this._scrollDistance.x = 0, this._touchLength = this._scrollDistance.y = 0) : 2 === f.length && (this._touchPoint = cc.pMidpoint(this.convertTouchToNodeSpace(f[0]), this.convertTouchToNodeSpace(f[1])), this._touchLength = cc.pDistance(d.convertTouchToNodeSpace(f[0]),
			d.convertTouchToNodeSpace(f[1])), this._dragging = !1);
		return !0
	},
	onTouchMoved: function(a, b) {
		if (this.isVisible())
			if (this.setNodeDirty(), 1 === this._touches.length && this._dragging) {
				this._touchMoved = !0;
				this._getViewRect();
				var c = this.convertTouchToNodeSpace(a),
					d = cc.pSub(c, this._touchPoint),
					e = 0,
					f = this._direction,
					g;
				if (f === cc.SCROLLVIEW_DIRECTION_VERTICAL) e = d.y, g = this._container.getPositionY(), this.minContainerOffset().y <= g && g <= this.maxContainerOffset().y || (d.y *= BOUNCE_BACK_FACTOR);
				else if (f === cc.SCROLLVIEW_DIRECTION_HORIZONTAL) e =
					d.x, g = this._container.getPositionX(), this.minContainerOffset().x <= g && g <= this.maxContainerOffset().x || (d.x *= BOUNCE_BACK_FACTOR);
				else {
					e = Math.sqrt(d.x * d.x + d.y * d.y);
					g = this._container.getPositionY();
					var h = this.minContainerOffset(),
						k = this.maxContainerOffset();
					h.y <= g && g <= k.y || (d.y *= BOUNCE_BACK_FACTOR);
					g = this._container.getPositionX();
					h.x <= g && g <= k.x || (d.x *= BOUNCE_BACK_FACTOR)
				}
				if (this._touchMoved || !(Math.abs(cc.convertDistanceFromPointToInch(e)) < MOVE_INCH))
					if (this._touchMoved || (d.x = 0, d.y = 0), this._touchPoint =
						c, this._touchMoved = !0, this._dragging) {
						switch (f) {
							case cc.SCROLLVIEW_DIRECTION_VERTICAL:
								d.x = 0;
								break;
							case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:
								d.y = 0
						}
						e = this._container.getPosition();
						c = e.x + d.x;
						e = e.y + d.y;
						this._scrollDistance = d;
						this.setContentOffset(cc.p(c, e))
					}
			} else 2 !== this._touches.length || this._dragging || (d = cc.pDistance(this._container.convertTouchToNodeSpace(this._touches[0]), this._container.convertTouchToNodeSpace(this._touches[1])), this.setZoomScale(this.getZoomScale() * d / this._touchLength))
	},
	onTouchEnded: function(a,
		b) {
		this.isVisible() && (1 === this._touches.length && this._touchMoved && this.schedule(this._deaccelerateScrolling), this._touches.length = 0, this._touchMoved = this._dragging = !1)
	},
	onTouchCancelled: function(a, b) {
		this.isVisible() && (this._touches.length = 0, this._touchMoved = this._dragging = !1)
	},
	setContentSize: function(a, b) {
		null !== this.getContainer() && (void 0 === b ? this.getContainer().setContentSize(a) : this.getContainer().setContentSize(a, b), this.updateInset())
	},
	_setWidth: function(a) {
		var b = this.getContainer();
		null !==
			b && (b._setWidth(a), this.updateInset())
	},
	_setHeight: function(a) {
		var b = this.getContainer();
		null !== b && (b._setHeight(a), this.updateInset())
	},
	getContentSize: function() {
		return this._container.getContentSize()
	},
	updateInset: function() {
		if (null !== this.getContainer()) {
			var a = this._viewSize,
				b = this.maxContainerOffset();
			this._maxInset.x = b.x + a.width * INSET_RATIO;
			this._maxInset.y = b.y + a.height * INSET_RATIO;
			b = this.minContainerOffset();
			this._minInset.x = b.x - a.width * INSET_RATIO;
			this._minInset.y = b.y - a.height * INSET_RATIO
		}
	},
	isClippingToBounds: function() {
		return this._clippingToBounds
	},
	setClippingToBounds: function(a) {
		this._clippingToBounds = a
	},
	addChild: function(a, b, c) {
		if (!a) throw Error("child must not nil!");
		b = b || a.getLocalZOrder();
		c = c || a.getTag();
		this._container !== a ? this._container.addChild(a, b, c) : cc.Layer.prototype.addChild.call(this, a, b, c)
	},
	isTouchEnabled: function() {
		return null !== this._touchListener
	},
	setTouchEnabled: function(a) {
		this._touchListener && cc.eventManager.removeListener(this._touchListener);
		this._touchListener =
			null;
		a ? (a = cc.EventListener.create({
			event: cc.EventListener.TOUCH_ONE_BY_ONE
		}), this.onTouchBegan && (a.onTouchBegan = this.onTouchBegan.bind(this)), this.onTouchMoved && (a.onTouchMoved = this.onTouchMoved.bind(this)), this.onTouchEnded && (a.onTouchEnded = this.onTouchEnded.bind(this)), this.onTouchCancelled && (a.onTouchCancelled = this.onTouchCancelled.bind(this)), this._touchListener = a, cc.eventManager.addListener(a, this)) : (this._touchMoved = this._dragging = !1, this._touches.length = 0)
	},
	_initWithViewSize: function(a) {
		return null
	},
	_relocateContainer: function(a) {
		var b = this.minContainerOffset(),
			c = this.maxContainerOffset(),
			d = this._direction,
			e = this._container.getPosition(),
			f = e.x,
			g = e.y;
		if (d === cc.SCROLLVIEW_DIRECTION_BOTH || d === cc.SCROLLVIEW_DIRECTION_HORIZONTAL) f = Math.max(f, b.x), f = Math.min(f, c.x);
		if (d === cc.SCROLLVIEW_DIRECTION_BOTH || d === cc.SCROLLVIEW_DIRECTION_VERTICAL) g = Math.min(g, c.y), g = Math.max(g, b.y);
		g === e.y && f === e.x || this.setContentOffset(cc.p(f, g), a)
	},
	_deaccelerateScrolling: function(a) {
		if (this._dragging) this.unschedule(this._deaccelerateScrolling);
		else {
			var b, c;
			b = this._container.getPosition();
			a = this._scrollDistance;
			this._container.setPosition(b.x + a.x, b.y + a.y);
			this._bounceable ? (b = this._maxInset, c = this._minInset) : (b = this.maxContainerOffset(), c = this.minContainerOffset());
			var d = this._container.getPositionX(),
				e = this._container.getPositionY();
			a.x *= SCROLL_DEACCEL_RATE;
			a.y *= SCROLL_DEACCEL_RATE;
			this.setContentOffset(cc.p(d, e));
			if (Math.abs(a.x) <= SCROLL_DEACCEL_DIST && Math.abs(a.y) <= SCROLL_DEACCEL_DIST || e > b.y || e < c.y || d > b.x || d < c.x || d === b.x || d === c.x || e ===
				b.y || e === c.y) this.unschedule(this._deaccelerateScrolling), this._relocateContainer(!0)
		}
	},
	_performedAnimatedScroll: function(a) {
		this._dragging ? this.unschedule(this._performedAnimatedScroll) : this._delegate && this._delegate.scrollViewDidScroll && this._delegate.scrollViewDidScroll(this)
	},
	_stoppedAnimatedScroll: function(a) {
		this.unschedule(this._performedAnimatedScroll);
		this._delegate && this._delegate.scrollViewDidScroll && this._delegate.scrollViewDidScroll(this)
	},
	_handleZoom: function() {},
	_getViewRect: function() {
		for (var a =
				this.convertToWorldSpace(cc.p(0, 0)), b = this._viewSize, c = this.getScaleX(), d = this.getScaleY(), e = this._parent; null != e; e = e.getParent()) c *= e.getScaleX(), d *= e.getScaleY();
		0 > c && (a.x += b.width * c, c = -c);
		0 > d && (a.y += b.height * d, d = -d);
		e = this._tmpViewRect;
		e.x = a.x;
		e.y = a.y;
		e.width = b.width * c;
		e.height = b.height * d;
		return e
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.ScrollView.CanvasRenderCmd(this) : new cc.ScrollView.WebGLRenderCmd(this)
	}
});
_p = cc.ScrollView.prototype;
cc.defineGetterSetter(_p, "minOffset", _p.minContainerOffset);
cc.defineGetterSetter(_p, "maxOffset", _p.maxContainerOffset);
cc.defineGetterSetter(_p, "bounceable", _p.isBounceable, _p.setBounceable);
cc.defineGetterSetter(_p, "viewSize", _p.getViewSize, _p.setViewSize);
cc.defineGetterSetter(_p, "container", _p.getContainer, _p.setContainer);
cc.defineGetterSetter(_p, "direction", _p.getDirection, _p.setDirection);
cc.defineGetterSetter(_p, "delegate", _p.getDelegate, _p.setDelegate);
cc.defineGetterSetter(_p, "clippingToBounds", _p.isClippingToBounds, _p.setClippingToBounds);
_p = null;
cc.ScrollView.create = function(a, b) {
	return new cc.ScrollView(a, b)
};
(function() {
	cc.ScrollView.CanvasRenderCmd = function(a) {
		this._layerCmdCtor(a);
		this._needDraw = !1;
		this.startCmd = new cc.CustomRenderCmd(this, this._startCmd);
		this.startCmd._canUseDirtyRegion = !0;
		this.endCmd = new cc.CustomRenderCmd(this, this._endCmd);
		this.endCmd._canUseDirtyRegion = !0
	};
	var a = cc.ScrollView.CanvasRenderCmd.prototype = Object.create(cc.Layer.CanvasRenderCmd.prototype);
	a.constructor = cc.ScrollView.CanvasRenderCmd;
	a._startCmd = function(a, c, d) {
		var e = this._node,
			f = a || cc._renderContext;
		a = f.getContext();
		f.save();
		e._clippingToBounds && (this._scissorRestored = !1, f.setTransform(this._worldTransform, c, d), d = e.getScaleX(), c = e.getScaleY(), d *= e._viewSize.width, e = e._viewSize.height * c, a.beginPath(), a.rect(0, 0, d, -e), a.closePath(), a.clip())
	};
	a._endCmd = function(a) {
		a = a || cc._renderContext;
		a.restore()
	}
})();
(function() {
	cc.ScrollView.WebGLRenderCmd = function(a) {
		this._layerCmdCtor(a);
		this._needDraw = !1;
		this.startCmd = new cc.CustomRenderCmd(this, this._startCmd);
		this.endCmd = new cc.CustomRenderCmd(this, this._endCmd)
	};
	var a = cc.ScrollView.WebGLRenderCmd.prototype = Object.create(cc.Layer.WebGLRenderCmd.prototype);
	a.constructor = cc.ScrollView.WebGLRenderCmd;
	a._startCmd = function() {
		var a = this._node,
			c = cc.view,
			d = a._getViewRect();
		if (c.isScissorEnabled()) {
			if (a._scissorRestored = !0, a._parentScissorRect = c.getScissorRect(),
				cc.rectIntersection(d, a._parentScissorRect)) {
				var e = a._parentScissorRect,
					a = Math.max(d.x, e.x),
					f = Math.max(d.y, e.y),
					g = Math.min(d.x + d.width, e.x + e.width),
					d = Math.min(d.y + d.height, e.y + e.height);
				c.setScissorInPoints(a, f, g - a, d - f)
			}
		} else a = cc._renderContext, a.enable(a.SCISSOR_TEST), c.setScissorInPoints(d.x, d.y, d.width, d.height)
	};
	a._endCmd = function() {
		var a = this._node;
		a._scissorRestored ? (a = a._parentScissorRect, cc.view.setScissorInPoints(a.x, a.y, a.width, a.height)) : (a = cc._renderContext, a.disable(a.SCISSOR_TEST))
	}
})();
cc.SortableObject = cc.Class.extend({
	setObjectID: function(a) {},
	getObjectID: function() {
		return 0
	}
});
cc.SortedObject = cc.SortableObject.extend({
	_objectID: 0,
	ctor: function() {
		this._objectID = 0
	},
	setObjectID: function(a) {
		this._objectID = a
	},
	getObjectID: function() {
		return this._objectID
	}
});
var _compareObject = function(a, b) {
	return a.getObjectID() - b.getObjectID()
};
cc.ArrayForObjectSorting = cc.Class.extend({
	_saveObjectArr: null,
	ctor: function() {
		this._saveObjectArr = []
	},
	insertSortedObject: function(a) {
		if (!a) throw Error("cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.");
		var b = this.indexOfSortedObject(a);
		this.insertObject(a, b)
	},
	removeSortedObject: function(a) {
		if (0 !== this.count()) {
			var b = this.indexOfSortedObject(a);
			b < this.count() && b !== cc.INVALID_INDEX && this.objectAtIndex(b).getObjectID() === a.getObjectID() && this.removeObjectAtIndex(b)
		}
	},
	setObjectID_ofSortedObject: function(a,
		b) {
		var c = this.indexOfSortedObject(b);
		if (c < this.count() && c !== cc.INVALID_INDEX) {
			var d = this.objectAtIndex(c);
			d.getObjectID() === b.getObjectID() && (this.removeObjectAtIndex(c), d.setObjectID(a), this.insertSortedObject(d))
		}
	},
	objectWithObjectID: function(a) {
		if (0 === this.count()) return null;
		var b = new cc.SortedObject;
		b.setObjectID(a);
		var c = this.indexOfSortedObject(b);
		c < this.count() && c !== cc.INVALID_INDEX && (b = this.objectAtIndex(c), b.getObjectID() !== a && (b = null));
		return b
	},
	getObjectWithObjectID: function(a) {
		return null
	},
	indexOfSortedObject: function(a) {
		var b = 0;
		if (a) {
			var c = 0;
			a = a.getObjectID();
			for (var d = this._saveObjectArr, e = 0; e < d.length; e++) {
				var f = d[e].getObjectID();
				if (a === f || a >= c && a < f) break;
				c = f;
				b++
			}
		} else b = cc.INVALID_INDEX;
		return b
	},
	count: function() {
		return this._saveObjectArr.length
	},
	lastObject: function() {
		var a = this._saveObjectArr;
		return 0 === a.length ? null : a[a.length - 1]
	},
	objectAtIndex: function(a) {
		return this._saveObjectArr[a]
	},
	addObject: function(a) {
		this._saveObjectArr.push(a);
		this._saveObjectArr.sort(_compareObject)
	},
	removeObjectAtIndex: function(a) {
		this._saveObjectArr.splice(a, 1);
		this._saveObjectArr.sort(_compareObject)
	},
	insertObject: function(a, b) {
		this._saveObjectArr.splice(b, 0, a);
		this._saveObjectArr.sort(_compareObject)
	}
});
cc.TABLEVIEW_FILL_TOPDOWN = 0;
cc.TABLEVIEW_FILL_BOTTOMUP = 1;
cc.TableViewCell = cc.Node.extend({
	_idx: 0,
	_className: "TableViewCell",
	getIdx: function() {
		return this._idx
	},
	setIdx: function(a) {
		this._idx = a
	},
	reset: function() {
		this._idx = cc.INVALID_INDEX
	},
	setObjectID: function(a) {
		this._idx = a
	},
	getObjectID: function() {
		return this._idx
	}
});
_p = cc.TableViewCell.prototype;
cc.defineGetterSetter(_p, "objectId", _p.getObjectID, _p.setObjectID);
_p = null;
cc.TableViewDelegate = cc.ScrollViewDelegate.extend({
	tableCellTouched: function(a, b) {},
	tableCellHighlight: function(a, b) {},
	tableCellUnhighlight: function(a, b) {},
	tableCellWillRecycle: function(a, b) {}
});
cc.TableViewDataSource = cc.Class.extend({
	tableCellSizeForIndex: function(a, b) {
		return this.cellSizeForTable(a)
	},
	cellSizeForTable: function(a) {
		return cc.size(0, 0)
	},
	tableCellAtIndex: function(a, b) {
		return null
	},
	numberOfCellsInTableView: function(a) {
		return 0
	}
});
cc.TableView = cc.ScrollView.extend({
	_vOrdering: null,
	_indices: null,
	_cellsFreed: null,
	_dataSource: null,
	_tableViewDelegate: null,
	_oldDirection: null,
	_cellsPositions: null,
	_touchedCell: null,
	ctor: function(a, b, c) {
		cc.ScrollView.prototype.ctor.call(this);
		this._oldDirection = cc.SCROLLVIEW_DIRECTION_NONE;
		this._cellsPositions = [];
		this.initWithViewSize(b, c);
		this.setDataSource(a);
		this._updateCellPositions();
		this._updateContentSize()
	},
	__indexFromOffset: function(a) {
		var b = 0,
			c = this._dataSource.numberOfCellsInTableView(this) -
			1;
		switch (this.getDirection()) {
			case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:
				a = a.x;
				break;
			default:
				a = a.y
		}
		for (var d = this._cellsPositions; c >= b;) {
			var e = 0 | b + (c - b) / 2,
				f = d[e],
				g = d[e + 1];
			if (a >= f && a <= g) return e;
			a < f ? c = e - 1 : b = e + 1
		}
		return 0 >= b ? 0 : -1
	},
	_indexFromOffset: function(a) {
		var b = {
			x: a.x,
			y: a.y
		};
		a = this._dataSource.numberOfCellsInTableView(this) - 1;
		this._vOrdering === cc.TABLEVIEW_FILL_TOPDOWN && (b.y = this.getContainer().getContentSize().height - b.y);
		b = this.__indexFromOffset(b); - 1 !== b && (b = Math.max(0, b), b > a && (b = cc.INVALID_INDEX));
		return b
	},
	__offsetFromIndex: function(a) {
		switch (this.getDirection()) {
			case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:
				a = cc.p(this._cellsPositions[a], 0);
				break;
			default:
				a = cc.p(0, this._cellsPositions[a])
		}
		return a
	},
	_offsetFromIndex: function(a) {
		var b = this.__offsetFromIndex(a);
		a = this._dataSource.tableCellSizeForIndex(this, a);
		this._vOrdering === cc.TABLEVIEW_FILL_TOPDOWN && (b.y = this.getContainer().getContentSize().height - b.y - a.height);
		return b
	},
	_updateCellPositions: function() {
		var a = this._dataSource.numberOfCellsInTableView(this),
			b = this._cellsPositions;
		if (0 < a) {
			for (var c = 0, d, e = this._dataSource, f = 0; f < a; f++) switch (b[f] = c, d = e.tableCellSizeForIndex(this, f), this.getDirection()) {
				case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:
					c += d.width;
					break;
				default:
					c += d.height
			}
			this._cellsPositions[a] = c
		}
	},
	_updateContentSize: function() {
		var a = cc.size(0, 0),
			b = this._dataSource.numberOfCellsInTableView(this);
		if (0 < b) switch (a = this._cellsPositions[b], this.getDirection()) {
			case cc.SCROLLVIEW_DIRECTION_HORIZONTAL:
				a = cc.size(a, this._viewSize.height);
				break;
			default:
				a =
					cc.size(this._viewSize.width, a)
		}
		this.setContentSize(a);
		this._oldDirection !== this._direction && (this._direction === cc.SCROLLVIEW_DIRECTION_HORIZONTAL ? this.setContentOffset(cc.p(0, 0)) : this.setContentOffset(cc.p(0, this.minContainerOffset().y)), this._oldDirection = this._direction)
	},
	_moveCellOutOfSight: function(a) {
		this._tableViewDelegate && this._tableViewDelegate.tableCellWillRecycle && this._tableViewDelegate.tableCellWillRecycle(this, a);
		this._cellsFreed.addObject(a);
		this._cellsUsed.removeSortedObject(a);
		cc.arrayRemoveObject(this._indices,
			a.getIdx());
		a.reset();
		a.getParent() === this.getContainer() && this.getContainer().removeChild(a, !0)
	},
	_setIndexForCell: function(a, b) {
		b.setAnchorPoint(0, 0);
		b.setPosition(this._offsetFromIndex(a));
		b.setIdx(a)
	},
	_addCellIfNecessary: function(a) {
		a.getParent() !== this.getContainer() && this.getContainer().addChild(a);
		this._cellsUsed.insertSortedObject(a);
		var b = this._indices;
		a = a.getIdx(); - 1 === b.indexOf(a) && (b.push(a), b.sort(function(a, b) {
			return a - b
		}))
	},
	getDataSource: function() {
		return this._dataSource
	},
	setDataSource: function(a) {
		this._dataSource =
			a
	},
	getDelegate: function() {
		return this._tableViewDelegate
	},
	setDelegate: function(a) {
		this._tableViewDelegate = a
	},
	setVerticalFillOrder: function(a) {
		this._vOrdering !== a && (this._vOrdering = a, 0 < this._cellsUsed.count() && this.reloadData())
	},
	getVerticalFillOrder: function() {
		return this._vOrdering
	},
	initWithViewSize: function(a, b) {
		return cc.ScrollView.prototype.initWithViewSize.call(this, a, b) ? (this._cellsUsed = new cc.ArrayForObjectSorting, this._cellsFreed = new cc.ArrayForObjectSorting, this._indices = [], this._tableViewDelegate =
			null, this._vOrdering = cc.TABLEVIEW_FILL_BOTTOMUP, this.setDirection(cc.SCROLLVIEW_DIRECTION_VERTICAL), cc.ScrollView.prototype.setDelegate.call(this, this), !0) : !1
	},
	updateCellAtIndex: function(a) {
		if (!(a === cc.INVALID_INDEX || a > this._dataSource.numberOfCellsInTableView(this) - 1)) {
			var b = this.cellAtIndex(a);
			b && this._moveCellOutOfSight(b);
			b = this._dataSource.tableCellAtIndex(this, a);
			this._setIndexForCell(a, b);
			this._addCellIfNecessary(b)
		}
	},
	insertCellAtIndex: function(a) {
		if (!(a === cc.INVALID_INDEX || a > this._dataSource.numberOfCellsInTableView(this) -
				1)) {
			var b, c = this._cellsUsed;
			if (b = c.objectWithObjectID(a))
				for (var d = b = c.indexOfSortedObject(b); d < c.count(); d++) b = c.objectAtIndex(d), this._setIndexForCell(b.getIdx() + 1, b);
			b = this._dataSource.tableCellAtIndex(this, a);
			this._setIndexForCell(a, b);
			this._addCellIfNecessary(b);
			this._updateCellPositions();
			this._updateContentSize()
		}
	},
	removeCellAtIndex: function(a) {
		if (!(a === cc.INVALID_INDEX || a > this._dataSource.numberOfCellsInTableView(this) - 1)) {
			var b = this.cellAtIndex(a);
			if (b) {
				var c = this._cellsUsed,
					d = c.indexOfSortedObject(b);
				this._moveCellOutOfSight(b);
				cc.arrayRemoveObject(this._indices, a);
				this._updateCellPositions();
				for (a = c.count() - 1; a > d; a--) b = c.objectAtIndex(a), this._setIndexForCell(b.getIdx() - 1, b)
			}
		}
	},
	reloadData: function() {
		this._oldDirection = cc.SCROLLVIEW_DIRECTION_NONE;
		for (var a = this._cellsUsed, b = this._cellsFreed, c = this.getContainer(), d = 0, e = a.count(); d < e; d++) {
			var f = a.objectAtIndex(d);
			this._tableViewDelegate && this._tableViewDelegate.tableCellWillRecycle && this._tableViewDelegate.tableCellWillRecycle(this, f);
			b.addObject(f);
			f.reset();
			f.getParent() === c && c.removeChild(f, !0)
		}
		this._indices = [];
		this._cellsUsed = new cc.ArrayForObjectSorting;
		this._updateCellPositions();
		this._updateContentSize();
		0 < this._dataSource.numberOfCellsInTableView(this) && this.scrollViewDidScroll(this);
		this.setNodeDirty()
	},
	dequeueCell: function() {
		if (0 === this._cellsFreed.count()) return null;
		var a = this._cellsFreed.objectAtIndex(0);
		this._cellsFreed.removeObjectAtIndex(0);
		return a
	},
	cellAtIndex: function(a) {
		return -1 === this._indices.indexOf(a) ? null : this._cellsUsed.objectWithObjectID(a)
	},
	scrollViewDidScroll: function(a) {
		var b = this._dataSource.numberOfCellsInTableView(this);
		if (0 !== b) {
			null !== this._tableViewDelegate && this._tableViewDelegate.scrollViewDidScroll && this._tableViewDelegate.scrollViewDidScroll(this);
			var c = 0,
				d = this._viewSize,
				c = this.getContainer(),
				e = this.getContentOffset();
			e.x *= -1;
			e.y *= -1;
			var f = Math.max(b - 1, 0);
			this._vOrdering === cc.TABLEVIEW_FILL_TOPDOWN && (e.y += d.height / c.getScaleY());
			a = this._indexFromOffset(e);
			a === cc.INVALID_INDEX && (a = b - 1);
			e.y = this._vOrdering === cc.TABLEVIEW_FILL_TOPDOWN ?
				e.y - d.height / c.getScaleY() : e.y + d.height / c.getScaleY();
			e.x += d.width / c.getScaleX();
			d = this._indexFromOffset(e);
			d === cc.INVALID_INDEX && (d = b - 1);
			e = this._cellsUsed;
			if (0 < e.count())
				for (b = e.objectAtIndex(0), c = b.getIdx(); c < a;)
					if (this._moveCellOutOfSight(b), 0 < e.count()) b = e.objectAtIndex(0), c = b.getIdx();
					else break;
			if (0 < e.count())
				for (b = e.lastObject(), c = b.getIdx(); c <= f && c > d;)
					if (this._moveCellOutOfSight(b), 0 < e.count()) b = e.lastObject(), c = b.getIdx();
					else break;
			for (f = this._indices; a <= d; a++) - 1 === f.indexOf(a) && this.updateCellAtIndex(a)
		}
	},
	scrollViewDidZoom: function(a) {},
	onTouchEnded: function(a, b) {
		if (this.isVisible()) {
			if (this._touchedCell) {
				var c = this.getBoundingBox(),
					d = cc.p(c.x, c.y),
					d = this._parent.convertToWorldSpace(d);
				c.x = d.x;
				c.y = d.y;
				d = this._tableViewDelegate;
				cc.rectContainsPoint(c, a.getLocation()) && null !== d && (d.tableCellUnhighlight && d.tableCellUnhighlight(this, this._touchedCell), d.tableCellTouched && d.tableCellTouched(this, this._touchedCell));
				this._touchedCell = null
			}
			cc.ScrollView.prototype.onTouchEnded.call(this, a, b)
		}
	},
	onTouchBegan: function(a,
		b) {
		for (var c = this; null != c; c = c.parent)
			if (!c.isVisible()) return !1;
		c = cc.ScrollView.prototype.onTouchBegan.call(this, a, b);
		if (1 === this._touches.length) {
			var d;
			d = this.getContainer().convertTouchToNodeSpace(a);
			d = this._indexFromOffset(d);
			(this._touchedCell = d === cc.INVALID_INDEX ? null : this.cellAtIndex(d)) && null !== this._tableViewDelegate && this._tableViewDelegate.tableCellHighlight && this._tableViewDelegate.tableCellHighlight(this, this._touchedCell)
		} else this._touchedCell && (null !== this._tableViewDelegate && this._tableViewDelegate.tableCellUnhighlight &&
			this._tableViewDelegate.tableCellUnhighlight(this, this._touchedCell), this._touchedCell = null);
		return c
	},
	onTouchMoved: function(a, b) {
		cc.ScrollView.prototype.onTouchMoved.call(this, a, b);
		this._touchedCell && this.isTouchMoved() && null !== this._tableViewDelegate && this._tableViewDelegate.tableCellUnhighlight && this._tableViewDelegate.tableCellUnhighlight(this, this._touchedCell)
	},
	onTouchCancelled: function(a, b) {
		cc.ScrollView.prototype.onTouchCancelled.call(this, a, b);
		this._touchedCell && (null !== this._tableViewDelegate &&
			this._tableViewDelegate.tableCellUnhighlight && this._tableViewDelegate.tableCellUnhighlight(this, this._touchedCell), this._touchedCell = null)
	}
});
_p = cc.TableView.prototype;
cc.defineGetterSetter(_p, "dataSource", _p.getDataSource, _p.setDataSource);
cc.defineGetterSetter(_p, "delegate", _p.getDelegate, _p.setDelegate);
cc.defineGetterSetter(_p, "verticalFillOrder", _p.getVerticalFillOrder, _p.setVerticalFillOrder);
_p = null;
cc.TableView.create = function(a, b, c) {
	return new cc.TableView(a, b, c)
};
var PROPERTY_POSITION = "position",
	PROPERTY_CONTENTSIZE = "contentSize",
	PROPERTY_SKEW = "skew",
	PROPERTY_ANCHORPOINT = "anchorPoint",
	PROPERTY_SCALE = "scale",
	PROPERTY_ROTATION = "rotation",
	PROPERTY_TAG = "tag",
	PROPERTY_IGNOREANCHORPOINTFORPOSITION = "ignoreAnchorPointForPosition",
	PROPERTY_VISIBLE = "visible",
	ASSERT_FAIL_UNEXPECTED_PROPERTY = function(a) {
		cc.log("Unexpected property: '" + a + "'!")
	},
	ASSERT_FAIL_UNEXPECTED_PROPERTYTYPE = function(a) {
		cc.log("Unexpected property type: '" + a + "'!")
	};

function BlockData(a, b) {
	this.selMenuHander = a;
	this.target = b
}

function BlockCCControlData(a, b, c) {
	this.selCCControlHandler = a;
	this.target = b;
	this.controlEvents = c
}
cc.NodeLoader = cc.Class.extend({
	_customProperties: null,
	_pt: null,
	_size: null,
	_arr2: null,
	ctor: function() {
		this._customProperties = new cc._Dictionary;
		this._pt = cc.p();
		this._size = cc.size();
		this._arr2 = Array(2);
		this._blockControlData = {
			selCCControlHandler: null,
			target: null,
			controlEvents: null
		}
	},
	loadCCNode: function(a, b) {
		return this._createCCNode(a, b)
	},
	parseProperties: function(a, b, c) {
		for (var d = c.readInt(!1), e = c.readInt(!1), e = d + e, f = 0; f < e; f++) {
			var g = f >= d,
				h = c.readInt(!1),
				k = c.readCachedString(),
				m = !1,
				n = c._data[c._currentByte++];
			if (n === CCB_PLATFORM_ALL || n === CCB_PLATFORM_IOS || n === CCB_PLATFORM_MAC) m = !0;
			g && (a.ccbFileNode ? (a = a.ccbFileNode, m = -1 !== a.userObject.indexOf(k)) : a === c._animationManager.getRootNode() && (g = a.userObject, g || (g = [], a.userObject = g), g.push(k)));
			switch (h) {
				case CCB_PROPTYPE_POSITION:
					h = this.parsePropTypePosition(a, b, c, k);
					if (m) this.onHandlePropTypePosition(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_POINT:
					h = this.parsePropTypePoint(a, b, c);
					if (m) this.onHandlePropTypePoint(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_POINTLOCK:
					h = this.parsePropTypePointLock(a,
						b, c);
					if (m) this.onHandlePropTypePointLock(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_SIZE:
					h = this.parsePropTypeSize(a, b, c);
					if (m) this.onHandlePropTypeSize(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_SCALELOCK:
					h = this.parsePropTypeScaleLock(a, b, c, k);
					if (m) this.onHandlePropTypeScaleLock(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_FLOATXY:
					h = this.parsePropTypeFloatXY(a, b, c);
					if (m) this.onHandlePropTypeFloatXY(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_FLOAT:
					h = this.parsePropTypeFloat(a, b, c);
					if (m) this.onHandlePropTypeFloat(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_DEGREES:
					h =
						this.parsePropTypeDegrees(a, b, c, k);
					if (m) this.onHandlePropTypeDegrees(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_FLOATSCALE:
					h = this.parsePropTypeFloatScale(a, b, c);
					if (m) this.onHandlePropTypeFloatScale(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_INTEGER:
					h = this.parsePropTypeInteger(a, b, c);
					if (m) this.onHandlePropTypeInteger(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_INTEGERLABELED:
					h = this.parsePropTypeIntegerLabeled(a, b, c);
					if (m) this.onHandlePropTypeIntegerLabeled(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_FLOATVAR:
					h = this.parsePropTypeFloatVar(a,
						b, c);
					if (m) this.onHandlePropTypeFloatVar(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_CHECK:
					h = this.parsePropTypeCheck(a, b, c, k);
					if (m) this.onHandlePropTypeCheck(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_SPRITEFRAME:
					h = this.parsePropTypeSpriteFrame(a, b, c, k);
					if (m) this.onHandlePropTypeSpriteFrame(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_ANIMATION:
					h = this.parsePropTypeAnimation(a, b, c);
					if (m) this.onHandlePropTypeAnimation(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_TEXTURE:
					h = this.parsePropTypeTexture(a, b, c);
					if (m) this.onHandlePropTypeTexture(a,
						b, k, h, c);
					break;
				case CCB_PROPTYPE_BYTE:
					h = this.parsePropTypeByte(a, b, c, k);
					if (m) this.onHandlePropTypeByte(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_COLOR3:
					h = this.parsePropTypeColor3(a, b, c, k);
					if (m) this.onHandlePropTypeColor3(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_COLOR4VAR:
					h = this.parsePropTypeColor4FVar(a, b, c);
					if (m) this.onHandlePropTypeColor4FVar(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_FLIP:
					h = this.parsePropTypeFlip(a, b, c);
					if (m) this.onHandlePropTypeFlip(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_BLENDMODE:
					h = this.parsePropTypeBlendFunc(a,
						b, c);
					if (m) this.onHandlePropTypeBlendFunc(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_FNTFILE:
					h = c.getCCBRootPath() + this.parsePropTypeFntFile(a, b, c);
					if (m) this.onHandlePropTypeFntFile(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_FONTTTF:
					h = this.parsePropTypeFontTTF(a, b, c);
					if (m) this.onHandlePropTypeFontTTF(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_STRING:
					h = this.parsePropTypeString(a, b, c);
					if (m) this.onHandlePropTypeString(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_TEXT:
					h = this.parsePropTypeText(a, b, c);
					if (m) this.onHandlePropTypeText(a, b, k,
						h, c);
					break;
				case CCB_PROPTYPE_BLOCK:
					h = this.parsePropTypeBlock(a, b, c);
					if (m) this.onHandlePropTypeBlock(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_BLOCKCCCONTROL:
					h = this.parsePropTypeBlockCCControl(a, b, c);
					if (m && null != h) this.onHandlePropTypeBlockCCControl(a, b, k, h, c);
					break;
				case CCB_PROPTYPE_CCBFILE:
					h = this.parsePropTypeCCBFile(a, b, c);
					if (m) this.onHandlePropTypeCCBFile(a, b, k, h, c);
					break;
				default:
					ASSERT_FAIL_UNEXPECTED_PROPERTYTYPE(h)
			}
		}
	},
	getCustomProperties: function() {
		return this._customProperties
	},
	_createCCNode: function(a,
		b) {
		return new cc.Node
	},
	parsePropTypePosition: function(a, b, c, d) {
		var e = c.readFloat(),
			f = c.readFloat(),
			g = c.readInt(!1);
		cc.getAbsolutePosition(e, f, g, b ? b._contentSize : c._animationManager._rootContainerSize, d, this._pt);
		a.setPosition(this._pt); - 1 < c._animatedProps.indexOf(d) && c._animationManager.setBaseValue([e, f, g], a, d);
		return this._pt
	},
	parsePropTypePoint: function(a, b, c) {
		this._pt.x = c.readFloat();
		this._pt.y = c.readFloat();
		return this._pt
	},
	parsePropTypePointLock: function(a, b, c) {
		this._pt.x = c.readFloat();
		this._pt.y =
			c.readFloat();
		return this._pt
	},
	parsePropTypeSize: function(a, b, c) {
		a = c.readFloat();
		var d = c.readFloat(),
			e = c.readInt(!1);
		b = b ? b._contentSize : c._animationManager._rootContainerSize;
		switch (e) {
			case CCB_SIZETYPE_ABSOLUTE:
				break;
			case CCB_SIZETYPE_RELATIVE_CONTAINER:
				a = b.width - a;
				d = b.height - d;
				break;
			case CCB_SIZETYPE_PERCENT:
				a = b.width * a / 100;
				d = b.height * d / 100;
				break;
			case CCB_SIZETYPE_HORIZONTAL_PERCENT:
				a = b.width * a / 100;
				break;
			case CCB_SIZETYPE_VERTICAL_PERCENT:
				d = b.height * d / 100;
				break;
			case CCB_SIZETYPE_MULTIPLY_RESOLUTION:
				b =
					cc.BuilderReader.getResolutionScale();
				a *= b;
				d *= b;
				break;
			default:
				cc.log("Unknown CCB type.")
		}
		this._size.width = a;
		this._size.height = d;
		return this._size
	},
	parsePropTypeScaleLock: function(a, b, c, d) {
		b = c.readFloat();
		var e = c.readFloat(),
			f = c.readInt(!1); - 1 < c._animatedProps.indexOf(d) && c._animationManager.setBaseValue([b, e, f], a, d);
		f === CCB_SCALETYPE_MULTIPLY_RESOLUTION && (a = cc.BuilderReader.getResolutionScale(), b *= a, e *= a);
		this._pt.x = b;
		this._pt.y = e;
		return this._pt
	},
	parsePropTypeFloat: function(a, b, c) {
		return c.readFloat()
	},
	parsePropTypeDegrees: function(a, b, c, d) {
		b = c.readFloat(); - 1 < c._animatedProps.indexOf(d) && c._animationManager.setBaseValue(b, a, d);
		return b
	},
	parsePropTypeFloatScale: function(a, b, c) {
		a = c.readFloat();
		c.readInt(!1) === CCB_SCALETYPE_MULTIPLY_RESOLUTION && (a *= cc.BuilderReader.getResolutionScale());
		return a
	},
	parsePropTypeInteger: function(a, b, c) {
		return c.readInt(!0)
	},
	parsePropTypeIntegerLabeled: function(a, b, c) {
		return c.readInt(!0)
	},
	parsePropTypeFloatVar: function(a, b, c) {
		this._arr2[0] = c.readFloat();
		this._arr2[1] =
			c.readFloat();
		return this._arr2
	},
	parsePropTypeCheck: function(a, b, c, d) {
		b = !!c._data[c._currentByte++]; - 1 < c._animatedProps.indexOf(d) && c._animationManager.setBaseValue(b, a, d);
		return b
	},
	parsePropTypeSpriteFrame: function(a, b, c, d) {
		b = c.readCachedString();
		var e = c.readCachedString(),
			f;
		e && (0 === b.length ? (e = c._ccbRootPath + e, b = cc.textureCache.addImage(e), e = b.getContentSize(), e = cc.rect(0, 0, e.width, e.height), f = new cc.SpriteFrame(b, e)) : (f = cc.spriteFrameCache, b = c._ccbRootPath + b, -1 === c._loadedSpriteSheets.indexOf(b) &&
			(f.addSpriteFrames(b), c._loadedSpriteSheets.push(b)), f = f.getSpriteFrame(e)), -1 < c._animatedProps.indexOf(d) && c._animationManager.setBaseValue(f, a, d));
		return f
	},
	parsePropTypeAnimation: function(a, b, c) {
		a = c._ccbRootPath + c.readCachedString();
		c = c.readCachedString();
		b = null;
		c = cc.BuilderReader.lastPathComponent(c);
		a = cc.BuilderReader.lastPathComponent(a);
		c && (b = cc.animationCache, b.addAnimations(a), b = b.getAnimation(c));
		return b
	},
	parsePropTypeTexture: function(a, b, c) {
		return (a = c._ccbRootPath + c.readCachedString()) ?
			cc.textureCache.addImage(a) : null
	},
	parsePropTypeByte: function(a, b, c, d) {
		b = c._data[c._currentByte++]; - 1 < c._animatedProps.indexOf(d) && c._animationManager.setBaseValue(b, a, d);
		return b
	},
	parsePropTypeColor3: function(a, b, c, d) {
		b = c._data[c._currentByte++];
		var e = c._data[c._currentByte++],
			f = c._data[c._currentByte++];
		b = cc.color(b, e, f); - 1 < c._animatedProps.indexOf(d) && c._animationManager.setBaseValue(b, a, d);
		return b
	},
	parsePropTypeColor4FVar: function(a, b, c) {
		a = 0 | 255 * c.readFloat();
		b = 0 | 255 * c.readFloat();
		var d = 0 | 255 *
			c.readFloat(),
			e = c.readFloat(),
			e = 1 >= e ? 0 | 255 * e : e,
			f = 0 | 255 * c.readFloat(),
			g = 0 | 255 * c.readFloat(),
			h = 0 | 255 * c.readFloat();
		c = c.readFloat();
		this._arr2[0] = {
			r: a,
			g: b,
			b: d,
			a: e
		};
		this._arr2[1] = {
			r: f,
			g: g,
			b: h,
			a: 1 >= c ? 0 | 255 * c : c
		};
		return this._arr2
	},
	parsePropTypeFlip: function(a, b, c) {
		this._arr2[0] = !!c._data[c._currentByte++];
		this._arr2[1] = !!c._data[c._currentByte++];
		return this._arr2
	},
	parsePropTypeBlendFunc: function(a, b, c) {
		a = c.readInt(!1);
		c = c.readInt(!1);
		return new cc.BlendFunc(a, c)
	},
	parsePropTypeFntFile: function(a, b, c) {
		return c.readCachedString()
	},
	parsePropTypeString: function(a, b, c) {
		return c.readCachedString()
	},
	parsePropTypeText: function(a, b, c) {
		return c.readCachedString()
	},
	parsePropTypeFontTTF: function(a, b, c) {
		return c.readCachedString()
	},
	parsePropTypeBlock: function(a, b, c) {
		b = c.readCachedString();
		var d = c.readInt(!1);
		if (d !== CCB_TARGETTYPE_NONE) {
			var e = null;
			if (c._jsControlled) d === CCB_TARGETTYPE_DOCUMENTROOT ? (c.addDocumentCallbackNode(a), c.addDocumentCallbackName(b), c.addDocumentCallbackControlEvents(0)) : (c.addOwnerCallbackNode(a), c.addOwnerCallbackName(b),
				c.addOwnerCallbackControlEvents(0));
			else if (d === CCB_TARGETTYPE_DOCUMENTROOT ? e = c._animationManager._rootNode : d === CCB_TARGETTYPE_OWNER && (e = c._owner), null !== e)
				if (0 < b.length)
					if (a = 0, e.onResolveCCBCCMenuItemSelector && (a = e.onResolveCCBCCMenuItemSelector(e, b)), 0 === a && (c = c._ccbSelectorResolver) && (a = c.onResolveCCBCCMenuItemSelector(e, b)), 0 === a) cc.log("Skipping selector '" + b + "' since no CCBSelectorResolver is present.");
					else return new BlockData(a, e);
			else cc.log("Unexpected empty selector.");
			else cc.log("Unexpected NULL target for selector.")
		}
		return null
	},
	parsePropTypeBlockCCControl: function(a, b, c) {
		b = c.readCachedString();
		var d = c.readInt(!1),
			e = c.readInt(!1);
		if (d !== CCB_TARGETTYPE_NONE)
			if (c._jsControlled) d === CCB_TARGETTYPE_DOCUMENTROOT ? (c.addDocumentCallbackNode(a), c.addDocumentCallbackName(b), c.addDocumentCallbackControlEvents(e)) : (c.addOwnerCallbackNode(a), c.addOwnerCallbackName(b), c.addOwnerCallbackControlEvents(e));
			else if (a = null, d === CCB_TARGETTYPE_DOCUMENTROOT ? a = c._animationManager._rootNode : d === CCB_TARGETTYPE_OWNER && (a = c._owner), null !== a)
			if (0 < b.length)
				if (d =
					0, a.onResolveCCBCCControlSelector && (d = a.onResolveCCBCCControlSelector(a, b)), 0 === d && (c = c._ccbSelectorResolver, null != c && (d = c.onResolveCCBCCControlSelector(a, b))), 0 === d) cc.log("Skipping selector '" + b + "' since no CCBSelectorResolver is present.");
				else return this._blockControlData.selCCControlHandler = d, this._blockControlData.target = a, this._blockControlData.controlEvents = e, this._blockControlData;
		else cc.log("Unexpected empty selector.");
		else cc.log("Unexpected NULL target for selector.");
		return null
	},
	parsePropTypeCCBFile: function(a, b, c) {
		var d = c._ccbRootPath + c.readCachedString(),
			d = cc.BuilderReader.deletePathExtension(d) + ".ccbi";
		a = new cc.BuilderReader(c);
		var e = cc.loader.getRes(d);
		e || (e = cc.loader.getUrl(d), e = hlddz.convertToDownloadURL(e), e = cc.loader.loadBinarySync(e), cc.loader.cache[d] = e);
		a.initWithData(e, c._owner);
		a._animationManager.setRootContainerSize(b._contentSize);
		a.setAnimationManagers(c._animationManagers);
		a._animationManager.setOwner(c._owner);
		b = a.readFileWithCleanUp(!1);
		c.setAnimationManagers(a._animationManagers);
		b && -1 !== a._animationManager._autoPlaySequenceId && a._animationManager.runAnimations(a._animationManager._autoPlaySequenceId, 0);
		return b
	},
	parsePropTypeFloatXY: function(a, b, c) {
		this._pt.x = c.readFloat();
		this._pt.y = c.readFloat();
		return this._pt
	},
	onHandlePropTypePosition: function(a, b, c, d, e) {
		c === PROPERTY_POSITION ? a.setPosition(d) : ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypePoint: function(a, b, c, d, e) {
		c === PROPERTY_ANCHORPOINT ? a.setAnchorPoint(d) : ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypePointLock: function(a,
		b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeSize: function(a, b, c, d, e) {
		c === PROPERTY_CONTENTSIZE ? a.setContentSize(d) : ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeScaleLock: function(a, b, c, d, e) {
		c === PROPERTY_SCALE ? a.setScale(d.x, d.y) : ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeFloatXY: function(a, b, c, d, e) {
		c === PROPERTY_SKEW ? (a._skewX = d.x, a._skewY = d.y) : (b = c + "X", e = c + "Y", a[b] && a[e] || ASSERT_FAIL_UNEXPECTED_PROPERTY(c), a[b](d.x), a[e](d.y))
	},
	onHandlePropTypeFloat: function(a, b, c,
		d, e) {
		this._customProperties.setObject(d, c)
	},
	onHandlePropTypeDegrees: function(a, b, c, d, e) {
		c === PROPERTY_ROTATION ? a.setRotation(d) : ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeFloatScale: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeInteger: function(a, b, c, d, e) {
		c === PROPERTY_TAG ? a.tag = d : ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeIntegerLabeled: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeFloatVar: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeCheck: function(a, b, c, d, e) {
		c === PROPERTY_VISIBLE ? a._visible = d : c === PROPERTY_IGNOREANCHORPOINTFORPOSITION ? a._ignoreAnchorPointForPosition = d : ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeSpriteFrame: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeAnimation: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeTexture: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeByte: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeColor3: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeColor4FVar: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeFlip: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeBlendFunc: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeFntFile: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeString: function(a, b, c, d, e) {
		this._customProperties.setObject(d, c)
	},
	onHandlePropTypeText: function(a,
		b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeFontTTF: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeBlock: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeBlockCCControl: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	},
	onHandlePropTypeCCBFile: function(a, b, c, d, e) {
		ASSERT_FAIL_UNEXPECTED_PROPERTY(c)
	}
});
cc.NodeLoader.loader = function() {
	return new cc.NodeLoader
};
cc.NodeLoaderListener = cc.Class.extend({
	onNodeLoaded: function(a, b) {}
});
cc.BuilderSelectorResolver = cc.Class.extend({
	onResolveCCBCCMenuItemSelector: function(a, b) {},
	onResolveCCBCCCallFuncSelector: function(a, b) {},
	onResolveCCBCCControlSelector: function(a, b) {}
});
cc.BuilderScriptOwnerProtocol = cc.Class.extend({
	createNew: function() {}
});
cc.BuilderMemberVariableAssigner = cc.Class.extend({
	onAssignCCBMemberVariable: function(a, b, c) {
		return !1
	},
	onAssignCCBCustomProperty: function(a, b, c) {
		return !1
	}
});
var PROPERTY_CCBFILE = "ccbFile";
cc.BuilderFileLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		var c = new cc.Node;
		c.ccbFileNode = null;
		return c
	},
	onHandlePropTypeCCBFile: function(a, b, c, d, e) {
		c === PROPERTY_CCBFILE ? a.ccbFileNode = d : cc.NodeLoader.prototype.onHandlePropTypeCCBFile.call(this, a, b, c, d, e)
	}
});
cc.BuilderFileLoader.loader = function() {
	return new cc.BuilderFileLoader
};
var PROPERTY_ENABLED = "enabled",
	PROPERTY_SELECTED = "selected",
	PROPERTY_CCCONTROL = "ccControl";
cc.ControlLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {},
	onHandlePropTypeBlockCCControl: function(a, b, c, d, e) {
		c === PROPERTY_CCCONTROL ? a.addTargetWithActionForControlEvents(d.target, d.selCCControlHandler, d.controlEvents) : cc.NodeLoader.prototype.onHandlePropTypeBlockCCControl.call(this, a, b, c, d, e)
	},
	onHandlePropTypeCheck: function(a, b, c, d, e) {
		c === PROPERTY_ENABLED ? a.setEnabled(d) : c === PROPERTY_SELECTED ? a.setSelected(d) : cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this, a, b, c, d, e)
	}
});
var PROPERTY_ZOOMONTOUCHDOWN = "zoomOnTouchDown",
	PROPERTY_TITLE_NORMAL = "title|1",
	PROPERTY_TITLE_HIGHLIGHTED = "title|2",
	PROPERTY_TITLE_DISABLED = "title|3",
	PROPERTY_TITLECOLOR_NORMAL = "titleColor|1",
	PROPERTY_TITLECOLOR_HIGHLIGHTED = "titleColor|2",
	PROPERTY_TITLECOLOR_DISABLED = "titleColor|3",
	PROPERTY_TITLETTF_NORMAL = "titleTTF|1",
	PROPERTY_TITLETTF_HIGHLIGHTED = "titleTTF|2",
	PROPERTY_TITLETTF_DISABLED = "titleTTF|3",
	PROPERTY_TITLETTFSIZE_NORMAL = "titleTTFSize|1",
	PROPERTY_TITLETTFSIZE_HIGHLIGHTED = "titleTTFSize|2",
	PROPERTY_TITLETTFSIZE_DISABLED = "titleTTFSize|4",
	PROPERTY_LABELANCHORPOINT = "labelAnchorPoint",
	PROPERTY_PREFEREDSIZE = "preferedSize",
	PROPERTY_BACKGROUNDSPRITEFRAME_NORMAL = "backgroundSpriteFrame|1",
	PROPERTY_BACKGROUNDSPRITEFRAME_HIGHLIGHTED = "backgroundSpriteFrame|2",
	PROPERTY_BACKGROUNDSPRITEFRAME_DISABLED = "backgroundSpriteFrame|3";
cc.ControlButtonLoader = cc.ControlLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.ControlButton
	},
	onHandlePropTypeCheck: function(a, b, c, d, e) {
		c === PROPERTY_ZOOMONTOUCHDOWN ? a.zoomOnTouchDown = d : cc.ControlLoader.prototype.onHandlePropTypeCheck.call(this, a, b, c, d, e)
	},
	onHandlePropTypeString: function(a, b, c, d, e) {
		c === PROPERTY_TITLE_NORMAL ? a.setTitleForState(d, cc.CONTROL_STATE_NORMAL) : c === PROPERTY_TITLE_HIGHLIGHTED ? a.setTitleForState(d, cc.CONTROL_STATE_HIGHLIGHTED) : c === PROPERTY_TITLE_DISABLED ? a.setTitleForState(d,
			cc.CONTROL_STATE_DISABLED) : cc.ControlLoader.prototype.onHandlePropTypeString.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFontTTF: function(a, b, c, d, e) {
		c === PROPERTY_TITLETTF_NORMAL ? a.setTitleTTFForState(d, cc.CONTROL_STATE_NORMAL) : c === PROPERTY_TITLETTF_HIGHLIGHTED ? a.setTitleTTFForState(d, cc.CONTROL_STATE_HIGHLIGHTED) : c === PROPERTY_TITLETTF_DISABLED ? a.setTitleTTFForState(d, cc.CONTROL_STATE_DISABLED) : cc.ControlLoader.prototype.onHandlePropTypeFontTTF.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFloatScale: function(a,
		b, c, d, e) {
		c === PROPERTY_TITLETTFSIZE_NORMAL ? a.setTitleTTFSizeForState(d, cc.CONTROL_STATE_NORMAL) : c === PROPERTY_TITLETTFSIZE_HIGHLIGHTED ? a.setTitleTTFSizeForState(d, cc.CONTROL_STATE_HIGHLIGHTED) : c === PROPERTY_TITLETTFSIZE_DISABLED ? a.setTitleTTFSizeForState(d, cc.CONTROL_STATE_DISABLED) : cc.ControlLoader.prototype.onHandlePropTypeFloatScale.call(this, a, b, c, d, e)
	},
	onHandlePropTypePoint: function(a, b, c, d, e) {
		c === PROPERTY_LABELANCHORPOINT ? a.setLabelAnchorPoint(d) : cc.ControlLoader.prototype.onHandlePropTypePoint.call(this,
			a, b, c, d, e)
	},
	onHandlePropTypeSize: function(a, b, c, d, e) {
		c === PROPERTY_PREFEREDSIZE ? a.setPreferredSize(d) : cc.ControlLoader.prototype.onHandlePropTypeSize.call(this, a, b, c, d, e)
	},
	onHandlePropTypeSpriteFrame: function(a, b, c, d, e) {
		c === PROPERTY_BACKGROUNDSPRITEFRAME_NORMAL ? null != d && a.setBackgroundSpriteFrameForState(d, cc.CONTROL_STATE_NORMAL) : c === PROPERTY_BACKGROUNDSPRITEFRAME_HIGHLIGHTED ? null != d && a.setBackgroundSpriteFrameForState(d, cc.CONTROL_STATE_HIGHLIGHTED) : c === PROPERTY_BACKGROUNDSPRITEFRAME_DISABLED ? null !=
			d && a.setBackgroundSpriteFrameForState(d, cc.CONTROL_STATE_DISABLED) : cc.ControlLoader.prototype.onHandlePropTypeSpriteFrame.call(this, a, b, c, d, e)
	},
	onHandlePropTypeColor3: function(a, b, c, d, e) {
		c === PROPERTY_TITLECOLOR_NORMAL ? a.setTitleColorForState(d, cc.CONTROL_STATE_NORMAL) : c === PROPERTY_TITLECOLOR_HIGHLIGHTED ? a.setTitleColorForState(d, cc.CONTROL_STATE_HIGHLIGHTED) : c === PROPERTY_TITLECOLOR_DISABLED ? a.setTitleColorForState(d, cc.CONTROL_STATE_DISABLED) : cc.ControlLoader.prototype.onHandlePropTypeColor3.call(this,
			a, b, c, d, e)
	}
});
cc.ControlButtonLoader.loader = function() {
	return new cc.ControlButtonLoader
};
var PROPERTY_CONTAINER = "container",
	PROPERTY_DIRECTION = "direction",
	PROPERTY_CLIPSTOBOUNDS = "clipsToBounds",
	PROPERTY_BOUNCES = "bounces",
	PROPERTY_SCALE = "scale";
cc.ScrollViewLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.ScrollView
	},
	onHandlePropTypeSize: function(a, b, c, d, e) {
		c === PROPERTY_CONTENTSIZE ? a.setViewSize(d) : cc.NodeLoader.prototype.onHandlePropTypeSize.call(this, a, b, c, d, e)
	},
	onHandlePropTypeCCBFile: function(a, b, c, d, e) {
		c === PROPERTY_CONTAINER ? (a.setContainer(d), a.updateInset()) : cc.NodeLoader.prototype.onHandlePropTypeCCBFile.call(this, a, b, c, d, e)
	},
	onHandlePropTypeCheck: function(a, b, c, d, e) {
		c === PROPERTY_CLIPSTOBOUNDS ? a.setClippingToBounds(d) :
			c === PROPERTY_BOUNCES ? a.setBounceable(d) : cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFloat: function(a, b, c, d, e) {
		c === PROPERTY_SCALE ? a.setScale(d) : cc.NodeLoader.prototype.onHandlePropTypeFloat.call(this, a, b, c, d, e)
	},
	onHandlePropTypeIntegerLabeled: function(a, b, c, d, e) {
		c === PROPERTY_DIRECTION ? a.setDirection(d) : cc.NodeLoader.prototype.onHandlePropTypeIntegerLabeled.call(this, a, b, c, d, e)
	}
});
cc.ScrollViewLoader.loader = function() {
	return new cc.ScrollViewLoader
};
var PROPERTY_CONTENTSIZE = "contentSize",
	PROPERTY_SPRITEFRAME = "spriteFrame",
	PROPERTY_COLOR = "color",
	PROPERTY_OPACITY = "opacity",
	PROPERTY_BLENDFUNC = "blendFunc",
	PROPERTY_INSETLEFT = "insetLeft",
	PROPERTY_INSETTOP = "insetTop",
	PROPERTY_INSETRIGHT = "insetRight",
	PROPERTY_INSETBOTTOM = "insetBottom";
cc.Scale9SpriteLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		var c = new cc.Scale9Sprite;
		c.setAnchorPoint(0, 0);
		return c
	},
	onHandlePropTypeColor3: function(a, b, c, d, e) {
		c === PROPERTY_COLOR ? 255 === d.r && 255 === d.g && 255 === d.b || a.setColor(d) : cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this, a, b, c, d, e)
	},
	onHandlePropTypeByte: function(a, b, c, d, e) {
		c === PROPERTY_OPACITY ? a.setOpacity(d) : cc.NodeLoader.prototype.onHandlePropTypeByte.call(this, a, b, c, d, e)
	},
	onHandlePropTypeBlendFunc: function(a, b, c, d, e) {
		c !==
			PROPERTY_BLENDFUNC && cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this, a, b, c, d, e)
	},
	onHandlePropTypeSpriteFrame: function(a, b, c, d, e) {
		c === PROPERTY_SPRITEFRAME ? a.setSpriteFrame(d) : cc.NodeLoader.prototype.onHandlePropTypeSpriteFrame.call(this, a, b, c, d, e)
	},
	onHandlePropTypeSize: function(a, b, c, d, e) {
		c !== PROPERTY_CONTENTSIZE && (c === PROPERTY_PREFEREDSIZE ? a.setPreferredSize(d) : cc.NodeLoader.prototype.onHandlePropTypeSize.call(this, a, b, c, d, e))
	},
	onHandlePropTypeFloat: function(a, b, c, d, e) {
		c === PROPERTY_INSETLEFT ?
			a.setInsetLeft(d) : c === PROPERTY_INSETTOP ? a.setInsetTop(d) : c === PROPERTY_INSETRIGHT ? a.setInsetRight(d) : c === PROPERTY_INSETBOTTOM ? a.setInsetBottom(d) : cc.NodeLoader.prototype.onHandlePropTypeFloat.call(this, a, b, c, d, e)
	}
});
cc.Scale9SpriteLoader.loader = function() {
	return new cc.Scale9SpriteLoader
};
var PROPERTY_FLIP = "flip",
	PROPERTY_DISPLAYFRAME = "displayFrame",
	PROPERTY_COLOR = "color",
	PROPERTY_OPACITY = "opacity",
	PROPERTY_BLENDFUNC = "blendFunc";
cc.SpriteLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.Sprite
	},
	onHandlePropTypeColor3: function(a, b, c, d, e) {
		c === PROPERTY_COLOR ? 255 === d.r && 255 === d.g && 255 === d.b || a.setColor(d) : cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this, a, b, c, d, e)
	},
	onHandlePropTypeByte: function(a, b, c, d, e) {
		c === PROPERTY_OPACITY ? a.setOpacity(d) : cc.NodeLoader.prototype.onHandlePropTypeByte.call(this, a, b, c, d, e)
	},
	onHandlePropTypeBlendFunc: function(a, b, c, d, e) {
		c === PROPERTY_BLENDFUNC ? a.setBlendFunc(d) : cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this,
			a, b, c, d, e)
	},
	onHandlePropTypeSpriteFrame: function(a, b, c, d, e) {
		c === PROPERTY_DISPLAYFRAME ? d ? a.setSpriteFrame(d) : cc.log("ERROR: SpriteFrame is null") : cc.NodeLoader.prototype.onHandlePropTypeSpriteFrame.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFlip: function(a, b, c, d, e) {
		c === PROPERTY_FLIP ? (a.setFlippedX(d[0]), a.setFlippedY(d[1])) : cc.NodeLoader.prototype.onHandlePropTypeFlip.call(this, a, b, c, d, e)
	}
});
cc.SpriteLoader.loader = function() {
	return new cc.SpriteLoader
};
var PROPERTY_TOUCH_ENABLED = "touchEnabled",
	PROPERTY_IS_TOUCH_ENABLED = "isTouchEnabled",
	PROPERTY_ACCELEROMETER_ENABLED = "accelerometerEnabled",
	PROPERTY_IS_ACCELEROMETER_ENABLED = "isAccelerometerEnabled",
	PROPERTY_IS_MOUSE_ENABLED = "isMouseEnabled",
	PROPERTY_MOUSE_ENABLED = "mouseEnabled",
	PROPERTY_KEYBOARD_ENABLED = "keyboardEnabled",
	PROPERTY_IS_KEYBOARD_ENABLED = "isKeyboardEnabled";
cc.LayerLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		var c = new cc.Layer;
		c.setContentSize(0, 0);
		return c
	},
	onHandlePropTypeCheck: function(a, b, c, d, e) {
		c !== PROPERTY_TOUCH_ENABLED && c !== PROPERTY_IS_TOUCH_ENABLED && c !== PROPERTY_ACCELEROMETER_ENABLED && c !== PROPERTY_IS_ACCELEROMETER_ENABLED && c !== PROPERTY_MOUSE_ENABLED && c !== PROPERTY_IS_MOUSE_ENABLED && (c === PROPERTY_KEYBOARD_ENABLED || c === PROPERTY_IS_KEYBOARD_ENABLED ? a.setKeyboardEnabled && !cc.sys.isNative ? a.setKeyboardEnabled(d) : cc.log("The property '" +
			PROPERTY_IS_KEYBOARD_ENABLED + "' is not supported!") : cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this, a, b, c, d, e))
	}
});
cc.LayerLoader.loader = function() {
	return new cc.LayerLoader
};
cc.LayerColorLoader = cc.LayerLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.LayerColor
	},
	onHandlePropTypeColor3: function(a, b, c, d, e) {
		c === PROPERTY_COLOR ? a.setColor(d) : cc.LayerLoader.prototype.onHandlePropTypeColor3.call(this, a, b, c, d, e)
	},
	onHandlePropTypeByte: function(a, b, c, d, e) {
		c === PROPERTY_OPACITY ? a.setOpacity(d) : cc.LayerLoader.prototype.onHandlePropTypeByte.call(this, a, b, c, d, e)
	},
	onHandlePropTypeBlendFunc: function(a, b, c, d, e) {
		c === PROPERTY_BLENDFUNC ? a.setBlendFunc(d) : cc.LayerLoader.prototype.onHandlePropTypeBlendFunc.call(this,
			a, b, c, d, e)
	}
});
cc.LayerColorLoader.loader = function() {
	return new cc.LayerColorLoader
};
var PROPERTY_STARTCOLOR = "startColor",
	PROPERTY_ENDCOLOR = "endColor",
	PROPERTY_STARTOPACITY = "startOpacity",
	PROPERTY_ENDOPACITY = "endOpacity",
	PROPERTY_VECTOR = "vector";
cc.LayerGradientLoader = cc.LayerLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.LayerGradient
	},
	onHandlePropTypeColor3: function(a, b, c, d, e) {
		c === PROPERTY_STARTCOLOR ? a.setStartColor(d) : c === PROPERTY_ENDCOLOR ? a.setEndColor(d) : cc.LayerLoader.prototype.onHandlePropTypeColor3.call(this, a, b, c, d, e)
	},
	onHandlePropTypeByte: function(a, b, c, d, e) {
		c === PROPERTY_STARTOPACITY ? a.setStartOpacity(d) : c === PROPERTY_ENDOPACITY ? a.setEndOpacity(d) : cc.LayerLoader.prototype.onHandlePropTypeByte.call(this, a, b, c, d, e)
	},
	onHandlePropTypePoint: function(a,
		b, c, d, e) {
		c === PROPERTY_VECTOR ? a.setVector(d) : cc.LayerLoader.prototype.onHandlePropTypePoint.call(this, a, b, c, d, e)
	},
	onHandlePropTypeBlendFunc: function(a, b, c, d, e) {
		c === PROPERTY_BLENDFUNC ? a.setBlendFunc(d) : cc.LayerLoader.prototype.onHandlePropTypeBlendFunc.call(this, a, b, c, d, e)
	}
});
cc.LayerGradientLoader.loader = function() {
	return new cc.LayerGradientLoader
};
cc.MenuLoader = cc.LayerLoader.extend({
	_createCCNode: function(a, b) {
		var c = new cc.Menu;
		c.setContentSize(0, 0);
		return c
	}
});
cc.MenuLoader.loader = function() {
	return new cc.MenuLoader
};
var PROPERTY_BLOCK = "block",
	PROPERTY_ISENABLED = "isEnabled";
cc.MenuItemLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		return null
	},
	onHandlePropTypeBlock: function(a, b, c, d, e) {
		c === PROPERTY_BLOCK ? null != d && a.setTarget(d.selMenuHander, d.target) : cc.NodeLoader.prototype.onHandlePropTypeBlock.call(this, a, b, c, d, e)
	},
	onHandlePropTypeCheck: function(a, b, c, d, e) {
		c === PROPERTY_ISENABLED ? a.setEnabled(d) : cc.NodeLoader.prototype.onHandlePropTypeCheck.call(this, a, b, c, d, e)
	}
});
var PROPERTY_NORMALDISPLAYFRAME = "normalSpriteFrame",
	PROPERTY_SELECTEDDISPLAYFRAME = "selectedSpriteFrame",
	PROPERTY_DISABLEDDISPLAYFRAME = "disabledSpriteFrame";
cc.MenuItemImageLoader = cc.MenuItemLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.MenuItemImage
	},
	onHandlePropTypeSpriteFrame: function(a, b, c, d, e) {
		c === PROPERTY_NORMALDISPLAYFRAME ? null != d && a.setNormalSpriteFrame(d) : c === PROPERTY_SELECTEDDISPLAYFRAME ? null != d && a.setSelectedSpriteFrame(d) : c === PROPERTY_DISABLEDDISPLAYFRAME ? null != d && a.setDisabledSpriteFrame(d) : cc.MenuItemLoader.prototype.onHandlePropTypeSpriteFrame.call(this, a, b, c, d, e)
	}
});
cc.MenuItemImageLoader.loader = function() {
	return new cc.MenuItemImageLoader
};
var PROPERTY_FONTNAME = "fontName",
	PROPERTY_FONTSIZE = "fontSize",
	PROPERTY_HORIZONTALALIGNMENT = "horizontalAlignment",
	PROPERTY_VERTICALALIGNMENT = "verticalAlignment",
	PROPERTY_STRING = "string",
	PROPERTY_DIMENSIONS = "dimensions";
cc.LabelTTFLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.LabelTTF
	},
	onHandlePropTypeColor3: function(a, b, c, d, e) {
		c === PROPERTY_COLOR ? 255 === d.r && 255 === d.g && 255 === d.b || a.setColor(d) : cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this, a, b, c, d, e)
	},
	onHandlePropTypeByte: function(a, b, c, d, e) {
		c === PROPERTY_OPACITY ? a.setOpacity(d) : cc.NodeLoader.prototype.onHandlePropTypeByte.call(this, a, b, c, d, e)
	},
	onHandlePropTypeBlendFunc: function(a, b, c, d, e) {
		c === PROPERTY_BLENDFUNC ? a.setBlendFunc(d) :
			cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFontTTF: function(a, b, c, d, e) {
		c === PROPERTY_FONTNAME ? a.setFontName(d) : cc.NodeLoader.prototype.onHandlePropTypeFontTTF.call(this, a, b, c, d, e)
	},
	onHandlePropTypeText: function(a, b, c, d, e) {
		c === PROPERTY_STRING ? a.setString(d) : cc.NodeLoader.prototype.onHandlePropTypeText.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFloatScale: function(a, b, c, d, e) {
		c === PROPERTY_FONTSIZE ? a.setFontSize(d) : cc.NodeLoader.prototype.onHandlePropTypeFloatScale.call(this,
			a, b, c, d, e)
	},
	onHandlePropTypeIntegerLabeled: function(a, b, c, d, e) {
		c === PROPERTY_HORIZONTALALIGNMENT ? a.setHorizontalAlignment(d) : c === PROPERTY_VERTICALALIGNMENT ? a.setVerticalAlignment(d) : cc.NodeLoader.prototype.onHandlePropTypeIntegerLabeled.call(this, a, b, c, d, e)
	},
	onHandlePropTypeSize: function(a, b, c, d, e) {
		c === PROPERTY_DIMENSIONS ? a.setDimensions(d) : cc.NodeLoader.prototype.onHandlePropTypeSize.call(this, a, b, c, d, e)
	}
});
cc.LabelTTFLoader.loader = function() {
	return new cc.LabelTTFLoader
};
var PROPERTY_FNTFILE = "fntFile";
cc.LabelBMFontLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.LabelBMFont
	},
	onHandlePropTypeColor3: function(a, b, c, d, e) {
		c === PROPERTY_COLOR ? 255 === d.r && 255 === d.g && 255 === d.b || a.setColor(d) : cc.NodeLoader.prototype.onHandlePropTypeColor3.call(this, a, b, c, d, e)
	},
	onHandlePropTypeByte: function(a, b, c, d, e) {
		c === PROPERTY_OPACITY ? a.setOpacity(d) : cc.NodeLoader.prototype.onHandlePropTypeByte.call(this, a, b, c, d, e)
	},
	onHandlePropTypeBlendFunc: function(a, b, c, d, e) {
		c === PROPERTY_BLENDFUNC ? a.setBlendFunc(d) :
			cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFntFile: function(a, b, c, d, e) {
		c === PROPERTY_FNTFILE ? a.setFntFile(d) : cc.NodeLoader.prototype.onHandlePropTypeFntFile.call(this, a, b, c, d, e)
	},
	onHandlePropTypeText: function(a, b, c, d, e) {
		c === PROPERTY_STRING ? a.setString(d) : cc.NodeLoader.prototype.onHandlePropTypeText.call(this, a, b, c, d, e)
	}
});
cc.LabelBMFontLoader.loader = function() {
	return new cc.LabelBMFontLoader
};
var PROPERTY_EMITERMODE = "emitterMode",
	PROPERTY_POSVAR = "posVar",
	PROPERTY_EMISSIONRATE = "emissionRate",
	PROPERTY_DURATION = "duration",
	PROPERTY_TOTALPARTICLES = "totalParticles",
	PROPERTY_LIFE = "life",
	PROPERTY_STARTSIZE = "startSize",
	PROPERTY_ENDSIZE = "endSize",
	PROPERTY_STARTSPIN = "startSpin",
	PROPERTY_ENDSPIN = "endSpin",
	PROPERTY_ANGLE = "angle",
	PROPERTY_GRAVITY = "gravity",
	PROPERTY_SPEED = "speed",
	PROPERTY_TANGENTIALACCEL = "tangentialAccel",
	PROPERTY_RADIALACCEL = "radialAccel",
	PROPERTY_TEXTURE = "texture",
	PROPERTY_STARTRADIUS =
	"startRadius",
	PROPERTY_ENDRADIUS = "endRadius",
	PROPERTY_ROTATEPERSECOND = "rotatePerSecond";
cc.ParticleSystemLoader = cc.NodeLoader.extend({
	_createCCNode: function(a, b) {
		return new cc.ParticleSystem
	},
	onHandlePropTypeIntegerLabeled: function(a, b, c, d, e) {
		c === PROPERTY_EMITERMODE ? a.setEmitterMode(d) : cc.NodeLoader.prototype.onHandlePropTypeIntegerLabeled.call(this, a, b, c, d, e)
	},
	onHandlePropTypePoint: function(a, b, c, d, e) {
		c === PROPERTY_POSVAR ? a.setPosVar(d) : c === PROPERTY_GRAVITY ? a.setGravity(d) : cc.NodeLoader.prototype.onHandlePropTypePoint.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFloat: function(a, b, c, d, e) {
		c ===
			PROPERTY_EMISSIONRATE ? a.setEmissionRate(d) : c === PROPERTY_DURATION ? a.setDuration(d) : cc.NodeLoader.prototype.onHandlePropTypeFloat.call(this, a, b, c, d, e)
	},
	onHandlePropTypeInteger: function(a, b, c, d, e) {
		c === PROPERTY_TOTALPARTICLES ? a.setTotalParticles(d) : cc.NodeLoader.prototype.onHandlePropTypeInteger.call(this, a, b, c, d, e)
	},
	onHandlePropTypeFloatVar: function(a, b, c, d, e) {
		c === PROPERTY_LIFE ? (a.setLife(d[0]), a.setLifeVar(d[1])) : c === PROPERTY_STARTSIZE ? (a.setStartSize(d[0]), a.setStartSizeVar(d[1])) : c === PROPERTY_ENDSIZE ?
			(a.setEndSize(d[0]), a.setEndSizeVar(d[1])) : c === PROPERTY_STARTSPIN ? (a.setStartSpin(d[0]), a.setStartSpinVar(d[1])) : c === PROPERTY_ENDSPIN ? (a.setEndSpin(d[0]), a.setEndSpinVar(d[1])) : c === PROPERTY_ANGLE ? (a.setAngle(d[0]), a.setAngleVar(d[1])) : c === PROPERTY_SPEED ? (a.setSpeed(d[0]), a.setSpeedVar(d[1])) : c === PROPERTY_TANGENTIALACCEL ? (a.setTangentialAccel(d[0]), a.setTangentialAccelVar(d[1])) : c === PROPERTY_RADIALACCEL ? (a.setRadialAccel(d[0]), a.setRadialAccelVar(d[1])) : c === PROPERTY_STARTRADIUS ? (a.setStartRadius(d[0]),
				a.setStartRadiusVar(d[1])) : c === PROPERTY_ENDRADIUS ? (a.setEndRadius(d[0]), a.setEndRadiusVar(d[1])) : c === PROPERTY_ROTATEPERSECOND ? (a.setRotatePerSecond(d[0]), a.setRotatePerSecondVar(d[1])) : cc.NodeLoader.prototype.onHandlePropTypeFloatVar.call(this, a, b, c, d, e)
	},
	onHandlePropTypeColor4FVar: function(a, b, c, d, e) {
		c === PROPERTY_STARTCOLOR ? (a.setStartColor(d[0]), a.setStartColorVar(d[1])) : c === PROPERTY_ENDCOLOR ? (a.setEndColor(d[0]), a.setEndColorVar(d[1])) : cc.NodeLoader.prototype.onHandlePropTypeColor4FVar.call(this,
			a, b, c, d, e)
	},
	onHandlePropTypeBlendFunc: function(a, b, c, d, e) {
		c === PROPERTY_BLENDFUNC ? a.setBlendFunc(d) : cc.NodeLoader.prototype.onHandlePropTypeBlendFunc.call(this, a, b, c, d, e)
	},
	onHandlePropTypeTexture: function(a, b, c, d, e) {
		c === PROPERTY_TEXTURE ? a.setTexture(d) : cc.NodeLoader.prototype.onHandlePropTypeTexture.call(this, a, b, c, d, e)
	}
});
cc.ParticleSystemLoader.loader = function() {
	return new cc.ParticleSystemLoader
};
cc.NodeLoaderLibrary = cc.Class.extend({
	_ccNodeLoaders: null,
	ctor: function() {
		this._ccNodeLoaders = {}
	},
	registerDefaultCCNodeLoaders: function() {
		this.registerCCNodeLoader("CCNode", cc.NodeLoader.loader());
		this.registerCCNodeLoader("CCLayer", cc.LayerLoader.loader());
		this.registerCCNodeLoader("CCLayerColor", cc.LayerColorLoader.loader());
		this.registerCCNodeLoader("CCLayerGradient", cc.LayerGradientLoader.loader());
		this.registerCCNodeLoader("CCSprite", cc.SpriteLoader.loader());
		this.registerCCNodeLoader("CCLabelBMFont",
			cc.LabelBMFontLoader.loader());
		this.registerCCNodeLoader("CCLabelTTF", cc.LabelTTFLoader.loader());
		this.registerCCNodeLoader("CCScale9Sprite", cc.Scale9SpriteLoader.loader());
		this.registerCCNodeLoader("CCScrollView", cc.ScrollViewLoader.loader());
		this.registerCCNodeLoader("CCBFile", cc.BuilderFileLoader.loader());
		this.registerCCNodeLoader("CCMenu", cc.MenuLoader.loader());
		this.registerCCNodeLoader("CCMenuItemImage", cc.MenuItemImageLoader.loader());
		this.registerCCNodeLoader("CCControlButton", cc.ControlButtonLoader.loader());
		this.registerCCNodeLoader("CCParticleSystemQuad", cc.ParticleSystemLoader.loader())
	},
	registerCCNodeLoader: function(a, b) {
		this._ccNodeLoaders[a] = b
	},
	unregisterCCNodeLoader: function(a) {
		this._ccNodeLoaders[a] && delete this._ccNodeLoaders[a]
	},
	getCCNodeLoader: function(a) {
		return this._ccNodeLoaders[a] ? this._ccNodeLoaders[a] : null
	},
	purge: function(a) {
		if (a)
			for (var b in this._ccNodeLoaders) delete this._ccNodeLoaders[b];
		this._ccNodeLoaders = {}
	}
});
cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary = null;
cc.NodeLoaderLibrary.library = function() {
	return new cc.NodeLoaderLibrary
};
cc.NodeLoaderLibrary.sharedCCNodeLoaderLibrary = function() {
	null == cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary && (cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary = new cc.NodeLoaderLibrary, cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary.registerDefaultCCNodeLoaders());
	return cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary
};
cc.NodeLoaderLibrary.purgeSharedCCNodeLoaderLibrary = function() {
	cc.NodeLoaderLibrary.sSharedCCNodeLoaderLibrary = null
};
cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary = function() {
	var a = cc.NodeLoaderLibrary.library();
	a.registerDefaultCCNodeLoaders();
	return a
};
var CCB_VERSION = 5,
	CCB_PROPTYPE_POSITION = 0,
	CCB_PROPTYPE_SIZE = 1,
	CCB_PROPTYPE_POINT = 2,
	CCB_PROPTYPE_POINTLOCK = 3,
	CCB_PROPTYPE_SCALELOCK = 4,
	CCB_PROPTYPE_DEGREES = 5,
	CCB_PROPTYPE_INTEGER = 6,
	CCB_PROPTYPE_FLOAT = 7,
	CCB_PROPTYPE_FLOATVAR = 8,
	CCB_PROPTYPE_CHECK = 9,
	CCB_PROPTYPE_SPRITEFRAME = 10,
	CCB_PROPTYPE_TEXTURE = 11,
	CCB_PROPTYPE_BYTE = 12,
	CCB_PROPTYPE_COLOR3 = 13,
	CCB_PROPTYPE_COLOR4VAR = 14,
	CCB_PROPTYPE_FLIP = 15,
	CCB_PROPTYPE_BLENDMODE = 16,
	CCB_PROPTYPE_FNTFILE = 17,
	CCB_PROPTYPE_TEXT = 18,
	CCB_PROPTYPE_FONTTTF = 19,
	CCB_PROPTYPE_INTEGERLABELED =
	20,
	CCB_PROPTYPE_BLOCK = 21,
	CCB_PROPTYPE_ANIMATION = 22,
	CCB_PROPTYPE_CCBFILE = 23,
	CCB_PROPTYPE_STRING = 24,
	CCB_PROPTYPE_BLOCKCCCONTROL = 25,
	CCB_PROPTYPE_FLOATSCALE = 26,
	CCB_PROPTYPE_FLOATXY = 27,
	CCB_FLOAT0 = 0,
	CCB_FLOAT1 = 1,
	CCB_FLOAT_MINUS1 = 2,
	CCB_FLOAT05 = 3,
	CCB_FLOAT_INTEGER = 4,
	CCB_FLOAT_FULL = 5,
	CCB_PLATFORM_ALL = 0,
	CCB_PLATFORM_IOS = 1,
	CCB_PLATFORM_MAC = 2,
	CCB_TARGETTYPE_NONE = 0,
	CCB_TARGETTYPE_DOCUMENTROOT = 1,
	CCB_TARGETTYPE_OWNER = 2,
	CCB_KEYFRAME_EASING_INSTANT = 0,
	CCB_KEYFRAME_EASING_LINEAR = 1,
	CCB_KEYFRAME_EASING_CUBIC_IN = 2,
	CCB_KEYFRAME_EASING_CUBIC_OUT =
	3,
	CCB_KEYFRAME_EASING_CUBIC_INOUT = 4,
	CCB_KEYFRAME_EASING_ELASTIC_IN = 5,
	CCB_KEYFRAME_EASING_ELASTIC_OUT = 6,
	CCB_KEYFRAME_EASING_ELASTIC_INOUT = 7,
	CCB_KEYFRAME_EASING_BOUNCE_IN = 8,
	CCB_KEYFRAME_EASING_BOUNCE_OUT = 9,
	CCB_KEYFRAME_EASING_BOUNCE_INOUT = 10,
	CCB_KEYFRAME_EASING_BACK_IN = 11,
	CCB_KEYFRAME_EASING_BACK_OUT = 12,
	CCB_KEYFRAME_EASING_BACK_INOUT = 13,
	CCB_POSITIONTYPE_RELATIVE_BOTTOM_LEFT = 0,
	CCB_POSITIONTYPE_RELATIVE_TOP_LEFT = 1,
	CCB_POSITIONTYPE_RELATIVE_TOP_RIGHT = 2,
	CCB_POSITIONTYPE_RELATIVE_BOTTOM_RIGHT = 3,
	CCB_POSITIONTYPE_PERCENT =
	4,
	CCB_POSITIONTYPE_MULTIPLY_RESOLUTION = 5,
	CCB_SIZETYPE_ABSOLUTE = 0,
	CCB_SIZETYPE_PERCENT = 1,
	CCB_SIZETYPE_RELATIVE_CONTAINER = 2,
	CCB_SIZETYPE_HORIZONTAL_PERCENT = 3,
	CCB_SIZETYPE_VERTICAL_PERCENT = 4,
	CCB_SIZETYPE_MULTIPLY_RESOLUTION = 5,
	CCB_SCALETYPE_ABSOLUTE = 0,
	CCB_SCALETYPE_MULTIPLY_RESOLUTION = 1;
cc.BuilderReader = cc.Class.extend({
	_jsControlled: !1,
	_data: null,
	_ccbRootPath: "",
	_bytes: 0,
	_currentByte: 0,
	_currentBit: 0,
	_stringCache: null,
	_loadedSpriteSheets: null,
	_owner: null,
	_animationManager: null,
	_animationManagers: null,
	_animatedProps: null,
	_ccNodeLoaderLibrary: null,
	_ccNodeLoaderListener: null,
	_ccbMemberVariableAssigner: null,
	_ccbSelectorResolver: null,
	_ownerOutletNames: null,
	_ownerOutletNodes: null,
	_nodesWithAnimationManagers: null,
	_animationManagerForNodes: null,
	_ownerCallbackNames: null,
	_ownerCallbackNodes: null,
	_ownerCallbackEvents: null,
	_readNodeGraphFromData: !1,
	ctor: function(a, b, c, d) {
		this._stringCache = [];
		this._loadedSpriteSheets = [];
		this._currentByte = this._currentBit = -1;
		0 !== arguments.length && (a instanceof cc.BuilderReader ? (this._loadedSpriteSheets = a._loadedSpriteSheets, this._ccNodeLoaderLibrary = a._ccNodeLoaderLibrary, this._ccbMemberVariableAssigner = a._ccbMemberVariableAssigner, this._ccbSelectorResolver = a._ccbSelectorResolver, this._ccNodeLoaderListener = a._ccNodeLoaderListener, this._ownerCallbackNames = a._ownerCallbackNames,
			this._ownerCallbackNodes = a._ownerCallbackNodes, this._ownerCallbackEvents = a._ownerCallbackEvents, this._ownerOutletNames = a._ownerOutletNames, this._ownerOutletNodes = a._ownerOutletNodes, this._ccbRootPath = a._ccbRootPath) : (this._ccNodeLoaderLibrary = a, this._ccbMemberVariableAssigner = b, this._ccbSelectorResolver = c, this._ccNodeLoaderListener = d))
	},
	getCCBRootPath: function() {
		return this._ccbRootPath
	},
	setCCBRootPath: function(a) {
		this._ccbRootPath = a
	},
	initWithData: function(a, b) {
		this._animationManager = new cc.BuilderAnimationManager;
		this._data = a;
		this._bytes = a.length;
		this._currentByte = this._currentBit = 0;
		this._owner = b;
		this._animationManager.setRootContainerSize(cc.director.getWinSize());
		return !0
	},
	_loadBinarySync: function(a) {
		var b = this.getXMLHttpRequest(),
			c = "load " + a + " failed!";
		b.open("GET", a, !1);
		var d = null;
		if (/msie/i.test(navigator.userAgent) && !/opera/i.test(navigator.userAgent)) {
			b.setRequestHeader("Accept-Charset", "x-user-defined");
			b.send(null);
			if (200 !== b.status) return cc.log(c), null;
			if (b = cc._convertResponseBodyToText(b.responseBody)) d =
				this._stringConvertToArray(b), this._fileDataCache[a] = d
		} else {
			b.overrideMimeType && b.overrideMimeType("text/plain; charset\x3dx-user-defined");
			b.send(null);
			if (200 !== b.status) return cc.log(c), null;
			d = this._stringConvertToArray(b.responseText);
			this._fileDataCache[a] = d
		}
		return d
	},
	readNodeGraphFromFile: function(a, b, c, d) {
		null == c ? c = cc.director.getWinSize() : c instanceof cc.BuilderAnimationManager && (d = c, c = cc.director.getWinSize());
		var e = cc.loader.getRes(a);
		e || (e = cc.loader.getUrl(a), e = cc.loader.loadBinarySync(e),
			cc.loader.cache[a] = e);
		return this.readNodeGraphFromData(e, b, c, d)
	},
	readNodeGraphFromData: function(a, b, c) {
		this.initWithData(a, b);
		a = this._animationManager;
		a.setRootContainerSize(c);
		a.setOwner(b);
		this._ownerOutletNames = [];
		this._ownerOutletNodes = [];
		this._ownerCallbackNames = [];
		this._ownerCallbackNodes = [];
		this._ownerCallbackEvents = [];
		this._animationManagers = new cc._Dictionary;
		(b = this.readFileWithCleanUp(!0)) && -1 !== a.getAutoPlaySequenceId() && a.runAnimations(a.getAutoPlaySequenceId(), 0);
		if (this._jsControlled) {
			c = [];
			a = [];
			for (var d = this._animationManagers, e = d.allKeys(), f = 0; f < e.length; f++) c.push(e[f]), a.push(d.objectForKey(e[f]));
			this._nodesWithAnimationManagers = c;
			this._animationManagerForNodes = a
		}
		return b
	},
	createSceneWithNodeGraphFromFile: function(a, b, c, d) {
		a = this.readNodeGraphFromFile(a, b, c, d);
		b = new cc.Scene;
		b.addChild(a);
		return b
	},
	getCCBMemberVariableAssigner: function() {
		return this._ccbMemberVariableAssigner
	},
	getCCBSelectorResolver: function() {
		return this._ccbSelectorResolver
	},
	getAnimationManager: function() {
		return this._animationManager
	},
	setAnimationManager: function(a) {
		this._animationManager = a
	},
	getAnimatedProperties: function() {
		return this._animatedProps
	},
	getLoadedSpriteSheet: function() {
		return this._loadedSpriteSheets
	},
	getOwner: function() {
		return this._owner
	},
	readInt: function(a) {
		for (var b = 0, c = this._data[this._currentByte], d = !!(c & 1 << this._currentBit++); !d;)
			if (b++, d = !!(c & 1 << this._currentBit++), 8 <= this._currentBit && (this._currentBit = 0, this._currentByte++, c = this._data[this._currentByte], this._currentByte > this._data.length)) throw Error("out of the data bound");
		for (var e = 0, f = b - 1; 0 <= f; f--) {
			d = !!(c & 1 << this._currentBit++);
			if (8 <= this._currentBit && (this._currentBit = 0, this._currentByte++, c = this._data[this._currentByte], this._currentByte > this._data.length)) throw Error("out of the data bound");
			d && (e |= 1 << f)
		}
		e |= 1 << b;
		this._currentBit && (this._currentBit = 0, this._currentByte++);
		return a ? e % 2 ? 0 | e / 2 : 0 | -e / 2 : e - 1
	},
	readByte: function() {
		var a = this._data[this._currentByte];
		this._currentByte++;
		return a
	},
	readBool: function() {
		return !!this._data[this._currentByte++]
	},
	readFloat: function() {
		switch (this._data[this._currentByte++]) {
			case CCB_FLOAT0:
				return 0;
			case CCB_FLOAT1:
				return 1;
			case CCB_FLOAT_MINUS1:
				return -1;
			case CCB_FLOAT05:
				return 0.5;
			case CCB_FLOAT_INTEGER:
				return this.readInt(!0);
			default:
				return this._decodeFloat(23, 8)
		}
	},
	_decodeFloat: function(a, b) {
		var c = a + b + 1 >> 3;
		if (this._currentByte + c >= this._data.length) throw Error("Index out of bound");
		var d = Math.pow(2, b - 1) - 1,
			e = this._readBitsOnly(a + b, 1, c),
			f = this._readBitsOnly(a, b, c),
			g = 0,
			h = 2,
			k = 0;
		do
			for (var m = this._data[this._currentByte + c - ++k - 1], n = a % 8 || 8, p = 1 << n; p >>= 1;) m & p && (g += 1 / h), h *= 2; while (a -= n);
		this._currentByte +=
			c;
		return f === (d << 1) + 1 ? g ? NaN : e ? -Infinity : Infinity : (1 + -2 * e) * (f || g ? f ? Math.pow(2, f - d) * (1 + g) : Math.pow(2, -d + 1) * g : 0)
	},
	_readBitsOnly: function(a, b, c) {
		var d = (a + b) % 8,
			e = a % 8,
			f = c - (a >> 3) - 1;
		a = c + (-(a + b) >> 3);
		var g = f - a;
		b = this._data[this._currentByte + c - f - 1] >> e & (1 << (g ? 8 - e : b)) - 1;
		g && d && (b += (this._data[this._currentByte + c - a - 1] & (1 << d) - 1) << (g-- << 3) - e, a++);
		for (; g;) b += this._shl(this._data[this._currentByte + c - a - 1], (g-- << 3) - e), a++;
		return b
	},
	_shl: function(a, b) {
		for (++b; --b; a = 1073741824 === ((a %= 2147483648) & 1073741824) ? 2 * a : 2 * (a - 1073741824) +
			2147483648);
		return a
	},
	readCachedString: function() {
		return this._stringCache[this.readInt(!1)]
	},
	isJSControlled: function() {
		return this._jsControlled
	},
	getOwnerCallbackNames: function() {
		return this._ownerCallbackNames
	},
	getOwnerCallbackNodes: function() {
		return this._ownerCallbackNodes
	},
	getOwnerCallbackControlEvents: function() {
		return this._ownerCallbackEvents
	},
	getOwnerOutletNames: function() {
		return this._ownerOutletNames
	},
	getOwnerOutletNodes: function() {
		return this._ownerOutletNodes
	},
	getNodesWithAnimationManagers: function() {
		return this._nodesWithAnimationManagers
	},
	getAnimationManagersForNodes: function() {
		return this._animationManagerForNodes
	},
	getAnimationManagers: function() {
		return this._animationManagers
	},
	setAnimationManagers: function(a) {
		this._animationManagers = a
	},
	addOwnerCallbackName: function(a) {
		this._ownerCallbackNames.push(a)
	},
	addOwnerCallbackNode: function(a) {
		this._ownerCallbackNodes.push(a)
	},
	addOwnerCallbackControlEvents: function(a) {
		this._ownerCallbackEvents.push(a)
	},
	addDocumentCallbackName: function(a) {
		this._animationManager.addDocumentCallbackName(a)
	},
	addDocumentCallbackNode: function(a) {
		this._animationManager.addDocumentCallbackNode(a)
	},
	addDocumentCallbackControlEvents: function(a) {
		this._animationManager.addDocumentCallbackControlEvents(a)
	},
	readFileWithCleanUp: function(a) {
		if (!this._readHeader() || !this._readStringCache() || !this._readSequences()) return null;
		var b = this._readNodeGraph();
		this._animationManagers.setObject(this._animationManager, b);
		a && this._cleanUpNodeGraph(b);
		return b
	},
	addOwnerOutletName: function(a) {
		this._ownerOutletNames.push(a)
	},
	addOwnerOutletNode: function(a) {
		null !=
			a && this._ownerOutletNodes.push(a)
	},
	_cleanUpNodeGraph: function(a) {
		a.userObject = null;
		a = a.getChildren();
		for (var b = 0, c = a.length; b < c; b++) this._cleanUpNodeGraph(a[b])
	},
	_readCallbackKeyframesForSeq: function(a) {
		var b = this.readInt(!1);
		if (!b) return !0;
		for (var c = new cc.BuilderSequenceProperty, d = this._jsControlled, e = this._animationManager, f = c.getKeyframes(), g = 0; g < b; g++) {
			var h = this.readFloat(),
				k = this.readCachedString(),
				m = this.readInt(!1),
				n = [k, m],
				p = new cc.BuilderKeyframe;
			p.setTime(h);
			p.setValue(n);
			d && e.getKeyframeCallbacks().push(m +
				":" + k);
			f.push(p)
		}
		a.setCallbackChannel(c);
		return !0
	},
	_readSoundKeyframesForSeq: function(a) {
		var b = this.readInt(!1);
		if (!b) return !0;
		for (var c = new cc.BuilderSequenceProperty, d = c.getKeyframes(), e = 0; e < b; e++) {
			var f = this.readFloat(),
				g = this.readCachedString(),
				h = this.readFloat(),
				k = this.readFloat(),
				m = this.readFloat(),
				g = [g, h, k, m],
				h = new cc.BuilderKeyframe;
			h.setTime(f);
			h.setValue(g);
			d.push(h)
		}
		a.setSoundChannel(c);
		return !0
	},
	_readSequences: function() {
		for (var a = this._animationManager.getSequences(), b = this.readInt(!1),
				c = 0; c < b; c++) {
			var d = new cc.BuilderSequence;
			d.setDuration(this.readFloat());
			d.setName(this.readCachedString());
			d.setSequenceId(this.readInt(!1));
			d.setChainedSequenceId(this.readInt(!0));
			if (!this._readCallbackKeyframesForSeq(d) || !this._readSoundKeyframesForSeq(d)) return !1;
			a.push(d)
		}
		this._animationManager.setAutoPlaySequenceId(this.readInt(!0));
		return !0
	},
	readKeyframe: function(a) {
		var b = new cc.BuilderKeyframe;
		b.setTime(this.readFloat());
		var c = this.readInt(!1),
			d = 0,
			e = null;
		if (c === CCB_KEYFRAME_EASING_CUBIC_IN ||
			c === CCB_KEYFRAME_EASING_CUBIC_OUT || c === CCB_KEYFRAME_EASING_CUBIC_INOUT || c === CCB_KEYFRAME_EASING_ELASTIC_IN || c === CCB_KEYFRAME_EASING_ELASTIC_OUT || c === CCB_KEYFRAME_EASING_ELASTIC_INOUT) d = this.readFloat();
		b.setEasingType(c);
		b.setEasingOpt(d);
		a === CCB_PROPTYPE_CHECK ? e = !!this._data[this._currentByte++] : a === CCB_PROPTYPE_BYTE ? e = this._data[this._currentByte++] : a === CCB_PROPTYPE_COLOR3 ? e = cc.color(this._data[this._currentByte++], this._data[this._currentByte++], this._data[this._currentByte++]) : a === CCB_PROPTYPE_FLOATXY ?
			e = [this.readFloat(), this.readFloat()] : a === CCB_PROPTYPE_DEGREES ? e = this.readFloat() : a === CCB_PROPTYPE_SCALELOCK || a === CCB_PROPTYPE_POSITION || a === CCB_PROPTYPE_FLOATXY ? e = [this.readFloat(), this.readFloat()] : a === CCB_PROPTYPE_SPRITEFRAME && (a = this.readCachedString(), c = this.readCachedString(), "" === a ? (c = this._ccbRootPath + c, a = cc.textureCache.addImage(c), c = a.getContentSize(), c = cc.rect(0, 0, c.width, c.height), e = new cc.SpriteFrame(a, c)) : (a = this._ccbRootPath + a, d = cc.spriteFrameCache, -1 === this._loadedSpriteSheets.indexOf(a) &&
				(d.addSpriteFrames(a), this._loadedSpriteSheets.push(a)), e = d.getSpriteFrame(c)));
		b.setValue(e);
		return b
	},
	_readHeader: function() {
		if (!this._data) return !1;
		var a = this._readStringFromBytes(this._currentByte, 4, !0);
		this._currentByte += 4;
		if ("ccbi" !== a) return !1;
		a = this.readInt(!1);
		if (a !== CCB_VERSION) return cc.log("WARNING! Incompatible ccbi file version (file: " + a + " reader: " + CCB_VERSION + ")"), !1;
		this._jsControlled = !!this._data[this._currentByte++];
		this._animationManager._jsControlled = this._jsControlled;
		return !0
	},
	_readStringFromBytes: function(a, b, c) {
		var d = "",
			e = this._data;
		if (c)
			for (c = b - 1; 0 <= c; c--) d += String.fromCharCode(e[a + c]);
		else
			for (c = 0; c < b; c++) d += String.fromCharCode(e[a + c]);
		return d
	},
	_readStringCache: function() {
		for (var a = this.readInt(!1), b = 0; b < a; b++) this._readStringCacheEntry();
		return !0
	},
	_readStringCacheEntry: function() {
		for (var a = this._data[this._currentByte++], b = this._data[this._currentByte++], a = a << 8 | b, b = "", c = this._data, d = this._currentByte, e = 0; e < a; e++) var f = c[d + e].toString("16").toUpperCase(),
			f = 1 < f.length ?
			f : "0" + f,
			b = b + ("%" + f);
		b = decodeURIComponent(b);
		this._currentByte += a;
		this._stringCache.push(b)
	},
	_readNodeGraph: function(a) {
		var b = this.readCachedString(),
			c, d = this._jsControlled,
			e = this._animationManager;
		d && (c = this.readCachedString());
		var f = this.readInt(!1),
			g;
		f !== CCB_TARGETTYPE_NONE && (g = this.readCachedString());
		(b = this._ccNodeLoaderLibrary.getCCNodeLoader(b)) || (b = this._ccNodeLoaderLibrary.getCCNodeLoader("CCNode"));
		var h = b.loadCCNode(a, this);
		e.getRootNode() || e.setRootNode(h);
		d && h === e.getRootNode() && e.setDocumentControllerName(c);
		var k = new cc._Dictionary,
			m = this._animatedProps = [],
			n = this.readInt(!1);
		for (c = 0; c < n; ++c) {
			for (var p = this.readInt(!1), r = new cc._Dictionary, t = this.readInt(!1), u = 0; u < t; ++u) {
				var s = new cc.BuilderSequenceProperty;
				s.setName(this.readCachedString());
				s.setType(this.readInt(!1));
				m.push(s.getName());
				for (var w = this.readInt(!1), v = s.getKeyframes(), x = 0; x < w; ++x) {
					var A = this.readKeyframe(s.getType());
					v.push(A)
				}
				r.setObject(s, s.getName())
			}
			k.setObject(r, p)
		}
		0 < k.count() && e.addNode(h, k);
		b.parseProperties(h, a, this);
		if (a = !!h.ccbFileNode) c =
			h.ccbFileNode, c.setPosition(h.getPosition()), c.setRotation(h.getRotation()), c.setScaleX(h.getScaleX()), c.setScaleY(h.getScaleY()), c.setTag(h.getTag()), c.setVisible(!0), e.moveAnimationsFromNode(h, c), h.ccbFileNode = null, h = c;
		m = k = null;
		if (f !== CCB_TARGETTYPE_NONE)
			if (d) f === CCB_TARGETTYPE_DOCUMENTROOT ? (e.addDocumentOutletName(g), e.addDocumentOutletNode(h)) : (this._ownerOutletNames.push(g), this._ownerOutletNodes.push(h));
			else if (f === CCB_TARGETTYPE_DOCUMENTROOT ? k = e.getRootNode() : f === CCB_TARGETTYPE_OWNER && (k =
				this._owner), !k && (c = !1, k.onAssignCCBMemberVariable && (c = k.onAssignCCBMemberVariable(k, g, h)), m = this._ccbMemberVariableAssigner, !c && null != m && m.onAssignCCBMemberVariable)) m.onAssignCCBMemberVariable(k, g, h);
		if (0 < b.getCustomProperties().length && (g = !1, !d && (k = h, null != k && null != k.onAssignCCBCustomProperty)))
			for (d = b.getCustomProperties(), e = d.allKeys(), c = 0; c < e.length; c++)
				if (f = d.objectForKey(e[c]), g = k.onAssignCCBCustomProperty(k, e[c], f), m = this._ccbMemberVariableAssigner, !g && null != m && null != m.onAssignCCBCustomProperty) m.onAssignCCBCustomProperty(k,
					e[c], f);
		this._animatedProps = null;
		d = this.readInt(!1);
		for (c = 0; c < d; c++) g = this._readNodeGraph(h), h.addChild(g);
		if (!a)
			if (null != h && h.onNodeLoaded) h.onNodeLoaded(h, b);
			else if (null != this._ccNodeLoaderListener) this._ccNodeLoaderListener.onNodeLoaded(h, b);
		return h
	},
	_readUTF8: function() {}
});
cc.BuilderReader._ccbResolutionScale = 1;
cc.BuilderReader.setResolutionScale = function(a) {
	cc.BuilderReader._ccbResolutionScale = a
};
cc.BuilderReader.getResolutionScale = function() {
	return cc.BuilderReader._ccbResolutionScale
};
cc.BuilderReader.loadAsScene = function(a, b, c, d) {
	d = d || cc.BuilderReader.getResourcePath();
	a = cc.BuilderReader.load(a, b, c, d);
	b = new cc.Scene;
	b.addChild(a);
	return b
};
cc.BuilderReader._controllerClassCache = {};
cc.BuilderReader.registerController = function(a, b) {
	cc.BuilderReader._controllerClassCache[a] = cc.Class.extend(b)
};
cc.BuilderReader.load = function(a, b, c, d) {
	d = d || cc.BuilderReader.getResourcePath();
	var e = new cc.BuilderReader(cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary());
	e.setCCBRootPath(d);
	if (5 > a.length || a.toLowerCase().lastIndexOf(".ccbi") !== a.length - 5) a += ".ccbi";
	a = e.readNodeGraphFromFile(a, b, c);
	var f, g, h;
	if (b) {
		d = e.getOwnerCallbackNames();
		var k = e.getOwnerCallbackNodes(),
			m = e.getOwnerCallbackControlEvents();
		for (c = 0; c < d.length; c++) f = d[c], g = k[c], h = m[c], g instanceof cc.ControlButton ? g.addTargetWithActionForControlEvents(b,
			b[f], h) : g.setCallback(b[f], b);
		d = e.getOwnerOutletNames();
		k = e.getOwnerOutletNodes();
		for (c = 0; c < d.length; c++) f = d[c], g = k[c], b[f] = g
	}
	d = e.getNodesWithAnimationManagers();
	e = e.getAnimationManagersForNodes();
	if (!d || !e) return a;
	k = cc.BuilderReader._controllerClassCache;
	for (c = 0; c < d.length; c++) {
		var n = d[c],
			p = e[c];
		n.animationManager = p;
		if (f = p.getDocumentControllerName()) {
			m = k[f];
			if (!m) throw Error("Can not find controller : " + f);
			m = new m;
			m.controllerName = f;
			n.controller = m;
			m.rootNode = n;
			for (var r = p.getDocumentCallbackNames(),
					t = p.getDocumentCallbackNodes(), u = p.getDocumentCallbackControlEvents(), n = 0; n < r.length; n++) f = r[n], g = t[n], h = u[n], g instanceof cc.ControlButton ? g.addTargetWithActionForControlEvents(m, m[f], h) : g.setCallback(m[f], m);
			h = p.getDocumentOutletNames();
			r = p.getDocumentOutletNodes();
			for (n = 0; n < h.length; n++) f = h[n], g = r[n], m[f] = g;
			if (m.onDidLoadFromCCB && cc.isFunction(m.onDidLoadFromCCB)) m.onDidLoadFromCCB();
			f = p.getKeyframeCallbacks();
			for (n = 0; n < f.length; n++) h = f[n].split(":"), g = h[0], h = h[1], 1 == g ? p.setCallFunc(cc.callFunc(m[h],
				m), f[n]) : 2 == g && b && p.setCallFunc(cc.callFunc(b[h], b), f[n])
		}
	}
	p.runAnimations(p.getAutoPlaySequenceId(), 0);
	return a
};
cc.BuilderReader._resourcePath = "";
cc.BuilderReader.setResourcePath = function(a) {
	cc.BuilderReader._resourcePath = a
};
cc.BuilderReader.getResourcePath = function() {
	return cc.BuilderReader._resourcePath
};
cc.BuilderReader.lastPathComponent = function(a) {
	var b = a.lastIndexOf("/");
	return -1 !== b ? a.substring(b + 1, a.length - b) : a
};
cc.BuilderReader.deletePathExtension = function(a) {
	var b = a.lastIndexOf(".");
	return -1 !== b ? a.substring(0, b) : a
};
cc.BuilderReader.toLowerCase = function(a) {
	return a.toLowerCase()
};
cc.BuilderReader.endsWith = function(a, b) {
	return a.length >= b.length ? 0 === a.lastIndexOf(b) : !1
};
cc.BuilderReader.concat = function(a, b) {
	return a + b
};
cc.loader.register(["ccbi"], cc._binaryLoader);
cc.INT_VALUE = 0;
cc.FLOAT_VALUE = 1;
cc.POINTER_VALUE = 2;
cc.BOOL_VALUE = 3;
cc.UNSIGNEDCHAR_VALUE = 4;
cc.BuilderValue = cc.Class.extend({
	_value: null,
	_type: 0,
	getIntValue: function() {},
	getFloatValue: function() {},
	getBoolValue: function() {},
	getByteValue: function() {},
	getPointer: function() {},
	getValue: function() {
		return this._value
	}
});
cc.BuilderValue.create = function(a) {
	return new cc.BuilderValue
};
cc.BuilderKeyframe = cc.Class.extend({
	_value: null,
	_time: 0,
	_easingType: 0,
	_easingOpt: 0,
	getValue: function() {
		return this._value
	},
	setValue: function(a) {
		this._value = a
	},
	getTime: function() {
		return this._time
	},
	setTime: function(a) {
		this._time = a
	},
	getEasingType: function() {
		return this._easingType
	},
	setEasingType: function(a) {
		this._easingType = a
	},
	getEasingOpt: function() {
		return this._easingOpt
	},
	setEasingOpt: function(a) {
		this._easingOpt = a
	}
});
cc.BuilderSequence = cc.Class.extend({
	_duration: 0,
	_name: "",
	_sequenceId: 0,
	_chainedSequenceId: 0,
	_callbackChannel: null,
	_soundChannel: null,
	ctor: function() {
		this._name = ""
	},
	getDuration: function() {
		return this._duration
	},
	setDuration: function(a) {
		this._duration = a
	},
	getName: function() {
		return this._name
	},
	setName: function(a) {
		this._name = a
	},
	getSequenceId: function() {
		return this._sequenceId
	},
	setSequenceId: function(a) {
		this._sequenceId = a
	},
	getChainedSequenceId: function() {
		return this._chainedSequenceId
	},
	setChainedSequenceId: function(a) {
		this._chainedSequenceId =
			a
	},
	getCallbackChannel: function() {
		return this._callbackChannel
	},
	setCallbackChannel: function(a) {
		this._callbackChannel = a
	},
	getSoundChannel: function() {
		return this._soundChannel
	},
	setSoundChannel: function(a) {
		this._soundChannel = a
	}
});
cc.BuilderSequenceProperty = cc.Class.extend({
	_name: null,
	_type: 0,
	_keyFrames: null,
	ctor: function() {
		this.init()
	},
	init: function() {
		this._keyFrames = [];
		this._name = ""
	},
	getName: function() {
		return this._name
	},
	setName: function(a) {
		this._name = a
	},
	getType: function() {
		return this._type
	},
	setType: function(a) {
		this._type = a
	},
	getKeyframes: function() {
		return this._keyFrames
	}
});
cc.getAbsolutePosition = function(a, b, c, d, e, f) {
	e = f || cc.p(0, 0);
	c === CCB_POSITIONTYPE_RELATIVE_BOTTOM_LEFT ? (e.x = a, e.y = b) : c === CCB_POSITIONTYPE_RELATIVE_TOP_LEFT ? (e.x = a, e.y = d.height - b) : c === CCB_POSITIONTYPE_RELATIVE_TOP_RIGHT ? (e.x = d.width - a, e.y = d.height - b) : c === CCB_POSITIONTYPE_RELATIVE_BOTTOM_RIGHT ? (e.x = d.width - a, e.y = b) : c === CCB_POSITIONTYPE_PERCENT ? (e.x = d.width * a / 100, e.y = d.height * b / 100) : c === CCB_POSITIONTYPE_MULTIPLY_RESOLUTION && (c = cc.BuilderReader.getResolutionScale(), e.x = a * c, e.y = b * c);
	return e
};
cc.setRelativeScale = function(a, b, c, d, e) {
	if (!a) throw Error("cc.setRelativeScale(): node should be non-null");
	d === CCB_POSITIONTYPE_MULTIPLY_RESOLUTION && (d = cc.BuilderReader.getResolutionScale(), b *= d, c *= d);
	a.setScale(b, c)
};
(function() {
	var a = cc.p();
	cc.BuilderAnimationManagerDelegate = cc.Class.extend({
		completedAnimationSequenceNamed: function(a) {}
	});
	cc.BuilderAnimationManager = cc.Class.extend({
		_sequences: null,
		_nodeSequences: null,
		_baseValues: null,
		_autoPlaySequenceId: 0,
		_rootNode: null,
		_owner: null,
		_rootContainerSize: null,
		_delegate: null,
		_runningSequence: null,
		_documentOutletNames: null,
		_documentOutletNodes: null,
		_documentCallbackNames: null,
		_documentCallbackNodes: null,
		_documentCallbackControlEvents: null,
		_documentControllerName: "",
		_lastCompletedSequenceName: "",
		_keyframeCallbacks: null,
		_keyframeCallFuncs: null,
		_animationCompleteCallbackFunc: null,
		_target: null,
		_jsControlled: !1,
		ctor: function() {
			this._rootContainerSize = cc.size(0, 0);
			this.init()
		},
		init: function() {
			this._sequences = [];
			this._nodeSequences = new cc._Dictionary;
			this._baseValues = new cc._Dictionary;
			this._documentOutletNames = [];
			this._documentOutletNodes = [];
			this._documentCallbackNames = [];
			this._documentCallbackNodes = [];
			this._documentCallbackControlEvents = [];
			this._keyframeCallbacks = [];
			this._keyframeCallFuncs = {};
			return !0
		},
		getSequences: function() {
			return this._sequences
		},
		setSequences: function(a) {
			this._sequences = a
		},
		getAutoPlaySequenceId: function() {
			return this._autoPlaySequenceId
		},
		setAutoPlaySequenceId: function(a) {
			this._autoPlaySequenceId = a
		},
		getRootNode: function() {
			return this._rootNode
		},
		setRootNode: function(a) {
			this._rootNode = a
		},
		getOwner: function() {
			return this._owner
		},
		setOwner: function(a) {
			this._owner = a
		},
		addDocumentCallbackNode: function(a) {
			this._documentCallbackNodes.push(a)
		},
		addDocumentCallbackName: function(a) {
			this._documentCallbackNames.push(a)
		},
		addDocumentCallbackControlEvents: function(a) {
			this._documentCallbackControlEvents.push(a)
		},
		addDocumentOutletNode: function(a) {
			this._documentOutletNodes.push(a)
		},
		addDocumentOutletName: function(a) {
			this._documentOutletNames.push(a)
		},
		setDocumentControllerName: function(a) {
			this._documentControllerName = a
		},
		getDocumentControllerName: function() {
			return this._documentControllerName
		},
		getDocumentCallbackNames: function() {
			return this._documentCallbackNames
		},
		getDocumentCallbackNodes: function() {
			return this._documentCallbackNodes
		},
		getDocumentCallbackControlEvents: function() {
			return this._documentCallbackControlEvents
		},
		getDocumentOutletNames: function() {
			return this._documentOutletNames
		},
		getDocumentOutletNodes: function() {
			return this._documentOutletNodes
		},
		getLastCompletedSequenceName: function() {
			return this._lastCompletedSequenceName
		},
		getKeyframeCallbacks: function() {
			return this._keyframeCallbacks
		},
		getRootContainerSize: function() {
			return this._rootContainerSize
		},
		setRootContainerSize: function(a) {
			this._rootContainerSize = cc.size(a.width,
				a.height)
		},
		getDelegate: function() {
			return this._delegate
		},
		setDelegate: function(a) {
			this._delegate = a
		},
		getRunningSequenceName: function() {
			return this._runningSequence ? this._runningSequence.getName() : null
		},
		getContainerSize: function(a) {
			return a ? a.getContentSize() : this._rootContainerSize
		},
		addNode: function(a, c) {
			this._nodeSequences.setObject(c, a)
		},
		setBaseValue: function(a, c, d) {
			var e = this._baseValues.objectForKey(c);
			e || (e = new cc._Dictionary, this._baseValues.setObject(e, c));
			e.setObject(a, d)
		},
		moveAnimationsFromNode: function(a,
			c) {
			var d = this._baseValues,
				e = d.objectForKey(a);
			null !== e && (d.setObject(e, c), d.removeObjectForKey(a));
			d = this._nodeSequences;
			e = d.objectForKey(a);
			null != e && (d.setObject(e, c), d.removeObjectForKey(a))
		},
		getActionForCallbackChannel: function(a) {
			var c = 0,
				d = [];
			a = a.getKeyframes();
			for (var e = a.length, f = 0; f < e; ++f) {
				var g = a[f],
					h = g.getTime() - c,
					c = g.getTime();
				0 < h && d.push(cc.delayTime(h));
				h = g.getValue();
				g = h[0];
				h = h[1];
				if (this._jsControlled) g = this._keyframeCallFuncs[h + ":" + g], null != g && d.push(g);
				else {
					var k;
					h === CCB_TARGETTYPE_DOCUMENTROOT ?
						k = this._rootNode : h === CCB_TARGETTYPE_OWNER && (k = this._owner);
					null != k && (0 < g.length ? (h = 0, null != k.onResolveCCBCCCallFuncSelector && (h = k.onResolveCCBCCCallFuncSelector(k, g)), 0 === h ? cc.log("Skipping selector '" + g + "' since no CCBSelectorResolver is present.") : d.push(cc.callFunc(h, k))) : cc.log("Unexpected empty selector."))
				}
			}
			return 1 > d.length ? null : cc.sequence(d)
		},
		getActionForSoundChannel: function(a) {
			var c = 0,
				d = [];
			a = a.getKeyframes();
			for (var e = a.length, f = 0; f < e; ++f) {
				var g = a[f],
					h = g.getTime() - c,
					c = g.getTime();
				0 < h &&
					d.push(cc.delayTime(h));
				var k = g.getValue(),
					g = cc.BuilderReader.getResourcePath() + k[0],
					h = parseFloat(k[1]),
					m = parseFloat(k[2]),
					k = parseFloat(k[3]);
				d.push(cc.BuilderSoundEffect.create(g, h, m, k))
			}
			return 1 > d.length ? null : cc.sequence(d)
		},
		runAnimationsForSequenceNamed: function(a) {
			this.runAnimationsForSequenceIdTweenDuration(this._getSequenceId(a), 0)
		},
		runAnimationsForSequenceNamedTweenDuration: function(a, c) {
			this.runAnimationsForSequenceIdTweenDuration(this._getSequenceId(a), c)
		},
		runAnimationsForSequenceIdTweenDuration: function(a,
			c) {
			if (-1 === a) throw Error("cc.BuilderAnimationManager.runAnimationsForSequenceIdTweenDuration(): Sequence id should not be -1");
			c = c || 0;
			this._rootNode.stopAllActions();
			for (var d = this._nodeSequences.allKeys(), e = 0, f = d.length; e < f; e++) {
				var g = d[e];
				g.stopAllActions();
				var h = this._nodeSequences.objectForKey(g).objectForKey(a),
					k, m = [];
				if (h) {
					var n = h.allKeys();
					for (k = 0; k < n.length; k++) {
						var p = n[k],
							r = h.objectForKey(p);
						m.push(p);
						this._setFirstFrame(g, r, c);
						this._runAction(g, r, c)
					}
				}
				if (h = this._baseValues.objectForKey(g))
					for (n =
						h.allKeys(), k = 0; k < n.length; k++) p = n[k], -1 === m.indexOf(p) && (r = h.objectForKey(p), null != r && this._setAnimatedProperty(p, g, r, c))
			}
			d = this._getSequence(a);
			e = cc.sequence(cc.delayTime(d.getDuration() + c), cc.callFunc(this._sequenceCompleted, this));
			this._rootNode.runAction(e);
			d.getCallbackChannel() && (e = this.getActionForCallbackChannel(d.getCallbackChannel())) && this._rootNode.runAction(e);
			d.getSoundChannel() && (e = this.getActionForSoundChannel(d.getSoundChannel())) && this._rootNode.runAction(e);
			this._runningSequence =
				this._getSequence(a)
		},
		runAnimations: function(a, c) {
			c = c || 0;
			var d;
			d = cc.isString(a) ? this._getSequenceId(a) : a;
			this.runAnimationsForSequenceIdTweenDuration(d, c)
		},
		setAnimationCompletedCallback: function(a, c) {
			this._target = a;
			this._animationCompleteCallbackFunc = c
		},
		setCompletedAnimationCallback: function(a, c) {
			this.setAnimationCompletedCallback(a, c)
		},
		setCallFunc: function(a, c) {
			this._keyframeCallFuncs[c] = a
		},
		debug: function() {},
		_getBaseValue: function(a, c) {
			var d = this._baseValues.objectForKey(a);
			return d ? d.objectForKey(c) :
				null
		},
		_getSequenceId: function(a) {
			for (var c = null, d = this._sequences, e = 0, f = d.length; e < f; e++)
				if ((c = d[e]) && c.getName() === a) return c.getSequenceId();
			return -1
		},
		_getSequence: function(a) {
			for (var c = null, d = this._sequences, e = 0, f = d.length; e < f; e++)
				if ((c = d[e]) && c.getSequenceId() === a) return c;
			return null
		},
		_getAction: function(a, c, d, e) {
			a = c.getTime() - (a ? a.getTime() : 0);
			var f, g;
			if ("rotation" === d) return cc.BuilderRotateTo.create(a, c.getValue());
			if ("rotationX" === d) return cc.BuilderRotateXTo.create(a, c.getValue());
			if ("rotationY" ===
				d) return cc.BuilderRotateYTo.create(a, c.getValue());
			if ("opacity" === d) return cc.fadeTo(a, c.getValue());
			if ("color" === d) return d = c.getValue(), cc.tintTo(a, d.r, d.g, d.b);
			if ("visible" === d) return c.getValue() ? cc.sequence(cc.delayTime(a), cc.show()) : cc.sequence(cc.delayTime(a), cc.hide());
			if ("displayFrame" === d) return cc.sequence(cc.delayTime(a), cc.BuilderSetSpriteFrame.create(c.getValue()));
			if ("position" === d) return f = this._getBaseValue(e, d), f = f[2], g = c.getValue(), c = g[0], g = g[1], e = this.getContainerSize(e.getParent()),
				d = cc.getAbsolutePosition(c, g, f, e, d), cc.moveTo(a, d);
			if ("scale" === d) return f = this._getBaseValue(e, d), f = f[2], g = c.getValue(), c = g[0], g = g[1], f === CCB_SCALETYPE_MULTIPLY_RESOLUTION && (d = cc.BuilderReader.getResolutionScale(), c *= d, g *= d), cc.scaleTo(a, c, g);
			if ("skew" === d) return g = c.getValue(), c = g[0], g = g[1], cc.skewTo(a, c, g);
			cc.log("BuilderReader: Failed to create animation for property: " + d);
			return null
		},
		_setAnimatedProperty: function(b, c, d, e) {
			if (0 < e) {
				var f = new cc.BuilderKeyframe;
				f.setValue(d);
				f.setTime(e);
				f.setEasingType(CCB_KEYFRAME_EASING_LINEAR);
				b = this._getAction(null, f, b, c);
				c.runAction(b)
			} else {
				if ("position" === b) e = this._getBaseValue(c, b), e = e[2], f = d[0], d = d[1], cc.getAbsolutePosition(f, d, e, this.getContainerSize(c.getParent()), b, a), c._position.x = a.x, c._position.y = a.y;
				else if ("scale" === b) e = this._getBaseValue(c, b), e = e[2], f = d[0], d = d[1], cc.setRelativeScale(c, f, d, e, b);
				else if ("skew" === b) f = d[0], d = d[1], c._skewX = f, c._skewY = d;
				else if ("rotation" === b) c.setRotation(d);
				else if ("rotationX" === b) c._rotationX = d;
				else if ("rotationY" === b) c._rotationY = d;
				else if ("opacity" ===
					b) c._realOpacity = d;
				else if ("displayFrame" === b) c.setSpriteFrame(d);
				else if ("color" === b) 255 === d.r && 255 === d.g && 255 === d.b || c.setColor(d);
				else if ("visible" === b) c.setVisible(d || !1);
				else {
					cc.log("unsupported property name is " + b);
					return
				}
				c.setNodeDirty()
			}
		},
		_setFirstFrame: function(a, c, d) {
			var e = c.getKeyframes();
			0 === e.length ? ((e = this._getBaseValue(a, c.getName())) || cc.log("cc.BuilderAnimationManager._setFirstFrame(): No baseValue found for property"), this._setAnimatedProperty(c.getName(), a, e, d)) : (e = e[0], this._setAnimatedProperty(c.getName(),
				a, e.getValue(), d))
		},
		_getEaseAction: function(a, c, d) {
			if (c === CCB_KEYFRAME_EASING_LINEAR || c === CCB_KEYFRAME_EASING_INSTANT) return a;
			if (c === CCB_KEYFRAME_EASING_CUBIC_IN) return a.easing(cc.easeIn(d));
			if (c === CCB_KEYFRAME_EASING_CUBIC_OUT) return a.easing(cc.easeOut(d));
			if (c === CCB_KEYFRAME_EASING_CUBIC_INOUT) return a.easing(cc.easeInOut(d));
			if (c === CCB_KEYFRAME_EASING_BACK_IN) return a.easing(cc.easeBackIn());
			if (c === CCB_KEYFRAME_EASING_BACK_OUT) return a.easing(cc.easeBackOut());
			if (c === CCB_KEYFRAME_EASING_BACK_INOUT) return a.easing(cc.easeBackInOut());
			if (c === CCB_KEYFRAME_EASING_BOUNCE_IN) return a.easing(cc.easeBounceIn());
			if (c === CCB_KEYFRAME_EASING_BOUNCE_OUT) return a.easing(cc.easeBounceOut());
			if (c === CCB_KEYFRAME_EASING_BOUNCE_INOUT) return a.easing(cc.easeBounceInOut());
			if (c === CCB_KEYFRAME_EASING_ELASTIC_IN) return a.easing(cc.easeElasticIn(d));
			if (c === CCB_KEYFRAME_EASING_ELASTIC_OUT) return a.easing(cc.easeElasticOut(d));
			if (c === CCB_KEYFRAME_EASING_ELASTIC_INOUT) return a.easing(cc.easeElasticInOut(d));
			cc.log("BuilderReader: Unknown easing type " +
				c);
			return a
		},
		_runAction: function(a, c, d) {
			var e = c.getKeyframes(),
				f = e.length;
			if (1 < f) {
				var g = [];
				d = e[0].getTime() + d;
				0 < d && g.push(cc.delayTime(d));
				for (d = 0; d < f - 1; ++d) {
					var h = e[d],
						k = this._getAction(h, e[d + 1], c.getName(), a);
					k && (k = this._getEaseAction(k, h.getEasingType(), h.getEasingOpt()), g.push(k))
				}
				a.runAction(cc.sequence(g))
			}
		},
		_sequenceCompleted: function() {
			var a = this._runningSequence,
				c = a.getName();
			this._lastCompletedSequenceName != a.getName() && (this._lastCompletedSequenceName = a.getName());
			a = a.getChainedSequenceId();
			this._runningSequence = null; - 1 !== a && this.runAnimations(a, 0);
			this._delegate && this._delegate.completedAnimationSequenceNamed(c);
			this._target && this._animationCompleteCallbackFunc && this._animationCompleteCallbackFunc.call(this._target)
		}
	});
	cc.BuilderSetSpriteFrame = cc.ActionInstant.extend({
		_spriteFrame: null,
		initWithSpriteFrame: function(a) {
			this._spriteFrame = a;
			return !0
		},
		update: function(a) {
			this.target.setSpriteFrame(this._spriteFrame)
		}
	});
	cc.BuilderSetSpriteFrame.create = function(a) {
		var c = new cc.BuilderSetSpriteFrame;
		return c && c.initWithSpriteFrame(a) ? c : null
	};
	cc.BuilderRotateTo = cc.ActionInterval.extend({
		_startAngle: 0,
		_dstAngle: 0,
		_diffAngle: 0,
		initWithDuration: function(a, c) {
			return cc.ActionInterval.prototype.initWithDuration.call(this, a) ? (this._dstAngle = c, !0) : !1
		},
		update: function(a) {
			this.target.setRotation(this._startAngle + this._diffAngle * a)
		},
		startWithTarget: function(a) {
			cc.ActionInterval.prototype.startWithTarget.call(this, a);
			this._startAngle = this.target.getRotation();
			this._diffAngle = this._dstAngle - this._startAngle
		}
	});
	cc.BuilderRotateTo.create = function(a, c) {
		var d = new cc.BuilderRotateTo;
		return d && d.initWithDuration(a, c) ? d : null
	};
	cc.BuilderRotateXTo = cc.ActionInterval.extend({});
	cc.BuilderRotateXTo.create = function(a, c) {
		throw Error("rotationX has not been implemented in cocos2d-html5");
	};
	cc.BuilderRotateYTo = cc.ActionInterval.extend({});
	cc.BuilderRotateYTo.create = function(a, c) {
		throw Error("rotationY has not been implemented in cocos2d-html5");
	};
	cc.BuilderSoundEffect = cc.ActionInstant.extend({
		init: function(a) {
			this._file =
				a;
			return !0
		},
		update: function(a) {
			cc.audioEngine.playEffect(this._file)
		}
	});
	cc.BuilderSoundEffect.create = function(a, c, d, e) {
		return (c = new cc.BuilderSoundEffect) && c.init(a) ? c : null
	}
})();
cc.KEYBOARD_RETURNTYPE_DEFAULT = 0;
cc.KEYBOARD_RETURNTYPE_DONE = 1;
cc.KEYBOARD_RETURNTYPE_SEND = 2;
cc.KEYBOARD_RETURNTYPE_SEARCH = 3;
cc.KEYBOARD_RETURNTYPE_GO = 4;
cc.EDITBOX_INPUT_MODE_ANY = 0;
cc.EDITBOX_INPUT_MODE_EMAILADDR = 1;
cc.EDITBOX_INPUT_MODE_NUMERIC = 2;
cc.EDITBOX_INPUT_MODE_PHONENUMBER = 3;
cc.EDITBOX_INPUT_MODE_URL = 4;
cc.EDITBOX_INPUT_MODE_DECIMAL = 5;
cc.EDITBOX_INPUT_MODE_SINGLELINE = 6;
cc.EDITBOX_INPUT_FLAG_PASSWORD = 0;
cc.EDITBOX_INPUT_FLAG_SENSITIVE = 1;
cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_WORD = 2;
cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_SENTENCE = 3;
cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_ALL_CHARACTERS = 4;
cc.EditBoxDelegate = cc.Class.extend({
	editBoxEditingDidBegin: function(a) {},
	editBoxEditingDidEnd: function(a) {},
	editBoxTextChanged: function(a, b) {},
	editBoxReturn: function(a) {}
});
cc.EditBox = cc.Node.extend({
	_backgroundSprite: null,
	_delegate: null,
	_editBoxInputMode: cc.EDITBOX_INPUT_MODE_ANY,
	_editBoxInputFlag: cc.EDITBOX_INPUT_FLAG_SENSITIVE,
	_keyboardReturnType: cc.KEYBOARD_RETURNTYPE_DEFAULT,
	_maxLength: 50,
	_text: "",
	_textColor: null,
	_placeholderText: "",
	_placeholderFontName: "",
	_placeholderFontSize: 14,
	_placeholderColor: null,
	_className: "EditBox",
	_touchListener: null,
	_touchEnabled: !0,
	ctor: function(a, b) {
		cc.Node.prototype.ctor.call(this);
		this._anchorPoint = cc.p(0.5, 0.5);
		this._textColor = cc.color.WHITE;
		this._placeholderColor = cc.color.GRAY;
		this._renderCmd._createLabels();
		this.createDomElementIfNeeded();
		this.initWithSizeAndBackgroundSprite(a, b);
		this._touchListener = cc.EventListener.create({
			event: cc.EventListener.TOUCH_ONE_BY_ONE,
			swallowTouches: !0,
			onTouchBegan: this._onTouchBegan.bind(this),
			onTouchEnded: this._onTouchEnded.bind(this)
		});
		cc.eventManager.addListener(this._touchListener, this);
		this.setInputFlag(this._editBoxInputFlag)
	},
	setTouchEnabled: function(a) {
		this._touchEnabled !== a && ((this._touchEnabled =
			a) ? cc.eventManager.addListener(this._touchListener, this) : cc.eventManager.removeListener(this._touchListener))
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.EditBox.CanvasRenderCmd(this) : new cc.EditBox.WebGLRenderCmd(this)
	},
	setContentSize: function(a, b) {
		void 0 !== a.width && void 0 !== a.height && (b = a.height, a = a.width);
		cc.Node.prototype.setContentSize.call(this, a, b);
		this._updateEditBoxSize(a, b)
	},
	setVisible: function(a) {
		cc.Node.prototype.setVisible.call(this, a);
		this._renderCmd.updateVisibility()
	},
	createDomElementIfNeeded: function() {
		this._renderCmd._edTxt || this._renderCmd._createDomTextArea()
	},
	setTabIndex: function(a) {
		this._renderCmd._edTxt && (this._renderCmd._edTxt.tabIndex = a)
	},
	getTabIndex: function() {
		if (this._renderCmd._edTxt) return this._renderCmd._edTxt.tabIndex;
		cc.warn("The dom control is not created!");
		return -1
	},
	setFocus: function() {
		this._renderCmd._edTxt && this._renderCmd._edTxt.focus()
	},
	isFocused: function() {
		if (this._renderCmd._edTxt) return document.activeElement === this._renderCmd._edTxt;
		cc.warn("The dom control is not created!");
		return !1
	},
	stayOnTop: function(a) {
		this._alwaysOnTop !== a && (this._alwaysOnTop = a, this._renderCmd.stayOnTop(this._alwaysOnTop))
	},
	cleanup: function() {
		this._super();
		this._renderCmd._removeDomFromGameContainer()
	},
	_isAncestorsVisible: function(a) {
		return null == a ? !0 : (a = a.getParent()) && !a.isVisible() ? !1 : this._isAncestorsVisible(a)
	},
	_onTouchBegan: function(a) {
		if (this.isVisible() && this._isAncestorsVisible(this)) {
			a = a.getLocation();
			var b = cc.rect(0, 0, this._contentSize.width,
				this._contentSize.height);
			if (cc.rectContainsPoint(b, this.convertToNodeSpace(a))) return !0;
			this._renderCmd._endEditing();
			return !1
		}
	},
	_onTouchEnded: function() {
		this.isVisible() && this._isAncestorsVisible(this) && this._renderCmd._beginEditing()
	},
	_updateBackgroundSpriteSize: function(a, b) {
		this._backgroundSprite && this._backgroundSprite.setContentSize(a, b)
	},
	_updateEditBoxSize: function(a, b) {
		var c = "number" === typeof a.width ? a.width : a,
			d = "number" === typeof a.height ? a.height : b;
		this._updateBackgroundSpriteSize(c, d);
		this._renderCmd.updateSize(c, d)
	},
	setLineHeight: function(a) {
		this._renderCmd.setLineHeight(a)
	},
	setFont: function(a, b) {
		this._renderCmd.setFont(a, b)
	},
	_setFont: function(a) {
		this._renderCmd._setFont(a)
	},
	getBackgroundSprite: function() {
		return this._backgroundSprite
	},
	setFontName: function(a) {
		this._renderCmd.setFontName(a)
	},
	setFontSize: function(a) {
		this._renderCmd.setFontSize(a)
	},
	setString: function(a) {
		a.length >= this._maxLength && (a = a.slice(0, this._maxLength));
		this._text = a;
		this._renderCmd.setString(a)
	},
	setFontColor: function(a) {
		this._textColor =
			a;
		this._renderCmd.setFontColor(a)
	},
	setMaxLength: function(a) {
		isNaN(a) || (0 > a && (a = 65535), this._maxLength = a, this._renderCmd.setMaxLength(a))
	},
	getMaxLength: function() {
		return this._maxLength
	},
	setPlaceHolder: function(a) {
		null !== a && (this._renderCmd.setPlaceHolder(a), this._placeholderText = a)
	},
	setPlaceholderFont: function(a, b) {
		this._placeholderFontName = a;
		this._placeholderFontSize = b;
		this._renderCmd._updateDOMPlaceholderFontStyle()
	},
	_setPlaceholderFont: function(a) {
		if (a = cc.LabelTTF._fontStyleRE.exec(a)) this._placeholderFontName =
			a[2], this._placeholderFontSize = parseInt(a[1]), this._renderCmd._updateDOMPlaceholderFontStyle()
	},
	setPlaceholderFontName: function(a) {
		this._placeholderFontName = a;
		this._renderCmd._updateDOMPlaceholderFontStyle()
	},
	setPlaceholderFontSize: function(a) {
		this._placeholderFontSize = a;
		this._renderCmd._updateDOMPlaceholderFontStyle()
	},
	setPlaceholderFontColor: function(a) {
		this._placeholderColor = a;
		this._renderCmd.setPlaceholderFontColor(a)
	},
	setInputFlag: function(a) {
		this._editBoxInputFlag = a;
		this._renderCmd.setInputFlag(a)
	},
	getString: function() {
		return this._text
	},
	initWithSizeAndBackgroundSprite: function(a, b) {
		this._backgroundSprite && this._backgroundSprite.removeFromParent();
		this._backgroundSprite = b;
		this.setContentSize(a);
		this._backgroundSprite && !this._backgroundSprite.parent && (this._backgroundSprite.setAnchorPoint(cc.p(0, 0)), this.addChild(this._backgroundSprite), this._updateBackgroundSpriteSize(a.width, a.height));
		this.y = this.x = 0;
		return !0
	},
	setDelegate: function(a) {
		this._delegate = a
	},
	getPlaceHolder: function() {
		return this._placeholderText
	},
	setInputMode: function(a) {
		if (this._editBoxInputMode !== a) {
			var b = this.getString();
			this._editBoxInputMode = a;
			this._renderCmd.setInputMode(a);
			this._renderCmd.transform();
			this.setString(b);
			this._renderCmd._updateLabelPosition(this.getContentSize())
		}
	},
	setReturnType: function(a) {
		this._keyboardReturnType = a;
		this._renderCmd._updateDomInputType()
	},
	initWithBackgroundColor: function(a, b) {
		this._edWidth = a.width;
		this.dom.style.width = this._edWidth.toString() + "px";
		this._edHeight = a.height;
		this.dom.style.height = this._edHeight.toString() +
			"px";
		this.dom.style.backgroundColor = cc.colorToHex(b)
	}
});
_p = cc.EditBox.prototype;
cc.defineGetterSetter(_p, "font", null, _p._setFont);
cc.defineGetterSetter(_p, "fontName", null, _p.setFontName);
cc.defineGetterSetter(_p, "fontSize", null, _p.setFontSize);
cc.defineGetterSetter(_p, "fontColor", null, _p.setFontColor);
cc.defineGetterSetter(_p, "string", _p.getString, _p.setString);
cc.defineGetterSetter(_p, "maxLength", _p.getMaxLength, _p.setMaxLength);
cc.defineGetterSetter(_p, "placeholder", _p.getPlaceHolder, _p.setPlaceHolder);
cc.defineGetterSetter(_p, "placeholderFont", null, _p._setPlaceholderFont);
cc.defineGetterSetter(_p, "placeholderFontName", null, _p.setPlaceholderFontName);
cc.defineGetterSetter(_p, "placeholderFontSize", null, _p.setPlaceholderFontSize);
cc.defineGetterSetter(_p, "placeholderFontColor", null, _p.setPlaceholderFontColor);
cc.defineGetterSetter(_p, "inputFlag", null, _p.setInputFlag);
cc.defineGetterSetter(_p, "delegate", null, _p.setDelegate);
cc.defineGetterSetter(_p, "inputMode", null, _p.setInputMode);
cc.defineGetterSetter(_p, "returnType", null, _p.setReturnType);
_p = null;
cc.EditBox.create = function(a, b, c, d) {
	return new cc.EditBox(a, b, c, d)
};
(function(a) {
	a._polyfill = {
		zoomInvalid: !1
	};
	cc.sys.OS_ANDROID !== cc.sys.os || cc.sys.browserType !== cc.sys.BROWSER_TYPE_SOUGOU && cc.sys.browserType !== cc.sys.BROWSER_TYPE_360 || (a._polyfill.zoomInvalid = !0)
})(cc.EditBox);
(function(a) {
	function b(a) {
		var b = a.convertToWorldSpace(cc.p(0, 0)),
			e = cc.visibleRect.height,
			f = 0.5;
		cc.visibleRect.width > e && (f = 0.7);
		setTimeout(function() {
			if (window.scrollY < c && b.y < e * f) {
				var a = e * f - b.y - window.scrollY;
				35 > a && (a = 35);
				320 < a && (a = 320);
				window.scrollTo(a, a)
			}
		}, d)
	}
	var c = 40,
		d = 400,
		e = function(a) {
			return a.replace(/(?:^|\s)\S/g, function(a) {
				return a.toUpperCase()
			})
		},
		f = function() {}.prototype = Object.create(Object.prototype);
	f.updateMatrix = function() {
		if (this._edTxt) {
			var b = this._node,
				c = cc.view._scaleX,
				d = cc.view._scaleY,
				e = cc.view._devicePixelRatio,
				f = this._worldTransform,
				c = c / e,
				d = d / e,
				g = cc.game.container,
				e = f.a * c,
				t = f.b,
				u = f.c,
				s = f.d * d,
				w = g && g.style.paddingLeft && parseInt(g.style.paddingLeft),
				g = g && g.style.paddingBottom && parseInt(g.style.paddingBottom),
				c = f.tx * c + w,
				d = f.ty * d + g;
			a.zoomInvalid && (this.updateSize(b._contentSize.width * e, b._contentSize.height * s), s = e = 1);
			b = "matrix(" + e + "," + -t + "," + -u + "," + s + "," + c + "," + -d + ")";
			this._edTxt.style.transform = b;
			this._edTxt.style["-webkit-transform"] = b;
			this._edTxt.style["transform-origin"] = "0px 100% 0px";
			this._edTxt.style["-webkit-transform-origin"] = "0px 100% 0px"
		}
	};
	f.updateVisibility = function() {
		this._edTxt && (this._edTxt.style.visibility = this._node.visible ? "visible" : "hidden")
	};
	f.stayOnTop = function(a) {
		a ? (this._removeLabels(), this._edTxt.style.display = "") : (this._createLabels(), this._edTxt.style.display = "none", this._showLabels())
	};
	f._beginEditingOnMobile = function(a) {
		this.__orientationChanged = function() {
			b(a)
		};
		window.addEventListener("orientationchange", this.__orientationChanged);
		cc.view.isAutoFullScreenEnabled() ?
			(this.__fullscreen = !0, cc.view.enableAutoFullScreen(!1), cc.screen.exitFullScreen()) : this.__fullscreen = !1;
		this.__autoResize = cc.view.__resizeWithBrowserSize;
		cc.view.resizeWithBrowserSize(!1)
	};
	f._endEditingOnMobile = function() {
		if (this.__rotateScreen) {
			var a = cc.game.container.style;
			a["-webkit-transform"] = "rotate(90deg)";
			a.transform = "rotate(90deg)";
			var a = cc.view,
				b = a._originalDesignResolutionSize.width,
				c = a._originalDesignResolutionSize.height;
			0 < b && a.setDesignResolutionSize(b, c, a._resolutionPolicy);
			this.__rotateScreen = !1
		}
		window.removeEventListener("orientationchange", this.__orientationChanged);
		window.scrollTo(0, 0);
		this.__fullscreen && cc.view.enableAutoFullScreen(!0);
		this.__autoResize && cc.view.resizeWithBrowserSize(!0)
	};
	f._onFocusOnMobile = function(a) {
		if (cc.view._isRotated) {
			var c = cc.game.container.style;
			c["-webkit-transform"] = "rotate(0deg)";
			c.transform = "rotate(0deg)";
			c.margin = "0px";
			window.scrollTo(35, 35);
			this.__rotateScreen = !0
		} else this.__rotateScreen = !1;
		b(a)
	};
	f._createDomInput = function() {
		this._removeDomFromGameContainer();
		var a = this,
			b = this._edTxt = document.createElement("input");
		b.type = "text";
		b.style.fontFamily = this._edFontName;
		b.style.fontSize = this._edFontSize + "px";
		b.style.color = "#000000";
		b.style.border = 0;
		b.style.background = "transparent";
		b.style.width = "100%";
		b.style.height = "100%";
		b.style.active = 0;
		b.style.outline = "medium";
		b.style.padding = "0";
		b.style.textTransform = "uppercase";
		b.style.display = "none";
		b.style.position = "absolute";
		b.style.bottom = "0px";
		b.style.left = "2px";
		b.style.className = "cocosEditBox";
		this.setMaxLength(a._editBox._maxLength);
		b.addEventListener("input", function() {
			var b = a._editBox;
			this.value.length > this.maxLength && (this.value = this.value.slice(0, this.maxLength));
			b._delegate && b._delegate.editBoxTextChanged && b._text !== this.value && (b._text = this.value, a._updateDomTextCases(), b._delegate.editBoxTextChanged(b, b._text))
		});
		b.addEventListener("keypress", function(b) {
			var c = a._editBox;
			b.keyCode === cc.KEY.enter && (b.stopPropagation(), b.preventDefault(), "" === this.value && (this.style.fontSize = c._placeholderFontSize + "px", this.style.color =
				cc.colorToHex(c._placeholderColor)), c._text = this.value, a._updateDomTextCases(), a._endEditing(), c._delegate && c._delegate.editBoxReturn && c._delegate.editBoxReturn(c), cc._canvas.focus())
		});
		b.addEventListener("focus", function() {
			var b = a._editBox;
			this.style.fontSize = a._edFontSize + "px";
			this.style.color = cc.colorToHex(b._textColor);
			a._hiddenLabels();
			cc.sys.isMobile && a._onFocusOnMobile(b);
			b._delegate && b._delegate.editBoxEditingDidBegin && b._delegate.editBoxEditingDidBegin(b)
		});
		b.addEventListener("blur", function() {
			var b =
				a._editBox;
			b._text = this.value;
			a._updateDomTextCases();
			b._delegate && b._delegate.editBoxEditingDidEnd && b._delegate.editBoxEditingDidEnd(b);
			"" === this.value && (this.style.fontSize = b._placeholderFontSize + "px", this.style.color = cc.colorToHex(b._placeholderColor));
			a._endEditing()
		});
		this._addDomToGameContainer();
		return b
	};
	f._createDomTextArea = function() {
		this._removeDomFromGameContainer();
		var a = this,
			b = this._edTxt = document.createElement("textarea");
		b.type = "text";
		b.style.fontFamily = this._edFontName;
		b.style.fontSize =
			this._edFontSize + "px";
		b.style.color = "#000000";
		b.style.border = 0;
		b.style.background = "transparent";
		b.style.width = "100%";
		b.style.height = "100%";
		b.style.active = 0;
		b.style.outline = "medium";
		b.style.padding = "0";
		b.style.resize = "none";
		b.style.textTransform = "uppercase";
		b.style.overflow_y = "scroll";
		b.style.display = "none";
		b.style.position = "absolute";
		b.style.bottom = "0px";
		b.style.left = "2px";
		b.style.className = "cocosEditBox";
		this.setMaxLength(a._editBox._maxLength);
		b.addEventListener("input", function() {
			this.value.length >
				this.maxLength && (this.value = this.value.slice(0, this.maxLength));
			var b = a._editBox;
			b._delegate && b._delegate.editBoxTextChanged && b._text.toLowerCase() !== this.value.toLowerCase() && (b._text = this.value, a._updateDomTextCases(), b._delegate.editBoxTextChanged(b, b._text))
		});
		b.addEventListener("focus", function() {
			var b = a._editBox;
			a._hiddenLabels();
			this.style.fontSize = a._edFontSize + "px";
			this.style.color = cc.colorToHex(b._textColor);
			cc.sys.isMobile && a._onFocusOnMobile(b);
			b._delegate && b._delegate.editBoxEditingDidBegin &&
				b._delegate.editBoxEditingDidBegin(b)
		});
		b.addEventListener("keypress", function(b) {
			var c = a._editBox;
			b.keyCode === cc.KEY.enter && (b.stopPropagation(), c._delegate && c._delegate.editBoxReturn && c._delegate.editBoxReturn(c))
		});
		b.addEventListener("blur", function() {
			var b = a._editBox;
			b._text = this.value;
			a._updateDomTextCases();
			b._delegate && b._delegate.editBoxEditingDidEnd && b._delegate.editBoxEditingDidEnd(b);
			"" === this.value && (this.style.fontSize = b._placeholderFontSize + "px", this.style.color = cc.colorToHex(b._placeholderColor));
			a._endEditing()
		});
		this._addDomToGameContainer();
		return b
	};
	f._createLabels = function() {
		var a = this._editBox.getContentSize();
		this._textLabel || (this._textLabel = new cc.LabelTTF, this._textLabel.setAnchorPoint(cc.p(0, 1)), this._editBox.addChild(this._textLabel, 100));
		this._placeholderLabel || (this._placeholderLabel = new cc.LabelTTF, this._placeholderLabel.setAnchorPoint(cc.p(0, 1)), this._placeholderLabel.setColor(cc.color.GRAY), this._editBox.addChild(this._placeholderLabel, 100));
		this._updateLabelPosition(a)
	};
	f._removeLabels = function() {
		this._textLabel && (this._editBox.removeChild(this._textLabel), this._textLabel = null)
	};
	f._updateLabelPosition = function(a) {
		if (this._textLabel && this._placeholderLabel) {
			var b = cc.size(a.width - 2, a.height);
			this._textLabel.setContentSize(b);
			this._textLabel.setDimensions(b);
			this._placeholderLabel.setLineHeight(a.height);
			b = this._placeholderLabel.getContentSize();
			this._editBox._editBoxInputMode === cc.EDITBOX_INPUT_MODE_ANY ? (this._textLabel.setPosition(2, a.height), this._placeholderLabel.setPosition(2,
				a.height), this._placeholderLabel.setVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_TOP), this._textLabel.setVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_TOP)) : (this._textLabel.setPosition(2, a.height), this._placeholderLabel.setPosition(2, (a.height + b.height) / 2), this._placeholderLabel.setVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER), this._textLabel.setVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER))
		}
	};
	f.setLineHeight = function(a) {
		this._textLabel && this._textLabel.setLineHeight(a)
	};
	f._hiddenLabels =
		function() {
			this._textLabel && this._textLabel.setVisible(!1);
			this._placeholderLabel && this._placeholderLabel.setVisible(!1)
		};
	f._updateDomTextCases = function() {
		var a = this._editBox._editBoxInputFlag;
		if (a === cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_ALL_CHARACTERS) this._editBox._text = this._editBox._text.toUpperCase();
		else if (a === cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_WORD) this._editBox._text = e(this._editBox._text);
		else if (a === cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_SENTENCE) {
			var a = this._editBox,
				b;
			b = this._editBox._text;
			b =
				b.charAt(0).toUpperCase() + b.slice(1);
			a._text = b
		}
	};
	f._updateLabelStringStyle = function() {
		if ("password" === this._edTxt.type) {
			for (var a = "", b = this._editBox._text.length, c = 0; c < b; ++c) a += "\u25cf";
			this._textLabel && this._textLabel.setString(a)
		} else this._updateDomTextCases(), this._textLabel && this._textLabel.setString(this._editBox._text)
	};
	f._showLabels = function() {
		this._hiddenLabels();
		"" === this._edTxt.value ? this._placeholderLabel && (this._placeholderLabel.setVisible(!0), this._placeholderLabel.setString(this._editBox._placeholderText)) :
			this._textLabel && (this._textLabel.setVisible(!0), this._textLabel.setString(this._editBox._text));
		this._updateLabelStringStyle()
	};
	f._beginEditing = function() {
		this._editBox._alwaysOnTop || "none" !== this._edTxt.style.display || (this._edTxt.style.display = "", this._edTxt.focus());
		cc.sys.isMobile && !this._editingMode && this._beginEditingOnMobile(this._editBox);
		this._editingMode = !0
	};
	f._endEditing = function() {
		this._editBox._alwaysOnTop || (this._edTxt.style.display = "none");
		this._showLabels();
		if (cc.sys.isMobile && this._editingMode) {
			var a =
				this;
			setTimeout(function() {
				a._endEditingOnMobile()
			}, d)
		}
		this._editingMode = !1
	};
	f._setFont = function(a) {
		a = cc.LabelTTF._fontStyleRE.exec(a);
		var b = a[2],
			c = parseInt(a[1]);
		a && this.setFont(b, c)
	};
	f.setFont = function(a, b) {
		this._edFontName = a || this._edFontName;
		this._edFontSize = b || this._edFontSize;
		this._updateDOMFontStyle()
	};
	f.setFontName = function(a) {
		this._edFontName = a || this._edFontName;
		this._updateDOMFontStyle()
	};
	f.setFontSize = function(a) {
		this._edFontSize = a || this._edFontSize;
		this._updateDOMFontStyle()
	};
	f.setFontColor =
		function(a) {
			this._edTxt && (this._edTxt.value !== this._editBox._placeholderText && (this._edTxt.style.color = cc.colorToHex(a)), this._textLabel && this._textLabel.setColor(a))
		};
	f.setPlaceHolder = function(a) {
		this._placeholderLabel.setString(a)
	};
	f.setMaxLength = function(a) {
		this._edTxt && (this._edTxt.maxLength = a)
	};
	f._updateDOMPlaceholderFontStyle = function() {
		this._placeholderLabel.setFontName(this._editBox._placeholderFontName);
		this._placeholderLabel.setFontSize(this._editBox._placeholderFontSize)
	};
	f.setPlaceholderFontColor =
		function(a) {
			this._placeholderLabel.setColor(a)
		};
	f._updateDomInputType = function() {
		var a = this._editBox._editBoxInputMode;
		a === cc.EDITBOX_INPUT_MODE_EMAILADDR ? this._edTxt.type = "email" : a === cc.EDITBOX_INPUT_MODE_DECIMAL || a === cc.EDITBOX_INPUT_MODE_NUMERIC ? this._edTxt.type = "number" : a === cc.EDITBOX_INPUT_MODE_PHONENUMBER ? (this._edTxt.type = "number", this._edTxt.pattern = "[0-9]*") : a === cc.EDITBOX_INPUT_MODE_URL ? this._edTxt.type = "url" : (this._edTxt.type = "text", this._editBox._keyboardReturnType === cc.KEYBOARD_RETURNTYPE_SEARCH &&
			(this._edTxt.type = "search"));
		this._editBox._editBoxInputFlag === cc.EDITBOX_INPUT_FLAG_PASSWORD && (this._edTxt.type = "password")
	};
	f.setInputFlag = function(a) {
		this._edTxt && (this._updateDomInputType(), this._edTxt.style.textTransform = "none", a === cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_ALL_CHARACTERS ? this._edTxt.style.textTransform = "uppercase" : a === cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_WORD && (this._edTxt.style.textTransform = "capitalize"), this._updateLabelStringStyle())
	};
	f.setInputMode = function(a) {
		a === cc.EDITBOX_INPUT_MODE_ANY ?
			this._createDomTextArea() : this._createDomInput();
		this._updateDomInputType();
		a = this._node.getContentSize();
		this.updateSize(a.width, a.height)
	};
	f.setString = function(a) {
		this._edTxt && null !== a && (this._edTxt.value = a, "" === a ? (this._placeholderLabel && (this._placeholderLabel.setString(this._editBox._placeholderText), this._placeholderLabel.setColor(this._editBox._placeholderColor)), this._editingMode || (this._placeholderLabel && this._placeholderLabel.setVisible(!0), this._textLabel && this._textLabel.setVisible(!1))) :
			(this._edTxt.style.color = cc.colorToHex(this._editBox._textColor), this._textLabel && this._textLabel.setColor(this._editBox._textColor), this._editingMode || (this._placeholderLabel && this._placeholderLabel.setVisible(!1), this._textLabel && this._textLabel.setVisible(!0)), this._updateLabelStringStyle()))
	};
	f._updateDOMFontStyle = function() {
		this._edTxt && ("" !== this._edTxt.value && (this._edTxt.style.fontFamily = this._edFontName, this._edTxt.style.fontSize = this._edFontSize + "px"), this._textLabel && (this._textLabel.setFontSize(this._edFontSize),
			this._textLabel.setFontName(this._edFontName)))
	};
	f.updateSize = function(a, b) {
		var c = this._edTxt;
		c && (c.style.width = a + "px", c.style.height = b + "px", this._updateLabelPosition(cc.size(a, b)))
	};
	f._addDomToGameContainer = function() {
		cc.game.container.appendChild(this._edTxt)
	};
	f._removeDomFromGameContainer = function() {
		var a = this._edTxt;
		if (a) {
			var b = !1;
			(b = "contains" in cc.game.container ? cc.game.container.contains(a) : cc.game.container.compareDocumentPosition(a) % 16) && cc.game.container.removeChild(a)
		}
		this._edTxt = null
	};
	f.initializeRenderCmd = function(a) {
		this._editBox = a;
		this._edFontSize = 14;
		this._edFontName = "Arial";
		this._placeholderLabel = this._textLabel = null;
		this.__rotateScreen = this.__autoResize = this.__fullscreen = this._editingMode = !1;
		this.__orientationChanged = null
	};
	cc.EditBox.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this.initializeRenderCmd(a)
	};
	var g = cc.EditBox.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	cc.inject(f, g);
	g.constructor = cc.EditBox.CanvasRenderCmd;
	g.transform = function(a,
		b) {
		this.originTransform(a, b);
		this.updateMatrix()
	};
	cc.EditBox.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this.initializeRenderCmd(a)
	};
	g = cc.EditBox.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	cc.inject(f, g);
	g.constructor = cc.EditBox.WebGLRenderCmd;
	g.transform = function(a, b) {
		this.originTransform(a, b);
		this.updateMatrix()
	}
})(cc.EditBox._polyfill);
cc.ProtectedNode = cc.Node.extend({
	_protectedChildren: null,
	_reorderProtectedChildDirty: !1,
	_insertProtectedChild: function(a, b) {
		this._reorderProtectedChildDirty = !0;
		this._protectedChildren.push(a);
		a._setLocalZOrder(b)
	},
	ctor: function() {
		cc.Node.prototype.ctor.call(this);
		this._protectedChildren = []
	},
	visit: function(a) {
		var b = this._renderCmd,
			c = a ? a._renderCmd : null;
		if (this._visible) {
			a = cc.renderer;
			var d = this._children,
				e = d.length,
				f, g = this._protectedChildren,
				h = g.length,
				k;
			b.visit(c);
			var m = this.grid;
			m && m._active && m.beforeDraw();
			this._reorderChildDirty && this.sortAllChildren();
			this._reorderProtectedChildDirty && this.sortAllProtectedChildren();
			for (c = 0; c < e; c++)
				if (f = d[c], 0 > f._localZOrder) f.visit(this);
				else break;
			for (f = 0; f < h; f++)
				if ((k = g[f]) && 0 > k._localZOrder) b._changeProtectedChild(k), k.visit(this);
				else break;
			for (a.pushRenderCommand(b); c < e; c++) d[c].visit(this);
			for (; f < h; f++)
				if (k = g[f]) b._changeProtectedChild(k), k.visit(this);
			m && m._active && m.afterDraw(this);
			b._dirtyFlag = 0
		} else b._propagateFlagsDown(c)
	},
	addProtectedChild: function(a,
		b, c) {
		cc.assert(null != a, "child must be non-nil");
		cc.assert(!a.parent, "child already added. It can't be added again");
		b = b || a.getLocalZOrder();
		c && a.setTag(c);
		this._insertProtectedChild(a, b);
		a.setParent(this);
		a.setOrderOfArrival(cc.s_globalOrderOfArrival);
		this._running && (a._performRecursive(cc.Node._stateCallbackType.onEnter), this._isTransitionFinished && a._performRecursive(cc.Node._stateCallbackType.onEnterTransitionDidFinish));
		this._cascadeColorEnabled && this._renderCmd.setCascadeColorEnabledDirty();
		this._cascadeOpacityEnabled && this._renderCmd.setCascadeOpacityEnabledDirty()
	},
	getProtectedChildByTag: function(a) {
		cc.assert(a !== cc.NODE_TAG_INVALID, "Invalid tag");
		for (var b = this._protectedChildren, c = 0, d = b.length; c < d; c++)
			if (b.getTag() === a) return b[c];
		return null
	},
	removeProtectedChild: function(a, b) {
		null == b && (b = !0);
		var c = this._protectedChildren;
		if (0 !== c.length) {
			var d = c.indexOf(a); - 1 < d && (this._running && (a._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart), a._performRecursive(cc.Node._stateCallbackType.onExit)),
				b && a._performRecursive(cc.Node._stateCallbackType.cleanup), a.setParent(null), c.splice(d, 1))
		}
	},
	removeProtectedChildByTag: function(a, b) {
		cc.assert(a !== cc.NODE_TAG_INVALID, "Invalid tag");
		null == b && (b = !0);
		var c = this.getProtectedChildByTag(a);
		null == c ? cc.log("cocos2d: removeChildByTag(tag \x3d %d): child not found!", a) : this.removeProtectedChild(c, b)
	},
	removeAllProtectedChildren: function() {
		this.removeAllProtectedChildrenWithCleanup(!0)
	},
	removeAllProtectedChildrenWithCleanup: function(a) {
		null == a && (a = !0);
		for (var b =
				this._protectedChildren, c = 0, d = b.length; c < d; c++) {
			var e = b[c];
			this._running && (e._performRecursive(cc.Node._stateCallbackType.onExitTransitionDidStart), e._performRecursive(cc.Node._stateCallbackType.onExit));
			a && e._performRecursive(cc.Node._stateCallbackType.cleanup);
			e.setParent(null)
		}
		b.length = 0
	},
	reorderProtectedChild: function(a, b) {
		cc.assert(null != a, "Child must be non-nil");
		this._reorderProtectedChildDirty = !0;
		a.setOrderOfArrival(cc.s_globalOrderOfArrival++);
		a._setLocalZOrder(b)
	},
	sortAllProtectedChildren: function() {
		if (this._reorderProtectedChildDirty) {
			var a =
				this._protectedChildren,
				b, c, d = a.length,
				e;
			for (b = 1; b < d; b++) {
				e = a[b];
				for (c = b - 1; 0 <= c;) {
					if (e._localZOrder < a[c]._localZOrder) a[c + 1] = a[c];
					else if (e._localZOrder === a[c]._localZOrder && e.arrivalOrder < a[c].arrivalOrder) a[c + 1] = a[c];
					else break;
					c--
				}
				a[c + 1] = e
			}
			this._reorderProtectedChildDirty = !1
		}
	},
	_changePosition: function() {},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new cc.ProtectedNode.CanvasRenderCmd(this) : new cc.ProtectedNode.WebGLRenderCmd(this)
	}
});
cc.ProtectedNode.create = function() {
	return new cc.ProtectedNode
};
(function() {
	cc.ProtectedNode.RenderCmd = {
		_updateDisplayColor: function(a) {
			var c = this._node,
				d = this._displayedColor,
				e = c._realColor,
				f, g;
			if (this._cascadeColorEnabledDirty && !c._cascadeColorEnabled) {
				d.r = e.r;
				d.g = e.g;
				d.b = e.b;
				d = new cc.Color(255, 255, 255, 255);
				f = c._children;
				e = 0;
				for (a = f.length; e < a; e++)(g = f[e]) && g._renderCmd && g._renderCmd._updateDisplayColor(d);
				this._cascadeColorEnabledDirty = !1
			} else {
				void 0 === a && (a = (a = c._parent) && a._cascadeColorEnabled ? a.getDisplayedColor() : cc.color.WHITE);
				d.r = 0 | e.r * a.r / 255;
				d.g = 0 |
					e.g * a.g / 255;
				d.b = 0 | e.b * a.b / 255;
				if (c._cascadeColorEnabled)
					for (f = c._children, e = 0, a = f.length; e < a; e++)(g = f[e]) && g._renderCmd && (g._renderCmd._updateDisplayColor(d), g._renderCmd._updateColor());
				f = c._protectedChildren;
				e = 0;
				for (a = f.length; e < a; e++)(g = f[e]) && g._renderCmd && (g._renderCmd._updateDisplayColor(d), g._renderCmd._updateColor())
			}
			this._dirtyFlag ^= this._dirtyFlag & cc.Node._dirtyFlags.colorDirty
		},
		_updateDisplayOpacity: function(a) {
			var c = this._node,
				d, e, f;
			if (this._cascadeOpacityEnabledDirty && !c._cascadeOpacityEnabled) {
				this._displayedOpacity =
					c._realOpacity;
				e = c._children;
				a = 0;
				for (d = e.length; a < d; a++)(f = e[a]) && f._renderCmd && f._renderCmd._updateDisplayOpacity(255);
				this._cascadeOpacityEnabledDirty = !1
			} else {
				void 0 === a && (d = c._parent, a = 255, d && d._cascadeOpacityEnabled && (a = d.getDisplayedOpacity()));
				this._displayedOpacity = c._realOpacity * a / 255;
				if (c._cascadeOpacityEnabled)
					for (e = c._children, a = 0, d = e.length; a < d; a++)(f = e[a]) && f._renderCmd && (f._renderCmd._updateDisplayOpacity(this._displayedOpacity), f._renderCmd._updateColor());
				e = c._protectedChildren;
				a =
					0;
				for (d = e.length; a < d; a++)(f = e[a]) && f._renderCmd && (f._renderCmd._updateDisplayOpacity(this._displayedOpacity), f._renderCmd._updateColor())
			}
			this._dirtyFlag ^= this._dirtyFlag & cc.Node._dirtyFlags.opacityDirty
		},
		_changeProtectedChild: function(a) {
			a = a._renderCmd;
			var c = a._dirtyFlag,
				d = cc.Node._dirtyFlags;
			this._dirtyFlag & d.colorDirty && (c |= d.colorDirty);
			this._dirtyFlag & d.opacityDirty && (c |= d.opacityDirty);
			var e = c & d.colorDirty,
				c = c & d.opacityDirty;
			e && a._updateDisplayColor(this._displayedColor);
			c && a._updateDisplayOpacity(this._displayedOpacity);
			(e || c) && a._updateColor()
		}
	};
	cc.ProtectedNode.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._cachedParent = null;
		this._cacheDirty = !1
	};
	var a = cc.ProtectedNode.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	cc.inject(cc.ProtectedNode.RenderCmd, a);
	a.constructor = cc.ProtectedNode.CanvasRenderCmd;
	a._pNodeCmdCtor = cc.ProtectedNode.CanvasRenderCmd;
	a.transform = function(a, c) {
		var d = this._node;
		d._changePosition && d._changePosition();
		this.originTransform(a, c);
		var e, f = d._protectedChildren;
		if (c && f && 0 !== f.length)
			for (d = 0, e = f.length; d < e; d++) f[d]._renderCmd.transform(this, c)
	};
	a.pNodeTransform = a.transform
})();
(function() {
	if (cc.Node.WebGLRenderCmd) {
		cc.ProtectedNode.WebGLRenderCmd = function(a) {
			this._rootCtor(a)
		};
		var a = cc.ProtectedNode.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
		cc.inject(cc.ProtectedNode.RenderCmd, a);
		a.constructor = cc.ProtectedNode.WebGLRenderCmd;
		a._pNodeCmdCtor = cc.ProtectedNode.WebGLRenderCmd;
		a.transform = function(a, c) {
			this.originTransform(a, c);
			var d, e, f = this._node._protectedChildren;
			if (c && f && 0 !== f.length)
				for (d = 0, e = f.length; d < e; d++) f[d]._renderCmd.transform(this,
					c)
		};
		a.pNodeTransform = a.transform
	}
})();
var ccui = ccui || {};
ccui.Class = ccui.Class || cc.Class;
ccui.Class.extend = ccui.Class.extend || cc.Class.extend;
ccui.Node = ccui.Node || cc.Node;
ccui.Node.extend = ccui.Node.extend || cc.Node.extend;
ccui.ProtectedNode = ccui.ProtectedNode || cc.ProtectedNode;
ccui.ProtectedNode.extend = ccui.ProtectedNode.extend || cc.ProtectedNode.extend;
ccui.cocosGUIVersion = "CocosGUI v1.0.0.0";
ccui._FocusNavigationController = cc.Class.extend({
	_keyboardListener: null,
	_firstFocusedWidget: null,
	_enableFocusNavigation: !1,
	_keyboardEventPriority: 1,
	enableFocusNavigation: function(a) {
		this._enableFocusNavigation !== a && ((this._enableFocusNavigation = a) ? this._addKeyboardEventListener() : this._removeKeyboardEventListener())
	},
	_setFirstFocsuedWidget: function(a) {
		this._firstFocusedWidget = a
	},
	_onKeyPressed: function(a, b) {
		this._enableFocusNavigation && this._firstFocusedWidget && (a === cc.KEY.dpadDown && (this._firstFocusedWidget =
			this._firstFocusedWidget.findNextFocusedWidget(ccui.Widget.DOWN, this._firstFocusedWidget)), a === cc.KEY.dpadUp && (this._firstFocusedWidget = this._firstFocusedWidget.findNextFocusedWidget(ccui.Widget.UP, this._firstFocusedWidget)), a === cc.KEY.dpadLeft && (this._firstFocusedWidget = this._firstFocusedWidget.findNextFocusedWidget(ccui.Widget.LEFT, this._firstFocusedWidget)), a === cc.KEY.dpadRight && (this._firstFocusedWidget = this._firstFocusedWidget.findNextFocusedWidget(ccui.Widget.RIGHT, this._firstFocusedWidget)))
	},
	_addKeyboardEventListener: function() {
		this._keyboardListener || (this._keyboardListener = cc.EventListener.create({
			event: cc.EventListener.KEYBOARD,
			onKeyReleased: this._onKeyPressed.bind(this)
		}), cc.eventManager.addListener(this._keyboardListener, this._keyboardEventPriority))
	},
	_removeKeyboardEventListener: function() {
		this._keyboardListener && (cc.eventManager.removeEventListener(this._keyboardListener), this._keyboardListener = null)
	}
});
ccui.__LAYOUT_COMPONENT_NAME = "__ui_layout";
ccui.Widget = ccui.ProtectedNode.extend({
	_enabled: !0,
	_bright: !0,
	_touchEnabled: !1,
	_brightStyle: null,
	_touchBeganPosition: null,
	_touchMovePosition: null,
	_touchEndPosition: null,
	_touchEventListener: null,
	_touchEventSelector: null,
	_name: "default",
	_widgetType: null,
	_actionTag: 0,
	_customSize: null,
	_layoutParameterDictionary: null,
	_layoutParameterType: 0,
	_focused: !1,
	_focusEnabled: !0,
	_ignoreSize: !1,
	_affectByClipping: !1,
	_sizeType: null,
	_sizePercent: null,
	_positionType: null,
	_positionPercent: null,
	_hit: !1,
	_nodes: null,
	_touchListener: null,
	_className: "Widget",
	_flippedX: !1,
	_flippedY: !1,
	_opacity: 255,
	_highlight: !1,
	_touchEventCallback: null,
	_clickEventListener: null,
	_propagateTouchEvents: !0,
	_unifySize: !1,
	_callbackName: null,
	_callbackType: null,
	_usingLayoutComponent: !1,
	_inViewRect: !0,
	ctor: function() {
		cc.ProtectedNode.prototype.ctor.call(this);
		this._brightStyle = ccui.Widget.BRIGHT_STYLE_NONE;
		this._touchBeganPosition = cc.p(0, 0);
		this._touchMovePosition = cc.p(0, 0);
		this._touchEndPosition = cc.p(0, 0);
		this._widgetType = ccui.Widget.TYPE_WIDGET;
		this._customSize =
			cc.size(0, 0);
		this._layoutParameterDictionary = {};
		this._sizeType = ccui.Widget.SIZE_ABSOLUTE;
		this._sizePercent = cc.p(0, 0);
		this._positionType = ccui.Widget.POSITION_ABSOLUTE;
		this._positionPercent = cc.p(0, 0);
		this._nodes = [];
		this._layoutParameterType = ccui.LayoutParameter.NONE;
		ccui.Widget.prototype.init.call(this)
	},
	init: function() {
		this._layoutParameterDictionary = {};
		this._initRenderer();
		this.setBright(!0);
		this.onFocusChanged = this.onFocusChange;
		this.onNextFocusedWidget = null;
		this.setAnchorPoint(cc.p(0.5, 0.5));
		this.ignoreContentAdaptWithSize(!0);
		return !0
	},
	onEnter: function() {
		var a = this._touchListener;
		a && !a._isRegistered() && this._touchEnabled && cc.eventManager.addListener(a, this);
		this._usingLayoutComponent || this.updateSizeAndPosition();
		this._sizeDirty && this._onSizeChanged();
		cc.ProtectedNode.prototype.onEnter.call(this)
	},
	onExit: function() {
		this.unscheduleUpdate();
		cc.ProtectedNode.prototype.onExit.call(this)
	},
	_getOrCreateLayoutComponent: function() {
		var a = this.getComponent(ccui.__LAYOUT_COMPONENT_NAME);
		null == a && (a = new ccui.LayoutComponent, this.addComponent(a));
		return a
	},
	getWidgetParent: function() {
		var a = this.getParent();
		return a instanceof ccui.Widget ? a : null
	},
	_updateContentSizeWithTextureSize: function(a) {
		this._unifySize ? this.setContentSize(a) : this.setContentSize(this._ignoreSize ? a : this._customSize)
	},
	_isAncestorsEnabled: function() {
		var a = this._getAncensterWidget(this);
		return null == a ? !0 : a && !a.isEnabled() ? !1 : a._isAncestorsEnabled()
	},
	setPropagateTouchEvents: function(a) {
		this._propagateTouchEvents = a
	},
	isPropagateTouchEvents: function() {
		return this._propagateTouchEvents
	},
	setSwallowTouches: function(a) {
		this._touchListener && this._touchListener.setSwallowTouches(a)
	},
	isSwallowTouches: function() {
		return this._touchListener ? this._touchListener.isSwallowTouches() : !1
	},
	_getAncensterWidget: function(a) {
		if (null == a) return null;
		a = a.getParent();
		return null == a ? null : a instanceof ccui.Widget ? a : this._getAncensterWidget(a.getParent())
	},
	_isAncestorsVisible: function(a) {
		return null == a ? !0 : (a = a.getParent()) && !a.isVisible() ? !1 : this._isAncestorsVisible(a)
	},
	setEnabled: function(a) {
		this._enabled =
			a;
		this.setBright(a)
	},
	_initRenderer: function() {},
	setContentSize: function(a, b) {
		cc.Node.prototype.setContentSize.call(this, a, b);
		var c = this._contentSize.width,
			d = this._contentSize.height;
		this._customSize.width = c;
		this._customSize.height = d;
		!this._unifySize && this._ignoreSize && (this._contentSize = this.getVirtualRendererSize());
		if (!this._usingLayoutComponent && this._running) {
			var e = this.getWidgetParent(),
				e = e ? e.getContentSize() : this._parent.getContentSize();
			this._sizePercent.x = 0 < e.width ? c / e.width : 0;
			this._sizePercent.y =
				0 < e.height ? d / e.height : 0
		}
		this._running ? this._onSizeChanged() : this._sizeDirty = !0
	},
	_setWidth: function(a) {
		a !== this._contentSize.width && (cc.Node.prototype._setWidth.call(this, a), this._customSize.width = a, !this._unifySize && this._ignoreSize && (this._contentSize = this.getVirtualRendererSize()), !this._usingLayoutComponent && this._running && (a = (a = this.getWidgetParent()) ? a.width : this._parent.width, this._sizePercent.x = 0 < a ? this._customSize.width / a : 0), this._running ? this._onSizeChanged() : this._sizeDirty = !0)
	},
	_setHeight: function(a) {
		a !==
			this._contentSize.height && (cc.Node.prototype._setHeight.call(this, a), this._customSize.height = a, !this._unifySize && this._ignoreSize && (this._contentSize = this.getVirtualRendererSize()), !this._usingLayoutComponent && this._running && (a = (a = this.getWidgetParent()) ? a.height : this._parent.height, this._sizePercent.y = 0 < a ? this._customSize.height / a : 0), this._running ? this._onSizeChanged() : this._sizeDirty = !0)
	},
	setSizePercent: function(a) {
		if (this._usingLayoutComponent) {
			var b = this._getOrCreateLayoutComponent();
			b.setUsingPercentContentSize(!0);
			b.setPercentContentSize(a);
			b.refreshLayout()
		} else {
			this._sizePercent.x = a.x;
			this._sizePercent.y = a.y;
			var b = this._customSize.width,
				c = this._customSize.height;
			this._running && ((c = this.getWidgetParent()) ? (b = c.width * a.x, c = c.height * a.y) : (b = this._parent.width * a.x, c = this._parent.height * a.y));
			this._ignoreSize ? this.setContentSize(this.getVirtualRendererSize()) : this.setContentSize(b, c);
			this._customSize.width = b;
			this._customSize.height = c
		}
	},
	_setWidthPercent: function(a) {
		this._sizePercent.x = a;
		var b = this._customSize.width;
		this._running && (b = this.getWidgetParent(), b = (b ? b.width : this._parent.width) * a);
		this._ignoreSize ? this._setWidth(this.getVirtualRendererSize().width) : this._setWidth(b);
		this._customSize.width = b
	},
	_setHeightPercent: function(a) {
		this._sizePercent.y = a;
		var b = this._customSize.height;
		this._running && (b = this.getWidgetParent(), b = (b ? b.height : this._parent.height) * a);
		this._ignoreSize ? this._setHeight(this.getVirtualRendererSize().height) : this._setHeight(b);
		this._customSize.height = b
	},
	updateSizeAndPosition: function(a) {
		a ||
			(a = (a = this.getWidgetParent()) ? a.getLayoutSize() : this._parent.getContentSize());
		switch (this._sizeType) {
			case ccui.Widget.SIZE_ABSOLUTE:
				this._ignoreSize ? this.setContentSize(this.getVirtualRendererSize()) : this.setContentSize(this._customSize);
				this._sizePercent.x = 0 < a.width ? this._customSize.width / a.width : 0;
				this._sizePercent.y = 0 < a.height ? this._customSize.height / a.height : 0;
				break;
			case ccui.Widget.SIZE_PERCENT:
				var b = cc.size(a.width * this._sizePercent.x, a.height * this._sizePercent.y);
				this._ignoreSize ? this.setContentSize(this.getVirtualRendererSize()) :
					this.setContentSize(b);
				this._customSize.width = b.width;
				this._customSize.height = b.height
		}
		this._onSizeChanged();
		b = this.getPosition();
		switch (this._positionType) {
			case ccui.Widget.POSITION_ABSOLUTE:
				0 >= a.width || 0 >= a.height ? this._positionPercent.x = this._positionPercent.y = 0 : (this._positionPercent.x = b.x / a.width, this._positionPercent.y = b.y / a.height);
				break;
			case ccui.Widget.POSITION_PERCENT:
				b = cc.p(a.width * this._positionPercent.x, a.height * this._positionPercent.y)
		}
		if (this._parent instanceof ccui.ImageView && (a = this._parent._imageRenderer) &&
			!a._textureLoaded) return;
		this.setPosition(b)
	},
	setSizeType: function(a) {
		this._sizeType = a;
		this._usingLayoutComponent && this._getOrCreateLayoutComponent().setUsingPercentContentSize(this._sizeType === ccui.SIZE_PERCENT)
	},
	getSizeType: function() {
		return this._sizeType
	},
	ignoreContentAdaptWithSize: function(a) {
		this._unifySize ? this.setContentSize(this._customSize) : this._ignoreSize !== a && (this._ignoreSize = a, this.setContentSize(a ? this.getVirtualRendererSize() : this._customSize))
	},
	isIgnoreContentAdaptWithSize: function() {
		return this._ignoreSize
	},
	getCustomSize: function() {
		return cc.size(this._customSize)
	},
	getLayoutSize: function() {
		return cc.size(this._contentSize)
	},
	getSizePercent: function() {
		this._usingLayoutComponent && (this._sizePercent = this._getOrCreateLayoutComponent().getPercentContentSize());
		return this._sizePercent
	},
	_getWidthPercent: function() {
		return this._sizePercent.x
	},
	_getHeightPercent: function() {
		return this._sizePercent.y
	},
	getWorldPosition: function() {
		return this.convertToWorldSpace(cc.p(this._anchorPoint.x * this._contentSize.width, this._anchorPoint.y *
			this._contentSize.height))
	},
	getVirtualRenderer: function() {
		return this
	},
	getVirtualRendererSize: function() {
		return cc.size(this._contentSize)
	},
	_onSizeChanged: function() {
		if (!this._usingLayoutComponent) {
			for (var a = this.getChildren(), b = 0, c = a.length; b < c; b++) {
				var d = a[b];
				d instanceof ccui.Widget && d.updateSizeAndPosition()
			}
			this._sizeDirty = !1
		}
	},
	setTouchEnabled: function(a) {
		this._touchEnabled !== a && ((this._touchEnabled = a) ? (this._touchListener || (this._touchListener = cc.EventListener.create({
			event: cc.EventListener.TOUCH_ONE_BY_ONE,
			swallowTouches: !0,
			onTouchBegan: this.onTouchBegan.bind(this),
			onTouchMoved: this.onTouchMoved.bind(this),
			onTouchEnded: this.onTouchEnded.bind(this)
		})), cc.eventManager.addListener(this._touchListener, this)) : cc.eventManager.removeListener(this._touchListener))
	},
	isTouchEnabled: function() {
		return this._touchEnabled
	},
	isHighlighted: function() {
		return this._highlight
	},
	setHighlighted: function(a) {
		a !== this._highlight && (this._highlight = a, this._bright ? this._highlight ? this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT) :
			this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_NORMAL) : this._onPressStateChangedToDisabled())
	},
	isFocused: function() {
		return this._focused
	},
	setFocused: function(a) {
		if (this._focused = a) ccui.Widget._focusedWidget = this, ccui.Widget._focusNavigationController && ccui.Widget._focusNavigationController._setFirstFocsuedWidget(this)
	},
	isFocusEnabled: function() {
		return this._focusEnabled
	},
	setFocusEnabled: function(a) {
		this._focusEnabled = a
	},
	findNextFocusedWidget: function(a, b) {
		if (null === this.onNextFocusedWidget || null == this.onNextFocusedWidget(a)) {
			var c =
				b instanceof ccui.Layout;
			if (this.isFocused() || c) {
				var d = this.getParent();
				return null !== d && d instanceof ccui.Layout ? d.findNextFocusedWidget(a, b) : c ? b.findNextFocusedWidget(a, b) : b
			}
			return b
		}
		c = this.onNextFocusedWidget(a);
		this.dispatchFocusEvent(this, c);
		return c
	},
	requestFocus: function() {
		this !== ccui.Widget._focusedWidget && this.dispatchFocusEvent(ccui.Widget._focusedWidget, this)
	},
	getCurrentFocusedWidget: function() {
		return ccui.Widget._focusedWidget
	},
	onFocusChanged: null,
	onNextFocusedWidget: null,
	interceptTouchEvent: function(a,
		b, c) {
		var d = this.getWidgetParent();
		d && d.interceptTouchEvent(a, b, c)
	},
	onFocusChange: function(a, b) {
		a && a.setFocused(!1);
		b && b.setFocused(!0)
	},
	dispatchFocusEvent: function(a, b) {
		a && !a.isFocused() && (a = ccui.Widget._focusedWidget);
		if (b !== a) {
			if (b && b.onFocusChanged) b.onFocusChanged(a, b);
			if (a && b.onFocusChanged) a.onFocusChanged(a, b);
			cc.eventManager.dispatchEvent(new cc.EventFocus(a, b))
		}
	},
	setBright: function(a) {
		(this._bright = a) ? (this._brightStyle = ccui.Widget.BRIGHT_STYLE_NONE, this.setBrightStyle(ccui.Widget.BRIGHT_STYLE_NORMAL)) :
		this._onPressStateChangedToDisabled()
	},
	setBrightStyle: function(a) {
		if (this._brightStyle !== a) switch (this._brightStyle = a = a || ccui.Widget.BRIGHT_STYLE_NORMAL, this._brightStyle) {
			case ccui.Widget.BRIGHT_STYLE_NORMAL:
				this._onPressStateChangedToNormal();
				break;
			case ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT:
				this._onPressStateChangedToPressed()
		}
	},
	_onPressStateChangedToNormal: function() {},
	_onPressStateChangedToPressed: function() {},
	_onPressStateChangedToDisabled: function() {},
	_updateChildrenDisplayedRGBA: function() {
		this.setColor(this.getColor());
		this.setOpacity(this.getOpacity())
	},
	didNotSelectSelf: function() {},
	onTouchBegan: function(a, b) {
		this._hit = !1;
		if (this.isVisible() && this.isEnabled() && this._isAncestorsEnabled() && this._isAncestorsVisible(this)) {
			var c = a.getLocation();
			this._touchBeganPosition.x = c.x;
			this._touchBeganPosition.y = c.y;
			this.hitTest(this._touchBeganPosition) && this.isClippingParentContainsPoint(this._touchBeganPosition) && (this._hit = !0)
		}
		if (!this._hit) return !1;
		this.setHighlighted(!0);
		this._propagateTouchEvents && this.propagateTouchEvent(ccui.Widget.TOUCH_BEGAN,
			this, a);
		this._pushDownEvent();
		return !0
	},
	propagateTouchEvent: function(a, b, c) {
		var d = this.getWidgetParent();
		d && d.interceptTouchEvent(a, b, c)
	},
	onTouchMoved: function(a, b) {
		var c = a.getLocation();
		this._touchMovePosition.x = c.x;
		this._touchMovePosition.y = c.y;
		this.setHighlighted(this.hitTest(c));
		this._propagateTouchEvents && this.propagateTouchEvent(ccui.Widget.TOUCH_MOVED, this, a);
		this._moveEvent()
	},
	onTouchEnded: function(a, b) {
		var c = a.getLocation();
		this._touchEndPosition.x = c.x;
		this._touchEndPosition.y = c.y;
		this._propagateTouchEvents &&
			this.propagateTouchEvent(ccui.Widget.TOUCH_ENDED, this, a);
		c = this._highlight;
		this.setHighlighted(!1);
		c ? this._releaseUpEvent() : this._cancelUpEvent()
	},
	onTouchCancelled: function(a) {
		this.setHighlighted(!1);
		this._cancelUpEvent()
	},
	onTouchLongClicked: function(a) {
		this.longClickEvent()
	},
	_pushDownEvent: function() {
		this._touchEventCallback && this._touchEventCallback(this, ccui.Widget.TOUCH_BEGAN);
		this._touchEventListener && this._touchEventSelector && this._touchEventSelector.call(this._touchEventListener, this, ccui.Widget.TOUCH_BEGAN)
	},
	_moveEvent: function() {
		this._touchEventCallback && this._touchEventCallback(this, ccui.Widget.TOUCH_MOVED);
		this._touchEventListener && this._touchEventSelector && this._touchEventSelector.call(this._touchEventListener, this, ccui.Widget.TOUCH_MOVED)
	},
	_releaseUpEvent: function() {
		this._touchEventCallback && this._touchEventCallback(this, ccui.Widget.TOUCH_ENDED);
		this._touchEventListener && this._touchEventSelector && this._touchEventSelector.call(this._touchEventListener, this, ccui.Widget.TOUCH_ENDED);
		this._clickEventListener &&
			this._clickEventListener(this)
	},
	_cancelUpEvent: function() {
		this._touchEventCallback && this._touchEventCallback(this, ccui.Widget.TOUCH_CANCELED);
		this._touchEventListener && this._touchEventSelector && this._touchEventSelector.call(this._touchEventListener, this, ccui.Widget.TOUCH_CANCELED)
	},
	longClickEvent: function() {},
	addTouchEventListener: function(a, b) {
		void 0 === b ? this._touchEventCallback = a : (this._touchEventSelector = a, this._touchEventListener = b)
	},
	addClickEventListener: function(a) {
		this._clickEventListener =
			a
	},
	hitTest: function(a) {
		var b = cc.rect(0, 0, this._contentSize.width, this._contentSize.height);
		return cc.rectContainsPoint(b, this.convertToNodeSpace(a))
	},
	isClippingParentContainsPoint: function(a) {
		this._affectByClipping = !1;
		for (var b = this.getParent(), c = null; b;) {
			if (b instanceof ccui.Layout && b.isClippingEnabled()) {
				this._affectByClipping = !0;
				c = b;
				break
			}
			b = b.getParent()
		}
		return this._affectByClipping ? c ? c.hitTest(a) ? c.isClippingParentContainsPoint(a) : !1 : !0 : !0
	},
	checkChildInfo: function(a, b, c) {
		var d = this.getWidgetParent();
		d && d.checkChildInfo(a, b, c)
	},
	setPosition: function(a, b) {
		if (!this._usingLayoutComponent && this._running) {
			var c = this.getWidgetParent();
			c && (c = c.getContentSize(), 0 >= c.width || 0 >= c.height ? (this._positionPercent.x = 0, this._positionPercent.y = 0) : void 0 === b ? (this._positionPercent.x = a.x / c.width, this._positionPercent.y = a.y / c.height) : (this._positionPercent.x = a / c.width, this._positionPercent.y = b / c.height))
		}
		cc.Node.prototype.setPosition.call(this, a, b)
	},
	setPositionX: function(a) {
		if (this._running) {
			var b = this.getWidgetParent();
			b && (b = b.width, this._positionPercent.x = 0 >= b ? 0 : a / b)
		}
		cc.Node.prototype.setPositionX.call(this, a)
	},
	setPositionY: function(a) {
		if (this._running) {
			var b = this.getWidgetParent();
			b && (b = b.height, this._positionPercent.y = 0 >= b ? 0 : a / b)
		}
		cc.Node.prototype.setPositionY.call(this, a)
	},
	setPositionPercent: function(a) {
		if (this._usingLayoutComponent) {
			var b = this._getOrCreateLayoutComponent();
			b.setPositionPercentX(a.x);
			b.setPositionPercentY(a.y);
			b.refreshLayout()
		} else this._setXPercent(a.x), this._setYPercent(a.y), this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	_setXPercent: function(a) {
		if (this._usingLayoutComponent) {
			var b = this._getOrCreateLayoutComponent();
			b.setPositionPercentX(a.x);
			b.refreshLayout()
		} else this._positionPercent.x = a, this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	_setYPercent: function(a) {
		if (this._usingLayoutComponent) {
			var b = this._getOrCreateLayoutComponent();
			b.setPositionPercentY(a.x);
			b.refreshLayout()
		} else this._positionPercent.y = a, this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getPositionPercent: function() {
		if (this._usingLayoutComponent) {
			var a =
				this._getOrCreateLayoutComponent();
			this._positionPercent.x = a.getPositionPercentX();
			this._positionPercent.y = a.getPositionPercentY()
		}
		return cc.p(this._positionPercent)
	},
	_getXPercent: function() {
		if (this._usingLayoutComponent) {
			var a = this._getOrCreateLayoutComponent();
			this._positionPercent.x = a.getPositionPercentX();
			this._positionPercent.y = a.getPositionPercentY()
		}
		return this._positionPercent.x
	},
	_getYPercent: function() {
		if (this._usingLayoutComponent) {
			var a = this._getOrCreateLayoutComponent();
			this._positionPercent.x =
				a.getPositionPercentX();
			this._positionPercent.y = a.getPositionPercentY()
		}
		return this._positionPercent.y
	},
	setPositionType: function(a) {
		this._positionType = a;
		if (this._usingLayoutComponent) {
			var b = this._getOrCreateLayoutComponent();
			a === ccui.POSITION_ABSOLUTE ? (b.setPositionPercentXEnabled(!1), b.setPositionPercentYEnabled(!1)) : (b.setPositionPercentXEnabled(!0), b.setPositionPercentYEnabled(!0))
		}
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
	},
	getPositionType: function() {
		return this._positionType
	},
	setFlippedX: function(a) {
		var b = this.getScaleX();
		this._flippedX = a;
		this.setScaleX(b)
	},
	isFlippedX: function() {
		return this._flippedX
	},
	setFlippedY: function(a) {
		var b = this.getScaleY();
		this._flippedY = a;
		this.setScaleY(b)
	},
	isFlippedY: function() {
		return this._flippedY
	},
	_adaptRenderers: function() {},
	isBright: function() {
		return this._bright
	},
	isEnabled: function() {
		return this._enabled
	},
	getLeftBoundary: function() {
		return this.getPositionX() - this._getAnchorX() * this._contentSize.width
	},
	getBottomBoundary: function() {
		return this.getPositionY() -
			this._getAnchorY() * this._contentSize.height
	},
	getRightBoundary: function() {
		return this.getLeftBoundary() + this._contentSize.width
	},
	getTopBoundary: function() {
		return this.getBottomBoundary() + this._contentSize.height
	},
	getTouchBeganPosition: function() {
		return cc.p(this._touchBeganPosition)
	},
	getTouchMovePosition: function() {
		return cc.p(this._touchMovePosition)
	},
	getTouchEndPosition: function() {
		return cc.p(this._touchEndPosition)
	},
	getWidgetType: function() {
		return this._widgetType
	},
	setLayoutParameter: function(a) {
		a &&
			(this._layoutParameterDictionary[a.getLayoutType()] = a, this._layoutParameterType = a.getLayoutType())
	},
	getLayoutParameter: function(a) {
		a = a || this._layoutParameterType;
		return this._layoutParameterDictionary[a]
	},
	getDescription: function() {
		return "Widget"
	},
	clone: function() {
		var a = this._createCloneInstance();
		a._copyProperties(this);
		a._copyClonedWidgetChildren(this);
		return a
	},
	_createCloneInstance: function() {
		return new ccui.Widget
	},
	_copyClonedWidgetChildren: function(a) {
		a = a.getChildren();
		for (var b = 0; b < a.length; b++) {
			var c =
				a[b];
			c instanceof ccui.Widget && this.addChild(c.clone())
		}
	},
	_copySpecialProperties: function(a) {},
	_copyProperties: function(a) {
		this.setEnabled(a.isEnabled());
		this.setVisible(a.isVisible());
		this.setBright(a.isBright());
		this.setTouchEnabled(a.isTouchEnabled());
		this.setLocalZOrder(a.getLocalZOrder());
		this.setTag(a.getTag());
		this.setName(a.getName());
		this.setActionTag(a.getActionTag());
		this._ignoreSize = a._ignoreSize;
		this.setContentSize(a._contentSize);
		this._customSize.width = a._customSize.width;
		this._customSize.height =
			a._customSize.height;
		this._copySpecialProperties(a);
		this._sizeType = a.getSizeType();
		this._sizePercent.x = a._sizePercent.x;
		this._sizePercent.y = a._sizePercent.y;
		this._positionType = a._positionType;
		this._positionPercent.x = a._positionPercent.x;
		this._positionPercent.y = a._positionPercent.y;
		this.setPosition(a.getPosition());
		this.setAnchorPoint(a.getAnchorPoint());
		this.setScaleX(a.getScaleX());
		this.setScaleY(a.getScaleY());
		this.setRotation(a.getRotation());
		this.setRotationX(a.getRotationX());
		this.setRotationY(a.getRotationY());
		this.setFlippedX(a.isFlippedX());
		this.setFlippedY(a.isFlippedY());
		this.setColor(a.getColor());
		this.setOpacity(a.getOpacity());
		this._touchEventCallback = a._touchEventCallback;
		this._touchEventListener = a._touchEventListener;
		this._touchEventSelector = a._touchEventSelector;
		this._clickEventListener = a._clickEventListener;
		this._focused = a._focused;
		this._focusEnabled = a._focusEnabled;
		this._propagateTouchEvents = a._propagateTouchEvents;
		for (var b in a._layoutParameterDictionary) {
			var c = a._layoutParameterDictionary[b];
			c && this.setLayoutParameter(c.clone())
		}
	},
	setActionTag: function(a) {
		this._actionTag = a
	},
	getActionTag: function() {
		return this._actionTag
	},
	getLeftInParent: function() {
		cc.log("getLeftInParent is deprecated. Please use getLeftBoundary instead.");
		return this.getLeftBoundary()
	},
	getBottomInParent: function() {
		cc.log("getBottomInParent is deprecated. Please use getBottomBoundary instead.");
		return this.getBottomBoundary()
	},
	getRightInParent: function() {
		cc.log("getRightInParent is deprecated. Please use getRightBoundary instead.");
		return this.getRightBoundary()
	},
	getTopInParent: function() {
		cc.log("getTopInParent is deprecated. Please use getTopBoundary instead.");
		return this.getTopBoundary()
	},
	getTouchEndPos: function() {
		cc.log("getTouchEndPos is deprecated. Please use getTouchEndPosition instead.");
		return this.getTouchEndPosition()
	},
	getTouchMovePos: function() {
		cc.log("getTouchMovePos is deprecated. Please use getTouchMovePosition instead.");
		return this.getTouchMovePosition()
	},
	clippingParentAreaContainPoint: function(a) {
		cc.log("clippingParentAreaContainPoint is deprecated. Please use isClippingParentContainsPoint instead.");
		this.isClippingParentContainsPoint(a)
	},
	getTouchStartPos: function() {
		cc.log("getTouchStartPos is deprecated. Please use getTouchBeganPosition instead.");
		return this.getTouchBeganPosition()
	},
	setSize: function(a) {
		this.setContentSize(a)
	},
	getSize: function() {
		return this.getContentSize()
	},
	addNode: function(a, b, c) {
		a instanceof ccui.Widget ? cc.log("Please use addChild to add a Widget.") : (cc.Node.prototype.addChild.call(this, a, b, c), this._nodes.push(a))
	},
	getNodeByTag: function(a) {
		for (var b = this._nodes, c = 0; c < b.length; c++) {
			var d =
				b[c];
			if (d && d.getTag() === a) return d
		}
		return null
	},
	getNodes: function() {
		return this._nodes
	},
	removeNode: function(a, b) {
		cc.Node.prototype.removeChild.call(this, a, b);
		cc.arrayRemoveObject(this._nodes, a)
	},
	_getNormalGLProgram: function() {
		return cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)
	},
	_getGrayGLProgram: function() {
		return cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY)
	},
	removeNodeByTag: function(a, b) {
		var c = this.getChildByTag(a);
		c ? this.removeChild(c, b) : cc.log("cocos2d: removeNodeByTag(tag \x3d %d): child not found!",
			a)
	},
	removeAllNodes: function() {
		for (var a = 0; a < this._nodes.length; a++) cc.Node.prototype.removeChild.call(this, this._nodes[a]);
		this._nodes.length = 0
	},
	_findLayout: function() {
		cc.renderer.childrenOrderDirty = !0;
		for (var a = this._parent; a;)
			if (a._doLayout) {
				a._doLayoutDirty = !0;
				break
			} else a = a._parent
	},
	isUnifySizeEnabled: function() {
		return this._unifySize
	},
	setUnifySizeEnabled: function(a) {
		this._unifySize = a
	},
	_ccEventCallback: null,
	addCCSEventListener: function(a) {
		this._ccEventCallback = a
	},
	setScaleX: function(a) {
		this._flippedX &&
			(a *= -1);
		cc.Node.prototype.setScaleX.call(this, a)
	},
	setScaleY: function(a) {
		this._flippedY && (a *= -1);
		cc.Node.prototype.setScaleY.call(this, a)
	},
	setScale: function(a, b) {
		void 0 === b && (b = a);
		this.setScaleX(a);
		this.setScaleY(b)
	},
	getScaleX: function() {
		var a = cc.Node.prototype.getScaleX.call(this);
		this._flippedX && (a *= -1);
		return a
	},
	getScaleY: function() {
		var a = cc.Node.prototype.getScaleY.call(this);
		this._flippedY && (a *= -1);
		return a
	},
	getScale: function() {
		this.getScaleX() !== this.getScaleY() && cc.log("Widget#scale. ScaleX !\x3d ScaleY. Don't know which one to return");
		return this.getScaleX()
	},
	setCallbackName: function(a) {
		this._callbackName = a
	},
	getCallbackName: function() {
		return this._callbackName
	},
	setCallbackType: function(a) {
		this._callbackType = a
	},
	getCallbackType: function() {
		return this._callbackType
	},
	setLayoutComponentEnabled: function(a) {
		this._usingLayoutComponent = a
	},
	isLayoutComponentEnabled: function() {
		return this._usingLayoutComponent
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_WEBGL ? new ccui.Widget.WebGLRenderCmd(this) : new ccui.Widget.CanvasRenderCmd(this)
	}
});
_p = ccui.Widget.prototype;
cc.defineGetterSetter(_p, "xPercent", _p._getXPercent, _p._setXPercent);
cc.defineGetterSetter(_p, "yPercent", _p._getYPercent, _p._setYPercent);
cc.defineGetterSetter(_p, "widthPercent", _p._getWidthPercent, _p._setWidthPercent);
cc.defineGetterSetter(_p, "heightPercent", _p._getHeightPercent, _p._setHeightPercent);
cc.defineGetterSetter(_p, "widgetParent", _p.getWidgetParent);
cc.defineGetterSetter(_p, "enabled", _p.isEnabled, _p.setEnabled);
cc.defineGetterSetter(_p, "focused", _p.isFocused, _p.setFocused);
cc.defineGetterSetter(_p, "sizeType", _p.getSizeType, _p.setSizeType);
cc.defineGetterSetter(_p, "widgetType", _p.getWidgetType);
cc.defineGetterSetter(_p, "touchEnabled", _p.isTouchEnabled, _p.setTouchEnabled);
cc.defineGetterSetter(_p, "updateEnabled", _p.isUpdateEnabled, _p.setUpdateEnabled);
cc.defineGetterSetter(_p, "bright", _p.isBright, _p.setBright);
cc.defineGetterSetter(_p, "name", _p.getName, _p.setName);
cc.defineGetterSetter(_p, "actionTag", _p.getActionTag, _p.setActionTag);
cc.defineGetterSetter(_p, "opacity", _p.getOpacity, _p.setOpacity);
_p = null;
ccui.Widget.create = function() {
	return new ccui.Widget
};
ccui.Widget._focusedWidget = null;
ccui.Widget._focusNavigationController = null;
ccui.Widget.enableDpadNavigation = function(a) {
	a ? (null == ccui.Widget._focusNavigationController && (ccui.Widget._focusNavigationController = new ccui._FocusNavigationController, ccui.Widget._focusedWidget && ccui.Widget._focusNavigationController._setFirstFocsuedWidget(ccui.Widget._focusedWidget)), ccui.Widget._focusNavigationController.enableFocusNavigation(!0)) : ccui.Widget._focusNavigationController && (ccui.Widget._focusNavigationController.enableFocusNavigation(!1), ccui.Widget._focusNavigationController = null)
};
ccui.Widget.getCurrentFocusedWidget = function() {
	return ccui.Widget._focusedWidget
};
ccui.Widget.BRIGHT_STYLE_NONE = -1;
ccui.Widget.BRIGHT_STYLE_NORMAL = 0;
ccui.Widget.BRIGHT_STYLE_HIGH_LIGHT = 1;
ccui.Widget.TYPE_WIDGET = 0;
ccui.Widget.TYPE_CONTAINER = 1;
ccui.Widget.LEFT = 0;
ccui.Widget.RIGHT = 1;
ccui.Widget.UP = 2;
ccui.Widget.DOWN = 3;
ccui.Widget.LOCAL_TEXTURE = 0;
ccui.Widget.PLIST_TEXTURE = 1;
ccui.Widget.TOUCH_BEGAN = 0;
ccui.Widget.TOUCH_MOVED = 1;
ccui.Widget.TOUCH_ENDED = 2;
ccui.Widget.TOUCH_CANCELED = 3;
ccui.Widget.SIZE_ABSOLUTE = 0;
ccui.Widget.SIZE_PERCENT = 1;
ccui.Widget.POSITION_ABSOLUTE = 0;
ccui.Widget.POSITION_PERCENT = 1;
cc.game.addEventListener(cc.game.EVENT_RENDERER_INITED, function() {
	if (cc._renderType === cc.game.RENDER_TYPE_CANVAS) {
		ccui.Widget.CanvasRenderCmd = function(a) {
			this._pNodeCmdCtor(a);
			this._needDraw = !1
		};
		var a = ccui.Widget.CanvasRenderCmd.prototype = Object.create(cc.ProtectedNode.CanvasRenderCmd.prototype);
		a.constructor = ccui.Widget.CanvasRenderCmd;
		a.visit = function(a) {
			var c = this._node,
				d = cc.renderer;
			if (a = a || this.getParentRenderCmd()) this._curLevel = a._curLevel + 1;
			isNaN(c._customZ) && (c._vertexZ = d.assignedZ, d.assignedZ +=
				d.assignedZStep);
			c._adaptRenderers();
			this._syncStatus(a)
		};
		a.transform = function(a, c) {
			this._transform || (this._transform = {
				a: 1,
				b: 0,
				c: 0,
				d: 1,
				tx: 0,
				ty: 0
			}, this._worldTransform = {
				a: 1,
				b: 0,
				c: 0,
				d: 1,
				tx: 0,
				ty: 0
			});
			var d = this._node;
			if (d._visible && d._running) {
				d._adaptRenderers();
				if (!this._usingLayoutComponent) {
					var e = d.getWidgetParent();
					e && (e = e.getContentSize(), 0 !== e.width && 0 !== e.height && (d._position.x = e.width * d._positionPercent.x, d._position.y = e.height * d._positionPercent.y))
				}
				this.pNodeTransform(a, c)
			}
		}
	} else ccui.Widget.WebGLRenderCmd =
		function(a) {
			this._pNodeCmdCtor(a);
			this._needDraw = !1
		}, a = ccui.Widget.WebGLRenderCmd.prototype = Object.create(cc.ProtectedNode.WebGLRenderCmd.prototype), a.constructor = ccui.Widget.WebGLRenderCmd, a.visit = function(a) {
			var c = this._node,
				d = cc.renderer;
			if (a = a || this.getParentRenderCmd()) this._curLevel = a._curLevel + 1;
			isNaN(c._customZ) && (c._vertexZ = d.assignedZ, d.assignedZ += d.assignedZStep);
			c._adaptRenderers();
			this._syncStatus(a)
		}, a.transform = function(a, c) {
			this._transform || (this._transform = {
					a: 1,
					b: 0,
					c: 0,
					d: 1,
					tx: 0,
					ty: 0
				},
				this._worldTransform = {
					a: 1,
					b: 0,
					c: 0,
					d: 1,
					tx: 0,
					ty: 0
				});
			var d = this._node;
			if (d._visible && d._running) {
				d._adaptRenderers();
				if (!this._usingLayoutComponent) {
					var e = d.getWidgetParent();
					e && (e = e.getContentSize(), 0 !== e.width && 0 !== e.height && (d._position.x = e.width * d._positionPercent.x, d._position.y = e.height * d._positionPercent.y))
				}
				this.pNodeTransform(a, c)
			}
		};
	a.widgetTransform = a.transform
});
(function() {
	var a = {
			_pool: {},
			_lengths: [],
			put: function(a) {
				var b = a.length;
				this._pool[b] ? this._pool[b].push(a) : (this._pool[b] = [a], this._lengths.push(b), this._lengths.sort())
			},
			get: function(a) {
				for (var b, c = 0; c < this._lengths.length; c++)
					if (this._lengths[c] >= a) {
						b = this._lengths[c];
						break
					} if (b) return this._pool[b].pop()
			}
		},
		b = cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL,
		c, d = {
			_rebuildQuads_base: function(b, d, e, f) {
				var g = b._vertices,
					r = b._renderCmd._worldTransform,
					t, u, s;
				if (f) u = t = 0, s = e.width, e = e.height;
				else {
					t = d._originalSize;
					var w = d._rect,
						v = d._offset;
					s = e.width / t.width;
					f = e.height / t.height;
					var x = v.x - (t.width - w.width) / 2;
					u = v.y + (t.height - w.height) / 2;
					var A = v.y - (t.height - w.height) / 2;
					t = (v.x + (t.width - w.width) / 2) * s;
					u *= f;
					s = e.width + x * s;
					e = e.height + A * f
				}
				8 > g.length && (a.put(g), g = a.get(8) || new Float32Array(8), b._vertices = g);
				c ? (g[0] = t * r.a + u * r.c + r.tx, g[1] = t * r.b + u * r.d + r.ty, g[2] = s * r.a + u * r.c + r.tx, g[3] = s * r.b + u * r.d + r.ty, g[4] = t * r.a + e * r.c + r.tx, g[5] = t * r.b + e * r.d + r.ty, g[6] = s * r.a + e * r.c + r.tx, g[7] = s * r.b + e * r.d + r.ty) : (g[0] = t, g[1] = u, g[2] = s, g[3] = u, g[4] =
					t, g[5] = e, g[6] = s, g[7] = e);
				b._uvsDirty && this._calculateUVs(b, d);
				b._vertCount = 4
			},
			_calculateUVs: function(c, d) {
				var e = c._uvs,
					f = d._texture._pixelsWide,
					g = d._texture._pixelsHigh,
					r = d._rect,
					r = cc.rectPointsToPixels(r);
				8 > e.length && (a.put(e), e = a.get(8) || new Float32Array(8), c._uvs = e);
				var t, u, s = b ? 0.5 : 0;
				d._rotated ? (t = (r.x + s) / f, u = (r.y + r.width - s) / g, f = (r.x + r.height - s) / f, g = (r.y + s) / g, e[0] = t, e[1] = g, e[2] = t, e[3] = u, e[4] = f, e[5] = g, e[6] = f, e[7] = u) : (t = (r.x + s) / f, u = (r.y + r.height - s) / g, f = (r.x + r.width - s) / f, g = (r.y + s) / g, e[0] = t, e[1] = u,
					e[2] = f, e[3] = u, e[4] = t, e[5] = g, e[6] = f, e[7] = g)
			}
		},
		e = {
			x: Array(4),
			y: Array(4),
			_rebuildQuads_base: function(b, d, e, f, g, r, t) {
				var u = b._vertices,
					s = b._renderCmd._worldTransform,
					w = e.width - f - g,
					v = e.height - r - t,
					x = e.width / (f + g),
					A = e.height / (r + t),
					z = this.x,
					y = this.y;
				z[0] = 0;
				z[1] = f * (1 < x ? 1 : x);
				z[2] = z[1] + (0 > w ? 0 : w);
				z[3] = e.width;
				y[0] = 0;
				y[1] = t * (1 < A ? 1 : A);
				y[2] = y[1] + (0 > v ? 0 : v);
				y[3] = e.height;
				32 > u.length && (a.put(u), u = a.get(32) || new Float32Array(32), b._vertices = u);
				e = 0;
				if (c)
					for (w = 0; 4 > w; w++)
						for (v = 0; 4 > v; v++) u[e] = z[v] * s.a + y[w] * s.c + s.tx, u[e +
							1] = z[v] * s.b + y[w] * s.d + s.ty, e += 2;
				else
					for (w = 0; 4 > w; w++)
						for (v = 0; 4 > v; v++) u[e] = z[v], u[e + 1] = y[w], e += 2;
				b._uvsDirty && this._calculateUVs(b, d, f, g, r, t)
			},
			_calculateUVs: function(c, d, e, f, g, r) {
				var t = c._uvs,
					u = d._rect,
					s = d._texture._pixelsWide,
					w = d._texture._pixelsHigh,
					v, x = d._rect,
					x = cc.rectPointsToPixels(x),
					u = cc.rectPointsToPixels(u),
					A = cc.contentScaleFactor();
				e *= A;
				f = u.width - e - f * A;
				g *= A;
				r *= A;
				v = u.height - g - r;
				32 > t.length && (a.put(t), t = a.get(32) || new Float32Array(32), c._uvs = t);
				c = this.x;
				var u = this.y,
					z = b ? 0.5 : 0,
					A = 0;
				if (d._rotated)
					for (c[0] =
						(x.x + z) / s, c[1] = (r + x.x) / s, c[2] = (r + v + x.x) / s, c[3] = (x.x + x.height - z) / s, u[3] = (x.y + z) / w, u[2] = (e + x.y) / w, u[1] = (e + f + x.y) / w, u[0] = (x.y + x.width - z) / w, d = 0; 4 > d; d++)
						for (s = 0; 4 > s; s++) t[A] = c[d], t[A + 1] = u[3 - s], A += 2;
				else
					for (c[0] = (x.x + z) / s, c[1] = (e + x.x) / s, c[2] = (e + f + x.x) / s, c[3] = (x.x + x.width - z) / s, u[3] = (x.y + z) / w, u[2] = (g + x.y) / w, u[1] = (g + v + x.y) / w, u[0] = (x.y + x.height - z) / w, d = 0; 4 > d; d++)
						for (s = 0; 4 > s; s++) t[A] = c[s], t[A + 1] = u[d], A += 2
			}
		};
	ccui.Scale9Sprite = cc.Scale9Sprite = cc.Node.extend({
		_spriteFrame: null,
		_scale9Image: null,
		_insetLeft: 0,
		_insetRight: 0,
		_insetTop: 0,
		_insetBottom: 0,
		_blendFunc: null,
		_renderingType: 1,
		_brightState: 0,
		_opacityModifyRGB: !1,
		_rawVerts: null,
		_rawUvs: null,
		_vertices: null,
		_uvs: null,
		_vertCount: 0,
		_quadsDirty: !0,
		_uvsDirty: !0,
		_isTriangle: !1,
		_isTrimmedContentSize: !1,
		_textureLoaded: !1,
		_flippedX: !1,
		_flippedY: !1,
		_className: "Scale9Sprite",
		ctor: function(b, d, e) {
			cc.Node.prototype.ctor.call(this);
			this._loader = new cc.Sprite.LoadManager;
			this._renderCmd.setState(this._brightState);
			this._blendFunc = cc.BlendFunc._alphaPremultiplied();
			this.setAnchorPoint(cc.p(0.5,
				0.5));
			this._rawUvs = this._rawVerts = null;
			this._vertices = a.get(8) || new Float32Array(8);
			this._uvs = a.get(8) || new Float32Array(8);
			if (void 0 !== b)
				if (b instanceof cc.SpriteFrame) this.initWithSpriteFrame(b, d);
				else {
					var f = cc.spriteFrameCache.getSpriteFrame(b);
					f ? this.initWithSpriteFrame(f, d) : this.initWithFile(b, d, e)
				} void 0 === c && (c = cc._renderType === cc.game.RENDER_TYPE_WEBGL)
		},
		textureLoaded: function() {
			return this._textureLoaded
		},
		getCapInsets: function() {
			return cc.rect(this._capInsetsInternal)
		},
		_asyncSetCapInsets: function() {
			this.removeEventListener("load",
				this._asyncSetCapInsets, this);
			this.setCapInsets(this._cacheCapInsets);
			this._cacheCapInsets = null
		},
		setCapInsets: function(a) {
			if (!this.loaded()) return this._cacheCapInsets = a, this.removeEventListener("load", this._asyncSetCapInsets, this), this.addEventListener("load", this._asyncSetCapInsets, this), !1;
			this._capInsetsInternal = a;
			this._updateCapInsets(this._spriteFrame._rect, this._capInsetsInternal)
		},
		_updateCapInsets: function(a, b) {
			b && a && !cc._rectEqualToZero(b) ? this._capInsetsInternal = b : (a = a || {
				x: 0,
				y: 0,
				width: this._contentSize.width,
				height: this._contentSize.height
			}, this._capInsetsInternal = cc.rect(a.width / 3, a.height / 3, a.width / 3, a.height / 3));
			cc._rectEqualToZero(a) || (this._insetLeft = this._capInsetsInternal.x, this._insetTop = this._capInsetsInternal.y, this._insetRight = a.width - this._insetLeft - this._capInsetsInternal.width, this._insetBottom = a.height - this._insetTop - this._capInsetsInternal.height)
		},
		initWithFile: function(a, b, c) {
			a instanceof cc.Rect ? (c = a = b, b = cc.rect(0, 0, 0, 0)) : (b = b || cc.rect(0, 0, 0, 0), c = c || cc.rect(0, 0, 0, 0));
			if (!a) throw Error("ccui.Scale9Sprite.initWithFile(): file should be non-null");
			var d = cc.textureCache.getTextureForKey(a);
			d || (d = cc.textureCache.addImage(a));
			var e = d.isLoaded();
			this._textureLoaded = e;
			this._loader.clear();
			if (!e) return this._loader.once(d, function() {
				this.initWithFile(a, b, c);
				this.dispatchEvent("load")
			}, this), !1;
			cc._rectEqualToZero(b) && (e = d.getContentSize(), b = cc.rect(0, 0, e.width, e.height));
			this.setTexture(d, b);
			this._updateCapInsets(b, c);
			return !0
		},
		updateWithBatchNode: function(a, b, c, d) {
			if (!a) return !1;
			var e = a.getTexture();
			this._loader.clear();
			if (!e.isLoaded()) return this._loader.once(e,
				function() {
					this.updateWithBatchNode(a, b, c, d);
					this.dispatchEvent("load")
				}, this), !1;
			this.setTexture(e, b);
			this._updateCapInsets(b, d);
			return !0
		},
		initWithSpriteFrame: function(a, b) {
			this.setSpriteFrame(a);
			b = b || cc.rect(0, 0, 0, 0);
			this._updateCapInsets(a._rect, b)
		},
		initWithSpriteFrameName: function(a, b) {
			if (!a) throw Error("ccui.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null");
			b = b || cc.rect(0, 0, 0, 0);
			var c = cc.spriteFrameCache.getSpriteFrame(a);
			if (null == c) return cc.log("ccui.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
				!1;
			this.setSpriteFrame(c);
			b = b || cc.rect(0, 0, 0, 0);
			this._updateCapInsets(c._rect, b)
		},
		loaded: function() {
			return null === this._spriteFrame ? !1 : this._spriteFrame.textureLoaded()
		},
		setTexture: function(a, b) {
			var c = new cc.SpriteFrame(a, b);
			this.setSpriteFrame(c)
		},
		_updateBlendFunc: function() {
			var a = this._blendFunc;
			this._spriteFrame && this._spriteFrame._texture.hasPremultipliedAlpha() ? (a.src === cc.SRC_ALPHA && a.dst === cc.BLEND_DST && (a.src = cc.ONE), this._opacityModifyRGB = !0) : (a.src === cc.ONE && a.dst === cc.BLEND_DST && (a.src =
				cc.SRC_ALPHA), this._opacityModifyRGB = !1)
		},
		setOpacityModifyRGB: function(a) {
			this._opacityModifyRGB !== a && (this._opacityModifyRGB = a, this._renderCmd._setColorDirty())
		},
		isOpacityModifyRGB: function() {
			return this._opacityModifyRGB
		},
		setSpriteFrame: function(a) {
			if (a) {
				this._spriteFrame = a;
				this._uvsDirty = this._quadsDirty = !0;
				var b = this,
					c = function() {
						cc.sizeEqualToSize(b._contentSize, cc.size(0, 0)) && b.setContentSize(b._spriteFrame._rect);
						b._textureLoaded = !0;
						b._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty);
						cc.renderer.childrenOrderDirty = !0
					};
				b._textureLoaded = a.textureLoaded();
				b._textureLoaded ? c() : (this._loader.clear(), this._loader.once(a, function() {
					c();
					this.dispatchEvent("load")
				}, this))
			}
		},
		setBlendFunc: function(a, b) {
			void 0 === b ? (this._blendFunc.src = a.src || cc.BLEND_SRC, this._blendFunc.dst = a.dst || cc.BLEND_DST) : (this._blendFunc.src = a || cc.BLEND_SRC, this._blendFunc.dst = b || cc.BLEND_DST);
			this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty)
		},
		getBlendFunc: function() {
			return new cc.BlendFunc(this._blendFunc.src,
				this._blendFunc.dst)
		},
		setPreferredSize: function(a) {
			a && !cc.sizeEqualToSize(this._contentSize, a) && this.setContentSize(a)
		},
		getPreferredSize: function() {
			return this.getContentSize()
		},
		setContentSize: function(a, b) {
			void 0 === b && (b = a.height, a = a.width);
			if (a !== this._contentSize.width || b !== this._contentSize.height) cc.Node.prototype.setContentSize.call(this, a, b), this._quadsDirty = !0
		},
		getContentSize: function() {
			return this._renderingType === ccui.Scale9Sprite.RenderingType.SIMPLE ? this._spriteFrame ? this._spriteFrame._originalSize :
				cc.size(this._contentSize) : cc.size(this._contentSize)
		},
		_setWidth: function(a) {
			cc.Node.prototype._setWidth.call(this, a);
			this._quadsDirty = !0
		},
		_setHeight: function(a) {
			cc.Node.prototype._setHeight.call(this, a);
			this._quadsDirty = !0
		},
		setState: function(a) {
			this._brightState = a;
			this._renderCmd.setState(a);
			this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty)
		},
		getState: function() {
			return this._brightState
		},
		setRenderingType: function(a) {
			this._renderingType !== a && (this._renderingType = a, this._uvsDirty = this._quadsDirty = !0, this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty))
		},
		getRenderingType: function() {
			return this._renderingType
		},
		setInsetLeft: function(a) {
			this._insetLeft = a;
			this._uvsDirty = this._quadsDirty = !0;
			this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty)
		},
		getInsetLeft: function() {
			return this._insetLeft
		},
		setInsetTop: function(a) {
			this._insetTop = a;
			this._uvsDirty = this._quadsDirty = !0;
			this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty)
		},
		getInsetTop: function() {
			return this._insetTop
		},
		setInsetRight: function(a) {
			this._insetRight =
				a;
			this._uvsDirty = this._quadsDirty = !0;
			this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty)
		},
		getInsetRight: function() {
			return this._insetRight
		},
		setInsetBottom: function(a) {
			this._insetBottom = a;
			this._uvsDirty = this._quadsDirty = !0;
			this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty)
		},
		getInsetBottom: function() {
			return this._insetBottom
		},
		_rebuildQuads: function() {
			if (this._spriteFrame && this._spriteFrame._textureLoaded) {
				this._updateBlendFunc();
				this._isTriangle = !1;
				switch (this._renderingType) {
					case g.SIMPLE:
						d._rebuildQuads_base(this,
							this._spriteFrame, this._contentSize, this._isTrimmedContentSize);
						break;
					case g.SLICED:
						e._rebuildQuads_base(this, this._spriteFrame, this._contentSize, this._insetLeft, this._insetRight, this._insetTop, this._insetBottom);
						break;
					default:
						this._uvsDirty = this._quadsDirty = !1;
						cc.error("Can not generate quad");
						return
				}
				this._uvsDirty = this._quadsDirty = !1
			}
		},
		_createRenderCmd: function() {
			return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new ccui.Scale9Sprite.CanvasRenderCmd(this) : new ccui.Scale9Sprite.WebGLRenderCmd(this)
		}
	});
	var f = ccui.Scale9Sprite.prototype;
	cc.EventHelper.prototype.apply(f);
	cc.defineGetterSetter(f, "preferredSize", f.getPreferredSize, f.setPreferredSize);
	cc.defineGetterSetter(f, "capInsets", f.getCapInsets, f.setCapInsets);
	cc.defineGetterSetter(f, "insetLeft", f.getInsetLeft, f.setInsetLeft);
	cc.defineGetterSetter(f, "insetTop", f.getInsetTop, f.setInsetTop);
	cc.defineGetterSetter(f, "insetRight", f.getInsetRight, f.setInsetRight);
	cc.defineGetterSetter(f, "insetBottom", f.getInsetBottom, f.setInsetBottom);
	f = null;
	ccui.Scale9Sprite.create =
		function(a, b, c) {
			return new ccui.Scale9Sprite(a, b, c)
		};
	ccui.Scale9Sprite.createWithSpriteFrame = function(a, b) {
		return new ccui.Scale9Sprite(a, b)
	};
	ccui.Scale9Sprite.createWithSpriteFrameName = function(a, b) {
		return new ccui.Scale9Sprite(a, b)
	};
	ccui.Scale9Sprite.POSITIONS_CENTRE = 0;
	ccui.Scale9Sprite.POSITIONS_TOP = 1;
	ccui.Scale9Sprite.POSITIONS_LEFT = 2;
	ccui.Scale9Sprite.POSITIONS_RIGHT = 3;
	ccui.Scale9Sprite.POSITIONS_BOTTOM = 4;
	ccui.Scale9Sprite.POSITIONS_TOPRIGHT = 5;
	ccui.Scale9Sprite.POSITIONS_TOPLEFT = 6;
	ccui.Scale9Sprite.POSITIONS_BOTTOMRIGHT =
		7;
	ccui.Scale9Sprite.state = {
		NORMAL: 0,
		GRAY: 1
	};
	var g = ccui.Scale9Sprite.RenderingType = {
		SIMPLE: 0,
		SLICED: 1
	}
})();
(function() {
	ccui.Scale9Sprite.CanvasRenderCmd = function(a) {
		cc.Node.CanvasRenderCmd.call(this, a);
		this._needDraw = !0;
		this._state = ccui.Scale9Sprite.state.NORMAL;
		this._originalTexture = this._textureToRender = null
	};
	var a = ccui.Scale9Sprite.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	a.constructor = ccui.Scale9Sprite.CanvasRenderCmd;
	a.transform = function(a, c) {
		this.originTransform(a, c);
		this._node._rebuildQuads()
	};
	a.needDraw = function() {
		return this._needDraw && this._node.loaded()
	};
	a._updateDisplayColor =
		function(a) {
			cc.Node.RenderCmd.prototype._updateDisplayColor.call(this, a);
			this._originalTexture = this._textureToRender = null
		};
	a.setState = function(a) {
		this._state !== a && (this._state = a, this._originalTexture = this._textureToRender = null)
	};
	a._setColorDirty = function() {
		this.setDirtyFlag(cc.Node._dirtyFlags.colorDirty | cc.Node._dirtyFlags.opacityDirty)
	};
	a.rendering = function(a, c, d) {
		var e = this._node,
			f = this._displayedOpacity,
			g = f / 255,
			h = null;
		e._spriteFrame && (h = e._spriteFrame._texture);
		if (e.loaded() && 0 !== f) {
			if (null ===
				this._textureToRender || this._originalTexture !== h) this._textureToRender = this._originalTexture = h, cc.Scale9Sprite.state.GRAY === this._state && (this._textureToRender = this._textureToRender._generateGrayTexture()), f = e.getDisplayedColor(), !h || 255 === f.r && 255 === f.g && 255 === f.b || (this._textureToRender = this._textureToRender._generateColorTexture(f.r, f.g, f.b));
			h = a || cc._renderContext;
			a = h.getContext();
			h.setTransform(this._worldTransform, c, d);
			h.setCompositeOperation(cc.Node.CanvasRenderCmd._getCompositeOperationByBlendFunc(e._blendFunc));
			h.setGlobalAlpha(g);
			if (this._textureToRender) {
				e._quadsDirty && e._rebuildQuads();
				var k, m, n, p, r, t, u;
				c = this._textureToRender._pixelsWide;
				d = this._textureToRender._pixelsHigh;
				var g = this._textureToRender._htmlElementObj,
					f = e._vertices,
					s = e._uvs,
					w = 0,
					v = 0;
				if (e._renderingType === cc.Scale9Sprite.RenderingType.SLICED) {
					for (h = 0; 3 > h; ++h)
						for (w = 0; 3 > w; ++w) v = 8 * h + 2 * w, p = f[v], r = f[v + 1], t = f[v + 10] - p, u = f[v + 11] - r, r = -r - u, e = s[v] * c, k = s[v + 11] * d, m = (s[v + 10] - s[v]) * c, n = (s[v + 1] - s[v + 11]) * d, 0 < m && 0 < n && 0 < t && 0 < u && a.drawImage(g, e, k, m, n, p, r, t,
							u);
					cc.g_NumberOfDraws += 9
				} else {
					for (var x = Math.floor(e._vertCount / 4), v = w = 0; w < x; w++) p = f[v], r = f[v + 1], t = f[v + 6] - p, u = f[v + 7] - r, r = -r - u, e = s[v] * c, k = s[v + 7] * d, m = (s[v + 6] - s[v]) * c, n = (s[v + 1] - s[v + 7]) * d, "" !== this._textureToRender._pattern ? (h.setFillStyle(a.createPattern(g, this._textureToRender._pattern)), a.fillRect(p, r, t, u)) : 0 < m && 0 < n && 0 < t && 0 < u && a.drawImage(g, e, k, m, n, p, r, t, u), v += 8;
					cc.g_NumberOfDraws += x
				}
			}
		}
	}
})();
(function() {
	if (cc.Node.WebGLRenderCmd) {
		ccui.Scale9Sprite.WebGLRenderCmd = function(a) {
			cc.Node.WebGLRenderCmd.call(this, a);
			this._needDraw = !0;
			this._color = new Uint32Array(1);
			this._dirty = !1;
			this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)
		};
		var a = ccui.Scale9Sprite,
			b = ccui.Scale9Sprite.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
		b.constructor = ccui.Scale9Sprite.WebGLRenderCmd;
		b.needDraw = function() {
			return this._needDraw && this._node.loaded()
		};
		b._uploadSliced = function(a, b, e, f, g, h, k) {
			for (var m, n = 0; 3 > n; ++n)
				for (var p = 0; 3 > p; ++p) m = 8 * n + 2 * p, g[k] = a[m], g[k + 1] = a[m + 1], g[k + 2] = f, h[k + 3] = e[0], g[k + 4] = b[m], g[k + 5] = b[m + 1], k += 6, g[k] = a[m + 2], g[k + 1] = a[m + 3], g[k + 2] = f, h[k + 3] = e[0], g[k + 4] = b[m + 2], g[k + 5] = b[m + 3], k += 6, g[k] = a[m + 8], g[k + 1] = a[m + 9], g[k + 2] = f, h[k + 3] = e[0], g[k + 4] = b[m + 8], g[k + 5] = b[m + 9], k += 6, g[k] = a[m + 10], g[k + 1] = a[m + 11], g[k + 2] = f, h[k + 3] = e[0], g[k + 4] = b[m + 10], g[k + 5] = b[m + 11], k += 6;
			return 36
		};
		b.transform = function(a, b) {
			this.originTransform(a, b);
			this._node._rebuildQuads()
		};
		b._setColorDirty = function() {};
		b.uploadData = function(b, d, e) {
			var f = this._node;
			if (0 === this._displayedOpacity) return 0;
			f._quadsDirty && f._rebuildQuads();
			var g = this._displayedOpacity,
				h = this._displayedColor.r,
				k = this._displayedColor.g,
				m = this._displayedColor.b;
			if (f._opacityModifyRGB) var n = g / 255,
				h = h * n,
				k = k * n,
				m = m * n;
			this._color[0] = g << 24 | m << 16 | k << 8 | h;
			g = f._vertexZ;
			h = f._vertices;
			k = f._uvs;
			n = a.RenderingType;
			m = 0;
			switch (f._renderingType) {
				case n.SIMPLE:
					m = this._node._vertCount;
					for (n = f = 0; f < m; f++, n += 2) b[e] = h[n], b[e + 1] = h[n +
						1], b[e + 2] = g, d[e + 3] = this._color[0], b[e + 4] = k[n], b[e + 5] = k[n + 1], e += 6;
					break;
				case n.SLICED:
					m = this._uploadSliced(h, k, this._color, g, b, d, e)
			}
			return m
		};
		b.setState = function(b) {
			b === a.state.NORMAL ? this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR) : b === a.state.GRAY && (this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR_GRAY))
		}
	}
})();
ccui.Layout = ccui.Widget.extend({
	_clippingEnabled: !1,
	_backGroundScale9Enabled: null,
	_backGroundImage: null,
	_backGroundImageFileName: null,
	_backGroundImageCapInsets: null,
	_colorType: null,
	_bgImageTexType: ccui.Widget.LOCAL_TEXTURE,
	_colorRender: null,
	_gradientRender: null,
	_color: null,
	_startColor: null,
	_endColor: null,
	_alongVector: null,
	_opacity: 255,
	_backGroundImageTextureSize: null,
	_layoutType: null,
	_doLayoutDirty: !0,
	_clippingRectDirty: !0,
	_clippingType: null,
	_clippingStencil: null,
	_scissorRectDirty: !1,
	_clippingRect: null,
	_clippingParent: null,
	_className: "Layout",
	_backGroundImageColor: null,
	_finalPositionX: 0,
	_finalPositionY: 0,
	_backGroundImageOpacity: 0,
	_loopFocus: !1,
	__passFocusToChild: !0,
	_isFocusPassing: !1,
	_isInterceptTouch: !1,
	ctor: function() {
		this._layoutType = ccui.Layout.ABSOLUTE;
		this._widgetType = ccui.Widget.TYPE_CONTAINER;
		this._clippingType = ccui.Layout.CLIPPING_SCISSOR;
		this._colorType = ccui.Layout.BG_COLOR_NONE;
		ccui.Widget.prototype.ctor.call(this);
		this.ignoreContentAdaptWithSize(!1);
		this.setContentSize(cc.size(0, 0));
		this.setAnchorPoint(0, 0);
		this.onPassFocusToChild = this._findNearestChildWidgetIndex.bind(this);
		this._backGroundImageCapInsets = cc.rect(0, 0, 0, 0);
		this._color = cc.color(255, 255, 255, 255);
		this._startColor = cc.color(255, 255, 255, 255);
		this._endColor = cc.color(255, 255, 255, 255);
		this._alongVector = cc.p(0, -1);
		this._backGroundImageTextureSize = cc.size(0, 0);
		this._clippingRect = cc.rect(0, 0, 0, 0);
		this._backGroundImageColor = cc.color(255, 255, 255, 255)
	},
	onEnter: function() {
		ccui.Widget.prototype.onEnter.call(this);
		this._clippingStencil &&
			this._clippingStencil._performRecursive(cc.Node._stateCallbackType.onEnter);
		this._clippingRectDirty = this._doLayoutDirty = !0
	},
	onExit: function() {
		ccui.Widget.prototype.onExit.call(this);
		this._clippingStencil && this._clippingStencil._performRecursive(cc.Node._stateCallbackType.onExit)
	},
	visit: function(a) {
		var b = this._renderCmd,
			c = a ? a._renderCmd : null;
		if (this._visible) {
			this._adaptRenderers();
			this._doLayout();
			b.visit(c);
			a = this._clippingEnabled && this._clippingType === ccui.Layout.CLIPPING_STENCIL;
			var d = this._clippingEnabled &&
				this._clippingType === ccui.Layout.CLIPPING_SCISSOR;
			a ? b.stencilClippingVisit(c) : d && b.scissorClippingVisit(c);
			var e = this._children,
				f = e.length,
				g, h = this._protectedChildren,
				k = h.length,
				m;
			this._reorderChildDirty && this.sortAllChildren();
			this._reorderProtectedChildDirty && this.sortAllProtectedChildren();
			for (c = 0; c < f; c++)
				if (g = e[c], 0 > g._localZOrder) g.visit(this);
				else break;
			for (g = 0; g < k; g++)
				if (m = h[g], 0 > m._localZOrder) b._changeProtectedChild(m), m.visit(this);
				else break;
			for (; c < f; c++) e[c].visit(this);
			for (; g < k; g++) m =
				h[g], b._changeProtectedChild(m), m.visit(this);
			a ? b.postStencilVisit() : d && b.postScissorVisit();
			b._dirtyFlag = 0
		} else b._propagateFlagsDown(c)
	},
	setLoopFocus: function(a) {
		this._loopFocus = a
	},
	isLoopFocus: function() {
		return this._loopFocus
	},
	setPassFocusToChild: function(a) {
		this.__passFocusToChild = a
	},
	isPassFocusToChild: function() {
		return this.__passFocusToChild
	},
	findNextFocusedWidget: function(a, b) {
		if (this._isFocusPassing || this.isFocused()) {
			var c = this.getParent();
			this._isFocusPassing = !1;
			if (this.__passFocusToChild) {
				var d =
					this._passFocusToChild(a, b);
				return d instanceof ccui.Layout && c ? (c._isFocusPassing = !0, c.findNextFocusedWidget(a, this)) : d
			}
			if (null == c || !(c instanceof ccui.Layout)) return this;
			c._isFocusPassing = !0;
			return c.findNextFocusedWidget(a, this)
		}
		if (b.isFocused() || b instanceof ccui.Layout)
			if (this._layoutType === ccui.Layout.LINEAR_HORIZONTAL) switch (a) {
					case ccui.Widget.LEFT:
						return this._getPreviousFocusedWidget(a, b);
					case ccui.Widget.RIGHT:
						return this._getNextFocusedWidget(a, b);
					case ccui.Widget.DOWN:
					case ccui.Widget.UP:
						return this._isLastWidgetInContainer(this,
							a) ? this._isWidgetAncestorSupportLoopFocus(b, a) ? ccui.Widget.prototype.findNextFocusedWidget.call(this, a, this) : b : ccui.Widget.prototype.findNextFocusedWidget.call(this, a, this);
					default:
						return cc.assert(0, "Invalid Focus Direction"), b
				} else if (this._layoutType === ccui.Layout.LINEAR_VERTICAL) switch (a) {
					case ccui.Widget.LEFT:
					case ccui.Widget.RIGHT:
						return this._isLastWidgetInContainer(this, a) ? this._isWidgetAncestorSupportLoopFocus(b, a) ? ccui.Widget.prototype.findNextFocusedWidget.call(this, a, this) : b : ccui.Widget.prototype.findNextFocusedWidget.call(this,
							a, this);
					case ccui.Widget.DOWN:
						return this._getNextFocusedWidget(a, b);
					case ccui.Widget.UP:
						return this._getPreviousFocusedWidget(a, b);
					default:
						return cc.assert(0, "Invalid Focus Direction"), b
				} else return cc.assert(0, "Un Supported Layout type, please use VBox and HBox instead!!!"), b;
				else return b
	},
	onPassFocusToChild: null,
	addChild: function(a, b, c) {
		a instanceof ccui.Widget && this._supplyTheLayoutParameterLackToChild(a);
		ccui.Widget.prototype.addChild.call(this, a, b, c);
		this._doLayoutDirty = !0
	},
	removeChild: function(a,
		b) {
		ccui.Widget.prototype.removeChild.call(this, a, b);
		this._doLayoutDirty = !0
	},
	removeAllChildren: function(a) {
		ccui.Widget.prototype.removeAllChildren.call(this, a);
		this._doLayoutDirty = !0
	},
	removeAllChildrenWithCleanup: function(a) {
		ccui.Widget.prototype.removeAllChildrenWithCleanup.call(this, a);
		this._doLayoutDirty = !0
	},
	isClippingEnabled: function() {
		return this._clippingEnabled
	},
	setClippingEnabled: function(a) {
		if (a !== this._clippingEnabled) switch (this._clippingEnabled = a, this._clippingType) {
			case ccui.Layout.CLIPPING_SCISSOR:
			case ccui.Layout.CLIPPING_STENCIL:
				a ?
					(this._clippingStencil = new cc.DrawNode, this._renderCmd.rebindStencilRendering(this._clippingStencil), this._running && this._clippingStencil._performRecursive(cc.Node._stateCallbackType.onEnter), this._setStencilClippingSize(this._contentSize)) : (this._running && this._clippingStencil && this._clippingStencil._performRecursive(cc.Node._stateCallbackType.onExit), this._clippingStencil = null)
		}
	},
	setClippingType: function(a) {
		if (a !== this._clippingType) {
			var b = this.isClippingEnabled();
			this.setClippingEnabled(!1);
			this._clippingType =
				a;
			this.setClippingEnabled(b)
		}
	},
	getClippingType: function() {
		return this._clippingType
	},
	_setStencilClippingSize: function(a) {
		if (this._clippingEnabled) {
			var b = [];
			b[0] = cc.p(0, 0);
			b[1] = cc.p(a.width, 0);
			b[2] = cc.p(a.width, a.height);
			b[3] = cc.p(0, a.height);
			var c = cc.color.GREEN;
			this._clippingStencil.clear();
			this._clippingStencil.setLocalBB && this._clippingStencil.setLocalBB(0, 0, a.width, a.height);
			this._clippingStencil.drawPoly(b, null, 0, c)
		}
	},
	_getClippingRect: function() {
		if (this._clippingRectDirty) {
			var a = this.convertToWorldSpace(cc.p(0,
					0)),
				b = this.getNodeToWorldTransform(),
				c = this._contentSize.width * b.a,
				b = this._contentSize.height * b.d,
				d;
			for (d = this; d;)
				if ((d = d.getParent()) && d instanceof ccui.Layout && d.isClippingEnabled()) {
					this._clippingParent = d;
					break
				} this._clippingParent ? (d = this._clippingParent._getClippingRect(), this._clippingRect.x = Math.max(a.x, d.x), this._clippingRect.y = Math.max(a.y, d.y), c = Math.min(a.x + c, d.x + d.width), a = Math.min(a.y + b, d.y + d.height), this._clippingRect.width = Math.max(0, c - this._clippingRect.x), this._clippingRect.height =
				Math.max(0, a - this._clippingRect.y)) : (this._clippingRect.x = a.x, this._clippingRect.y = a.y, this._clippingRect.width = c, this._clippingRect.height = b);
			this._clippingRectDirty = !1
		}
		return this._clippingRect
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		var a = this._contentSize;
		this._setStencilClippingSize(a);
		this._clippingRectDirty = this._doLayoutDirty = !0;
		this._backGroundImage && (this._backGroundImage.setPosition(0.5 * a.width, 0.5 * a.height), this._backGroundScale9Enabled && this._backGroundImage instanceof ccui.Scale9Sprite && this._backGroundImage.setPreferredSize(a));
		this._colorRender && this._colorRender.setContentSize(a);
		this._gradientRender && this._gradientRender.setContentSize(a)
	},
	setBackGroundImageScale9Enabled: function(a) {
		this._backGroundScale9Enabled !== a && (this.removeProtectedChild(this._backGroundImage), this._backGroundImage = null, this._backGroundScale9Enabled = a, this._addBackGroundImage(), this.setBackGroundImage(this._backGroundImageFileName, this._bgImageTexType), this.setBackGroundImageCapInsets(this._backGroundImageCapInsets))
	},
	isBackGroundImageScale9Enabled: function() {
		return this._backGroundScale9Enabled
	},
	setBackGroundImage: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			null === this._backGroundImage && (this._addBackGroundImage(), this.setBackGroundImageScale9Enabled(this._backGroundScale9Enabled));
			this._backGroundImageFileName = a;
			this._bgImageTexType = b;
			var c = this._backGroundImage;
			switch (this._bgImageTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			this._backGroundScale9Enabled &&
				c.setPreferredSize(this._contentSize);
			this._backGroundImageTextureSize = c.getContentSize();
			c.setPosition(0.5 * this._contentSize.width, 0.5 * this._contentSize.height);
			this._updateBackGroundImageColor()
		}
	},
	setBackGroundImageCapInsets: function(a) {
		if (a) {
			var b = this._backGroundImageCapInsets;
			b.x = a.x;
			b.y = a.y;
			b.width = a.width;
			b.height = a.height;
			this._backGroundScale9Enabled && this._backGroundImage.setCapInsets(a)
		}
	},
	getBackGroundImageCapInsets: function() {
		return cc.rect(this._backGroundImageCapInsets)
	},
	_supplyTheLayoutParameterLackToChild: function(a) {
		if (a) switch (this._layoutType) {
			case ccui.Layout.LINEAR_HORIZONTAL:
			case ccui.Layout.LINEAR_VERTICAL:
				var b =
					a.getLayoutParameter(ccui.LayoutParameter.LINEAR);
				b || a.setLayoutParameter(new ccui.LinearLayoutParameter);
				break;
			case ccui.Layout.RELATIVE:
				(b = a.getLayoutParameter(ccui.LayoutParameter.RELATIVE)) || a.setLayoutParameter(new ccui.RelativeLayoutParameter)
		}
	},
	_addBackGroundImage: function() {
		var a = this._contentSize;
		this._backGroundScale9Enabled ? (this._backGroundImage = new ccui.Scale9Sprite, this._backGroundImage.setPreferredSize(a)) : this._backGroundImage = new cc.Sprite;
		this.addProtectedChild(this._backGroundImage,
			ccui.Layout.BACKGROUND_IMAGE_ZORDER, -1);
		this._backGroundImage.setPosition(0.5 * a.width, 0.5 * a.height)
	},
	removeBackGroundImage: function() {
		this._backGroundImage && (this.removeProtectedChild(this._backGroundImage), this._backGroundImage = null, this._backGroundImageFileName = "", this._backGroundImageTextureSize.width = 0, this._backGroundImageTextureSize.height = 0)
	},
	setBackGroundColorType: function(a) {
		if (this._colorType !== a) {
			switch (this._colorType) {
				case ccui.Layout.BG_COLOR_NONE:
					this._colorRender && (this.removeProtectedChild(this._colorRender),
						this._colorRender = null);
					this._gradientRender && (this.removeProtectedChild(this._gradientRender), this._gradientRender = null);
					break;
				case ccui.Layout.BG_COLOR_SOLID:
					this._colorRender && (this.removeProtectedChild(this._colorRender), this._colorRender = null);
					break;
				case ccui.Layout.BG_COLOR_GRADIENT:
					this._gradientRender && (this.removeProtectedChild(this._gradientRender), this._gradientRender = null)
			}
			this._colorType = a;
			switch (this._colorType) {
				case ccui.Layout.BG_COLOR_SOLID:
					this._colorRender = new cc.LayerColor;
					this._colorRender.setContentSize(this._contentSize);
					this._colorRender.setOpacity(this._opacity);
					this._colorRender.setColor(this._color);
					this.addProtectedChild(this._colorRender, ccui.Layout.BACKGROUND_RENDERER_ZORDER, -1);
					break;
				case ccui.Layout.BG_COLOR_GRADIENT:
					this._gradientRender = new cc.LayerGradient(cc.color(255, 0, 0, 255), cc.color(0, 255, 0, 255)), this._gradientRender.setContentSize(this._contentSize), this._gradientRender.setOpacity(this._opacity), this._gradientRender.setStartColor(this._startColor), this._gradientRender.setEndColor(this._endColor), this._gradientRender.setVector(this._alongVector),
						this.addProtectedChild(this._gradientRender, ccui.Layout.BACKGROUND_RENDERER_ZORDER, -1)
			}
		}
	},
	getBackGroundColorType: function() {
		return this._colorType
	},
	setBackGroundColor: function(a, b) {
		b ? (this._startColor.r = a.r, this._startColor.g = a.g, this._startColor.b = a.b, this._gradientRender && this._gradientRender.setStartColor(a), this._endColor.r = b.r, this._endColor.g = b.g, this._endColor.b = b.b, this._gradientRender && this._gradientRender.setEndColor(b)) : (this._color.r = a.r, this._color.g = a.g, this._color.b = a.b, this._colorRender &&
			this._colorRender.setColor(a))
	},
	getBackGroundColor: function() {
		var a = this._color;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	getBackGroundStartColor: function() {
		var a = this._startColor;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	getBackGroundEndColor: function() {
		var a = this._endColor;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	setBackGroundColorOpacity: function(a) {
		this._opacity = a;
		switch (this._colorType) {
			case ccui.Layout.BG_COLOR_SOLID:
				this._colorRender.setOpacity(a);
				break;
			case ccui.Layout.BG_COLOR_GRADIENT:
				this._gradientRender.setOpacity(a)
		}
	},
	getBackGroundColorOpacity: function() {
		return this._opacity
	},
	setBackGroundColorVector: function(a) {
		this._alongVector.x = a.x;
		this._alongVector.y = a.y;
		this._gradientRender && this._gradientRender.setVector(a)
	},
	getBackGroundColorVector: function() {
		return this._alongVector
	},
	setBackGroundImageColor: function(a) {
		this._backGroundImageColor.r = a.r;
		this._backGroundImageColor.g = a.g;
		this._backGroundImageColor.b = a.b;
		this._updateBackGroundImageColor()
	},
	setBackGroundImageOpacity: function(a) {
		this._backGroundImageColor.a =
			a;
		this.getBackGroundImageColor()
	},
	getBackGroundImageColor: function() {
		var a = this._backGroundImageColor;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	getBackGroundImageOpacity: function() {
		return this._backGroundImageColor.a
	},
	_updateBackGroundImageColor: function() {
		this._backGroundImage && this._backGroundImage.setColor(this._backGroundImageColor)
	},
	getBackGroundImageTextureSize: function() {
		return this._backGroundImageTextureSize
	},
	setLayoutType: function(a) {
		this._layoutType = a;
		a = this._children;
		for (var b = null, c = 0; c < a.length; c++) b =
			a[c], b instanceof ccui.Widget && this._supplyTheLayoutParameterLackToChild(b);
		this._doLayoutDirty = !0
	},
	getLayoutType: function() {
		return this._layoutType
	},
	requestDoLayout: function() {
		this._doLayoutDirty = !0
	},
	_doLayout: function() {
		if (this._doLayoutDirty) {
			this.sortAllChildren();
			var a = ccui.getLayoutManager(this._layoutType);
			a && a._doLayout(this);
			this._doLayoutDirty = !1
		}
	},
	_getLayoutContentSize: function() {
		return this.getContentSize()
	},
	_getLayoutElements: function() {
		return this.getChildren()
	},
	_updateBackGroundImageOpacity: function() {
		this._backGroundImage &&
			this._backGroundImage.setOpacity(this._backGroundImageOpacity)
	},
	_updateBackGroundImageRGBA: function() {
		this._backGroundImage && (this._backGroundImage.setColor(this._backGroundImageColor), this._backGroundImage.setOpacity(this._backGroundImageOpacity))
	},
	_getLayoutAccumulatedSize: function() {
		for (var a = this.getChildren(), b = cc.size(0, 0), c = 0, d, e = 0, f = a.length; e < f; e++)
			if (d = a[e], null !== d && d instanceof ccui.Layout) d = d._getLayoutAccumulatedSize(), b.width += d.width, b.height += d.height;
			else if (d instanceof ccui.Widget) {
			c++;
			var g = d.getLayoutParameter().getMargin();
			d = d.getContentSize();
			b.width += d.width + 0.5 * (g.right + g.left);
			b.height += d.height + 0.5 * (g.top + g.bottom)
		}
		a = this.getLayoutType();
		a === ccui.Layout.LINEAR_HORIZONTAL && (b.height -= b.height / c * (c - 1));
		a === ccui.Layout.LINEAR_VERTICAL && (b.width -= b.width / c * (c - 1));
		return b
	},
	_findNearestChildWidgetIndex: function(a, b) {
		if (null == b || b === this) return this._findFirstFocusEnabledWidgetIndex();
		var c = 0,
			d = this.getChildren(),
			e = d.length,
			f, g = cc.FLT_MAX,
			h = 0;
		if (a === ccui.Widget.LEFT || a === ccui.Widget.RIGHT ||
			a === ccui.Widget.DOWN || a === ccui.Widget.UP) {
			for (f = this._getWorldCenterPoint(b); c < e;) {
				var k = d[c];
				k && k instanceof ccui.Widget && k.isFocusEnabled() && (k = k instanceof ccui.Layout ? k._calculateNearestDistance(b) : cc.pLength(cc.pSub(this._getWorldCenterPoint(k), f)), k < g && (h = c, g = k));
				c++
			}
			return h
		}
		cc.log("invalid focus direction!");
		return 0
	},
	_findFarthestChildWidgetIndex: function(a, b) {
		if (null == b || b === this) return this._findFirstFocusEnabledWidgetIndex();
		var c = 0,
			d = this.getChildren(),
			e = d.length,
			f = -cc.FLT_MAX,
			g = 0;
		if (a ===
			ccui.Widget.LEFT || a === ccui.Widget.RIGHT || a === ccui.Widget.DOWN || a === ccui.Widget.UP) {
			for (var h = this._getWorldCenterPoint(b); c < e;) {
				var k = d[c];
				k && k instanceof ccui.Widget && k.isFocusEnabled() && (k = k instanceof ccui.Layout ? k._calculateFarthestDistance(b) : cc.pLength(cc.pSub(this._getWorldCenterPoint(k), h)), k > f && (g = c, f = k));
				c++
			}
			return g
		}
		cc.log("invalid focus direction!!!");
		return 0
	},
	_calculateNearestDistance: function(a) {
		for (var b = cc.FLT_MAX, c = this._getWorldCenterPoint(a), d = this._children, e = 0, f = d.length; e < f; e++) {
			var g =
				d[e];
			if (g instanceof ccui.Layout) g = g._calculateNearestDistance(a);
			else if (g instanceof ccui.Widget && g.isFocusEnabled()) g = cc.pLength(cc.pSub(this._getWorldCenterPoint(g), c));
			else continue;
			g < b && (b = g)
		}
		return b
	},
	_calculateFarthestDistance: function(a) {
		for (var b = -cc.FLT_MAX, c = this._getWorldCenterPoint(a), d = this._children, e = 0, f = d.length; e < f; e++) {
			var g = d[e];
			if (g instanceof ccui.Layout) g = g._calculateFarthestDistance(a);
			else if (g instanceof ccui.Widget && g.isFocusEnabled()) g = this._getWorldCenterPoint(g), g = cc.pLength(cc.pSub(g,
				c));
			else continue;
			g > b && (b = g)
		}
		return b
	},
	_findProperSearchingFunctor: function(a, b) {
		if (void 0 !== b) {
			var c = this._getWorldCenterPoint(b),
				d = this._getWorldCenterPoint(this._findFirstNonLayoutWidget());
			a === ccui.Widget.LEFT ? this.onPassFocusToChild = c.x > d.x ? this._findNearestChildWidgetIndex : this._findFarthestChildWidgetIndex : a === ccui.Widget.RIGHT ? this.onPassFocusToChild = c.x > d.x ? this._findFarthestChildWidgetIndex : this._findNearestChildWidgetIndex : a === ccui.Widget.DOWN ? this.onPassFocusToChild = c.y > d.y ? this._findNearestChildWidgetIndex :
				this._findFarthestChildWidgetIndex : a === ccui.Widget.UP ? this.onPassFocusToChild = c.y < d.y ? this._findNearestChildWidgetIndex : this._findFarthestChildWidgetIndex : cc.log("invalid direction!")
		}
	},
	_findFirstNonLayoutWidget: function() {
		for (var a = this._children, b = 0, c = a.length; b < c; b++) {
			var d = a[b];
			if (d instanceof ccui.Layout) {
				if (d = d._findFirstNonLayoutWidget()) return d
			} else if (d instanceof ccui.Widget) return d
		}
		return null
	},
	_findFirstFocusEnabledWidgetIndex: function() {
		for (var a = 0, b = this.getChildren(), c = b.length; a <
			c;) {
			var d = b[a];
			if (d && d instanceof ccui.Widget && d.isFocusEnabled()) return a;
			a++
		}
		return 0
	},
	_findFocusEnabledChildWidgetByIndex: function(a) {
		var b = this._getChildWidgetByIndex(a);
		return b ? b.isFocusEnabled() ? b : this._findFocusEnabledChildWidgetByIndex(a + 1) : null
	},
	_getWorldCenterPoint: function(a) {
		var b = a instanceof ccui.Layout ? a._getLayoutAccumulatedSize() : a.getContentSize();
		return a.convertToWorldSpace(cc.p(b.width / 2, b.height / 2))
	},
	_getNextFocusedWidget: function(a, b) {
		var c = null,
			c = this._children,
			d = c.indexOf(b),
			d = d + 1;
		if (d < c.length) {
			if (c = this._getChildWidgetByIndex(d)) {
				if (c.isFocusEnabled()) {
					if (c instanceof ccui.Layout) return c._isFocusPassing = !0, c.findNextFocusedWidget(a, c);
					this.dispatchFocusEvent(b, c);
					return c
				}
				return this._getNextFocusedWidget(a, c)
			}
			return b
		}
		if (this._loopFocus) {
			if (this._checkFocusEnabledChild()) {
				c = this._getChildWidgetByIndex(0);
				if (c.isFocusEnabled()) {
					if (c instanceof ccui.Layout) return c._isFocusPassing = !0, c.findNextFocusedWidget(a, c);
					this.dispatchFocusEvent(b, c);
					return c
				}
				return this._getNextFocusedWidget(a,
					c)
			}
			return b instanceof ccui.Layout ? b : ccui.Widget._focusedWidget
		}
		return this._isLastWidgetInContainer(b, a) ? this._isWidgetAncestorSupportLoopFocus(this, a) ? ccui.Widget.prototype.findNextFocusedWidget.call(this, a, this) : b instanceof ccui.Layout ? b : ccui.Widget._focusedWidget : ccui.Widget.prototype.findNextFocusedWidget.call(this, a, this)
	},
	_getPreviousFocusedWidget: function(a, b) {
		var c = null,
			c = this._children,
			d = c.indexOf(b),
			d = d - 1;
		if (0 <= d) {
			c = this._getChildWidgetByIndex(d);
			if (c.isFocusEnabled()) {
				if (c instanceof ccui.Layout) return c._isFocusPassing = !0, c.findNextFocusedWidget(a, c);
				this.dispatchFocusEvent(b, c);
				return c
			}
			return this._getPreviousFocusedWidget(a, c)
		}
		if (this._loopFocus) {
			if (this._checkFocusEnabledChild()) {
				d = c.length - 1;
				c = this._getChildWidgetByIndex(d);
				if (c.isFocusEnabled()) {
					if (c instanceof ccui.Layout) return c._isFocusPassing = !0, c.findNextFocusedWidget(a, c);
					this.dispatchFocusEvent(b, c);
					return c
				}
				return this._getPreviousFocusedWidget(a, c)
			}
			return b instanceof ccui.Layout ? b : ccui.Widget._focusedWidget
		}
		return this._isLastWidgetInContainer(b,
			a) ? this._isWidgetAncestorSupportLoopFocus(this, a) ? ccui.Widget.prototype.findNextFocusedWidget.call(this, a, this) : b instanceof ccui.Layout ? b : ccui.Widget._focusedWidget : ccui.Widget.prototype.findNextFocusedWidget.call(this, a, this)
	},
	_getChildWidgetByIndex: function(a) {
		for (var b = this._children, c = b.length, d = 0, e = a; a < c;) {
			var f = b[a];
			if (f && f instanceof ccui.Widget) return f;
			d++;
			a++
		}
		for (a = 0; a < e;) {
			if ((c = b[a]) && c instanceof ccui.Widget) return c;
			d++;
			a++
		}
		return null
	},
	_isLastWidgetInContainer: function(a, b) {
		var c = a.getParent();
		if (null == c || !(c instanceof ccui.Layout)) return !0;
		var d = c.getChildren(),
			e = d.indexOf(a);
		if (c.getLayoutType() === ccui.Layout.LINEAR_HORIZONTAL) {
			if (b === ccui.Widget.LEFT) return 0 === e ? this._isLastWidgetInContainer(c, b) : !1;
			if (b === ccui.Widget.RIGHT) return e === d.length - 1 ? this._isLastWidgetInContainer(c, b) : !1;
			if (b === ccui.Widget.DOWN || b === ccui.Widget.UP) return this._isLastWidgetInContainer(c, b)
		} else if (c.getLayoutType() === ccui.Layout.LINEAR_VERTICAL) {
			if (b === ccui.Widget.UP) return 0 === e ? this._isLastWidgetInContainer(c,
				b) : !1;
			if (b === ccui.Widget.DOWN) return e === d.length - 1 ? this._isLastWidgetInContainer(c, b) : !1;
			if (b === ccui.Widget.LEFT || b === ccui.Widget.RIGHT) return this._isLastWidgetInContainer(c, b)
		} else return cc.log("invalid layout Type"), !1
	},
	_isWidgetAncestorSupportLoopFocus: function(a, b) {
		var c = a.getParent();
		if (null == c || !(c instanceof ccui.Layout)) return !1;
		if (c.isLoopFocus()) {
			var d = c.getLayoutType();
			if (d === ccui.Layout.LINEAR_HORIZONTAL) return b === ccui.Widget.LEFT || b === ccui.Widget.RIGHT ? !0 : this._isWidgetAncestorSupportLoopFocus(c,
				b);
			if (d === ccui.Layout.LINEAR_VERTICAL) return b === ccui.Widget.DOWN || b === ccui.Widget.UP ? !0 : this._isWidgetAncestorSupportLoopFocus(c, b);
			cc.assert(0, "invalid layout type");
			return !1
		}
		return this._isWidgetAncestorSupportLoopFocus(c, b)
	},
	_passFocusToChild: function(a, b) {
		if (this._checkFocusEnabledChild()) {
			var c = ccui.Widget.getCurrentFocusedWidget();
			this._findProperSearchingFunctor(a, c);
			c = this.onPassFocusToChild(a, c);
			c = this._getChildWidgetByIndex(c);
			if (c instanceof ccui.Layout) return c._isFocusPassing = !0, c.findNextFocusedWidget(a,
				c);
			this.dispatchFocusEvent(b, c);
			return c
		}
		return this
	},
	_checkFocusEnabledChild: function() {
		for (var a = this._children, b = 0, c = a.length; b < c; b++) {
			var d = a[b];
			if (d && d instanceof ccui.Widget && d.isFocusEnabled()) return !0
		}
		return !1
	},
	getDescription: function() {
		return "Layout"
	},
	_createCloneInstance: function() {
		return new ccui.Layout
	},
	_copyClonedWidgetChildren: function(a) {
		ccui.Widget.prototype._copyClonedWidgetChildren.call(this, a)
	},
	_copySpecialProperties: function(a) {
		a instanceof ccui.Layout && (this.setBackGroundImageScale9Enabled(a._backGroundScale9Enabled),
			this.setBackGroundImage(a._backGroundImageFileName, a._bgImageTexType), this.setBackGroundImageCapInsets(a._backGroundImageCapInsets), this.setBackGroundColorType(a._colorType), this.setBackGroundColor(a._color), this.setBackGroundColor(a._startColor, a._endColor), this.setBackGroundColorOpacity(a._opacity), this.setBackGroundColorVector(a._alongVector), this.setLayoutType(a._layoutType), this.setClippingEnabled(a._clippingEnabled), this.setClippingType(a._clippingType), this._loopFocus = a._loopFocus, this.__passFocusToChild =
			a.__passFocusToChild, this._isInterceptTouch = a._isInterceptTouch)
	},
	forceDoLayout: function() {
		this.requestDoLayout();
		this._doLayout()
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_WEBGL ? new ccui.Layout.WebGLRenderCmd(this) : new ccui.Layout.CanvasRenderCmd(this)
	}
});
_p = ccui.Layout.prototype;
cc.defineGetterSetter(_p, "clippingEnabled", _p.isClippingEnabled, _p.setClippingEnabled);
cc.defineGetterSetter(_p, "clippingType", null, _p.setClippingType);
cc.defineGetterSetter(_p, "layoutType", _p.getLayoutType, _p.setLayoutType);
_p = null;
ccui.Layout.create = function() {
	return new ccui.Layout
};
ccui.Layout.BG_COLOR_NONE = 0;
ccui.Layout.BG_COLOR_SOLID = 1;
ccui.Layout.BG_COLOR_GRADIENT = 2;
ccui.Layout.ABSOLUTE = 0;
ccui.Layout.LINEAR_VERTICAL = 1;
ccui.Layout.LINEAR_HORIZONTAL = 2;
ccui.Layout.RELATIVE = 3;
ccui.Layout.CLIPPING_STENCIL = 0;
ccui.Layout.CLIPPING_SCISSOR = 1;
ccui.Layout.BACKGROUND_IMAGE_ZORDER = -1;
ccui.Layout.BACKGROUND_RENDERER_ZORDER = -2;
(function() {
	ccui.Layout.CanvasRenderCmd = function(a) {
		this._pNodeCmdCtor(a);
		this._needDraw = !1;
		this._rendererRestoreCmd = this._rendererClipCmd = this._rendererSaveCmd = null
	};
	var a = ccui.Layout.CanvasRenderCmd.prototype = Object.create(ccui.ProtectedNode.CanvasRenderCmd.prototype);
	a.constructor = ccui.Layout.CanvasRenderCmd;
	a._layoutCmdCtor = ccui.Layout.CanvasRenderCmd;
	a._onRenderSaveCmd = function(a, c, d) {
		var e = a || cc._renderContext;
		a = e.getContext();
		e.save();
		e.save();
		e.setTransform(this._worldTransform, c, d);
		c = this._node._clippingStencil._renderCmd._buffer;
		d = 0;
		for (e = c.length; d < e; d++) {
			var f = c[d].verts,
				g = f[0];
			a.beginPath();
			a.moveTo(g.x, -g.y);
			for (var g = 1, h = f.length; g < h; g++) a.lineTo(f[g].x, -f[g].y);
			g = 1;
			for (h = f.length; g < h; g++) a.lineTo(f[g].x, -f[g].y);
			a.closePath()
		}
	};
	a._onRenderClipCmd = function(a) {
		a = a || cc._renderContext;
		var c = a.getContext();
		a.restore();
		c.clip()
	};
	a._onRenderRestoreCmd = function(a) {
		a = a || cc._renderContext;
		a.getContext();
		a.restore()
	};
	a.rebindStencilRendering = function(a) {
		a._renderCmd.rendering = this.__stencilDraw;
		a._renderCmd._canUseDirtyRegion = !0
	};
	a.__stencilDraw = function(a, c, d) {};
	a.stencilClippingVisit = a.scissorClippingVisit = function(a) {
		a = this._node;
		a._clippingStencil && a._clippingStencil.isVisible() && (this._rendererSaveCmd || (this._rendererSaveCmd = new cc.CustomRenderCmd(this, this._onRenderSaveCmd), this._rendererClipCmd = new cc.CustomRenderCmd(this, this._onRenderClipCmd), this._rendererRestoreCmd = new cc.CustomRenderCmd(this, this._onRenderRestoreCmd)), cc.renderer.pushRenderCommand(this._rendererSaveCmd), a._clippingStencil.visit(this), cc.renderer.pushRenderCommand(this._rendererClipCmd))
	};
	a.postStencilVisit = a.postScissorVisit = function() {
		cc.renderer.pushRenderCommand(this._rendererRestoreCmd)
	};
	ccui.Layout.CanvasRenderCmd._getSharedCache = function() {
		return cc.ClippingNode._sharedCache || (cc.ClippingNode._sharedCache = document.createElement("canvas"))
	}
})();
(function() {
	if (ccui.ProtectedNode.WebGLRenderCmd) {
		ccui.Layout.WebGLRenderCmd = function(a) {
			this._pNodeCmdCtor(a);
			this._needDraw = !1;
			this._currentStencilEnabled = 0;
			this._scissorOldState = !1;
			this._clippingOldRect = null;
			this._mask_layer_le = 0;
			this._afterVisitCmdScissor = this._beforeVisitCmdScissor = this._afterVisitCmdStencil = this._afterDrawStencilCmd = this._beforeVisitCmdStencil = null
		};
		var a = ccui.Layout.WebGLRenderCmd.prototype = Object.create(ccui.ProtectedNode.WebGLRenderCmd.prototype);
		a.constructor = ccui.Layout.WebGLRenderCmd;
		a._layoutCmdCtor = ccui.Layout.CanvasRenderCmd;
		a._syncStatus = function(a) {
			this._originSyncStatus(a);
			a && a._dirtyFlag & cc.Node._dirtyFlags.transformDirty && (this._node._clippingRectDirty = !0)
		};
		a._onBeforeVisitStencil = function(a) {
			a = a || cc._renderContext;
			ccui.Layout.WebGLRenderCmd._layer++;
			var c = 1 << ccui.Layout.WebGLRenderCmd._layer;
			this._mask_layer_le = c | c - 1;
			this._currentStencilEnabled = a.isEnabled(a.STENCIL_TEST);
			a.clear(a.DEPTH_BUFFER_BIT);
			a.enable(a.STENCIL_TEST);
			a.depthMask(!1);
			a.stencilFunc(a.NEVER, c, c);
			a.stencilOp(a.REPLACE, a.KEEP, a.KEEP);
			a.stencilMask(c);
			a.clear(a.STENCIL_BUFFER_BIT)
		};
		a._onAfterDrawStencil = function(a) {
			a = a || cc._renderContext;
			a.depthMask(!0);
			a.stencilFunc(a.EQUAL, this._mask_layer_le, this._mask_layer_le);
			a.stencilOp(a.KEEP, a.KEEP, a.KEEP)
		};
		a._onAfterVisitStencil = function(a) {
			a = a || cc._renderContext;
			ccui.Layout.WebGLRenderCmd._layer--;
			if (this._currentStencilEnabled) {
				var c = 1 << ccui.Layout.WebGLRenderCmd._layer,
					d = c | c - 1;
				a.stencilMask(c);
				a.stencilFunc(a.EQUAL, d, d)
			} else a.disable(a.STENCIL_TEST)
		};
		a._onBeforeVisitScissor = function(a) {
			this._node._clippingRectDirty = !0;
			var c = this._node._getClippingRect();
			a = a || cc._renderContext;
			(this._scissorOldState = a.isEnabled(a.SCISSOR_TEST)) ? (this._clippingOldRect = cc.view.getScissorRect(), cc.rectEqualToRect(this._clippingOldRect, c) || cc.view.setScissorInPoints(c.x, c.y, c.width, c.height)) : (a.enable(a.SCISSOR_TEST), cc.view.setScissorInPoints(c.x, c.y, c.width, c.height))
		};
		a._onAfterVisitScissor = function(a) {
			a = a || cc._renderContext;
			this._scissorOldState ? cc.rectEqualToRect(this._clippingOldRect,
				this._node._clippingRect) || cc.view.setScissorInPoints(this._clippingOldRect.x, this._clippingOldRect.y, this._clippingOldRect.width, this._clippingOldRect.height) : a.disable(a.SCISSOR_TEST)
		};
		a.rebindStencilRendering = function(a) {};
		a.transform = function(a, c) {
			var d = this._node;
			this.pNodeTransform(a, c);
			d._clippingStencil && d._clippingStencil._renderCmd.transform(this, c)
		};
		a.stencilClippingVisit = function(a) {
			a = this._node;
			if (a._clippingStencil && a._clippingStencil.isVisible())
				if (ccui.Layout.WebGLRenderCmd._layer +
					1 === cc.stencilBits) ccui.Layout.WebGLRenderCmd._visit_once = !0, ccui.Layout.WebGLRenderCmd._visit_once && (cc.log("Nesting more than " + cc.stencilBits + "stencils is not supported. Everything will be drawn without stencil for this node and its childs."), ccui.Layout.WebGLRenderCmd._visit_once = !1);
				else {
					this._beforeVisitCmdStencil || (this._beforeVisitCmdStencil = new cc.CustomRenderCmd(this, this._onBeforeVisitStencil), this._afterDrawStencilCmd = new cc.CustomRenderCmd(this, this._onAfterDrawStencil), this._afterVisitCmdStencil =
						new cc.CustomRenderCmd(this, this._onAfterVisitStencil));
					cc.renderer.pushRenderCommand(this._beforeVisitCmdStencil);
					var c = cc.current_stack;
					c.stack.push(c.top);
					c.top = this._stackMatrix;
					a._clippingStencil.visit(this);
					cc.renderer.pushRenderCommand(this._afterDrawStencilCmd)
				}
		};
		a.postStencilVisit = function() {
			renderer.pushRenderCommand(cmd._afterVisitCmdStencil);
			cc.current_stack.top = cc.current_stack.stack.pop()
		};
		a.scissorClippingVisit = function(a) {
			this._beforeVisitCmdScissor || (this._beforeVisitCmdScissor = new cc.CustomRenderCmd(this,
				this._onBeforeVisitScissor), this._afterVisitCmdScissor = new cc.CustomRenderCmd(this, this._onAfterVisitScissor));
			cc.renderer.pushRenderCommand(this._beforeVisitCmdScissor)
		};
		a.postScissorVisit = function() {
			cc.renderer.pushRenderCommand(this._afterVisitCmdScissor)
		};
		ccui.Layout.WebGLRenderCmd._layer = -1;
		ccui.Layout.WebGLRenderCmd._visit_once = null
	}
})();
ccui.Margin = ccui.Class.extend({
	left: 0,
	top: 0,
	right: 0,
	bottom: 0,
	ctor: function(a, b, c, d) {
		void 0 !== a && void 0 === b && (this.left = a.left, this.top = a.top, this.right = a.right, this.bottom = a.bottom);
		void 0 !== d && (this.left = a, this.top = b, this.right = c, this.bottom = d)
	},
	setMargin: function(a, b, c, d) {
		this.left = a;
		this.top = b;
		this.right = c;
		this.bottom = d
	},
	equals: function(a) {
		return this.left === a.left && this.top === a.top && this.right === a.right && this.bottom === a.bottom
	}
});
ccui.MarginZero = function() {
	return new ccui.Margin(0, 0, 0, 0)
};
ccui.LayoutParameter = ccui.Class.extend({
	_margin: null,
	_layoutParameterType: null,
	ctor: function() {
		this._margin = new ccui.Margin;
		this._layoutParameterType = ccui.LayoutParameter.NONE
	},
	setMargin: function(a, b, c, d) {
		cc.isObject(a) ? (this._margin.left = a.left, this._margin.top = a.top, this._margin.right = a.right, this._margin.bottom = a.bottom) : (this._margin.left = a, this._margin.top = b, this._margin.right = c, this._margin.bottom = d)
	},
	getMargin: function() {
		return this._margin
	},
	getLayoutType: function() {
		return this._layoutParameterType
	},
	clone: function() {
		var a = this._createCloneInstance();
		a._copyProperties(this);
		return a
	},
	_createCloneInstance: function() {
		return new ccui.LayoutParameter
	},
	_copyProperties: function(a) {
		this._margin.bottom = a._margin.bottom;
		this._margin.left = a._margin.left;
		this._margin.right = a._margin.right;
		this._margin.top = a._margin.top
	}
});
ccui.LayoutParameter.create = function() {
	return new ccui.LayoutParameter
};
ccui.LayoutParameter.NONE = 0;
ccui.LayoutParameter.LINEAR = 1;
ccui.LayoutParameter.RELATIVE = 2;
ccui.LinearLayoutParameter = ccui.LayoutParameter.extend({
	_linearGravity: null,
	ctor: function() {
		ccui.LayoutParameter.prototype.ctor.call(this);
		this._linearGravity = ccui.LinearLayoutParameter.NONE;
		this._layoutParameterType = ccui.LayoutParameter.LINEAR
	},
	setGravity: function(a) {
		this._linearGravity = a
	},
	getGravity: function() {
		return this._linearGravity
	},
	_createCloneInstance: function() {
		return new ccui.LinearLayoutParameter
	},
	_copyProperties: function(a) {
		ccui.LayoutParameter.prototype._copyProperties.call(this, a);
		a instanceof ccui.LinearLayoutParameter && this.setGravity(a._linearGravity)
	}
});
ccui.LinearLayoutParameter.create = function() {
	return new ccui.LinearLayoutParameter
};
ccui.LinearLayoutParameter.NONE = 0;
ccui.LinearLayoutParameter.LEFT = 1;
ccui.LinearLayoutParameter.TOP = 2;
ccui.LinearLayoutParameter.RIGHT = 3;
ccui.LinearLayoutParameter.BOTTOM = 4;
ccui.LinearLayoutParameter.CENTER_VERTICAL = 5;
ccui.LinearLayoutParameter.CENTER_HORIZONTAL = 6;
ccui.RelativeLayoutParameter = ccui.LayoutParameter.extend({
	_relativeAlign: null,
	_relativeWidgetName: "",
	_relativeLayoutName: "",
	_put: !1,
	ctor: function() {
		ccui.LayoutParameter.prototype.ctor.call(this);
		this._relativeAlign = ccui.RelativeLayoutParameter.NONE;
		this._relativeLayoutName = this._relativeWidgetName = "";
		this._put = !1;
		this._layoutParameterType = ccui.LayoutParameter.RELATIVE
	},
	setAlign: function(a) {
		this._relativeAlign = a
	},
	getAlign: function() {
		return this._relativeAlign
	},
	setRelativeToWidgetName: function(a) {
		this._relativeWidgetName =
			a
	},
	getRelativeToWidgetName: function() {
		return this._relativeWidgetName
	},
	setRelativeName: function(a) {
		this._relativeLayoutName = a
	},
	getRelativeName: function() {
		return this._relativeLayoutName
	},
	_createCloneInstance: function() {
		return new ccui.RelativeLayoutParameter
	},
	_copyProperties: function(a) {
		ccui.LayoutParameter.prototype._copyProperties.call(this, a);
		a instanceof ccui.RelativeLayoutParameter && (this.setAlign(a._relativeAlign), this.setRelativeToWidgetName(a._relativeWidgetName), this.setRelativeName(a._relativeLayoutName))
	}
});
ccui.RelativeLayoutParameter.create = function() {
	return new ccui.RelativeLayoutParameter
};
ccui.RelativeLayoutParameter.NONE = 0;
ccui.RelativeLayoutParameter.PARENT_TOP_LEFT = 1;
ccui.RelativeLayoutParameter.PARENT_TOP_CENTER_HORIZONTAL = 2;
ccui.RelativeLayoutParameter.PARENT_TOP_RIGHT = 3;
ccui.RelativeLayoutParameter.PARENT_LEFT_CENTER_VERTICAL = 4;
ccui.RelativeLayoutParameter.CENTER_IN_PARENT = 5;
ccui.RelativeLayoutParameter.PARENT_RIGHT_CENTER_VERTICAL = 6;
ccui.RelativeLayoutParameter.PARENT_LEFT_BOTTOM = 7;
ccui.RelativeLayoutParameter.PARENT_BOTTOM_CENTER_HORIZONTAL = 8;
ccui.RelativeLayoutParameter.PARENT_RIGHT_BOTTOM = 9;
ccui.RelativeLayoutParameter.LOCATION_ABOVE_LEFTALIGN = 10;
ccui.RelativeLayoutParameter.LOCATION_ABOVE_CENTER = 11;
ccui.RelativeLayoutParameter.LOCATION_ABOVE_RIGHTALIGN = 12;
ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_TOPALIGN = 13;
ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_CENTER = 14;
ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_BOTTOMALIGN = 15;
ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_TOPALIGN = 16;
ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_CENTER = 17;
ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_BOTTOMALIGN = 18;
ccui.RelativeLayoutParameter.LOCATION_BELOW_LEFTALIGN = 19;
ccui.RelativeLayoutParameter.LOCATION_BELOW_CENTER = 20;
ccui.RelativeLayoutParameter.LOCATION_BELOW_RIGHTALIGN = 21;
ccui.LINEAR_GRAVITY_NONE = 0;
ccui.LINEAR_GRAVITY_LEFT = 1;
ccui.LINEAR_GRAVITY_TOP = 2;
ccui.LINEAR_GRAVITY_RIGHT = 3;
ccui.LINEAR_GRAVITY_BOTTOM = 4;
ccui.LINEAR_GRAVITY_CENTER_VERTICAL = 5;
ccui.LINEAR_GRAVITY_CENTER_HORIZONTAL = 6;
ccui.RELATIVE_ALIGN_NONE = 0;
ccui.RELATIVE_ALIGN_PARENT_TOP_LEFT = 1;
ccui.RELATIVE_ALIGN_PARENT_TOP_CENTER_HORIZONTAL = 2;
ccui.RELATIVE_ALIGN_PARENT_TOP_RIGHT = 3;
ccui.RELATIVE_ALIGN_PARENT_LEFT_CENTER_VERTICAL = 4;
ccui.RELATIVE_ALIGN_PARENT_CENTER = 5;
ccui.RELATIVE_ALIGN_PARENT_RIGHT_CENTER_VERTICAL = 6;
ccui.RELATIVE_ALIGN_PARENT_LEFT_BOTTOM = 7;
ccui.RELATIVE_ALIGN_PARENT_BOTTOM_CENTER_HORIZONTAL = 8;
ccui.RELATIVE_ALIGN_PARENT_RIGHT_BOTTOM = 9;
ccui.RELATIVE_ALIGN_LOCATION_ABOVE_LEFT = 10;
ccui.RELATIVE_ALIGN_LOCATION_ABOVE_CENTER = 11;
ccui.RELATIVE_ALIGN_LOCATION_ABOVE_RIGHT = 12;
ccui.RELATIVE_ALIGN_LOCATION_LEFT_TOP = 13;
ccui.RELATIVE_ALIGN_LOCATION_LEFT_CENTER = 14;
ccui.RELATIVE_ALIGN_LOCATION_LEFT_BOTTOM = 15;
ccui.RELATIVE_ALIGN_LOCATION_RIGHT_TOP = 16;
ccui.RELATIVE_ALIGN_LOCATION_RIGHT_CENTER = 17;
ccui.RELATIVE_ALIGN_LOCATION_RIGHT_BOTTOM = 18;
ccui.RELATIVE_ALIGN_LOCATION_BELOW_TOP = 19;
ccui.RELATIVE_ALIGN_LOCATION_BELOW_CENTER = 20;
ccui.RELATIVE_ALIGN_LOCATION_BELOW_BOTTOM = 21;
ccui.getLayoutManager = function(a) {
	switch (a) {
		case ccui.Layout.LINEAR_VERTICAL:
			return ccui.linearVerticalLayoutManager;
		case ccui.Layout.LINEAR_HORIZONTAL:
			return ccui.linearHorizontalLayoutManager;
		case ccui.Layout.RELATIVE:
			return ccui.relativeLayoutManager
	}
	return null
};
ccui.linearVerticalLayoutManager = {
	_doLayout: function(a) {
		var b = a._getLayoutContentSize();
		a = a._getLayoutElements();
		for (var c = b.height, d = 0, e = a.length; d < e; d++) {
			var f = a[d];
			if (f) {
				var g = f.getLayoutParameter();
				if (g) {
					var h = g.getGravity(),
						k = f.getAnchorPoint(),
						m = f.getContentSize(),
						n = k.x * m.width,
						c = c - (1 - k.y) * m.height;
					switch (h) {
						case ccui.LinearLayoutParameter.RIGHT:
							n = b.width - (1 - k.x) * m.width;
							break;
						case ccui.LinearLayoutParameter.CENTER_HORIZONTAL:
							n = b.width / 2 - m.width * (0.5 - k.x)
					}
					g = g.getMargin();
					n += g.left;
					c -= g.top;
					f.setPosition(n, c);
					c = f.getPositionY() - k.y * m.height - g.bottom
				}
			}
		}
	}
};
ccui.linearHorizontalLayoutManager = {
	_doLayout: function(a) {
		var b = a._getLayoutContentSize();
		a = a._getLayoutElements();
		for (var c = 0, d = 0, e = a.length; d < e; d++) {
			var f = a[d];
			if (f) {
				var g = f.getLayoutParameter();
				if (g) {
					var h = g.getGravity(),
						k = f.getAnchorPoint(),
						m = f.getContentSize(),
						c = c + k.x * m.width,
						n = b.height - (1 - k.y) * m.height;
					switch (h) {
						case ccui.LinearLayoutParameter.BOTTOM:
							n = k.y * m.height;
							break;
						case ccui.LinearLayoutParameter.CENTER_VERTICAL:
							n = b.height / 2 - m.height * (0.5 - k.y)
					}
					g = g.getMargin();
					c += g.left;
					n -= g.top;
					f.setPosition(c,
						n);
					c = f.getRightBoundary() + g.right
				}
			}
		}
	}
};
ccui.relativeLayoutManager = {
	_unlayoutChildCount: 0,
	_widgetChildren: [],
	_widget: null,
	_finalPositionX: 0,
	_finalPositionY: 0,
	_relativeWidgetLP: null,
	_doLayout: function(a) {
		for (var b = this._widgetChildren = this._getAllWidgets(a); 0 < this._unlayoutChildCount;) {
			for (var c = 0, d = b.length; c < d; c++) {
				this._widget = b[c];
				var e = this._widget.getLayoutParameter();
				e && !e._put && this._calculateFinalPositionWithRelativeWidget(a) && (this._calculateFinalPositionWithRelativeAlign(), this._widget.setPosition(this._finalPositionX, this._finalPositionY),
					e._put = !0)
			}
			this._unlayoutChildCount--
		}
		this._widgetChildren.length = 0
	},
	_getAllWidgets: function(a) {
		a = a._getLayoutElements();
		for (var b = this._widgetChildren, c = b.length = 0, d = a.length; c < d; c++) {
			var e = a[c];
			e && e instanceof ccui.Widget && (e.getLayoutParameter()._put = !1, this._unlayoutChildCount++, b.push(e))
		}
		return b
	},
	_getRelativeWidget: function(a) {
		var b = null;
		if ((a = a.getLayoutParameter().getRelativeToWidgetName()) && 0 !== a.length)
			for (var c = this._widgetChildren, d = 0, e = c.length; d < e; d++) {
				var f = c[d];
				if (f) {
					var g = f.getLayoutParameter();
					if (g && g.getRelativeName() === a) {
						b = f;
						this._relativeWidgetLP = g;
						break
					}
				}
			}
		return b
	},
	_calculateFinalPositionWithRelativeWidget: function(a) {
		var b = this._widget,
			c = b.getAnchorPoint(),
			d = b.getContentSize();
		this._finalPositionY = this._finalPositionX = 0;
		var e = this._getRelativeWidget(b),
			b = b.getLayoutParameter().getAlign();
		a = a._getLayoutContentSize();
		switch (b) {
			case ccui.RelativeLayoutParameter.NONE:
			case ccui.RelativeLayoutParameter.PARENT_TOP_LEFT:
				this._finalPositionX = c.x * d.width;
				this._finalPositionY = a.height - (1 - c.y) *
					d.height;
				break;
			case ccui.RelativeLayoutParameter.PARENT_TOP_CENTER_HORIZONTAL:
				this._finalPositionX = 0.5 * a.width - d.width * (0.5 - c.x);
				this._finalPositionY = a.height - (1 - c.y) * d.height;
				break;
			case ccui.RelativeLayoutParameter.PARENT_TOP_RIGHT:
				this._finalPositionX = a.width - (1 - c.x) * d.width;
				this._finalPositionY = a.height - (1 - c.y) * d.height;
				break;
			case ccui.RelativeLayoutParameter.PARENT_LEFT_CENTER_VERTICAL:
				this._finalPositionX = c.x * d.width;
				this._finalPositionY = 0.5 * a.height - d.height * (0.5 - c.y);
				break;
			case ccui.RelativeLayoutParameter.CENTER_IN_PARENT:
				this._finalPositionX =
					0.5 * a.width - d.width * (0.5 - c.x);
				this._finalPositionY = 0.5 * a.height - d.height * (0.5 - c.y);
				break;
			case ccui.RelativeLayoutParameter.PARENT_RIGHT_CENTER_VERTICAL:
				this._finalPositionX = a.width - (1 - c.x) * d.width;
				this._finalPositionY = 0.5 * a.height - d.height * (0.5 - c.y);
				break;
			case ccui.RelativeLayoutParameter.PARENT_LEFT_BOTTOM:
				this._finalPositionX = c.x * d.width;
				this._finalPositionY = c.y * d.height;
				break;
			case ccui.RelativeLayoutParameter.PARENT_BOTTOM_CENTER_HORIZONTAL:
				this._finalPositionX = 0.5 * a.width - d.width * (0.5 - c.x);
				this._finalPositionY =
					c.y * d.height;
				break;
			case ccui.RelativeLayoutParameter.PARENT_RIGHT_BOTTOM:
				this._finalPositionX = a.width - (1 - c.x) * d.width;
				this._finalPositionY = c.y * d.height;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_ABOVE_LEFTALIGN:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					this._finalPositionY = e.getTopBoundary() + c.y * d.height;
					this._finalPositionX = e.getLeftBoundary() + c.x * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_ABOVE_CENTER:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					a = e.getContentSize();
					this._finalPositionY = e.getTopBoundary() + c.y * d.height;
					this._finalPositionX = e.getLeftBoundary() + 0.5 * a.width + c.x * d.width - 0.5 * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_ABOVE_RIGHTALIGN:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					this._finalPositionY = e.getTopBoundary() + c.y * d.height;
					this._finalPositionX = e.getRightBoundary() - (1 - c.x) * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_TOPALIGN:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					this._finalPositionY = e.getTopBoundary() - (1 - c.y) * d.height;
					this._finalPositionX = e.getLeftBoundary() - (1 - c.x) * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_CENTER:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					a = e.getContentSize();
					this._finalPositionX = e.getLeftBoundary() - (1 - c.x) * d.width;
					this._finalPositionY = e.getBottomBoundary() + 0.5 * a.height + c.y * d.height - 0.5 * d.height
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_BOTTOMALIGN:
				if (e) {
					if (this._relativeWidgetLP &&
						!this._relativeWidgetLP._put) return !1;
					this._finalPositionY = e.getBottomBoundary() + c.y * d.height;
					this._finalPositionX = e.getLeftBoundary() - (1 - c.x) * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_TOPALIGN:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					this._finalPositionY = e.getTopBoundary() - (1 - c.y) * d.height;
					this._finalPositionX = e.getRightBoundary() + c.x * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_CENTER:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					a = e.getContentSize();
					this._finalPositionX = e.getRightBoundary() + c.x * d.width;
					this._finalPositionY = e.getBottomBoundary() + 0.5 * a.height + c.y * d.height - 0.5 * d.height
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_BOTTOMALIGN:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					this._finalPositionY = e.getBottomBoundary() + c.y * d.height;
					this._finalPositionX = e.getRightBoundary() + c.x * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_BELOW_LEFTALIGN:
				if (e) {
					if (this._relativeWidgetLP &&
						!this._relativeWidgetLP._put) return !1;
					this._finalPositionY = e.getBottomBoundary() - (1 - c.y) * d.height;
					this._finalPositionX = e.getLeftBoundary() + c.x * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_BELOW_CENTER:
				if (e) {
					if (this._relativeWidgetLP && !this._relativeWidgetLP._put) return !1;
					a = e.getContentSize();
					this._finalPositionY = e.getBottomBoundary() - (1 - c.y) * d.height;
					this._finalPositionX = e.getLeftBoundary() + 0.5 * a.width + c.x * d.width - 0.5 * d.width
				}
				break;
			case ccui.RelativeLayoutParameter.LOCATION_BELOW_RIGHTALIGN:
				if (e) {
					if (this._relativeWidgetLP &&
						!this._relativeWidgetLP._put) return !1;
					this._finalPositionY = e.getBottomBoundary() - (1 - c.y) * d.height;
					this._finalPositionX = e.getRightBoundary() - (1 - c.x) * d.width
				}
		}
		return !0
	},
	_calculateFinalPositionWithRelativeAlign: function() {
		var a = this._widget.getLayoutParameter(),
			b = a.getMargin();
		switch (a.getAlign()) {
			case ccui.RelativeLayoutParameter.NONE:
			case ccui.RelativeLayoutParameter.PARENT_TOP_LEFT:
				this._finalPositionX += b.left;
				this._finalPositionY -= b.top;
				break;
			case ccui.RelativeLayoutParameter.PARENT_TOP_CENTER_HORIZONTAL:
				this._finalPositionY -=
					b.top;
				break;
			case ccui.RelativeLayoutParameter.PARENT_TOP_RIGHT:
				this._finalPositionX -= b.right;
				this._finalPositionY -= b.top;
				break;
			case ccui.RelativeLayoutParameter.PARENT_LEFT_CENTER_VERTICAL:
				this._finalPositionX += b.left;
				break;
			case ccui.RelativeLayoutParameter.PARENT_RIGHT_CENTER_VERTICAL:
				this._finalPositionX -= b.right;
				break;
			case ccui.RelativeLayoutParameter.PARENT_LEFT_BOTTOM:
				this._finalPositionX += b.left;
				this._finalPositionY += b.bottom;
				break;
			case ccui.RelativeLayoutParameter.PARENT_BOTTOM_CENTER_HORIZONTAL:
				this._finalPositionY +=
					b.bottom;
				break;
			case ccui.RelativeLayoutParameter.PARENT_RIGHT_BOTTOM:
				this._finalPositionX -= b.right;
				this._finalPositionY += b.bottom;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_ABOVE_LEFTALIGN:
				this._finalPositionY += b.bottom;
				this._finalPositionX += b.left;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_ABOVE_RIGHTALIGN:
				this._finalPositionY += b.bottom;
				this._finalPositionX -= b.right;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_ABOVE_CENTER:
				this._finalPositionY += b.bottom;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_TOPALIGN:
				this._finalPositionX -=
					b.right;
				this._finalPositionY -= b.top;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_BOTTOMALIGN:
				this._finalPositionX -= b.right;
				this._finalPositionY += b.bottom;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_LEFT_OF_CENTER:
				this._finalPositionX -= b.right;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_TOPALIGN:
				this._finalPositionX += b.left;
				this._finalPositionY -= b.top;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_BOTTOMALIGN:
				this._finalPositionX += b.left;
				this._finalPositionY +=
					b.bottom;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_RIGHT_OF_CENTER:
				this._finalPositionX += b.left;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_BELOW_LEFTALIGN:
				this._finalPositionY -= b.top;
				this._finalPositionX += b.left;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_BELOW_RIGHTALIGN:
				this._finalPositionY -= b.top;
				this._finalPositionX -= b.right;
				break;
			case ccui.RelativeLayoutParameter.LOCATION_BELOW_CENTER:
				this._finalPositionY -= b.top
		}
	}
};
ccui.HBox = ccui.Layout.extend({
	ctor: function(a) {
		ccui.Layout.prototype.ctor.call(this);
		this.setLayoutType(ccui.Layout.LINEAR_HORIZONTAL);
		a && this.setContentSize(a)
	}
});
ccui.HBox.create = function(a) {
	return new ccui.HBox(a)
};
ccui.RelativeBox = ccui.Layout.extend({
	ctor: function(a) {
		ccui.Layout.prototype.ctor.call(this);
		this.setLayoutType(ccui.Layout.RELATIVE);
		a && this.setContentSize(a)
	}
});
ccui.RelativeBox.create = function(a) {
	return new ccui.RelativeBox(a)
};
ccui.VBox = ccui.Layout.extend({
	ctor: function(a) {
		ccui.Layout.prototype.ctor.call(this);
		this.setLayoutType(ccui.Layout.LINEAR_VERTICAL);
		a && this.setContentSize(a)
	},
	initWithSize: function(a) {
		return this.init() ? !0 : !1
	}
});
ccui.VBox.create = function(a) {
	return new ccui.VBox(a)
};
ccui.helper = {
	seekWidgetByTag: function(a, b) {
		if (!a) return null;
		if (a.getTag() === b) return a;
		for (var c = a.getChildren(), d = c.length, e = 0; e < d; e++) {
			var f = ccui.helper.seekWidgetByTag(c[e], b);
			if (null !== f) return f
		}
		return null
	},
	seekWidgetByName: function(a, b) {
		if (!a) return null;
		if (a.getName() === b) return a;
		for (var c = a.getChildren(), d = c.length, e = 0; e < d; e++) {
			var f = ccui.helper.seekWidgetByName(c[e], b);
			if (null !== f) return f
		}
		return null
	},
	seekWidgetByRelativeName: function(a, b) {
		if (!a) return null;
		for (var c = a.getChildren(),
				d = c.length, e = 0; e < d; e++) {
			var f = c[e],
				g = f.getLayoutParameter(ccui.LayoutParameter.RELATIVE);
			if (g && g.getRelativeName() === b) return f
		}
		return null
	},
	seekActionWidgetByActionTag: function(a, b) {
		if (!a) return null;
		if (a.getActionTag() === b) return a;
		for (var c = a.getChildren(), d = 0; d < c.length; d++) {
			var e = ccui.helper.seekActionWidgetByActionTag(c[d], b);
			if (null !== e) return e
		}
		return null
	},
	_activeLayout: !0,
	doLayout: function(a) {
		if (this._activeLayout) {
			a = a.getChildren();
			for (var b, c = 0, d = a.length; c < d; c++) {
				b = a[c];
				var e = b.getComponent(ccui.LayoutComponent.NAME);
				b = b.getParent();
				null != e && null !== b && e.refreshLayout && e.refreshLayout()
			}
		}
	},
	changeLayoutSystemActiveState: function(a) {
		this._activeLayout = a
	},
	restrictCapInsetRect: function(a, b) {
		var c = a.x,
			d = a.y,
			e = a.width,
			f = a.height;
		b.width < e && (e = c = 0);
		b.height < f && (f = d = 0);
		return cc.rect(c, d, e, f)
	},
	_createSpriteFromBase64: function(a, b) {
		var c = cc.textureCache.getTextureForKey(b);
		c || (c = new Image, c.src = a, cc.textureCache.cacheImage(b, c), c = cc.textureCache.getTextureForKey(b));
		return new cc.Sprite(c)
	}
};
ccui.Button = ccui.Widget.extend({
	_buttonScale9Renderer: null,
	_buttonNormalSpriteFrame: null,
	_buttonClickedSpriteFrame: null,
	_buttonDisableSpriteFrame: null,
	_titleRenderer: null,
	_normalFileName: "",
	_clickedFileName: "",
	_disabledFileName: "",
	_prevIgnoreSize: !0,
	_scale9Enabled: !1,
	_capInsetsNormal: null,
	_normalTexType: ccui.Widget.LOCAL_TEXTURE,
	_pressedTexType: ccui.Widget.LOCAL_TEXTURE,
	_disabledTexType: ccui.Widget.LOCAL_TEXTURE,
	_normalTextureSize: null,
	pressedActionEnabled: !1,
	_titleColor: null,
	_zoomScale: 0.1,
	_normalTextureLoaded: !1,
	_pressedTextureLoaded: !1,
	_disabledTextureLoaded: !1,
	_className: "Button",
	_normalTextureAdaptDirty: !0,
	_fontName: "Thonburi",
	_fontSize: 12,
	_type: 0,
	ctor: function(a, b, c, d) {
		this._capInsetsNormal = cc.rect(0, 0, 0, 0);
		this._normalTextureSize = cc.size(0, 0);
		ccui.Widget.prototype.ctor.call(this);
		this.setTouchEnabled(!0);
		this._normalLoader = new cc.Sprite.LoadManager;
		this._clickedLoader = new cc.Sprite.LoadManager;
		this._disabledLoader = new cc.Sprite.LoadManager;
		a && this.loadTextures(a, b, c, d)
	},
	_createTitleRendererIfNeeded: function() {
		this._titleRenderer ||
			(this._titleRenderer = new cc.LabelTTF(""), this._titleRenderer.setAnchorPoint(0.5, 0.5), this._titleColor = cc.color.WHITE, this._titleRenderer.setVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER), this.addProtectedChild(this._titleRenderer, ccui.Button.TITLE_RENDERER_ZORDER, -1))
	},
	_initRenderer: function() {
		this._buttonScale9Renderer = new ccui.Scale9Sprite;
		this._buttonScale9Renderer.setRenderingType(ccui.Scale9Sprite.RenderingType.SIMPLE);
		this.addProtectedChild(this._buttonScale9Renderer, ccui.Button.DISABLED_RENDERER_ZORDER,
			-1)
	},
	setScale9Enabled: function(a) {
		this._scale9Enabled !== a && (this._brightStyle = ccui.Widget.BRIGHT_STYLE_NONE, (this._scale9Enabled = a) ? this._buttonScale9Renderer.setRenderingType(ccui.Scale9Sprite.RenderingType.SLICED) : this._buttonScale9Renderer.setRenderingType(ccui.Scale9Sprite.RenderingType.SIMPLE), this._scale9Enabled ? (a = this._ignoreSize, this.ignoreContentAdaptWithSize(!1), this._prevIgnoreSize = a) : this.ignoreContentAdaptWithSize(this._prevIgnoreSize), this.setCapInsets(this._capInsetsNormal), this.setBright(this._bright),
			this._normalTextureAdaptDirty = !0)
	},
	isScale9Enabled: function() {
		return this._scale9Enabled
	},
	ignoreContentAdaptWithSize: function(a) {
		if (this._unifySize) this._updateContentSize();
		else if (!this._scale9Enabled || this._scale9Enabled && !a) ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this, a), this._prevIgnoreSize = a
	},
	getVirtualRendererSize: function() {
		return this._unifySize ? this._getNormalSize() : !this._normalTextureLoaded && this._titleRenderer && 0 < this._titleRenderer.getString().length ? this._titleRenderer.getContentSize() :
			cc.size(this._normalTextureSize)
	},
	loadTextures: function(a, b, c, d) {
		this.loadTextureNormal(a, d);
		this.loadTexturePressed(b, d);
		this.loadTextureDisabled(c, d)
	},
	_createSpriteFrameWithFile: function(a) {
		var b = cc.textureCache.getTextureForKey(a);
		b || (b = cc.textureCache.addImage(a));
		if (!b._textureLoaded) return b;
		a = b.getContentSize();
		a = cc.rect(0, 0, a.width, a.height);
		return new cc.SpriteFrame(b, a)
	},
	_createSpriteFrameWithName: function(a) {
		a = cc.spriteFrameCache.getSpriteFrame(a);
		return null == a ? (cc.log("ccui.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
			null) : a
	},
	loadTextureNormal: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._normalFileName = a;
			this._normalTexType = b;
			var c;
			switch (this._normalTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c = this._createSpriteFrameWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					"#" === a[0] && (a = a.substr(1, a.length - 1)), c = this._createSpriteFrameWithName(a)
			}
			c && (c._textureLoaded ? (this._normalTextureLoaded = c._textureLoaded, this._buttonNormalSpriteFrame = c, this._buttonScale9Renderer.setSpriteFrame(c), this._scale9Enabled &&
				this._buttonScale9Renderer.setCapInsets(this._capInsetsNormal), !this._ignoreSize && cc.sizeEqualToSize(this._customSize, cc.size(0, 0)) && (this._customSize = this._buttonScale9Renderer.getContentSize()), this._normalTextureSize = this._buttonScale9Renderer.getContentSize(), this._updateChildrenDisplayedRGBA(), this._unifySize ? this._scale9Enabled && (this._buttonScale9Renderer.setCapInsets(this._capInsetsNormal), this._updateContentSizeWithTextureSize(this._getNormalSize())) : this._updateContentSizeWithTextureSize(this._normalTextureSize),
				this._normalTextureAdaptDirty = !0, this._findLayout()) : (this._normalLoader.clear(), this._normalLoader.once(c, function() {
				this.loadTextureNormal(this._normalFileName, this._normalTexType)
			}, this)))
		}
	},
	loadTexturePressed: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._clickedFileName = a;
			this._pressedTexType = b;
			var c;
			switch (this._pressedTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c = this._createSpriteFrameWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					"#" === a[0] && (a = a.substr(1, a.length - 1)), c = this._createSpriteFrameWithName(a)
			}
			c &&
				(c._textureLoaded ? (this._buttonClickedSpriteFrame = c, this._updateChildrenDisplayedRGBA(), this._pressedTextureLoaded = !0) : (this._clickedLoader.clear(), this._clickedLoader.once(c, function() {
					this.loadTexturePressed(this._clickedFileName, this._pressedTexType)
				}, this)))
		}
	},
	loadTextureDisabled: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._disabledFileName = a;
			this._disabledTexType = b;
			var c;
			switch (this._disabledTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c = this._createSpriteFrameWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					"#" ===
					a[0] && (a = a.substr(1, a.length - 1)), c = this._createSpriteFrameWithName(a)
			}
			c && (c._textureLoaded ? (this._buttonDisableSpriteFrame = c, this._updateChildrenDisplayedRGBA(), this._disabledTextureLoaded = !0, this._findLayout()) : (this._disabledLoader.clear(), this._disabledLoader.once(c, function() {
				this.loadTextureDisabled(this._disabledFileName, this._disabledTexType)
			}, this)))
		}
	},
	setCapInsets: function(a) {
		this.setCapInsetsNormalRenderer(a)
	},
	setCapInsetsNormalRenderer: function(a) {
		if (a && this._scale9Enabled) {
			var b = a.x,
				c =
				a.y,
				d = a.width;
			a = a.height;
			this._normalTextureSize.width < d && (d = b = 0);
			this._normalTextureSize.height < a && (a = c = 0);
			var e = this._capInsetsNormal;
			e.x = b;
			e.y = c;
			e.width = d;
			e.height = a;
			this._capInsetsNormal = e;
			this._buttonScale9Renderer.setCapInsets(e)
		}
	},
	getCapInsetsNormalRenderer: function() {
		return cc.rect(this._capInsetsNormal)
	},
	setCapInsetsPressedRenderer: function(a) {
		this.setCapInsetsNormalRenderer(a)
	},
	getCapInsetsPressedRenderer: function() {
		return cc.rect(this._capInsetsNormal)
	},
	setCapInsetsDisabledRenderer: function(a) {
		this.setCapInsetsNormalRenderer(a)
	},
	getCapInsetsDisabledRenderer: function() {
		return cc.rect(this._capInsetsNormal)
	},
	_onPressStateChangedToNormal: function() {
		this._buttonScale9Renderer.setSpriteFrame(this._buttonNormalSpriteFrame);
		this._buttonScale9Renderer.setState(ccui.Scale9Sprite.state.NORMAL);
		if (this._pressedTextureLoaded) {
			if (this.pressedActionEnabled && (this._buttonScale9Renderer.stopAllActions(), this._buttonScale9Renderer.setScale(1), this._titleRenderer))
				if (this._titleRenderer.stopAllActions(), this._unifySize) {
					var a = cc.scaleTo(ccui.Button.ZOOM_ACTION_TIME_STEP,
						1, 1);
					this._titleRenderer.runAction(a)
				} else this._titleRenderer.setScaleX(1), this._titleRenderer.setScaleY(1)
		} else this._buttonScale9Renderer.stopAllActions(), this._buttonScale9Renderer.setScale(1), this._scale9Enabled && this._buttonScale9Renderer.setColor(cc.color.WHITE), this._titleRenderer && (this._titleRenderer.stopAllActions(), this._titleRenderer.setScaleX(1), this._titleRenderer.setScaleY(1))
	},
	_onPressStateChangedToPressed: function() {
		this._buttonScale9Renderer.setState(ccui.Scale9Sprite.state.NORMAL);
		if (this._pressedTextureLoaded) {
			if (this._buttonScale9Renderer.setSpriteFrame(this._buttonClickedSpriteFrame), this.pressedActionEnabled) {
				this._buttonScale9Renderer.stopAllActions();
				var a = cc.scaleTo(ccui.Button.ZOOM_ACTION_TIME_STEP, 1 + this._zoomScale, 1 + this._zoomScale);
				this._buttonScale9Renderer.runAction(a);
				this._titleRenderer && (this._titleRenderer.stopAllActions(), this._titleRenderer.runAction(cc.scaleTo(ccui.Button.ZOOM_ACTION_TIME_STEP, 1 + this._zoomScale, 1 + this._zoomScale)))
			}
		} else this._buttonScale9Renderer.setSpriteFrame(this._buttonClickedSpriteFrame),
			this._buttonScale9Renderer.stopAllActions(), this._buttonScale9Renderer.setScale(1 + this._zoomScale, 1 + this._zoomScale), this._titleRenderer && (this._titleRenderer.stopAllActions(), this._titleRenderer.setScaleX(1 + this._zoomScale), this._titleRenderer.setScaleY(1 + this._zoomScale))
	},
	_onPressStateChangedToDisabled: function() {
		this._disabledTextureLoaded ? this._buttonScale9Renderer.setSpriteFrame(this._buttonDisableSpriteFrame) : this._normalTextureLoaded && this._buttonScale9Renderer.setState(ccui.Scale9Sprite.state.GRAY);
		this._buttonScale9Renderer.setScale(1)
	},
	_updateContentSize: function() {
		if (this._unifySize) {
			if (this._scale9Enabled) ccui.ProtectedNode.setContentSize(this._customSize);
			else {
				var a = this._getNormalSize();
				ccui.ProtectedNode.setContentSize(a)
			}
			this._onSizeChanged()
		} else this._ignoreSize && this.setContentSize(this.getVirtualRendererSize())
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._titleRenderer && this._updateTitleLocation();
		this._normalTextureAdaptDirty = !0
	},
	getVirtualRenderer: function() {
		return this._buttonScale9Renderer
	},
	_normalTextureScaleChangedWithSize: function() {
		this._buttonScale9Renderer.setContentSize(this._contentSize);
		this._buttonScale9Renderer.setPosition(this._contentSize.width / 2, this._contentSize.height / 2)
	},
	_adaptRenderers: function() {
		this._normalTextureAdaptDirty && (this._normalTextureScaleChangedWithSize(), this._normalTextureAdaptDirty = !1)
	},
	_updateTitleLocation: function() {
		this._titleRenderer.setPosition(0.5 * this._contentSize.width, 0.5 * this._contentSize.height)
	},
	setPressedActionEnabled: function(a) {
		this.pressedActionEnabled =
			a
	},
	setTitleText: function(a) {
		a !== this.getTitleText() && (this._createTitleRendererIfNeeded(), this._titleRenderer.setString(a), this._ignoreSize ? (a = this.getVirtualRendererSize(), this.setContentSize(a)) : this._titleRenderer._renderCmd._updateTTF())
	},
	getTitleText: function() {
		return this._titleRenderer ? this._titleRenderer.getString() : ""
	},
	setTitleColor: function(a) {
		this._createTitleRendererIfNeeded();
		this._titleRenderer.setFontFillColor(a)
	},
	getTitleColor: function() {
		return this._titleRenderer ? this._titleRenderer._getFillStyle() :
			cc.color.WHITE
	},
	setTitleFontSize: function(a) {
		this._createTitleRendererIfNeeded();
		this._titleRenderer.setFontSize(a);
		this._fontSize = a
	},
	getTitleFontSize: function() {
		return this._titleRenderer ? this._titleRenderer.getFontSize() : this._fontSize
	},
	setZoomScale: function(a) {
		this._zoomScale = a
	},
	getZoomScale: function() {
		return this._zoomScale
	},
	getNormalTextureSize: function() {
		return this._normalTextureSize
	},
	setTitleFontName: function(a) {
		this._createTitleRendererIfNeeded();
		this._titleRenderer.setFontName(a);
		this._fontName =
			a
	},
	getTitleRenderer: function() {
		return this._titleRenderer
	},
	getTitleFontName: function() {
		return this._titleRenderer ? this._titleRenderer.getFontName() : this._fontName
	},
	_setTitleFont: function(a) {
		this._titleRenderer.font = a
	},
	_getTitleFont: function() {
		return this._titleRenderer.font
	},
	getDescription: function() {
		return "Button"
	},
	_createCloneInstance: function() {
		return new ccui.Button
	},
	_copySpecialProperties: function(a) {
		this._prevIgnoreSize = a._prevIgnoreSize;
		this._capInsetsNormal = a._capInsetsNormal;
		this.setScale9Enabled(a._scale9Enabled);
		this.loadTextureNormal(a._normalFileName, a._normalTexType);
		this.loadTexturePressed(a._clickedFileName, a._pressedTexType);
		this.loadTextureDisabled(a._disabledFileName, a._disabledTexType);
		a._titleRenderer && a._titleRenderer._string && (this.setTitleText(a.getTitleText()), this.setTitleFontName(a.getTitleFontName()), this.setTitleFontSize(a.getTitleFontSize()), this.setTitleColor(a.getTitleColor()));
		this.setPressedActionEnabled(a.pressedActionEnabled);
		this.setZoomScale(a._zoomScale)
	},
	_getNormalSize: function() {
		var a;
		null !== this._titleRenderer && (a = this._titleRenderer.getContentSize());
		var b = this._buttonScale9Renderer.getContentSize();
		return cc.size(a.width > b.width ? a.width : b.width, a.height > b.height ? a.height : b.height)
	}
});
_p = ccui.Button.prototype;
cc.defineGetterSetter(_p, "titleText", _p.getTitleText, _p.setTitleText);
cc.defineGetterSetter(_p, "titleFont", _p._getTitleFont, _p._setTitleFont);
cc.defineGetterSetter(_p, "titleFontSize", _p.getTitleFontSize, _p.setTitleFontSize);
cc.defineGetterSetter(_p, "titleFontName", _p.getTitleFontName, _p.setTitleFontName);
cc.defineGetterSetter(_p, "titleColor", _p.getTitleColor, _p.setTitleColor);
_p = null;
ccui.Button.create = function(a, b, c, d) {
	return new ccui.Button(a, b, c, d)
};
ccui.Button.NORMAL_RENDERER_ZORDER = -2;
ccui.Button.PRESSED_RENDERER_ZORDER = -2;
ccui.Button.DISABLED_RENDERER_ZORDER = -2;
ccui.Button.TITLE_RENDERER_ZORDER = -1;
ccui.Button.ZOOM_ACTION_TIME_STEP = 0.05;
ccui.Button.SYSTEM = 0;
ccui.Button.TTF = 1;
ccui.CheckBox = ccui.Widget.extend({
	_backGroundBoxRenderer: null,
	_backGroundSelectedBoxRenderer: null,
	_frontCrossRenderer: null,
	_backGroundBoxDisabledRenderer: null,
	_frontCrossDisabledRenderer: null,
	_isSelected: !0,
	_checkBoxEventListener: null,
	_checkBoxEventSelector: null,
	_backGroundTexType: ccui.Widget.LOCAL_TEXTURE,
	_backGroundSelectedTexType: ccui.Widget.LOCAL_TEXTURE,
	_frontCrossTexType: ccui.Widget.LOCAL_TEXTURE,
	_backGroundDisabledTexType: ccui.Widget.LOCAL_TEXTURE,
	_frontCrossDisabledTexType: ccui.Widget.LOCAL_TEXTURE,
	_backGroundFileName: "",
	_backGroundSelectedFileName: "",
	_frontCrossFileName: "",
	_backGroundDisabledFileName: "",
	_frontCrossDisabledFileName: "",
	_className: "CheckBox",
	_zoomScale: 0.1,
	_backgroundTextureScaleX: 0.1,
	_backgroundTextureScaleY: 0.1,
	_backGroundBoxRendererAdaptDirty: !0,
	_backGroundSelectedBoxRendererAdaptDirty: !0,
	_frontCrossRendererAdaptDirty: !0,
	_backGroundBoxDisabledRendererAdaptDirty: !0,
	_frontCrossDisabledRendererAdaptDirty: !0,
	ctor: function(a, b, c, d, e, f) {
		ccui.Widget.prototype.ctor.call(this);
		this.setTouchEnabled(!0);
		for (var g = 0, h = 0; h < arguments.length; h++) {
			var k = typeof arguments[h];
			"string" === k ? isNaN(arguments[h] - 0) ? g++ : (f = arguments[h], arguments[h] = void 0) : "number" === k && g++
		}
		switch (g) {
			case 2:
				f = c, c = b, b = void 0
		}
		f = void 0 === f ? 0 : f;
		this._isSelected = !0;
		this.setSelected(!1);
		this.loadTextures(a, b, c, d, e, f)
	},
	_initRenderer: function() {
		this._backGroundBoxRenderer = new cc.Sprite;
		this._backGroundSelectedBoxRenderer = new cc.Sprite;
		this._frontCrossRenderer = new cc.Sprite;
		this._backGroundBoxDisabledRenderer = new cc.Sprite;
		this._frontCrossDisabledRenderer =
			new cc.Sprite;
		this.addProtectedChild(this._backGroundBoxRenderer, ccui.CheckBox.BOX_RENDERER_ZORDER, -1);
		this.addProtectedChild(this._backGroundSelectedBoxRenderer, ccui.CheckBox.BOX_SELECTED_RENDERER_ZORDER, -1);
		this.addProtectedChild(this._frontCrossRenderer, ccui.CheckBox.FRONT_CROSS_RENDERER_ZORDER, -1);
		this.addProtectedChild(this._backGroundBoxDisabledRenderer, ccui.CheckBox.BOX_DISABLED_RENDERER_ZORDER, -1);
		this.addProtectedChild(this._frontCrossDisabledRenderer, ccui.CheckBox.FRONT_CROSS_DISABLED_RENDERER_ZORDER,
			-1)
	},
	loadTextures: function(a, b, c, d, e, f) {
		a && this.loadTextureBackGround(a, f);
		b && this.loadTextureBackGroundSelected(b, f);
		c && this.loadTextureFrontCross(c, f);
		d && this.loadTextureBackGroundDisabled(d, f);
		e && this.loadTextureFrontCrossDisabled(e, f)
	},
	loadTextureBackGround: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._backGroundFileName = a;
			this._backGroundTexType = b;
			var c = this._backGroundBoxRenderer;
			c._textureLoaded ? this._backGroundBoxRenderer.setContentSize(this._customSize) : c.addEventListener("load",
				function() {
					this._updateContentSizeWithTextureSize(this._backGroundBoxRenderer.getContentSize());
					this.loadTextureBackGround(this._backGroundFileName, this._backGroundTexType)
				}, this);
			switch (this._backGroundTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._updateContentSizeWithTextureSize(this._backGroundBoxRenderer.getContentSize());
			this._backGroundBoxRendererAdaptDirty = !0;
			this._findLayout()
		}
	},
	loadTextureBackGroundSelected: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._backGroundSelectedFileName = a;
			this._backGroundSelectedTexType = b;
			var c = this._backGroundSelectedBoxRenderer;
			c._textureLoaded || c.addEventListener("load", function() {
				this.loadTextureBackGroundSelected(this._backGroundSelectedFileName, this._backGroundSelectedTexType)
			}, this);
			switch (this._backGroundSelectedTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._backGroundSelectedBoxRendererAdaptDirty = !0;
			this._findLayout()
		}
	},
	loadTextureFrontCross: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._frontCrossFileName = a;
			this._frontCrossTexType = b;
			var c = this._frontCrossRenderer;
			c._textureLoaded || c.addEventListener("load", function() {
				this.loadTextureFrontCross(this._frontCrossFileName, this._frontCrossTexType)
			}, this);
			switch (this._frontCrossTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._frontCrossRendererAdaptDirty = !0;
			this._findLayout()
		}
	},
	loadTextureBackGroundDisabled: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._backGroundDisabledFileName = a;
			this._backGroundDisabledTexType = b;
			var c = this._backGroundBoxDisabledRenderer;
			c._textureLoaded || c.addEventListener("load", function() {
				this.loadTextureBackGroundDisabled(this._backGroundDisabledFileName, this._backGroundDisabledTexType)
			}, this);
			switch (this._backGroundDisabledTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._backGroundBoxDisabledRendererAdaptDirty = !0;
			this._findLayout()
		}
	},
	loadTextureFrontCrossDisabled: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._frontCrossDisabledFileName = a;
			this._frontCrossDisabledTexType = b;
			var c = this._frontCrossDisabledRenderer;
			c._textureLoaded || c.addEventListener("load", function() {
					this.loadTextureFrontCrossDisabled(this._frontCrossDisabledFileName, this._frontCrossDisabledTexType)
				},
				this);
			switch (this._frontCrossDisabledTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._frontCrossDisabledRendererAdaptDirty = !0;
			this._findLayout()
		}
	},
	_onPressStateChangedToNormal: function() {
		this._backGroundBoxRenderer.setVisible(!0);
		this._backGroundSelectedBoxRenderer.setVisible(!1);
		this._backGroundBoxDisabledRenderer.setVisible(!1);
		this._frontCrossDisabledRenderer.setVisible(!1);
		this._backGroundBoxRenderer.setScale(this._backgroundTextureScaleX,
			this._backgroundTextureScaleY);
		this._frontCrossRenderer.setScale(this._backgroundTextureScaleX, this._backgroundTextureScaleY);
		this._isSelected && (this._frontCrossRenderer.setVisible(!0), this._frontCrossRendererAdaptDirty = !0)
	},
	_onPressStateChangedToPressed: function() {
		this._backGroundSelectedFileName ? (this._backGroundBoxRenderer.setVisible(!1), this._backGroundSelectedBoxRenderer.setVisible(!0), this._backGroundBoxDisabledRenderer.setVisible(!1), this._frontCrossDisabledRenderer.setVisible(!1)) : (this._backGroundBoxRenderer.setScale(this._backgroundTextureScaleX +
			this._zoomScale, this._backgroundTextureScaleY + this._zoomScale), this._frontCrossRenderer.setScale(this._backgroundTextureScaleX + this._zoomScale, this._backgroundTextureScaleY + this._zoomScale))
	},
	_onPressStateChangedToDisabled: function() {
		this._backGroundDisabledFileName && this._frontCrossDisabledFileName && (this._backGroundBoxRenderer.setVisible(!1), this._backGroundBoxDisabledRenderer.setVisible(!0));
		this._backGroundSelectedBoxRenderer.setVisible(!1);
		this._frontCrossRenderer.setVisible(!1);
		this._backGroundBoxRenderer.setScale(this._backgroundTextureScaleX,
			this._backgroundTextureScaleY);
		this._frontCrossRenderer.setScale(this._backgroundTextureScaleX, this._backgroundTextureScaleY);
		this._isSelected && (this._frontCrossDisabledRenderer.setVisible(!0), this._frontCrossDisabledRendererAdaptDirty = !0)
	},
	setZoomScale: function(a) {
		this._zoomScale = a
	},
	getZoomScale: function() {
		return this._zoomScale
	},
	setSelectedState: function(a) {
		this.setSelected(a)
	},
	setSelected: function(a) {
		a !== this._isSelected && (this._isSelected = a, this._frontCrossRenderer.setVisible(this._isSelected))
	},
	getSelectedState: function() {
		return this.isSelected()
	},
	isSelected: function() {
		return this._isSelected
	},
	_selectedEvent: function() {
		this._checkBoxEventSelector && (this._checkBoxEventListener ? this._checkBoxEventSelector.call(this._checkBoxEventListener, this, ccui.CheckBox.EVENT_SELECTED) : this._checkBoxEventSelector(this, ccui.CheckBox.EVENT_SELECTED))
	},
	_unSelectedEvent: function() {
		this._checkBoxEventSelector && (this._checkBoxEventListener ? this._checkBoxEventSelector.call(this._checkBoxEventListener, this, ccui.CheckBox.EVENT_UNSELECTED) :
			this._checkBoxEventSelector(this, ccui.CheckBox.EVENT_UNSELECTED))
	},
	_releaseUpEvent: function() {
		ccui.Widget.prototype._releaseUpEvent.call(this);
		this._isSelected ? (this.setSelected(!1), this._unSelectedEvent()) : (this.setSelected(!0), this._selectedEvent())
	},
	addEventListenerCheckBox: function(a, b) {
		this.addEventListener(a, b)
	},
	addEventListener: function(a, b) {
		this._checkBoxEventSelector = a;
		this._checkBoxEventListener = b
	},
	getVirtualRendererSize: function() {
		return this._backGroundBoxRenderer.getContentSize()
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._frontCrossDisabledRendererAdaptDirty = this._backGroundBoxDisabledRendererAdaptDirty = this._frontCrossRendererAdaptDirty = this._backGroundSelectedBoxRendererAdaptDirty = this._backGroundBoxRendererAdaptDirty = !0
	},
	getVirtualRenderer: function() {
		return this._backGroundBoxRenderer
	},
	_backGroundTextureScaleChangedWithSize: function() {
		var a = this._backGroundBoxRenderer,
			b = this._contentSize;
		if (this._ignoreSize) a.setScale(1), this._backgroundTextureScaleX = this._backgroundTextureScaleY = 1;
		else {
			var c = a.getContentSize();
			if (0 >= c.width || 0 >= c.height) {
				a.setScale(1);
				this._backgroundTextureScaleX = this._backgroundTextureScaleY = 1;
				return
			}
			var d = b.width / c.width,
				c = b.height / c.height;
			this._backgroundTextureScaleX = d;
			this._backgroundTextureScaleY = c;
			a.setScaleX(d);
			a.setScaleY(c)
		}
		a.setPosition(0.5 * b.width, 0.5 * b.height)
	},
	_backGroundSelectedTextureScaleChangedWithSize: function() {
		var a = this._backGroundSelectedBoxRenderer,
			b = this._contentSize;
		if (this._ignoreSize) a.setScale(1);
		else {
			var c = a.getContentSize();
			if (0 >= c.width || 0 >= c.height) {
				a.setScale(1);
				return
			}
			var d = b.height / c.height;
			a.setScaleX(b.width / c.width);
			a.setScaleY(d)
		}
		a.setPosition(0.5 * b.width, 0.5 * b.height)
	},
	_frontCrossTextureScaleChangedWithSize: function() {
		var a = this._frontCrossRenderer,
			b = this._contentSize;
		if (this._ignoreSize) a.setScale(1);
		else {
			var c = a.getContentSize();
			if (0 >= c.width || 0 >= c.height) {
				a.setScale(1);
				return
			}
			var d = b.height / c.height;
			a.setScaleX(b.width / c.width);
			a.setScaleY(d)
		}
		a.setPosition(0.5 * b.width, 0.5 * b.height)
	},
	_backGroundDisabledTextureScaleChangedWithSize: function() {
		var a =
			this._backGroundBoxDisabledRenderer,
			b = this._contentSize;
		if (this._ignoreSize) a.setScale(1);
		else {
			var c = a.getContentSize();
			if (0 >= c.width || 0 >= c.height) {
				a.setScale(1);
				return
			}
			var d = b.height / c.height;
			a.setScaleX(b.width / c.width);
			a.setScaleY(d)
		}
		a.setPosition(0.5 * b.width, 0.5 * b.height)
	},
	_frontCrossDisabledTextureScaleChangedWithSize: function() {
		var a = this._frontCrossDisabledRenderer,
			b = this._contentSize;
		if (this._ignoreSize) a.setScale(1);
		else {
			var c = a.getContentSize();
			if (0 >= c.width || 0 >= c.height) {
				a.setScale(1);
				return
			}
			var d = b.height / c.height;
			a.setScaleX(b.width / c.width);
			a.setScaleY(d)
		}
		a.setPosition(0.5 * b.width, 0.5 * b.height)
	},
	getDescription: function() {
		return "CheckBox"
	},
	_createCloneInstance: function() {
		return new ccui.CheckBox
	},
	_copySpecialProperties: function(a) {
		a instanceof ccui.CheckBox && (this.loadTextureBackGround(a._backGroundFileName, a._backGroundTexType), this.loadTextureBackGroundSelected(a._backGroundSelectedFileName, a._backGroundSelectedTexType), this.loadTextureFrontCross(a._frontCrossFileName, a._frontCrossTexType),
			this.loadTextureBackGroundDisabled(a._backGroundDisabledFileName, a._backGroundDisabledTexType), this.loadTextureFrontCrossDisabled(a._frontCrossDisabledFileName, a._frontCrossDisabledTexType), this.setSelected(a._isSelected), this._checkBoxEventListener = a._checkBoxEventListener, this._checkBoxEventSelector = a._checkBoxEventSelector, this._ccEventCallback = a._ccEventCallback, this._zoomScale = a._zoomScale, this._backgroundTextureScaleX = a._backgroundTextureScaleX, this._backgroundTextureScaleY = a._backgroundTextureScaleY)
	},
	_adaptRenderers: function() {
		this._backGroundBoxRendererAdaptDirty && (this._backGroundTextureScaleChangedWithSize(), this._backGroundBoxRendererAdaptDirty = !1);
		this._backGroundSelectedBoxRendererAdaptDirty && (this._backGroundSelectedTextureScaleChangedWithSize(), this._backGroundSelectedBoxRendererAdaptDirty = !1);
		this._frontCrossRendererAdaptDirty && (this._frontCrossTextureScaleChangedWithSize(), this._frontCrossRendererAdaptDirty = !1);
		this._backGroundBoxDisabledRendererAdaptDirty && (this._backGroundDisabledTextureScaleChangedWithSize(),
			this._backGroundBoxDisabledRendererAdaptDirty = !1);
		this._frontCrossDisabledRendererAdaptDirty && (this._frontCrossDisabledTextureScaleChangedWithSize(), this._frontCrossDisabledRendererAdaptDirty = !1)
	}
});
_p = ccui.CheckBox.prototype;
cc.defineGetterSetter(_p, "selected", _p.isSelected, _p.setSelected);
_p = null;
ccui.CheckBox.create = function(a, b, c, d, e, f) {
	return new ccui.CheckBox(a, b, c, d, e, f)
};
ccui.CheckBox.EVENT_SELECTED = 0;
ccui.CheckBox.EVENT_UNSELECTED = 1;
ccui.CheckBox.BOX_RENDERER_ZORDER = -1;
ccui.CheckBox.BOX_SELECTED_RENDERER_ZORDER = -1;
ccui.CheckBox.BOX_DISABLED_RENDERER_ZORDER = -1;
ccui.CheckBox.FRONT_CROSS_RENDERER_ZORDER = -1;
ccui.CheckBox.FRONT_CROSS_DISABLED_RENDERER_ZORDER = -1;
ccui.ImageView = ccui.Widget.extend({
	_scale9Enabled: !1,
	_prevIgnoreSize: !0,
	_capInsets: null,
	_imageRenderer: null,
	_textureFile: "",
	_imageTexType: ccui.Widget.LOCAL_TEXTURE,
	_imageTextureSize: null,
	_className: "ImageView",
	_imageRendererAdaptDirty: !0,
	ctor: function(a, b) {
		this._capInsets = cc.rect(0, 0, 0, 0);
		this._imageTextureSize = cc.size(this._capInsets.width, this._capInsets.height);
		ccui.Widget.prototype.ctor.call(this);
		a ? this.loadTexture(a, void 0 === b ? 0 : b) : this._imageTexType = ccui.Widget.LOCAL_TEXTURE
	},
	_initRenderer: function() {
		this._imageRenderer =
			new ccui.Scale9Sprite;
		this._imageRenderer.setRenderingType(ccui.Scale9Sprite.RenderingType.SIMPLE);
		this.addProtectedChild(this._imageRenderer, ccui.ImageView.RENDERER_ZORDER, -1)
	},
	loadTexture: function(a, b) {
		if (a && (this._textureFile != a || this._imageTexType != b)) {
			var c = this;
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._textureFile = a;
			this._imageTexType = b;
			var d = c._imageRenderer;
			switch (c._imageTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c._scale9Enabled ? (d.initWithFile(a), d.setCapInsets(c._capInsets)) : d.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c._scale9Enabled ? (d.initWithSpriteFrameName(a), d.setCapInsets(c._capInsets)) : d.initWithSpriteFrameName(a)
			}
			if (!d._textureLoaded) {
				var e = function() {
					d.removeEventListener("load", e);
					!c._ignoreSize && cc.sizeEqualToSize(c._customSize, cc.size(0, 0)) && (c._customSize = c._imageRenderer.getContentSize());
					c._imageTextureSize = d.getContentSize();
					c._updateChildrenDisplayedRGBA();
					c._updateContentSizeWithTextureSize(c._imageTextureSize)
				};
				d.addEventListener("load", e)
			}!this._ignoreSize &&
				cc.sizeEqualToSize(this._customSize, cc.size(0, 0)) && (this._customSize = this._imageRenderer.getContentSize());
			c._imageTextureSize = d.getContentSize();
			this._updateChildrenDisplayedRGBA();
			c._updateContentSizeWithTextureSize(c._imageTextureSize);
			c._imageRendererAdaptDirty = !0;
			c._findLayout()
		}
	},
	setTextureRect: function() {
		cc.warn("ImageView.setTextureRect  is deprecated!")
	},
	setScale9Enabled: function(a) {
		this._scale9Enabled !== a && ((this._scale9Enabled = a) ? this._imageRenderer.setRenderingType(ccui.Scale9Sprite.RenderingType.SLICED) :
			this._imageRenderer.setRenderingType(ccui.Scale9Sprite.RenderingType.SIMPLE), this._scale9Enabled ? (a = this._ignoreSize, this.ignoreContentAdaptWithSize(!1), this._prevIgnoreSize = a) : this.ignoreContentAdaptWithSize(this._prevIgnoreSize), this.setCapInsets(this._capInsets), this._imageRendererAdaptDirty = !0)
	},
	isScale9Enabled: function() {
		return this._scale9Enabled
	},
	ignoreContentAdaptWithSize: function(a) {
		if (!this._scale9Enabled || this._scale9Enabled && !a) ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this,
			a), this._prevIgnoreSize = a
	},
	setCapInsets: function(a) {
		if (a) {
			var b = this._capInsets;
			b.x = a.x;
			b.y = a.y;
			b.width = a.width;
			b.height = a.height;
			this._scale9Enabled && this._imageRenderer.setCapInsets(a)
		}
	},
	getCapInsets: function() {
		return cc.rect(this._capInsets)
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._imageRendererAdaptDirty = !0
	},
	_adaptRenderers: function() {
		this._imageRendererAdaptDirty && (this._imageTextureScaleChangedWithSize(), this._imageRendererAdaptDirty = !1)
	},
	getVirtualRendererSize: function() {
		return cc.size(this._imageTextureSize)
	},
	getVirtualRenderer: function() {
		return this._imageRenderer
	},
	_imageTextureScaleChangedWithSize: function() {
		this._imageRenderer.setContentSize(this._contentSize);
		this._imageRenderer.setPosition(this._contentSize.width / 2, this._contentSize.height / 2)
	},
	getDescription: function() {
		return "ImageView"
	},
	_createCloneInstance: function() {
		return new ccui.ImageView
	},
	_copySpecialProperties: function(a) {
		a instanceof ccui.ImageView && (this._prevIgnoreSize = a._prevIgnoreSize, this._capInsets = a._capInsets, this.loadTexture(a._textureFile,
			a._imageTexType), this.setScale9Enabled(a._scale9Enabled))
	},
	setContentSize: function(a, b) {
		b && (a = cc.size(a, b));
		ccui.Widget.prototype.setContentSize.call(this, a);
		this._imageRenderer.setContentSize(a)
	}
});
ccui.ImageView.create = function(a, b) {
	return new ccui.ImageView(a, b)
};
ccui.ImageView.RENDERER_ZORDER = -1;
ccui.LoadingBar = ccui.Widget.extend({
	_direction: null,
	_percent: 100,
	_totalLength: 0,
	_barRenderer: null,
	_renderBarTexType: ccui.Widget.LOCAL_TEXTURE,
	_barRendererTextureSize: null,
	_scale9Enabled: !1,
	_prevIgnoreSize: !0,
	_capInsets: null,
	_textureFile: "",
	_isTextureLoaded: !1,
	_className: "LoadingBar",
	_barRendererAdaptDirty: !0,
	ctor: function(a, b) {
		this._direction = ccui.LoadingBar.TYPE_LEFT;
		this._barRendererTextureSize = cc.size(0, 0);
		this._capInsets = cc.rect(0, 0, 0, 0);
		ccui.Widget.prototype.ctor.call(this);
		void 0 !== a && this.loadTexture(a);
		void 0 !== b && this.setPercent(b)
	},
	_initRenderer: function() {
		this._barRenderer = new cc.Sprite;
		this.addProtectedChild(this._barRenderer, ccui.LoadingBar.RENDERER_ZORDER, -1);
		this._barRenderer.setAnchorPoint(0, 0.5)
	},
	setDirection: function(a) {
		if (this._direction !== a) switch (this._direction = a, this._direction) {
			case ccui.LoadingBar.TYPE_LEFT:
				this._barRenderer.setAnchorPoint(0, 0.5);
				this._barRenderer.setPosition(0, 0.5 * this._contentSize.height);
				this._scale9Enabled || this._barRenderer.setFlippedX(!1);
				break;
			case ccui.LoadingBar.TYPE_RIGHT:
				this._barRenderer.setAnchorPoint(1,
					0.5), this._barRenderer.setPosition(this._totalLength, 0.5 * this._contentSize.height), this._scale9Enabled || this._barRenderer.setFlippedX(!0)
		}
	},
	getDirection: function() {
		return this._direction
	},
	loadTexture: function(a, b) {
		if (a) {
			this._renderBarTexType = b = b || ccui.Widget.LOCAL_TEXTURE;
			this._textureFile = a;
			var c = this._barRenderer,
				d = this;
			c._textureLoaded || c.addEventListener("load", function() {
				d.loadTexture(d._textureFile, d._renderBarTexType);
				d._setPercent(d._percent)
			});
			switch (this._renderBarTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			var e = c.getContentSize();
			this._barRendererTextureSize.width = e.width;
			this._barRendererTextureSize.height = e.height;
			switch (this._direction) {
				case ccui.LoadingBar.TYPE_LEFT:
					c.setAnchorPoint(0, 0.5);
					this._scale9Enabled || c.setFlippedX(!1);
					break;
				case ccui.LoadingBar.TYPE_RIGHT:
					c.setAnchorPoint(1, 0.5), this._scale9Enabled || c.setFlippedX(!0)
			}
			this._scale9Enabled && c.setCapInsets(this._capInsets);
			this._updateChildrenDisplayedRGBA();
			this._barRendererScaleChangedWithSize();
			this._updateContentSizeWithTextureSize(this._barRendererTextureSize);
			this._barRendererAdaptDirty = !0;
			this._findLayout()
		}
	},
	setScale9Enabled: function(a) {
		this._scale9Enabled !== a && (this._scale9Enabled = a, this.removeProtectedChild(this._barRenderer), this._barRenderer = this._scale9Enabled ? new ccui.Scale9Sprite : new cc.Sprite, this.loadTexture(this._textureFile, this._renderBarTexType), this.addProtectedChild(this._barRenderer, ccui.LoadingBar.RENDERER_ZORDER, -1), this._scale9Enabled ? (a = this._ignoreSize, this.ignoreContentAdaptWithSize(!1),
			this._prevIgnoreSize = a) : this.ignoreContentAdaptWithSize(this._prevIgnoreSize), this.setCapInsets(this._capInsets), this.setPercent(this._percent), this._barRendererAdaptDirty = !0)
	},
	isScale9Enabled: function() {
		return this._scale9Enabled
	},
	setCapInsets: function(a) {
		if (a) {
			var b = this._capInsets;
			b.x = a.x;
			b.y = a.y;
			b.width = a.width;
			b.height = a.height;
			this._scale9Enabled && this._barRenderer.setCapInsets(a)
		}
	},
	getCapInsets: function() {
		return cc.rect(this._capInsets)
	},
	setPercent: function(a) {
		100 < a && (a = 100);
		0 > a && (a = 0);
		a !==
			this._percent && (this._percent = a, this._setPercent(a))
	},
	_setPercent: function() {
		var a, b, c, d;
		0 >= this._totalLength || (a = this._percent / 100, this._scale9Enabled ? this._setScale9Scale() : (c = this._barRenderer, d = this._barRendererTextureSize, b = c.getTextureRect(), b.width = d.width * a, c.setTextureRect(cc.rect(b.x, b.y, d.width * a, d.height), c._rectRotated)))
	},
	setContentSize: function(a, b) {
		ccui.Widget.prototype.setContentSize.call(this, a, b);
		this._totalLength = void 0 === b ? a.width : a
	},
	getPercent: function() {
		return this._percent
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._barRendererAdaptDirty = !0
	},
	_adaptRenderers: function() {
		this._barRendererAdaptDirty && (this._barRendererScaleChangedWithSize(), this._barRendererAdaptDirty = !1)
	},
	ignoreContentAdaptWithSize: function(a) {
		if (!this._scale9Enabled || this._scale9Enabled && !a) ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this, a), this._prevIgnoreSize = a
	},
	getVirtualRendererSize: function() {
		return cc.size(this._barRendererTextureSize)
	},
	getVirtualRenderer: function() {
		return this._barRenderer
	},
	_barRendererScaleChangedWithSize: function() {
		var a = this._barRenderer,
			b = this._contentSize;
		if (this._unifySize) this._totalLength = this._contentSize.width, this.setPercent(this._percent);
		else if (this._ignoreSize) this._scale9Enabled || (this._totalLength = this._barRendererTextureSize.width, a.setScale(1));
		else if (this._totalLength = b.width, this._scale9Enabled) this._setScale9Scale(), a.setScale(1);
		else {
			var c = this._barRendererTextureSize;
			if (0 >= c.width || 0 >= c.height) {
				a.setScale(1);
				return
			}
			var d = b.height / c.height;
			a.setScaleX(b.width /
				c.width);
			a.setScaleY(d)
		}
		switch (this._direction) {
			case ccui.LoadingBar.TYPE_LEFT:
				a.setPosition(0, 0.5 * b.height);
				break;
			case ccui.LoadingBar.TYPE_RIGHT:
				a.setPosition(this._totalLength, 0.5 * b.height)
		}
	},
	_setScale9Scale: function() {
		this._barRenderer.setPreferredSize(cc.size(this._percent / 100 * this._totalLength, this._contentSize.height))
	},
	getDescription: function() {
		return "LoadingBar"
	},
	_createCloneInstance: function() {
		return new ccui.LoadingBar
	},
	_copySpecialProperties: function(a) {
		a instanceof ccui.LoadingBar && (this._prevIgnoreSize =
			a._prevIgnoreSize, this.setScale9Enabled(a._scale9Enabled), this.loadTexture(a._textureFile, a._renderBarTexType), this.setCapInsets(a._capInsets), this.setPercent(a._percent), this.setDirection(a._direction))
	}
});
_p = ccui.LoadingBar.prototype;
cc.defineGetterSetter(_p, "direction", _p.getDirection, _p.setDirection);
cc.defineGetterSetter(_p, "percent", _p.getPercent, _p.setPercent);
_p = null;
ccui.LoadingBar.create = function(a, b) {
	return new ccui.LoadingBar(a, b)
};
ccui.LoadingBar.TYPE_LEFT = 0;
ccui.LoadingBar.TYPE_RIGHT = 1;
ccui.LoadingBar.RENDERER_ZORDER = -1;
ccui.Slider = ccui.Widget.extend({
	_barRenderer: null,
	_progressBarRenderer: null,
	_barTextureSize: null,
	_progressBarTextureSize: null,
	_slidBallNormalRenderer: null,
	_slidBallPressedRenderer: null,
	_slidBallDisabledRenderer: null,
	_slidBallRenderer: null,
	_barLength: 0,
	_percent: 0,
	_scale9Enabled: !1,
	_prevIgnoreSize: !0,
	_textureFile: "",
	_progressBarTextureFile: "",
	_slidBallNormalTextureFile: "",
	_slidBallPressedTextureFile: "",
	_slidBallDisabledTextureFile: "",
	_capInsetsBarRenderer: null,
	_capInsetsProgressBarRenderer: null,
	_sliderEventListener: null,
	_sliderEventSelector: null,
	_barTexType: ccui.Widget.LOCAL_TEXTURE,
	_progressBarTexType: ccui.Widget.LOCAL_TEXTURE,
	_ballNTexType: ccui.Widget.LOCAL_TEXTURE,
	_ballPTexType: ccui.Widget.LOCAL_TEXTURE,
	_ballDTexType: ccui.Widget.LOCAL_TEXTURE,
	_isTextureLoaded: !1,
	_className: "Slider",
	_barRendererAdaptDirty: !0,
	_progressBarRendererDirty: !0,
	_unifySize: !1,
	_zoomScale: 0.1,
	_sliderBallNormalTextureScaleX: 1,
	_sliderBallNormalTextureScaleY: 1,
	ctor: function(a, b, c) {
		this._barTextureSize = cc.size(0, 0);
		this._progressBarTextureSize =
			cc.size(0, 0);
		this._capInsetsBarRenderer = cc.rect(0, 0, 0, 0);
		this._capInsetsProgressBarRenderer = cc.rect(0, 0, 0, 0);
		ccui.Widget.prototype.ctor.call(this);
		c = c || 0;
		this.setTouchEnabled(!0);
		a && this.loadBarTexture(a, c);
		b && this.loadSlidBallTextures(b, c)
	},
	_initRenderer: function() {
		this._barRenderer = new cc.Sprite;
		this._progressBarRenderer = new cc.Sprite;
		this._progressBarRenderer.setAnchorPoint(0, 0.5);
		this.addProtectedChild(this._barRenderer, ccui.Slider.BASEBAR_RENDERER_ZORDER, -1);
		this.addProtectedChild(this._progressBarRenderer,
			ccui.Slider.PROGRESSBAR_RENDERER_ZORDER, -1);
		this._slidBallNormalRenderer = new cc.Sprite;
		this._slidBallPressedRenderer = new cc.Sprite;
		this._slidBallPressedRenderer.setVisible(!1);
		this._slidBallDisabledRenderer = new cc.Sprite;
		this._slidBallDisabledRenderer.setVisible(!1);
		this._slidBallRenderer = new cc.Node;
		this._slidBallRenderer.addChild(this._slidBallNormalRenderer);
		this._slidBallRenderer.addChild(this._slidBallPressedRenderer);
		this._slidBallRenderer.addChild(this._slidBallDisabledRenderer);
		this._slidBallRenderer.setCascadeColorEnabled(!0);
		this._slidBallRenderer.setCascadeOpacityEnabled(!0);
		this.addProtectedChild(this._slidBallRenderer, ccui.Slider.BALL_RENDERER_ZORDER, -1)
	},
	loadBarTexture: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._textureFile = a;
			this._barTexType = b;
			var c = this._barRenderer,
				d = this;
			c._textureLoaded || c.addEventListener("load", function() {
				d.loadBarTexture(d._textureFile, d._barTexType)
			});
			switch (this._barTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._progressBarRendererDirty = this._barRendererAdaptDirty = !0;
			this._updateContentSizeWithTextureSize(this._barRenderer.getContentSize());
			this._findLayout();
			this._barTextureSize = this._barRenderer.getContentSize()
		}
	},
	loadProgressBarTexture: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._progressBarTextureFile = a;
			this._progressBarTexType = b;
			var c = this._progressBarRenderer,
				d = this;
			c._textureLoaded || c.addEventListener("load", function() {
				d.loadProgressBarTexture(d._progressBarTextureFile, d._progressBarTexType)
			});
			switch (this._progressBarTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					c.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					c.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._progressBarRenderer.setAnchorPoint(cc.p(0, 0.5));
			c = this._progressBarRenderer.getContentSize();
			this._progressBarTextureSize = {
				width: c.width,
				height: c.height
			};
			this._progressBarRendererDirty = !0;
			this._findLayout()
		}
	},
	setScale9Enabled: function(a) {
		this._scale9Enabled !== a && (this._scale9Enabled = a, this.removeProtectedChild(this._barRenderer,
			!0), this.removeProtectedChild(this._progressBarRenderer, !0), this._progressBarRenderer = this._barRenderer = null, this._scale9Enabled ? (this._barRenderer = new ccui.Scale9Sprite, this._progressBarRenderer = new ccui.Scale9Sprite) : (this._barRenderer = new cc.Sprite, this._progressBarRenderer = new cc.Sprite), this.loadBarTexture(this._textureFile, this._barTexType), this.loadProgressBarTexture(this._progressBarTextureFile, this._progressBarTexType), this.addProtectedChild(this._barRenderer, ccui.Slider.BASEBAR_RENDERER_ZORDER,
			-1), this.addProtectedChild(this._progressBarRenderer, ccui.Slider.PROGRESSBAR_RENDERER_ZORDER, -1), this._scale9Enabled ? (a = this._ignoreSize, this.ignoreContentAdaptWithSize(!1), this._prevIgnoreSize = a) : this.ignoreContentAdaptWithSize(this._prevIgnoreSize), this.setCapInsetsBarRenderer(this._capInsetsBarRenderer), this.setCapInsetProgressBarRenderer(this._capInsetsProgressBarRenderer), this._progressBarRendererDirty = this._barRendererAdaptDirty = !0)
	},
	isScale9Enabled: function() {
		return this._scale9Enabled
	},
	ignoreContentAdaptWithSize: function(a) {
		if (!this._scale9Enabled ||
			this._scale9Enabled && !a) ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this, a), this._prevIgnoreSize = a
	},
	setCapInsets: function(a) {
		this.setCapInsetsBarRenderer(a);
		this.setCapInsetProgressBarRenderer(a)
	},
	setCapInsetsBarRenderer: function(a) {
		if (a) {
			var b = this._capInsetsBarRenderer;
			b.x = a.x;
			b.y = a.y;
			b.width = a.width;
			b.height = a.height;
			this._scale9Enabled && this._barRenderer.setCapInsets(a)
		}
	},
	getCapInsetsBarRenderer: function() {
		return cc.rect(this._capInsetsBarRenderer)
	},
	setCapInsetProgressBarRenderer: function(a) {
		if (a) {
			var b =
				this._capInsetsProgressBarRenderer;
			b.x = a.x;
			b.y = a.y;
			b.width = a.width;
			b.height = a.height;
			this._scale9Enabled && this._progressBarRenderer.setCapInsets(a)
		}
	},
	getCapInsetsProgressBarRenderer: function() {
		return cc.rect(this._capInsetsProgressBarRenderer)
	},
	loadSlidBallTextures: function(a, b, c, d) {
		this.loadSlidBallTextureNormal(a, d);
		this.loadSlidBallTexturePressed(b, d);
		this.loadSlidBallTextureDisabled(c, d)
	},
	loadSlidBallTextureNormal: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._slidBallNormalTextureFile =
				a;
			this._ballNTexType = b;
			var c = this;
			this._slidBallNormalRenderer._textureLoaded || this._slidBallNormalRenderer.addEventListener("load", function() {
				c.loadSlidBallTextureNormal(c._slidBallNormalTextureFile, c._ballNTexType)
			});
			switch (this._ballNTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					this._slidBallNormalRenderer.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					this._slidBallNormalRenderer.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._findLayout()
		}
	},
	loadSlidBallTexturePressed: function(a,
		b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._slidBallPressedTextureFile = a;
			this._ballPTexType = b;
			var c = this;
			this._slidBallPressedRenderer._textureLoaded || this._slidBallPressedRenderer.addEventListener("load", function() {
				c.loadSlidBallTexturePressed(c._slidBallPressedTextureFile, c._ballPTexType)
			});
			switch (this._ballPTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					this._slidBallPressedRenderer.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					this._slidBallPressedRenderer.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._findLayout()
		}
	},
	loadSlidBallTextureDisabled: function(a, b) {
		if (a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this._slidBallDisabledTextureFile = a;
			this._ballDTexType = b;
			var c = this;
			this._slidBallDisabledRenderer._textureLoaded || this._slidBallDisabledRenderer.addEventListener("load", function() {
				c.loadSlidBallTextureDisabled(c._slidBallDisabledTextureFile, c._ballDTexType)
			});
			switch (this._ballDTexType) {
				case ccui.Widget.LOCAL_TEXTURE:
					this._slidBallDisabledRenderer.initWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					this._slidBallDisabledRenderer.initWithSpriteFrameName(a)
			}
			this._updateChildrenDisplayedRGBA();
			this._findLayout()
		}
	},
	setPercent: function(a) {
		100 < a && (a = 100);
		0 > a && (a = 0);
		this._percent = a;
		a = a / 100 * this._barLength;
		this._slidBallRenderer.setPosition(a, this._contentSize.height / 2);
		if (this._scale9Enabled) this._progressBarRenderer.setPreferredSize(cc.size(a, this._contentSize.height));
		else {
			var b = this._progressBarRenderer,
				c = b.getTextureRect();
			b.setTextureRect(cc.rect(c.x, c.y, a / b._scaleX, c.height), b.isTextureRectRotated())
		}
	},
	hitTest: function(a) {
		a = this._slidBallNormalRenderer.convertToNodeSpace(a);
		var b = this._slidBallNormalRenderer.getContentSize(),
			b = cc.rect(0, 0, b.width, b.height);
		return a.x >= b.x && a.x <= b.x + b.width && a.y >= b.y && a.y <= b.y + b.height
	},
	onTouchBegan: function(a, b) {
		var c = ccui.Widget.prototype.onTouchBegan.call(this, a, b);
		if (this._hit) {
			var d = this.convertToNodeSpace(this._touchBeganPosition);
			this.setPercent(this._getPercentWithBallPos(d.x));
			this._percentChangedEvent()
		}
		return c
	},
	onTouchMoved: function(a, b) {
		var c = a.getLocation(),
			c = this.convertToNodeSpace(c);
		this.setPercent(this._getPercentWithBallPos(c.x));
		this._percentChangedEvent()
	},
	onTouchEnded: function(a,
		b) {
		ccui.Widget.prototype.onTouchEnded.call(this, a, b)
	},
	onTouchCancelled: function(a, b) {
		ccui.Widget.prototype.onTouchCancelled.call(this, a, b)
	},
	_getPercentWithBallPos: function(a) {
		return a / this._barLength * 100
	},
	addEventListenerSlider: function(a, b) {
		this.addEventListener(a, b)
	},
	addEventListener: function(a, b) {
		this._sliderEventSelector = a;
		this._sliderEventListener = b
	},
	_percentChangedEvent: function() {
		this._sliderEventSelector && (this._sliderEventListener ? this._sliderEventSelector.call(this._sliderEventListener,
			this, ccui.Slider.EVENT_PERCENT_CHANGED) : this._sliderEventSelector(this, ccui.Slider.EVENT_PERCENT_CHANGED));
		this._ccEventCallback && this._ccEventCallback(this, ccui.Slider.EVENT_PERCENT_CHANGED)
	},
	getPercent: function() {
		return this._percent
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._progressBarRendererDirty = this._barRendererAdaptDirty = !0
	},
	_adaptRenderers: function() {
		this._barRendererAdaptDirty && (this._barRendererScaleChangedWithSize(), this._barRendererAdaptDirty = !1);
		this._progressBarRendererDirty && (this._progressBarRendererScaleChangedWithSize(), this._progressBarRendererDirty = !1)
	},
	getVirtualRendererSize: function() {
		return this._barRenderer.getContentSize()
	},
	getVirtualRenderer: function() {
		return this._barRenderer
	},
	_barRendererScaleChangedWithSize: function() {
		if (this._unifySize) this._barLength = this._contentSize.width, this._barRenderer.setPreferredSize(this._contentSize);
		else if (this._ignoreSize) this._barRenderer.setScale(1), this._barLength = this._contentSize.width;
		else if (this._barLength = this._contentSize.width, this._scale9Enabled) this._barRenderer.setPreferredSize(this._contentSize), this._barRenderer.setScale(1);
		else {
			var a = this._barTextureSize;
			if (0 >= a.width || 0 >= a.height) this._barRenderer.setScale(1);
			else {
				var b = this._contentSize.height / a.height;
				this._barRenderer.setScaleX(this._contentSize.width / a.width);
				this._barRenderer.setScaleY(b)
			}
		}
		this._barRenderer.setPosition(this._contentSize.width / 2, this._contentSize.height / 2);
		this.setPercent(this._percent)
	},
	_progressBarRendererScaleChangedWithSize: function() {
		if (this._unifySize) this._progressBarRenderer.setPreferredSize(this._contentSize);
		else if (this._ignoreSize) {
			if (!this._scale9Enabled) {
				var a = this._progressBarTextureSize,
					b = this._contentSize.width / a.width,
					a = this._contentSize.height / a.height;
				this._progressBarRenderer.setScaleX(b);
				this._progressBarRenderer.setScaleY(a)
			}
		} else if (this._scale9Enabled) this._progressBarRenderer.setPreferredSize(this._contentSize), this._progressBarRenderer.setScale(1);
		else {
			a = this._progressBarTextureSize;
			if (0 >= a.width || 0 >= a.height) {
				this._progressBarRenderer.setScale(1);
				return
			}
			b = this._contentSize.width / a.width;
			a = this._contentSize.height / a.height;
			this._progressBarRenderer.setScaleX(b);
			this._progressBarRenderer.setScaleY(a)
		}
		this._progressBarRenderer.setPosition(0, this._contentSize.height / 2);
		this.setPercent(this._percent)
	},
	_onPressStateChangedToNormal: function() {
		this._slidBallNormalRenderer.setVisible(!0);
		this._slidBallPressedRenderer.setVisible(!1);
		this._slidBallDisabledRenderer.setVisible(!1);
		this._slidBallNormalRenderer.setScale(this._sliderBallNormalTextureScaleX, this._sliderBallNormalTextureScaleY);
		cc._renderType ===
			cc.game.RENDER_TYPE_WEBGL && (this._slidBallNormalRenderer._renderCmd._shaderProgram = this._getNormalGLProgram())
	},
	_onPressStateChangedToPressed: function() {
		this._slidBallPressedTextureFile ? (this._slidBallNormalRenderer.setVisible(!1), this._slidBallPressedRenderer.setVisible(!0), this._slidBallDisabledRenderer.setVisible(!1)) : this._slidBallNormalRenderer.setScale(this._sliderBallNormalTextureScaleX + this._zoomScale, this._sliderBallNormalTextureScaleY + this._zoomScale);
		cc._renderType === cc.game.RENDER_TYPE_WEBGL &&
			(this._slidBallNormalRenderer._renderCmd._shaderProgram = this._getNormalGLProgram())
	},
	_onPressStateChangedToDisabled: function() {
		this._slidBallDisabledTextureFile ? (this._slidBallNormalRenderer.setVisible(!1), this._slidBallDisabledRenderer.setVisible(!0)) : (this._slidBallNormalRenderer.setVisible(!0), cc._renderType === cc.game.RENDER_TYPE_WEBGL && (this._slidBallNormalRenderer._renderCmd._shaderProgram = this._getGrayGLProgram()));
		this._slidBallNormalRenderer.setScale(this._sliderBallNormalTextureScaleX, this._sliderBallNormalTextureScaleY);
		this._slidBallPressedRenderer.setVisible(!1)
	},
	setZoomScale: function(a) {
		this._zoomScale = a
	},
	getZoomScale: function() {
		return this._zoomScale
	},
	getSlidBallNormalRenderer: function() {
		return this._slidBallNormalRenderer
	},
	getSlidBallPressedRenderer: function() {
		return this._slidBallPressedRenderer
	},
	getSlidBallDisabledRenderer: function() {
		return this._slidBallDisabledRenderer
	},
	getSlidBallRenderer: function() {
		return this._slidBallRenderer
	},
	getDescription: function() {
		return "Slider"
	},
	_createCloneInstance: function() {
		return new ccui.Slider
	},
	_copySpecialProperties: function(a) {
		this._prevIgnoreSize = a._prevIgnoreSize;
		this.setScale9Enabled(a._scale9Enabled);
		this.loadBarTexture(a._textureFile, a._barTexType);
		this.loadProgressBarTexture(a._progressBarTextureFile, a._progressBarTexType);
		this.loadSlidBallTextureNormal(a._slidBallNormalTextureFile, a._ballNTexType);
		this.loadSlidBallTexturePressed(a._slidBallPressedTextureFile, a._ballPTexType);
		this.loadSlidBallTextureDisabled(a._slidBallDisabledTextureFile, a._ballDTexType);
		this.setPercent(a.getPercent());
		this._sliderEventListener = a._sliderEventListener;
		this._sliderEventSelector = a._sliderEventSelector;
		this._zoomScale = a._zoomScale;
		this._ccEventCallback = a._ccEventCallback
	}
});
_p = ccui.Slider.prototype;
cc.defineGetterSetter(_p, "percent", _p.getPercent, _p.setPercent);
_p = null;
ccui.Slider.create = function(a, b, c) {
	return new ccui.Slider(a, b, c)
};
ccui.Slider.EVENT_PERCENT_CHANGED = 0;
ccui.Slider.BASEBAR_RENDERER_ZORDER = -3;
ccui.Slider.PROGRESSBAR_RENDERER_ZORDER = -2;
ccui.Slider.BALL_RENDERER_ZORDER = -1;
ccui.Text = ccui.Widget.extend({
	_touchScaleChangeEnabled: !1,
	_normalScaleValueX: 1,
	_normalScaleValueY: 1,
	_fontName: "Arial",
	_fontSize: 16,
	_onSelectedScaleOffset: 0.5,
	_labelRenderer: null,
	_textAreaSize: null,
	_textVerticalAlignment: 0,
	_textHorizontalAlignment: 0,
	_className: "Text",
	_type: null,
	_labelRendererAdaptDirty: !0,
	ctor: function(a, b, c) {
		this._type = ccui.Text.Type.SYSTEM;
		this._textAreaSize = cc.size(0, 0);
		ccui.Widget.prototype.ctor.call(this);
		void 0 !== c ? (this.setFontName(b), this.setFontSize(c), this.setString(a)) :
			this.setFontName(this._fontName)
	},
	_initRenderer: function() {
		this._labelRenderer = new cc.LabelTTF;
		this.addProtectedChild(this._labelRenderer, ccui.Text.RENDERER_ZORDER, -1)
	},
	setText: function(a) {
		cc.log("Please use the setString");
		this.setString(a)
	},
	setString: function(a) {
		a !== this._labelRenderer.getString() && (this._setString(a), this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize()))
	},
	_setString: function(a) {
		this._labelRenderer.setString(a);
		this._labelRendererAdaptDirty = !0
	},
	getStringValue: function() {
		cc.log("Please use the getString");
		return this._labelRenderer.getString()
	},
	getString: function() {
		return this._labelRenderer.getString()
	},
	getStringLength: function() {
		return this._labelRenderer.getStringLength()
	},
	setFontSize: function(a) {
		this._setFontSize(a);
		this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize())
	},
	_setFontSize: function(a) {
		this._labelRenderer.setFontSize(a);
		this._fontSize = a;
		this._labelRendererAdaptDirty = !0
	},
	getFontSize: function() {
		return this._fontSize
	},
	setFontName: function(a) {
		this._setFontName(a);
		this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize())
	},
	_setFontName: function(a) {
		this._fontName = a;
		this._labelRenderer.setFontName(a);
		this._labelRendererAdaptDirty = !0
	},
	_updateUITextContentSize: function() {
		this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize())
	},
	getFontName: function() {
		return this._fontName
	},
	_setFont: function(a) {
		var b = cc.LabelTTF._fontStyleRE.exec(a);
		b && (this._fontSize = parseInt(b[1]), this._fontName = b[2], this._labelRenderer._setFont(a), this._labelScaleChangedWithSize())
	},
	_getFont: function() {
		return this._labelRenderer._getFont()
	},
	getType: function() {
		return this._type
	},
	setTextAreaSize: function(a) {
		this._setTextAreaSize(a);
		this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize())
	},
	_setTextAreaSize: function(a) {
		this._labelRenderer.setDimensions(a);
		this._ignoreSize || (this._customSize = a);
		this._labelRendererAdaptDirty = !0
	},
	getTextAreaSize: function() {
		return this._labelRenderer.getDimensions()
	},
	setTextHorizontalAlignment: function(a) {
		this._setTextHorizontalAlignment(a);
		this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize())
	},
	_setTextHorizontalAlignment: function(a) {
		this._labelRenderer.setHorizontalAlignment(a);
		this._labelRendererAdaptDirty = !0
	},
	getTextHorizontalAlignment: function() {
		return this._labelRenderer.getHorizontalAlignment()
	},
	setTextVerticalAlignment: function(a) {
		this._setTextVerticalAlignment(a);
		this._updateContentSizeWithTextureSize(this._labelRenderer.getContentSize())
	},
	_setTextVerticalAlignment: function(a) {
		this._labelRenderer.setVerticalAlignment(a);
		this._labelRendererAdaptDirty = !0
	},
	getTextVerticalAlignment: function() {
		return this._labelRenderer.getVerticalAlignment()
	},
	setTouchScaleChangeEnabled: function(a) {
		this._touchScaleChangeEnabled = a
	},
	isTouchScaleChangeEnabled: function() {
		return this._touchScaleChangeEnabled
	},
	_onPressStateChangedToNormal: function() {
		this._touchScaleChangeEnabled && (this._labelRenderer.setScaleX(this._normalScaleValueX), this._labelRenderer.setScaleY(this._normalScaleValueY))
	},
	_onPressStateChangedToPressed: function() {
		this._touchScaleChangeEnabled && (this._labelRenderer.setScaleX(this._normalScaleValueX + this._onSelectedScaleOffset), this._labelRenderer.setScaleY(this._normalScaleValueY +
			this._onSelectedScaleOffset))
	},
	_onPressStateChangedToDisabled: function() {},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._labelRendererAdaptDirty = !0
	},
	_adaptRenderers: function() {
		this._labelRendererAdaptDirty && (this._labelScaleChangedWithSize(), this._labelRendererAdaptDirty = !1)
	},
	getVirtualRendererSize: function() {
		return this._labelRenderer.getContentSize()
	},
	getVirtualRenderer: function() {
		return this._labelRenderer
	},
	getAutoRenderSize: function() {
		var a = this._labelRenderer.getContentSize();
		this._ignoreSize || (this._labelRenderer.setDimensions(0, 0), a = this._labelRenderer.getContentSize(), this._labelRenderer.setDimensions(this._contentSize.width, this._contentSize.height));
		return a
	},
	_labelScaleChangedWithSize: function() {
		var a = this._contentSize;
		if (this._ignoreSize) this._labelRenderer.setScale(1), this._normalScaleValueX = this._normalScaleValueY = 1;
		else {
			this._labelRenderer.setDimensions(cc.size(a.width, a.height));
			var b = this._labelRenderer.getContentSize();
			if (0 >= b.width || 0 >= b.height) {
				this._labelRenderer.setScale(1);
				return
			}
			var c = a.width / b.width,
				b = a.height / b.height;
			this._labelRenderer.setScaleX(c);
			this._labelRenderer.setScaleY(b);
			this._normalScaleValueX = c;
			this._normalScaleValueY = b
		}
		this._labelRenderer.setPosition(a.width / 2, a.height / 2)
	},
	getDescription: function() {
		return "Label"
	},
	enableShadow: function(a, b, c) {
		this._labelRenderer.enableShadow(a, b, c)
	},
	enableOutline: function(a, b) {
		this._labelRenderer.enableStroke(a, b)
	},
	enableGlow: function(a) {
		this._type === ccui.Text.Type.TTF && this._labelRenderer.enableGlow(a)
	},
	disableEffect: function() {
		this._labelRenderer.disableEffect &&
			this._labelRenderer.disableEffect()
	},
	_createCloneInstance: function() {
		return new ccui.Text
	},
	_copySpecialProperties: function(a) {
		a instanceof ccui.Text && (this.setFontName(a._fontName), this.setFontSize(a.getFontSize()), this.setString(a.getString()), this.setTouchScaleChangeEnabled(a.touchScaleEnabled), this.setTextAreaSize(a._textAreaSize), this.setTextHorizontalAlignment(a._labelRenderer.getHorizontalAlignment()), this.setTextVerticalAlignment(a._labelRenderer.getVerticalAlignment()), this.setContentSize(a.getContentSize()),
			this.setTextColor(a.getTextColor()))
	},
	_setBoundingWidth: function(a) {
		this._textAreaSize.width = a;
		this._labelRenderer._setBoundingWidth(a);
		this._labelScaleChangedWithSize()
	},
	_setBoundingHeight: function(a) {
		this._textAreaSize.height = a;
		this._labelRenderer._setBoundingHeight(a);
		this._labelScaleChangedWithSize()
	},
	_getBoundingWidth: function() {
		return this._textAreaSize.width
	},
	_getBoundingHeight: function() {
		return this._textAreaSize.height
	},
	_changePosition: function() {
		this._adaptRenderers()
	},
	setColor: function(a) {
		cc.ProtectedNode.prototype.setColor.call(this,
			a);
		this._labelRenderer.setColor(a)
	},
	setTextColor: function(a) {
		this._labelRenderer.setFontFillColor(a)
	},
	getTextColor: function() {
		return this._labelRenderer._getFillStyle()
	}
});
_p = ccui.Text.prototype;
cc.defineGetterSetter(_p, "boundingWidth", _p._getBoundingWidth, _p._setBoundingWidth);
cc.defineGetterSetter(_p, "boundingHeight", _p._getBoundingHeight, _p._setBoundingHeight);
cc.defineGetterSetter(_p, "string", _p.getString, _p.setString);
cc.defineGetterSetter(_p, "stringLength", _p.getStringLength);
cc.defineGetterSetter(_p, "font", _p._getFont, _p._setFont);
cc.defineGetterSetter(_p, "fontSize", _p.getFontSize, _p.setFontSize);
cc.defineGetterSetter(_p, "fontName", _p.getFontName, _p.setFontName);
cc.defineGetterSetter(_p, "textAlign", _p.getTextHorizontalAlignment, _p.setTextHorizontalAlignment);
cc.defineGetterSetter(_p, "verticalAlign", _p.getTextVerticalAlignment, _p.setTextVerticalAlignment);
_p = null;
ccui.Label = ccui.Text.create = function(a, b, c) {
	return new ccui.Text(a, b, c)
};
ccui.Text.RENDERER_ZORDER = -1;
ccui.Text.Type = {
	SYSTEM: 0,
	TTF: 1
};
ccui.TextAtlas = ccui.Widget.extend({
	_labelAtlasRenderer: null,
	_stringValue: "",
	_charMapFileName: "",
	_itemWidth: 0,
	_itemHeight: 0,
	_startCharMap: "",
	_className: "TextAtlas",
	_labelAtlasRendererAdaptDirty: null,
	ctor: function(a, b, c, d, e) {
		ccui.Widget.prototype.ctor.call(this);
		void 0 !== e && this.setProperty(a, b, c, d, e)
	},
	_initRenderer: function() {
		this._labelAtlasRenderer = new cc.LabelAtlas;
		this._labelAtlasRenderer.setAnchorPoint(cc.p(0.5, 0.5));
		this.addProtectedChild(this._labelAtlasRenderer, ccui.TextAtlas.RENDERER_ZORDER,
			-1);
		this._labelAtlasRenderer.addEventListener("load", function() {
			this._updateContentSizeWithTextureSize(this._labelAtlasRenderer.getContentSize());
			this._findLayout()
		}, this)
	},
	setProperty: function(a, b, c, d, e) {
		this._stringValue = a;
		this._charMapFileName = b;
		this._itemWidth = c;
		this._itemHeight = d;
		this._startCharMap = e;
		this._labelAtlasRenderer.initWithString(a, this._charMapFileName, this._itemWidth, this._itemHeight, this._startCharMap[0]);
		this._updateContentSizeWithTextureSize(this._labelAtlasRenderer.getContentSize());
		this._labelAtlasRendererAdaptDirty = !0
	},
	setString: function(a) {
		a !== this._labelAtlasRenderer.getString() && (this._stringValue = a, this._labelAtlasRenderer.setString(a), this._updateContentSizeWithTextureSize(this._labelAtlasRenderer.getContentSize()), this._labelAtlasRendererAdaptDirty = !0)
	},
	setStringValue: function(a) {
		cc.log("Please use the setString");
		this.setString(a)
	},
	getStringValue: function() {
		cc.log("Please use the getString");
		return this.getString()
	},
	getString: function() {
		return this._labelAtlasRenderer.getString()
	},
	getStringLength: function() {
		return this._labelAtlasRenderer.getStringLength()
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._labelAtlasRendererAdaptDirty = !0
	},
	_adaptRenderers: function() {
		this._labelAtlasRendererAdaptDirty && (this._labelAtlasScaleChangedWithSize(), this._labelAtlasRendererAdaptDirty = !1)
	},
	getVirtualRendererSize: function() {
		return this._labelAtlasRenderer.getContentSize()
	},
	getVirtualRenderer: function() {
		return this._labelAtlasRenderer
	},
	_labelAtlasScaleChangedWithSize: function() {
		var a =
			this._labelAtlasRenderer;
		if (this._ignoreSize) a.setScale(1);
		else {
			var b = a.getContentSize();
			if (0 >= b.width || 0 >= b.height) {
				a.setScale(1);
				return
			}
			a.setScaleX(this._contentSize.width / b.width);
			a.setScaleY(this._contentSize.height / b.height)
		}
		a.setPosition(this._contentSize.width / 2, this._contentSize.height / 2)
	},
	getDescription: function() {
		return "LabelAtlas"
	},
	_copySpecialProperties: function(a) {
		a && this.setProperty(a._stringValue, a._charMapFileName, a._itemWidth, a._itemHeight, a._startCharMap)
	},
	_createCloneInstance: function() {
		return new ccui.TextAtlas
	}
});
_p = ccui.TextAtlas.prototype;
cc.defineGetterSetter(_p, "string", _p.getString, _p.setString);
_p = null;
ccui.TextAtlas.create = function(a, b, c, d, e) {
	return new ccui.TextAtlas(a, b, c, d, e)
};
ccui.TextAtlas.RENDERER_ZORDER = -1;
ccui.LabelBMFont = ccui.TextBMFont = ccui.Widget.extend({
	_labelBMFontRenderer: null,
	_fntFileHasInit: !1,
	_fntFileName: "",
	_stringValue: "",
	_className: "TextBMFont",
	_labelBMFontRendererAdaptDirty: !0,
	ctor: function(a, b) {
		ccui.Widget.prototype.ctor.call(this);
		this._loader = new cc.Sprite.LoadManager;
		void 0 !== b && (this.setFntFile(b), this.setString(a))
	},
	_initRenderer: function() {
		this._labelBMFontRenderer = new cc.LabelBMFont;
		this.addProtectedChild(this._labelBMFontRenderer, ccui.TextBMFont.RENDERER_ZORDER, -1)
	},
	setFntFile: function(a) {
		if (a) {
			this._fntFileName =
				a;
			this._fntFileHasInit = !0;
			this._labelBMFontRenderer.initWithString(this._stringValue, a);
			this._updateContentSizeWithTextureSize(this._labelBMFontRenderer.getContentSize());
			this._labelBMFontRendererAdaptDirty = !0;
			var b = this;
			a = b._labelBMFontRenderer;
			a._textureLoaded || a.addEventListener("load", function() {
				b.setFntFile(b._fntFileName)
			})
		}
	},
	setText: function(a) {
		cc.log("Please use the setString");
		this.setString(a)
	},
	setString: function(a) {
		this._loader.clear();
		this._labelBMFontRenderer._textureLoaded ? a !== this._labelBMFontRenderer.getString() &&
			(this._stringValue = a, this._labelBMFontRenderer.setString(a), this._fntFileHasInit && (this._updateContentSizeWithTextureSize(this._labelBMFontRenderer.getContentSize()), this._labelBMFontRendererAdaptDirty = !0)) : this._loader.add(this._labelBMFontRenderer, function() {
				this.setString(a)
			}, this)
	},
	getString: function() {
		return this._stringValue
	},
	getStringLength: function() {
		return this._labelBMFontRenderer.getStringLength()
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._labelBMFontRendererAdaptDirty = !0
	},
	_adaptRenderers: function() {
		this._labelBMFontRendererAdaptDirty && (this._labelBMFontScaleChangedWithSize(), this._labelBMFontRendererAdaptDirty = !1)
	},
	getVirtualRendererSize: function() {
		return this._labelBMFontRenderer.getContentSize()
	},
	getVirtualRenderer: function() {
		return this._labelBMFontRenderer
	},
	_labelBMFontScaleChangedWithSize: function() {
		var a = this._labelBMFontRenderer;
		if (this._ignoreSize) a.setScale(1);
		else {
			var b = a.getContentSize();
			if (0 >= b.width || 0 >= b.height) {
				a.setScale(1);
				return
			}
			a.setScaleX(this._contentSize.width /
				b.width);
			a.setScaleY(this._contentSize.height / b.height)
		}
		a.setPosition(this._contentSize.width / 2, this._contentSize.height / 2)
	},
	getDescription: function() {
		return "TextBMFont"
	},
	_createCloneInstance: function() {
		return new ccui.TextBMFont
	},
	_copySpecialProperties: function(a) {
		this.setFntFile(a._fntFileName);
		this.setString(a._stringValue)
	}
});
_p = ccui.TextBMFont.prototype;
cc.defineGetterSetter(_p, "string", _p.getString, _p.setString);
_p = null;
ccui.TextBMFont.create = function(a, b) {
	return new ccui.TextBMFont(a, b)
};
ccui.TextBMFont.RENDERER_ZORDER = -1;
ccui._TextFieldRenderer = cc.TextFieldTTF.extend({
	_maxLengthEnabled: !1,
	_maxLength: 0,
	_passwordEnabled: !1,
	_passwordStyleText: "",
	_attachWithIME: !1,
	_detachWithIME: !1,
	_insertText: !1,
	_deleteBackward: !1,
	_className: "_TextFieldRenderer",
	ctor: function() {
		cc.TextFieldTTF.prototype.ctor.call(this);
		this._maxLengthEnabled = !1;
		this._maxLength = 0;
		this._passwordEnabled = !1;
		this._passwordStyleText = "*";
		this._deleteBackward = this._insertText = this._detachWithIME = this._attachWithIME = !1
	},
	onEnter: function() {
		cc.TextFieldTTF.prototype.onEnter.call(this);
		cc.TextFieldTTF.prototype.setDelegate.call(this, this)
	},
	onTextFieldAttachWithIME: function(a) {
		this.setAttachWithIME(!0);
		return !1
	},
	onTextFieldInsertText: function(a, b, c) {
		if (1 === c && "\n" === b) return !1;
		this.setInsertText(!0);
		return this._maxLengthEnabled && cc.TextFieldTTF.prototype.getCharCount.call(this) >= this._maxLength
	},
	onTextFieldDeleteBackward: function(a, b, c) {
		this.setDeleteBackward(!0);
		return !1
	},
	onTextFieldDetachWithIME: function(a) {
		this.setDetachWithIME(!0);
		return !1
	},
	insertText: function(a, b) {
		"\n" !== a &&
			this._maxLengthEnabled && this.getString().length >= this._maxLength ? this._passwordEnabled && this.setPasswordText(this.getString()) : (cc.TextFieldTTF.prototype.insertText.call(this, a, b), this._passwordEnabled && 0 < cc.TextFieldTTF.prototype.getCharCount.call(this) && this.setPasswordText(this.getString()))
	},
	deleteBackward: function() {
		cc.TextFieldTTF.prototype.deleteBackward.call(this);
		0 < cc.TextFieldTTF.prototype.getCharCount.call(this) && this._passwordEnabled && this.setPasswordText(this._inputText)
	},
	openIME: function() {
		cc.TextFieldTTF.prototype.attachWithIME.call(this)
	},
	closeIME: function() {
		cc.TextFieldTTF.prototype.detachWithIME.call(this)
	},
	setMaxLengthEnabled: function(a) {
		this._maxLengthEnabled = a
	},
	isMaxLengthEnabled: function() {
		return this._maxLengthEnabled
	},
	setMaxLength: function(a) {
		this._maxLength = a
	},
	getMaxLength: function() {
		return this._maxLength
	},
	getCharCount: function() {
		return cc.TextFieldTTF.prototype.getCharCount.call(this)
	},
	setPasswordEnabled: function(a) {
		this._passwordEnabled = a
	},
	isPasswordEnabled: function() {
		return this._passwordEnabled
	},
	setPasswordStyleText: function(a) {
		if (!(1 <
				a.length)) {
			var b = a.charCodeAt(0);
			33 > b || 126 < b || (this._passwordStyleText = a)
		}
	},
	setPasswordText: function(a) {
		var b = "",
			c = a.length;
		a = c;
		this._maxLengthEnabled && c > this._maxLength && (a = this._maxLength);
		for (c = 0; c < a; ++c) b += this._passwordStyleText;
		cc.LabelTTF.prototype.setString.call(this, b)
	},
	setAttachWithIME: function(a) {
		this._attachWithIME = a
	},
	getAttachWithIME: function() {
		return this._attachWithIME
	},
	setDetachWithIME: function(a) {
		this._detachWithIME = a
	},
	getDetachWithIME: function() {
		return this._detachWithIME
	},
	setInsertText: function(a) {
		this._insertText =
			a
	},
	getInsertText: function() {
		return this._insertText
	},
	setDeleteBackward: function(a) {
		this._deleteBackward = a
	},
	getDeleteBackward: function() {
		return this._deleteBackward
	},
	onDraw: function(a) {
		return !1
	}
});
ccui._TextFieldRenderer.create = function(a, b, c) {
	var d = new ccui._TextFieldRenderer;
	return d && d.initWithString("", b, c) ? (a && d.setPlaceHolder(a), d) : null
};
ccui.TextField = ccui.Widget.extend({
	_textFieldRenderer: null,
	_touchWidth: 0,
	_touchHeight: 0,
	_useTouchArea: !1,
	_textFieldEventListener: null,
	_textFieldEventSelector: null,
	_passwordStyleText: "",
	_textFieldRendererAdaptDirty: !0,
	_fontName: "",
	_fontSize: 12,
	_ccEventCallback: null,
	ctor: function(a, b, c) {
		ccui.Widget.prototype.ctor.call(this);
		this.setTouchEnabled(!0);
		b && this.setFontName(b);
		c && this.setFontSize(c);
		a && this.setPlaceHolder(a)
	},
	onEnter: function() {
		ccui.Widget.prototype.onEnter.call(this);
		this.scheduleUpdate()
	},
	_initRenderer: function() {
		this._textFieldRenderer = ccui._TextFieldRenderer.create("input words here", "Thonburi", 20);
		this.addProtectedChild(this._textFieldRenderer, ccui.TextField.RENDERER_ZORDER, -1)
	},
	setTouchSize: function(a) {
		this._touchWidth = a.width;
		this._touchHeight = a.height
	},
	setTouchAreaEnabled: function(a) {
		this._useTouchArea = a
	},
	hitTest: function(a) {
		if (this._useTouchArea) {
			a = this.convertToNodeSpace(a);
			var b = cc.rect(-this._touchWidth * this._anchorPoint.x, -this._touchHeight * this._anchorPoint.y, this._touchWidth,
				this._touchHeight);
			return a.x >= b.x && a.x <= b.x + b.width && a.y >= b.y && a.y <= b.y + b.height
		}
		return ccui.Widget.prototype.hitTest.call(this, a)
	},
	getTouchSize: function() {
		return cc.size(this._touchWidth, this._touchHeight)
	},
	setText: function(a) {
		cc.log("Please use the setString");
		this.setString(a)
	},
	setString: function(a) {
		null != a && (a = String(a), this.isMaxLengthEnabled() && (a = a.substr(0, this.getMaxLength())), this.isPasswordEnabled() ? (this._textFieldRenderer.setPasswordText(a), this._textFieldRenderer.setString(""), this._textFieldRenderer.insertText(a,
			a.length)) : this._textFieldRenderer.setString(a), this._textFieldRendererAdaptDirty = !0, this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize()))
	},
	setPlaceHolder: function(a) {
		this._textFieldRenderer.setPlaceHolder(a);
		this._textFieldRendererAdaptDirty = !0;
		this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize())
	},
	getPlaceHolder: function() {
		return this._textFieldRenderer.getPlaceHolder()
	},
	getPlaceHolderColor: function() {
		return this._textFieldRenderer.getPlaceHolderColor()
	},
	setPlaceHolderColor: function(a) {
		this._textFieldRenderer.setColorSpaceHolder(a)
	},
	setTextColor: function(a) {
		this._textFieldRenderer.setTextColor(a)
	},
	setFontSize: function(a) {
		this._textFieldRenderer.setFontSize(a);
		this._fontSize = a;
		this._textFieldRendererAdaptDirty = !0;
		this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize())
	},
	getFontSize: function() {
		return this._fontSize
	},
	setFontName: function(a) {
		this._textFieldRenderer.setFontName(a);
		this._fontName = a;
		this._textFieldRendererAdaptDirty = !0;
		this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize())
	},
	getFontName: function() {
		return this._fontName
	},
	didNotSelectSelf: function() {
		this._textFieldRenderer.detachWithIME()
	},
	getStringValue: function() {
		cc.log("Please use the getString");
		return this.getString()
	},
	getString: function() {
		return this._textFieldRenderer.getString()
	},
	getStringLength: function() {
		return this._textFieldRenderer.getStringLength()
	},
	onTouchBegan: function(a, b) {
		var c = this,
			d = ccui.Widget.prototype.onTouchBegan.call(c,
				a, b);
		c._hit ? setTimeout(function() {
			c._textFieldRenderer.attachWithIME()
		}, 0) : setTimeout(function() {
			c._textFieldRenderer.detachWithIME()
		}, 0);
		return d
	},
	setMaxLengthEnabled: function(a) {
		this._textFieldRenderer.setMaxLengthEnabled(a)
	},
	isMaxLengthEnabled: function() {
		return this._textFieldRenderer.isMaxLengthEnabled()
	},
	setMaxLength: function(a) {
		this._textFieldRenderer.setMaxLength(a);
		this.setString(this.getString())
	},
	getMaxLength: function() {
		return this._textFieldRenderer.getMaxLength()
	},
	setPasswordEnabled: function(a) {
		this._textFieldRenderer.setPasswordEnabled(a)
	},
	isPasswordEnabled: function() {
		return this._textFieldRenderer.isPasswordEnabled()
	},
	setPasswordStyleText: function(a) {
		this._textFieldRenderer.setPasswordStyleText(a);
		this._passwordStyleText = a;
		this.setString(this.getString())
	},
	getPasswordStyleText: function() {
		return this._passwordStyleText
	},
	update: function(a) {
		this.getDetachWithIME() && (this._detachWithIMEEvent(), this.setDetachWithIME(!1));
		this.getAttachWithIME() && (this._attachWithIMEEvent(), this.setAttachWithIME(!1));
		this.getInsertText() && (this._textFieldRendererAdaptDirty = !0, this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize()), this._insertTextEvent(), this.setInsertText(!1));
		this.getDeleteBackward() && (this._textFieldRendererAdaptDirty = !0, this._updateContentSizeWithTextureSize(this._textFieldRenderer.getContentSize()), this._deleteBackwardEvent(), this.setDeleteBackward(!1))
	},
	getAttachWithIME: function() {
		return this._textFieldRenderer.getAttachWithIME()
	},
	setAttachWithIME: function(a) {
		this._textFieldRenderer.setAttachWithIME(a)
	},
	getDetachWithIME: function() {
		return this._textFieldRenderer.getDetachWithIME()
	},
	setDetachWithIME: function(a) {
		this._textFieldRenderer.setDetachWithIME(a)
	},
	getInsertText: function() {
		return this._textFieldRenderer.getInsertText()
	},
	setInsertText: function(a) {
		this._textFieldRenderer.setInsertText(a)
	},
	getDeleteBackward: function() {
		return this._textFieldRenderer.getDeleteBackward()
	},
	setDeleteBackward: function(a) {
		this._textFieldRenderer.setDeleteBackward(a)
	},
	_attachWithIMEEvent: function() {
		this._textFieldEventSelector && (this._textFieldEventListener ? this._textFieldEventSelector.call(this._textFieldEventListener,
			this, ccui.TextField.EVENT_ATTACH_WITH_IME) : this._textFieldEventSelector(this, ccui.TextField.EVENT_ATTACH_WITH_IME));
		this._ccEventCallback && this._ccEventCallback(this, ccui.TextField.EVENT_ATTACH_WITH_IME)
	},
	_detachWithIMEEvent: function() {
		this._textFieldEventSelector && (this._textFieldEventListener ? this._textFieldEventSelector.call(this._textFieldEventListener, this, ccui.TextField.EVENT_DETACH_WITH_IME) : this._textFieldEventSelector(this, ccui.TextField.EVENT_DETACH_WITH_IME));
		this._ccEventCallback && this._ccEventCallback(this,
			ccui.TextField.EVENT_DETACH_WITH_IME)
	},
	_insertTextEvent: function() {
		this._textFieldEventSelector && (this._textFieldEventListener ? this._textFieldEventSelector.call(this._textFieldEventListener, this, ccui.TextField.EVENT_INSERT_TEXT) : this._textFieldEventSelector(this, ccui.TextField.EVENT_INSERT_TEXT));
		this._ccEventCallback && this._ccEventCallback(this, ccui.TextField.EVENT_INSERT_TEXT)
	},
	_deleteBackwardEvent: function() {
		this._textFieldEventSelector && (this._textFieldEventListener ? this._textFieldEventSelector.call(this._textFieldEventListener,
			this, ccui.TextField.EVENT_DELETE_BACKWARD) : this._textFieldEventSelector(this, ccui.TextField.EVENT_DELETE_BACKWARD));
		this._ccEventCallback && this._ccEventCallback(this, ccui.TextField.EVENT_DELETE_BACKWARD)
	},
	addEventListenerTextField: function(a, b) {
		this.addEventListener(a, b)
	},
	addEventListener: function(a, b) {
		this._textFieldEventSelector = a;
		this._textFieldEventListener = b
	},
	_onSizeChanged: function() {
		ccui.Widget.prototype._onSizeChanged.call(this);
		this._textFieldRendererAdaptDirty = !0
	},
	_adaptRenderers: function() {
		this._textFieldRendererAdaptDirty &&
			(this._textfieldRendererScaleChangedWithSize(), this._textFieldRendererAdaptDirty = !1)
	},
	_textfieldRendererScaleChangedWithSize: function() {
		this._ignoreSize || this._textFieldRenderer.setDimensions(this._contentSize);
		this._textFieldRenderer.setPosition(this._contentSize.width / 2, this._contentSize.height / 2)
	},
	getAutoRenderSize: function() {
		var a = this._textFieldRenderer.getContentSize();
		this._ignoreSize || (this._textFieldRenderer.setDimensions(0, 0), a = this._textFieldRenderer.getContentSize(), this._textFieldRenderer.setDimensions(this._contentSize.width,
			this._contentSize.height));
		return a
	},
	getVirtualRendererSize: function() {
		return this._textFieldRenderer.getContentSize()
	},
	getVirtualRenderer: function() {
		return this._textFieldRenderer
	},
	getDescription: function() {
		return "TextField"
	},
	attachWithIME: function() {
		this._textFieldRenderer.attachWithIME()
	},
	_createCloneInstance: function() {
		return new ccui.TextField
	},
	_copySpecialProperties: function(a) {
		this.setString(a._textFieldRenderer.getString());
		this.setPlaceHolder(a.getString());
		this.setFontSize(a._textFieldRenderer.getFontSize());
		this.setFontName(a._textFieldRenderer.getFontName());
		this.setMaxLengthEnabled(a.isMaxLengthEnabled());
		this.setMaxLength(a.getMaxLength());
		this.setPasswordEnabled(a.isPasswordEnabled());
		this.setPasswordStyleText(a._passwordStyleText);
		this.setAttachWithIME(a.getAttachWithIME());
		this.setDetachWithIME(a.getDetachWithIME());
		this.setInsertText(a.getInsertText());
		this.setDeleteBackward(a.getDeleteBackward());
		this._ccEventCallback = a._ccEventCallback;
		this._textFieldEventListener = a._textFieldEventListener;
		this._textFieldEventSelector = a._textFieldEventSelector
	},
	setTextAreaSize: function(a) {
		this.setContentSize(a)
	},
	setTextHorizontalAlignment: function(a) {
		this._textFieldRenderer.setHorizontalAlignment(a)
	},
	setTextVerticalAlignment: function(a) {
		this._textFieldRenderer.setVerticalAlignment(a)
	},
	_setFont: function(a) {
		this._textFieldRenderer._setFont(a);
		this._textFieldRendererAdaptDirty = !0
	},
	_getFont: function() {
		return this._textFieldRenderer._getFont()
	},
	_changePosition: function() {
		this._adaptRenderers()
	}
});
ccui.TextField.create = function(a, b, c) {
	return new ccui.TextField(a, b, c)
};
_p = ccui.TextField.prototype;
cc.defineGetterSetter(_p, "string", _p.getString, _p.setString);
cc.defineGetterSetter(_p, "placeHolder", _p.getPlaceHolder, _p.setPlaceHolder);
cc.defineGetterSetter(_p, "font", _p._getFont, _p._setFont);
cc.defineGetterSetter(_p, "fontSize", _p.getFontSize, _p.setFontSize);
cc.defineGetterSetter(_p, "fontName", _p.getFontName, _p.setFontName);
cc.defineGetterSetter(_p, "maxLengthEnabled", _p.isMaxLengthEnabled, _p.setMaxLengthEnabled);
cc.defineGetterSetter(_p, "maxLength", _p.getMaxLength, _p.setMaxLength);
cc.defineGetterSetter(_p, "passwordEnabled", _p.isPasswordEnabled, _p.setPasswordEnabled);
_p = null;
ccui.TextField.EVENT_ATTACH_WITH_IME = 0;
ccui.TextField.EVENT_DETACH_WITH_IME = 1;
ccui.TextField.EVENT_INSERT_TEXT = 2;
ccui.TextField.EVENT_DELETE_BACKWARD = 3;
ccui.TextField.RENDERER_ZORDER = -1;
ccui.VideoPlayer = ccui.Widget.extend({
	_played: !1,
	_playing: !1,
	_stopped: !0,
	ctor: function(a) {
		ccui.Widget.prototype.ctor.call(this);
		this._EventList = {};
		a && this.setURL(a)
	},
	_createRenderCmd: function() {
		return new ccui.VideoPlayer.RenderCmd(this)
	},
	visit: function() {
		var a = this._renderCmd,
			b = cc.container,
			c = cc.eventManager;
		if (this._visible) b.appendChild(a._video), null === this._listener && (this._listener = cc.eventManager.addCustomListener(cc.game.EVENT_RESIZE, function() {
			a.resize()
		}));
		else {
			var d = !1;
			(d = "contains" in b ?
				b.contains(a._video) : b.compareDocumentPosition(a._video) % 16) && b.removeChild(a._video);
			c.removeListener(a._listener);
			a._listener = null
		}
		a.updateStatus();
		a.resize()
	},
	setURL: function(a) {
		this._renderCmd.updateURL(a)
	},
	getURL: function() {
		return this._renderCmd._url
	},
	play: function() {
		var a = this,
			b = this._renderCmd._video;
		if (b) {
			this._played = !0;
			b.pause();
			if (!1 !== this._stopped || !1 !== this._playing || !0 !== this._played) b.currentTime = 0;
			ccui.VideoPlayer._polyfill.autoplayAfterOperation ? setTimeout(function() {
				b.play();
				a._playing = !0;
				a._stopped = !1
			}, 20) : (b.play(), this._playing = !0, this._stopped = !1)
		}
	},
	pause: function() {
		var a = this._renderCmd._video;
		a && !0 === this._playing && !1 === this._stopped && (a.pause(), this._playing = !1)
	},
	resume: function() {
		!1 === this._stopped && !1 === this._playing && !0 === this._played && this.play()
	},
	stop: function() {
		var a = this,
			b = this._renderCmd._video;
		b && (b.pause(), b.currentTime = 0, this._playing = !1, this._stopped = !0);
		setTimeout(function() {
			a._dispatchEvent(ccui.VideoPlayer.EventType.STOPPED)
		}, 0)
	},
	seekTo: function(a) {
		var b = this._renderCmd._video;
		b && (b.currentTime = a, ccui.VideoPlayer._polyfill.autoplayAfterOperation && this.isPlaying() && setTimeout(function() {
			b.play()
		}, 20))
	},
	isPlaying: function() {
		ccui.VideoPlayer._polyfill.autoplayAfterOperation && this._playing && setTimeout(function() {
			video.play()
		}, 20);
		return this._playing
	},
	setKeepAspectRatioEnabled: function(a) {
		cc.log("On the web is always keep the aspect ratio")
	},
	isKeepAspectRatioEnabled: function() {
		return !1
	},
	setFullScreenEnabled: function(a) {
		var b = this._renderCmd._video;
		b && (a ? cc.screen.requestFullScreen(b) :
			cc.screen.exitFullScreen(b))
	},
	isFullScreenEnabled: function() {
		cc.log("Can't know status")
	},
	setEventListener: function(a, b) {
		this._EventList[a] = b
	},
	removeEventListener: function(a) {
		this._EventList[a] = null
	},
	_dispatchEvent: function(a) {
		(a = this._EventList[a]) && a.call(this, this, this._renderCmd._video.src)
	},
	onPlayEvent: function() {
		var a = this._EventList[ccui.VideoPlayer.EventType.PLAYING];
		if (a)
			for (var b = 0; b < a.length; b++) a[b].call(this, this, this._renderCmd._video.src)
	},
	setContentSize: function(a, b) {
		ccui.Widget.prototype.setContentSize.call(this,
			a, b);
		void 0 === b && (b = a.height, a = a.width);
		this._renderCmd.changeSize(a, b)
	},
	cleanup: function() {
		this._renderCmd.removeDom();
		this.stopAllActions();
		this.unscheduleAllCallbacks()
	},
	onEnter: function() {
		ccui.Widget.prototype.onEnter.call(this);
		var a = ccui.VideoPlayer.elements; - 1 === a.indexOf(this) && a.push(this)
	},
	onExit: function() {
		ccui.Widget.prototype.onExit.call(this);
		var a = ccui.VideoPlayer.elements,
			b = a.indexOf(this); - 1 !== b && a.splice(b, 1)
	}
});
ccui.VideoPlayer.elements = [];
ccui.VideoPlayer.pauseElements = [];
cc.eventManager.addCustomListener(cc.game.EVENT_HIDE, function() {
	for (var a = ccui.VideoPlayer.elements, b, c = 0; c < a.length; c++) b = a[c], a[c]._playing && (b.pause(), ccui.VideoPlayer.pauseElements.push(b))
});
cc.eventManager.addCustomListener(cc.game.EVENT_SHOW, function() {
	for (var a = ccui.VideoPlayer.pauseElements, b = a.pop(); b;) b.play(), b = a.pop()
});
ccui.VideoPlayer.EventType = {
	PLAYING: "play",
	PAUSED: "pause",
	STOPPED: "stop",
	COMPLETED: "complete"
};
(function(a) {
	a._polyfill = {
		devicePixelRatio: !1,
		event: "canplay",
		canPlayType: []
	};
	var b = document.createElement("video");
	b.canPlayType("video/ogg") && (a._polyfill.canPlayType.push(".ogg"), a._polyfill.canPlayType.push(".ogv"));
	b.canPlayType("video/mp4") && a._polyfill.canPlayType.push(".mp4");
	b.canPlayType("video/webm") && a._polyfill.canPlayType.push(".webm");
	cc.sys.OS_IOS === cc.sys.os && (a._polyfill.devicePixelRatio = !0, a._polyfill.event = "progress");
	cc.sys.browserType === cc.sys.BROWSER_TYPE_FIREFOX && (a._polyfill.autoplayAfterOperation = !0);
	a = document.createElement("style");
	a.innerHTML = ".cocosVideo:-moz-full-screen{transform:matrix(1,0,0,1,0,0) !important;}.cocosVideo:full-screen{transform:matrix(1,0,0,1,0,0) !important;}.cocosVideo:-webkit-full-screen{transform:matrix(1,0,0,1,0,0) !important;}";
	document.head.appendChild(a)
})(ccui.VideoPlayer);
(function(a) {
	var b = null,
		b = cc._renderType === cc.game.RENDER_TYPE_WEBGL ? cc.Node.WebGLRenderCmd : cc.Node.CanvasRenderCmd;
	ccui.VideoPlayer.RenderCmd = function(a) {
		this._rootCtor(a);
		this._listener = null;
		this._url = "";
		this.initStyle()
	};
	b = ccui.VideoPlayer.RenderCmd.prototype = Object.create(b.prototype);
	b.constructor = ccui.VideoPlayer.RenderCmd;
	b.transform = function(a, b) {
		this.originTransform(a, b);
		this.updateMatrix(this._worldTransform, cc.view._scaleX, cc.view._scaleY)
	};
	b.updateStatus = function() {
		a.devicePixelRatio =
			cc.view.isRetinaEnabled();
		var b = cc.Node._dirtyFlags,
			d = this._dirtyFlag;
		d & b.transformDirty && (this.transform(this.getParentRenderCmd(), !0), this.updateMatrix(this._worldTransform, cc.view._scaleX, cc.view._scaleY), this._dirtyFlag ^= this._dirtyFlag & cc.Node._dirtyFlags.transformDirty);
		d & b.orderDirty && (this._dirtyFlag ^= this._dirtyFlag & b.orderDirty)
	};
	b.resize = function(a) {
		a = a || cc.view;
		var b = this._node,
			e = cc.eventManager;
		b._parent && b._visible ? this.updateMatrix(this._worldTransform, a._scaleX, a._scaleY) : (e.removeListener(this._listener),
			this._listener = null)
	};
	b.updateMatrix = function(b, d, e) {
		var f = this._node;
		if (a.devicePixelRatio) {
			var g = cc.view.getDevicePixelRatio();
			d /= g;
			e /= g
		}
		if (!1 !== this._loaded) {
			var h = cc.game.container.style,
				g = parseInt(h.paddingLeft),
				h = parseInt(h.paddingBottom),
				k = f._contentSize.width,
				m = f._contentSize.height;
			b = "matrix(" + b.a * d + "," + b.b + "," + b.c + "," + b.d * e + "," + (g + b.tx * d - k / 2 + k * f._scaleX / 2 * d) + "," + -(h + b.ty * e - m / 2 + m * f._scaleY / 2 * e) + ")";
			this._video.style.transform = b;
			this._video.style["-webkit-transform"] = b
		}
	};
	b.updateURL = function(b) {
		var d,
			e, f, g = this._node;
		if (this._url != b) {
			this._url = b;
			cc.loader.resPath && !/^http/.test(b) && (b = cc.path.join(cc.loader.resPath, b));
			d = !1;
			f = cc.container;
			(d = "contains" in f ? f.contains(this._video) : f.compareDocumentPosition(this._video) % 16) && f.removeChild(this._video);
			e = this._video = document.createElement("video");
			this.bindEvent();
			var h = this,
				k = function() {
					!0 != h._loaded && (h._loaded = !0, h.changeSize(), h.setDirtyFlag(cc.Node._dirtyFlags.transformDirty), e.removeEventListener(a.event, k), e.currentTime = 0, e.style.visibility =
						"visible", e.play(), g._played || (e.pause(), e.currentTime = 0))
				};
			e.addEventListener(a.event, k);
			e.preload = "metadata";
			e.style.visibility = "hidden";
			this._loaded = !1;
			g._played = !1;
			g._playing = !1;
			g._stopped = !0;
			this.initStyle();
			this._node.visit();
			d = document.createElement("source");
			d.src = b;
			e.appendChild(d);
			f = cc.path.extname(b);
			for (var m = 0; m < a.canPlayType.length; m++) f !== a.canPlayType[m] && (d = document.createElement("source"), d.src = b.replace(f, a.canPlayType[m]), e.appendChild(d))
		}
	};
	b.bindEvent = function() {
		var a = this,
			b =
			this._node,
			e = this._video;
		e.addEventListener("ended", function() {
			b._renderCmd.updateMatrix(a._worldTransform, cc.view._scaleX, cc.view._scaleY);
			b._playing = !1;
			b._dispatchEvent(ccui.VideoPlayer.EventType.COMPLETED)
		});
		e.addEventListener("play", function() {
			b._dispatchEvent(ccui.VideoPlayer.EventType.PLAYING)
		});
		e.addEventListener("pause", function() {
			b._dispatchEvent(ccui.VideoPlayer.EventType.PAUSED)
		})
	};
	b.initStyle = function() {
		if (this._video) {
			var a = this._video;
			a.style.position = "absolute";
			a.style.bottom = "0px";
			a.style.left = "0px";
			a.className = "cocosVideo"
		}
	};
	b.changeSize = function(a, b) {
		var e = this._node._contentSize;
		a = a || e.width;
		b = b || e.height;
		if (e = this._video) 0 !== a && (e.width = a), 0 !== b && (e.height = b)
	};
	b.removeDom = function() {
		var a = this._video;
		if (a) {
			var b = !1;
			(b = "contains" in cc.container ? cc.container.contains(a) : cc.container.compareDocumentPosition(a) % 16) && cc.container.removeChild(a)
		}
	}
})(ccui.VideoPlayer._polyfill);
ccui.RichElement = ccui.Class.extend({
	_type: 0,
	_tag: 0,
	_color: null,
	_opacity: 0,
	ctor: function(a, b, c) {
		this._type = 0;
		this._tag = a || 0;
		this._color = cc.color(255, 255, 255, 255);
		b && (this._color.r = b.r, this._color.g = b.g, this._color.b = b.b);
		this._opacity = c || 0;
		this._color.a = void 0 === c ? b.a : c
	}
});
ccui.RichElementText = ccui.RichElement.extend({
	_text: "",
	_fontName: "",
	_fontSize: 0,
	_fontDefinition: null,
	ctor: function(a, b, c, d, e, f) {
		var g = b;
		b && b instanceof cc.FontDefinition && (g = b.fillStyle, e = b.fontName, f = b.fontSize, this._fontDefinition = b);
		ccui.RichElement.prototype.ctor.call(this, a, g, c);
		this._type = ccui.RichElement.TEXT;
		this._text = d;
		this._fontName = e;
		this._fontSize = f
	}
});
ccui.RichElementText.create = function(a, b, c, d, e, f) {
	return new ccui.RichElementText(a, b, c, d, e, f)
};
ccui.RichElementImage = ccui.RichElement.extend({
	_filePath: "",
	_textureRect: null,
	_textureType: 0,
	ctor: function(a, b, c, d) {
		ccui.RichElement.prototype.ctor.call(this, a, b, c);
		this._type = ccui.RichElement.IMAGE;
		this._filePath = d || "";
		this._textureRect = cc.rect(0, 0, 0, 0);
		this._textureType = 0
	}
});
ccui.RichElementImage.create = function(a, b, c, d) {
	return new ccui.RichElementImage(a, b, c, d)
};
ccui.RichElementCustomNode = ccui.RichElement.extend({
	_customNode: null,
	ctor: function(a, b, c, d) {
		ccui.RichElement.prototype.ctor.call(this, a, b, c);
		this._type = ccui.RichElement.CUSTOM;
		this._customNode = d || null
	}
});
ccui.RichElementCustomNode.create = function(a, b, c, d) {
	return new ccui.RichElementCustomNode(a, b, c, d)
};
ccui.RichText = ccui.Widget.extend({
	_formatTextDirty: !1,
	_richElements: null,
	_elementRenders: null,
	_leftSpaceWidth: 0,
	_verticalSpace: 0,
	_elementRenderersContainer: null,
	_lineBreakOnSpace: !1,
	_textHorizontalAlignment: null,
	_textVerticalAlignment: null,
	ctor: function() {
		ccui.Widget.prototype.ctor.call(this);
		this._formatTextDirty = !1;
		this._richElements = [];
		this._elementRenders = [];
		this._verticalSpace = this._leftSpaceWidth = 0;
		this._textHorizontalAlignment = cc.TEXT_ALIGNMENT_LEFT;
		this._textVerticalAlignment = cc.VERTICAL_TEXT_ALIGNMENT_TOP
	},
	_initRenderer: function() {
		this._elementRenderersContainer = new cc.Node;
		this._elementRenderersContainer.setAnchorPoint(0.5, 0.5);
		this.addProtectedChild(this._elementRenderersContainer, 0, -1)
	},
	insertElement: function(a, b) {
		this._richElements.splice(b, 0, a);
		this._formatTextDirty = !0
	},
	pushBackElement: function(a) {
		this._richElements.push(a);
		this._formatTextDirty = !0
	},
	removeElement: function(a) {
		cc.isNumber(a) ? this._richElements.splice(a, 1) : cc.arrayRemoveObject(this._richElements, a);
		this._formatTextDirty = !0
	},
	formatText: function() {
		if (this._formatTextDirty) {
			this._elementRenderersContainer.removeAllChildren();
			this._elementRenders.length = 0;
			var a, b, c = this._richElements;
			if (this._ignoreSize)
				for (this._addNewLine(), a = 0; a < c.length; a++) {
					b = c[a];
					var d = null;
					switch (b._type) {
						case ccui.RichElement.TEXT:
							d = b._fontDefinition ? new cc.LabelTTF(b._text, b._fontDefinition) : new cc.LabelTTF(b._text, b._fontName, b._fontSize);
							break;
						case ccui.RichElement.IMAGE:
							d = new cc.Sprite(b._filePath);
							break;
						case ccui.RichElement.CUSTOM:
							d = b._customNode
					}
					d.setColor(b._color);
					d.setOpacity(b._color.a);
					this._pushToContainer(d)
				} else
					for (this._addNewLine(),
						a = 0; a < c.length; a++) switch (b = c[a], b._type) {
						case ccui.RichElement.TEXT:
							b._fontDefinition ? this._handleTextRenderer(b._text, b._fontDefinition, b._fontDefinition.fontSize, b._fontDefinition.fillStyle) : this._handleTextRenderer(b._text, b._fontName, b._fontSize, b._color);
							break;
						case ccui.RichElement.IMAGE:
							this._handleImageRenderer(b._filePath, b._color, b._color.a);
							break;
						case ccui.RichElement.CUSTOM:
							this._handleCustomRenderer(b._customNode)
					}
			this.formatRenderers();
			this._formatTextDirty = !1
		}
	},
	_handleTextRenderer: function(a,
		b, c, d) {
		if ("" !== a)
			if ("\n" === a) this._addNewLine();
			else {
				var e = b instanceof cc.FontDefinition ? new cc.LabelTTF(a, b) : new cc.LabelTTF(a, b, c),
					f = e.getContentSize().width;
				this._leftSpaceWidth -= f;
				if (0 > this._leftSpaceWidth) {
					var e = a.length * (1 - -this._leftSpaceWidth / f),
						f = a.substr(0, e),
						g = a.substr(e, a.length - 1),
						h = 0 < e;
					this._lineBreakOnSpace && (g = f.lastIndexOf(" "), e = -1 === g ? e : g + 1, g = a.substr(e, a.length - 1), h = 0 < e && " " !== g);
					h && (a = null, b instanceof cc.FontDefinition ? (a = new cc.LabelTTF(f.substr(0, e), b), a.setOpacity(b.fillStyle.a)) :
						(a = new cc.LabelTTF(f.substr(0, e), b, c), a.setColor(d), a.setOpacity(d.a)), this._pushToContainer(a));
					this._addNewLine();
					this._handleTextRenderer(g, b, c, d)
				} else b instanceof cc.FontDefinition ? e.setOpacity(b.fillStyle.a) : (e.setColor(d), e.setOpacity(d.a)), this._pushToContainer(e)
			}
	},
	_handleImageRenderer: function(a, b, c) {
		a = new cc.Sprite(a);
		this._handleCustomRenderer(a)
	},
	_handleCustomRenderer: function(a) {
		var b = a.getContentSize();
		this._leftSpaceWidth -= b.width;
		0 > this._leftSpaceWidth ? (this._addNewLine(), this._pushToContainer(a),
			this._leftSpaceWidth -= b.width) : this._pushToContainer(a)
	},
	_addNewLine: function() {
		this._leftSpaceWidth = this._customSize.width;
		this._elementRenders.push([])
	},
	formatRenderers: function() {
		var a = 0,
			b = this._elementRenderersContainer,
			c = this._elementRenders,
			d, e, f, g, h, k;
		if (this._ignoreSize) {
			d = 0;
			f = c[0];
			for (e = g = 0; e < f.length; e++) h = f[e], h.setAnchorPoint(cc.p(0, 0)), h.setPosition(g, 0), b.addChild(h, 1, e), k = h.getLineHeight ? h.getLineHeight() : a, h = h.getContentSize(), d += h.width, a = Math.max(Math.min(a, k), h.height), g += h.width;
			if (this._textHorizontalAlignment !== cc.TEXT_ALIGNMENT_LEFT)
				for (k = 0, this._textHorizontalAlignment === cc.TEXT_ALIGNMENT_RIGHT ? k = this._contentSize.width - g : this._textHorizontalAlignment === cc.TEXT_ALIGNMENT_CENTER && (k = (this._contentSize.width - g) / 2), e = 0; e < f.length; e++) f[e].x += k;
			b.setContentSize(d, a)
		} else {
			var m = [];
			for (d = 0; d < c.length; d++) {
				f = c[d];
				for (e = g = 0; e < f.length; e++) h = f[e], k = h.getLineHeight ? h.getLineHeight() : h.getContentSize().height, g = Math.max(Math.min(h.getContentSize().height, k), g);
				m[d] = g;
				a += m[d]
			}
			var n =
				this._customSize.height;
			for (d = 0; d < c.length; d++) {
				f = c[d];
				g = 0;
				n -= m[d] + this._verticalSpace;
				for (e = 0; e < f.length; e++) h = f[e], h.setAnchorPoint(cc.p(0, 0)), h.setPosition(cc.p(g, n)), b.addChild(h, 1), g += h.getContentSize().width;
				if (this._textHorizontalAlignment !== cc.TEXT_ALIGNMENT_LEFT || this._textVerticalAlignment !== cc.VERTICAL_TEXT_ALIGNMENT_TOP)
					for (k = 0, this._textHorizontalAlignment === cc.TEXT_ALIGNMENT_RIGHT ? k = this._contentSize.width - g : this._textHorizontalAlignment === cc.TEXT_ALIGNMENT_CENTER && (k = (this._contentSize.width -
							g) / 2), g = 0, this._textVerticalAlignment === cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM ? g = this._customSize.height - a : this._textVerticalAlignment === cc.VERTICAL_TEXT_ALIGNMENT_CENTER && (g = (this._customSize.height - a) / 2), e = 0; e < f.length; e++) h = f[e], h.x += k, h.y -= g
			}
			b.setContentSize(this._contentSize)
		}
		a = c.length;
		for (d = 0; d < a; d++) c[d].length = 0;
		this._elementRenders.length = 0;
		this.setContentSize(this._ignoreSize ? this.getVirtualRendererSize() : this._customSize);
		this._updateContentSizeWithTextureSize(this._contentSize);
		b.setPosition(0.5 *
			this._contentSize.width, 0.5 * this._contentSize.height)
	},
	_pushToContainer: function(a) {
		0 >= this._elementRenders.length || this._elementRenders[this._elementRenders.length - 1].push(a)
	},
	_adaptRenderers: function() {
		this.formatText()
	},
	setVerticalSpace: function(a) {
		this._verticalSpace = a
	},
	setAnchorPoint: function(a) {
		ccui.Widget.prototype.setAnchorPoint.call(this, a);
		this._elementRenderersContainer.setAnchorPoint(a)
	},
	_setAnchorX: function(a) {
		ccui.Widget.prototype._setAnchorX.call(this, a);
		this._elementRenderersContainer._setAnchorX(a)
	},
	_setAnchorY: function(a) {
		ccui.Widget.prototype._setAnchorY.call(this, a);
		this._elementRenderersContainer._setAnchorY(a)
	},
	getVirtualRendererSize: function() {
		return this._elementRenderersContainer.getContentSize()
	},
	ignoreContentAdaptWithSize: function(a) {
		this._ignoreSize !== a && (this._formatTextDirty = !0, ccui.Widget.prototype.ignoreContentAdaptWithSize.call(this, a))
	},
	getContentSize: function() {
		this.formatText();
		return cc.Node.prototype.getContentSize.call(this)
	},
	_getWidth: function() {
		this.formatText();
		return cc.Node.prototype._getWidth.call(this)
	},
	_getHeight: function() {
		this.formatText();
		return cc.Node.prototype._getHeight.call(this)
	},
	setContentSize: function(a, b) {
		ccui.Widget.prototype.setContentSize.call(this, void 0 === b ? a.width : a, void 0 === b ? a.height : b);
		this._formatTextDirty = !0
	},
	getDescription: function() {
		return "RichText"
	},
	setCascadeOpacityEnabled: function(a) {
		ccui.Widget.prototype.setCascadeOpacityEnabled.call(this, a);
		this._elementRenderersContainer.setCascadeOpacityEnabled(a)
	},
	setLineBreakOnSpace: function(a) {
		this._lineBreakOnSpace = a;
		this._formatTextDirty = !0;
		this.formatText()
	},
	setTextHorizontalAlignment: function(a) {
		a !== this._textHorizontalAlignment && (this._textHorizontalAlignment = a, this.formatText())
	},
	setTextVerticalAlignment: function(a) {
		a !== this._textVerticalAlignment && (this._textVerticalAlignment = a, this.formatText())
	}
});
ccui.RichText.create = function() {
	return new ccui.RichText
};
ccui.RichElement.TEXT = 0;
ccui.RichElement.IMAGE = 1;
ccui.RichElement.CUSTOM = 2;
ccui.WebView = ccui.Widget.extend({
	ctor: function(a) {
		ccui.Widget.prototype.ctor.call(this);
		this._EventList = {};
		a && this.loadURL(a)
	},
	visit: function() {
		var a = this._renderCmd,
			b = a._div,
			c = cc.container,
			d = cc.eventManager;
		if (this._visible) c.appendChild(b), null === this._listener && (this._listener = d.addCustomListener(cc.game.EVENT_RESIZE, function() {
			a.resize()
		}));
		else {
			var e = !1;
			(e = "contains" in c ? c.contains(b) : c.compareDocumentPosition(b) % 16) && c.removeChild(b);
			b = d._listenersMap[cc.game.EVENT_RESIZE].getFixedPriorityListeners();
			d._removeListenerInVector(b, a._listener);
			a._listener = null
		}
		a.updateStatus();
		a.resize(cc.view)
	},
	setJavascriptInterfaceScheme: function(a) {},
	loadData: function(a, b, c, d) {},
	loadHTMLString: function(a, b) {},
	loadURL: function(a) {
		this._renderCmd.updateURL(a);
		this._dispatchEvent(ccui.WebView.EventType.LOADING)
	},
	stopLoading: function() {
		cc.log("Web does not support loading")
	},
	reload: function() {
		var a = this._renderCmd._iframe;
		a && (a = a.contentWindow) && a.location && a.location.reload()
	},
	canGoBack: function() {
		cc.log("Web does not support query history");
		return !0
	},
	canGoForward: function() {
		cc.log("Web does not support query history");
		return !0
	},
	goBack: function() {
		try {
			if (ccui.WebView._polyfill.closeHistory) return cc.log("The current browser does not support the GoBack");
			var a = this._renderCmd._iframe;
			if (a) {
				var b = a.contentWindow;
				if (b && b.location) try {
					b.history.back.call(b)
				} catch (c) {
					b.history.back()
				}
			}
		} catch (d) {
			cc.log(d)
		}
	},
	goForward: function() {
		try {
			if (ccui.WebView._polyfill.closeHistory) return cc.log("The current browser does not support the GoForward");
			var a =
				this._renderCmd._iframe;
			if (a) {
				var b = a.contentWindow;
				if (b && b.location) try {
					b.history.forward.call(b)
				} catch (c) {
					b.history.forward()
				}
			}
		} catch (d) {
			cc.log(d)
		}
	},
	evaluateJS: function(a) {
		var b = this._renderCmd._iframe;
		if (b) {
			b = b.contentWindow;
			try {
				b.eval(a), this._dispatchEvent(ccui.WebView.EventType.JS_EVALUATED)
			} catch (c) {
				console.error(c)
			}
		}
	},
	setScalesPageToFit: function() {
		cc.log("Web does not support zoom")
	},
	setEventListener: function(a, b) {
		this._EventList[a] = b
	},
	removeEventListener: function(a) {
		this._EventList[a] = null
	},
	_dispatchEvent: function(a) {
		(a = this._EventList[a]) && a.call(this, this, this._renderCmd._iframe.src)
	},
	_createRenderCmd: function() {
		return new ccui.WebView.RenderCmd(this)
	},
	setContentSize: function(a, b) {
		ccui.Widget.prototype.setContentSize.call(this, a, b);
		void 0 === b && (b = a.height, a = a.width);
		this._renderCmd.changeSize(a, b)
	},
	cleanup: function() {
		this._renderCmd.removeDom();
		this.stopAllActions();
		this.unscheduleAllCallbacks()
	}
});
ccui.WebView.EventType = {
	LOADING: "loading",
	LOADED: "load",
	ERROR: "error",
	JS_EVALUATED: "js"
};
(function() {
	var a = ccui.WebView._polyfill = {
		devicePixelRatio: !1,
		enableDiv: !1
	};
	cc.sys.os === cc.sys.OS_IOS && (a.enableDiv = !0);
	cc.sys.isMobile ? cc.sys.browserType === cc.sys.BROWSER_TYPE_FIREFOX && (a.enableBG = !0) : cc.sys.browserType === cc.sys.BROWSER_TYPE_IE && (a.closeHistory = !0)
})();
(function(a) {
	var b = null,
		b = cc._renderType === cc.game.RENDER_TYPE_WEBGL ? cc.Node.WebGLRenderCmd : cc.Node.CanvasRenderCmd;
	ccui.WebView.RenderCmd = function(b) {
		this._rootCtor(b);
		this._iframe = this._div = null;
		a.enableDiv ? (this._div = document.createElement("div"), this._div.style["-webkit-overflow"] = "auto", this._div.style["-webkit-overflow-scrolling"] = "touch", this._iframe = document.createElement("iframe"), this._iframe.style.width = "100%", this._iframe.style.height = "100%", this._div.appendChild(this._iframe)) : this._div =
			this._iframe = document.createElement("iframe");
		a.enableBG && (this._div.style.background = "#FFF");
		this._iframe.addEventListener("load", function() {
			b._dispatchEvent(ccui.WebView.EventType.LOADED)
		});
		this._iframe.addEventListener("error", function() {
			b._dispatchEvent(ccui.WebView.EventType.ERROR)
		});
		this._div.style.background = "#FFF";
		this._div.style.height = "200px";
		this._div.style.width = "300px";
		this._div.style.overflow = "scroll";
		this._div.style.border = "none";
		this._listener = null;
		this.initStyle()
	};
	b = ccui.WebView.RenderCmd.prototype =
		Object.create(b.prototype);
	b.constructor = ccui.WebView.RenderCmd;
	b.transform = function(a, b) {
		this.originTransform(a, b);
		this.updateMatrix(this._worldTransform, cc.view._scaleX, cc.view._scaleY)
	};
	b.updateStatus = function() {
		a.devicePixelRatio = cc.view.isRetinaEnabled();
		var b = cc.Node._dirtyFlags,
			d = this._dirtyFlag;
		d & b.transformDirty && (this.transform(this.getParentRenderCmd(), !0), this.updateMatrix(this._worldTransform, cc.view._scaleX, cc.view._scaleY), this._dirtyFlag ^= this._dirtyFlag & cc.Node._dirtyFlags.transformDirty);
		d & b.orderDirty && (this._dirtyFlag ^= this._dirtyFlag & b.orderDirty)
	};
	b.resize = function(a) {
		a = a || cc.view;
		var b = this._node,
			e = cc.eventManager;
		b._parent && b._visible ? this.updateMatrix(this._worldTransform, a._scaleX, a._scaleY) : (a = e._listenersMap[cc.game.EVENT_RESIZE].getFixedPriorityListeners(), e._removeListenerInVector(a, this._listener), this._listener = null)
	};
	b.updateMatrix = function(b, d, e) {
		var f = this._node;
		if (a.devicePixelRatio) {
			var g = cc.view.getDevicePixelRatio();
			d /= g;
			e /= g
		}
		if (!1 !== this._loaded) {
			var h = cc.game.container.style,
				g = parseInt(h.paddingLeft),
				h = parseInt(h.paddingBottom),
				k = f._contentSize.width,
				m = f._contentSize.height;
			b = "matrix(" + b.a * d + "," + b.b + "," + b.c + "," + b.d * e + "," + (g + b.tx * d - k / 2 + k * f._scaleX / 2 * d) + "," + -(h + b.ty * e - m / 2 + m * f._scaleY / 2 * e) + ")";
			this._div.style.transform = b;
			this._div.style["-webkit-transform"] = b
		}
	};
	b.initStyle = function() {
		if (this._div) {
			var a = this._div;
			a.style.position = "absolute";
			a.style.bottom = "0px";
			a.style.left = "0px"
		}
	};
	b.updateURL = function(a) {
		var b = this._iframe;
		b.src = a;
		var e = this,
			f = function() {
				e._loaded = !0;
				b.removeEventListener("load",
					f)
			};
		b.addEventListener("load", f)
	};
	b.changeSize = function(a, b) {
		var e = this._div;
		e && (e.style.width = a + "px", e.style.height = b + "px")
	};
	b.removeDom = function() {
		var a = this._div;
		if (a) {
			var b = !1;
			(b = "contains" in cc.container ? cc.container.contains(a) : cc.container.compareDocumentPosition(a) % 16) && cc.container.removeChild(a)
		}
	}
})(ccui.WebView._polyfill);
ccui.ScrollViewBar = ccui.ProtectedNode.extend({
	_parentScroll: null,
	_direction: null,
	_upperHalfCircle: null,
	_lowerHalfCircle: null,
	_body: null,
	_opacity: 255,
	_marginFromBoundary: 0,
	_marginForLength: 0,
	_touching: !1,
	_autoHideEnabled: !0,
	autoHideTime: 0,
	_autoHideRemainingTime: 0,
	_className: "ScrollViewBar",
	ctor: function(a, b) {
		cc.ProtectedNode.prototype.ctor.call(this);
		this._direction = b;
		this._parentScroll = a;
		this._marginForLength = this._marginFromBoundary = ccui.ScrollViewBar.DEFAULT_MARGIN;
		this.opacity = 255 * ccui.ScrollViewBar.DEFAULT_SCROLLBAR_OPACITY;
		this.autoHideTime = ccui.ScrollViewBar.DEFAULT_AUTO_HIDE_TIME;
		this._autoHideEnabled = !0;
		ccui.ScrollViewBar.prototype.init.call(this);
		this.setCascadeColorEnabled(!0);
		this.setCascadeOpacityEnabled(!0)
	},
	init: function() {
		this._upperHalfCircle = ccui.helper._createSpriteFromBase64(ccui.ScrollViewBar.HALF_CIRCLE_IMAGE, ccui.ScrollViewBar.HALF_CIRCLE_IMAGE_KEY);
		this._upperHalfCircle.setAnchorPoint(cc.p(0.5, 0));
		this._lowerHalfCircle = ccui.helper._createSpriteFromBase64(ccui.ScrollViewBar.HALF_CIRCLE_IMAGE, ccui.ScrollViewBar.HALF_CIRCLE_IMAGE_KEY);
		this._lowerHalfCircle.setAnchorPoint(cc.p(0.5, 0));
		this._lowerHalfCircle.setScaleY(-1);
		this.addProtectedChild(this._upperHalfCircle);
		this.addProtectedChild(this._lowerHalfCircle);
		this._body = ccui.helper._createSpriteFromBase64(ccui.ScrollViewBar.BODY_IMAGE_1_PIXEL_HEIGHT, ccui.ScrollViewBar.BODY_IMAGE_1_PIXEL_HEIGHT_KEY);
		this._body.setAnchorPoint(cc.p(0.5, 0));
		this.addProtectedChild(this._body);
		this.setColor(ccui.ScrollViewBar.DEFAULT_COLOR);
		this.onScrolled(cc.p(0, 0));
		cc.ProtectedNode.prototype.setOpacity.call(this,
			0);
		this._autoHideRemainingTime = 0;
		this._direction === ccui.ScrollView.DIR_HORIZONTAL && this.setRotation(90)
	},
	setPositionFromCorner: function(a) {
		this._direction === ccui.ScrollView.DIR_VERTICAL ? (this._marginForLength = a.y, this._marginFromBoundary = a.x) : (this._marginForLength = a.x, this._marginFromBoundary = a.y)
	},
	onEnter: function() {
		cc.ProtectedNode.prototype.onEnter.call(this);
		this.scheduleUpdate()
	},
	getPositionFromCorner: function() {
		return this._direction === ccui.ScrollView.DIR_VERTICAL ? cc.p(this._marginFromBoundary,
			this._marginForLength) : cc.p(this._marginForLength, this._marginFromBoundary)
	},
	setWidth: function(a) {
		a /= this._body.width;
		this._body.setScaleX(a);
		this._upperHalfCircle.setScale(a);
		this._lowerHalfCircle.setScale(-a)
	},
	getWidth: function() {
		return this._body.getBoundingBox().width
	},
	setAutoHideEnabled: function(a) {
		this._autoHideEnabled = a;
		!this._autoHideEnabled && !this._touching && 0 >= this._autoHideRemainingTime ? cc.ProtectedNode.prototype.setOpacity.call(this, this.opacity) : cc.ProtectedNode.prototype.setOpacity.call(this,
			0)
	},
	isAutoHideEnabled: function() {
		return this._autoHideEnabled
	},
	setOpacity: function(a) {
		this._opacity = a
	},
	getOpacity: function() {
		return this._opacity
	},
	_updateLength: function(a) {
		var b = a / this._body.getTextureRect().height;
		this._body.setScaleY(b);
		this._upperHalfCircle.setPositionY(this._body.getPositionY() + a)
	},
	_processAutoHide: function(a) {
		!this._autoHideEnabled || 0 >= this._autoHideRemainingTime || this._touching || (this._autoHideRemainingTime -= a, this._autoHideRemainingTime <= this.autoHideTime && (this._autoHideRemainingTime =
			Math.max(0, this._autoHideRemainingTime), cc.ProtectedNode.prototype.setOpacity.call(this, this._autoHideRemainingTime / this.autoHideTime * this._opacity)))
	},
	update: function(a) {
		this._processAutoHide(a)
	},
	onTouchBegan: function() {
		this._autoHideEnabled && (this._touching = !0)
	},
	onTouchEnded: function() {
		this._autoHideEnabled && (this._touching = !1, 0 >= this._autoHideRemainingTime || (this._autoHideRemainingTime = this.autoHideTime))
	},
	onScrolled: function(a) {
		this._autoHideEnabled && (this._autoHideRemainingTime = this.autoHideTime,
			cc.ProtectedNode.prototype.setOpacity.call(this, this.opacity));
		var b = this._parentScroll.getInnerContainer(),
			c = 0,
			d = 0,
			e = 0,
			f = 0;
		this._direction === ccui.ScrollView.DIR_VERTICAL ? (c = b.height, d = this._parentScroll.height, e = a.y, f = -b.getPositionY()) : this._direction === ccui.ScrollView.DIR_HORIZONTAL && (c = b.width, d = this._parentScroll.width, e = a.x, f = -b.getPositionX());
		a = this._calculateLength(c, d, e);
		c = this._calculatePosition(c, d, f, e, a);
		this._updateLength(a);
		this.setPosition(c)
	},
	_calculateLength: function(a, b, c) {
		0 !==
			c && (a += 20 * (0 < c ? c : -c));
		c = b / a;
		return Math.abs(b - 2 * this._marginForLength) * c
	},
	_calculatePosition: function(a, b, c, d, e) {
		a -= b;
		0 !== d && (a += Math.abs(d));
		d = 0;
		0 !== a && (d = Math.max(c / a, 0), d = Math.min(d, 1));
		b = (b - e - 2 * this._marginForLength) * d + this._marginForLength;
		return this._direction === ccui.ScrollView.DIR_VERTICAL ? cc.p(this._parentScroll.width - this._marginFromBoundary, b) : cc.p(b, this._marginFromBoundary)
	}
});
_p = ccui.ScrollViewBar.prototype;
cc.defineGetterSetter(_p, "opacity", _p.getOpacity, _p.setOpacity);
cc.defineGetterSetter(_p, "autoHideEnabled", _p.isAutoHideEnabled, _p.setAutoHideEnabled);
ccui.ScrollViewBar.DEFAULT_COLOR = cc.color(52, 65, 87);
ccui.ScrollViewBar.DEFAULT_MARGIN = 20;
ccui.ScrollViewBar.DEFAULT_AUTO_HIDE_TIME = 0.2;
ccui.ScrollViewBar.DEFAULT_SCROLLBAR_OPACITY = 0.4;
ccui.ScrollViewBar.HALF_CIRCLE_IMAGE_KEY = "/__half_circle_image";
ccui.ScrollViewBar.HALF_CIRCLE_IMAGE = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAGCAMAAADAMI+zAAAAJ1BMVEX///////////////////////////////////////////////////9Ruv0SAAAADHRSTlMABgcbbW7Hz9Dz+PmlcJP5AAAAMElEQVR4AUXHwQ2AQAhFwYcLH1H6r1djzDK3ASxUpTBeK/uTCyz7dx54b44m4p5cD1MwAooEJyk3AAAAAElFTkSuQmCC";
ccui.ScrollViewBar.BODY_IMAGE_1_PIXEL_HEIGHT_KEY = "/__body_image_height";
ccui.ScrollViewBar.BODY_IMAGE_1_PIXEL_HEIGHT = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAABCAMAAADdNb8LAAAAA1BMVEX///+nxBvIAAAACklEQVR4AWNABgAADQABYc2cpAAAAABJRU5ErkJggg\x3d\x3d";
ccui.ScrollView = ccui.Layout.extend({
	_innerContainer: null,
	_direction: null,
	_topBoundary: 0,
	_bottomBoundary: 0,
	_leftBoundary: 0,
	_rightBoundary: 0,
	_touchMoveDisplacements: null,
	_touchMoveTimeDeltas: null,
	_touchMovePreviousTimestamp: 0,
	_touchTotalTimeThreshold: 0.5,
	_autoScrolling: !1,
	_autoScrollTargetDelta: null,
	_autoScrollAttenuate: !0,
	_autoScrollStartPosition: null,
	_autoScrollTotalTime: 0,
	_autoScrollAccumulatedTime: 0,
	_autoScrollCurrentlyOutOfBoundary: !1,
	_autoScrollBraking: !1,
	_autoScrollBrakingStartPosition: null,
	_bePressed: !1,
	_childFocusCancelOffset: 0,
	bounceEnabled: !1,
	_outOfBoundaryAmount: null,
	_outOfBoundaryAmountDirty: !0,
	inertiaScrollEnabled: !1,
	_scrollBarEnabled: !0,
	_verticalScrollBar: null,
	_horizontalScrollBar: null,
	_scrollViewEventListener: null,
	_scrollViewEventSelector: null,
	_className: "ScrollView",
	ctor: function() {
		ccui.Layout.prototype.ctor.call(this);
		this.setClippingEnabled(!0);
		this._innerContainer.setTouchEnabled(!1);
		this._direction = ccui.ScrollView.DIR_NONE;
		this._childFocusCancelOffset = 5;
		this.inertiaScrollEnabled = !0;
		this._outOfBoundaryAmount = cc.p(0, 0);
		this._autoScrollTargetDelta = cc.p(0, 0);
		this._autoScrollStartPosition = cc.p(0, 0);
		this._autoScrollBrakingStartPosition = cc.p(0, 0);
		this._touchMoveDisplacements = [];
		this._touchMoveTimeDeltas = [];
		this._touchMovePreviousTimestamp = 0;
		this._scrollBarEnabled = !0;
		this._initScrollBar();
		this.setTouchEnabled(!0)
	},
	onEnter: function() {
		ccui.Layout.prototype.onEnter.call(this);
		this.scheduleUpdate()
	},
	onExit: function() {
		cc.renderer._removeCache(this.__instanceId);
		ccui.Layout.prototype.onExit.call(this)
	},
	visit: function(a) {
		var b = this._renderCmd,
			c = a ? a._renderCmd : null;
		if (this._visible) {
			this._adaptRenderers();
			this._doLayout();
			a = cc.renderer;
			b.visit(c);
			a.pushRenderCommand(b);
			b instanceof ccui.ScrollView.WebGLRenderCmd && a._turnToCacheMode(this.__instanceId);
			var d = this._clippingEnabled && this._clippingType === ccui.Layout.CLIPPING_STENCIL,
				e = this._clippingEnabled && this._clippingType === ccui.Layout.CLIPPING_SCISSOR;
			d ? b.stencilClippingVisit(c) : e && b.scissorClippingVisit(c);
			var f, g = this._children,
				h = g.length,
				k, c = this._protectedChildren,
				m = c.length;
			this._reorderChildDirty && this.sortAllChildren();
			this._reorderProtectedChildDirty && this.sortAllProtectedChildren();
			for (f = 0; f < h; f++)(k = g[f]) && k._visible && k.visit(this);
			for (f = 0; f < m; f++)(g = c[f]) && g._visible && (b._changeProtectedChild(g), g.visit(this));
			d ? b.postStencilVisit() : e && b.postScissorVisit();
			b instanceof ccui.ScrollView.WebGLRenderCmd && a._turnToNormalMode();
			this.updateChildren();
			b._dirtyFlag = 0
		} else b._propagateFlagsDown(c)
	},
	findNextFocusedWidget: function(a, b) {
		return this.getLayoutType() ===
			ccui.Layout.LINEAR_VERTICAL || this.getLayoutType() === ccui.Layout.LINEAR_HORIZONTAL ? this._innerContainer.findNextFocusedWidget(a, b) : ccui.Widget.prototype.findNextFocusedWidget.call(this, a, b)
	},
	_initRenderer: function() {
		ccui.Layout.prototype._initRenderer.call(this);
		this._innerContainer = new ccui.Layout;
		this._innerContainer.setColor(cc.color(255, 255, 255));
		this._innerContainer.setOpacity(255);
		this._innerContainer.setCascadeColorEnabled(!0);
		this._innerContainer.setCascadeOpacityEnabled(!0);
		this.addProtectedChild(this._innerContainer,
			1, 1)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_WEBGL ? new ccui.ScrollView.WebGLRenderCmd(this) : new ccui.ScrollView.CanvasRenderCmd(this)
	},
	_onSizeChanged: function() {
		ccui.Layout.prototype._onSizeChanged.call(this);
		var a = this._contentSize;
		this._topBoundary = a.height;
		this._rightBoundary = a.width;
		var b = this._innerContainer.getContentSize();
		this._innerContainer.setContentSize(cc.size(Math.max(b.width, a.width), Math.max(b.height, a.height)));
		this._innerContainer.setPosition(0, a.height -
			this._innerContainer.getContentSize().height);
		if (this._verticalScrollBar) this._verticalScrollBar.onScrolled(this._getHowMuchOutOfBoundary());
		if (this._horizontalScrollBar) this._horizontalScrollBar.onScrolled(this._getHowMuchOutOfBoundary())
	},
	setInnerContainerSize: function(a) {
		var b = this._innerContainer,
			c = this._contentSize,
			d = c.width,
			e = c.height;
		a.width < c.width ? cc.log("Inner width \x3c\x3d ScrollView width, it will be force sized!") : d = a.width;
		a.height < c.height ? cc.log("Inner height \x3c\x3d ScrollView height, it will be force sized!") :
			e = a.height;
		b.setContentSize(cc.size(d, e));
		a = this._innerContainer.getPosition();
		b = this._innerContainer.getAnchorPoint();
		0 != this._innerContainer.getLeftBoundary() && (a.x = b.x * d);
		this._innerContainer.getTopBoundary() != this._contentSize.height && (a.y = this._contentSize.height - (1 - b.y) * e);
		this.setInnerContainerPosition(a);
		this._updateScrollBar(cc.p(0, 0))
	},
	_setInnerWidth: function(a) {
		var b = this._contentSize.width,
			c = b,
			d = this._innerContainer,
			e = d.width;
		a < b ? cc.log("Inner width \x3c\x3d scrollview width, it will be force sized!") :
			c = a;
		d.width = c;
		switch (this._direction) {
			case ccui.ScrollView.DIR_HORIZONTAL:
			case ccui.ScrollView.DIR_BOTH:
				d.getRightBoundary() <= b && this._scrollChildren(e - d.width, 0)
		}
		a = d.anchorX;
		0 < d.getLeftBoundary() && (d.x = a * c);
		d.getRightBoundary() < b && (d.x = b - (1 - a) * c)
	},
	_setInnerHeight: function(a) {
		var b = this._contentSize.height,
			c = b,
			d = this._innerContainer,
			e = d.height;
		a < b ? cc.log("Inner height \x3c\x3d scrollview height, it will be force sized!") : c = a;
		d.height = c;
		switch (this._direction) {
			case ccui.ScrollView.DIR_VERTICAL:
			case ccui.ScrollView.DIR_BOTH:
				this._scrollChildren(0,
					e - c)
		}
		a = d.anchorY;
		0 < d.getLeftBoundary() && (d.y = a * c);
		d.getRightBoundary() < b && (d.y = b - (1 - a) * c)
	},
	setInnerContainerPosition: function(a) {
		if (a.x !== this._innerContainer.getPositionX() || a.y !== this._innerContainer.getPositionY()) {
			this._innerContainer.setPosition(a);
			this._outOfBoundaryAmountDirty = !0;
			if (this.bounceEnabled)
				for (a = ccui.ScrollView.MOVEDIR_TOP; a < ccui.ScrollView.MOVEDIR_RIGHT; ++a) this._isOutOfBoundary(a) && this._processScrollEvent(a, !0);
			this._dispatchEvent(ccui.ScrollView.EVENT_CONTAINER_MOVED)
		}
	},
	getInnerContainerPosition: function() {
		return this._innerContainer.getPosition()
	},
	getInnerContainerSize: function() {
		return this._innerContainer.getContentSize()
	},
	_getInnerWidth: function() {
		return this._innerContainer.width
	},
	_getInnerHeight: function() {
		return this._innerContainer.height
	},
	_isInContainer: function(a) {
		if (!this._clippingEnabled) return !0;
		var b = a._position,
			c = a._contentSize;
		a = a._anchorPoint;
		var d = this._customSize,
			e = this._innerContainer._position,
			f = 0,
			g = 0;
		return (f = b.y - a.y * c.height) >= d.height - e.y || f + c.height <= -e.y || (g = b.x - a.x * c.width) >= d.width - e.x || g + c.width <= -e.x ? !1 : !0
	},
	updateChildren: function() {
		var a,
			b, c, d = this._innerContainer._children;
		b = 0;
		for (c = d.length; b < c; b++) a = d[b], !0 === a._inViewRect && !1 === this._isInContainer(a) ? a._inViewRect = !1 : !1 === a._inViewRect && !0 === this._isInContainer(a) && (a._inViewRect = !0)
	},
	addChild: function(a, b, c) {
		if (!a) return !1;
		!1 === this._isInContainer(a) && (a._inViewRect = !1);
		b = b || a.getLocalZOrder();
		c = c || a.getTag();
		return this._innerContainer.addChild(a, b, c)
	},
	removeAllChildren: function() {
		this.removeAllChildrenWithCleanup(!0)
	},
	removeAllChildrenWithCleanup: function(a) {
		this._innerContainer.removeAllChildrenWithCleanup(a)
	},
	removeChild: function(a, b) {
		return this._innerContainer.removeChild(a, b)
	},
	getChildren: function() {
		return this._innerContainer.getChildren()
	},
	getChildrenCount: function() {
		return this._innerContainer.getChildrenCount()
	},
	getChildByTag: function(a) {
		return this._innerContainer.getChildByTag(a)
	},
	getChildByName: function(a) {
		return this._innerContainer.getChildByName(a)
	},
	_flattenVectorByDirection: function(a) {
		var b = cc.p(0, 0);
		b.x = this._direction === ccui.ScrollView.DIR_VERTICAL ? 0 : a.x;
		b.y = this._direction === ccui.ScrollView.DIR_HORIZONTAL ?
			0 : a.y;
		return b
	},
	_getHowMuchOutOfBoundary: function(a) {
		void 0 === a && (a = cc.p(0, 0));
		if (0 === a.x && 0 === a.y && !this._outOfBoundaryAmountDirty) return this._outOfBoundaryAmount;
		var b = cc.p(0, 0);
		this._innerContainer.getLeftBoundary() + a.x > this._leftBoundary ? b.x = this._leftBoundary - (this._innerContainer.getLeftBoundary() + a.x) : this._innerContainer.getRightBoundary() + a.x < this._rightBoundary && (b.x = this._rightBoundary - (this._innerContainer.getRightBoundary() + a.x));
		this._innerContainer.getTopBoundary() + a.y < this._topBoundary ?
			b.y = this._topBoundary - (this._innerContainer.getTopBoundary() + a.y) : this._innerContainer.getBottomBoundary() + a.y > this._bottomBoundary && (b.y = this._bottomBoundary - (this._innerContainer.getBottomBoundary() + a.y));
		0 === a.x && 0 === a.y && (this._outOfBoundaryAmount = b, this._outOfBoundaryAmountDirty = !1);
		return b
	},
	_isOutOfBoundary: function(a) {
		var b = this._getHowMuchOutOfBoundary();
		if (void 0 !== a) switch (a) {
			case ccui.ScrollView.MOVEDIR_TOP:
				return 0 < b.y;
			case ccui.ScrollView.MOVEDIR_BOTTOM:
				return 0 > b.y;
			case ccui.ScrollView.MOVEDIR_LEFT:
				return 0 >
					b.x;
			case ccui.ScrollView.MOVEDIR_RIGHT:
				return 0 < b.x
		} else return !this._fltEqualZero(b);
		return !1
	},
	_moveInnerContainer: function(a, b) {
		var c = this._flattenVectorByDirection(a);
		this.setInnerContainerPosition(cc.pAdd(this.getInnerContainerPosition(), c));
		c = this._getHowMuchOutOfBoundary();
		this._updateScrollBar(c);
		this.bounceEnabled && b && this._startBounceBackIfNeeded()
	},
	_updateScrollBar: function(a) {
		if (this._verticalScrollBar) this._verticalScrollBar.onScrolled(a);
		if (this._horizontalScrollBar) this._horizontalScrollBar.onScrolled(a)
	},
	_calculateTouchMoveVelocity: function() {
		for (var a = 0, b = 0; b < this._touchMoveTimeDeltas.length; ++b) a += this._touchMoveTimeDeltas[b];
		if (0 == a || a >= this._touchTotalTimeThreshold) return cc.p(0, 0);
		for (var c = cc.p(0, 0), b = 0; b < this._touchMoveDisplacements.length; ++b) c.x += this._touchMoveDisplacements[b].x, c.y += this._touchMoveDisplacements[b].y;
		return cc.pMult(c, 1 / a)
	},
	setTouchTotalTimeThreshold: function(a) {
		this._touchTotalTimeThreshold = a
	},
	getTouchTotalTimeThreshold: function() {
		return this._touchTotalTimeThreshold
	},
	_startInertiaScroll: function(a) {
		var b = cc.pMult(a, 0.7);
		this._startAttenuatingAutoScroll(b, a)
	},
	_startBounceBackIfNeeded: function() {
		if (!this.bounceEnabled) return !1;
		var a = this._getHowMuchOutOfBoundary();
		if (this._fltEqualZero(a)) return !1;
		this._startAutoScroll(a, 1, !0);
		return !0
	},
	_startAutoScrollToDestination: function(a, b, c) {
		this._startAutoScroll(cc.pSub(a, this._innerContainer.getPosition()), b, c)
	},
	_calculateAutoScrollTimeByInitialSpeed: function(a) {
		return Math.sqrt(Math.sqrt(a / 5))
	},
	_startAttenuatingAutoScroll: function(a,
		b) {
		var c = this._calculateAutoScrollTimeByInitialSpeed(cc.pLength(b));
		this._startAutoScroll(a, c, !0)
	},
	_startAutoScroll: function(a, b, c) {
		a = this._flattenVectorByDirection(a);
		this._autoScrolling = !0;
		this._autoScrollTargetDelta = a;
		this._autoScrollAttenuate = c;
		this._autoScrollStartPosition = this._innerContainer.getPosition();
		this._autoScrollTotalTime = b;
		this._autoScrollAccumulatedTime = 0;
		this._autoScrollBraking = !1;
		this._autoScrollBrakingStartPosition = cc.p(0, 0);
		b = this._getHowMuchOutOfBoundary();
		!this._fltEqualZero(b) &&
			(this._autoScrollCurrentlyOutOfBoundary = !0, c = this._getHowMuchOutOfBoundary(a), 0 < b.x * c.x || 0 < b.y * c.y) && (this._autoScrollBraking = !0)
	},
	stopAutoScroll: function() {
		this._autoScrolling = !1;
		this._autoScrollAttenuate = !0;
		this._autoScrollAccumulatedTime = this._autoScrollTotalTime = 0
	},
	_isNecessaryAutoScrollBrake: function() {
		if (this._autoScrollBraking) return !0;
		if (this._isOutOfBoundary()) {
			if (!this._autoScrollCurrentlyOutOfBoundary) return this._autoScrollBraking = this._autoScrollCurrentlyOutOfBoundary = !0, this._autoScrollBrakingStartPosition =
				this.getInnerContainerPosition(), !0
		} else this._autoScrollCurrentlyOutOfBoundary = !1;
		return !1
	},
	_getAutoScrollStopEpsilon: function() {
		return 1E-4
	},
	_fltEqualZero: function(a) {
		return 1E-4 >= Math.abs(a.x) && 1E-4 >= Math.abs(a.y)
	},
	_processAutoScrolling: function(a) {
		var b = this._isNecessaryAutoScrollBrake() ? 0.05 : 1;
		this._autoScrollAccumulatedTime += 1 / b * a;
		var c = Math.min(1, this._autoScrollAccumulatedTime / this._autoScrollTotalTime);
		this._autoScrollAttenuate && (c -= 1, c = c * c * c * c * c + 1);
		a = cc.pAdd(this._autoScrollStartPosition,
			cc.pMult(this._autoScrollTargetDelta, c));
		c = Math.abs(c - 1) <= this._getAutoScrollStopEpsilon();
		this.bounceEnabled ? a = cc.pAdd(this._autoScrollBrakingStartPosition, cc.pMult(cc.pSub(a, this._autoScrollBrakingStartPosition), b)) : (b = cc.pSub(a, this.getInnerContainerPosition()), b = this._getHowMuchOutOfBoundary(b), this._fltEqualZero(b) || (a.x += b.x, a.y += b.y, c = !0));
		c && (this._autoScrolling = !1, this._dispatchEvent(ccui.ScrollView.EVENT_AUTOSCROLL_ENDED));
		this._moveInnerContainer(cc.pSub(a, this.getInnerContainerPosition()),
			c)
	},
	_jumpToDestination: function(a, b) {
		void 0 === a.x && (a = cc.p(a, b));
		this._autoScrolling = !1;
		this._moveInnerContainer(cc.pSub(a, this.getInnerContainerPosition()), !0)
	},
	_scrollChildren: function(a) {
		if (this.bounceEnabled) {
			var b = this._getHowMuchOutOfBoundary();
			a.x *= 0 == b.x ? 1 : 0.5;
			a.y *= 0 == b.y ? 1 : 0.5
		}
		this.bounceEnabled || (b = this._getHowMuchOutOfBoundary(a), a.x += b.x, a.y += b.y);
		var c = b = !1,
			d = !1,
			e = !1;
		0 < a.y ? this._innerContainer.getBottomBoundary() + a.y >= this._bottomBoundary && (e = !0) : 0 > a.y && this._innerContainer.getTopBoundary() +
			a.y <= this._topBoundary && (d = !0);
		0 > a.x ? this._innerContainer.getRightBoundary() + a.x <= this._rightBoundary && (c = !0) : 0 < a.x && this._innerContainer.getLeftBoundary() + a.x >= this._leftBoundary && (b = !0);
		this._moveInnerContainer(a, !1);
		0 == a.x && 0 == a.y || this._processScrollingEvent();
		e && this._processScrollEvent(ccui.ScrollView.MOVEDIR_BOTTOM, !1);
		d && this._processScrollEvent(ccui.ScrollView.MOVEDIR_TOP, !1);
		b && this._processScrollEvent(ccui.ScrollView.MOVEDIR_LEFT, !1);
		c && this._processScrollEvent(ccui.ScrollView.MOVEDIR_RIGHT,
			!1)
	},
	scrollToBottom: function(a, b) {
		this._startAutoScrollToDestination(cc.p(this._innerContainer.getPositionX(), 0), a, b)
	},
	scrollToTop: function(a, b) {
		this._startAutoScrollToDestination(cc.p(this._innerContainer.getPositionX(), this._contentSize.height - this._innerContainer.getContentSize().height), a, b)
	},
	scrollToLeft: function(a, b) {
		this._startAutoScrollToDestination(cc.p(0, this._innerContainer.getPositionY()), a, b)
	},
	scrollToRight: function(a, b) {
		this._startAutoScrollToDestination(cc.p(this._contentSize.width -
			this._innerContainer.getContentSize().width, this._innerContainer.getPositionY()), a, b)
	},
	scrollToTopLeft: function(a, b) {
		this._direction !== ccui.ScrollView.DIR_BOTH ? cc.log("Scroll direction is not both!") : this._startAutoScrollToDestination(cc.p(0, this._contentSize.height - this._innerContainer.getContentSize().height), a, b)
	},
	scrollToTopRight: function(a, b) {
		if (this._direction !== ccui.ScrollView.DIR_BOTH) cc.log("Scroll direction is not both!");
		else {
			var c = this._innerContainer.getContentSize();
			this._startAutoScrollToDestination(cc.p(this._contentSize.width -
				c.width, this._contentSize.height - c.height), a, b)
		}
	},
	scrollToBottomLeft: function(a, b) {
		this._direction !== ccui.ScrollView.DIR_BOTH ? cc.log("Scroll direction is not both!") : this._startAutoScrollToDestination(cc.p(0, 0), a, b)
	},
	scrollToBottomRight: function(a, b) {
		this._direction !== ccui.ScrollView.DIR_BOTH ? cc.log("Scroll direction is not both!") : this._startAutoScrollToDestination(cc.p(this._contentSize.width - this._innerContainer.getContentSize().width, 0), a, b)
	},
	scrollToPercentVertical: function(a, b, c) {
		var d = this._contentSize.height -
			this._innerContainer.getContentSize().height,
			e = -d;
		this._startAutoScrollToDestination(cc.p(this._innerContainer.getPositionX(), d + a * e / 100), b, c)
	},
	scrollToPercentHorizontal: function(a, b, c) {
		var d = this._innerContainer.getContentSize().width - this._contentSize.width;
		this._startAutoScrollToDestination(cc.p(-(a * d / 100), this._innerContainer.getPositionY()), b, c)
	},
	scrollToPercentBothDirection: function(a, b, c) {
		if (this._direction === ccui.ScrollView.DIR_BOTH) {
			var d = this._contentSize.height - this._innerContainer.getContentSize().height,
				e = -d,
				f = this._innerContainer.getContentSize().width - this._contentSize.width;
			this._startAutoScrollToDestination(cc.p(-(a.x * f / 100), d + a.y * e / 100), b, c)
		}
	},
	jumpToBottom: function() {
		this._jumpToDestination(this._innerContainer.getPositionX(), 0)
	},
	jumpToTop: function() {
		this._jumpToDestination(this._innerContainer.getPositionX(), this._contentSize.height - this._innerContainer.getContentSize().height)
	},
	jumpToLeft: function() {
		this._jumpToDestination(0, this._innerContainer.getPositionY())
	},
	jumpToRight: function() {
		this._jumpToDestination(this._contentSize.width -
			this._innerContainer.getContentSize().width, this._innerContainer.getPositionY())
	},
	jumpToTopLeft: function() {
		this._direction !== ccui.ScrollView.DIR_BOTH ? cc.log("Scroll _direction is not both!") : this._jumpToDestination(0, this._contentSize.height - this._innerContainer.getContentSize().height)
	},
	jumpToTopRight: function() {
		if (this._direction !== ccui.ScrollView.DIR_BOTH) cc.log("Scroll _direction is not both!");
		else {
			var a = this._innerContainer.getContentSize();
			this._jumpToDestination(this._contentSize.width - a.width,
				this._contentSize.height - a.height)
		}
	},
	jumpToBottomLeft: function() {
		this._direction !== ccui.ScrollView.DIR_BOTH ? cc.log("Scroll _direction is not both!") : this._jumpToDestination(0, 0)
	},
	jumpToBottomRight: function() {
		this._direction !== ccui.ScrollView.DIR_BOTH ? cc.log("Scroll _direction is not both!") : this._jumpToDestination(this._contentSize.width - this._innerContainer.getContentSize().width, 0)
	},
	jumpToPercentVertical: function(a) {
		var b = this._contentSize.height - this._innerContainer.getContentSize().height,
			c = -b;
		this._jumpToDestination(this._innerContainer.getPositionX(), b + a * c / 100)
	},
	jumpToPercentHorizontal: function(a) {
		var b = this._innerContainer.getContentSize().width - this._contentSize.width;
		this._jumpToDestination(-(a * b / 100), this._innerContainer.getPositionY())
	},
	jumpToPercentBothDirection: function(a) {
		if (this._direction === ccui.ScrollView.DIR_BOTH) {
			var b = this._innerContainer.getContentSize(),
				c = this._contentSize.height - b.height;
			this._jumpToDestination(-(a.x * (b.width - this._contentSize.width) / 100), c + a.y * -c / 100)
		}
	},
	_gatherTouchMove: function(a) {
		for (; 5 <= this._touchMoveDisplacements.length;) this._touchMoveDisplacements.splice(0, 1), this._touchMoveTimeDeltas.splice(0, 1);
		this._touchMoveDisplacements.push(a);
		a = (new Date).getTime();
		this._touchMoveTimeDeltas.push((a - this._touchMovePreviousTimestamp) / 1E3);
		this._touchMovePreviousTimestamp = a
	},
	_handlePressLogic: function(a) {
		this._bePressed = !0;
		this._autoScrolling = !1;
		this._touchMovePreviousTimestamp = (new Date).getTime();
		this._touchMoveDisplacements.length = 0;
		this._touchMoveTimeDeltas.length =
			0;
		if (this._verticalScrollBar) this._verticalScrollBar.onTouchBegan();
		if (this._horizontalScrollBar) this._horizontalScrollBar.onTouchBegan()
	},
	_handleMoveLogic: function(a) {
		var b = this.convertToNodeSpace(a.getLocation());
		a = this.convertToNodeSpace(a.getPreviousLocation());
		b = cc.pSub(b, a);
		this._scrollChildren(b);
		this._gatherTouchMove(b)
	},
	_handleReleaseLogic: function(a) {
		var b = this.convertToNodeSpace(a.getLocation());
		a = this.convertToNodeSpace(a.getPreviousLocation());
		b = cc.pSub(b, a);
		this._gatherTouchMove(b);
		this._bePressed = !1;
		!this._startBounceBackIfNeeded() && this.inertiaScrollEnabled && (b = this._calculateTouchMoveVelocity(), 0 === b.x && 0 === b.y || this._startInertiaScroll(b));
		if (this._verticalScrollBar) this._verticalScrollBar.onTouchEnded();
		if (this._horizontalScrollBar) this._horizontalScrollBar.onTouchEnded()
	},
	onTouchBegan: function(a, b) {
		var c = ccui.Layout.prototype.onTouchBegan.call(this, a, b);
		this._isInterceptTouch || this._hit && this._handlePressLogic(a);
		return c
	},
	onTouchMoved: function(a, b) {
		ccui.Layout.prototype.onTouchMoved.call(this,
			a, b);
		this._isInterceptTouch || this._handleMoveLogic(a)
	},
	onTouchEnded: function(a, b) {
		ccui.Layout.prototype.onTouchEnded.call(this, a, b);
		this._isInterceptTouch || this._handleReleaseLogic(a);
		this._isInterceptTouch = !1
	},
	onTouchCancelled: function(a, b) {
		ccui.Layout.prototype.onTouchCancelled.call(this, a, b);
		this._isInterceptTouch || this._handleReleaseLogic(a);
		this._isInterceptTouch = !1
	},
	update: function(a) {
		this._autoScrolling && this._processAutoScrolling(a)
	},
	interceptTouchEvent: function(a, b, c) {
		if (!this._touchEnabled) ccui.Layout.prototype.interceptTouchEvent.call(this,
			a, b, c);
		else if (this._direction !== ccui.ScrollView.DIR_NONE) {
			var d = c.getLocation();
			switch (a) {
				case ccui.Widget.TOUCH_BEGAN:
					this._isInterceptTouch = !0;
					this._touchBeganPosition.x = d.x;
					this._touchBeganPosition.y = d.y;
					this._handlePressLogic(c);
					break;
				case ccui.Widget.TOUCH_MOVED:
					a = cc.pLength(cc.pSub(b.getTouchBeganPosition(), d));
					this._touchMovePosition.x = d.x;
					this._touchMovePosition.y = d.y;
					a > this._childFocusCancelOffset && (b.setHighlighted(!1), this._handleMoveLogic(c));
					break;
				case ccui.Widget.TOUCH_CANCELED:
				case ccui.Widget.TOUCH_ENDED:
					this._touchEndPosition.x =
						d.x, this._touchEndPosition.y = d.y, this._handleReleaseLogic(c), b.isSwallowTouches() && (this._isInterceptTouch = !1)
			}
		}
	},
	_processScrollEvent: function(a, b) {
		var c = 0;
		switch (a) {
			case ccui.ScrollView.MOVEDIR_TOP:
				c = b ? ccui.ScrollView.EVENT_BOUNCE_TOP : ccui.ScrollView.EVENT_SCROLL_TO_TOP;
				break;
			case ccui.ScrollView.MOVEDIR_BOTTOM:
				c = b ? ccui.ScrollView.EVENT_BOUNCE_BOTTOM : ccui.ScrollView.EVENT_SCROLL_TO_BOTTOM;
				break;
			case ccui.ScrollView.MOVEDIR_LEFT:
				c = b ? ccui.ScrollView.EVENT_BOUNCE_LEFT : ccui.ScrollView.EVENT_SCROLL_TO_LEFT;
				break;
			case ccui.ScrollView.MOVEDIR_RIGHT:
				c = b ? ccui.ScrollView.EVENT_BOUNCE_RIGHT : ccui.ScrollView.EVENT_SCROLL_TO_RIGHT
		}
		this._dispatchEvent(c)
	},
	_processScrollingEvent: function() {
		this._dispatchEvent(ccui.ScrollView.EVENT_SCROLLING)
	},
	_dispatchEvent: function(a) {
		this._scrollViewEventSelector && (this._scrollViewEventListener ? this._scrollViewEventSelector.call(this._scrollViewEventListener, this, a) : this._scrollViewEventSelector(this, a));
		this._ccEventCallback && this._ccEventCallback(this, a)
	},
	addEventListenerScrollView: function(a,
		b) {
		this._scrollViewEventSelector = a;
		this._scrollViewEventListener = b
	},
	addEventListener: function(a) {
		this._ccEventCallback = a
	},
	setDirection: function(a) {
		this._direction = a;
		this._scrollBarEnabled && (this._removeScrollBar(), this._initScrollBar())
	},
	getDirection: function() {
		return this._direction
	},
	setBounceEnabled: function(a) {
		this.bounceEnabled = a
	},
	isBounceEnabled: function() {
		return this.bounceEnabled
	},
	setInertiaScrollEnabled: function(a) {
		this.inertiaScrollEnabled = a
	},
	isInertiaScrollEnabled: function() {
		return this.inertiaScrollEnabled
	},
	setScrollBarEnabled: function(a) {
		this._scrollBarEnabled !== a && (this._scrollBarEnabled && this._removeScrollBar(), (this._scrollBarEnabled = a) && this._initScrollBar())
	},
	isScrollBarEnabled: function() {
		return this._scrollBarEnabled
	},
	setScrollBarPositionFromCorner: function(a) {
		this._direction !== ccui.ScrollView.DIR_HORIZONTAL && this.setScrollBarPositionFromCornerForVertical(a);
		this._direction !== ccui.ScrollView.DIR_VERTICAL && this.setScrollBarPositionFromCornerForHorizontal(a)
	},
	setScrollBarPositionFromCornerForVertical: function(a) {
		cc.assert(this._scrollBarEnabled,
			"Scroll bar should be enabled!");
		cc.assert(this._direction !== ccui.ScrollView.DIR_HORIZONTAL, "Scroll view doesn't have a vertical scroll bar!");
		this._verticalScrollBar.setPositionFromCorner(a)
	},
	getScrollBarPositionFromCornerForVertical: function() {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		cc.assert(this._direction !== ccui.ScrollView.DIR_HORIZONTAL, "Scroll view doesn't have a vertical scroll bar!");
		return this._verticalScrollBar.getPositionFromCorner()
	},
	setScrollBarPositionFromCornerForHorizontal: function(a) {
		cc.assert(this._scrollBarEnabled,
			"Scroll bar should be enabled!");
		cc.assert(this._direction !== ccui.ScrollView.DIR_VERTICAL, "Scroll view doesn't have a horizontal scroll bar!");
		this._horizontalScrollBar.setPositionFromCorner(a)
	},
	getScrollBarPositionFromCornerForHorizontal: function() {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		cc.assert(this._direction !== ccui.ScrollView.DIR_VERTICAL, "Scroll view doesn't have a horizontal scroll bar!");
		return this._horizontalScrollBar.getPositionFromCorner()
	},
	setScrollBarWidth: function(a) {
		cc.assert(this._scrollBarEnabled,
			"Scroll bar should be enabled!");
		this._verticalScrollBar && this._verticalScrollBar.setWidth(a);
		this._horizontalScrollBar && this._horizontalScrollBar.setWidth(a)
	},
	getScrollBarWidth: function() {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		return this._verticalScrollBar ? this._verticalScrollBar.getWidth() : this._horizontalScrollBar ? this._horizontalScrollBar.getWidth() : 0
	},
	setScrollBarColor: function(a) {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		this._verticalScrollBar &&
			this._verticalScrollBar.setColor(a);
		this._horizontalScrollBar && this._horizontalScrollBar.setColor(a)
	},
	getScrollBarColor: function() {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		this._verticalScrollBar && this._verticalScrollBar.getColor();
		this._horizontalScrollBar && this._horizontalScrollBar.getColor();
		return cc.color.WHITE
	},
	setScrollBarOpacity: function(a) {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		this._verticalScrollBar && (this._verticalScrollBar.opacity = a);
		this._horizontalScrollBar && (this._horizontalScrollBar.opacity = a)
	},
	getScrollBarOpacity: function() {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		return this._verticalScrollBar ? this._verticalScrollBar.opacity : this._horizontalScrollBar ? this._horizontalScrollBar.opacity : -1
	},
	setScrollBarAutoHideEnabled: function(a) {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		this._verticalScrollBar && (this._verticalScrollBar.autoHideEnabled = a);
		this._horizontalScrollBar && (this._horizontalScrollBar.autoHideEnabled =
			a)
	},
	isScrollBarAutoHideEnabled: function() {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		return this._verticalScrollBar ? this._verticalScrollBar.autoHideEnabled : this._horizontalScrollBar ? this._horizontalScrollBar.autoHideEnabled : !1
	},
	setScrollBarAutoHideTime: function(a) {
		cc.assert(this._scrollBarEnabled, "Scroll bar should be enabled!");
		this._verticalScrollBar && (this._verticalScrollBar.autoHideTime = a);
		this._horizontalScrollBar && (this._horizontalScrollBar.autoHideTime = a)
	},
	getScrollBarAutoHideTime: function() {
		cc.assert(this._scrollBarEnabled,
			"Scroll bar should be enabled!");
		return this._verticalScrollBar ? this._verticalScrollBar.autoHideTime : this._horizontalScrollBar ? this._horizontalScrollBar.autoHideTime : 0
	},
	getInnerContainer: function() {
		return this._innerContainer
	},
	setLayoutType: function(a) {
		this._innerContainer.setLayoutType(a)
	},
	getLayoutType: function() {
		return this._innerContainer.getLayoutType()
	},
	_doLayout: function() {
		this._doLayoutDirty && (this._doLayoutDirty = !1)
	},
	getDescription: function() {
		return "ScrollView"
	},
	_createCloneInstance: function() {
		return new ccui.ScrollView
	},
	_copyClonedWidgetChildren: function(a) {
		ccui.Layout.prototype._copyClonedWidgetChildren.call(this, a)
	},
	_copySpecialProperties: function(a) {
		a instanceof ccui.ScrollView && (ccui.Layout.prototype._copySpecialProperties.call(this, a), this.setInnerContainerSize(a.getInnerContainerSize()), this.setInnerContainerPosition(a.getInnerContainerPosition()), this.setDirection(a._direction), this._topBoundary = a._topBoundary, this._bottomBoundary = a._bottomBoundary, this._leftBoundary = a._leftBoundary, this._rightBoundary = a._rightBoundary,
			this._bePressed = a._bePressed, this._childFocusCancelOffset = a._childFocusCancelOffset, this._touchMoveDisplacements = a._touchMoveDisplacements, this._touchMoveTimeDeltas = a._touchMoveTimeDeltas, this._touchMovePreviousTimestamp = a._touchMovePreviousTimestamp, this._autoScrolling = a._autoScrolling, this._autoScrollAttenuate = a._autoScrollAttenuate, this._autoScrollStartPosition = a._autoScrollStartPosition, this._autoScrollTargetDelta = a._autoScrollTargetDelta, this._autoScrollTotalTime = a._autoScrollTotalTime, this._autoScrollAccumulatedTime =
			a._autoScrollAccumulatedTime, this._autoScrollCurrentlyOutOfBoundary = a._autoScrollCurrentlyOutOfBoundary, this._autoScrollBraking = a._autoScrollBraking, this._autoScrollBrakingStartPosition = a._autoScrollBrakingStartPosition, this.setBounceEnabled(a.bounceEnabled), this.setInertiaScrollEnabled(a.inertiaScrollEnabled), this._scrollViewEventListener = a._scrollViewEventListener, this._scrollViewEventSelector = a._scrollViewEventSelector, this._ccEventCallback = a._ccEventCallback, this.setScrollBarEnabled(a.isScrollBarEnabled()),
			this.isScrollBarEnabled() && (this._direction !== ccui.ScrollView.DIR_HORIZONTAL && this.setScrollBarPositionFromCornerForVertical(a.getScrollBarPositionFromCornerForVertical()), this._direction !== ccui.ScrollView.DIR_VERTICAL && this.setScrollBarPositionFromCornerForHorizontal(a.getScrollBarPositionFromCornerForHorizontal()), this.setScrollBarWidth(a.getScrollBarWidth()), this.setScrollBarColor(a.getScrollBarColor()), this.setScrollBarAutoHideEnabled(a.isScrollBarAutoHideEnabled()), this.setScrollBarAutoHideTime(a.getScrollBarAutoHideTime())))
	},
	_initScrollBar: function() {
		this._direction === ccui.ScrollView.DIR_HORIZONTAL || this._verticalScrollBar || (this._verticalScrollBar = new ccui.ScrollViewBar(this, ccui.ScrollView.DIR_VERTICAL), this.addProtectedChild(this._verticalScrollBar, 2));
		this._direction === ccui.ScrollView.DIR_VERTICAL || this._horizontalScrollBar || (this._horizontalScrollBar = new ccui.ScrollViewBar(this, ccui.ScrollView.DIR_HORIZONTAL), this.addProtectedChild(this._horizontalScrollBar, 2))
	},
	_removeScrollBar: function() {
		this._verticalScrollBar &&
			(this.removeProtectedChild(this._verticalScrollBar), this._verticalScrollBar = null);
		this._horizontalScrollBar && (this.removeProtectedChild(this._horizontalScrollBar), this._horizontalScrollBar = null)
	},
	getNodeByTag: function(a) {
		return this._innerContainer.getNodeByTag(a)
	},
	getNodes: function() {
		return this._innerContainer.getNodes()
	},
	removeNode: function(a) {
		this._innerContainer.removeNode(a)
	},
	removeNodeByTag: function(a) {
		this._innerContainer.removeNodeByTag(a)
	},
	removeAllNodes: function() {
		this._innerContainer.removeAllNodes()
	},
	addNode: function(a, b, c) {
		this._innerContainer.addNode(a, b, c)
	}
});
_p = ccui.ScrollView.prototype;
cc.defineGetterSetter(_p, "innerWidth", _p._getInnerWidth, _p._setInnerWidth);
cc.defineGetterSetter(_p, "innerHeight", _p._getInnerHeight, _p._setInnerHeight);
cc.defineGetterSetter(_p, "direction", _p.getDirection, _p.setDirection);
cc.defineGetterSetter(_p, "touchTotalTimeThreshold", _p.getTouchTotalTimeThreshold, _p.setTouchTotalTimeThreshold);
_p = null;
ccui.ScrollView.create = function() {
	return new ccui.ScrollView
};
ccui.ScrollView.DIR_NONE = 0;
ccui.ScrollView.DIR_VERTICAL = 1;
ccui.ScrollView.DIR_HORIZONTAL = 2;
ccui.ScrollView.DIR_BOTH = 3;
ccui.ScrollView.EVENT_SCROLL_TO_TOP = 0;
ccui.ScrollView.EVENT_SCROLL_TO_BOTTOM = 1;
ccui.ScrollView.EVENT_SCROLL_TO_LEFT = 2;
ccui.ScrollView.EVENT_SCROLL_TO_RIGHT = 3;
ccui.ScrollView.EVENT_SCROLLING = 4;
ccui.ScrollView.EVENT_BOUNCE_TOP = 5;
ccui.ScrollView.EVENT_BOUNCE_BOTTOM = 6;
ccui.ScrollView.EVENT_BOUNCE_LEFT = 7;
ccui.ScrollView.EVENT_BOUNCE_RIGHT = 8;
ccui.ScrollView.EVENT_CONTAINER_MOVED = 9;
ccui.ScrollView.EVENT_AUTOSCROLL_ENDED = 10;
ccui.ScrollView.MOVEDIR_TOP = 0;
ccui.ScrollView.MOVEDIR_BOTTOM = 1;
ccui.ScrollView.MOVEDIR_LEFT = 2;
ccui.ScrollView.MOVEDIR_RIGHT = 3;
ccui.ListView = ccui.ScrollView.extend({
	_model: null,
	_items: null,
	_gravity: null,
	_itemsMargin: 0,
	_curSelectedIndex: 0,
	_refreshViewDirty: !0,
	_listViewEventListener: null,
	_listViewEventSelector: null,
	_ccListViewEventCallback: null,
	_magneticAllowedOutOfBoundary: !0,
	_magneticType: 0,
	_className: "ListView",
	ctor: function() {
		this._items = [];
		ccui.ScrollView.prototype.ctor.call(this);
		this._gravity = ccui.ListView.GRAVITY_CENTER_VERTICAL;
		this.setTouchEnabled(!0);
		this.setDirection(ccui.ScrollView.DIR_VERTICAL)
	},
	setItemModel: function(a) {
		a ?
			this._model = a : cc.log("Can't set a null to item model!")
	},
	_handleReleaseLogic: function(a) {
		ccui.ScrollView.prototype._handleReleaseLogic.call(this, a);
		this._autoScrolling || this._startMagneticScroll()
	},
	_onItemListChanged: function() {
		this._outOfBoundaryAmountDirty = !0
	},
	_updateInnerContainerSize: function() {
		var a, b = this._items,
			c;
		switch (this.direction) {
			case ccui.ScrollView.DIR_VERTICAL:
				c = b.length;
				var d = (c - 1) * this._itemsMargin;
				for (a = 0; a < c; a++) d += b[a].getContentSize().height;
				this.setInnerContainerSize(cc.size(this._contentSize.width,
					d));
				break;
			case ccui.ScrollView.DIR_HORIZONTAL:
				c = b.length;
				d = (c - 1) * this._itemsMargin;
				for (a = 0; a < c; a++) d += b[a].getContentSize().width;
				this.setInnerContainerSize(cc.size(d, this._contentSize.height))
		}
	},
	_remedyLayoutParameter: function(a) {
		cc.assert(null != a, "ListView Item can't be nil!");
		var b = a.getLayoutParameter(ccui.LayoutParameter.LINEAR),
			c = !0;
		b || (b = new ccui.LinearLayoutParameter, c = !1);
		var d = this.getIndex(a);
		switch (this.direction) {
			case ccui.ScrollView.DIR_VERTICAL:
				this._remedyVerticalLayoutParameter(b,
					d);
				break;
			case ccui.ScrollView.DIR_HORIZONTAL:
				this._remedyHorizontalLayoutParameter(b, d)
		}
		c || a.setLayoutParameter(b)
	},
	_remedyVerticalLayoutParameter: function(a, b) {
		cc.assert(null != a, "Layout parameter can't be nil!");
		switch (this._gravity) {
			case ccui.ListView.GRAVITY_LEFT:
				a.setGravity(ccui.LinearLayoutParameter.LEFT);
				break;
			case ccui.ListView.GRAVITY_RIGHT:
				a.setGravity(ccui.LinearLayoutParameter.RIGHT);
				break;
			case ccui.ListView.GRAVITY_CENTER_HORIZONTAL:
				a.setGravity(ccui.LinearLayoutParameter.CENTER_HORIZONTAL)
		}
		0 ===
			b ? a.setMargin(ccui.MarginZero()) : a.setMargin(new ccui.Margin(0, this._itemsMargin, 0, 0))
	},
	_remedyHorizontalLayoutParameter: function(a, b) {
		cc.assert(null != a, "Layout parameter can't be nil!");
		switch (this._gravity) {
			case ccui.ListView.GRAVITY_TOP:
				a.setGravity(ccui.LinearLayoutParameter.TOP);
				break;
			case ccui.ListView.GRAVITY_BOTTOM:
				a.setGravity(ccui.LinearLayoutParameter.BOTTOM);
				break;
			case ccui.ListView.GRAVITY_CENTER_VERTICAL:
				a.setGravity(ccui.LinearLayoutParameter.CENTER_VERTICAL)
		}
		0 === b ? a.setMargin(ccui.MarginZero()) :
			a.setMargin(new ccui.Margin(this._itemsMargin, 0, 0, 0))
	},
	pushBackDefaultItem: function() {
		if (null != this._model) {
			var a = this._model.clone();
			this._remedyLayoutParameter(a);
			this.addChild(a);
			this._refreshViewDirty = !0
		}
	},
	insertDefaultItem: function(a) {
		if (null != this._model) {
			var b = this._model.clone();
			this._items.splice(a, 0, b);
			ccui.ScrollView.prototype.addChild.call(this, b);
			this._remedyLayoutParameter(b);
			this._refreshViewDirty = !0
		}
	},
	pushBackCustomItem: function(a) {
		this._remedyLayoutParameter(a);
		this.addChild(a);
		this._refreshViewDirty = !0
	},
	addChild: function(a, b, c) {
		a && (b = b || a.getLocalZOrder(), c = c || a.getName(), ccui.ScrollView.prototype.addChild.call(this, a, b, c), a instanceof ccui.Widget && (this._items.push(a), this._onItemListChanged()))
	},
	removeChild: function(a, b) {
		if (a) {
			var c = this._items.indexOf(a); - 1 < c && this._items.splice(c, 1);
			this._onItemListChanged();
			ccui.ScrollView.prototype.removeChild.call(this, a, b)
		}
	},
	removeAllChildren: function() {
		this.removeAllChildrenWithCleanup(!0)
	},
	removeAllChildrenWithCleanup: function(a) {
		ccui.ScrollView.prototype.removeAllChildrenWithCleanup.call(this,
			a);
		this._items = [];
		this._onItemListChanged()
	},
	insertCustomItem: function(a, b) {
		this._items.splice(b, 0, a);
		this._onItemListChanged();
		ccui.ScrollView.prototype.addChild.call(this, a);
		this._remedyLayoutParameter(a);
		this._refreshViewDirty = !0
	},
	removeItem: function(a) {
		a = this.getItem(a);
		null != a && (this.removeChild(a, !0), this._refreshViewDirty = !0)
	},
	removeLastItem: function() {
		this.removeItem(this._items.length - 1)
	},
	removeAllItems: function() {
		this.removeAllChildren()
	},
	getItem: function(a) {
		return 0 > a || a >= this._items.length ?
			null : this._items[a]
	},
	getItems: function() {
		return this._items
	},
	getIndex: function(a) {
		return null == a ? -1 : this._items.indexOf(a)
	},
	setGravity: function(a) {
		this._gravity !== a && (this._gravity = a, this._refreshViewDirty = !0)
	},
	setMagneticType: function(a) {
		this._magneticType = a;
		this._onItemListChanged();
		this._startMagneticScroll()
	},
	getMagneticType: function() {
		return this._magneticType
	},
	setMagneticAllowedOutOfBoundary: function(a) {
		this._magneticAllowedOutOfBoundary = a
	},
	getMagneticAllowedOutOfBoundary: function() {
		return this._magneticAllowedOutOfBoundary
	},
	setItemsMargin: function(a) {
		this._itemsMargin !== a && (this._itemsMargin = a, this._refreshViewDirty = !0)
	},
	getItemsMargin: function() {
		return this._itemsMargin
	},
	setDirection: function(a) {
		switch (a) {
			case ccui.ScrollView.DIR_VERTICAL:
				this.setLayoutType(ccui.Layout.LINEAR_VERTICAL);
				break;
			case ccui.ScrollView.DIR_HORIZONTAL:
				this.setLayoutType(ccui.Layout.LINEAR_HORIZONTAL);
				break;
			case ccui.ScrollView.DIR_BOTH:
				return;
			default:
				return
		}
		ccui.ScrollView.prototype.setDirection.call(this, a)
	},
	_getHowMuchOutOfBoundary: function(a) {
		void 0 ===
			a && (a = cc.p(0, 0));
		if (this._magneticAllowedOutOfBoundary && 0 !== this._items.length) {
			if (this._magneticType === ccui.ListView.MAGNETIC_NONE || this._magneticType === ccui.ListView.MAGNETIC_BOTH_END) return ccui.ScrollView.prototype._getHowMuchOutOfBoundary.call(this, a);
			if (0 === a.x && 0 === a.y && !this._outOfBoundaryAmountDirty) return this._outOfBoundaryAmount
		} else return ccui.ScrollView.prototype._getHowMuchOutOfBoundary.call(this, a);
		var b = this._leftBoundary,
			c = this._rightBoundary,
			d = this._topBoundary,
			e = this._bottomBoundary,
			f = this._items.length - 1,
			g = this.getContentSize(),
			h = cc.p(0, 0),
			k = cc.p(0, 0);
		switch (this._magneticType) {
			case ccui.ListView.MAGNETIC_CENTER:
				h.x = (g.width - this._items[0].width) / 2;
				h.y = (g.height - this._items[0].height) / 2;
				k.x = (g.width - this._items[f].width) / 2;
				k.y = (g.height - this._items[f].height) / 2;
				break;
			case ccui.ListView.MAGNETIC_LEFT:
			case ccui.ListView.MAGNETIC_TOP:
				k.x = g.width - this._items[f].width;
				k.y = g.height - this._items[f].height;
				break;
			case ccui.ListView.MAGNETIC_RIGHT:
			case ccui.ListView.MAGNETIC_BOTTOM:
				h.x =
					g.width - this._items[0].width, h.y = g.height - this._items[0].height
		}
		b += h.x;
		c -= k.x;
		d -= h.y;
		e += k.y;
		f = cc.p(0, 0);
		this._innerContainer.getLeftBoundary() + a.x > b ? f.x = b - (this._innerContainer.getLeftBoundary() + a.x) : this._innerContainer.getRightBoundary() + a.x < c && (f.x = c - (this._innerContainer.getRightBoundary() + a.x));
		this._innerContainer.getTopBoundary() + a.y < d ? f.y = d - (this._innerContainer.getTopBoundary() + a.y) : this._innerContainer.getBottomBoundary() + a.y > e && (f.y = e - (this._innerContainer.getBottomBoundary() + a.y));
		0 ===
			a.x && 0 === a.y && (this._outOfBoundaryAmount = f, this._outOfBoundaryAmountDirty = !1);
		return f
	},
	_calculateItemPositionWithAnchor: function(a, b) {
		var c = cc.p(a.getLeftBoundary(), a.getBottomBoundary()),
			d = a.getContentSize();
		return cc.p(c.x + d.width * b.x, c.y + d.height * b.y)
	},
	_findClosestItem: function(a, b, c, d, e, f, g) {
		cc.assert(0 <= d && f < b.length && d <= f, "");
		if (d === f) return b[d];
		if (1 === f - d) return e <= g ? b[d] : b[f];
		var h = Math.floor((d + f) / 2),
			k = this._calculateItemPositionWithAnchor(b[h], c),
			k = cc.pLength(cc.pSub(a, k));
		return e <= g ?
			this._findClosestItem(a, b, c, d, e, h, k) : this._findClosestItem(a, b, c, h, k, f, g)
	},
	getClosestItemToPosition: function(a, b) {
		if (0 === this._items.length) return null;
		var c = this._calculateItemPositionWithAnchor(this._items[0], b),
			c = cc.pLength(cc.pSub(a, c)),
			d = this._items.length - 1,
			e = this._calculateItemPositionWithAnchor(this._items[d], b),
			e = cc.pLength(cc.pSub(a, e));
		return this._findClosestItem(a, this._items, b, 0, c, d, e)
	},
	getClosestItemToPositionInCurrentView: function(a, b) {
		var c = this.getContentSize(),
			d = cc.pMult(this._innerContainer.getPosition(),
				-1);
		d.x += c.width * a.x;
		d.y += c.height * a.y;
		return this.getClosestItemToPosition(d, b)
	},
	getCenterItemInCurrentView: function() {
		return this.getClosestItemToPositionInCurrentView(cc.p(0.5, 0.5), cc.p(0.5, 0.5))
	},
	getLeftmostItemInCurrentView: function() {
		return this._direction === ccui.ScrollView.DIR_HORIZONTAL ? this.getClosestItemToPositionInCurrentView(cc.p(0, 0.5), cc.p(0.5, 0.5)) : null
	},
	getRightmostItemInCurrentView: function() {
		return this._direction === ccui.ScrollView.DIR_HORIZONTAL ? this.getClosestItemToPositionInCurrentView(cc.p(1,
			0.5), cc.p(0.5, 0.5)) : null
	},
	getTopmostItemInCurrentView: function() {
		return this._direction === ccui.ScrollView.DIR_VERTICAL ? this.getClosestItemToPositionInCurrentView(cc.p(0.5, 1), cc.p(0.5, 0.5)) : null
	},
	getBottommostItemInCurrentView: function() {
		return this._direction === ccui.ScrollView.DIR_VERTICAL ? this.getClosestItemToPositionInCurrentView(cc.p(0.5, 0), cc.p(0.5, 0.5)) : null
	},
	_calculateItemDestination: function(a, b, c) {
		var d = this.getContentSize(),
			e = cc.p(0, 0);
		e.x += d.width * a.x;
		e.y += d.height * a.y;
		a = this._calculateItemPositionWithAnchor(b,
			c);
		return cc.pMult(cc.pSub(a, e), -1)
	},
	jumpToBottom: function() {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToBottom.call(this)
	},
	jumpToTop: function() {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToTop.call(this)
	},
	jumpToLeft: function() {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToLeft.call(this)
	},
	jumpToRight: function() {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToRight.call(this)
	},
	jumpToTopLeft: function() {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToTopLeft.call(this)
	},
	jumpToTopRight: function() {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToTopRight.call(this)
	},
	jumpToBottomLeft: function() {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToBottomLeft.call(this)
	},
	jumpToBottomRight: function() {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToBottomRight.call(this)
	},
	jumpToPercentVertical: function(a) {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToPercentVertical.call(this, a)
	},
	jumpToPercentHorizontal: function(a) {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToPercentHorizontal.call(this, a)
	},
	jumpToPercentBothDirection: function(a) {
		this.doLayout();
		ccui.ScrollView.prototype.jumpToPercentBothDirection.call(this, a)
	},
	jumpToItem: function(a, b, c) {
		if (a = this.getItem(a)) this.doLayout(), b = this._calculateItemDestination(b, a, c), this.bounceEnabled || (c = cc.pSub(b, this._innerContainer.getPosition()), c = this._getHowMuchOutOfBoundary(c), b.x += c.x, b.y += c.y), this._jumpToDestination(b)
	},
	scrollToItem: function(a, b, c, d) {
		void 0 === d && (d = 1);
		if (a = this.getItem(a)) b = this._calculateItemDestination(b, a, c), this._startAutoScrollToDestination(b, d, !0)
	},
	requestRefreshView: function() {
		this._refreshViewDirty = !0
	},
	refreshView: function() {
		this.forceDoLayout()
	},
	doLayout: function() {
		this._doLayout()
	},
	requestDoLayout: function() {
		this._refreshViewDirty = !0
	},
	_doLayout: function() {
		if (this._refreshViewDirty) {
			for (var a = this._items, b = 0; b < a.length; b++) {
				var c = a[b];
				c.setLocalZOrder(b);
				this._remedyLayoutParameter(c)
			}
			this._updateInnerContainerSize();
			this._innerContainer.forceDoLayout();
			this._refreshViewDirty = !1
		}
	},
	addEventListenerListView: function(a, b) {
		this._listViewEventListener = b;
		this._listViewEventSelector = a
	},
	addEventListener: function(a) {
		this._ccListViewEventCallback =
			a
	},
	_selectedItemEvent: function(a) {
		a = a === ccui.Widget.TOUCH_BEGAN ? ccui.ListView.ON_SELECTED_ITEM_START : ccui.ListView.ON_SELECTED_ITEM_END;
		this._listViewEventSelector && (this._listViewEventListener ? this._listViewEventSelector.call(this._listViewEventListener, this, a) : this._listViewEventSelector(this, a));
		this._ccListViewEventCallback && this._ccListViewEventCallback(this, a)
	},
	interceptTouchEvent: function(a, b, c) {
		ccui.ScrollView.prototype.interceptTouchEvent.call(this, a, b, c);
		if (this._touchEnabled && a !== ccui.Widget.TOUCH_MOVED) {
			for (c =
				b; c;) {
				if (c && c.getParent() === this._innerContainer) {
					this._curSelectedIndex = this.getIndex(c);
					break
				}
				c = c.getParent()
			}
			b.isHighlighted() && this._selectedItemEvent(a)
		}
	},
	getCurSelectedIndex: function() {
		return this._curSelectedIndex
	},
	_onSizeChanged: function() {
		ccui.ScrollView.prototype._onSizeChanged.call(this);
		this._refreshViewDirty = !0
	},
	getDescription: function() {
		return "ListView"
	},
	_createCloneInstance: function() {
		return new ccui.ListView
	},
	_copyClonedWidgetChildren: function(a) {
		a = a.getItems();
		for (var b = 0; b < a.length; b++) this.pushBackCustomItem(a[b].clone())
	},
	_copySpecialProperties: function(a) {
		a instanceof ccui.ListView && (ccui.ScrollView.prototype._copySpecialProperties.call(this, a), this.setItemModel(a._model), this.setItemsMargin(a._itemsMargin), this.setGravity(a._gravity), this._listViewEventListener = a._listViewEventListener, this._listViewEventSelector = a._listViewEventSelector)
	},
	_startAttenuatingAutoScroll: function(a, b) {
		var c = a;
		if (0 !== this._items.length && this._magneticType !== ccui.ListView.MAGNETIC_NONE) {
			var c = this._flattenVectorByDirection(c),
				d = this._getHowMuchOutOfBoundary(c);
			if (0 === d.x && 0 === d.y) {
				d = this._magneticType;
				d === ccui.ListView.MAGNETIC_BOTH_END && (this._direction === ccui.ScrollView.DIR_HORIZONTAL ? d = 0 < c.x ? ccui.ListView.MAGNETIC_LEFT : ccui.ListView.MAGNETIC_RIGHT : this._direction === ccui.ScrollView.DIR_VERTICAL && (d = 0 < c.y ? ccui.ListView.MAGNETIC_BOTTOM : ccui.ListView.MAGNETIC_TOP));
				var e = this._getAnchorPointByMagneticType(d),
					d = cc.pMult(this._innerContainer.getPosition(), -1);
				d.x += this.width * e.x;
				d.y += this.height * e.y;
				c = this.getClosestItemToPosition(cc.pSub(d, c), e);
				c = this._calculateItemPositionWithAnchor(c,
					e);
				c = cc.pSub(d, c)
			}
		}
		ccui.ScrollView.prototype._startAttenuatingAutoScroll.call(this, c, b)
	},
	_getAnchorPointByMagneticType: function(a) {
		switch (a) {
			case ccui.ListView.MAGNETIC_BOTH_END:
				return cc.p(0, 1);
			case ccui.ListView.MAGNETIC_CENTER:
				return cc.p(0.5, 0.5);
			case ccui.ListView.MAGNETIC_LEFT:
				return cc.p(0, 0.5);
			case ccui.ListView.MAGNETIC_RIGHT:
				return cc.p(1, 0.5);
			case ccui.ListView.MAGNETIC_TOP:
				return cc.p(0.5, 1);
			case ccui.ListView.MAGNETIC_BOTTOM:
				return cc.p(0.5, 0)
		}
		return cc.p(0, 0)
	},
	_startMagneticScroll: function() {
		if (0 !==
			this._items.length && this._magneticType !== ccui.ListView.MAGNETIC_NONE) {
			var a = this._getAnchorPointByMagneticType(this._magneticType),
				b = cc.pMult(this._innerContainer.getPosition(), -1);
			b.x += this.width * a.x;
			b.y += this.height * a.y;
			b = this.getClosestItemToPosition(b, a);
			this.scrollToItem(this.getIndex(b), a, a)
		}
	}
});
ccui.ListView.create = function() {
	return new ccui.ListView
};
ccui.ListView.EVENT_SELECTED_ITEM = 0;
ccui.ListView.ON_SELECTED_ITEM_START = 0;
ccui.ListView.ON_SELECTED_ITEM_END = 1;
ccui.ListView.GRAVITY_LEFT = 0;
ccui.ListView.GRAVITY_RIGHT = 1;
ccui.ListView.GRAVITY_CENTER_HORIZONTAL = 2;
ccui.ListView.GRAVITY_TOP = 3;
ccui.ListView.GRAVITY_BOTTOM = 4;
ccui.ListView.GRAVITY_CENTER_VERTICAL = 5;
ccui.ListView.MAGNETIC_NONE = 0;
ccui.ListView.MAGNETIC_CENTER = 1;
ccui.ListView.MAGNETIC_BOTH_END = 2;
ccui.ListView.MAGNETIC_LEFT = 3;
ccui.ListView.MAGNETIC_RIGHT = 4;
ccui.ListView.MAGNETIC_TOP = 5;
ccui.ListView.MAGNETIC_BOTTOM = 6;
ccui.PageView = ccui.ListView.extend({
	_curPageIdx: 0,
	_childFocusCancelOffset: 0,
	_pageViewEventListener: null,
	_pageViewEventSelector: null,
	_className: "PageView",
	_indicator: null,
	_indicatorPositionAsAnchorPoint: null,
	ctor: function() {
		ccui.ListView.prototype.ctor.call(this);
		this._childFocusCancelOffset = 5;
		this._indicatorPositionAsAnchorPoint = cc.p(0.5, 0.1);
		this._pageViewEventSelector = this._pageViewEventListener = null;
		this.setDirection(ccui.ScrollView.DIR_HORIZONTAL);
		this.setMagneticType(ccui.ListView.MAGNETIC_CENTER);
		this.setScrollBarEnabled(!1)
	},
	addWidgetToPage: function(a, b, c) {
		this.insertCustomItem(a, b)
	},
	addPage: function(a) {
		this.pushBackCustomItem(a)
	},
	insertPage: function(a, b) {
		this.insertCustomItem(a, b)
	},
	removePage: function(a) {
		this.removeItem(this.getIndex(a))
	},
	removePageAtIndex: function(a) {
		this.removeItem(a)
	},
	removeAllPages: function() {
		this.removeAllItems()
	},
	scrollToItem: function(a) {
		ccui.ListView.prototype.scrollToItem.call(this, a, cc.p(0.5, 0.5), cc.p(0.5, 0.5))
	},
	scrollToPage: function(a) {
		this.scrollToItem(a)
	},
	_doLayout: function() {
		if (this._refreshViewDirty) {
			ccui.ListView.prototype._doLayout.call(this);
			if (this._indicator) {
				var a = this.getIndex(this.getCenterItemInCurrentView());
				this._indicator.indicate(a)
			}
			this._refreshViewDirty = !1
		}
	},
	setDirection: function(a) {
		ccui.ListView.prototype.setDirection.call(this, a);
		a === ccui.ScrollView.DIR_HORIZONTAL ? this._indicatorPositionAsAnchorPoint = cc.p(0.5, 0.1) : a === ccui.ScrollView.DIR_VERTICAL && (this._indicatorPositionAsAnchorPoint = cc.p(0.1, 0.5));
		this._indicator && (this._indicator.setDirection(a), this._refreshIndicatorPosition())
	},
	setCustomScrollThreshold: function(a) {},
	getCustomScrollThreshold: function() {
		return 0
	},
	setUsingCustomScrollThreshold: function(a) {},
	isUsingCustomScrollThreshold: function() {
		return !1
	},
	_moveInnerContainer: function(a, b) {
		ccui.ListView.prototype._moveInnerContainer.call(this, a, b);
		this._curPageIdx = this.getIndex(this.getCenterItemInCurrentView());
		this._indicator && this._indicator.indicate(this._curPageIdx)
	},
	_onItemListChanged: function() {
		ccui.ListView.prototype._onItemListChanged.call(this);
		this._indicator && this._indicator.reset(this._items.length)
	},
	_onSizeChanged: function() {
		ccui.ListView.prototype._onSizeChanged.call(this);
		this._refreshIndicatorPosition()
	},
	_remedyLayoutParameter: function(a) {
		a.setContentSize(this.getContentSize());
		ccui.ListView.prototype._remedyLayoutParameter.call(this, a)
	},
	_refreshIndicatorPosition: function() {
		if (this._indicator) {
			var a = this.getContentSize();
			this._indicator.setPosition(cc.p(a.width * this._indicatorPositionAsAnchorPoint.x, a.height * this._indicatorPositionAsAnchorPoint.y))
		}
	},
	_handleReleaseLogic: function(a) {
		ccui.ScrollView.prototype._handleReleaseLogic.call(this,
			a);
		if (!(0 >= this._items.length))
			if (a = this._flattenVectorByDirection(this._calculateTouchMoveVelocity()), 500 > cc.pLength(a)) this._startMagneticScroll();
			else {
				var b = this.getItem(this._curPageIdx),
					b = this._calculateItemDestination(cc.p(0.5, 0.5), b, cc.p(0.5, 0.5)),
					b = cc.pSub(b, this.getInnerContainerPosition()),
					b = this._flattenVectorByDirection(b);
				0 < a.x * b.x || 0 < a.y * b.y ? this._startMagneticScroll() : (0 > a.x || 0 < a.y ? ++this._curPageIdx : --this._curPageIdx, this._curPageIdx = Math.min(this._curPageIdx, this._items.length),
					this._curPageIdx = Math.max(this._curPageIdx, 0), this.scrollToItem(this._curPageIdx))
			}
	},
	_getAutoScrollStopEpsilon: function() {
		return 0.001
	},
	_pageTurningEvent: function() {
		this._pageViewEventSelector && (this._pageViewEventListener ? this._pageViewEventSelector.call(this._pageViewEventListener, this, ccui.PageView.EVENT_TURNING) : this._pageViewEventSelector(this, ccui.PageView.EVENT_TURNING));
		this._ccEventCallback && this._ccEventCallback(this, ccui.PageView.EVENT_TURNING)
	},
	addEventListenerPageView: function(a, b) {
		this._pageViewEventSelector =
			a;
		this._pageViewEventListener = b
	},
	addEventListener: function(a) {
		this._ccEventCallback = function(b, c) {
			c == ccui.ScrollView.EVENT_AUTOSCROLL_ENDED && a(this, c)
		}
	},
	setCurrentPageIndex: function(a) {
		this.jumpToItem(a, cc.p(0.5, 0.5), cc.p(0.5, 0.5))
	},
	setCurPageIndex: function(a) {
		this.setCurrentPageIndex(a)
	},
	getCurrentPageIndex: function() {
		return this._curPageIdx
	},
	getCurPageIndex: function() {
		var a = this.getCenterItemInCurrentView();
		return this.getIndex(a)
	},
	getPages: function() {
		return this.getItems()
	},
	getPage: function(a) {
		return this.getItem(a)
	},
	getDescription: function() {
		return "PageView"
	},
	_createCloneInstance: function() {
		return new ccui.PageView
	},
	_copyClonedWidgetChildren: function(a) {
		a = a.getPages();
		for (var b = 0; b < a.length; b++) this.addPage(a[b].clone())
	},
	_copySpecialProperties: function(a) {
		ccui.ListView.prototype._copySpecialProperties.call(this, a);
		this._ccEventCallback = a._ccEventCallback;
		this._pageViewEventListener = a._pageViewEventListener;
		this._pageViewEventSelector = a._pageViewEventSelector;
		this._customScrollThreshold = a._customScrollThreshold
	},
	setIndicatorEnabled: function(a) {
		a != (null !== this._indicator) && (a ? (this._indicator = new ccui.PageViewIndicator, this._indicator.setDirection(this.getDirection()), this.addProtectedChild(this._indicator, 1E4), this.setIndicatorSelectedIndexColor(cc.color(100, 100, 255)), this._refreshIndicatorPosition()) : (this.removeProtectedChild(this._indicator), this._indicator = null))
	},
	getIndicatorEnabled: function() {
		return null !== this._indicator
	},
	setIndicatorPositionAsAnchorPoint: function(a) {
		this._indicatorPositionAsAnchorPoint =
			a;
		this._refreshIndicatorPosition()
	},
	getIndicatorPositionAsAnchorPoint: function() {
		return this._indicatorPositionAsAnchorPoint
	},
	setIndicatorPosition: function(a) {
		if (this._indicator) {
			var b = this.getContentSize();
			this._indicatorPositionAsAnchorPoint.x = a.x / b.width;
			this._indicatorPositionAsAnchorPoint.y = a.y / b.height;
			this._indicator.setPosition(a)
		}
	},
	getIndicatorPosition: function() {
		cc.assert(null !== this._indicator, "");
		return this._indicator.getPosition()
	},
	setIndicatorSpaceBetweenIndexNodes: function(a) {
		this._indicator &&
			this._indicator.setSpaceBetweenIndexNodes(a)
	},
	getIndicatorSpaceBetweenIndexNodes: function() {
		cc.assert(null !== this._indicator, "");
		return this._indicator.getSpaceBetweenIndexNodes()
	},
	setIndicatorSelectedIndexColor: function(a) {
		this._indicator && this._indicator.setSelectedIndexColor(a)
	},
	getIndicatorSelectedIndexColor: function() {
		cc.assert(null !== this._indicator, "");
		return this._indicator.getSelectedIndexColor()
	},
	setIndicatorIndexNodesColor: function(a) {
		this._indicator && this._indicator.setIndexNodesColor(a)
	},
	getIndicatorIndexNodesColor: function() {
		cc.assert(null !== this._indicator, "");
		return this._indicator.getIndexNodesColor()
	},
	setIndicatorIndexNodesScale: function(a) {
		this._indicator && (this._indicator.setIndexNodesScale(a), this._indicator.indicate(this._curPageIdx))
	},
	getIndicatorIndexNodesScale: function() {
		cc.assert(null !== this._indicator, "");
		return this._indicator.getIndexNodesScale()
	},
	setIndicatorIndexNodesTexture: function(a, b) {
		this._indicator && (this._indicator.setIndexNodesTexture(a, b), this._indicator.indicate(this._curPageIdx))
	}
});
ccui.PageView.create = function() {
	return new ccui.PageView
};
ccui.PageView.EVENT_TURNING = 0;
ccui.PageView.TOUCH_DIR_LEFT = 0;
ccui.PageView.TOUCH_DIR_RIGHT = 1;
ccui.PageView.DIRECTION_LEFT = 0;
ccui.PageView.DIRECTION_RIGHT = 1;
ccui.PageViewIndicator = ccui.ProtectedNode.extend({
	_direction: null,
	_indexNodes: null,
	_currentIndexNode: null,
	_spaceBetweenIndexNodes: 0,
	_indexNodesScale: 1,
	_indexNodesColor: null,
	_useDefaultTexture: !0,
	_indexNodesTextureFile: "",
	_indexNodesTexType: ccui.Widget.LOCAL_TEXTURE,
	_className: "PageViewIndicator",
	ctor: function() {
		cc.ProtectedNode.prototype.ctor.call(this);
		this._direction = ccui.ScrollView.DIR_HORIZONTAL;
		this._indexNodes = [];
		this._spaceBetweenIndexNodes = ccui.PageViewIndicator.SPACE_BETWEEN_INDEX_NODES_DEFAULT;
		this._indexNodesColor = cc.color.WHITE;
		this._currentIndexNode = ccui.helper._createSpriteFromBase64(ccui.PageViewIndicator.CIRCLE_IMAGE, ccui.PageViewIndicator.CIRCLE_IMAGE_KEY);
		this._currentIndexNode.setVisible(!1);
		this.addProtectedChild(this._currentIndexNode, 1)
	},
	setDirection: function(a) {
		this._direction = a;
		this._rearrange()
	},
	reset: function(a) {
		for (; this._indexNodes.length < a;) this._increaseNumberOfPages();
		for (; this._indexNodes.length > a;) this._decreaseNumberOfPages();
		this._rearrange();
		this._currentIndexNode.setVisible(0 <
			this._indexNodes.length)
	},
	indicate: function(a) {
		0 > a || a >= this._indexNodes.length || this._currentIndexNode.setPosition(this._indexNodes[a].getPosition())
	},
	_rearrange: function() {
		if (0 !== this._indexNodes.length)
			for (var a = this._direction === ccui.ScrollView.DIR_HORIZONTAL, b = this._indexNodes[0].getContentSize(), c = a ? b.width : b.height, d = this._indexNodes.length, d = -((c * d + this._spaceBetweenIndexNodes * (d - 1)) / 2) + c / 2, e = 0; e < this._indexNodes.length; ++e) {
				var f;
				f = a ? cc.p(d, b.height / 2) : cc.p(b.width / 2, -d);
				this._indexNodes[e].setPosition(f);
				d += c + this._spaceBetweenIndexNodes
			}
	},
	setSpaceBetweenIndexNodes: function(a) {
		this._spaceBetweenIndexNodes !== a && (this._spaceBetweenIndexNodes = a, this._rearrange())
	},
	getSpaceBetweenIndexNodes: function() {
		return this._spaceBetweenIndexNodes
	},
	setSelectedIndexColor: function(a) {
		this._currentIndexNode.setColor(a)
	},
	getSelectedIndexColor: function() {
		return this._currentIndexNode.getColor()
	},
	setIndexNodesColor: function(a) {
		this._indexNodesColor = a;
		for (var b = 0; b < this._indexNodes.length; ++b) this._indexNodes[b].setColor(a)
	},
	getIndexNodesColor: function() {
		var a = this._indexNodesColor;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	setIndexNodesScale: function(a) {
		if (this._indexNodesScale !== a) {
			this._indexNodesScale = a;
			this._currentIndexNode.setScale(a);
			for (a = 0; a < this._indexNodes.length; ++a) this._indexNodes[a].setScale(this, _indexNodesScale);
			this._rearrange()
		}
	},
	getIndexNodesScale: function() {
		return this._indexNodesScale
	},
	setIndexNodesTexture: function(a, b) {
		void 0 === b && (b = ccui.Widget.LOCAL_TEXTURE);
		this._useDefaultTexture = !1;
		this._indexNodesTextureFile =
			a;
		this._indexNodesTexType = b;
		switch (b) {
			case ccui.Widget.LOCAL_TEXTURE:
				this._currentIndexNode.setTexture(a);
				for (var c = 0; c < this._indexNodes.length; ++c) this._indexNodes[c].setTexture(a);
				break;
			case ccui.Widget.PLIST_TEXTURE:
				for (this._currentIndexNode.setSpriteFrame(a), c = 0; c < this._indexNodes.length; ++c) this._indexNodes[c].setSpriteFrame(a)
		}
		this._rearrange()
	},
	_increaseNumberOfPages: function() {
		var a;
		if (this._useDefaultTexture) a = ccui.helper._createSpriteFromBase64(ccui.PageViewIndicator.CIRCLE_IMAGE, ccui.PageViewIndicator.CIRCLE_IMAGE_KEY);
		else switch (a = new cc.Sprite, this._indexNodesTexType) {
			case ccui.Widget.LOCAL_TEXTURE:
				a.initWithFile(this._indexNodesTextureFile);
				break;
			case ccui.Widget.PLIST_TEXTURE:
				a.initWithSpriteFrameName(this._indexNodesTextureFile)
		}
		a.setColor(this._indexNodesColor);
		a.setScale(this._indexNodesScale);
		this.addProtectedChild(a);
		this._indexNodes.push(a)
	},
	_decreaseNumberOfPages: function() {
		0 !== this._indexNodes.length && (this.removeProtectedChild(this._indexNodes[0]), this._indexNodes.splice(0, 1))
	},
	clear: function() {
		for (var a =
				0; a < this._indexNodes.length; ++a) this.removeProtectedChild(this._indexNodes[a]);
		this._indexNodes.length = 0;
		this._currentIndexNode.setVisible(!1)
	}
});
_p = ccui.PageViewIndicator.prototype;
cc.defineGetterSetter(_p, "spaceBetweenIndexNodes", _p.getSpaceBetweenIndexNodes, _p.setSpaceBetweenIndexNodes);
ccui.PageViewIndicator.SPACE_BETWEEN_INDEX_NODES_DEFAULT = 23;
ccui.PageViewIndicator.CIRCLE_IMAGE_KEY = "/__circle_image";
ccui.PageViewIndicator.CIRCLE_IMAGE = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAA8ElEQVRIx62VyRGCQBBF+6gWRCEmYDIQkhiBCgHhSclC8YqWzOV5oVzKAYZp3r1/9fpbxAIBMTsKrjx5cqVgR0wgLhCRUWOjJiPqD56xoaGPhpRZV/iSEy6crHmw5oIrF9b/lVeMofrJgjlnxlIy/wik+JB+mme8BExbBhm+5CJC2LE2LtSEQoyGWDioBA5CoRIohJtK4CYDxzNEM4GAugR1E9VjVC+SZpXvhCJCrjomESLvc17pDGX7bWmlh6UtpjPVCWy9zaJ0TD7qfm3pwERMz2trRVZk3K3BD/L34AY+dEDCniMVBkPFkT2J/b2/AIV+dRpFLOYoAAAAAElFTkSuQmCC";
(function() {
	if (ccui.ProtectedNode.CanvasRenderCmd) {
		ccui.ScrollView.CanvasRenderCmd = function(a) {
			this._layoutCmdCtor(a);
			this._dirty = !1
		};
		var a = ccui.ScrollView.CanvasRenderCmd.prototype = Object.create(ccui.Layout.CanvasRenderCmd.prototype);
		a.constructor = ccui.ScrollView.CanvasRenderCmd;
		a.rendering = function(a) {
			var c = cc.renderer._cacheToCanvasCmds[this._node.__instanceId],
				d, e = cc.view.getScaleX(),
				f = cc.view.getScaleY(),
				g = a || cc._renderContext;
			g.computeRealOffsetY();
			this._node.updateChildren();
			a = 0;
			for (d = c.length; a <
				d; a++) {
				var h = c[a]._node;
				h instanceof ccui.ScrollView || h && h._parent && !1 === h._parent._inViewRect || c[a].rendering(g, e, f)
			}
		}
	}
})();
(function() {
	if (ccui.ProtectedNode.WebGLRenderCmd) {
		ccui.ScrollView.WebGLRenderCmd = function(a) {
			this._layoutCmdCtor(a);
			this._needDraw = !0;
			this._dirty = !1
		};
		var a = ccui.ScrollView.WebGLRenderCmd.prototype = Object.create(ccui.Layout.WebGLRenderCmd.prototype);
		a.constructor = ccui.ScrollView.WebGLRenderCmd;
		a.rendering = function(a) {
			var c = cc.renderer._cacheToBufferCmds[this._node.__instanceId],
				d, e, f, g = a || cc._renderContext;
			if (c)
				for (this._node.updateChildren(), g.bindBuffer(gl.ARRAY_BUFFER, null), a = 0, d = c.length; a < d; a++) f =
					c[a], e = f._node, e && e._parent && !1 === e._parent._inViewRect || (f.uploadData ? cc.renderer._uploadBufferData(f) : (0 < f._batchingSize && cc.renderer._batchRendering(), f.rendering(g)), cc.renderer._batchRendering())
		}
	}
})();
cc.Component = cc.Class.extend({
	_owner: null,
	_name: "",
	_enabled: !0,
	ctor: function() {
		this._owner = null;
		this._name = "";
		this._enabled = !0
	},
	init: function() {
		return !0
	},
	onEnter: function() {},
	onExit: function() {},
	update: function(a) {},
	serialize: function(a) {},
	isEnabled: function() {
		return this._enabled
	},
	setEnabled: function(a) {
		this._enabled = a
	},
	getName: function() {
		return this._name
	},
	setName: function(a) {
		this._name = a
	},
	setOwner: function(a) {
		this._owner = a
	},
	getOwner: function() {
		return this._owner
	}
});
cc.Component.create = function() {
	return new cc.Component
};
cc.ComponentContainer = cc.Class.extend({
	_components: null,
	_owner: null,
	ctor: function(a) {
		this._components = null;
		this._owner = a
	},
	getComponent: function(a) {
		if (!a) throw Error("cc.ComponentContainer.getComponent(): name should be non-null");
		a = a.trim();
		this._components || (this._components = {});
		return this._components[a]
	},
	add: function(a) {
		if (!a) throw Error("cc.ComponentContainer.add(): component should be non-null");
		if (a.getOwner()) return cc.log("cc.ComponentContainer.add(): Component already added. It can't be added again"),
			!1;
		null == this._components && (this._components = {}, this._owner.scheduleUpdate());
		if (this._components[a.getName()]) return cc.log("cc.ComponentContainer.add(): Component already added. It can't be added again"), !1;
		a.setOwner(this._owner);
		this._components[a.getName()] = a;
		a.onEnter();
		return !0
	},
	remove: function(a) {
		if (!a) throw Error("cc.ComponentContainer.remove(): name should be non-null");
		if (!this._components) return !1;
		if (a instanceof cc.Component) return this._removeByComponent(a);
		a = a.trim();
		return this._removeByComponent(this._components[a])
	},
	_removeByComponent: function(a) {
		if (!a) return !1;
		a.onExit();
		a.setOwner(null);
		delete this._components[a.getName()];
		return !0
	},
	removeAll: function() {
		if (this._components) {
			var a = this._components,
				b;
			for (b in a) {
				var c = a[b];
				c.onExit();
				c.setOwner(null);
				delete a[b]
			}
			this._owner.unscheduleUpdate();
			this._components = null
		}
	},
	_alloc: function() {
		this._components = {}
	},
	visit: function(a) {
		if (this._components) {
			var b = this._components,
				c;
			for (c in b) b[c].update(a)
		}
	},
	isEmpty: function() {
		return this._components ? 0 === this._components.length :
			!0
	}
});
ccui.LayoutComponent_ReferencePoint = {
	BOTTOM_LEFT: 0,
	TOP_LEFT: 1,
	BOTTOM_RIGHT: 2,
	TOP_RIGHT: 3
};
ccui.LayoutComponent_PositionType = {
	Position: 0,
	RelativePosition: 1,
	PreRelativePosition: 2,
	PreRelativePositionEnable: 3
};
ccui.LayoutComponent_SizeType = {
	Size: 0,
	PreSize: 1,
	PreSizeEnable: 2
};
ccui.LayoutComponent = cc.Component.extend({
	_horizontalEdge: 0,
	_verticalEdge: 0,
	_leftMargin: 0,
	_rightMargin: 0,
	_bottomMargin: 0,
	_topMargin: 0,
	_usingPositionPercentX: !1,
	_positionPercentX: 0,
	_usingPositionPercentY: !1,
	_positionPercentY: 0,
	_usingStretchWidth: !1,
	_usingStretchHeight: !1,
	_percentWidth: 0,
	_usingPercentWidth: !1,
	_percentHeight: 0,
	_usingPercentHeight: !1,
	_actived: !0,
	_isPercentOnly: !1,
	ctor: function() {
		this._name = ccui.LayoutComponent.NAME
	},
	init: function() {
		return cc.Component.prototype.init.call(this) ? !0 : !1
	},
	getPercentContentSize: function() {
		return cc.p(this._percentWidth, this._percentHeight)
	},
	setPercentContentSize: function(a) {
		this.setPercentWidth(a.x);
		this.setPercentHeight(a.y)
	},
	setUsingPercentContentSize: function(a) {
		this._usingPercentWidth = this._usingPercentHeight = a
	},
	SetActiveEnable: function(a) {
		this._actived = a
	},
	getUsingPercentContentSize: function() {
		return this._usingPercentWidth && this._usingPercentHeight
	},
	getAnchorPosition: function() {
		return this._owner.getAnchorPoint()
	},
	setAnchorPosition: function(a,
		b) {
		var c = this._owner.getBoundingBox();
		this._owner.setAnchorPoint(a, b);
		var d = this._owner.getBoundingBox(),
			e = c.x - d.x,
			c = c.y - d.y,
			d = this._owner.getPosition();
		d.x += e;
		d.y += c;
		this.setPosition(d)
	},
	getPosition: function() {
		return this._owner.getPosition()
	},
	setPosition: function(a, b) {
		var c = this._getOwnerParent(),
			d;
		null != c ? (void 0 === b ? (d = a.x, b = a.y) : d = a, c = c.getContentSize(), 0 !== c.width ? this._positionPercentX = d / c.width : (this._positionPercentX = 0, this._usingPositionPercentX && (d = 0)), 0 !== c.height ? this._positionPercentY =
			b / c.height : (this._positionPercentY = 0, this._usingPositionPercentY && (b = 0)), this._owner.setPosition(d, b), this._refreshHorizontalMargin(), this._refreshVerticalMargin()) : this._owner.setPosition(a, b)
	},
	isPositionPercentXEnabled: function() {
		return this._usingPositionPercentX
	},
	setPositionPercentXEnabled: function(a) {
		if (this._usingPositionPercentX = a) this._horizontalEdge = ccui.LayoutComponent.horizontalEdge.NONE
	},
	getPositionPercentX: function() {
		return this._positionPercentX
	},
	setPositionPercentX: function(a) {
		this._positionPercentX =
			a;
		a = this._getOwnerParent();
		null !== a && (this._owner.setPositionX(a.width * this._positionPercentX), this._refreshHorizontalMargin())
	},
	isPositionPercentYEnabled: function() {
		return this._usingPositionPercentY
	},
	setPositionPercentYEnabled: function(a) {
		if (this._usingPositionPercentY = a) this._verticalEdge = ccui.LayoutComponent.verticalEdge.NONE
	},
	getPositionPercentY: function() {
		return this._positionPercentY
	},
	setPositionPercentY: function(a) {
		this._positionPercentY = a;
		a = this._getOwnerParent();
		null !== a && (this._owner.setPositionY(a.height *
			this._positionPercentY), this._refreshVerticalMargin())
	},
	getHorizontalEdge: function() {
		return this._horizontalEdge
	},
	setHorizontalEdge: function(a) {
		this._horizontalEdge = a;
		this._horizontalEdge !== ccui.LayoutComponent.horizontalEdge.NONE && (this._usingPositionPercentX = !1);
		var b = this._getOwnerParent();
		null !== b && (a = this._owner.getPosition(), b = b.getContentSize(), 0 !== b.width ? this._positionPercentX = a.x / b.width : (this._positionPercentX = 0, a.x = 0, this._usingPositionPercentX && this._owner.setPosition(a)), this._refreshHorizontalMargin())
	},
	getVerticalEdge: function() {
		return this._verticalEdge
	},
	setVerticalEdge: function(a) {
		this._verticalEdge = a;
		this._verticalEdge !== ccui.LayoutComponent.verticalEdge.NONE && (this._usingPositionPercentY = !1);
		var b = this._getOwnerParent();
		null !== b && (a = this._owner.getPosition(), b = b.getContentSize(), 0 !== b.height ? this._positionPercentY = a.y / b.height : (this._positionPercentY = 0, a.y = 0, this._usingPositionPercentY && this._owner.setPosition(a)), this._refreshVerticalMargin())
	},
	getLeftMargin: function() {
		return this._leftMargin
	},
	setLeftMargin: function(a) {
		this._leftMargin = a
	},
	getRightMargin: function() {
		return this._rightMargin
	},
	setRightMargin: function(a) {
		this._rightMargin = a
	},
	getTopMargin: function() {
		return this._topMargin
	},
	setTopMargin: function(a) {
		this._topMargin = a
	},
	getBottomMargin: function() {
		return this._bottomMargin
	},
	setBottomMargin: function(a) {
		this._bottomMargin = a
	},
	getSize: function() {
		return this.getOwner().getContentSize()
	},
	setSize: function(a) {
		var b = this._getOwnerParent();
		null !== b ? (b = b.getContentSize(), 0 !== b.width ? this._percentWidth =
			a.width / b.width : (this._percentWidth = 0, this._usingPercentWidth && (a.width = 0)), 0 !== b.height ? this._percentHeight = a.height / b.height : (this._percentHeight = 0, this._usingPercentHeight && (a.height = 0)), this._owner.setContentSize(a), this._refreshHorizontalMargin(), this._refreshVerticalMargin()) : this._owner.setContentSize(a)
	},
	isPercentWidthEnabled: function() {
		return this._usingPercentWidth
	},
	setPercentWidthEnabled: function(a) {
		if (this._usingPercentWidth = a) this._usingStretchWidth = !1
	},
	getSizeWidth: function() {
		return this._owner.width
	},
	setSizeWidth: function(a) {
		var b = this._owner.getContentSize();
		b.width = a;
		a = this._getOwnerParent();
		null !== a ? (a = a.getContentSize(), 0 !== a.width ? this._percentWidth = b.width / a.width : (this._percentWidth = 0, this._usingPercentWidth && (b.width = 0)), this._owner.setContentSize(b), this._refreshHorizontalMargin()) : this._owner.setContentSize(b)
	},
	getPercentWidth: function() {
		return this._percentWidth
	},
	setPercentWidth: function(a) {
		this._percentWidth = a;
		a = this._getOwnerParent();
		if (null !== a) {
			var b = this._owner.getContentSize();
			b.width = a.width * this._percentWidth;
			this._owner.setContentSize(b);
			this._refreshHorizontalMargin()
		}
	},
	isPercentHeightEnabled: function() {
		return this._usingPercentHeight
	},
	setPercentHeightEnabled: function(a) {
		if (this._usingPercentHeight = a) this._usingStretchHeight = !1
	},
	getSizeHeight: function() {
		return this._owner.height
	},
	setSizeHeight: function(a) {
		var b = this._owner.getContentSize();
		b.height = a;
		a = this._getOwnerParent();
		null !== a ? (a = a.getContentSize(), 0 !== a.height ? this._percentHeight = b.height / a.height : (this._percentHeight =
			0, this._usingPercentHeight && (b.height = 0)), this._owner.setContentSize(b), this._refreshVerticalMargin()) : this._owner.setContentSize(b)
	},
	getPercentHeight: function() {
		return this._percentHeight
	},
	setPercentHeight: function(a) {
		this._percentHeight = a;
		a = this._getOwnerParent();
		if (null !== a) {
			var b = this._owner.getContentSize();
			b.height = a.height * this._percentHeight;
			this._owner.setContentSize(b);
			this._refreshVerticalMargin()
		}
	},
	isStretchWidthEnabled: function() {
		return this._usingStretchWidth
	},
	setStretchWidthEnabled: function(a) {
		if (this._usingStretchWidth =
			a) this._usingPercentWidth = !1
	},
	isStretchHeightEnabled: function() {
		return this._usingStretchHeight
	},
	setStretchHeightEnabled: function(a) {
		if (this._usingStretchHeight = a) this._usingPercentHeight = !1
	},
	setPercentOnlyEnabled: function(a) {
		this._isPercentOnly = a
	},
	setActiveEnabled: function(a) {
		this._actived = a
	},
	refreshLayout: function() {
		if (this._actived) {
			var a = this._getOwnerParent();
			if (null !== a) {
				var a = a.getContentSize(),
					b = this._owner,
					c = b.getAnchorPoint(),
					d = b.getContentSize(),
					e = b.getPosition();
				switch (this._horizontalEdge) {
					case ccui.LayoutComponent.horizontalEdge.NONE:
						this._usingStretchWidth &&
							!this._isPercentOnly ? (d.width = a.width * this._percentWidth, e.x = this._leftMargin + c.x * d.width) : (this._usingPositionPercentX && (e.x = a.width * this._positionPercentX), this._usingPercentWidth && (d.width = a.width * this._percentWidth));
						break;
					case ccui.LayoutComponent.horizontalEdge.LEFT:
						if (this._isPercentOnly) break;
						if (this._usingPercentWidth || this._usingStretchWidth) d.width = a.width * this._percentWidth;
						e.x = this._leftMargin + c.x * d.width;
						break;
					case ccui.LayoutComponent.horizontalEdge.RIGHT:
						if (this._isPercentOnly) break;
						if (this._usingPercentWidth || this._usingStretchWidth) d.width = a.width * this._percentWidth;
						e.x = a.width - (this._rightMargin + (1 - c.x) * d.width);
						break;
					case ccui.LayoutComponent.horizontalEdge.CENTER:
						if (this._isPercentOnly) break;
						this._usingStretchWidth ? (d.width = a.width - this._leftMargin - this._rightMargin, 0 > d.width && (d.width = 0), e.x = this._leftMargin + c.x * d.width) : (this._usingPercentWidth && (d.width = a.width * this._percentWidth), e.x = a.width * this._positionPercentX)
				}
				switch (this._verticalEdge) {
					case ccui.LayoutComponent.verticalEdge.NONE:
						this._usingStretchHeight &&
							!this._isPercentOnly ? (d.height = a.height * this._percentHeight, e.y = this._bottomMargin + c.y * d.height) : (this._usingPositionPercentY && (e.y = a.height * this._positionPercentY), this._usingPercentHeight && (d.height = a.height * this._percentHeight));
						break;
					case ccui.LayoutComponent.verticalEdge.BOTTOM:
						if (this._isPercentOnly) break;
						if (this._usingPercentHeight || this._usingStretchHeight) d.height = a.height * this._percentHeight;
						e.y = this._bottomMargin + c.y * d.height;
						break;
					case ccui.LayoutComponent.verticalEdge.TOP:
						if (this._isPercentOnly) break;
						if (this._usingPercentHeight || this._usingStretchHeight) d.height = a.height * this._percentHeight;
						e.y = a.height - (this._topMargin + (1 - c.y) * d.height);
						break;
					case ccui.LayoutComponent.verticalEdge.CENTER:
						if (this._isPercentOnly) break;
						this._usingStretchHeight ? (d.height = a.height - this._topMargin - this._bottomMargin, 0 > d.height && (d.height = 0), e.y = this._bottomMargin + c.y * d.height) : (this._usingPercentHeight && (d.height = a.height * this._percentHeight), e.y = a.height * this._positionPercentY)
				}
				b.setPosition(e);
				b.setContentSize(d);
				if (b instanceof ccui.PageView)
					for (b.forceDoLayout(), a = b.getPages(), b = 0; b < a.length; b++) ccui.helper.doLayout(a[b]);
				else ccui.helper.doLayout(b)
			}
		}
	},
	_getOwnerParent: function() {
		return this._owner ? this._owner.getParent() : null
	},
	_refreshHorizontalMargin: function() {
		var a = this._getOwnerParent();
		if (null !== a) {
			var b = this._owner.getPosition(),
				c = this._owner.getAnchorPoint(),
				d = this._owner.getContentSize(),
				a = a.getContentSize();
			this._leftMargin = b.x - c.x * d.width;
			this._rightMargin = a.width - (b.x + (1 - c.x) * d.width)
		}
	},
	_refreshVerticalMargin: function() {
		var a =
			this._getOwnerParent();
		if (null !== a) {
			var b = this._owner.getPosition(),
				c = this._owner.getAnchorPoint(),
				d = this._owner.getContentSize(),
				a = a.getContentSize();
			this._bottomMargin = b.y - c.y * d.height;
			this._topMargin = a.height - (b.y + (1 - c.y) * d.height)
		}
	}
});
ccui.LayoutComponent.horizontalEdge = {
	NONE: 0,
	LEFT: 1,
	RIGHT: 2,
	CENTER: 3
};
ccui.LayoutComponent.verticalEdge = {
	NONE: 0,
	BOTTOM: 1,
	TOP: 2,
	CENTER: 3
};
ccui.LayoutComponent.NAME = "__ui_layout";
ccui.LayoutComponent.bindLayoutComponent = function(a) {
	var b = a.getComponent(ccui.LayoutComponent.NAME);
	if (void 0 !== b) return b;
	b = new ccui.LayoutComponent;
	b.init();
	a.addComponent(b);
	a instanceof ccui.Widget || a.addEventListener && a.addEventListener("load", function() {
		b.refreshLayout()
	}, this);
	return b
};
var ccs = ccs || {};
ccs.Class = ccs.Class || cc.Class;
ccs.Class.extend = ccs.Class.extend || cc.Class.extend;
ccs.Node = ccs.Node || cc.Node;
ccs.Node.extend = ccs.Node.extend || cc.Node.extend;
ccs.Sprite = ccs.Sprite || cc.Sprite;
ccs.Sprite.extend = ccs.Sprite.extend || cc.Sprite.extend;
ccs.Component = ccs.Component || cc.Component;
ccs.Component.extend = ccs.Component.extend || cc.Component.extend;
ccs.cocostudioVersion = "v1.3.0.0";
ccs.VERSION_COMBINED = 0.3;
ccs.VERSION_CHANGE_ROTATION_RANGE = 1;
ccs.VERSION_COLOR_READING = 1.1;
ccs.MAX_VERTEXZ_VALUE = 5E6;
ccs.ARMATURE_MAX_CHILD = 50;
ccs.ARMATURE_MAX_ZORDER = 100;
ccs.ARMATURE_MAX_COUNT = ccs.MAX_VERTEXZ_VALUE / ccs.ARMATURE_MAX_CHILD / ccs.ARMATURE_MAX_ZORDER;
ccs.AUTO_ADD_SPRITE_FRAME_NAME_PREFIX = !1;
ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT = !1;
ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX = !1;
ccs.armatureVersion = function() {
	return "v1.1.0.0"
};
ccs.CONST_VERSION = "version";
ccs.CONST_VERSION_2_0 = 2;
ccs.CONST_VERSION_COMBINED = 0.3;
ccs.CONST_ARMATURES = "armatures";
ccs.CONST_ARMATURE = "armature";
ccs.CONST_BONE = "b";
ccs.CONST_DISPLAY = "d";
ccs.CONST_ANIMATIONS = "animations";
ccs.CONST_ANIMATION = "animation";
ccs.CONST_MOVEMENT = "mov";
ccs.CONST_FRAME = "f";
ccs.CONST_TEXTURE_ATLAS = "TextureAtlas";
ccs.CONST_SUB_TEXTURE = "SubTexture";
ccs.CONST_SKELETON = "skeleton";
ccs.CONST_A_NAME = "name";
ccs.CONST_A_DURATION = "dr";
ccs.CONST_A_FRAME_INDEX = "fi";
ccs.CONST_A_DURATION_TO = "to";
ccs.CONST_A_DURATION_TWEEN = "drTW";
ccs.CONST_A_LOOP = "lp";
ccs.CONST_A_MOVEMENT_SCALE = "sc";
ccs.CONST_A_MOVEMENT_DELAY = "dl";
ccs.CONST_A_DISPLAY_INDEX = "dI";
ccs.CONST_A_PLIST = "plist";
ccs.CONST_A_PARENT = "parent";
ccs.CONST_A_SKEW_X = "kX";
ccs.CONST_A_SKEW_Y = "kY";
ccs.CONST_A_SCALE_X = "cX";
ccs.CONST_A_SCALE_Y = "cY";
ccs.CONST_A_Z = "z";
ccs.CONST_A_EVENT = "evt";
ccs.CONST_A_SOUND = "sd";
ccs.CONST_A_SOUND_EFFECT = "sdE";
ccs.CONST_A_TWEEN_EASING = "twE";
ccs.CONST_A_EASING_PARAM = "twEP";
ccs.CONST_A_TWEEN_ROTATE = "twR";
ccs.CONST_A_IS_ARMATURE = "isArmature";
ccs.CONST_A_DISPLAY_TYPE = "displayType";
ccs.CONST_A_MOVEMENT = "mov";
ccs.CONST_A_X = "x";
ccs.CONST_A_Y = "y";
ccs.CONST_A_COCOS2DX_X = "cocos2d_x";
ccs.CONST_A_COCOS2DX_Y = "cocos2d_y";
ccs.CONST_A_WIDTH = "width";
ccs.CONST_A_HEIGHT = "height";
ccs.CONST_A_PIVOT_X = "pX";
ccs.CONST_A_PIVOT_Y = "pY";
ccs.CONST_A_COCOS2D_PIVOT_X = "cocos2d_pX";
ccs.CONST_A_COCOS2D_PIVOT_Y = "cocos2d_pY";
ccs.CONST_A_BLEND_TYPE = "bd";
ccs.CONST_A_BLEND_SRC = "bd_src";
ccs.CONST_A_BLEND_DST = "bd_dst";
ccs.CONST_A_ALPHA = "a";
ccs.CONST_A_RED = "r";
ccs.CONST_A_GREEN = "g";
ccs.CONST_A_BLUE = "b";
ccs.CONST_A_ALPHA_OFFSET = "aM";
ccs.CONST_A_RED_OFFSET = "rM";
ccs.CONST_A_GREEN_OFFSET = "gM";
ccs.CONST_A_BLUE_OFFSET = "bM";
ccs.CONST_A_COLOR_TRANSFORM = "colorTransform";
ccs.CONST_A_TWEEN_FRAME = "tweenFrame";
ccs.CONST_CONTOUR = "con";
ccs.CONST_CONTOUR_VERTEX = "con_vt";
ccs.CONST_FL_NAN = "NaN";
ccs.CONST_FRAME_DATA = "frame_data";
ccs.CONST_MOVEMENT_BONE_DATA = "mov_bone_data";
ccs.CONST_MOVEMENT_DATA = "mov_data";
ccs.CONST_ANIMATION_DATA = "animation_data";
ccs.CONST_DISPLAY_DATA = "display_data";
ccs.CONST_SKIN_DATA = "skin_data";
ccs.CONST_BONE_DATA = "bone_data";
ccs.CONST_ARMATURE_DATA = "armature_data";
ccs.CONST_CONTOUR_DATA = "contour_data";
ccs.CONST_TEXTURE_DATA = "texture_data";
ccs.CONST_VERTEX_POINT = "vertex";
ccs.CONST_COLOR_INFO = "color";
ccs.CONST_CONFIG_FILE_PATH = "config_file_path";
ccs.CONST_CONTENT_SCALE = "content_scale";
ccs.DataInfo = function() {
	this.asyncStruct = null;
	this.configFileQueue = [];
	this.contentScale = 1;
	this.baseFilePath = this.filename = "";
	this.cocoStudioVersion = this.flashToolVersion = 0
};
ccs.dataReaderHelper = {
	ConfigType: {
		DragonBone_XML: 0,
		CocoStudio_JSON: 1,
		CocoStudio_Binary: 2
	},
	_configFileList: [],
	_flashToolVersion: ccs.CONST_VERSION_2_0,
	_positionReadScale: 1,
	_asyncRefCount: 0,
	_asyncRefTotalCount: 0,
	_dataQueue: null,
	setPositionReadScale: function(a) {
		this._positionReadScale = a
	},
	getPositionReadScale: function() {
		return this._positionReadScale
	},
	addDataFromFile: function(a) {
		if (-1 === this._configFileList.indexOf(a)) {
			this._configFileList.push(a);
			var b = this._initBaseFilePath(a),
				c = cc.path.extname(a).toLowerCase(),
				d = new ccs.DataInfo;
			d.filename = a;
			d.basefilePath = b;
			".xml" === c ? ccs.dataReaderHelper.addDataFromXML(a, d) : ".json" === c || ".exportjson" === c ? ccs.dataReaderHelper.addDataFromJson(a, d) : ".csb" === c && ccs.dataReaderHelper.addDataFromBinaryCache(a, d)
		}
	},
	addDataFromFileAsync: function(a, b, c, d, e) {
		if (-1 !== this._configFileList.indexOf(c)) e && d && (0 === this._asyncRefTotalCount && 0 === this._asyncRefCount ? this._asyncCallBack(d, e, 1) : this._asyncCallBack(d, e, (this._asyncRefTotalCount - this._asyncRefCount) / this._asyncRefTotalCount));
		else {
			this._asyncRefTotalCount++;
			this._asyncRefCount++;
			var f = this;
			cc.director.getScheduler().schedule(function() {
				f.addDataFromFile(c);
				f._asyncRefCount--;
				f._asyncCallBack(d, e, (f._asyncRefTotalCount - f._asyncRefCount) / f._asyncRefTotalCount)
			}, this, 0.1, !1, 0, !1, "armatrueDataHelper")
		}
	},
	removeConfigFile: function(a) {
		for (var b = this._configFileList, c = b.length, d = b[c], e = 0; e < c; e++) b[e] === a && (d = e);
		d !== b[c] && cc.arrayRemoveObject(b, a)
	},
	addDataFromCache: function(a, b) {
		if (a) {
			b.flashToolVersion = parseFloat(a.getAttribute(ccs.CONST_VERSION));
			var c = a.querySelectorAll(ccs.CONST_SKELETON + " \x3e " + ccs.CONST_ARMATURES + " \x3e  " + ccs.CONST_ARMATURE + ""),
				d = ccs.armatureDataManager,
				e;
			for (e = 0; e < c.length; e++) {
				var f = this.decodeArmature(c[e], b);
				d.addArmatureData(f.name, f, b.filename)
			}
			c = a.querySelectorAll(ccs.CONST_SKELETON + " \x3e " + ccs.CONST_ANIMATIONS + " \x3e  " + ccs.CONST_ANIMATION + "");
			for (e = 0; e < c.length; e++) f = this.decodeAnimation(c[e], b), d.addAnimationData(f.name, f, b.filename);
			c = a.querySelectorAll(ccs.CONST_SKELETON + " \x3e " + ccs.CONST_TEXTURE_ATLAS +
				" \x3e  " + ccs.CONST_SUB_TEXTURE + "");
			for (e = 0; e < c.length; e++) f = this.decodeTexture(c[e], b), d.addTextureData(f.name, f, b.filename)
		} else cc.log("XML error  or  XML is empty.")
	},
	decodeArmature: function(a, b) {
		var c = new ccs.ArmatureData;
		c.init();
		c.name = a.getAttribute(ccs.CONST_A_NAME);
		for (var d = a.querySelectorAll(ccs.CONST_ARMATURE + " \x3e " + ccs.CONST_BONE), e = 0; e < d.length; e++) {
			var f = d[e],
				g = f.getAttribute(ccs.CONST_A_PARENT),
				h = null;
			if (g)
				for (var k = 0; k < d.length && (h = d[k], g != d[k].getAttribute(ccs.CONST_A_NAME)); k++);
			f = this.decodeBone(f, h, b);
			c.addBoneData(f)
		}
		return c
	},
	decodeArmatureFromJSON: function(a, b) {
		var c = new ccs.ArmatureData;
		c.init();
		var d = a[ccs.CONST_A_NAME];
		d && (c.name = d);
		b.cocoStudioVersion = c.dataVersion = a[ccs.CONST_VERSION] || 0.1;
		for (var d = a[ccs.CONST_BONE_DATA], e = 0; e < d.length; e++) {
			var f = this.decodeBoneFromJson(d[e], b);
			c.addBoneData(f)
		}
		return c
	},
	decodeBone: function(a, b, c) {
		b = new ccs.BoneData;
		b.init();
		b.name = a.getAttribute(ccs.CONST_A_NAME);
		b.parentName = a.getAttribute(ccs.CONST_A_PARENT) || "";
		b.zOrder = parseInt(a.getAttribute(ccs.CONST_A_Z)) ||
			0;
		a = a.querySelectorAll(ccs.CONST_BONE + " \x3e " + ccs.CONST_DISPLAY);
		for (var d = 0; d < a.length; d++) {
			var e = this.decodeBoneDisplay(a[d], c);
			b.addDisplayData(e)
		}
		return b
	},
	decodeBoneFromJson: function(a, b) {
		var c = new ccs.BoneData;
		c.init();
		this.decodeNodeFromJson(c, a, b);
		c.name = a[ccs.CONST_A_NAME] || "";
		c.parentName = a[ccs.CONST_A_PARENT] || "";
		for (var d = a[ccs.CONST_DISPLAY_DATA] || [], e = 0; e < d.length; e++) {
			var f = this.decodeBoneDisplayFromJson(d[e], b);
			c.addDisplayData(f)
		}
		return c
	},
	decodeBoneDisplay: function(a, b) {
		var c = null;
		1 === (parseFloat(a.getAttribute(ccs.CONST_A_IS_ARMATURE)) || 0) ? (c = new ccs.ArmatureDisplayData, c.displayType = ccs.DISPLAY_TYPE_ARMATURE) : (c = new ccs.SpriteDisplayData, c.displayType = ccs.DISPLAY_TYPE_SPRITE);
		var d = a.getAttribute(ccs.CONST_A_NAME) || "";
		d && (c.displayName = d);
		return c
	},
	decodeBoneDisplayFromJson: function(a, b) {
		var c = a[ccs.CONST_A_DISPLAY_TYPE] || ccs.DISPLAY_TYPE_SPRITE,
			d = null;
		switch (c) {
			case ccs.DISPLAY_TYPE_SPRITE:
				var d = new ccs.SpriteDisplayData,
					e = a[ccs.CONST_A_NAME];
				null != e && (d.displayName = e);
				if (e = (a[ccs.CONST_SKIN_DATA] || [])[0]) {
					var f = d.skinData;
					f.x = e[ccs.CONST_A_X] * this._positionReadScale;
					f.y = e[ccs.CONST_A_Y] * this._positionReadScale;
					f.scaleX = null == e[ccs.CONST_A_SCALE_X] ? 1 : e[ccs.CONST_A_SCALE_X];
					f.scaleY = null == e[ccs.CONST_A_SCALE_Y] ? 1 : e[ccs.CONST_A_SCALE_Y];
					f.skewX = null == e[ccs.CONST_A_SKEW_X] ? 1 : e[ccs.CONST_A_SKEW_X];
					f.skewY = null == e[ccs.CONST_A_SKEW_Y] ? 1 : e[ccs.CONST_A_SKEW_Y];
					f.x *= b.contentScale;
					f.y *= b.contentScale
				}
				break;
			case ccs.DISPLAY_TYPE_ARMATURE:
				d = new ccs.ArmatureDisplayData;
				e = a[ccs.CONST_A_NAME];
				null != e && (d.displayName = a[ccs.CONST_A_NAME]);
				break;
			case ccs.DISPLAY_TYPE_PARTICLE:
				d = new ccs.ParticleDisplayData;
				e = a[ccs.CONST_A_PLIST];
				null != e && (d.displayName = b.asyncStruct ? b.asyncStruct.basefilePath + e : b.basefilePath + e);
				break;
			default:
				d = new ccs.SpriteDisplayData
		}
		d.displayType = c;
		return d
	},
	decodeAnimation: function(a, b) {
		var c = new ccs.AnimationData,
			d = a.getAttribute(ccs.CONST_A_NAME),
			e = ccs.armatureDataManager.getArmatureData(d);
		c.name = d;
		for (var d = a.querySelectorAll(ccs.CONST_ANIMATION + " \x3e " + ccs.CONST_MOVEMENT),
				f = null, g = 0; g < d.length; g++) f = d[g], f = this.decodeMovement(f, e, b), c.addMovement(f);
		return c
	},
	decodeAnimationFromJson: function(a, b) {
		var c = new ccs.AnimationData;
		a[ccs.CONST_A_NAME] && (c.name = a[ccs.CONST_A_NAME]);
		for (var d = a[ccs.CONST_MOVEMENT_DATA] || [], e = 0; e < d.length; e++) {
			var f = this.decodeMovementFromJson(d[e], b);
			c.addMovement(f)
		}
		return c
	},
	decodeMovement: function(a, b, c) {
		var d = new ccs.MovementData;
		d.name = a.getAttribute(ccs.CONST_A_NAME);
		var e;
		e = 0;
		e = a.getAttribute(ccs.CONST_A_DURATION);
		d.duration = null == e ?
			0 : parseFloat(e);
		e = a.getAttribute(ccs.CONST_A_DURATION_TO);
		d.durationTo = null == e ? 0 : parseFloat(e);
		e = a.getAttribute(ccs.CONST_A_DURATION_TWEEN);
		d.durationTween = null == e ? 0 : parseFloat(e);
		e = a.getAttribute(ccs.CONST_A_LOOP);
		d.loop = e ? Boolean(parseFloat(e)) : !0;
		if (e = a.getAttribute(ccs.CONST_A_TWEEN_EASING)) e != ccs.CONST_FL_NAN ? (e = null == e ? 0 : parseFloat(e), d.tweenEasing = 2 === e ? ccs.TweenType.SINE_EASEINOUT : e) : d.tweenEasing = ccs.TweenType.LINEAR;
		a = a.querySelectorAll(ccs.CONST_MOVEMENT + " \x3e " + ccs.CONST_BONE);
		var f =
			null;
		for (e = 0; e < a.length; e++) {
			var f = a[e],
				g = f.getAttribute(ccs.CONST_A_NAME);
			if (!d.getMovementBoneData(g)) {
				var g = b.getBoneData(g),
					h = g.parentName,
					k = null;
				if ("" !== h)
					for (var m = 0; m < a.length && (k = a[m], h !== k.getAttribute(ccs.CONST_A_NAME)); m++);
				f = this.decodeMovementBone(f, k, g, c);
				d.addMovementBoneData(f)
			}
		}
		return d
	},
	decodeMovementFromJson: function(a, b) {
		var c = new ccs.MovementData;
		c.loop = null == a[ccs.CONST_A_LOOP] ? !1 : a[ccs.CONST_A_LOOP];
		c.durationTween = a[ccs.CONST_A_DURATION_TWEEN] || 0;
		c.durationTo = a[ccs.CONST_A_DURATION_TO] ||
			0;
		c.duration = a[ccs.CONST_A_DURATION] || 0;
		c.scale = null == a[ccs.CONST_A_DURATION] ? 1 : null == a[ccs.CONST_A_MOVEMENT_SCALE] ? 1 : a[ccs.CONST_A_MOVEMENT_SCALE];
		c.tweenEasing = null == a[ccs.CONST_A_TWEEN_EASING] ? ccs.TweenType.LINEAR : a[ccs.CONST_A_TWEEN_EASING];
		var d = a[ccs.CONST_A_NAME];
		d && (c.name = d);
		for (var d = a[ccs.CONST_MOVEMENT_BONE_DATA] || [], e = 0; e < d.length; e++) {
			var f = this.decodeMovementBoneFromJson(d[e], b);
			c.addMovementBoneData(f)
		}
		return c
	},
	decodeMovementBone: function(a, b, c, d) {
		var e = new ccs.MovementBoneData;
		e.init();
		var f;
		a && (f = parseFloat(a.getAttribute(ccs.CONST_A_MOVEMENT_SCALE)) || 0, e.scale = f, f = parseFloat(a.getAttribute(ccs.CONST_A_MOVEMENT_DELAY)) || 0, 0 < f && (f -= 1), e.delay = f);
		var g = 0,
			h = f = 0,
			k = null,
			m = [];
		if (null != b) {
			for (var n = b.querySelectorAll(ccs.CONST_BONE + " \x3e " + ccs.CONST_FRAME), g = 0; g < n.length; g++) m.push(n[g]);
			g = m.length
		}
		e.name = a.getAttribute(ccs.CONST_A_NAME);
		a = a.querySelectorAll(ccs.CONST_BONE + " \x3e " + ccs.CONST_FRAME);
		for (var p = n = 0, r = 0; r < a.length; r++) {
			var t = a[r];
			if (b)
				for (; n < g && (k ? p < f || p >= f + h : 1);) k = m[n],
					f += h, h = parseFloat(k.getAttribute(ccs.CONST_A_DURATION)), n++;
			t = this.decodeFrame(t, k, c, d);
			e.addFrameData(t);
			t.frameID = p;
			p += t.duration;
			e.duration = p
		}
		b = e.frameList;
		c = Math.PI;
		for (g = b.length - 1; 0 <= g; g--)
			if (0 < g) {
				d = b[g].skewX - b[g - 1].skewX;
				f = b[g].skewY - b[g - 1].skewY;
				if (d < -c || d > c) b[g - 1].skewX = 0 > d ? b[g - 1].skewX - 2 * c : b[g - 1].skewX + 2 * c;
				if (f < -c || f > c) b[g - 1].skewY = 0 > f ? b[g - 1].skewY - 2 * c : b[g - 1].skewY + 2 * c
			} b = new ccs.FrameData;
		b.copy(e.frameList[e.frameList.length - 1]);
		b.frameID = e.duration;
		e.addFrameData(b);
		return e
	},
	decodeMovementBoneFromJson: function(a,
		b) {
		var c = new ccs.MovementBoneData;
		c.init();
		c.delay = a[ccs.CONST_A_MOVEMENT_DELAY] || 0;
		var d = a[ccs.CONST_A_NAME];
		d && (c.name = d);
		for (var e = (a[ccs.CONST_FRAME_DATA] || []).length, d = 0; d < e; d++) {
			var f = this.decodeFrameFromJson(a[ccs.CONST_FRAME_DATA][d], b);
			c.addFrameData(f);
			b.cocoStudioVersion < ccs.CONST_VERSION_COMBINED && (f.frameID = c.duration, c.duration += f.duration)
		}
		if (b.cocoStudioVersion < ccs.VERSION_CHANGE_ROTATION_RANGE)
			for (e = c.frameList, f = Math.PI, d = e.length - 1; 0 <= d; d--)
				if (0 < d) {
					var g = e[d].skewX - e[d - 1].skewX,
						h = e[d].skewY - e[d - 1].skewY;
					if (g < -f || g > f) e[d - 1].skewX = 0 > g ? e[d - 1].skewX - 2 * f : e[d - 1].skewX + 2 * f;
					if (h < -f || h > f) e[d - 1].skewY = 0 > h ? e[d - 1].skewY - 2 * f : e[d - 1].skewY + 2 * f
				} b.cocoStudioVersion < ccs.CONST_VERSION_COMBINED && 0 < c.frameList.length && (f = new ccs.FrameData, f.copy(c.frameList[c.frameList.length - 1]), c.addFrameData(f), f.frameID = c.duration);
		return c
	},
	decodeFrame: function(a, b, c, d) {
		var e = 0,
			e = e = e = e = e = e = e = e = e = e = e = 0;
		c = new ccs.FrameData;
		c.strMovement = a.getAttribute(ccs.CONST_A_MOVEMENT) || "";
		c.movement = c.strMovement;
		c.strEvent =
			a.getAttribute(ccs.CONST_A_EVENT) || "";
		c.event = c.strEvent;
		c.strSound = a.getAttribute(ccs.CONST_A_SOUND) || "";
		c.sound = c.strSound;
		c.strSoundEffect = a.getAttribute(ccs.CONST_A_SOUND_EFFECT) || "";
		c.soundEffect = c.strSoundEffect;
		e = a.getAttribute(ccs.CONST_A_TWEEN_FRAME);
		c.isTween = !(void 0 !== e && ("false" === e || "0" === e));
		if (d.flashToolVersion >= ccs.CONST_VERSION_2_0) {
			if (e = a.getAttribute(ccs.CONST_A_COCOS2DX_X)) c.x = parseFloat(e), c.x *= this._positionReadScale;
			e = a.getAttribute(ccs.CONST_A_COCOS2DX_Y)
		} else {
			if (e = a.getAttribute(ccs.CONST_A_X)) c.x =
				parseFloat(e), c.x *= this._positionReadScale;
			e = a.getAttribute(ccs.CONST_A_Y)
		}
		e && (c.y = -parseFloat(e), c.y *= this._positionReadScale);
		e = a.getAttribute(ccs.CONST_A_SCALE_X);
		null != e && (c.scaleX = parseFloat(e));
		e = a.getAttribute(ccs.CONST_A_SCALE_Y);
		null != e && (c.scaleY = parseFloat(e));
		e = a.getAttribute(ccs.CONST_A_SKEW_X);
		null != e && (c.skewX = cc.degreesToRadians(parseFloat(e)));
		e = a.getAttribute(ccs.CONST_A_SKEW_Y);
		null != e && (c.skewY = cc.degreesToRadians(-parseFloat(e)));
		e = a.getAttribute(ccs.CONST_A_DURATION);
		null != e &&
			(c.duration = parseFloat(e));
		e = a.getAttribute(ccs.CONST_A_DISPLAY_INDEX);
		null != e && (c.displayIndex = parseFloat(e));
		e = a.getAttribute(ccs.CONST_A_Z);
		null != e && (c.zOrder = parseInt(e));
		e = a.getAttribute(ccs.CONST_A_TWEEN_ROTATE);
		null != e && (c.tweenRotate = parseFloat(e));
		e = a.getAttribute(ccs.CONST_A_BLEND_TYPE);
		if (null != e) {
			var f = c.blendFunc;
			switch (e) {
				case ccs.BLEND_TYPE_NORMAL:
					f.src = cc.BLEND_SRC;
					f.dst = cc.BLEND_DST;
					break;
				case ccs.BLEND_TYPE_ADD:
					f.src = cc.SRC_ALPHA;
					f.dst = cc.ONE;
					break;
				case ccs.BLEND_TYPE_MULTIPLY:
					f.src =
						cc.DST_COLOR;
					f.dst = cc.ONE_MINUS_SRC_ALPHA;
					break;
				case ccs.BLEND_TYPE_SCREEN:
					f.src = cc.ONE;
					f.dst = cc.ONE_MINUS_DST_COLOR;
					break;
				default:
					c.blendFunc.src = cc.BLEND_SRC, c.blendFunc.dst = cc.BLEND_DST
			}
		}
		var g = a.querySelectorAll(ccs.CONST_FRAME + " \x3e " + ccs.CONST_A_COLOR_TRANSFORM);
		if (g && 0 < g.length) {
			var g = g[0],
				h, k, m, n, p, e = parseFloat(g.getAttribute(ccs.CONST_A_ALPHA)) || 0,
				f = parseFloat(g.getAttribute(ccs.CONST_A_RED)) || 0;
			h = parseFloat(g.getAttribute(ccs.CONST_A_GREEN)) || 0;
			k = parseFloat(g.getAttribute(ccs.CONST_A_BLUE)) ||
				0;
			m = parseFloat(g.getAttribute(ccs.CONST_A_ALPHA_OFFSET)) || 0;
			n = parseFloat(g.getAttribute(ccs.CONST_A_RED_OFFSET)) || 0;
			p = parseFloat(g.getAttribute(ccs.CONST_A_GREEN_OFFSET)) || 0;
			g = parseFloat(g.getAttribute(ccs.CONST_A_BLUE_OFFSET)) || 0;
			c.a = 2.55 * m + e;
			c.r = 2.55 * n + f;
			c.g = 2.55 * p + h;
			c.b = 2.55 * g + k;
			c.isUseColorInfo = !0
		}
		e = a.getAttribute(ccs.CONST_A_TWEEN_EASING);
		null != e && (e != ccs.CONST_FL_NAN ? (e = a.getAttribute(ccs.CONST_A_TWEEN_EASING)) && (c.tweenEasing = 2 === e ? ccs.TweenType.SINE_EASEINOUT : e) : c.tweenEasing = ccs.TweenType.LINEAR);
		b && (a = new ccs.BaseData, d.flashToolVersion >= ccs.CONST_VERSION_2_0 ? (a.x = parseFloat(b.getAttribute(ccs.CONST_A_COCOS2DX_X)), a.y = parseFloat(b.getAttribute(ccs.CONST_A_COCOS2DX_Y))) : (a.x = parseFloat(b.getAttribute(ccs.CONST_A_X)), a.y = parseFloat(b.getAttribute(ccs.CONST_A_Y))), a.skewX = parseFloat(b.getAttribute(ccs.CONST_A_SKEW_X)), a.skewY = parseFloat(b.getAttribute(ccs.CONST_A_SKEW_Y)), a.y = -a.y, a.skewX = cc.degreesToRadians(a.skewX), a.skewY = cc.degreesToRadians(-a.skewY), ccs.TransformHelp.transformFromParent(c,
			a));
		return c
	},
	decodeFrameFromJson: function(a, b) {
		var c = new ccs.FrameData;
		this.decodeNodeFromJson(c, a, b);
		c.tweenEasing = a[ccs.CONST_A_TWEEN_EASING] || ccs.TweenType.LINEAR;
		c.displayIndex = a[ccs.CONST_A_DISPLAY_INDEX];
		var d = null == a[ccs.CONST_A_BLEND_DST] ? cc.BLEND_DST : a[ccs.CONST_A_BLEND_DST];
		c.blendFunc.src = null == a[ccs.CONST_A_BLEND_SRC] ? cc.BLEND_SRC : a[ccs.CONST_A_BLEND_SRC];
		c.blendFunc.dst = d;
		c.isTween = null == a[ccs.CONST_A_TWEEN_FRAME] ? !0 : a[ccs.CONST_A_TWEEN_FRAME];
		d = a[ccs.CONST_A_EVENT];
		null != d && (c.strEvent =
			d, c.event = d);
		b.cocoStudioVersion < ccs.CONST_VERSION_COMBINED ? c.duration = null == a[ccs.CONST_A_DURATION] ? 1 : a[ccs.CONST_A_DURATION] : c.frameID = a[ccs.CONST_A_FRAME_INDEX];
		for (var d = a[ccs.CONST_A_EASING_PARAM] || [], e = 0; e < d.length; e++) c.easingParams[e] = d[e];
		return c
	},
	decodeTexture: function(a, b) {
		var c = new ccs.TextureData;
		c.init();
		a.getAttribute(ccs.CONST_A_NAME) && (c.name = a.getAttribute(ccs.CONST_A_NAME));
		var d, e;
		b.flashToolVersion >= ccs.CONST_VERSION_2_0 ? (d = parseFloat(a.getAttribute(ccs.CONST_A_COCOS2D_PIVOT_X)) ||
			0, e = parseFloat(a.getAttribute(ccs.CONST_A_COCOS2D_PIVOT_Y)) || 0) : (d = parseFloat(a.getAttribute(ccs.CONST_A_PIVOT_X)) || 0, e = parseFloat(a.getAttribute(ccs.CONST_A_PIVOT_Y)) || 0);
		var f = parseFloat(a.getAttribute(ccs.CONST_A_WIDTH)) || 0,
			g = parseFloat(a.getAttribute(ccs.CONST_A_HEIGHT)) || 0;
		c.pivotX = d / f;
		c.pivotY = (g - e) / g;
		d = a.querySelectorAll(ccs.CONST_SUB_TEXTURE + " \x3e " + ccs.CONST_CONTOUR);
		for (e = 0; e < d.length; e++) c.addContourData(this.decodeContour(d[e], b));
		return c
	},
	decodeTextureFromJson: function(a) {
		var b = new ccs.TextureData;
		b.init();
		var c = a[ccs.CONST_A_NAME];
		null != c && (b.name = c);
		b.width = a[ccs.CONST_A_WIDTH] || 0;
		b.height = a[ccs.CONST_A_HEIGHT] || 0;
		b.pivotX = a[ccs.CONST_A_PIVOT_X] || 0;
		b.pivotY = a[ccs.CONST_A_PIVOT_Y] || 0;
		a = a[ccs.CONST_CONTOUR_DATA] || [];
		for (c = 0; c < a.length; c++) b.contourDataList.push(this.decodeContourFromJson(a[c]));
		return b
	},
	decodeContour: function(a, b) {
		var c = new ccs.ContourData;
		c.init();
		for (var d = a.querySelectorAll(ccs.CONST_CONTOUR + " \x3e " + ccs.CONST_CONTOUR_VERTEX), e, f = 0; f < d.length; f++) {
			e = d[f];
			var g = cc.p(0, 0);
			g.x = parseFloat(e.getAttribute(ccs.CONST_A_X)) || 0;
			g.y = parseFloat(e.getAttribute(ccs.CONST_A_Y)) || 0;
			g.y = -g.y;
			c.vertexList.push(g)
		}
		return c
	},
	decodeContourFromJson: function(a) {
		var b = new ccs.ContourData;
		b.init();
		a = a[ccs.CONST_VERTEX_POINT] || [];
		for (var c = a.length, d = 0; d < c; d++) {
			var e = a[d],
				f = cc.p(0, 0);
			f.x = e[ccs.CONST_A_X] || 0;
			f.y = e[ccs.CONST_A_Y] || 0;
			b.vertexList.push(f)
		}
		return b
	},
	addDataFromJsonCache: function(a, b) {
		b.contentScale = null == a[ccs.CONST_CONTENT_SCALE] ? 1 : a[ccs.CONST_CONTENT_SCALE];
		var c = a[ccs.CONST_ARMATURE_DATA] || [],
			d, e;
		for (d = 0; d < c.length; d++) e = this.decodeArmatureFromJSON(c[d], b), ccs.armatureDataManager.addArmatureData(e.name, e, b.filename);
		c = a[ccs.CONST_ANIMATION_DATA] || [];
		for (d = 0; d < c.length; d++) e = this.decodeAnimationFromJson(c[d], b), ccs.armatureDataManager.addAnimationData(e.name, e, b.filename);
		c = a[ccs.CONST_TEXTURE_DATA] || [];
		for (d = 0; d < c.length; d++) e = this.decodeTextureFromJson(c[d], b), ccs.armatureDataManager.addTextureData(e.name, e, b.filename);
		if (null == b.asyncStruct ? ccs.armatureDataManager.isAutoLoadSpriteFile() :
			b.asyncStruct.autoLoadSpriteFile) {
			var c = a[ccs.CONST_CONFIG_FILE_PATH] || [],
				f;
			for (d = 0; d < c.length; d++) e = c[d], f = e.lastIndexOf("."), e = e.substring(0, f), f = b.basefilePath + e + ".plist", e = b.basefilePath + e + ".png", ccs.armatureDataManager.addSpriteFrameFromFile(f, e, b.filename)
		}
	},
	decodeNodeFromJson: function(a, b, c) {
		a.x = b[ccs.CONST_A_X] * this._positionReadScale;
		a.y = b[ccs.CONST_A_Y] * this._positionReadScale;
		a.x *= c.contentScale;
		a.y *= c.contentScale;
		a.zOrder = b[ccs.CONST_A_Z];
		a.skewX = b[ccs.CONST_A_SKEW_X] || 0;
		a.skewY = b[ccs.CONST_A_SKEW_Y] ||
			0;
		a.scaleX = null == b[ccs.CONST_A_SCALE_X] ? 1 : b[ccs.CONST_A_SCALE_X];
		a.scaleY = null == b[ccs.CONST_A_SCALE_Y] ? 1 : b[ccs.CONST_A_SCALE_Y];
		if (b = c.cocoStudioVersion < ccs.VERSION_COLOR_READING ? b[0] : b[ccs.CONST_COLOR_INFO] || null) a.a = null == b[ccs.CONST_A_ALPHA] ? 255 : b[ccs.CONST_A_ALPHA], a.r = null == b[ccs.CONST_A_RED] ? 255 : b[ccs.CONST_A_RED], a.g = null == b[ccs.CONST_A_GREEN] ? 255 : b[ccs.CONST_A_GREEN], a.b = null == b[ccs.CONST_A_BLUE] ? 255 : b[ccs.CONST_A_BLUE], a.isUseColorInfo = !0
	},
	clear: function() {
		this._configFileList = [];
		this._asyncRefTotalCount =
			this._asyncRefCount = 0
	},
	_asyncCallBack: function(a, b, c) {
		a && cc.isFunction(a) && a.call(b, c);
		if (b && a && "string" === typeof a) b[a](c)
	},
	_initBaseFilePath: function(a) {
		var b = a.lastIndexOf("/");
		return a = -1 < b ? a.substr(0, b + 1) : ""
	},
	addDataFromXML: function(a, b) {
		var c = cc.loader.getRes(a);
		if (!c) throw Error("Please load the resource first : " + a);
		(c = cc.saxParser.parse(c).documentElement) && this.addDataFromCache(c, b)
	},
	addDataFromJson: function(a, b) {
		var c = cc.loader.getRes(a);
		this.addDataFromJsonCache(c, b)
	}
};
ccs.spriteFrameCacheHelper = {
	_textureAtlasDic: {},
	_imagePaths: [],
	addSpriteFrameFromFile: function(a, b) {
		cc.spriteFrameCache.addSpriteFrames(a, b)
	},
	getTextureAtlasWithTexture: function(a) {
		return null
	},
	clear: function() {
		this._textureAtlasDic = {};
		this._imagePaths = []
	}
};
ccs.TransformHelp = ccs.TransformHelp || ccs.Class.extend({});
ccs.TransformHelp.helpMatrix1 = cc.affineTransformMake(1, 0, 0, 1, 0, 0);
ccs.TransformHelp.helpMatrix2 = cc.affineTransformMake(1, 0, 0, 1, 0, 0);
ccs.TransformHelp.helpPoint1 = cc.p(0, 0);
ccs.TransformHelp.helpPoint2 = cc.p(0, 0);
ccs.TransformHelp.helpParentNode = {};
ccs.TransformHelp.transformFromParent = function(a, b) {
	this.nodeToMatrix(a, this.helpMatrix1);
	this.nodeToMatrix(b, this.helpMatrix2);
	this.helpMatrix2 = cc.affineTransformInvert(this.helpMatrix2);
	this.helpMatrix1 = cc.affineTransformConcat(this.helpMatrix1, this.helpMatrix2);
	this.matrixToNode(this.helpMatrix1, a)
};
ccs.TransformHelp.transformToParent = function(a, b) {
	this.nodeToMatrix(a, this.helpMatrix1);
	this.nodeToMatrix(b, this.helpMatrix2);
	this.helpMatrix1 = cc.affineTransformConcat(this.helpMatrix1, this.helpMatrix2);
	this.matrixToNode(this.helpMatrix1, a)
};
ccs.TransformHelp.transformFromParentWithoutScale = function(a, b) {
	for (var c in b) this.helpParentNode[c] = b[c];
	this.helpParentNode.scaleX = 1;
	this.helpParentNode.scaleY = 1;
	this.nodeToMatrix(a, this.helpMatrix1);
	this.nodeToMatrix(this.helpParentNode, this.helpMatrix2);
	this.helpMatrix2 = cc.affineTransformInvert(this.helpMatrix2);
	this.helpMatrix1 = cc.affineTransformConcat(this.helpMatrix1, this.helpMatrix2);
	this.matrixToNode(this.helpMatrix1, a)
};
ccs.TransformHelp.transformToParentWithoutScale = function(a, b) {
	for (var c in b) this.helpParentNode[c] = b[c];
	this.helpParentNode.scaleX = 1;
	this.helpParentNode.scaleY = 1;
	this.nodeToMatrix(a, this.helpMatrix1);
	this.nodeToMatrix(this.helpParentNode, this.helpMatrix2);
	this.helpMatrix1 = cc.affineTransformConcat(this.helpMatrix1, this.helpMatrix2);
	this.matrixToNode(this.helpMatrix1, a)
};
ccs.TransformHelp.nodeToMatrix = function(a, b) {
	if (a.skewX === -a.skewY) {
		var c = Math.sin(a.skewX),
			d = Math.cos(a.skewX);
		b.a = a.scaleX * d;
		b.b = a.scaleX * -c;
		b.c = a.scaleY * c;
		b.d = a.scaleY * d
	} else b.a = a.scaleX * Math.cos(a.skewY), b.b = a.scaleX * Math.sin(a.skewY), b.c = a.scaleY * Math.sin(a.skewX), b.d = a.scaleY * Math.cos(a.skewX);
	b.tx = a.x;
	b.ty = a.y
};
ccs.TransformHelp.matrixToNode = function(a, b) {
	this.helpPoint1.x = 0;
	this.helpPoint1.y = 1;
	this.helpPoint1 = cc.pointApplyAffineTransform(this.helpPoint1, a);
	this.helpPoint1.x -= a.tx;
	this.helpPoint1.y -= a.ty;
	this.helpPoint2.x = 1;
	this.helpPoint2.y = 0;
	this.helpPoint2 = cc.pointApplyAffineTransform(this.helpPoint2, a);
	this.helpPoint2.x -= a.tx;
	this.helpPoint2.y -= a.ty;
	b.skewX = -(Math.atan2(this.helpPoint1.y, this.helpPoint1.x) - 1.5707964);
	b.skewY = Math.atan2(this.helpPoint2.y, this.helpPoint2.x);
	b.scaleX = Math.sqrt(a.a * a.a +
		a.b * a.b);
	b.scaleY = Math.sqrt(a.c * a.c + a.d * a.d);
	b.x = a.tx;
	b.y = a.ty
};
ccs.TransformHelp.nodeConcat = function(a, b) {
	a.x += b.x;
	a.y += b.y;
	a.skewX += b.skewX;
	a.skewY += b.skewY;
	a.scaleX += b.scaleX;
	a.scaleY += b.scaleY
};
ccs.TransformHelp.nodeSub = function(a, b) {
	a.x -= b.x;
	a.y -= b.y;
	a.skewX -= b.skewX;
	a.skewY -= b.skewY;
	a.scaleX -= b.scaleX;
	a.scaleY -= b.scaleY
};
ccs.TweenType = {
	CUSTOM_EASING: -1,
	LINEAR: 0,
	SINE_EASEIN: 1,
	SINE_EASEOUT: 2,
	SINE_EASEINOUT: 3,
	QUAD_EASEIN: 4,
	QUAD_EASEOUT: 5,
	QUAD_EASEINOUT: 6,
	CUBIC_EASEIN: 7,
	CUBIC_EASEOUT: 8,
	CUBIC_EASEINOUT: 9,
	QUART_EASEIN: 10,
	QUART_EASEOUT: 11,
	QUART_EASEINOUT: 12,
	QUINT_EASEIN: 13,
	QUINT_EASEOUT: 14,
	QUINT_EASEINOUT: 15,
	EXPO_EASEIN: 16,
	EXPO_EASEOUT: 17,
	EXPO_EASEINOUT: 18,
	CIRC_EASEIN: 19,
	CIRC_EASEOUT: 20,
	CIRC_EASEINOUT: 21,
	ELASTIC_EASEIN: 22,
	ELASTIC_EASEOUT: 23,
	ELASTIC_EASEINOUT: 24,
	BACK_EASEIN: 25,
	BACK_EASEOUT: 26,
	BACK_EASEINOUT: 27,
	BOUNCE_EASEIN: 28,
	BOUNCE_EASEOUT: 29,
	BOUNCE_EASEINOUT: 30,
	TWEEN_EASING_MAX: 1E4
};
ccs.TweenFunction = ccs.TweenFunction || ccs.Class.extend({});
ccs.DOUBLE_PI = ccs.M_PI_X_2 = 2 * Math.PI;
ccs.HALF_PI = ccs.M_PI_2 = Math.PI / 2;
ccs.M_PI = Math.PI;
ccs.TweenFunction.tweenTo = function(a, b, c) {
	var d = 0;
	switch (b) {
		case ccs.TweenType.CUSTOM_EASING:
			d = this.customEase(a, c);
			break;
		case ccs.TweenType.LINEAR:
			d = this.linear(a);
			break;
		case ccs.TweenType.SINE_EASEIN:
			d = this.sineEaseIn(a);
			break;
		case ccs.TweenType.SINE_EASEOUT:
			d = this.sineEaseOut(a);
			break;
		case ccs.TweenType.SINE_EASEINOUT:
			d = this.sineEaseInOut(a);
			break;
		case ccs.TweenType.QUAD_EASEIN:
			d = this.quadEaseIn(a);
			break;
		case ccs.TweenType.QUAD_EASEOUT:
			d = this.quadEaseOut(a);
			break;
		case ccs.TweenType.QUAD_EASEINOUT:
			d =
				this.quadEaseInOut(a);
			break;
		case ccs.TweenType.CUBIC_EASEIN:
			d = this.cubicEaseIn(a);
			break;
		case ccs.TweenType.CUBIC_EASEOUT:
			d = this.cubicEaseOut(a);
			break;
		case ccs.TweenType.CUBIC_EASEINOUT:
			d = this.cubicEaseInOut(a);
			break;
		case ccs.TweenType.QUART_EASEIN:
			d = this.quartEaseIn(a);
			break;
		case ccs.TweenType.QUART_EASEOUT:
			d = this.quartEaseOut(a);
			break;
		case ccs.TweenType.QUART_EASEINOUT:
			d = this.quartEaseInOut(a);
			break;
		case ccs.TweenType.QUINT_EASEIN:
			d = this.quintEaseIn(a);
			break;
		case ccs.TweenType.QUINT_EASEOUT:
			d = this.quintEaseOut(a);
			break;
		case ccs.TweenType.QUINT_EASEINOUT:
			d = this.quintEaseInOut(a);
			break;
		case ccs.TweenType.EXPO_EASEIN:
			d = this.expoEaseIn(a);
			break;
		case ccs.TweenType.EXPO_EASEOUT:
			d = this.expoEaseOut(a);
			break;
		case ccs.TweenType.EXPO_EASEINOUT:
			d = this.expoEaseInOut(a);
			break;
		case ccs.TweenType.CIRC_EASEIN:
			d = this.circEaseIn(a);
			break;
		case ccs.TweenType.CIRC_EASEOUT:
			d = this.circEaseOut(a);
			break;
		case ccs.TweenType.CIRC_EASEINOUT:
			d = this.circEaseInOut(a);
			break;
		case ccs.TweenType.ELASTIC_EASEIN:
			b = 0.3;
			null != c && 0 < c.length && (b = c[0]);
			d = this.elasticEaseIn(a, b);
			break;
		case ccs.TweenType.ELASTIC_EASEOUT:
			b = 0.3;
			null != c && 0 < c.length && (b = c[0]);
			d = this.elasticEaseOut(a, b);
			break;
		case ccs.TweenType.ELASTIC_EASEINOUT:
			b = 0.3;
			null != c && 0 < c.length && (b = c[0]);
			d = this.elasticEaseInOut(a, b);
			break;
		case ccs.TweenType.BACK_EASEIN:
			d = this.backEaseIn(a);
			break;
		case ccs.TweenType.BACK_EASEOUT:
			d = this.backEaseOut(a);
			break;
		case ccs.TweenType.BACK_EASEINOUT:
			d = this.backEaseInOut(a);
			break;
		case ccs.TweenType.BOUNCE_EASEIN:
			d = this.bounceEaseIn(a);
			break;
		case ccs.TweenType.BOUNCE_EASEOUT:
			d =
				this.bounceEaseOut(a);
			break;
		case ccs.TweenType.BOUNCE_EASEINOUT:
			d = this.bounceEaseInOut(a);
			break;
		default:
			d = this.sineEaseInOut(a)
	}
	return d
};
ccs.TweenFunction.linear = function(a) {
	return a
};
ccs.TweenFunction.sineEaseIn = function(a) {
	return -1 * Math.cos(a * ccs.HALF_PI) + 1
};
ccs.TweenFunction.sineEaseOut = function(a) {
	return Math.sin(a * ccs.HALF_PI)
};
ccs.TweenFunction.sineEaseInOut = function(a) {
	return -0.5 * (Math.cos(ccs.M_PI * a) - 1)
};
ccs.TweenFunction.quadEaseIn = function(a) {
	return a * a
};
ccs.TweenFunction.quadEaseOut = function(a) {
	return -1 * a * (a - 2)
};
ccs.TweenFunction.quadEaseInOut = function(a) {
	a *= 2;
	if (1 > a) return 0.5 * a * a;
	--a;
	return -0.5 * (a * (a - 2) - 1)
};
ccs.TweenFunction.cubicEaseIn = function(a) {
	return a * a * a
};
ccs.TweenFunction.cubicEaseOut = function(a) {
	a -= 1;
	return a * a * a + 1
};
ccs.TweenFunction.cubicEaseInOut = function(a) {
	a *= 2;
	if (1 > a) return 0.5 * a * a * a;
	a -= 2;
	return 0.5 * (a * a * a + 2)
};
ccs.TweenFunction.quartEaseIn = function(a) {
	return a * a * a * a
};
ccs.TweenFunction.quartEaseOut = function(a) {
	a -= 1;
	return -(a * a * a * a - 1)
};
ccs.TweenFunction.quartEaseInOut = function(a) {
	a *= 2;
	if (1 > a) return 0.5 * a * a * a * a;
	a -= 2;
	return -0.5 * (a * a * a * a - 2)
};
ccs.TweenFunction.quintEaseIn = function(a) {
	return a * a * a * a * a
};
ccs.TweenFunction.quintEaseOut = function(a) {
	a -= 1;
	return a * a * a * a * a + 1
};
ccs.TweenFunction.quintEaseInOut = function(a) {
	a *= 2;
	if (1 > a) return 0.5 * a * a * a * a * a;
	a -= 2;
	return 0.5 * (a * a * a * a * a + 2)
};
ccs.TweenFunction.expoEaseIn = function(a) {
	return 0 === a ? 0 : Math.pow(2, 10 * (a - 1)) - 0.001
};
ccs.TweenFunction.expoEaseOut = function(a) {
	return 1 === a ? 1 : -Math.pow(2, -10 * a) + 1
};
ccs.TweenFunction.expoEaseInOut = function(a) {
	a /= 0.5;
	return a = 1 > a ? 0.5 * Math.pow(2, 10 * (a - 1)) : 0.5 * (-Math.pow(2, -10 * (a - 1)) + 2)
};
ccs.TweenFunction.circEaseIn = function(a) {
	return -1 * (Math.sqrt(1 - a * a) - 1)
};
ccs.TweenFunction.circEaseOut = function(a) {
	a -= 1;
	return Math.sqrt(1 - a * a)
};
ccs.TweenFunction.circEaseInOut = function(a) {
	a *= 2;
	if (1 > a) return -0.5 * (Math.sqrt(1 - a * a) - 1);
	a -= 2;
	return 0.5 * (Math.sqrt(1 - a * a) + 1)
};
ccs.TweenFunction.elasticEaseIn = function(a, b) {
	var c = 0.3;
	0 < b.length && (c = b[0]);
	var d = 0;
	0 === a || 1 === a ? d = a : (d = c / 4, a -= 1, d = -Math.pow(2, 10 * a) * Math.sin((a - d) * ccs.DOUBLE_PI / c));
	return d
};
ccs.TweenFunction.elasticEaseOut = function(a, b) {
	var c = 0.3;
	0 < b.length && (c = b[0]);
	var d = 0;
	0 === a || 1 === a ? d = a : (d = c / 4, d = Math.pow(2, -10 * a) * Math.sin((a - d) * ccs.DOUBLE_PI / c) + 1);
	return d
};
ccs.TweenFunction.elasticEaseInOut = function(a, b) {
	var c = 0.3;
	0 < b.length && (c = b[0]);
	var d = 0;
	0 === a || 1 === a ? d = a : (c || (c = 0.3 * 1.5), d = c / 4, a = 2 * a - 1, d = 0 > a ? -0.5 * Math.pow(2, 10 * a) * Math.sin((a - d) * ccs.DOUBLE_PI / c) : Math.pow(2, -10 * a) * Math.sin((a - d) * ccs.DOUBLE_PI / c) * 0.5 + 1);
	return d
};
ccs.TweenFunction.backEaseIn = function(a) {
	return a * a * (2.70158 * a - 1.70158)
};
ccs.TweenFunction.backEaseOut = function(a) {
	a -= 1;
	return a * a * (2.70158 * a + 1.70158) + 1
};
ccs.TweenFunction.backEaseInOut = function(a) {
	a *= 2;
	if (1 > a) return a * a * (3.5949095 * a - 2.5949095) / 2;
	a -= 2;
	return a * a * (3.5949095 * a + 2.5949095) / 2 + 1
};
ccs.bounceTime = function(a) {
	if (a < 1 / 2.75) return 7.5625 * a * a;
	if (a < 2 / 2.75) return a -= 1.5 / 2.75, 7.5625 * a * a + 0.75;
	if (a < 2.5 / 2.75) return a -= 2.25 / 2.75, 7.5625 * a * a + 0.9375;
	a -= 2.625 / 2.75;
	return 7.5625 * a * a + 0.984375
};
ccs.TweenFunction.bounceEaseIn = function(a) {
	return 1 - ccs.bounceTime(1 - a)
};
ccs.TweenFunction.bounceEaseOut = function(a) {
	return ccs.bounceTime(a)
};
ccs.TweenFunction.bounceEaseInOut = function(a) {
	var b = 0;
	return b = 0.5 > a ? 0.5 * (1 - ccs.bounceTime(1 - 2 * a)) : 0.5 * ccs.bounceTime(2 * a - 1) + 0.5
};
ccs.TweenFunction.customEase = function(a, b) {
	if (0 < b.length) {
		var c = 1 - a;
		return b[1] * c * c * c + 3 * b[3] * a * c * c + 3 * b[5] * a * a * c + b[7] * a * a * a
	}
	return a
};
ccs.TweenFunction.easeIn = function(a, b) {
	return Math.pow(a, b)
};
ccs.TweenFunction.easeOut = function(a, b) {
	return Math.pow(a, 1 / b)
};
ccs.TweenFunction.easeInOut = function(a, b) {
	a *= 2;
	return 1 > a ? 0.5 * Math.pow(a, b) : 1 - 0.5 * Math.pow(2 - a, b)
};
ccs.TweenFunction.quadraticIn = function(a) {
	return Math.pow(a, 2)
};
ccs.TweenFunction.quadraticOut = function(a) {
	return -a * (a - 2)
};
ccs.TweenFunction.bezieratFunction = function(a, b, c, d, e) {
	return Math.pow(1 - e, 3) * a + 3 * e * Math.pow(1 - e, 2) * b + 3 * Math.pow(e, 2) * (1 - e) * c + Math.pow(e, 3) * d
};
var ENABLE_PHYSICS_DETECT = !1;
ccs.fmodf = function(a, b) {
	for (; a > b;) a -= b;
	return a
};
var CC_SAFE_RELEASE = function(a) {
	a && a.release && a.release()
};
ccs.isSpriteContainPoint = function(a, b, c) {
	b = a.convertToNodeSpace(b);
	c && (c.x = b.x, c.y = b.y);
	a = a.getContentSize();
	return cc.rectContainsPoint(cc.rect(0, 0, a.width, a.height), b)
};
ccs.SPRITE_CONTAIN_POINT = ccs.isSpriteContainPoint;
ccs.SPRITE_CONTAIN_POINT_WITH_RETURN = ccs.isSpriteContainPoint;
ccs.extBezierTo = function(a, b, c, d, e) {
	var f = cc.p(0, 0);
	d && !e && (f.x = Math.pow(1 - a, 2) * b.x + 2 * a * (1 - a) * c.x + Math.pow(a, 2) * d.x, f.y = Math.pow(1 - a, 2) * b.y + 2 * a * (1 - a) * c.y + Math.pow(a, 2) * d.y);
	e && (f.x = b.x * Math.pow(1 - a, 3) + 3 * a * c.x * Math.pow(1 - a, 2) + 3 * d.x * Math.pow(a, 2) * (1 - a) + e.x * Math.pow(a, 3), f.y = b.y * Math.pow(1 - a, 3) + 3 * a * c.y * Math.pow(1 - a, 2) + 3 * d.y * Math.pow(a, 2) * (1 - a) + e.y * Math.pow(a, 3));
	return f
};
ccs.extCircleTo = function(a, b, c, d, e) {
	var f = cc.p(0, 0);
	f.x = b.x + c * Math.cos(d + e * a);
	f.y = b.y + c * Math.sin(d + e * a);
	return f
};
ccs.RelativeData = function() {
	this.plistFiles = [];
	this.armatures = [];
	this.animations = [];
	this.textures = []
};
ccs.armatureDataManager = {
	_animationDatas: {},
	_armatureDatas: {},
	_textureDatas: {},
	_autoLoadSpriteFile: !1,
	_relativeDatas: {},
	s_sharedArmatureDataManager: null,
	removeArmatureFileInfo: function(a) {
		var b = this.getRelativeData(a);
		if (b) {
			var c, d;
			for (c = 0; c < b.armatures.length; c++) d = b.armatures[c], this.removeArmatureData(d);
			for (c = 0; c < b.animations.length; c++) d = b.animations[c], this.removeAnimationData(d);
			for (c = 0; c < b.textures.length; c++) d = b.textures[c], this.removeTextureData(d);
			for (c = 0; c < b.plistFiles.length; c++) d = b.plistFiles[c],
				cc.spriteFrameCache.removeSpriteFramesFromFile(d);
			delete this._relativeDatas[a];
			ccs.dataReaderHelper.removeConfigFile(a)
		}
	},
	addArmatureData: function(a, b, c) {
		(c = this.getRelativeData(c)) && c.armatures.push(a);
		this._armatureDatas[a] = b
	},
	getArmatureData: function(a) {
		var b = null;
		this._armatureDatas && (b = this._armatureDatas[a]);
		return b
	},
	removeArmatureData: function(a) {
		this._armatureDatas[a] && delete this._armatureDatas[a]
	},
	addAnimationData: function(a, b, c) {
		(c = this.getRelativeData(c)) && c.animations.push(a);
		this._animationDatas[a] =
			b
	},
	getAnimationData: function(a) {
		var b = null;
		this._animationDatas[a] && (b = this._animationDatas[a]);
		return b
	},
	removeAnimationData: function(a) {
		this._animationDatas[a] && delete this._animationDatas[a]
	},
	addTextureData: function(a, b, c) {
		(c = this.getRelativeData(c)) && c.textures.push(a);
		this._textureDatas[a] = b
	},
	getTextureData: function(a) {
		var b = null;
		this._textureDatas && (b = this._textureDatas[a]);
		return b
	},
	removeTextureData: function(a) {
		this._textureDatas[a] && delete this._textureDatas[a]
	},
	addArmatureFileInfo: function() {
		var a,
			b, c;
		switch (arguments.length) {
			case 1:
				c = arguments[0];
				this.addRelativeData(c);
				this._autoLoadSpriteFile = !0;
				ccs.dataReaderHelper.addDataFromFile(c);
				break;
			case 3:
				a = arguments[0], b = arguments[1], c = arguments[2], this.addRelativeData(c), this._autoLoadSpriteFile = !1, ccs.dataReaderHelper.addDataFromFile(c), this.addSpriteFrameFromFile(b, a)
		}
	},
	addArmatureFileInfoAsync: function() {
		var a, b, c, d, e;
		switch (arguments.length) {
			case 3:
				c = arguments[0];
				d = arguments[2];
				e = arguments[1];
				this.addRelativeData(c);
				this._autoLoadSpriteFile = !0;
				ccs.dataReaderHelper.addDataFromFileAsync("", "", c, e, d);
				break;
			case 5:
				a = arguments[0], b = arguments[1], c = arguments[2], d = arguments[4], e = arguments[3], this.addRelativeData(c), this._autoLoadSpriteFile = !1, ccs.dataReaderHelper.addDataFromFileAsync(a, b, c, e, d), this.addSpriteFrameFromFile(b, a)
		}
	},
	addSpriteFrameFromFile: function(a, b, c) {
		(c = this.getRelativeData(c)) && c.plistFiles.push(a);
		ccs.spriteFrameCacheHelper.addSpriteFrameFromFile(a, b)
	},
	isAutoLoadSpriteFile: function() {
		return this._autoLoadSpriteFile
	},
	getArmatureDatas: function() {
		return this._armatureDatas
	},
	getAnimationDatas: function() {
		return this._animationDatas
	},
	getTextureDatas: function() {
		return this._textureDatas
	},
	addRelativeData: function(a) {
		this._relativeDatas[a] || (this._relativeDatas[a] = new ccs.RelativeData)
	},
	getRelativeData: function(a) {
		return this._relativeDatas[a]
	},
	clear: function() {
		for (var a in this._relativeDatas) this.removeArmatureFileInfo(a);
		this._animationDatas = {};
		this._armatureDatas = {};
		this._textureDatas = {};
		this._relativeDatas = {};
		ccs.spriteFrameCacheHelper.clear();
		ccs.dataReaderHelper.clear()
	}
};
ccs.BLEND_TYPE_NORMAL = 0;
ccs.BLEND_TYPE_LAYER = 1;
ccs.BLEND_TYPE_DARKEN = 2;
ccs.BLEND_TYPE_MULTIPLY = 3;
ccs.BLEND_TYPE_LIGHTEN = 4;
ccs.BLEND_TYPE_SCREEN = 5;
ccs.BLEND_TYPE_OVERLAY = 6;
ccs.BLEND_TYPE_HIGHLIGHT = 7;
ccs.BLEND_TYPE_ADD = 8;
ccs.BLEND_TYPE_SUBTRACT = 9;
ccs.BLEND_TYPE_DIFFERENCE = 10;
ccs.BLEND_TYPE_INVERT = 11;
ccs.BLEND_TYPE_ALPHA = 12;
ccs.BLEND_TYPE_ERASE = 13;
ccs.DISPLAY_TYPE_SPRITE = 0;
ccs.DISPLAY_TYPE_ARMATURE = 1;
ccs.DISPLAY_TYPE_PARTICLE = 2;
ccs.DISPLAY_TYPE_MAX = 3;
ccs.BaseData = ccs.Class.extend({
	x: 0,
	y: 0,
	zOrder: 0,
	skewX: 0,
	skewY: 0,
	scaleX: 1,
	scaleY: 1,
	tweenRotate: 0,
	isUseColorInfo: !1,
	r: 255,
	g: 255,
	b: 255,
	a: 255,
	ctor: function() {
		this.skewY = this.skewX = this.zOrder = this.y = this.x = 0;
		this.scaleY = this.scaleX = 1;
		this.tweenRotate = 0;
		this.isUseColorInfo = !1;
		this.a = this.b = this.g = this.r = 255
	},
	copy: function(a) {
		this.x = a.x;
		this.y = a.y;
		this.zOrder = a.zOrder;
		this.scaleX = a.scaleX;
		this.scaleY = a.scaleY;
		this.skewX = a.skewX;
		this.skewY = a.skewY;
		this.tweenRotate = a.tweenRotate;
		this.isUseColorInfo = a.isUseColorInfo;
		this.r = a.r;
		this.g = a.g;
		this.b = a.b;
		this.a = a.a
	},
	setColor: function(a) {
		this.r = a.r;
		this.g = a.g;
		this.b = a.b;
		this.a = a.a
	},
	getColor: function() {
		return cc.color(this.r, this.g, this.b, this.a)
	},
	subtract: function(a, b, c) {
		this.x = b.x - a.x;
		this.y = b.y - a.y;
		this.scaleX = b.scaleX - a.scaleX;
		this.scaleY = b.scaleY - a.scaleY;
		this.skewX = b.skewX - a.skewX;
		this.skewY = b.skewY - a.skewY;
		this.isUseColorInfo || a.isUseColorInfo || b.isUseColorInfo ? (this.a = b.a - a.a, this.r = b.r - a.r, this.g = b.g - a.g, this.b = b.b - a.b, this.isUseColorInfo = !0) : (this.a = this.r =
			this.g = this.b = 0, this.isUseColorInfo = !1);
		c && (this.skewX > ccs.M_PI && (this.skewX -= ccs.DOUBLE_PI), this.skewX < -ccs.M_PI && (this.skewX += ccs.DOUBLE_PI), this.skewY > ccs.M_PI && (this.skewY -= ccs.DOUBLE_PI), this.skewY < -ccs.M_PI && (this.skewY += ccs.DOUBLE_PI));
		b.tweenRotate && (this.skewX += b.tweenRotate * ccs.PI * 2, this.skewY -= b.tweenRotate * ccs.PI * 2)
	}
});
ccs.DisplayData = ccs.Class.extend({
	displayType: ccs.DISPLAY_TYPE_MAX,
	displayName: "",
	ctor: function() {
		this.displayType = ccs.DISPLAY_TYPE_MAX
	},
	changeDisplayToTexture: function(a) {
		var b = a.lastIndexOf("."); - 1 !== b && (a = a.substring(0, b));
		return a
	},
	copy: function(a) {
		this.displayName = a.displayName;
		this.displayType = a.displayType
	}
});
ccs.SpriteDisplayData = ccs.DisplayData.extend({
	skinData: null,
	ctor: function() {
		this.skinData = new ccs.BaseData;
		this.displayType = ccs.DISPLAY_TYPE_SPRITE
	},
	copy: function(a) {
		ccs.DisplayData.prototype.copy.call(this, a);
		this.skinData = a.skinData
	}
});
ccs.ArmatureDisplayData = ccs.DisplayData.extend({
	ctor: function() {
		this.displayName = "";
		this.displayType = ccs.DISPLAY_TYPE_ARMATURE
	}
});
ccs.ParticleDisplayData = ccs.DisplayData.extend({
	ctor: function() {
		this.displayType = ccs.DISPLAY_TYPE_PARTICLE
	}
});
ccs.BoneData = ccs.BaseData.extend({
	displayDataList: null,
	name: "",
	parentName: "",
	boneDataTransform: null,
	ctor: function() {
		this.displayDataList = [];
		this.parentName = this.name = "";
		this.boneDataTransform = null
	},
	init: function() {
		this.displayDataList.length = 0;
		return !0
	},
	addDisplayData: function(a) {
		this.displayDataList.push(a)
	},
	getDisplayData: function(a) {
		return this.displayDataList[a]
	}
});
ccs.ArmatureData = ccs.Class.extend({
	boneDataDic: null,
	name: "",
	dataVersion: 0.1,
	ctor: function() {
		this.boneDataDic = {};
		this.name = "";
		this.dataVersion = 0.1
	},
	init: function() {
		return !0
	},
	addBoneData: function(a) {
		this.boneDataDic[a.name] = a
	},
	getBoneDataDic: function() {
		return this.boneDataDic
	},
	getBoneData: function(a) {
		return this.boneDataDic[a]
	}
});
ccs.FrameData = ccs.BaseData.extend({
	duration: 0,
	tweenEasing: 0,
	easingParamNumber: 0,
	easingParams: null,
	displayIndex: -1,
	movement: "",
	event: "",
	sound: "",
	soundEffect: "",
	blendFunc: null,
	frameID: 0,
	isTween: !0,
	ctor: function() {
		ccs.BaseData.prototype.ctor.call(this);
		this.duration = 1;
		this.tweenEasing = ccs.TweenType.LINEAR;
		this.easingParamNumber = 0;
		this.easingParams = [];
		this.displayIndex = 0;
		this.soundEffect = this.sound = this.event = this.movement = "";
		this.blendFunc = new cc.BlendFunc(cc.BLEND_SRC, cc.BLEND_DST);
		this.frameID = 0;
		this.isTween = !0
	},
	copy: function(a) {
		ccs.BaseData.prototype.copy.call(this, a);
		this.duration = a.duration;
		this.displayIndex = a.displayIndex;
		this.tweenEasing = a.tweenEasing;
		this.easingParamNumber = a.easingParamNumber;
		if (0 !== this.easingParamNumber)
			for (var b = this.easingParams.length = 0; b < this.easingParamNumber; b++) this.easingParams[b] = a.easingParams[b];
		this.blendFunc = a.blendFunc;
		this.isTween = a.isTween
	}
});
ccs.MovementBoneData = ccs.Class.extend({
	delay: 0,
	scale: 1,
	duration: 0,
	frameList: null,
	name: "",
	ctor: function() {
		this.delay = 0;
		this.scale = 1;
		this.duration = 0;
		this.frameList = [];
		this.name = ""
	},
	init: function() {
		return !0
	},
	addFrameData: function(a) {
		this.frameList.push(a)
	},
	getFrameData: function(a) {
		return this.frameList[a]
	}
});
ccs.MovementData = function() {
	this.name = "";
	this.duration = 0;
	this.scale = 1;
	this.durationTween = this.durationTo = 0;
	this.loop = !0;
	this.tweenEasing = ccs.TweenType.LINEAR;
	this.movBoneDataDic = {}
};
ccs.MovementData.prototype.addMovementBoneData = function(a) {
	this.movBoneDataDic[a.name] = a
};
ccs.MovementData.prototype.getMovementBoneData = function(a) {
	return this.movBoneDataDic[a]
};
ccs.AnimationData = function() {
	this.movementDataDic = {};
	this.movementNames = [];
	this.name = ""
};
ccs.AnimationData.prototype.addMovement = function(a) {
	this.movementDataDic[a.name] = a;
	this.movementNames.push(a.name)
};
ccs.AnimationData.prototype.getMovement = function(a) {
	return this.movementDataDic[a]
};
ccs.AnimationData.prototype.getMovementCount = function() {
	return Object.keys(this.movementDataDic).length
};
ccs.ContourVertex2 = function(a, b) {
	this.x = a || 0;
	this.y = b || 0
};
ccs.ContourData = function() {
	this.vertexList = []
};
ccs.ContourData.prototype.init = function() {
	this.vertexList.length = 0;
	return !0
};
ccs.ContourData.prototype.addVertex = function(a) {
	this.vertexList.push(a)
};
ccs.TextureData = function() {
	this.width = this.height = 0;
	this.pivotY = this.pivotX = 0.5;
	this.name = "";
	this.contourDataList = []
};
ccs.TextureData.prototype.init = function() {
	this.contourDataList.length = 0
};
ccs.TextureData.prototype.addContourData = function(a) {
	this.contourDataList.push(a)
};
ccs.TextureData.prototype.getContourData = function(a) {
	return this.contourDataList[a]
};
ccs.DecorativeDisplay = ccs.Class.extend({
	_display: null,
	_colliderDetector: null,
	_displayData: null,
	ctor: function() {
		this._displayData = this._colliderDetector = this._display = null
	},
	init: function() {
		return !0
	},
	setDisplay: function(a) {
		a._parent && (a._parent.removeChild(a), delete a._parent);
		this._display = a
	},
	getDisplay: function() {
		return this._display
	},
	setColliderDetector: function(a) {
		this._colliderDetector = a
	},
	getColliderDetector: function() {
		return this._colliderDetector
	},
	setDisplayData: function(a) {
		this._displayData =
			a
	},
	getDisplayData: function() {
		return this._displayData
	},
	release: function() {
		this._colliderDetector = this._displayData = this._display = null
	}
});
ccs.DecorativeDisplay.create = function() {
	return new ccs.DecorativeDisplay
};
ccs.displayFactory = {
	addDisplay: function(a, b, c) {
		switch (c.displayType) {
			case ccs.DISPLAY_TYPE_SPRITE:
				this.addSpriteDisplay(a, b, c);
				break;
			case ccs.DISPLAY_TYPE_PARTICLE:
				this.addParticleDisplay(a, b, c);
				break;
			case ccs.DISPLAY_TYPE_ARMATURE:
				this.addArmatureDisplay(a, b, c)
		}
	},
	createDisplay: function(a, b) {
		switch (b.getDisplayData().displayType) {
			case ccs.DISPLAY_TYPE_SPRITE:
				this.createSpriteDisplay(a, b);
				break;
			case ccs.DISPLAY_TYPE_PARTICLE:
				this.createParticleDisplay(a, b);
				break;
			case ccs.DISPLAY_TYPE_ARMATURE:
				this.createArmatureDisplay(a,
					b)
		}
	},
	_helpTransform: {
		a: 1,
		b: 0,
		c: 0,
		d: 1,
		tx: 0,
		ty: 0
	},
	updateDisplay: function(a, b, c) {
		var d = a.getDisplayRenderNode();
		if (d) {
			switch (a.getDisplayRenderNodeType()) {
				case ccs.DISPLAY_TYPE_SPRITE:
					c && (d._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.transformDirty), d.updateArmatureTransform());
					break;
				case ccs.DISPLAY_TYPE_PARTICLE:
					this.updateParticleDisplay(a, d, b);
					break;
				case ccs.DISPLAY_TYPE_ARMATURE:
					this.updateArmatureDisplay(a, d, b);
					break;
				default:
					b = a.getNodeToArmatureTransform(), d.setAdditionalTransform(b)
			}
			if ((ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT ||
					ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX) && c && (d = a.getDisplayManager().getCurrentDecorativeDisplay(), c = d.getColliderDetector())) {
				b = d.getDisplay();
				var e = b.getNodeToParentTransform(),
					d = this._helpTransform;
				d.a = e.a;
				d.b = e.b;
				d.c = e.c;
				d.d = e.d;
				d.tx = e.tx;
				d.ty = e.ty;
				b = cc.pointApplyAffineTransform(b.getAnchorPointInPoints(), d);
				d.tx = b.x;
				d.ty = b.y;
				a = cc.affineTransformConcat(d, a.getArmature().getNodeToParentTransform());
				c.updateTransform(a)
			}
		}
	},
	addSpriteDisplay: function(a, b, c) {
		var d = new ccs.SpriteDisplayData;
		d.copy(c);
		b.setDisplayData(d);
		this.createSpriteDisplay(a, b)
	},
	createSpriteDisplay: function(a, b) {
		var c = null,
			d = b.getDisplayData(),
			c = d.displayName,
			e = c.lastIndexOf("."); - 1 !== e && (c = c.substring(0, e));
		c = "" === c ? new ccs.Skin : new ccs.Skin("#" + c + ".png");
		b.setDisplay(c);
		c.setBone(a);
		this.initSpriteDisplay(a, b, d.displayName, c);
		(e = a.getArmature()) && (e.getArmatureData().dataVersion >= ccs.CONST_VERSION_COMBINED ? c.setSkinData(d.skinData) : c.setSkinData(a.boneData))
	},
	initSpriteDisplay: function(a, b, c, d) {
		var e = c.lastIndexOf("."); -
		1 !== e && (c = c.substring(0, e));
		(c = ccs.armatureDataManager.getTextureData(c)) && d.setAnchorPoint(cc.p(c.pivotX, c.pivotY));
		(ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT || ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX) && c && 0 < c.contourDataList.length && (a = new ccs.ColliderDetector(a), a.addContourDataList(c.contourDataList), b.setColliderDetector(a))
	},
	addArmatureDisplay: function(a, b, c) {
		var d = new ccs.ArmatureDisplayData;
		d.copy(c);
		b.setDisplayData(d);
		this.createArmatureDisplay(a, b)
	},
	createArmatureDisplay: function(a, b) {
		var c =
			b.getDisplayData(),
			c = new ccs.Armature(c.displayName, a);
		b.setDisplay(c)
	},
	updateArmatureDisplay: function(a, b, c) {
		b && (b.sortAllChildren(), b.update(c))
	},
	addParticleDisplay: function(a, b, c) {
		var d = new ccs.ParticleDisplayData;
		d.copy(c);
		b.setDisplayData(d);
		this.createParticleDisplay(a, b)
	},
	createParticleDisplay: function(a, b) {
		var c = b.getDisplayData(),
			c = new cc.ParticleSystem(c.displayName);
		c.removeFromParent();
		c.cleanup();
		a.getArmature() && c.setParent(a.getArmature());
		b.setDisplay(c)
	},
	updateParticleDisplay: function(a,
		b, c) {
		var d = new ccs.BaseData;
		ccs.TransformHelp.matrixToNode(a.nodeToArmatureTransform(), d);
		b.setPosition(d.x, d.y);
		b.setScaleX(d.scaleX);
		b.setScaleY(d.scaleY);
		b.update(c)
	}
};
ccs.DisplayManager = ccs.Class.extend({
	_decoDisplayList: null,
	_currentDecoDisplay: null,
	_displayRenderNode: null,
	_displayIndex: null,
	_forceChangeDisplay: !1,
	_bone: null,
	_visible: !0,
	_displayType: null,
	ctor: function(a) {
		this._decoDisplayList = [];
		this._displayIndex = this._displayRenderNode = this._currentDecoDisplay = null;
		this._forceChangeDisplay = !1;
		this._bone = null;
		this._visible = !0;
		this._displayType = ccs.DISPLAY_TYPE_MAX;
		a && ccs.DisplayManager.prototype.init.call(this, a)
	},
	init: function(a) {
		this._bone = a;
		this.initDisplayList(a.getBoneData());
		return !0
	},
	addDisplay: function(a, b) {
		var c, d = this._decoDisplayList;
		0 <= b && b < d.length ? c = d[b] : (c = new ccs.DecorativeDisplay, d.push(c));
		if (a instanceof ccs.DisplayData) ccs.displayFactory.addDisplay(this._bone, c, a);
		else {
			var e = null;
			if (a instanceof ccs.Skin) {
				a.setBone(this._bone);
				e = new ccs.SpriteDisplayData;
				ccs.displayFactory.initSpriteDisplay(this._bone, c, a.getDisplayName(), a);
				var f = c.getDisplayData();
				if (f instanceof ccs.SpriteDisplayData) a.setSkinData(f.skinData), e.skinData = f.skinData;
				else {
					for (var f = !1, g =
							d.length - 2; 0 <= g; g--) {
						var h = d[g].getDisplayData();
						if (h instanceof ccs.SpriteDisplayData) {
							f = !0;
							a.setSkinData(h.skinData);
							e.skinData = h.skinData;
							break
						}
					}
					f || a.setSkinData(new ccs.BaseData)
				}
			} else a instanceof cc.ParticleSystem ? (e = new ccs.ParticleDisplayData, a.removeFromParent(), a._performRecursive(cc.Node._stateCallbackType.cleanup), (d = this._bone.getArmature()) && a.setParent(d)) : a instanceof ccs.Armature ? (e = new ccs.ArmatureDisplayData, e.displayName = a.getName(), a.setParentBone(this._bone)) : e = new ccs.DisplayData;
			c.setDisplay(a);
			c.setDisplayData(e)
		}
		b === this._displayIndex && (this._displayIndex = -1, this.changeDisplayWithIndex(b, !1))
	},
	_addDisplayOther: function(a, b) {
		var c = null;
		if (b instanceof ccs.Skin) {
			b.setBone(this._bone);
			c = new ccs.SpriteDisplayData;
			c.displayName = b.getDisplayName();
			ccs.displayFactory.initSpriteDisplay(this._bone, a, b.getDisplayName(), b);
			var d = a.getDisplayData();
			if (d instanceof ccs.SpriteDisplayData) b.setSkinData(d.skinData);
			else {
				for (var d = !1, e = this._decoDisplayList.length - 2; 0 <= e; e--) {
					var f = this._decoDisplayList[e].getDisplayData();
					if (f) {
						d = !0;
						b.setSkinData(f.skinData);
						c.skinData = f.skinData;
						break
					}
				}
				d || b.setSkinData(new ccs.BaseData);
				b.setSkinData(new ccs.BaseData)
			}
		} else b instanceof cc.ParticleSystem ? (c = new ccs.ParticleDisplayData, c.displayName = b._plistFile) : b instanceof ccs.Armature ? (c = new ccs.ArmatureDisplayData, c.displayName = b.getName(), b.setParentBone(this._bone)) : c = new ccs.DisplayData;
		a.setDisplay(b);
		a.setDisplayData(c)
	},
	removeDisplay: function(a) {
		this._decoDisplayList.splice(a, 1);
		a === this._displayIndex && (this.setCurrentDecorativeDisplay(null),
			this._displayIndex = -1)
	},
	getDecorativeDisplayList: function() {
		return this._decoDisplayList
	},
	changeDisplayWithIndex: function(a, b) {
		a >= this._decoDisplayList.length ? cc.log("the index value is out of range") : (this._forceChangeDisplay = b, this._displayIndex !== a && (this._displayIndex = a, 0 > a ? this._displayRenderNode && (this._displayRenderNode.removeFromParent(!0), this.setCurrentDecorativeDisplay(null)) : this.setCurrentDecorativeDisplay(this._decoDisplayList[a])))
	},
	changeDisplayWithName: function(a, b) {
		for (var c = this._decoDisplayList,
				d = 0; d < c.length; d++)
			if (c[d].getDisplayData().displayName === a) {
				this.changeDisplayWithIndex(d, b);
				break
			}
	},
	setCurrentDecorativeDisplay: function(a) {
		var b = this._currentDecoDisplay;
		(ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT || ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX) && b && b.getColliderDetector() && b.getColliderDetector().setActive(!1);
		b = this._currentDecoDisplay = a;
		(ccs.ENABLE_PHYSICS_CHIPMUNK_DETECT || ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX) && b && b.getColliderDetector() && b.getColliderDetector().setActive(!0);
		a = b ? b.getDisplay() :
			null;
		var b = this._displayRenderNode,
			c = this._bone;
		b && (b instanceof ccs.Armature && c.setChildArmature(null), b.removeFromParent(!0));
		(this._displayRenderNode = a) ? (a instanceof ccs.Armature ? (this._bone.setChildArmature(a), a.setParentBone(this._bone)) : a instanceof cc.ParticleSystem && (a instanceof ccs.Armature ? (c.setChildArmature(a), a.setParentBone(c)) : a instanceof cc.ParticleSystem && a.resetSystem()), a.setColor(c.getDisplayedColor()), a.setOpacity(c.getDisplayedOpacity()), this._displayRenderNode.setVisible(this._visible),
			this._displayType = this._currentDecoDisplay.getDisplayData().displayType) : this._displayType = ccs.DISPLAY_TYPE_MAX;
		cc.renderer.childrenOrderDirty = !0
	},
	getDisplayRenderNode: function() {
		return this._displayRenderNode
	},
	getDisplayRenderNodeType: function() {
		return this._displayType
	},
	getCurrentDisplayIndex: function() {
		return this._displayIndex
	},
	getCurrentDecorativeDisplay: function() {
		return this._currentDecoDisplay
	},
	getDecorativeDisplayByIndex: function(a) {
		return this._decoDisplayList[a]
	},
	initDisplayList: function(a) {
		this._decoDisplayList.length =
			0;
		if (a) {
			a = a.displayDataList;
			for (var b = this._decoDisplayList, c = this._bone, d = 0; d < a.length; d++) {
				var e = a[d],
					f = new ccs.DecorativeDisplay;
				f.setDisplayData(e);
				ccs.displayFactory.createDisplay(c, f);
				b.push(f)
			}
		}
	},
	containPoint: function(a, b) {
		if (!this._visible || 0 > this._displayIndex) return !1;
		void 0 !== b && (a = cc.p(a, b));
		if (this._currentDecoDisplay.getDisplayData().displayType === ccs.DISPLAY_TYPE_SPRITE) {
			var c = this._currentDecoDisplay.getDisplay(),
				c = c.getChildByTag(0);
			return ccs.SPRITE_CONTAIN_POINT_WITH_RETURN(c, a)
		}
		return !1
	},
	setVisible: function(a) {
		this._displayRenderNode && (this._visible = a, this._displayRenderNode.setVisible(a))
	},
	isVisible: function() {
		return this._visible
	},
	getContentSize: function() {
		return this._displayRenderNode ? this._displayRenderNode.getContentSize() : cc.size(0, 0)
	},
	getBoundingBox: function() {
		return this._displayRenderNode ? this._displayRenderNode.getBoundingBox() : cc.rect(0, 0, 0, 0)
	},
	getAnchorPoint: function() {
		return this._displayRenderNode ? this._displayRenderNode.getAnchorPoint() : cc.p(0, 0)
	},
	getAnchorPointInPoints: function() {
		return this._displayRenderNode ?
			this._displayRenderNode.getAnchorPointInPoints() : cc.p(0, 0)
	},
	getForceChangeDisplay: function() {
		return this._forceChangeDisplay
	},
	release: function() {
		this._decoDisplayList = null;
		this._displayRenderNode && (this._displayRenderNode.removeFromParent(!0), this._displayRenderNode = null)
	}
});
ccs.DisplayManager.create = function(a) {
	return new ccs.DisplayManager(a)
};
ccs.Skin = ccs.Sprite.extend({
	_skinData: null,
	bone: null,
	_skinTransform: null,
	_displayName: "",
	_armature: null,
	_className: "Skin",
	ctor: function(a, b) {
		cc.Sprite.prototype.ctor.call(this);
		this.bone = this._skinData = null;
		this._displayName = "";
		this._skinTransform = cc.affineTransformIdentity();
		this._armature = null;
		null == a || "" === a ? ccs.Skin.prototype.init.call(this) : "#" === a[0] ? ccs.Skin.prototype.initWithSpriteFrameName.call(this, a.substr(1)) : ccs.Skin.prototype.initWithFile.call(this, a, b)
	},
	initWithSpriteFrameName: function(a) {
		if ("" ===
			a) return !1;
		var b = cc.spriteFrameCache.getSpriteFrame(a),
			c = !0;
		b ? this.initWithSpriteFrame(b) : (cc.log("Can't find CCSpriteFrame with %s. Please check your .plist file", a), c = !1);
		this._displayName = a;
		return c
	},
	initWithFile: function(a, b) {
		var c = b ? cc.Sprite.prototype.initWithFile.call(this, a, b) : cc.Sprite.prototype.initWithFile.call(this, a);
		this._displayName = a;
		return c
	},
	setSkinData: function(a) {
		this._skinData = a;
		this.setScaleX(a.scaleX);
		this.setScaleY(a.scaleY);
		this.setRotationX(cc.radiansToDegrees(a.skewX));
		this.setRotationY(cc.radiansToDegrees(-a.skewY));
		this.setPosition(a.x, a.y);
		this._renderCmd.transform()
	},
	getSkinData: function() {
		return this._skinData
	},
	updateArmatureTransform: function() {
		this._renderCmd.transform()
	},
	getNodeToWorldTransform: function() {
		return this._renderCmd.getNodeToWorldTransform()
	},
	getNodeToWorldTransformAR: function() {
		return this._renderCmd.getNodeToWorldTransformAR()
	},
	setBone: function(a) {
		this.bone = a;
		if (a = this.bone.getArmature()) this._armature = a
	},
	getBone: function() {
		return this.bone
	},
	getDisplayName: function() {
		return this._displayName
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new ccs.Skin.CanvasRenderCmd(this) : new ccs.Skin.WebGLRenderCmd(this)
	}
});
_p = ccs.Skin.prototype;
cc.defineGetterSetter(_p, "skinData", _p.getSkinData, _p.setSkinData);
cc.defineGetterSetter(_p, "displayName", _p.getDisplayName);
_p = null;
ccs.Skin.create = function(a, b) {
	return new ccs.Skin(a, b)
};
ccs.Skin.createWithSpriteFrameName = function(a) {
	return new ccs.Skin("#" + a)
};
(function() {
	ccs.Skin.RenderCmd = {
		_realWorldTM: null,
		transform: function(a, c) {
			this._transform || (this._transform = {
				a: 1,
				b: 0,
				c: 0,
				d: 1,
				tx: 0,
				ty: 0
			}, this._worldTransform = {
				a: 1,
				b: 0,
				c: 0,
				d: 1,
				tx: 0,
				ty: 0
			});
			var d = this._node,
				e = a ? a._worldTransform : null,
				f = this._transform,
				g = this._worldTransform;
			if (this._dirtyFlag & cc.Node._dirtyFlags.transformDirty || e) this.originTransform(), cc.affineTransformConcatIn(this._transform, d.bone.getNodeToArmatureTransform()), this._dirtyFlag &= ~cc.Node._dirtyFlags.transformDirty;
			if (e) {
				if (g.a = f.a *
					e.a + f.b * e.c, g.b = f.a * e.b + f.b * e.d, g.c = f.c * e.a + f.d * e.c, g.d = f.c * e.b + f.d * e.d, g.tx = f.tx * e.a + f.ty * e.c + e.tx, g.ty = f.tx * e.b + f.ty * e.d + e.ty, e = this._vertices) {
					var h = d._offsetPosition.x,
						k = h + d._rect.width,
						m = d._offsetPosition.y,
						d = m + d._rect.height;
					e[0].x = h * g.a + d * g.c + g.tx;
					e[0].y = h * g.b + d * g.d + g.ty;
					e[1].x = h * g.a + m * g.c + g.tx;
					e[1].y = h * g.b + m * g.d + g.ty;
					e[2].x = k * g.a + d * g.c + g.tx;
					e[2].y = k * g.b + d * g.d + g.ty;
					e[3].x = k * g.a + m * g.c + g.tx;
					e[3].y = k * g.b + m * g.d + g.ty
				}
			} else g.a = f.a, g.b = f.b, g.c = f.c, g.d = f.d, g.tx = f.tx, g.ty = f.ty;
			if (g = this._realWorldTM) g.a =
				f.a, g.b = f.b, g.c = f.c, g.d = f.d, g.tx = f.tx, g.ty = f.ty, cc.affineTransformConcatIn(g, this._node.bone.getArmature()._renderCmd._worldTransform)
		},
		getNodeToWorldTransform: function() {
			return cc.affineTransformConcat(this._transform, this._node.bone.getArmature().getNodeToWorldTransform())
		},
		getNodeToWorldTransformAR: function() {
			var a = this._transform,
				c = this._node;
			this._anchorPointInPoints = cc.pointApplyAffineTransform(this._anchorPointInPoints, a);
			a.tx = this._anchorPointInPoints.x;
			a.ty = this._anchorPointInPoints.y;
			return cc.affineTransformConcat(a,
				c.bone.getArmature().getNodeToWorldTransform())
		}
	};
	ccs.Skin.CanvasRenderCmd = function(a) {
		this._spriteCmdCtor(a);
		this._realWorldTM = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		}
	};
	var a = ccs.Skin.CanvasRenderCmd.prototype = Object.create(cc.Sprite.CanvasRenderCmd.prototype);
	cc.inject(ccs.Skin.RenderCmd, a);
	a.constructor = ccs.Skin.CanvasRenderCmd;
	a._updateCurrentRegions = function() {
		var a = this._currentRegion;
		this._currentRegion = this._oldRegion;
		this._oldRegion = a;
		cc.Node.CanvasRenderCmd.RegionStatus.DirtyDouble !== this._regionFlag ||
			this._currentRegion.isEmpty() || this._oldRegion.union(this._currentRegion);
		this._currentRegion.updateRegion(this.getLocalBB(), this._realWorldTM)
	};
	ccs.Skin.WebGLRenderCmd = function(a) {
		this._spriteCmdCtor(a)
	};
	a = ccs.Skin.WebGLRenderCmd.prototype = Object.create(cc.Sprite.WebGLRenderCmd.prototype);
	cc.inject(ccs.Skin.RenderCmd, a);
	a.constructor = ccs.Skin.WebGLRenderCmd
})();
ccs.ANIMATION_TYPE_SINGLE_FRAME = -4;
ccs.ANIMATION_TYPE_NO_LOOP = -3;
ccs.ANIMATION_TYPE_TO_LOOP_FRONT = -2;
ccs.ANIMATION_TYPE_TO_LOOP_BACK = -1;
ccs.ANIMATION_TYPE_LOOP_FRONT = 0;
ccs.ANIMATION_TYPE_LOOP_BACK = 1;
ccs.ANIMATION_TYPE_MAX = 2;
ccs.ProcessBase = ccs.Class.extend({
	_processScale: 1,
	_isComplete: !0,
	_isPause: !0,
	_isPlaying: !1,
	_currentPercent: 0,
	_rawDuration: 0,
	_loopType: 0,
	_tweenEasing: 0,
	animationInternal: null,
	_currentFrame: 0,
	_durationTween: 0,
	_nextFrameIndex: 0,
	_curFrameIndex: null,
	_isLoopBack: !1,
	ctor: function() {
		this._processScale = 1;
		this._isPause = this._isComplete = !0;
		this._isPlaying = !1;
		this._rawDuration = this._durationTween = this._currentPercent = this._currentFrame = 0;
		this._loopType = ccs.ANIMATION_TYPE_LOOP_BACK;
		this._tweenEasing = ccs.TweenType.LINEAR;
		this.animationInternal = 1 / 60;
		this._durationTween = this._curFrameIndex = 0;
		this._isLoopBack = !1
	},
	pause: function() {
		this._isPause = !0;
		this._isPlaying = !1
	},
	resume: function() {
		this._isPause = !1;
		this._isPlaying = !0
	},
	stop: function() {
		this._isComplete = !0;
		this._isPlaying = !1
	},
	play: function(a, b, c, d) {
		this._isPause = this._isComplete = !1;
		this._isPlaying = !0;
		this._currentFrame = 0;
		this._nextFrameIndex = a;
		this._tweenEasing = d
	},
	update: function(a) {
		if (!(this._isComplete || this._isPause || 0 >= this._rawDuration || 1 < a)) {
			var b = void 0 === this._nextFrameIndex ?
				0 : this._nextFrameIndex,
				c = this._currentFrame;
			0 >= b ? (this._currentPercent = 1, c = 0) : (c += a / this.animationInternal * this._processScale, this._currentPercent = c / b, c = ccs.fmodf(c, b));
			this._currentFrame = c;
			this.updateHandler()
		}
	},
	gotoFrame: function(a) {
		var b = this._loopType;
		b === ccs.ANIMATION_TYPE_NO_LOOP ? b = ccs.ANIMATION_TYPE_MAX : b === ccs.ANIMATION_TYPE_TO_LOOP_FRONT && (b = ccs.ANIMATION_TYPE_LOOP_FRONT);
		this._loopType = b;
		this._curFrameIndex = a;
		this._nextFrameIndex = this._durationTween
	},
	getCurrentFrameIndex: function() {
		return this._curFrameIndex =
			(this._rawDuration - 1) * this._currentPercent
	},
	updateHandler: function() {},
	isPause: function() {
		return this._isPause
	},
	isComplete: function() {
		return this._isComplete
	},
	getCurrentPercent: function() {
		return this._currentPercent
	},
	getRawDuration: function() {
		return this._rawDuration
	},
	getLoop: function() {
		return this._loopType
	},
	getTweenEasing: function() {
		return this._tweenEasing
	},
	getAnimationInternal: function() {
		return this.animationInternal
	},
	setAnimationInternal: function(a) {
		this.animationInternal = a
	},
	getProcessScale: function() {
		return this._processScale
	},
	setProcessScale: function(a) {
		this._processScale = a
	},
	isPlaying: function() {
		return this._isPlaying
	}
});
_p = ccs.ProcessBase.prototype;
cc.defineGetterSetter(_p, "currentFrameIndex", _p.getCurrentFrameIndex);
cc.defineGetterSetter(_p, "paused", _p.isPause);
cc.defineGetterSetter(_p, "completed", _p.isComplete);
cc.defineGetterSetter(_p, "currentPercent", _p.getCurrentPercent);
cc.defineGetterSetter(_p, "rawDuration", _p.getRawDuration);
cc.defineGetterSetter(_p, "loop", _p.getLoop);
cc.defineGetterSetter(_p, "tweenEasing", _p.getTweenEasing);
cc.defineGetterSetter(_p, "playing", _p.isPlaying);
_p = null;
ccs.MovementEventType = {
	start: 0,
	complete: 1,
	loopComplete: 2
};
ccs.AnimationEvent = ccs.Class.extend({
	_arguments: null,
	_callFunc: null,
	_selectorTarget: null,
	ctor: function(a, b, c) {
		this._data = c;
		this._callFunc = a;
		this._selectorTarget = b
	},
	call: function() {
		this._callFunc && this._callFunc.apply(this._selectorTarget, this._arguments)
	},
	setArguments: function(a) {
		this._arguments = a
	}
});
ccs.MovementEvent = function() {
	this.armature = null;
	this.movementType = ccs.MovementEventType.start;
	this.movementID = ""
};
ccs.FrameEvent = function() {
	this.bone = null;
	this.frameEventName = "";
	this.currentFrameIndex = this.originFrameIndex = 0
};
ccs.ArmatureAnimation = ccs.ProcessBase.extend({
	_animationData: null,
	_movementData: null,
	_armature: null,
	_movementID: "",
	_toIndex: 0,
	_tweenList: null,
	_speedScale: 1,
	_ignoreFrameEvent: !1,
	_frameEventQueue: null,
	_movementEventQueue: null,
	_movementList: null,
	_onMovementList: !1,
	_movementListLoop: !1,
	_movementIndex: 0,
	_movementListDurationTo: -1,
	_movementEventCallFunc: null,
	_frameEventCallFunc: null,
	_movementEventTarget: null,
	_frameEventTarget: null,
	_movementEventListener: null,
	_frameEventListener: null,
	ctor: function(a) {
		ccs.ProcessBase.prototype.ctor.call(this);
		this._tweenList = [];
		this._movementList = [];
		this._frameEventQueue = [];
		this._movementEventQueue = [];
		this._armature = null;
		a && ccs.ArmatureAnimation.prototype.init.call(this, a)
	},
	init: function(a) {
		this._armature = a;
		this._tweenList.length = 0;
		return !0
	},
	pause: function() {
		for (var a = this._tweenList, b = 0; b < a.length; b++) a[b].pause();
		ccs.ProcessBase.prototype.pause.call(this)
	},
	resume: function() {
		for (var a = this._tweenList, b = 0; b < a.length; b++) a[b].resume();
		ccs.ProcessBase.prototype.resume.call(this)
	},
	stop: function() {
		for (var a =
				this._tweenList, b = 0; b < a.length; b++) a[b].stop();
		a.length = 0;
		ccs.ProcessBase.prototype.stop.call(this)
	},
	setAnimationScale: function(a) {
		this.setSpeedScale(a)
	},
	getAnimationScale: function() {
		return this.getSpeedScale()
	},
	setSpeedScale: function(a) {
		if (a !== this._speedScale) {
			this._speedScale = a;
			this._processScale = this._movementData ? this._speedScale * this._movementData.scale : this._speedScale;
			a = this._armature.getBoneDic();
			for (var b in a) {
				var c = a[b];
				c.getTween().setProcessScale(this._processScale);
				c.getChildArmature() &&
					c.getChildArmature().getAnimation().setSpeedScale(this._processScale)
			}
		}
	},
	getSpeedScale: function() {
		return this._speedScale
	},
	play: function(a, b, c) {
		cc.assert(this._animationData, "this.animationData can not be null");
		this._movementData = this._animationData.getMovement(a);
		cc.assert(this._movementData, "this._movementData can not be null");
		b = void 0 === b ? -1 : b;
		c = void 0 === c ? -1 : c;
		this._rawDuration = this._movementData.duration;
		this._movementID = a;
		this._processScale = this._speedScale * this._movementData.scale;
		b = -1 ===
			b ? this._movementData.durationTo : b;
		a = 0 === this._movementData.durationTween ? this._rawDuration : this._movementData.durationTween;
		var d = this._movementData.tweenEasing;
		c = 0 > c ? this._movementData.loop : c;
		this._onMovementList = !1;
		ccs.ProcessBase.prototype.play.call(this, b, a, c, d);
		0 === this._rawDuration ? this._loopType = ccs.ANIMATION_TYPE_SINGLE_FRAME : (this._loopType = c ? ccs.ANIMATION_TYPE_TO_LOOP_FRONT : ccs.ANIMATION_TYPE_NO_LOOP, this._durationTween = a);
		this._tweenList.length = 0;
		var e, f = this._armature.getBoneDic(),
			g;
		for (g in f) {
			var h =
				f[g];
			e = this._movementData.movBoneDataDic[h.getName()];
			var k = h.getTween();
			e && 0 < e.frameList.length ? (this._tweenList.push(k), e.duration = this._movementData.duration, k.play(e, b, a, c, d), k.setProcessScale(this._processScale), h.getChildArmature() && (h.getChildArmature().getAnimation().setSpeedScale(this._processScale), h.getChildArmature().getAnimation().isPlaying() || h.getChildArmature().getAnimation().playWithIndex(0))) : h.isIgnoreMovementBoneData() || (h.getDisplayManager().changeDisplayWithIndex(-1, !1), k.stop())
		}
		this._armature.update(0)
	},
	playByIndex: function(a, b, c, d, e) {
		cc.log("playByIndex is deprecated. Use playWithIndex instead.");
		this.playWithIndex(a, b, d)
	},
	playWithIndex: function(a, b, c) {
		var d = this._animationData.movementNames;
		cc.assert(-1 < a && a < d.length);
		this.play(d[a], b, c)
	},
	playWithNames: function(a, b, c) {
		this._movementListLoop = void 0 === c ? !0 : c;
		this._movementListDurationTo = void 0 === b ? -1 : b;
		this._onMovementList = !0;
		this._movementIndex = 0;
		a instanceof Array ? this._movementList = a : this._movementList.length = 0;
		this.updateMovementList()
	},
	playWithIndexes: function(a,
		b, c) {
		this._movementList.length = 0;
		this._movementListLoop = void 0 === c ? !0 : c;
		this._movementListDurationTo = void 0 === b ? -1 : b;
		this._onMovementList = !0;
		this._movementIndex = 0;
		b = this._animationData.movementNames;
		for (c = 0; c < a.length; c++) this._movementList.push(b[a[c]]);
		this.updateMovementList()
	},
	gotoAndPlay: function(a) {
		if (!this._movementData || 0 > a || a >= this._movementData.duration) cc.log("Please ensure you have played a movement, and the frameIndex is in the range.");
		else {
			var b = this._ignoreFrameEvent;
			this._isPlaying =
				this._ignoreFrameEvent = !0;
			this._isComplete = this._isPause = !1;
			ccs.ProcessBase.prototype.gotoFrame.call(this, a);
			this._currentPercent = this._curFrameIndex / (this._movementData.duration - 1);
			this._currentFrame = this._nextFrameIndex * this._currentPercent;
			for (var c = this._tweenList, d = 0; d < c.length; d++) c[d].gotoAndPlay(a);
			this._armature.update(0);
			this._ignoreFrameEvent = b
		}
	},
	gotoAndPause: function(a) {
		this.gotoAndPlay(a);
		this.pause()
	},
	getMovementCount: function() {
		return this._animationData.getMovementCount()
	},
	update: function(a) {
		ccs.ProcessBase.prototype.update.call(this,
			a);
		for (var b = this._tweenList, c = 0; c < b.length; c++) b[c].update(a);
		for (b = this._frameEventQueue; 0 < b.length;) a = b.shift(), this._ignoreFrameEvent = !0, this._frameEventCallFunc && this._frameEventCallFunc.call(this._frameEventTarget, a.bone, a.frameEventName, a.originFrameIndex, a.currentFrameIndex), this._frameEventListener && this._frameEventListener(a.bone, a.frameEventName, a.originFrameIndex, a.currentFrameIndex), this._ignoreFrameEvent = !1;
		for (b = this._movementEventQueue; 0 < b.length;) a = b.shift(), this._movementEventCallFunc &&
			this._movementEventCallFunc.call(this._movementEventTarget, a.armature, a.movementType, a.movementID), this._movementEventListener && this._movementEventListener(a.armature, a.movementType, a.movementID)
	},
	updateHandler: function() {
		var a = this._currentPercent;
		if (1 <= a) {
			switch (this._loopType) {
				case ccs.ANIMATION_TYPE_NO_LOOP:
					this._loopType = ccs.ANIMATION_TYPE_MAX;
					this._currentFrame = (a - 1) * this._nextFrameIndex;
					a = this._currentFrame / this._durationTween;
					if (1 > a) {
						this._nextFrameIndex = this._durationTween;
						this.movementEvent(this._armature,
							ccs.MovementEventType.start, this._movementID);
						break
					}
					break;
				case ccs.ANIMATION_TYPE_MAX:
				case ccs.ANIMATION_TYPE_SINGLE_FRAME:
					a = 1;
					this._isComplete = !0;
					this._isPlaying = !1;
					this.movementEvent(this._armature, ccs.MovementEventType.complete, this._movementID);
					this.updateMovementList();
					break;
				case ccs.ANIMATION_TYPE_TO_LOOP_FRONT:
					this._loopType = ccs.ANIMATION_TYPE_LOOP_FRONT;
					a = ccs.fmodf(a, 1);
					this._currentFrame = 0 === this._nextFrameIndex ? 0 : ccs.fmodf(this._currentFrame, this._nextFrameIndex);
					this._nextFrameIndex = 0 <
						this._durationTween ? this._durationTween : 1;
					this.movementEvent(this, ccs.MovementEventType.start, this._movementID);
					break;
				default:
					this._currentFrame = ccs.fmodf(this._currentFrame, this._nextFrameIndex), this._toIndex = 0, this.movementEvent(this._armature, ccs.MovementEventType.loopComplete, this._movementID)
			}
			this._currentPercent = a
		}
	},
	getCurrentMovementID: function() {
		return this._isComplete ? "" : this._movementID
	},
	setMovementEventCallFunc: function(a, b) {
		1 === arguments.length ? this._movementEventListener = a : 2 === arguments.length &&
			(this._movementEventTarget = b, this._movementEventCallFunc = a)
	},
	setFrameEventCallFunc: function(a, b) {
		1 === arguments.length ? this._frameEventListener = a : 2 === arguments.length && (this._frameEventTarget = b, this._frameEventCallFunc = a)
	},
	setUserObject: function(a) {
		this._userObject = a
	},
	frameEvent: function(a, b, c, d) {
		if (this._frameEventTarget && this._frameEventCallFunc || this._frameEventListener) {
			var e = new ccs.FrameEvent;
			e.bone = a;
			e.frameEventName = b;
			e.originFrameIndex = c;
			e.currentFrameIndex = d;
			this._frameEventQueue.push(e)
		}
	},
	movementEvent: function(a, b, c) {
		if (this._movementEventTarget && this._movementEventCallFunc || this._movementEventListener) {
			var d = new ccs.MovementEvent;
			d.armature = a;
			d.movementType = b;
			d.movementID = c;
			this._movementEventQueue.push(d)
		}
	},
	updateMovementList: function() {
		if (this._onMovementList) {
			var a, b = this._movementList;
			this._movementListLoop ? (a = b[this._movementIndex], this.play(a, a.durationTo, 0), this._movementIndex++, this._movementIndex >= b.length && (this._movementIndex = 0)) : this._movementIndex < b.length ? (a = b[this._movementIndex],
				this.play(a, a.durationTo, 0), this._movementIndex++) : this._onMovementList = !1;
			this._onMovementList = !0
		}
	},
	setAnimationData: function(a) {
		this._animationData !== a && (this._animationData = a)
	},
	getAnimationData: function() {
		return this._animationData
	},
	getUserObject: function() {
		return this._userObject
	},
	isIgnoreFrameEvent: function() {
		return this._ignoreFrameEvent
	}
});
_p = ccs.ArmatureAnimation.prototype;
cc.defineGetterSetter(_p, "speedScale", _p.getSpeedScale, _p.setSpeedScale);
cc.defineGetterSetter(_p, "animationScale", _p.getAnimationScale, _p.setAnimationScale);
_p = null;
ccs.ArmatureAnimation.create = function(a) {
	return new ccs.ArmatureAnimation(a)
};
ccs.Tween = ccs.ProcessBase.extend({
	_tweenData: null,
	_to: null,
	_from: null,
	_between: null,
	_movementBoneData: null,
	_bone: null,
	_frameTweenEasing: 0,
	_betweenDuration: 0,
	_totalDuration: 0,
	_toIndex: 0,
	_fromIndex: 0,
	_animation: null,
	_passLastFrame: !1,
	ctor: function(a) {
		ccs.ProcessBase.prototype.ctor.call(this);
		this._frameTweenEasing = ccs.TweenType.LINEAR;
		ccs.Tween.prototype.init.call(this, a)
	},
	init: function(a) {
		this._from = new ccs.FrameData;
		this._between = new ccs.FrameData;
		this._bone = a;
		this._tweenData = this._bone.getTweenData();
		this._tweenData.displayIndex = -1;
		this._animation = null !== this._bone && null !== this._bone.getArmature() ? this._bone.getArmature().getAnimation() : null;
		return !0
	},
	play: function(a, b, c, d, e) {
		ccs.ProcessBase.prototype.play.call(this, b, c, d, e);
		this._loopType = d ? ccs.ANIMATION_TYPE_TO_LOOP_FRONT : ccs.ANIMATION_TYPE_NO_LOOP;
		this._fromIndex = this._toIndex = this._betweenDuration = this._totalDuration = 0;
		e = a !== this._movementBoneData;
		this.setMovementBoneData(a);
		this._rawDuration = this._movementBoneData.duration;
		a = this._movementBoneData.getFrameData(0);
		this._tweenData.displayIndex = a.displayIndex;
		this._bone.getArmature().getArmatureData().dataVersion >= ccs.CONST_VERSION_COMBINED && (ccs.TransformHelp.nodeSub(this._tweenData, this._bone.getBoneData()), this._tweenData.scaleX += 1, this._tweenData.scaleY += 1);
		0 === this._rawDuration ? (this._loopType = ccs.ANIMATION_TYPE_SINGLE_FRAME, 0 === b ? this.setBetween(a, a) : this.setBetween(this._tweenData, a), this._frameTweenEasing = ccs.TweenType.LINEAR) : 1 < this._movementBoneData.frameList.length && (this._durationTween = c * this._movementBoneData.scale,
			d && 0 !== this._movementBoneData.delay ? this.setBetween(this._tweenData, this.tweenNodeTo(this.updateFrameData(1 - this._movementBoneData.delay), this._between)) : e && 0 !== b ? this.setBetween(this._tweenData, a) : this.setBetween(a, a));
		this.tweenNodeTo(0)
	},
	gotoAndPlay: function(a) {
		ccs.ProcessBase.prototype.gotoFrame.call(this, a);
		this._fromIndex = this._toIndex = this._betweenDuration = this._totalDuration = 0;
		this._isPlaying = !0;
		this._isComplete = this._isPause = !1;
		this._currentPercent = this._curFrameIndex / (this._rawDuration -
			1);
		this._currentFrame = this._nextFrameIndex * this._currentPercent
	},
	gotoAndPause: function(a) {
		this.gotoAndPlay(a);
		this.pause()
	},
	updateHandler: function() {
		var a = null == this._currentPercent ? 1 : this._currentPercent,
			b = this._loopType;
		if (1 <= a) switch (b) {
			case ccs.ANIMATION_TYPE_SINGLE_FRAME:
				a = 1;
				this._isComplete = !0;
				this._isPlaying = !1;
				break;
			case ccs.ANIMATION_TYPE_NO_LOOP:
				b = ccs.ANIMATION_TYPE_MAX;
				a = 0 >= this._durationTween ? 1 : (a - 1) * this._nextFrameIndex / this._durationTween;
				1 <= a ? (a = 1, this._isComplete = !0, this._isPlaying = !1) : (this._nextFrameIndex = this._durationTween, this._currentFrame = a * this._nextFrameIndex, this._fromIndex = this._toIndex = this._betweenDuration = this._totalDuration = 0);
				break;
			case ccs.ANIMATION_TYPE_TO_LOOP_FRONT:
				b = ccs.ANIMATION_TYPE_LOOP_FRONT;
				this._nextFrameIndex = 0 < this._durationTween ? this._durationTween : 1;
				0 !== this._movementBoneData.delay ? (this._currentFrame = (1 - this._movementBoneData.delay) * this._nextFrameIndex, a = this._currentFrame / this._nextFrameIndex) : this._currentFrame = a = 0;
				this._fromIndex = this._toIndex =
					this._betweenDuration = this._totalDuration = 0;
				break;
			case ccs.ANIMATION_TYPE_MAX:
				a = 1;
				this._isComplete = !0;
				this._isPlaying = !1;
				break;
			default:
				this._currentFrame = ccs.fmodf(this._currentFrame, this._nextFrameIndex)
		}
		1 > a && b < ccs.ANIMATION_TYPE_TO_LOOP_BACK && (a = Math.sin(a * cc.PI / 2));
		this._currentPercent = a;
		this._loopType = b;
		b > ccs.ANIMATION_TYPE_TO_LOOP_BACK && (a = this.updateFrameData(a));
		this._frameTweenEasing !== ccs.TweenType.TWEEN_EASING_MAX && this.tweenNodeTo(a)
	},
	setBetween: function(a, b, c) {
		void 0 === c && (c = !0);
		0 > a.displayIndex &&
			0 <= b.displayIndex ? (this._from.copy(b), this._between.subtract(b, b, c)) : 0 > b.displayIndex && 0 <= a.displayIndex ? (this._from.copy(a), this._between.subtract(b, b, c)) : (this._from.copy(a), this._between.subtract(a, b, c));
		a.isTween || (this._tweenData.copy(a), this._tweenData.isTween = !0);
		this.arriveKeyFrame(a)
	},
	arriveKeyFrame: function(a) {
		if (a) {
			var b = this._bone,
				c = b.getDisplayManager(),
				d = a.displayIndex;
			c.getForceChangeDisplay() || c.changeDisplayWithIndex(d, !1);
			this._tweenData.zOrder = a.zOrder;
			b.updateZOrder();
			this._bone.setBlendFunc(a.blendFunc);
			(b = b.getChildArmature()) && "" !== a.movement && b.getAnimation().play(a.movement)
		}
	},
	tweenNodeTo: function(a, b) {
		b || (b = this._tweenData);
		var c = this._from,
			d = this._between;
		c.isTween || (a = 0);
		b.x = c.x + a * d.x;
		b.y = c.y + a * d.y;
		b.scaleX = c.scaleX + a * d.scaleX;
		b.scaleY = c.scaleY + a * d.scaleY;
		b.skewX = c.skewX + a * d.skewX;
		b.skewY = c.skewY + a * d.skewY;
		this._bone.setTransformDirty(!0);
		b && d.isUseColorInfo && this.tweenColorTo(a, b);
		return b
	},
	tweenColorTo: function(a, b) {
		var c = this._from,
			d = this._between;
		b.a = c.a + a * d.a;
		b.r = c.r + a * d.r;
		b.g = c.g + a *
			d.g;
		b.b = c.b + a * d.b;
		this._bone.updateColor()
	},
	updateFrameData: function(a) {
		1 < a && 0 !== this._movementBoneData.delay && (a = ccs.fmodf(a, 1));
		a *= this._rawDuration - 1;
		var b, c, d = this._totalDuration,
			e = this._betweenDuration,
			f = this._toIndex;
		if (a < d || a >= d + e) {
			var e = this._movementBoneData.frameList,
				g = e.length;
			if (a < e[0].frameID) return b = c = e[0], this.setBetween(b, c), this._currentPercent;
			if (a >= e[g - 1].frameID) {
				if (this._passLastFrame) return b = c = e[g - 1], this.setBetween(b, c), this._currentPercent;
				this._passLastFrame = !0
			} else this._passLastFrame = !1;
			do
				if (this._fromIndex = f, b = e[this._fromIndex], d = b.frameID, f = this._fromIndex + 1, f >= g && (f = 0), c = e[f], b.strEvent && !this._animation.isIgnoreFrameEvent() && this._animation.frameEvent(this._bone, b.strEvent, b.frameID, a), a === b.frameID || this._passLastFrame && this._fromIndex === g - 1) break; while (a < b.frameID || a >= c.frameID);
			e = c.frameID - b.frameID;
			this._frameTweenEasing = b.tweenEasing;
			this.setBetween(b, c, !1);
			this._totalDuration = d;
			this._betweenDuration = e;
			this._toIndex = f
		}
		a = 0 === e ? 0 : (a - this._totalDuration) / this._betweenDuration;
		b = this._frameTweenEasing !== ccs.TweenType.LINEAR ? this._frameTweenEasing : this._tweenEasing;
		b === ccs.TweenType.TWEEN_EASING_MAX || b === ccs.TweenType.LINEAR || this._passLastFrame || (a = ccs.TweenFunction.tweenTo(a, b, this._from.easingParams));
		return a
	},
	setAnimation: function(a) {
		this._animation = a
	},
	getAnimation: function() {
		return this._animation
	},
	setMovementBoneData: function(a) {
		this._movementBoneData = a
	}
});
_p = ccs.Tween.prototype;
cc.defineGetterSetter(_p, "animation", _p.getAnimation, _p.setAnimation);
_p = null;
ccs.Tween.create = function(a) {
	return new ccs.Tween(a)
};
ccs.PT_RATIO = 32;
ccs.ColliderFilter = ccs.Class.extend({
	_collisionType: 0,
	_group: 0,
	_categoryBits: 0,
	_groupIndex: 0,
	_maskBits: 0,
	ctor: function(a, b) {
		this._collisionType = a || 0;
		this._group = b || 0
	},
	updateShape: function(a) {
		if (a instanceof cp.Shape) a.collision_type = this._collisionType, a.group = this._group;
		else if (a instanceof Box2D.b2FilterData) {
			var b = new Box2D.b2FilterData;
			b.categoryBits = this._categoryBits;
			b.groupIndex = this._groupIndex;
			b.maskBits = this._maskBits;
			a.SetFilterData(b)
		}
	}
});
ccs.ColliderBody = ccs.Class.extend({
	shape: null,
	coutourData: null,
	colliderFilter: null,
	_calculatedVertexList: null,
	ctor: function(a) {
		this.shape = null;
		this.coutourData = a;
		this.colliderFilter = new ccs.ColliderFilter;
		ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX && (this._calculatedVertexList = [])
	},
	getContourData: function() {
		return this.coutourData
	},
	setColliderFilter: function(a) {
		this.colliderFilter = a
	},
	getCalculatedVertexList: function() {
		return this._calculatedVertexList
	},
	setB2Fixture: function(a) {
		this._fixture = a
	},
	getB2Fixture: function() {
		return this._fixture
	},
	setShape: function(a) {
		this.shape = a
	},
	getShape: function() {
		return this.shape
	},
	setContourData: function(a) {
		this.coutourData = a
	},
	getColliderFilter: function() {
		return this.colliderFilter
	}
});
ccs.ColliderDetector = ccs.Class.extend({
	_colliderBodyList: null,
	_bone: null,
	_body: null,
	_active: !1,
	_filter: null,
	helpPoint: cc.p(0, 0),
	ctor: function(a) {
		this._colliderBodyList = [];
		this._body = this._bone = null;
		this._active = !1;
		this._filter = null;
		ccs.ColliderDetector.prototype.init.call(this, a)
	},
	init: function(a) {
		this._colliderBodyList.length = 0;
		a && (this._bone = a);
		this._filter = new ccs.ColliderFilter;
		return !0
	},
	addContourData: function(a) {
		var b = new ccs.ColliderBody(a);
		this._colliderBodyList.push(b);
		if (ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX) {
			b =
				b.getCalculatedVertexList();
			a = a.vertexList;
			for (var c = 0; c < a.length; c++) {
				var d = new ccs.ContourVertex2(0, 0);
				b.push(d)
			}
		}
	},
	addContourDataList: function(a) {
		for (var b = 0; b < a.length; b++) this.addContourData(a[b])
	},
	removeContourData: function(a) {
		var b = [],
			c, d = this._colliderBodyList;
		for (c = 0; c < d.length; c++) {
			var e = d[c];
			e && e.getContourData() === a && b.push(e)
		}
		for (c = 0; c < b.length; c++) cc.arrayRemoveObject(d, b[c])
	},
	removeAll: function() {
		this._colliderBodyList.length = 0
	},
	setActive: function(a) {
		if (this._active !== a) {
			this._active =
				a;
			a = this._body;
			var b;
			if (a)
				if (b = null, this._active)
					for (var c = 0; c < this._colliderBodyList.length; c++) b = this._colliderBodyList[c], b = b.getShape(), a.space.addShape(b);
				else
					for (c = 0; c < this._colliderBodyList.length; c++) b = this._colliderBodyList[c], b = b.getShape(), a.space.removeShape(b)
		}
	},
	getActive: function() {
		return this._active
	},
	getColliderBodyList: function() {
		return this._colliderBodyList
	},
	setColliderFilter: function(a) {
		this._filter = a;
		for (var b = this._colliderBodyList, c = 0; c < b.length; c++) {
			var d = b[c];
			d.setColliderFilter(a);
			d.getShape() && d.getColliderFilter().updateShape(d.getShape())
		}
	},
	getColliderFilter: function() {
		return this._filter
	},
	updateTransform: function(a) {
		if (this._active)
			for (var b = null, c = this._body, d = this.helpPoint, e = 0; e < this._colliderBodyList.length; e++) {
				var b = this._colliderBodyList[e],
					f = b.getContourData(),
					g = null;
				c && (g = b.getShape());
				for (var f = f.vertexList, h = b.getCalculatedVertexList(), b = 0; b < f.length; b++) {
					d.x = f[b].x;
					d.y = f[b].y;
					d = cc.pointApplyAffineTransform(d, a);
					if (ccs.ENABLE_PHYSICS_SAVE_CALCULATED_VERTEX) {
						var k =
							cc.p(0, 0);
						k.x = d.x;
						k.y = d.y;
						h[b] = k
					}
					g && (g.verts[2 * b] = d.x, g.verts[2 * b + 1] = d.y)
				}
				if (g)
					for (b = 0; b < f.length; b++) h = cp.v.normalize(cp.v.perp(cp.v.sub(g.verts[(b + 1) % g.verts.length], g.verts[b]))), g.planes && (g.planes[b].n = h, g.planes[b].d = cp.v.dot(h, g.verts[b]))
			}
	},
	setBody: function(a) {
		this._body = a;
		for (var b = this._colliderBodyList, c = 0; c < b.length; c++) {
			a = b[c];
			for (var d = [], e = a.getContourData().vertexList, f = 0; f < e.length; f++) {
				var g = e[f];
				d.push(g.x);
				d.push(g.y)
			}
			d = new cp.PolyShape(this._body, d, cp.vzero);
			d.sensor = !0;
			d.data =
				this._bone;
			this._active && this._body.space.addShape(d);
			a.setShape(d);
			a.getColliderFilter().updateShape(d)
		}
	},
	getBody: function() {
		return this._body
	}
});
_p = ccs.ColliderDetector.prototype;
cc.defineGetterSetter(_p, "colliderFilter", _p.getColliderFilter, _p.setColliderFilter);
cc.defineGetterSetter(_p, "active", _p.getActive, _p.setActive);
cc.defineGetterSetter(_p, "body", _p.getBody, _p.setBody);
_p = null;
ccs.ColliderDetector.create = function(a) {
	return new ccs.ColliderDetector(a)
};
ccs.Armature = ccs.Node.extend({
	animation: null,
	armatureData: null,
	batchNode: null,
	_parentBone: null,
	_boneDic: null,
	_topBoneList: null,
	_armatureIndexDic: null,
	_offsetPoint: null,
	version: 0,
	_armatureTransformDirty: !0,
	_body: null,
	_blendFunc: null,
	_className: "Armature",
	ctor: function(a, b) {
		cc.Node.prototype.ctor.call(this);
		this._name = "";
		this._topBoneList = [];
		this._armatureIndexDic = {};
		this._offsetPoint = cc.p(0, 0);
		this._armatureTransformDirty = !0;
		this._blendFunc = {
			src: cc.BLEND_SRC,
			dst: cc.BLEND_DST
		};
		a && ccs.Armature.prototype.init.call(this,
			a, b);
		this._texture = {}
	},
	init: function(a, b) {
		b && (this._parentBone = b);
		this.removeAllChildren();
		this.animation = new ccs.ArmatureAnimation;
		this.animation.init(this);
		this._boneDic = {};
		this._topBoneList.length = 0;
		var c = ccs.armatureDataManager,
			d;
		if ("" !== a) {
			d = c.getAnimationData(a);
			cc.assert(d, "AnimationData not exist!");
			this.animation.setAnimationData(d);
			c = c.getArmatureData(a);
			cc.assert(c, "ArmatureData not exist!");
			this.armatureData = c;
			var c = c.getBoneDataDic(),
				e;
			for (e in c) {
				var c = this.createBone(String(e)),
					f = d.getMovement(d.movementNames[0]);
				f && (f = f.getMovementBoneData(c.getName())) && !(0 >= f.frameList.length) && (f = f.getFrameData(0)) && (c.getTweenData().copy(f), c.changeDisplayWithIndex(f.displayIndex, !1))
			}
			this.update(0);
			this.updateOffsetPoint()
		} else a = "new_armature", this.armatureData = new ccs.ArmatureData, this.armatureData.name = a, d = new ccs.AnimationData, d.name = a, c.addArmatureData(a, this.armatureData), c.addAnimationData(a, d), this.animation.setAnimationData(d);
		this._renderCmd.initShaderCache();
		this.setCascadeOpacityEnabled(!0);
		this.setCascadeColorEnabled(!0);
		return !0
	},
	visit: function(a) {
		var b = this._renderCmd;
		a = a ? a._renderCmd : null;
		this._visible ? (b.visit(a), b._dirtyFlag = 0) : b._propagateFlagsDown(a)
	},
	addChild: function(a, b, c) {
		a instanceof ccui.Widget ? cc.log("Armature doesn't support to add Widget as its child, it will be fix soon.") : cc.Node.prototype.addChild.call(this, a, b, c)
	},
	createBone: function(a) {
		var b = this.getBone(a);
		if (b) return b;
		var b = this.armatureData.getBoneData(a),
			c = b.parentName,
			d = null;
		c ? (this.createBone(c), d = new ccs.Bone(a), this.addBone(d, c)) : (d =
			new ccs.Bone(a), this.addBone(d, ""));
		d.setBoneData(b);
		d.getDisplayManager().changeDisplayWithIndex(-1, !1);
		return d
	},
	addBone: function(a, b) {
		cc.assert(a, "Argument must be non-nil");
		var c = this._boneDic;
		a.getName() && cc.assert(!c[a.getName()], "bone already added. It can't be added again");
		if (b) {
			var d = c[b];
			d ? d.addChildBone(a) : this._topBoneList.push(a)
		} else this._topBoneList.push(a);
		a.setArmature(this);
		c[a.getName()] = a;
		this.addChild(a)
	},
	removeBone: function(a, b) {
		cc.assert(a, "bone must be added to the bone dictionary!");
		a.setArmature(null);
		a.removeFromParent(b);
		cc.arrayRemoveObject(this._topBoneList, a);
		delete this._boneDic[a.getName()];
		this.removeChild(a, !0)
	},
	getBone: function(a) {
		return this._boneDic[a]
	},
	changeBoneParent: function(a, b) {
		cc.assert(a, "bone must be added to the bone dictionary!");
		var c = a.getParentBone();
		c && (cc.arrayRemoveObject(c.getChildren(), a), a.setParentBone(null));
		b && ((c = this._boneDic[b]) ? (c.addChildBone(a), cc.arrayRemoveObject(this._topBoneList, a)) : this._topBoneList.push(a))
	},
	getBoneDic: function() {
		return this._boneDic
	},
	updateOffsetPoint: function() {
		var a = this.getBoundingBox();
		this.setContentSize(a);
		var b = this._offsetPoint;
		b.x = -a.x;
		b.y = -a.y;
		0 !== a.width && 0 !== a.height && this.setAnchorPoint(b.x / a.width, b.y / a.height)
	},
	getOffsetPoints: function() {
		return {
			x: this._offsetPoint.x,
			y: this._offsetPoint.y
		}
	},
	setAnimation: function(a) {
		this.animation = a
	},
	getAnimation: function() {
		return this.animation
	},
	getArmatureTransformDirty: function() {
		return this._armatureTransformDirty
	},
	update: function(a) {
		this.animation.update(a);
		for (var b = this._topBoneList,
				c = 0; c < b.length; c++) b[c].update(a);
		this._armatureTransformDirty = !1
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		this.scheduleUpdate()
	},
	onExit: function() {
		cc.Node.prototype.onExit.call(this);
		this.unscheduleUpdate()
	},
	getBoundingBox: function() {
		for (var a, b, c, d = 0, e = !0, f = cc.rect(0, 0, 0, 0), g = this._children, h = g.length, k = 0; k < h; k++)
			if (a = g[k])
				if (d = a.getDisplayManager().getBoundingBox(), 0 !== d.x || 0 !== d.y || 0 !== d.width || 0 !== d.height) e ? (a = d.x, b = d.y, c = d.x + d.width, d = d.y + d.height, e = !1) : (a = d.x < f.x ? d.x : f.x, b =
					d.y < f.y ? d.y : f.y, c = d.x + d.width > f.x + f.width ? d.x + d.width : f.x + f.width, d = d.y + d.height > f.y + f.height ? d.y + d.height : f.y + f.height), f.x = a, f.y = b, f.width = c - a, f.height = d - b;
		return cc.rectApplyAffineTransform(f, this.getNodeToParentTransform())
	},
	getBoneAtPoint: function(a, b) {
		for (var c = this._children, d = c.length - 1; 0 <= d; d--) {
			var e = c[d];
			if (e instanceof ccs.Bone && e.getDisplayManager().containPoint(a, b)) return e
		}
		return null
	},
	setParentBone: function(a) {
		this._parentBone = a;
		a = this._boneDic;
		for (var b in a) a[b].setArmature(this)
	},
	getParentBone: function() {
		return this._parentBone
	},
	drawContour: function() {
		cc._drawingUtil.setDrawColor(255, 255, 255, 255);
		cc._drawingUtil.setLineWidth(1);
		var a = this._boneDic,
			b;
		for (b in a) {
			var c = a[b].getColliderDetector();
			if (c)
				for (var c = c.getColliderBodyList(), d = 0; d < c.length; d++) {
					var e = c[d].getCalculatedVertexList();
					cc._drawingUtil.drawPoly(e, e.length, !0)
				}
		}
	},
	setBody: function(a) {
		if (this._body !== a) {
			this._body = a;
			this._body.data = this;
			var b, c;
			a = this._children;
			for (var d = 0; d < a.length; d++)
				if (b = a[d], b instanceof ccs.Bone) {
					b = b.getDisplayManager().getDecorativeDisplayList();
					for (var e = 0; e < b.length; e++) c = b[e], (c = c.getColliderDetector()) && c.setBody(this._body)
				}
		}
	},
	getShapeList: function() {
		return this._body ? this._body.shapeList : null
	},
	getBody: function() {
		return this._body
	},
	setBlendFunc: function(a, b) {
		void 0 === b ? (this._blendFunc.src = a.src, this._blendFunc.dst = a.dst) : (this._blendFunc.src = a, this._blendFunc.dst = b)
	},
	getBlendFunc: function() {
		return new cc.BlendFunc(this._blendFunc.src, this._blendFunc.dst)
	},
	setColliderFilter: function(a) {
		var b =
			this._boneDic,
			c;
		for (c in b) b[c].setColliderFilter(a)
	},
	getArmatureData: function() {
		return this.armatureData
	},
	setArmatureData: function(a) {
		this.armatureData = a
	},
	getBatchNode: function() {
		return this.batchNode
	},
	setBatchNode: function(a) {
		this.batchNode = a
	},
	getVersion: function() {
		return this.version
	},
	setVersion: function(a) {
		this.version = a
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new ccs.Armature.CanvasRenderCmd(this) : new ccs.Armature.WebGLRenderCmd(this)
	}
});
_p = ccs.Armature.prototype;
cc.defineGetterSetter(_p, "parentBone", _p.getParentBone, _p.setParentBone);
cc.defineGetterSetter(_p, "body", _p.getBody, _p.setBody);
cc.defineGetterSetter(_p, "colliderFilter", null, _p.setColliderFilter);
_p = null;
ccs.Armature.create = function(a, b) {
	return new ccs.Armature(a, b)
};
(function() {
	ccs.Armature.RenderCmd = {
		_updateAnchorPointInPoint: function() {
			var a = this._node,
				b = a._contentSize,
				c = a._anchorPoint,
				a = a._offsetPoint;
			this._anchorPointInPoints.x = b.width * c.x - a.x;
			this._anchorPointInPoints.y = b.height * c.y - a.y;
			this._realAnchorPointInPoints.x = b.width * c.x;
			this._realAnchorPointInPoints.y = b.height * c.y;
			this.setDirtyFlag(cc.Node._dirtyFlags.transformDirty)
		},
		getAnchorPointInPoints: function() {
			return cc.p(this._realAnchorPointInPoints)
		}
	}
})();
(function() {
	ccs.Armature.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._realAnchorPointInPoints = new cc.Point(0, 0);
		this._canUseDirtyRegion = !0;
		this._startRenderCmd = new cc.CustomRenderCmd(this, this._startCmdCallback);
		this._RestoreRenderCmd = new cc.CustomRenderCmd(this, this._RestoreCmdCallback);
		this._startRenderCmd._canUseDirtyRegion = !0;
		this._RestoreRenderCmd._canUseDirtyRegion = !0;
		this._transform = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		};
		this._worldTransform = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		}
	};
	var a =
		ccs.Armature.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	cc.inject(ccs.Armature.RenderCmd, a);
	a.constructor = ccs.Armature.CanvasRenderCmd;
	a._startCmdCallback = function(a, c, d) {
		var e = this._node._parent;
		this.transform(e ? e._renderCmd : null);
		a = a || cc._renderContext;
		a.save();
		a._switchToArmatureMode(!0, this._worldTransform, c, d)
	};
	a.transform = function(a, c) {
		this.originTransform(a, c);
		for (var d = this._node._children, e = 0, f = d.length; e < f; e++) {
			var g = d[e],
				h = g._renderCmd;
			if (g && g.getDisplayRenderNode) {
				var k =
					g.getDisplayRenderNodeType(),
					m = g.getDisplayRenderNode();
				if (m && m._renderCmd) {
					m = m._renderCmd;
					m.transform(null);
					k !== ccs.DISPLAY_TYPE_ARMATURE && k !== ccs.DISPLAY_TYPE_SPRITE && cc.affineTransformConcatIn(m._worldTransform, g._worldTransform);
					var k = cc.Node._dirtyFlags,
						n = m._dirtyFlag,
						p = h._dirtyFlag,
						r = p & k.colorDirty,
						p = p & k.opacityDirty;
					r && h._updateDisplayColor(this._displayedColor);
					p && h._updateDisplayOpacity(this._displayedOpacity);
					(r || p) && h._updateColor();
					h = g._renderCmd._displayedColor;
					g = g._renderCmd._displayedOpacity;
					r = n & k.colorDirty;
					p = n & k.opacityDirty;
					r && m._updateDisplayColor(h);
					p && m._updateDisplayOpacity(g);
					(r || p) && m._updateColor()
				}
			}
		}
	};
	a._RestoreCmdCallback = function(a) {
		this._cacheDirty = !1;
		a._switchToArmatureMode(!1);
		a.restore()
	};
	a.initShaderCache = function() {};
	a.setShaderProgram = function() {};
	a.updateChildPosition = function(a, c) {
		a.visit()
	};
	a.rendering = function(a, c, d) {
		for (var e = this._node._children, f = 0, g = e.length; f < g; f++) {
			var h = e[f];
			if (h && h.getDisplayRenderNode) {
				var k = h.getDisplayRenderNode();
				if (null !== k) switch (h._renderCmd._syncStatus(this),
					h.getDisplayRenderNodeType()) {
					case ccs.DISPLAY_TYPE_SPRITE:
						k.visit(h);
						break;
					case ccs.DISPLAY_TYPE_ARMATURE:
						k._renderCmd.rendering(a, c, d);
						break;
					default:
						k.visit(h)
				}
			} else h instanceof cc.Node && this._visitNormalChild(h)
		}
	};
	a._visitNormalChild = function(a) {
		if (a) {
			var c = a._renderCmd;
			if (a._visible) {
				c._curLevel = this._curLevel + 1;
				var d, e = a._children,
					f;
				c._syncStatus(this);
				c.transform(null);
				var g = e.length;
				if (0 < g) {
					a.sortAllChildren();
					for (d = 0; d < g; d++)
						if (f = e[d], 0 > f._localZOrder) f.visit(a);
						else break;
					for (cc.renderer.pushRenderCommand(c); d <
						g; d++) e[d].visit(a)
				} else cc.renderer.pushRenderCommand(c);
				this._dirtyFlag = 0
			}
		}
	};
	a.visit = function(a) {
		var c = this._node;
		c._visible && (this._syncStatus(a), c.sortAllChildren(), cc.renderer.pushRenderCommand(this._startRenderCmd), this.rendering(), cc.renderer.pushRenderCommand(this._RestoreRenderCmd), this._cacheDirty = !1)
	}
})();
(function() {
	ccs.Armature.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._parentCmd = null;
		this._realAnchorPointInPoints = new cc.Point(0, 0);
		this._transform = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		};
		this._worldTransform = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		}
	};
	var a = ccs.Armature.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	cc.inject(ccs.Armature.RenderCmd, a);
	a.constructor = ccs.Armature.WebGLRenderCmd;
	a.uploadData = function(a, c, d) {
		a = this._node;
		d = this._parentCmd || this;
		for (var e = a._children,
				f = cc.BlendFunc.ALPHA_PREMULTIPLIED, g = cc.BlendFunc.ALPHA_NON_PREMULTIPLIED, h = 0, k = e.length; h < k; h++) {
			var m = e[h],
				n = m._renderCmd;
			if (m && m.getDisplayRenderNode) {
				var p = m.getDisplayRenderNode();
				if (null !== p) switch (c = p._renderCmd, m.getDisplayRenderNodeType()) {
					case ccs.DISPLAY_TYPE_SPRITE:
						p instanceof ccs.Skin && (p.setShaderProgram(this._shaderProgram), this._updateColorAndOpacity(c, m), c.transform(d), n = m.getBlendFunc(), n.src !== f.src || n.dst !== f.dst ? p.setBlendFunc(m.getBlendFunc()) : (m = p.getTexture(), a._blendFunc.src ===
							f.src && a._blendFunc.dst === f.dst && m && !m.hasPremultipliedAlpha() ? p.setBlendFunc(g) : p.setBlendFunc(a._blendFunc)), cc.renderer._uploadBufferData(c));
						break;
					case ccs.DISPLAY_TYPE_ARMATURE:
						p.setShaderProgram(this._shaderProgram), this._updateColorAndOpacity(c, m), c._parentCmd = this;
					default:
						n._syncStatus(d), c._syncStatus(n), c.uploadData ? cc.renderer._uploadBufferData(c) : c.rendering && (cc.renderer._batchRendering(), c.rendering(cc._renderContext))
				}
			} else m instanceof cc.Node && (m.setShaderProgram(this._shaderProgram),
				n._syncStatus(d), n.uploadData ? cc.renderer._uploadBufferData(n) : n.rendering && (cc.renderer._batchRendering(), n.rendering(cc._renderContext)))
		}
		this._parentCmd = null;
		return 0
	};
	a.initShaderCache = function() {
		this._shaderProgram = cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR)
	};
	a.setShaderProgram = function(a) {
		this._glProgramState = cc.GLProgramState.getOrCreateWithGLProgram(a)
	};
	a._updateColorAndOpacity = function(a, c) {
		var d = c._renderCmd._displayedColor,
			e = c._renderCmd._displayedOpacity,
			f = cc.Node._dirtyFlags,
			g = a._dirtyFlag,
			h = g & f.colorDirty,
			f = g & f.opacityDirty;
		h && a._updateDisplayColor(d);
		f && a._updateDisplayOpacity(e);
		(h || f) && a._updateColor()
	};
	a.visit = function(a) {
		var c = this._node;
		if (c._visible) {
			if (a = a || this.getParentRenderCmd()) this._curLevel = a._curLevel + 1;
			this._syncStatus(a);
			c.sortAllChildren();
			a = cc.renderer;
			var d = c._children,
				e, f = d.length;
			isNaN(c._customZ) && (c._vertexZ = a.assignedZ, a.assignedZ += a.assignedZStep);
			for (e = 0; e < f; e++)
				if (c = d[e], 0 > c._localZOrder) isNaN(c._customZ) && (c._vertexZ = a.assignedZ, a.assignedZ +=
					a.assignedZStep);
				else break;
			for (a.pushRenderCommand(this); e < f; e++) c = d[e], isNaN(c._customZ) && (c._vertexZ = a.assignedZ, a.assignedZ += a.assignedZStep);
			this._dirtyFlag = 0
		}
	}
})();
ccs.Bone = ccs.Node.extend({
	_boneData: null,
	_armature: null,
	_childArmature: null,
	_displayManager: null,
	ignoreMovementBoneData: !1,
	_tween: null,
	_tweenData: null,
	_parentBone: null,
	_boneTransformDirty: !1,
	_worldTransform: null,
	_blendFunc: null,
	blendDirty: !1,
	_worldInfo: null,
	_armatureParentBone: null,
	_dataVersion: 0,
	_className: "Bone",
	ctor: function(a) {
		cc.Node.prototype.ctor.call(this);
		this._displayManager = this._tween = this._boneData = this._childArmature = this._armature = this._parentBone = this._tweenData = null;
		this.ignoreMovementBoneData = !1;
		this._worldTransform = cc.affineTransformMake(1, 0, 0, 1, 0, 0);
		this._boneTransformDirty = !0;
		this._blendFunc = new cc.BlendFunc(cc.BLEND_SRC, cc.BLEND_DST);
		this.blendDirty = !1;
		this._armatureParentBone = this._worldInfo = null;
		this._dataVersion = 0;
		ccs.Bone.prototype.init.call(this, a)
	},
	init: function(a) {
		a && (this._name = a);
		this._tweenData = new ccs.FrameData;
		this._tween = new ccs.Tween(this);
		this._displayManager = new ccs.DisplayManager(this);
		this._worldInfo = new ccs.BaseData;
		this._boneData = new ccs.BaseData;
		return !0
	},
	setBoneData: function(a) {
		cc.assert(a,
			"_boneData must not be null");
		this._boneData !== a && (this._boneData = a);
		this.setName(this._boneData.name);
		this._localZOrder = this._boneData.zOrder;
		this._displayManager.initDisplayList(a)
	},
	getBoneData: function() {
		return this._boneData
	},
	setArmature: function(a) {
		(this._armature = a) ? (this._tween.setAnimation(this._armature.getAnimation()), this._dataVersion = this._armature.getArmatureData().dataVersion, this._armatureParentBone = this._armature.getParentBone()) : this._armatureParentBone = null
	},
	getArmature: function() {
		return this._armature
	},
	update: function(a) {
		this._parentBone && (this._boneTransformDirty = this._boneTransformDirty || this._parentBone.isTransformDirty());
		this._armatureParentBone && !this._boneTransformDirty && (this._boneTransformDirty = this._armatureParentBone.isTransformDirty());
		if (this._boneTransformDirty) {
			var b = this._tweenData;
			this._dataVersion >= ccs.CONST_VERSION_COMBINED && (ccs.TransformHelp.nodeConcat(b, this._boneData), b.scaleX -= 1, b.scaleY -= 1);
			var c = this._worldInfo;
			c.copy(b);
			c.x = b.x + this._position.x;
			c.y = b.y + this._position.y;
			c.scaleX = b.scaleX * this._scaleX;
			c.scaleY = b.scaleY * this._scaleY;
			c.skewX = b.skewX + this._skewX + cc.degreesToRadians(this._rotationX);
			c.skewY = b.skewY + this._skewY - cc.degreesToRadians(this._rotationY);
			this._parentBone ? this._applyParentTransform(this._parentBone) : this._armatureParentBone && this._applyParentTransform(this._armatureParentBone);
			ccs.TransformHelp.nodeToMatrix(c, this._worldTransform);
			this._armatureParentBone && cc.affineTransformConcatIn(this._worldTransform, this._armature.getNodeToParentTransform())
		}
		ccs.displayFactory.updateDisplay(this,
			a, this._boneTransformDirty || this._armature.getArmatureTransformDirty());
		for (b = 0; b < this._children.length; b++) this._children[b].update(a);
		this._boneTransformDirty = !1
	},
	_applyParentTransform: function(a) {
		var b = this._worldInfo,
			c = a._worldTransform;
		a = a._worldInfo;
		var d = b.x,
			e = b.y;
		b.x = d * c.a + e * c.c + a.x;
		b.y = d * c.b + e * c.d + a.y;
		b.scaleX *= a.scaleX;
		b.scaleY *= a.scaleY;
		b.skewX += a.skewX;
		b.skewY += a.skewY
	},
	setBlendFunc: function(a, b) {
		var c = this._blendFunc,
			d, e;
		void 0 === b ? (d = a.src, e = a.dst) : (d = a, e = b);
		if (c.src !== d || c.dst !== e) c.src =
			d, c.dst = e, this.blendDirty = !0
	},
	updateColor: function() {
		var a = this._displayManager.getDisplayRenderNode();
		if (null !== a) {
			var b = this._renderCmd;
			a.setColor(cc.color(b._displayedColor.r * this._tweenData.r / 255, b._displayedColor.g * this._tweenData.g / 255, b._displayedColor.b * this._tweenData.b / 255));
			a.setOpacity(b._displayedOpacity * this._tweenData.a / 255)
		}
	},
	updateZOrder: function() {
		this._armature.getArmatureData().dataVersion >= ccs.CONST_VERSION_COMBINED ? this.setLocalZOrder(this._tweenData.zOrder + this._boneData.zOrder) :
			this.setLocalZOrder(this._tweenData.zOrder)
	},
	addChildBone: function(a) {
		cc.assert(a, "Argument must be non-nil");
		cc.assert(!a.parentBone, "child already added. It can't be added again");
		0 > this._children.indexOf(a) && (this._children.push(a), a.setParentBone(this))
	},
	removeChildBone: function(a, b) {
		if (0 < this._children.length && -1 !== this._children.getIndex(a)) {
			if (b)
				for (var c = a._children, d = 0; d < c.length; d++) a.removeChildBone(c[d], b);
			a.setParentBone(null);
			a.getDisplayManager().setCurrentDecorativeDisplay(null);
			cc.arrayRemoveObject(this._children,
				a)
		}
	},
	removeFromParent: function(a) {
		this._parentBone && this._parentBone.removeChildBone(this, a)
	},
	setParentBone: function(a) {
		this._parentBone = a
	},
	getParentBone: function() {
		return this._parentBone
	},
	setChildArmature: function(a) {
		this._childArmature !== a && (null == a && this._childArmature && this._childArmature.setParentBone(null), this._childArmature = a)
	},
	getChildArmature: function() {
		return this._childArmature
	},
	getTween: function() {
		return this._tween
	},
	setLocalZOrder: function(a) {
		this._localZOrder !== a && cc.Node.prototype.setLocalZOrder.call(this,
			a)
	},
	getNodeToArmatureTransform: function() {
		return this._worldTransform
	},
	getNodeToWorldTransform: function() {
		return cc.affineTransformConcat(this._worldTransform, this._armature.getNodeToWorldTransform())
	},
	getDisplayRenderNode: function() {
		return this._displayManager.getDisplayRenderNode()
	},
	getDisplayRenderNodeType: function() {
		return this._displayManager.getDisplayRenderNodeType()
	},
	addDisplay: function(a, b) {
		return this._displayManager.addDisplay(a, b || 0)
	},
	removeDisplay: function(a) {
		this._displayManager.removeDisplay(a)
	},
	changeDisplayByIndex: function(a, b) {
		cc.log("changeDisplayByIndex is deprecated. Use changeDisplayWithIndex instead.");
		this.changeDisplayWithIndex(a, b)
	},
	changeDisplayByName: function(a, b) {
		cc.log("changeDisplayByName is deprecated. Use changeDisplayWithName instead.");
		this.changeDisplayWithName(a, b)
	},
	changeDisplayWithIndex: function(a, b) {
		this._displayManager.changeDisplayWithIndex(a, b)
	},
	changeDisplayWithName: function(a, b) {
		this._displayManager.changeDisplayWithName(a, b)
	},
	getColliderDetector: function() {
		var a =
			this._displayManager.getCurrentDecorativeDisplay();
		return a && (a = a.getColliderDetector()) ? a : null
	},
	setColliderFilter: function(a) {
		for (var b = this._displayManager.getDecorativeDisplayList(), c = 0; c < b.length; c++) {
			var d = b[c].getColliderDetector();
			d && d.setColliderFilter(a)
		}
	},
	getColliderFilter: function() {
		var a = this.displayManager.getCurrentDecorativeDisplay();
		return a && (a = a.getColliderDetector()) ? a.getColliderFilter() : null
	},
	setTransformDirty: function(a) {
		this._boneTransformDirty = a
	},
	isTransformDirty: function() {
		return this._boneTransformDirty
	},
	getDisplayManager: function() {
		return this._displayManager
	},
	setIgnoreMovementBoneData: function(a) {
		this._ignoreMovementBoneData = a
	},
	isIgnoreMovementBoneData: function() {
		return this._ignoreMovementBoneData
	},
	getBlendFunc: function() {
		return new cc.BlendFunc(this._blendFunc.src, this._blendFunc.dst)
	},
	setBlendDirty: function(a) {
		this._blendDirty = a
	},
	isBlendDirty: function() {
		return this._blendDirty
	},
	getTweenData: function() {
		return this._tweenData
	},
	getWorldInfo: function() {
		return this._worldInfo
	},
	getChildrenBone: function() {
		return this._children
	},
	nodeToArmatureTransform: function() {
		return this.getNodeToArmatureTransform()
	},
	nodeToWorldTransform: function() {
		return this.getNodeToWorldTransform()
	},
	getColliderBodyList: function() {
		var a = this.getColliderDetector();
		return a ? a.getColliderBodyList() : null
	},
	getIgnoreMovementBoneData: function() {
		return this.isIgnoreMovementBoneData()
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new ccs.Bone.CanvasRenderCmd(this) : new ccs.Bone.WebGLRenderCmd(this)
	}
});
_p = ccs.Bone.prototype;
cc.defineGetterSetter(_p, "boneData", _p.getBoneData, _p.setBoneData);
cc.defineGetterSetter(_p, "armature", _p.getArmature, _p.setArmature);
cc.defineGetterSetter(_p, "childArmature", _p.getChildArmature, _p.setChildArmature);
cc.defineGetterSetter(_p, "childrenBone", _p.getChildrenBone);
cc.defineGetterSetter(_p, "tween", _p.getTween);
cc.defineGetterSetter(_p, "tweenData", _p.getTweenData);
cc.defineGetterSetter(_p, "colliderFilter", _p.getColliderFilter, _p.setColliderFilter);
_p = null;
ccs.Bone.create = function(a) {
	return new ccs.Bone(a)
};
ccs.Bone.RenderCmd = {
	_updateColor: function() {
		var a = this._node,
			b = a._displayManager.getDisplayRenderNode();
		if (null !== b) {
			var c = b._renderCmd;
			b.setColor(this._displayedColor);
			b.setOpacity(this._displayedOpacity);
			c._syncDisplayColor(a._tweenData);
			c._syncDisplayOpacity(a._tweenData.a);
			c._updateColor()
		}
	},
	transform: function(a, b) {
		this._transform || (this._transform = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		}, this._worldTransform = {
			a: 1,
			b: 0,
			c: 0,
			d: 1,
			tx: 0,
			ty: 0
		});
		var c = this._node,
			d = this._transform,
			e = this._worldTransform,
			f = a ? a._worldTransform :
			null;
		f && (this.originTransform(), cc.affineTransformConcatIn(d, c._worldTransform));
		f ? (e.a = d.a * f.a + d.b * f.c, e.b = d.a * f.b + d.b * f.d, e.c = d.c * f.a + d.d * f.c, e.d = d.c * f.b + d.d * f.d, e.tx = d.tx * f.a + d.ty * f.c + f.tx, e.ty = d.tx * f.b + d.ty * f.d + f.ty) : (e.a = d.a, e.b = d.b, e.c = d.c, e.d = d.d, e.tx = d.tx, e.ty = d.ty)
	}
};
(function() {
	ccs.Bone.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !1
	};
	var a = ccs.Bone.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	cc.inject(ccs.Bone.RenderCmd, a);
	a.constructor = ccs.Bone.CanvasRenderCmd
})();
(function() {
	if (cc.Node.WebGLRenderCmd) {
		ccs.Bone.WebGLRenderCmd = function(a) {
			this._rootCtor(a);
			this._needDraw = !1
		};
		var a = ccs.Bone.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
		cc.inject(ccs.Bone.RenderCmd, a);
		a.constructor = ccs.Bone.WebGLRenderCmd
	}
})();
ccs.FRAME_TYPE_MOVE = 0;
ccs.FRAME_TYPE_SCALE = 1;
ccs.FRAME_TYPE_ROTATE = 2;
ccs.FRAME_TYPE_TINT = 3;
ccs.FRAME_TYPE_FADE = 4;
ccs.FRAME_TYPE_MAX = 5;
ccs.FrameEaseType = {
	CUSTOM: -1,
	LINEAR: 0,
	SINE_EASEIN: 1,
	SINE_EASEOUT: 2,
	SINE_EASEINOUT: 3,
	QUAD_EASEIN: 4,
	QUAD_EASEOUT: 5,
	QUAD_EASEINOUT: 6,
	CUBIC_EASEIN: 7,
	CUBIC_EASEOUT: 8,
	CUBIC_EASEINOUT: 9,
	QUART_EASEIN: 10,
	QUART_EASEOUT: 11,
	QUART_EASEINOUT: 12,
	QUINT_EASEIN: 13,
	QUINT_EASEOUT: 14,
	QUINT_EASEINOUT: 15,
	EXPO_EASEIN: 16,
	EXPO_EASEOUT: 17,
	EXPO_EASEINOUT: 18,
	CIRC_EASEIN: 19,
	CIRC_EASEOUT: 20,
	CIRC_EASEINOUT: 21,
	ELASTIC_EASEIN: 22,
	ELASTIC_EASEOUT: 23,
	ELASTIC_EASEINOUT: 24,
	BACK_EASEIN: 25,
	BACK_EASEOUT: 26,
	BACK_EASEINOUT: 27,
	BOUNCE_EASEIN: 28,
	BOUNCE_EASEOUT: 29,
	BOUNCE_EASEINOUT: 30,
	TWEEN_EASING_MAX: 1E3
};
ccs.ActionFrame = ccs.Class.extend({
	frameType: 0,
	easingType: 0,
	frameIndex: 0,
	_Parameter: null,
	time: 0,
	ctor: function() {
		this.frameType = 0;
		this.easingType = ccs.FrameEaseType.LINEAR;
		this.time = this.frameIndex = 0
	},
	getAction: function(a, b) {
		cc.log("Need a definition of \x3cgetAction\x3e for ActionFrame");
		return null
	},
	_getEasingAction: function(a) {
		if (null === a) return console.error("Action cannot be null!"), null;
		var b;
		switch (this.easingType) {
			case ccs.FrameEaseType.LINEAR:
				b = a;
				break;
			case ccs.FrameEaseType.SINE_EASEIN:
				b = a.easing(cc.easeSineIn());
				break;
			case ccs.FrameEaseType.SINE_EASEOUT:
				b = a.easing(cc.easeSineOut());
				break;
			case ccs.FrameEaseType.SINE_EASEINOUT:
				b = a.easing(cc.easeSineInOut());
				break;
			case ccs.FrameEaseType.QUAD_EASEIN:
				b = a.easing(cc.easeQuadraticActionIn());
				break;
			case ccs.FrameEaseType.QUAD_EASEOUT:
				b = a.easing(cc.easeQuadraticActionOut());
				break;
			case ccs.FrameEaseType.QUAD_EASEINOUT:
				b = a.easing(cc.easeQuadraticActionInOut());
				break;
			case ccs.FrameEaseType.CUBIC_EASEIN:
				b = a.easing(cc.easeCubicActionIn());
				break;
			case ccs.FrameEaseType.CUBIC_EASEOUT:
				b =
					a.easing(cc.easeCubicActionOut());
				break;
			case ccs.FrameEaseType.CUBIC_EASEINOUT:
				b = a.easing(cc.easeCubicActionInOut());
				break;
			case ccs.FrameEaseType.QUART_EASEIN:
				b = a.easing(cc.easeQuarticActionIn());
				break;
			case ccs.FrameEaseType.QUART_EASEOUT:
				b = a.easing(cc.easeQuarticActionOut());
				break;
			case ccs.FrameEaseType.QUART_EASEINOUT:
				b = a.easing(cc.easeQuarticActionInOut());
				break;
			case ccs.FrameEaseType.QUINT_EASEIN:
				b = a.easing(cc.easeQuinticActionIn());
				break;
			case ccs.FrameEaseType.QUINT_EASEOUT:
				b = a.easing(cc.easeQuinticActionOut());
				break;
			case ccs.FrameEaseType.QUINT_EASEINOUT:
				b = a.easing(cc.easeQuinticActionInOut());
				break;
			case ccs.FrameEaseType.EXPO_EASEIN:
				b = a.easing(cc.easeExponentialIn());
				break;
			case ccs.FrameEaseType.EXPO_EASEOUT:
				b = a.easing(cc.easeExponentialOut());
				break;
			case ccs.FrameEaseType.EXPO_EASEINOUT:
				b = a.easing(cc.easeExponentialInOut());
				break;
			case ccs.FrameEaseType.CIRC_EASEIN:
				b = a.easing(cc.easeCircleActionIn());
				break;
			case ccs.FrameEaseType.CIRC_EASEOUT:
				b = a.easing(cc.easeCircleActionOut());
				break;
			case ccs.FrameEaseType.CIRC_EASEINOUT:
				b =
					a.easing(cc.easeCircleActionInOut());
				break;
			case ccs.FrameEaseType.ELASTIC_EASEIN:
				b = a.easing(cc.easeElasticIn());
				break;
			case ccs.FrameEaseType.ELASTIC_EASEOUT:
				b = a.easing(cc.easeElasticOut());
				break;
			case ccs.FrameEaseType.ELASTIC_EASEINOUT:
				b = a.easing(cc.easeElasticInOut());
				break;
			case ccs.FrameEaseType.BACK_EASEIN:
				b = a.easing(cc.easeBackIn());
				break;
			case ccs.FrameEaseType.BACK_EASEOUT:
				b = a.easing(cc.easeBackOut());
				break;
			case ccs.FrameEaseType.BACK_EASEINOUT:
				b = a.easing(cc.easeBackInOut());
				break;
			case ccs.FrameEaseType.BOUNCE_EASEIN:
				b =
					a.easing(cc.easeBounceIn());
				break;
			case ccs.FrameEaseType.BOUNCE_EASEOUT:
				b = a.easing(cc.easeBounceOut());
				break;
			case ccs.FrameEaseType.BOUNCE_EASEINOUT:
				b = a.easing(cc.easeBounceInOut())
		}
		return b
	},
	setEasingParameter: function(a) {
		this._Parameter = [];
		for (var b = 0; b < a.length; b++) this._Parameter.push(a[b])
	},
	setEasingType: function(a) {
		this.easingType = a
	}
});
ccs.ActionMoveFrame = ccs.ActionFrame.extend({
	_position: null,
	ctor: function() {
		ccs.ActionFrame.prototype.ctor.call(this);
		this._position = cc.p(0, 0);
		this.frameType = ccs.FRAME_TYPE_MOVE
	},
	setPosition: function(a, b) {
		void 0 === b ? (this._position.x = a.x, this._position.y = a.y) : (this._position.x = a, this._position.y = b)
	},
	getPosition: function() {
		return this._position
	},
	getAction: function(a) {
		return this._getEasingAction(cc.moveTo(a, this._position))
	}
});
ccs.ActionScaleFrame = ccs.ActionFrame.extend({
	_scaleX: 1,
	_scaleY: 1,
	ctor: function() {
		ccs.ActionFrame.prototype.ctor.call(this);
		this._scaleY = this._scaleX = 1;
		this.frameType = ccs.FRAME_TYPE_SCALE
	},
	setScaleX: function(a) {
		this._scaleX = a
	},
	getScaleX: function() {
		return this._scaleX
	},
	setScaleY: function(a) {
		this._scaleY = a
	},
	getScaleY: function() {
		return this._scaleY
	},
	getAction: function(a) {
		return this._getEasingAction(cc.scaleTo(a, this._scaleX, this._scaleY))
	}
});
ccs.ActionRotationFrame = ccs.ActionFrame.extend({
	_rotation: 0,
	ctor: function() {
		ccs.ActionFrame.prototype.ctor.call(this);
		this._rotation = 0;
		this.frameType = ccs.FRAME_TYPE_ROTATE
	},
	setRotation: function(a) {
		this._rotation = a
	},
	getRotation: function() {
		return this._rotation
	},
	getAction: function(a, b) {
		return void 0 === b ? this._getEasingAction(cc.rotateTo(a, this._rotation)) : b instanceof cc.ActionRotationFrame ? this._getEasingAction(cc.rotateBy(a, this._rotation - b._rotation)) : this.getAction(a)
	}
});
ccs.ActionFadeFrame = ccs.ActionFrame.extend({
	_opacity: 255,
	ctor: function() {
		ccs.ActionFrame.prototype.ctor.call(this);
		this._opacity = 255;
		this.frameType = ccs.FRAME_TYPE_FADE
	},
	setOpacity: function(a) {
		this._opacity = a
	},
	getOpacity: function() {
		return this._opacity
	},
	getAction: function(a) {
		return this._getEasingAction(cc.fadeTo(a, this._opacity))
	}
});
ccs.ActionTintFrame = ccs.ActionFrame.extend({
	_color: null,
	ctor: function() {
		ccs.ActionFrame.prototype.ctor.call(this);
		this._color = cc.color(255, 255, 255, 255);
		this.frameType = ccs.FRAME_TYPE_TINT
	},
	setColor: function(a) {
		var b = this._color;
		b.r = a.r;
		b.g = a.g;
		b.b = a.b
	},
	getColor: function() {
		var a = this._color;
		return cc.color(a.r, a.g, a.b, a.a)
	},
	getAction: function(a) {
		return this._getEasingAction(cc.tintTo(a, this._color.r, this._color.g, this._color.b))
	}
});
ccs.actionManager = {
	_actionDic: {},
	initWithDictionary: function(a, b, c) {
		var d = a.lastIndexOf("/");
		a = a.substr(d + 1, a.length);
		b = b.actionlist;
		for (var d = [], e = 0; e < b.length; e++) {
			var f = new ccs.ActionObject;
			f.initWithDictionary(b[e], c);
			d.push(f)
		}
		this._actionDic[a] = d
	},
	getActionByName: function(a, b) {
		var c = a.lastIndexOf("/"),
			c = a.substr(c + 1, a.length),
			c = this._actionDic[c];
		if (!c) return null;
		for (var d = 0; d < c.length; d++) {
			var e = c[d];
			if (b === e.getName()) return e
		}
		return null
	},
	playActionByName: function(a, b, c) {
		(a = this.getActionByName(a,
			b)) && a.play(c)
	},
	stopActionByName: function(a, b) {
		var c = this.getActionByName(a, b);
		c && c.stop()
	},
	releaseActions: function() {
		this._actionDic = {}
	},
	clear: function() {
		this._actionDic = {}
	}
};
ccs.ActionNode = ccs.Class.extend({
	_currentFrameIndex: 0,
	_destFrameIndex: 0,
	_unitTime: 0,
	_actionTag: 0,
	_object: null,
	_actionSpawn: null,
	_action: null,
	_frameArray: null,
	_frameArrayNum: 0,
	ctor: function() {
		this._destFrameIndex = this._currentFrameIndex = 0;
		this._unitTime = 0.1;
		this._actionTag = 0;
		this._action = this._actionSpawn = this._object = null;
		this._frameArray = [];
		this._frameArrayNum = ccs.FRAME_TYPE_MAX;
		for (var a = 0; a < this._frameArrayNum; a++) this._frameArray.push([])
	},
	initWithDictionary: function(a, b) {
		this.setActionTag(a.ActionTag);
		for (var c = a.actionframelist, d = ccui.helper.seekActionWidgetByActionTag(b, a.ActionTag), e = d instanceof ccui.Widget && !(d instanceof ccui.Layout), f = 0; f < c.length; f++) {
			var g = c[f],
				h = g.frameid,
				k = g.tweenType;
			null == k && (k = 0);
			for (var m = g.tweenParameter, n = [], p = 0; p < m; p++) n.push(g.tweenParameter[p]);
			if (void 0 !== g.positionx) {
				var p = g.positionx,
					r = g.positiony;
				e && d.parent && (m = d.parent.getAnchorPointInPoints(), p += m.x, r += m.y);
				m = new ccs.ActionMoveFrame;
				m.frameIndex = h;
				m.setEasingType(k);
				m.setEasingParameter(n);
				m.setPosition(p,
					r);
				p = this._frameArray[ccs.FRAME_TYPE_MOVE];
				p.push(m)
			}
			void 0 !== g.scalex && (p = g.scalex, r = g.scaley, m = new ccs.ActionScaleFrame, m.frameIndex = h, m.setEasingType(k), m.setEasingParameter(n), m.setScaleX(p), m.setScaleY(r), p = this._frameArray[ccs.FRAME_TYPE_SCALE], p.push(m));
			void 0 !== g.rotation && (p = g.rotation, m = new ccs.ActionRotationFrame, m.frameIndex = h, m.setEasingType(k), m.setEasingParameter(n), m.setRotation(p), p = this._frameArray[ccs.FRAME_TYPE_ROTATE], p.push(m));
			void 0 !== g.opacity && (p = g.opacity, m = new ccs.ActionFadeFrame,
				m.frameIndex = h, m.setEasingType(k), m.setEasingParameter(n), m.setOpacity(p), p = this._frameArray[ccs.FRAME_TYPE_FADE], p.push(m));
			void 0 !== g.colorr && (p = g.colorr, r = g.colorg, g = g.colorb, m = new ccs.ActionTintFrame, m.frameIndex = h, m.setEasingType(k), m.setEasingParameter(n), m.setColor(cc.color(p, r, g)), p = this._frameArray[ccs.FRAME_TYPE_TINT], p.push(m))
		}
		this._initActionNodeFromRoot(b)
	},
	_initActionNodeFromRoot: function(a) {
		a instanceof ccui.Widget && (a = ccui.helper.seekActionWidgetByActionTag(a, this.getActionTag())) &&
			this.setObject(a)
	},
	setUnitTime: function(a) {
		this._unitTime = a;
		this._refreshActionProperty()
	},
	getUnitTime: function() {
		return this._unitTime
	},
	setActionTag: function(a) {
		this._actionTag = a
	},
	getActionTag: function() {
		return this._actionTag
	},
	setObject: function(a) {
		this._object = a
	},
	getObject: function() {
		return this._object
	},
	getActionNode: function() {
		return this._object instanceof cc.Node ? this._object : null
	},
	insertFrame: function(a, b) {
		null != b && this._frameArray[b.frameType].splice(a, 0, b)
	},
	addFrame: function(a) {
		a && this._frameArray[a.frameType].push(a)
	},
	deleteFrame: function(a) {
		void 0 !== a && cc.arrayRemoveObject(this._frameArray[a.frameType], a)
	},
	clearAllFrame: function() {
		for (var a = 0; a < this._frameArrayNum; a++) this._frameArray[a].length = 0
	},
	_refreshActionProperty: function() {
		if (!this._object) return null;
		for (var a = [], b = 0; b < this._frameArrayNum; b++) {
			var c = this._frameArray[b];
			if (!(0 >= c.length)) {
				for (var d = [], e = 0; e < c.length; e++) {
					var f = c[e],
						g = null;
					0 !== e ? (g = (f.frameIndex - c[e - 1].frameIndex) * this.getUnitTime(), g = f.getAction(g)) : g = f.getAction(0);
					g && d.push(g)
				}
				d && (c =
					cc.sequence(d), null !== c && a.push(c))
			}
		}
		this._action = null;
		return this._actionSpawn = cc.spawn(a)
	},
	playAction: function(a) {
		this._object && this._actionSpawn && (this._action = a ? cc.sequence(this._actionSpawn, a) : cc.sequence(this._actionSpawn), this._runAction())
	},
	_runAction: function() {
		var a = this.getActionNode();
		null !== a && null !== this._action && a.runAction(this._action)
	},
	stopAction: function() {
		var a = this.getActionNode();
		null !== a && null !== this._action && (this._action.isDone() || a.stopAction(this._action))
	},
	getFirstFrameIndex: function() {
		for (var a =
				99999, b = !1, c = this._frameArray, d = 0, e = this._frameArrayNum; d < e; d++) {
			var f = c[d];
			0 >= f.length || (b = !0, f = f[0].frameIndex, a = a > f ? f : a)
		}
		b || (a = 0);
		return a
	},
	getLastFrameIndex: function() {
		for (var a = -1, b = !1, c = this._frameArray, d = 0, e = this._frameArrayNum; d < e; d++) {
			var f = c[d];
			0 >= f.length || (b = !0, f = f[f.length - 1].frameIndex, a = a < f ? f : a)
		}
		b || (a = 0);
		return a
	},
	updateActionToTimeLine: function(a) {
		for (var b = !1, c = this.getUnitTime(), d = 0; d < this._frameArrayNum; d++) {
			var e = this._frameArray[d];
			if (e)
				for (var f = 0; f < e.length; f++) {
					var g = e[f];
					if (g.frameIndex * c === a) {
						this._easingToFrame(1, 1, g);
						b = !0;
						break
					} else if (g.frameIndex * c > a) {
						0 === f ? (this._easingToFrame(1, 1, g), b = !1) : (b = e[f - 1], e = (g.frameIndex - b.frameIndex) * c, f = a - b.frameIndex * c, this._easingToFrame(e, 1, b), this._easingToFrame(e, f / e, g), b = !0);
						break
					}
				}
		}
		return b
	},
	_easingToFrame: function(a, b, c) {
		a = c.getAction(a);
		c = this.getActionNode();
		null != a && null != c && (a.startWithTarget(c), a.update(b))
	},
	isActionDoneOnce: function() {
		return this._action ? this._action.isDone() : !0
	}
});
ccs.ActionObject = ccs.Class.extend({
	_actionNodeList: null,
	_name: "",
	_loop: !1,
	_pause: !1,
	_playing: !1,
	_unitTime: 0,
	_currentTime: 0,
	_scheduler: null,
	_callback: null,
	_fTotalTime: 0,
	ctor: function() {
		this._actionNodeList = [];
		this._name = "";
		this._playing = this._pause = this._loop = !1;
		this._unitTime = 0.1;
		this._fTotalTime = this._currentTime = 0;
		this._scheduler = cc.director.getScheduler()
	},
	setName: function(a) {
		this._name = a
	},
	getName: function() {
		return this._name
	},
	setLoop: function(a) {
		this._loop = a
	},
	getLoop: function() {
		return this._loop
	},
	setUnitTime: function(a) {
		this._unitTime = a;
		a = this._actionNodeList.length;
		for (var b = 0; b < a; b++) this._actionNodeList[b].setUnitTime(this._unitTime)
	},
	getUnitTime: function() {
		return this._unitTime
	},
	getCurrentTime: function() {
		return this._currentTime
	},
	setCurrentTime: function(a) {
		this._currentTime = a
	},
	getTotalTime: function() {
		return this._fTotalTime
	},
	isPlaying: function() {
		return this._playing
	},
	initWithDictionary: function(a, b) {
		this.setName(a.name);
		this.setLoop(a.loop);
		this.setUnitTime(a.unittime);
		for (var c = a.actionnodelist,
				d = 0, e = 0; e < c.length; e++) {
			var f = new ccs.ActionNode;
			f.initWithDictionary(c[e], b);
			f.setUnitTime(this.getUnitTime());
			this._actionNodeList.push(f);
			f = f.getLastFrameIndex() - f.getFirstFrameIndex();
			f > d && (d = f)
		}
		this._fTotalTime = d * this._unitTime
	},
	addActionNode: function(a) {
		a && (this._actionNodeList.push(a), a.setUnitTime(this._unitTime))
	},
	removeActionNode: function(a) {
		null != a && cc.arrayRemoveObject(this._actionNodeList, a)
	},
	play: function(a) {
		this.stop();
		this.updateToFrameByTime(0);
		for (var b = this._actionNodeList, c = b.length,
				d = 0; d < c; d++) b[d].playAction(a);
		this._loop && this._scheduler.schedule(this.simulationActionUpdate, this, 0, cc.REPEAT_FOREVER, 0, !1, this.__instanceId + "");
		void 0 !== a && (this._callback = a)
	},
	pause: function() {
		this._pause = !0;
		this._playing = !1
	},
	stop: function() {
		for (var a = this._actionNodeList, b = 0; b < a.length; b++) a[b].stopAction();
		this._scheduler.unschedule(this.simulationActionUpdate, this);
		this._playing = this._pause = !1
	},
	updateToFrameByTime: function(a) {
		this._currentTime = a;
		for (var b = 0; b < this._actionNodeList.length; b++) this._actionNodeList[b].updateActionToTimeLine(a)
	},
	simulationActionUpdate: function(a) {
		a = !0;
		for (var b = this._actionNodeList, c = 0, d = b.length; c < d; c++)
			if (!b[c].isActionDoneOnce()) {
				a = !1;
				break
			} a && (null !== this._callback && this._callback.execute(), this._loop ? this.play() : (this._playing = !1, this._scheduler.unschedule(this.simulationActionUpdate, this)))
	}
});
ccs.ComAttribute = ccs.Component.extend({
	_jsonDict: null,
	_filePath: "",
	ctor: function() {
		cc.Component.prototype.ctor.call(this);
		this._jsonDict = {};
		this._filePath = "";
		this._name = "CCComAttribute";
		ccs.ComAttribute.prototype.init.call(this)
	},
	init: function() {
		this._jsonDict = {};
		return !0
	},
	setInt: function(a, b) {
		a ? this._jsonDict[a] = b : cc.log("Argument must be non-nil")
	},
	setDouble: function(a, b) {
		a ? this._jsonDict[a] = b : cc.log("Argument must be non-nil")
	},
	setFloat: function(a, b) {
		a ? this._jsonDict[a] = b : cc.log("Argument must be non-nil")
	},
	setBool: function(a, b) {
		a ? this._jsonDict[a] = b : cc.log("Argument must be non-nil")
	},
	setString: function(a, b) {
		a ? this._jsonDict[a] = b : cc.log("Argument must be non-nil")
	},
	setObject: function(a, b) {
		a ? this._jsonDict[a] = b : cc.log("Argument must be non-nil")
	},
	getInt: function(a) {
		return parseInt(this._jsonDict[a] || 0)
	},
	getDouble: function(a) {
		return parseFloat(this._jsonDict[a] || 0)
	},
	getFloat: function(a) {
		return parseFloat(this._jsonDict[a] || 0)
	},
	getBool: function(a) {
		return Boolean(this._jsonDict[a] || !1)
	},
	getString: function(a) {
		return this._jsonDict[a] ||
			""
	},
	getObject: function(a) {
		return this._jsonDict[a]
	},
	parse: function(a) {
		this._jsonDict = cc.loader.getRes(a)
	}
});
ccs.ComAttribute.create = function() {
	return new ccs.ComAttribute
};
ccs.ComAudio = ccs.Component.extend({
	_filePath: "",
	_loop: !1,
	ctor: function() {
		cc.Component.prototype.ctor.call(this);
		this._name = "Audio";
		ccs.ComAudio.prototype.init.call(this)
	},
	init: function() {
		return !0
	},
	onExit: function() {
		this.stopBackgroundMusic(!0);
		this.stopAllEffects()
	},
	end: function() {
		cc.audioEngine.end()
	},
	preloadBackgroundMusic: function(a) {
		cc.loader.load(a)
	},
	playBackgroundMusic: function(a, b) {
		a ? cc.audioEngine.playMusic(a, b) : cc.audioEngine.playMusic(this._filePath, this._loop)
	},
	stopBackgroundMusic: function(a) {
		cc.audioEngine.stopMusic(a)
	},
	pauseBackgroundMusic: function() {
		cc.audioEngine.pauseMusic()
	},
	resumeBackgroundMusic: function() {
		cc.audioEngine.resumeMusic()
	},
	rewindBackgroundMusic: function() {
		cc.audioEngine.rewindMusic()
	},
	willPlayBackgroundMusic: function() {
		return cc.audioEngine.willPlayMusic()
	},
	isBackgroundMusicPlaying: function() {
		return cc.audioEngine.isMusicPlaying()
	},
	getBackgroundMusicVolume: function() {
		return cc.audioEngine.getMusicVolume()
	},
	setBackgroundMusicVolume: function(a) {
		cc.audioEngine.setMusicVolume(a)
	},
	getEffectsVolume: function() {
		return cc.audioEngine.getEffectsVolume()
	},
	setEffectsVolume: function(a) {
		cc.audioEngine.setEffectsVolume(a)
	},
	playEffect: function(a, b) {
		return a ? cc.audioEngine.playEffect(a, b) : cc.audioEngine.playEffect(this._filePath, this._loop)
	},
	pauseEffect: function(a) {
		cc.audioEngine.pauseEffect(a)
	},
	pauseAllEffects: function() {
		cc.audioEngine.pauseAllEffects()
	},
	resumeEffect: function(a) {
		cc.audioEngine.resumeEffect(a)
	},
	resumeAllEffects: function() {
		cc.audioEngine.resumeAllEffects()
	},
	stopEffect: function(a) {
		cc.audioEngine.stopEffect(a)
	},
	stopAllEffects: function() {
		cc.audioEngine.stopAllEffects()
	},
	preloadEffect: function(a) {
		cc.loader.getRes(a);
		this.setFile(a);
		this.setLoop(!1)
	},
	unloadEffect: function(a) {
		cc.audioEngine.unloadEffect(a)
	},
	setFile: function(a) {
		this._filePath = a
	},
	setLoop: function(a) {
		this._loop = a
	},
	getFile: function() {
		return this._filePath
	},
	isLoop: function() {
		return this._loop
	}
});
ccs.ComAudio.create = function() {
	return new ccs.ComAudio
};
ccs.ComController = ccs.Component.extend({
	ctor: function() {
		cc.Component.prototype.ctor.call(this);
		this._name = "ComController";
		ccs.ComController.prototype.init.call(this)
	},
	onEnter: function() {
		null !== this._owner && this._owner.scheduleUpdate()
	},
	isEnabled: function() {
		return this._enabled
	},
	setEnabled: function(a) {
		this._enabled = a
	}
});
ccs.ComController.create = function() {
	return new ccs.ComController
};
ccs.ComRender = ccs.Component.extend({
	_render: null,
	ctor: function(a, b) {
		cc.Component.prototype.ctor.call(this);
		this._render = a;
		this._name = b;
		this.isRenderer = !0;
		ccs.ComRender.prototype.init.call(this)
	},
	onEnter: function() {
		this._owner && this._owner.addChild(this._render)
	},
	onExit: function() {
		this._owner && (this._owner.removeChild(this._render, !0), this._render = null)
	},
	getNode: function() {
		return this._render
	},
	setNode: function(a) {
		this._render = a
	}
});
ccs.ComRender.create = function(a, b) {
	return new ccs.ComRender(a, b)
};
ccs.objectFactory = {
	_typeMap: {},
	createObject: function(a) {
		var b = null;
		(a = this._typeMap[a]) && (b = cc.isFunction(a._fun) ? new a._fun : a._fun);
		return b
	},
	registerType: function(a) {
		this._typeMap[a._className] = a
	},
	createGUI: function(a) {
		var b = null;
		"Panel" === a ? a = "Layout" : "TextArea" === a ? a = "Label" : "TextButton" === a && (a = "Button");
		(a = this._typeMap[a]) && a._fun && (b = a._fun);
		return b
	},
	removeAll: function() {
		this._typeMap = {}
	}
};
ccs.TInfo = ccs.Class.extend({
	_className: "",
	_fun: null,
	ctor: function(a, b) {
		b ? (this._className = a, this._fun = b) : (this._className = a._className, this._fun = a._fun);
		ccs.objectFactory.registerType(this)
	}
});
ccs.sendEvent = function(a) {
	a = ccs.triggerManager.get(a);
	if (null != a)
		for (var b = 0; b < a.length; b++) {
			var c = a[b];
			null != c && c.detect() && c.done()
		}
};
ccs.registerTriggerClass = function(a, b) {
	new ccs.TInfo(a, b)
};
ccs.triggerManager = {
	_eventTriggers: {},
	_triggerObjs: {},
	_movementDispatches: [],
	parse: function(a) {
		for (var b = 0; b < a.length; ++b) {
			var c = a[b],
				d = new ccs.TriggerObj;
			d.serialize(c);
			for (var c = d.getEvents(), e = 0; e < c.length; e++) this.add(c[e], d);
			this._triggerObjs[d.getId()] = d
		}
	},
	get: function(a) {
		return this._eventTriggers[a]
	},
	getTriggerObj: function(a) {
		return this._triggerObjs[a]
	},
	add: function(a, b) {
		var c = this._eventTriggers[a];
		c || (c = []); - 1 === c.indexOf(b) && (c.push(b), this._eventTriggers[a] = c)
	},
	removeAll: function() {
		for (var a in this._eventTriggers)
			for (var b =
					this._eventTriggers[a], c = 0; c < b.length; c++) b[c].removeAll();
		this._eventTriggers = {}
	},
	remove: function(a, b) {
		if (b) return this._removeObj(a, b);
		var c = !1,
			d = this._eventTriggers[a];
		if (d) {
			for (c = 0; c < d.length; c++) {
				var e = d[c];
				e && e.removeAll()
			}
			delete this._eventTriggers[a];
			c = !0
		}
		return c
	},
	_removeObj: function(a, b) {
		var c = !1;
		do {
			var d = this._eventTriggers[a];
			if (d) {
				for (c = 0; c < d.length; c++) {
					var e = d[c];
					if (e && e == b) {
						e.removeAll();
						d.splice(c, 1);
						break
					}
				}
				c = !0
			}
		} while (0);
		return c
	},
	removeTriggerObj: function(a) {
		a = this.getTriggerObj(a);
		if (!a) return !1;
		for (var b = a.getEvents(), c = 0; c < b.length; c++) this.remove(b[c], a);
		return !0
	},
	isEmpty: function() {
		return !this._eventTriggers || 0 >= this._eventTriggers.length
	},
	addArmatureMovementCallBack: function(a, b, c) {
		if (null != a && null != c && null != b) {
			for (var d, e = !1, f = 0; f < this._movementDispatches.length; f++)(d = this._movementDispatches[f]) && d[0] === a && (d.addAnimationEventCallBack(b, c), e = !0);
			e || (d = new ccs.ArmatureMovementDispatcher, a.getAnimation().setMovementEventCallFunc(d.animationEvent, d), d.addAnimationEventCallBack(b,
				c), this._movementDispatches.push([a, d]))
		}
	},
	removeArmatureMovementCallBack: function(a, b, c) {
		if (null != a && null != b && null != c)
			for (var d, e = 0; e < this._movementDispatches.length; e++)(d = this._movementDispatches[e]) && d[0] === a && d.removeAnimationEventCallBack(c, b)
	},
	removeArmatureAllMovementCallBack: function(a) {
		if (null != a)
			for (var b, c = 0; c < this._movementDispatches.length; c++)
				if ((b = this._movementDispatches[c]) && b[0] === a) {
					this._movementDispatches.splice(c, 1);
					break
				}
	},
	removeAllArmatureMovementCallBack: function() {
		this._movementDispatches.length =
			0
	},
	version: function() {
		return "1.2.0.0"
	}
};
ccs.ArmatureMovementDispatcher = ccs.Class.extend({
	_mapEventAnimation: null,
	ctor: function() {
		this._mapEventAnimation = []
	},
	animationEvent: function(a, b, c) {
		for (var d, e, f = 0; f < this._mapEventAnimation.length; f++) d = this._mapEventAnimation[f], e = d[0], (d = d[1]) && d.call(e, a, b, c)
	},
	addAnimationEventCallBack: function(a, b) {
		this._mapEventAnimation.push([b, a])
	},
	removeAnimationEventCallBack: function(a, b) {
		for (var c, d = 0; d < this._mapEventAnimation.length; d++) c = this._mapEventAnimation[d], c[0] === b && this._mapEventAnimation.splice(d,
			1)
	}
});
ccs.BaseTriggerCondition = ccs.Class.extend({
	ctor: function() {},
	init: function() {
		return !0
	},
	detect: function() {
		return !0
	},
	serialize: function(a) {},
	removeAll: function() {}
});
ccs.BaseTriggerAction = ccs.Class.extend({
	ctor: function() {},
	init: function() {
		return !0
	},
	done: function() {},
	serialize: function(a) {},
	removeAll: function() {}
});
ccs.TriggerObj = ccs.Class.extend({
	_cons: null,
	_acts: null,
	_id: 0,
	_enable: !0,
	_vInt: null,
	ctor: function() {
		this._id = 0;
		this._enable = !0;
		ccs.TriggerObj.prototype.init.call(this)
	},
	init: function() {
		this._cons = [];
		this._acts = [];
		this._vInt = [];
		return !0
	},
	detect: function() {
		if (!this._enable || 0 === this._cons.length) return !0;
		for (var a = !0, b = null, c = 0; c < this._cons.length; c++)(b = this._cons[c]) && b.detect && (a = a && b.detect());
		return a
	},
	done: function() {
		if (this._enable && 0 !== this._acts.length)
			for (var a, b = 0; b < this._acts.length; b++)(a =
				this._acts[b]) && a.done && a.done()
	},
	removeAll: function() {
		for (var a = null, b = 0; b < this._cons.length; b++)(a = this._cons[b]) && a.removeAll();
		this._cons = [];
		for (b = 0; b < this._acts.length; b++)(a = this._acts[b]) && a.removeAll();
		this._acts = []
	},
	serialize: function(a) {
		this._id = a.id || 0;
		for (var b = a.conditions || [], c = 0; c < b.length; c++) {
			var d = b[c],
				e = d.classname,
				f = ccs.objectFactory.createObject(e);
			f ? (f.serialize(d), f.init(), this._cons.push(f)) : cc.log("class named classname(" + e + ") can not implement!")
		}
		b = a.actions || [];
		for (c = 0; c <
			b.length; c++) d = b[c], e = d.classname, (f = ccs.objectFactory.createObject(e)) ? (f.serialize(d), f.init(), this._acts.push(f)) : cc.log("class named classname(" + e + ") can not implement!");
		a = a.events || [];
		for (c = 0; c < a.length; c++) d = a[c], d = d.id, 0 > d || this._vInt.push(d)
	},
	getId: function() {
		return this._id
	},
	setEnable: function(a) {
		this._enable = a
	},
	getEvents: function() {
		return this._vInt
	}
});
ccs.TriggerObj.create = function() {
	return new ccs.TriggerObj
};
ccs.ActionTimelineData = ccs.Class.extend({
	_actionTag: 0,
	ctor: function(a) {
		this._init(a)
	},
	_init: function(a) {
		this._actionTag = a;
		return !0
	},
	setActionTag: function(a) {
		this._actionTag = a
	},
	getActionTag: function() {
		return this._actionTag
	}
});
ccs.AnimationInfo = function(a, b, c) {
	this.name = a;
	this.startIndex = b;
	this.endIndex = c
};
ccs.ComExtensionData = ccs.Component.extend({
	_customProperty: null,
	_timelineData: null,
	_name: "ComExtensionData",
	ctor: function() {
		this._customProperty = "";
		this._timelineData = new ccs.ActionTimelineData(0);
		return !0
	},
	setActionTag: function(a) {
		this._timelineData.setActionTag(a)
	},
	getActionTag: function() {
		return this._timelineData.getActionTag()
	},
	setCustomProperty: function(a) {
		this._customProperty = a
	},
	getCustomProperty: function() {
		return this._customProperty
	}
});
ccs.ComExtensionData.create = function() {
	return new ccs.ComExtensionData
};
ccs.ActionTimelineData.create = function(a) {
	return new ccs.ActionTimelineData(a)
};
ccs.ActionTimeline = cc.Action.extend({
	_timelineMap: null,
	_timelineList: null,
	_duration: 0,
	_time: null,
	_timeSpeed: 1,
	_frameInternal: 1 / 60,
	_playing: !1,
	_currentFrame: 0,
	_startFrame: 0,
	_endFrame: 0,
	_loop: null,
	_frameEventListener: null,
	_animationInfos: null,
	_lastFrameListener: null,
	ctor: function() {
		cc.Action.prototype.ctor.call(this);
		this._timelineMap = {};
		this._timelineList = [];
		this._animationInfos = {};
		this.init()
	},
	_gotoFrame: function(a) {
		for (var b = this._timelineList.length, c = 0; c < b; c++) this._timelineList[c]._gotoFrame(a)
	},
	_stepToFrame: function(a) {
		for (var b = this._timelineList.length, c = 0; c < b; c++) this._timelineList[c]._stepToFrame(a)
	},
	_emitFrameEvent: function(a) {
		this._frameEventListener && this._frameEventListener(a)
	},
	init: function() {
		return !0
	},
	gotoFrameAndPlay: function(a, b, c, d) {
		var e = 0,
			f = arguments.length,
			g = [],
			h;
		for (e; e < f; e++) "boolean" === typeof arguments[e] ? h = arguments[e] : g.push(arguments[e]);
		a = g[0];
		b = void 0 !== g[1] ? g[1] : this._duration;
		c = g[2] || a;
		this._startFrame = a;
		this._endFrame = b;
		this._currentFrame = c;
		this._loop = null != h ?
			h : !0;
		this._time = this._currentFrame * this._frameInternal;
		this.resume();
		this._gotoFrame(this._currentFrame)
	},
	gotoFrameAndPause: function(a) {
		this._startFrame = this._currentFrame = a;
		this._time = this._currentFrame * this._frameInternal;
		this.pause();
		this._gotoFrame(this._currentFrame)
	},
	pause: function() {
		this._playing = !1
	},
	resume: function() {
		this._playing = !0
	},
	isPlaying: function() {
		return this._playing
	},
	setTimeSpeed: function(a) {
		this._timeSpeed = a
	},
	getTimeSpeed: function() {
		return this._timeSpeed
	},
	setDuration: function(a) {
		this._duration =
			a
	},
	getDuration: function() {
		return this._duration
	},
	getStartFrame: function() {
		return this._startFrame
	},
	getEndFrame: function() {
		return this._endFrame
	},
	setCurrentFrame: function(a) {
		a >= this._startFrame && a <= this._endFrame ? (this._currentFrame = a, this._time = this._currentFrame * this._frameInternal) : cc.log("frame index is not between start frame and end frame")
	},
	getCurrentFrame: function() {
		return this._currentFrame
	},
	addTimeline: function(a) {
		var b = a.getActionTag();
		this._timelineMap[b] || (this._timelineMap[b] = []); - 1 ===
			this._timelineMap[b].indexOf(a) && (this._timelineList.push(a), this._timelineMap[b].push(a), a.setActionTimeline(this))
	},
	removeTimeline: function(a) {
		var b = a.getActionTag();
		this._timelineMap[b] && this._timelineMap[b].some(function(b) {
			if (b === a) return !0
		}) && (cc.arrayRemoveObject(this._timelineMap[b], a), cc.arrayRemoveObject(this._timelineList, a), a.setActionTimeline(null))
	},
	getTimelines: function() {
		return this._timelineList
	},
	setFrameEventCallFunc: function(a) {
		this._frameEventListener = a
	},
	clearFrameEventCallFunc: function() {
		this._frameEventListener =
			null
	},
	clone: function() {
		var a = new ccs.ActionTimeline;
		a.setDuration(this._duration);
		a.setTimeSpeed(this._timeSpeed);
		for (var b in this._timelineMap) {
			var c = this._timelineMap[b],
				d;
			for (d in c) {
				var e = c[d].clone();
				a.addTimeline(e)
			}
		}
		return a
	},
	reverse: function() {
		return null
	},
	step: function(a) {
		this._playing && 0 !== this._timelineMap.length && 0 !== this._duration && (this._time += a * this._timeSpeed, a = this._time - this._endFrame * this._frameInternal, a < this._frameInternal ? (this._currentFrame = Math.floor(this._time / this._frameInternal),
			this._stepToFrame(this._currentFrame), 0 <= a && this._lastFrameListener && this._lastFrameListener()) : (this._playing = this._loop) ? this.gotoFrameAndPlay(this._startFrame, this._endFrame, this._loop) : (this._time = this._endFrame * this._frameInternal, this._currentFrame != this._endFrame && (this._currentFrame = this._endFrame, this._stepToFrame(this._currentFrame), this._lastFrameListener && this._lastFrameListener())))
	},
	_foreachNodeDescendant: function(a, b) {
		b(a);
		for (var c = a.getChildren(), d = 0; d < c.length; d++) this._foreachNodeDescendant(c[d],
			b)
	},
	startWithTarget: function(a) {
		cc.Action.prototype.startWithTarget.call(this, a);
		var b = this;
		this._foreachNodeDescendant(a, function(a) {
			var d = a.getComponent("ComExtensionData");
			if (d && (d = d.getActionTag(), b._timelineMap[d]))
				for (var d = b._timelineMap[d], e = 0; e < d.length; e++) d[e].setNode(a)
		})
	},
	isDone: function() {
		return !1
	},
	play: function(a, b) {
		var c = this._animationInfos[a];
		if (!c) return cc.log("Can't find animation info for %s", a);
		this.gotoFrameAndPlay(c.startIndex, c.endIndex, b)
	},
	addAnimationInfo: function(a) {
		this._animationInfos[a.name] =
			a
	},
	removeAnimationInfo: function(a) {
		delete this._animationInfos[a]
	},
	isAnimationInfoExists: function(a) {
		return this._animationInfos[a]
	},
	getAnimationInfo: function(a) {
		return this._animationInfos[a]
	},
	setLastFrameCallFunc: function(a) {
		this._lastFrameListener = a
	},
	clearLastFrameCallFunc: function() {
		this._lastFrameListener = null
	}
});
ccs.ActionTimeline.create = function() {
	return new ccs.ActionTimeline
};
ccs.Frame = ccs.Class.extend({
	_frameIndex: null,
	_tween: null,
	_timeline: null,
	_node: null,
	_tweenType: null,
	_easingParam: null,
	_enterWhenPassed: null,
	ctor: function() {
		this._frameIndex = 0;
		this._tween = !0;
		this._node = this._timeline = null;
		this._enterWhenPassed = !1;
		this._easingParam = []
	},
	_emitEvent: function() {
		this._timeline && this._timeline.getActionTimeline()._emitFrameEvent(this)
	},
	_cloneProperty: function(a) {
		this._frameIndex = a.getFrameIndex();
		this._tween = a.isTween();
		this._tweenType = a.getTweenType();
		this.setEasingParams(a.getEasingParams())
	},
	setFrameIndex: function(a) {
		this._frameIndex = a
	},
	getFrameIndex: function() {
		return this._frameIndex
	},
	setTimeline: function(a) {
		this._timeline = a
	},
	getTimeline: function(a) {
		return this._timeline
	},
	setNode: function(a) {
		this._node = a
	},
	getNode: function() {
		return this._node
	},
	setTween: function(a) {
		this._tween = a
	},
	isTween: function() {
		return this._tween
	},
	onEnter: function(a) {},
	apply: function(a) {
		this._tween && (this._tweenType !== ccs.FrameEaseType.TWEEN_EASING_MAX && this._tweenType !== ccs.FrameEaseType.LINEAR && (a = this.tweenPercent(a)),
			this._onApply(a))
	},
	_onApply: function(a) {},
	clone: function() {},
	tweenPercent: function(a) {
		var b = ccs.Frame.tweenToMap[this._tweenType];
		return b ? b(a, this._easingParam) : a
	},
	setEasingParams: function(a) {
		if (a)
			for (var b = this._easingParam.length = 0; b < a.length; b++) this._easingParam[b] = a[b]
	},
	getEasingParams: function() {
		return this._easingParam
	},
	setTweenType: function(a) {
		this._tweenType = a
	},
	getTweenType: function() {
		return this._tweenType
	},
	isEnterWhenPassed: function() {
		return this._enterWhenPassed
	}
});
ccs.Frame.tweenToMap = {
	"-1": function(a, b) {
		if (b) {
			var c = 1 - a;
			return b[1] * c * c * c + 3 * b[3] * a * c * c + 3 * b[5] * a * a * c + b[7] * a * a * a
		}
		return a
	},
	1: cc._easeSineInObj.easing,
	2: cc._easeSineOutObj.easing,
	3: cc._easeSineInOutObj.easing,
	4: cc._easeQuadraticActionIn.easing,
	5: cc._easeQuadraticActionOut.easing,
	6: cc._easeQuadraticActionInOut.easing,
	7: cc._easeCubicActionIn.easing,
	8: cc._easeCubicActionOut.easing,
	9: cc._easeCubicActionInOut.easing,
	10: cc._easeCubicActionIn.easing,
	11: cc._easeCubicActionOut.easing,
	12: cc._easeCubicActionInOut.easing,
	13: cc._easeQuinticActionIn.easing,
	14: cc._easeQuinticActionOut.easing,
	15: cc._easeQuinticActionInOut.easing,
	16: cc._easeExponentialInObj.easing,
	17: cc._easeExponentialOutObj.easing,
	18: cc._easeExponentialInOutObj.easing,
	19: cc._easeCircleActionIn.easing,
	20: cc._easeCircleActionOut.easing,
	21: cc._easeCircleActionInOut.easing,
	22: function(a, b) {
		var c = 0.3;
		null != b && (c = b[0]);
		return cc.easeElasticIn(c).easing(a)
	},
	23: function(a, b) {
		var c = 0.3;
		null != b && (c = b[0]);
		return cc.easeElasticOut(c).easing(a)
	},
	24: function(a, b) {
		var c =
			0.3;
		null != b && (c = b[0]);
		return cc.easeElasticInOut(c).easing(a)
	},
	25: cc._easeBackInObj.easing,
	26: cc._easeBackOutObj.easing,
	27: cc._easeBackInOutObj.easing,
	28: cc._easeBounceInObj.easing,
	29: cc._easeBounceOutObj.easing,
	30: cc._easeBounceInOutObj.easing
};
ccs.VisibleFrame = ccs.Frame.extend({
	_visible: !0,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._visible = !0
	},
	onEnter: function(a) {
		this._node && this._node.setVisible(this._visible)
	},
	clone: function() {
		var a = new ccs.VisibleFrame;
		a.setVisible(this._visible);
		a._cloneProperty(this);
		return a
	},
	setVisible: function(a) {
		this._visible = a
	},
	isVisible: function() {
		return this._visible
	}
});
ccs.VisibleFrame.create = function() {
	return new ccs.VisibleFrame
};
ccs.TextureFrame = ccs.Frame.extend({
	_sprite: null,
	_textureName: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._textureName = ""
	},
	setNode: function(a) {
		ccs.Frame.prototype.setNode.call(this, a);
		this._sprite = a
	},
	onEnter: function(a) {
		if (this._sprite) {
			a = this._sprite.getBlendFunc();
			var b = cc.spriteFrameCache._spriteFrames[this._textureName];
			null != b ? this._sprite.setSpriteFrame(b) : this._sprite.setTexture(this._textureName);
			this._sprite.getBlendFunc() !== a && this._sprite.setBlendFunc(a)
		}
	},
	clone: function() {
		var a =
			new ccs.TextureFrame;
		a.setTextureName(this._textureName);
		a._cloneProperty(this);
		return a
	},
	setTextureName: function(a) {
		this._textureName = a
	},
	getTextureName: function() {
		return this._textureName
	}
});
ccs.TextureFrame.create = function() {
	return new ccs.TextureFrame
};
ccs.RotationFrame = ccs.Frame.extend({
	_rotation: null,
	_betwennRotation: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._rotation = 0
	},
	onEnter: function(a) {
		this._node && (this._node.setRotation(this._rotation), this._tween && (this._betwennRotation = a._rotation - this._rotation))
	},
	_onApply: function(a) {
		0 !== this._betwennRotation && this._node.setRotation(this._rotation + a * this._betwennRotation)
	},
	clone: function() {
		var a = new ccs.RotationFrame;
		a.setRotation(this._rotation);
		a._cloneProperty(this);
		return a
	},
	setRotation: function(a) {
		this._rotation = a
	},
	getRotation: function() {
		return this._rotation
	}
});
ccs.RotationFrame.create = function() {
	return new ccs.RotationFrame
};
ccs.SkewFrame = ccs.Frame.extend({
	_skewX: null,
	_skewY: null,
	_betweenSkewX: null,
	_betweenSkewY: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._skewY = this._skewX = 0
	},
	onEnter: function(a) {
		this._node && (this._node.setSkewX(this._skewX), this._node.setSkewY(this._skewY), this._tween && (this._betweenSkewX = a._skewX - this._skewX, this._betweenSkewY = a._skewY - this._skewY))
	},
	_onApply: function(a) {
		if (0 !== this._betweenSkewX || 0 !== this._betweenSkewY) {
			var b = this._skewY + a * this._betweenSkewY;
			this._node.setSkewX(this._skewX +
				a * this._betweenSkewX);
			this._node.setSkewY(b)
		}
	},
	clone: function() {
		var a = new ccs.SkewFrame;
		a.setSkewX(this._skewX);
		a.setSkewY(this._skewY);
		a._cloneProperty(this);
		return a
	},
	setSkewX: function(a) {
		this._skewX = a
	},
	getSkewX: function() {
		return this._skewX
	},
	setSkewY: function(a) {
		this._skewY = a
	},
	getSkewY: function() {
		return this._skewY
	}
});
ccs.SkewFrame.create = function() {
	return new ccs.SkewFrame
};
ccs.RotationSkewFrame = ccs.SkewFrame.extend({
	onEnter: function(a) {
		this._node && (this._node.setRotationX(this._skewX), this._node.setRotationY(this._skewY), this._tween && (this._betweenSkewX = a._skewX - this._skewX, this._betweenSkewY = a._skewY - this._skewY))
	},
	_onApply: function(a) {
		if (this._node && (0 !== this._betweenSkewX || 0 !== this._betweenSkewY)) {
			var b = this._skewY + a * this._betweenSkewY;
			this._node.setRotationX(this._skewX + a * this._betweenSkewX);
			this._node.setRotationY(b)
		}
	},
	clone: function() {
		var a = new ccs.RotationSkewFrame;
		a.setSkewX(this._skewX);
		a.setSkewY(this._skewY);
		a._cloneProperty(this);
		return a
	}
});
ccs.RotationSkewFrame.create = function() {
	return new ccs.RotationSkewFrame
};
ccs.PositionFrame = ccs.Frame.extend({
	_position: null,
	_betweenX: null,
	_betweenY: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._position = cc.p(0, 0)
	},
	onEnter: function(a) {
		this._node && (this._node.setPosition(this._position), this._tween && (this._betweenX = a._position.x - this._position.x, this._betweenY = a._position.y - this._position.y))
	},
	_onApply: function(a) {
		if (this._node && (0 !== this._betweenX || 0 !== this._betweenY)) {
			var b = cc.p(0, 0);
			b.x = this._position.x + this._betweenX * a;
			b.y = this._position.y + this._betweenY *
				a;
			this._node.setPosition(b)
		}
	},
	clone: function() {
		var a = new ccs.PositionFrame;
		a.setPosition(this._position);
		a._cloneProperty(this);
		return a
	},
	setPosition: function(a) {
		this._position = a
	},
	getPosition: function() {
		return this._position
	},
	setX: function(a) {
		this._position.x = a
	},
	getX: function() {
		return this._position.x
	},
	setY: function(a) {
		this._position.y = a
	},
	getY: function() {
		return this._position.y
	}
});
ccs.PositionFrame.create = function() {
	return new ccs.PositionFrame
};
ccs.ScaleFrame = ccs.Frame.extend({
	_scaleX: null,
	_scaleY: null,
	_betweenScaleX: null,
	_betweenScaleY: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._scaleY = this._scaleX = 1
	},
	onEnter: function(a) {
		this._node && (this._node.setScaleX(this._scaleX), this._node.setScaleY(this._scaleY), this._tween && (this._betweenScaleX = a._scaleX - this._scaleX, this._betweenScaleY = a._scaleY - this._scaleY))
	},
	_onApply: function(a) {
		if (this._node && (0 !== this._betweenScaleX || 0 !== this._betweenScaleY)) {
			var b = this._scaleY + this._betweenScaleY *
				a;
			this._node.setScaleX(this._scaleX + this._betweenScaleX * a);
			this._node.setScaleY(b)
		}
	},
	clone: function() {
		var a = new ccs.ScaleFrame;
		a.setScaleX(this._scaleX);
		a.setScaleY(this._scaleY);
		a._cloneProperty(this);
		return a
	},
	setScale: function(a) {
		this._scaleY = this._scaleX = a
	},
	setScaleX: function(a) {
		this._scaleX = a
	},
	getScaleX: function() {
		return this._scaleX
	},
	setScaleY: function(a) {
		this._scaleY = a
	},
	getScaleY: function() {
		return this._scaleY
	}
});
ccs.ScaleFrame.create = function() {
	return new ccs.ScaleFrame
};
ccs.AnchorPointFrame = ccs.Frame.extend({
	_anchorPoint: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._anchorPoint = cc.p(0, 0)
	},
	onEnter: function(a) {
		this._node && this._node.setAnchorPoint(this._anchorPoint)
	},
	clone: function() {
		var a = new ccs.AnchorPointFrame;
		a.setAnchorPoint(this._anchorPoint);
		a._cloneProperty(this);
		return a
	},
	setAnchorPoint: function(a) {
		this._anchorPoint = a
	},
	getAnchorPoint: function() {
		return this._anchorPoint
	}
});
ccs.AnchorPointFrame.create = function() {
	return new ccs.AnchorPointFrame
};
ccs.InnerActionType = {
	LoopAction: 0,
	NoLoopAction: 1,
	SingleFrame: 2
};
ccs.InnerActionFrame = ccs.Frame.extend({
	_innerActionType: null,
	_startFrameIndex: null,
	_endFrameIndex: 0,
	_singleFrameIndex: 0,
	_enterWithName: null,
	_animationName: "",
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._enterWithName = !1;
		this._innerActionType = ccs.InnerActionType.LoopAction;
		this._startFrameIndex = 0
	},
	onEnter: function(a) {
		if (this._node && (a = this._node.getActionByTag(this._node.getTag())))
			if (ccs.InnerActionType.SingleFrame === this._innerActionType) a.gotoFrameAndPause(this._singleFrameIndex);
			else {
				var b =
					this._startFrameIndex,
					c = this._endFrameIndex;
				this._enterWithName && ("-- ALL --" === this._animationName ? (b = 0, c = a.getDuration()) : a.isAnimationInfoExists(this._animationName) ? (c = a.getAnimationInfo(this._animationName), b = c.startIndex, c = c.endIndex) : cc.log("Animation %s not exists!", this._animationName));
				var d = this._timeline.getActionTimeline().getDuration() - this._frameIndex - c + b;
				0 > d && (c += d);
				ccs.InnerActionType.NoLoopAction === this._innerActionType ? a.gotoFrameAndPlay(b, c, !1) : ccs.InnerActionType.LoopAction ===
					this._innerActionType && a.gotoFrameAndPlay(b, c, !0)
			}
	},
	setAnimationName: function(a) {
		this._animationName = a
	},
	setSingleFrameIndex: function(a) {
		this._singleFrameIndex = a
	},
	getSingleFrameIndex: function() {
		return this._startFrameIndex
	},
	setEnterWithName: function(a) {
		this._enterWithName = a
	},
	getEnterWithName: function() {
		return this._enterWithName
	},
	clone: function() {
		var a = new ccs.InnerActionFrame;
		a.setInnerActionType(this._innerActionType);
		a.setStartFrameIndex(this._startFrameIndex);
		a.setEnterWithName(this._enterWithName);
		a.setAnimationName(this._animationName);
		a.setSingleFrameIndex(this._singleFrameIndex);
		a._cloneProperty(this);
		return a
	},
	setInnerActionType: function(a) {
		this._innerActionType = a
	},
	getInnerActionType: function() {
		return this._innerActionType
	},
	setStartFrameIndex: function(a) {
		this._startFrameIndex = a
	},
	getStartFrameIndex: function() {
		return this._startFrameIndex
	}
});
ccs.InnerActionFrame.create = function() {
	return new ccs.InnerActionFrame
};
ccs.ColorFrame = ccs.Frame.extend({
	_alpha: null,
	_color: null,
	_betweenAlpha: null,
	_betweenRed: null,
	_betweenGreen: null,
	_betweenBlue: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._color = cc.color(255, 255, 255)
	},
	onEnter: function(a) {
		this._node && (this._node.setColor(this._color), this._tween && (a = a._color, this._betweenRed = a.r - this._color.r, this._betweenGreen = a.g - this._color.g, this._betweenBlue = a.b - this._color.b))
	},
	_onApply: function(a) {
		if (this._node && this._tween && (0 !== this._betweenAlpha || 0 !== this._betweenRed ||
				0 !== this._betweenGreen || 0 !== this._betweenBlue)) {
			var b = cc.color(255, 255, 255);
			b.r = this._color.r + this._betweenRed * a;
			b.g = this._color.g + this._betweenGreen * a;
			b.b = this._color.b + this._betweenBlue * a;
			this._node.setColor(b);
			null !== this._alpha && this._node.setOpacity(this._alpha + this._betweenAlpha * a)
		}
	},
	clone: function() {
		var a = new ccs.ColorFrame;
		a.setColor(this._color);
		a._cloneProperty(this);
		return a
	},
	setColor: function(a) {
		this._color = a
	},
	getColor: function() {
		return this._color
	}
});
ccs.ColorFrame.create = function() {
	return new ccs.ColorFrame
};
ccs.AlphaFrame = ccs.Frame.extend({
	_alpha: null,
	_betweenAlpha: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._alpha = 255
	},
	onEnter: function(a) {
		this._node && (this._node.setOpacity(this._alpha), this._tween && (this._betweenAlpha = a._alpha - this._alpha))
	},
	_onApply: function(a) {
		this._node && this._node.setOpacity(this._alpha + this._betweenAlpha * a)
	},
	setAlpha: function(a) {
		this._alpha = a
	},
	getAlpha: function() {
		return this._alpha
	},
	clone: function() {
		var a = new ccs.AlphaFrame;
		a.setAlpha(this._alpha);
		a._cloneProperty(this);
		return a
	}
});
ccs.EventFrame = ccs.Frame.extend({
	_event: null,
	ctor: function() {
		ccs.Frame.prototype.ctor.call(this);
		this._event = "";
		this._enterWhenPassed = !0
	},
	onEnter: function(a) {
		this._emitEvent()
	},
	clone: function() {
		var a = new ccs.EventFrame;
		a.setEvent(this._event);
		a._cloneProperty(this);
		return a
	},
	setEvent: function(a) {
		this._event = a
	},
	getEvent: function() {
		return this._event
	}
});
ccs.EventFrame.create = function() {
	return new ccs.EventFrame
};
ccs.ZOrderFrame = ccs.Frame.extend({
	_zorder: 0,
	onEnter: function(a) {
		this._node && this._node.setLocalZOrder(this._zorder)
	},
	clone: function() {
		var a = new ccs.ZOrderFrame;
		a.setZOrder(this._zorder);
		a._cloneProperty(this);
		return a
	},
	setZOrder: function(a) {
		this._zorder = a
	},
	getZOrder: function() {
		return this._zorder
	}
});
ccs.ZOrderFrame.create = function() {
	return new ccs.ZOrderFrame
};
ccs.BlendFuncFrame = ccs.Frame.extend({
	ctor: function() {
		this._super();
		this._blendFunc = null
	},
	onEnter: function(a, b) {
		this._node && this._blendFunc && this._node.setBlendFunc(this._blendFunc)
	},
	clone: function() {
		var a = new ccs.BlendFuncFrame;
		a.setBlendFunc(this._blendFunc);
		a._cloneProperty(this);
		return a
	},
	setBlendFunc: function(a) {
		a && a.src && a.dst && (this._blendFunc = a)
	},
	getBlendFunc: function() {
		return this._blendFunc
	}
});
ccs.BlendFuncFrame.create = function() {
	return new ccs.BlendFuncFrame
};
ccs.Timeline = ccs.Class.extend({
	_frames: null,
	_currentKeyFrame: null,
	_currentKeyFrameIndex: null,
	_fromIndex: null,
	_toIndex: null,
	_betweenDuration: null,
	_actionTag: null,
	_ActionTimeline: null,
	_node: null,
	ctor: function() {
		this._frames = [];
		this._currentKeyFrame = null;
		this._actionTag = this._betweenDuration = this._toIndex = this._fromIndex = this._currentKeyFrameIndex = 0;
		this._node = this._ActionTimeline = null
	},
	_gotoFrame: function(a) {
		0 !== this._frames.length && (this._binarySearchKeyFrame(a), this._apply(a))
	},
	_stepToFrame: function(a) {
		0 !==
			this._frames.length && (this._updateCurrentKeyFrame(a), this._apply(a))
	},
	getFrames: function() {
		return this._frames
	},
	addFrame: function(a) {
		this._frames.push(a);
		a.setTimeline(this)
	},
	insertFrame: function(a, b) {
		this._frames.splice(b, 0, a);
		a.setTimeline(this)
	},
	removeFrame: function(a) {
		cc.arrayRemoveObject(this._frames, a);
		a.setTimeline(null)
	},
	setActionTag: function(a) {
		this._actionTag = a
	},
	getActionTag: function() {
		return this._actionTag
	},
	setNode: function(a) {
		for (var b = 0; b < this._frames.length; b++) this._frames[b].setNode(a)
	},
	getNode: function() {
		return this._node
	},
	setActionTimeline: function(a) {
		this._ActionTimeline = a
	},
	getActionTimeline: function() {
		return this._ActionTimeline
	},
	clone: function() {
		var a = new ccs.Timeline;
		a._actionTag = this._actionTag;
		for (var b = 0; b < this._frames.length; b++) {
			var c = this._frames[b].clone();
			a.addFrame(c)
		}
		return a
	},
	_apply: function(a) {
		this._currentKeyFrame && this._currentKeyFrame.apply(0 >= this._betweenDuration ? 0 : (a - this._currentKeyFrameIndex) / this._betweenDuration)
	},
	_binarySearchKeyFrame: function(a) {
		var b =
			null,
			c = null,
			d = this._frames.length,
			e = !1;
		do
			if (a < this._frames[0].getFrameIndex()) this._currentKeyFrameIndex >= this._frames[0].getFrameIndex() && (e = !0), this._toIndex = this._fromIndex = 0, b = c = this._frames[0], this._currentKeyFrameIndex = 0, this._betweenDuration = this._frames[0].getFrameIndex();
			else if (a >= this._frames[d - 1].getFrameIndex()) this._fromIndex = d - 1, this._toIndex = 0, b = c = this._frames[d - 1], this._currentKeyFrameIndex = this._frames[d - 1].getFrameIndex(), this._betweenDuration = 0;
		else {
			for (var f = -1, b = 0, c = d - 1, g = 0; b <=
				c;) {
				g = Math.ceil((b + c) / 2);
				if (a >= this._frames[g].getFrameIndex() && a < this._frames[g + 1].getFrameIndex()) {
					f = g;
					break
				}
				this._frames[g].getFrameIndex() > a ? c = g - 1 : b = g + 1
			}
			this._fromIndex = f;
			this._toIndex = 1 < d ? f + 1 | 0 : f | 0;
			b = this._frames[f];
			c = this._frames[f + 1];
			0 === f && this._currentKeyFrameIndex < b.getFrameIndex() && (e = !0);
			this._currentKeyFrameIndex = b.getFrameIndex();
			this._betweenDuration = c.getFrameIndex() - b.getFrameIndex()
		}
		while (0);
		if (e || this._currentKeyFrame != b) this._currentKeyFrame = b, this._currentKeyFrame.onEnter(c)
	},
	_updateCurrentKeyFrame: function(a) {
		if (a < this._currentKeyFrameIndex || a >= this._currentKeyFrameIndex + this._betweenDuration) {
			var b = null,
				c = null;
			do {
				var d = this._frames.length;
				if (a < this._frames[0].getFrameIndex()) b = c = this._frames[0], this._currentKeyFrameIndex = 0, this._betweenDuration = this._frames[0].getFrameIndex();
				else {
					if (a >= this._frames[d - 1].getFrameIndex() && (a = this._frames[d - 1].getFrameIndex(), this._currentKeyFrameIndex >= a)) return;
					do {
						this._fromIndex = this._toIndex;
						b = this._frames[this._fromIndex];
						this._currentKeyFrameIndex =
							b.getFrameIndex();
						this._toIndex = this._fromIndex + 1;
						this._toIndex >= d && (this._toIndex = 0);
						c = this._frames[this._toIndex];
						if (a === b.getFrameIndex()) break;
						if (a > b.getFrameIndex() && a < c.getFrameIndex()) break;
						if (b.isEnterWhenPassed()) b.onEnter(c)
					} while (1);
					this._betweenDuration = c.getFrameIndex() - b.getFrameIndex()
				}
			} while (0);
			this._currentKeyFrame = b;
			this._currentKeyFrame.onEnter(c)
		}
	}
});
ccs.Timeline.create = function() {
	return new ccs.Timeline
};
ccs.SkinNode = function() {
	var a = cc.Node.extend({});
	a.create = function() {};
	return a
}();
ccs.BoneNode = function() {
	var a = cc.Node,
		b = ccs.SkinNode,
		c = cc.BlendFunc,
		d = {
			p: cc.p,
			size: cc.size,
			rect: cc.rect
		},
		e = {
			log: cc.log,
			assert: cc.assert
		},
		f = a.extend({
			_customCommand: null,
			_blendFunc: null,
			_rackColor: null,
			_rackLength: null,
			_rackWidth: null,
			_childBones: null,
			_boneSkins: null,
			_rootSkeleton: null,
			_squareVertices: null,
			_squareColors: null,
			_noMVPVertices: null,
			ctor: function(b) {
				a.prototype.ctor.call(this);
				null === this._squareVertices && (this._squareVertices = [{
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}]);
				this._rackColor =
					cc.color.WHITE;
				this._blendFunc = c.ALPHA_NON_PREMULTIPLIED;
				this._childBones = [];
				this._boneSkins = [];
				this._rackLength = void 0 === b ? 50 : b;
				this._rackWidth = 20;
				this._updateVertices()
			},
			visit: function(a) {
				this._visit && this._visit(a && a._renderCmd)
			},
			addSkin: function(b, c, d) {
				var f = this._boneSkins;
				e.assert(null != b, "Argument must be non-nil");
				if (d)
					for (d = 0; d < f.length; d++) f[d].setVisible(!1);
				a.prototype.addChild.call(this, b);
				this._boneSkins.push(b);
				b.setVisible(c)
			},
			getChildBones: function() {
				return this._childBones
			},
			getSkins: function() {
				return this._boneSkins
			},
			displaySkin: function(a, b) {
				var c = this._boneSkins,
					d, e;
				if ("string" === typeof a)
					for (e = 0; e < c.length; e++) d = c[e], a == d.getName() ? d.setVisible(!0) : b && d.setVisible(!1);
				else
					for (e = 0; e < c.length; e++) d = c[e], d == a ? d.setVisible(!0) : b && d.setVisible(!1)
			},
			getVisibleSkins: function() {
				for (var a = [], b = this._boneSkins, c, d = 0; d < b.length; d++) c = b[d], c.isVisible() && a.push(c);
				return a
			},
			getRootSkeletonNode: function() {
				return this._rootSkeleton
			},
			getAllSubBones: function() {
				for (var a = [], b = [], c = this._childBones, d = 0; d < c.length; d++) b.push(c[d]);
				for (; 0 < b.length;)
					for (c = b.pop(), a.push(c), c = c.getChildBones(), d = 0; d < c; d++) b.push(c[d]);
				return a
			},
			getAllSubSkins: function() {
				for (var a = this.getAllSubBones(), b = [], c = 0; c < a.length; c++)
					for (var d = a[c].getSkins(), e = 0; e < d.length; e++) b.push(d[c]);
				return b
			},
			addChild: function(b, c, d) {
				a.prototype.addChild.call(this, b, c, d);
				this._addToChildrenListHelper(b)
			},
			removeChild: function(b, c) {
				-1 !== this._children.indexOf(b) && (a.prototype.removeChild.call(this, b, c), this._removeFromChildrenListHelper(b))
			},
			setBlendFunc: function(a) {
				var b =
					this._blendFunc;
				if (a && b.src !== a.src && b.dst !== a.dst) {
					this._blendFunc = a;
					for (var b = this._boneSkins, c, d = 0; d < b.length; d++) c = b[d], c.setBlendFunc(a)
				}
			},
			getBlendFunc: function() {
				return this._blendFunc
			},
			setDebugDrawLength: function(a) {
				this._rackLength = a;
				this._updateVertices()
			},
			getDebugDrawLength: function() {
				return this._rackLength
			},
			setDebugDrawWidth: function(a) {
				this._rackWidth = a;
				this._updateVertices()
			},
			getDebugDrawWidth: function() {
				return this._rackWidth
			},
			setDebugDrawEnabled: function(a) {
				var b = this._renderCmd;
				b._debug !==
					a && (b._debug = a, cc.renderer.childrenOrderDirty = !0, this._visible && null != this._rootSkeleton && (this._rootSkeleton._subBonesDirty = !0, this._rootSkeleton._subBonesOrderDirty = !0))
			},
			isDebugDrawEnabled: function() {
				return this._renderCmd._debug
			},
			setDebugDrawColor: function(a) {
				this._rackColor = a
			},
			getDebugDrawColor: function() {
				return this._rackColor
			},
			getVisibleSkinsRect: function() {
				var a, b, c, e = 0;
				a = b = c = e;
				var f = !0,
					g = d.rect(0, 0, 0, 0);
				this._renderCmd._debug && null != this._rootSkeleton && this._rootSkeleton._renderCmd._debug &&
					(c = this._rackWidth, e = this._rackLength, f = !1);
				for (var h = this._boneSkins, s, w = 0; w < h.length; w++) {
					s = h[w];
					var v = s.getBoundingBox();
					!s.isVisible() || 0 === v.x && 0 === v.y && 0 === v.width && 0 === v.height || (f ? (a = cc.rectGetMinX(v), b = cc.rectGetMinY(v), c = cc.rectGetMaxX(v), e = cc.rectGetMaxY(v), f = !1) : (a = Math.min(cc.rectGetMinX(v), a), b = Math.min(cc.rectGetMinY(v), b), c = Math.max(cc.rectGetMaxX(v), c), e = Math.max(cc.rectGetMaxY(v), e)), g.setRect(a, b, c - a, e - b))
				}
				return g
			},
			getBoundingBox: function() {
				var a = this.getVisibleSkinsRect();
				return cc.rectApplyAffineTransform(a,
					this.getNodeToParentAffineTransform())
			},
			batchBoneDrawToSkeleton: function(a) {},
			setLocalZOrder: function(b) {
				a.prototype.setLocalZOrder.call(this, b);
				null != this._rootSkeleton && (this._rootSkeleton._subBonesOrderDirty = !0)
			},
			setName: function(b) {
				var c = this._rootSkeleton,
					d = this.getName();
				a.prototype.setName.call(this, b);
				if (null != c) {
					var d = c._subBonesMap[d],
						e = c._subBonesMap[b];
					d && !e && (delete c._subBonesMap[d], c._subBonesMap[b] = d)
				}
			},
			setContentSize: function(b) {
				a.prototype.setContentSize.call(this, b);
				this._updateVertices()
			},
			setAnchorPoint: function(b) {
				a.prototype.setAnchorPoint.call(this, b);
				this._updateVertices()
			},
			setVisible: function(b) {
				this._visible != b && (a.prototype.setVisible.call(this, b), null != this._rootSkeleton && (this._rootSkeleton._subBonesDirty = !0, this._rootSkeleton._subBonesOrderDirty = !0))
			},
			_addToChildrenListHelper: function(a) {
				a instanceof f ? this._addToBoneList(a) : this._addToSkinList(a)
			},
			_removeFromChildrenListHelper: function(a) {
				a instanceof f ? this._removeFromBoneList(a) : a instanceof b && this._removeFromSkinList(skin)
			},
			_removeFromBoneList: function(a) {
				if (null != this._rootSkeleton && a instanceof ccs.SkeletonNode && a._rootSkeleton === this._rootSkeleton) {
					a._rootSkeleton = null;
					var b = a.getAllSubBones();
					b.push(a);
					for (var c, d = 0; d < b.length; d++) c = b[d], c._rootSkeleton = null, delete this._rootSkeleton._subBonesMap[c.getName()], this._rootSkeleton._subBonesDirty = !0, this._rootSkeleton._subBonesOrderDirty = !0
				} else this._rootSkeleton._subBonesDirty = !0, this._rootSkeleton._subBonesOrderDirty = !0;
				cc.arrayRemoveObject(this._childBones, a)
			},
			_setRootSkeleton: function(a) {
				this._rootSkeleton =
					a;
				a = this.getAllSubBones();
				for (var b = 0; b < a.length; b++) this._addToBoneList(a[b])
			},
			_addToBoneList: function(a) {
				-1 === this._childBones.indexOf(a) && this._childBones.push(a);
				if (null != this._rootSkeleton && !(a instanceof b || a._rootSkeleton)) {
					var c = a.getAllSubBones();
					c.push(a);
					for (var d = 0; d < c.length; d++) {
						a = c[d];
						a._setRootSkeleton(this._rootSkeleton);
						var e = a.getName();
						this._rootSkeleton._subBonesMap[e] ? cc.log("already has a bone named %s in skeleton %s", e, this._rootSkeleton.getName()) : this._rootSkeleton._subBonesMap[a.getName()] =
							a;
						this._rootSkeleton._subBonesDirty = !0;
						this._rootSkeleton._subBonesOrderDirty = !0
					}
				}
			},
			_visitSkins: function() {
				var a = this._renderCmd;
				if (this._visible) {
					var b = a.getParentRenderCmd();
					b && (a._curLevel = b._curLevel + 1);
					var c = this._boneSkins,
						d;
					a._syncStatus(b);
					var e = c.length;
					if (0 < e) {
						this.sortAllChildren();
						for (b = 0; b < e; b++)
							if (d = c[b], 0 > d._localZOrder) d.visit(this);
							else break;
						for (; b < e; b++) c[b].visit(this)
					}
					a._dirtyFlag = 0
				}
			},
			_addToSkinList: function(a) {
				this._boneSkins.push(a);
				if (a.getBlendFunc) {
					var b = a.getBlendFunc();
					this._blendFunc.src !== b.src && this._blendFunc.dst !== b.dst && a.setBlendFunc(this._blendFunc)
				}
			},
			_removeFromSkinList: function(a) {
				cc.arrayRemoveObject(this._boneSkins, a)
			},
			sortAllChildren: function() {
				this._sortArray(this._childBones);
				this._sortArray(this._boneSkins);
				a.prototype.sortAllChildren.call(this)
			},
			_sortArray: function(a) {
				if (a) {
					var b = a.length,
						c, d, e;
					for (c = 1; c < b; c++) {
						e = a[c];
						for (d = c - 1; 0 <= d;) {
							if (e._localZOrder < a[d]._localZOrder) a[d + 1] = a[d];
							else if (e._localZOrder === a[d]._localZOrder && e.arrivalOrder < a[d].arrivalOrder) a[d +
								1] = a[d];
							else break;
							d--
						}
						a[d + 1] = e
					}
				}
			},
			_updateVertices: function() {
				var a = this._squareVertices,
					b = this._renderCmd._anchorPointInPoints;
				if (this._rackLength != a[2].x - b.x || a[3].y != this._rackWidth / 2 - b.y) {
					a[1].x = a[1].y = a[3].y = 0;
					a[0].x = a[2].x = 0.1 * this._rackLength;
					a[2].y = 0.5 * this._rackWidth;
					a[0].y = -a[2].y;
					a[3].x = this._rackLength;
					for (var c = 0; c < a.length; c++) a[c].x += b.x, a[c].y += b.y;
					this._renderCmd.updateDebugPoint(a)
				}
			},
			_createRenderCmd: function() {
				return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new g(this) : new h(this)
			}
		});
	f.create = function(a, b) {
		return new ccui.BoneNode(a, b)
	};
	var g = function() {
			var b = function(a) {
					this._rootCtor(a);
					this._debug = !1;
					this._color = cc.color.WHITE;
					this._drawNode = new cc.DrawNode
				},
				c = b.prototype = Object.create(a.CanvasRenderCmd.prototype);
			c.constructor = b;
			c.updateDebugPoint = function(a) {
				this._drawNode.clear();
				this._drawNode.drawPoly(a, this._color, 0, this._color)
			};
			c.transform = function(a, b) {
				var c = this._node._rootSkeleton;
				this.originTransform(a, b);
				c && c._renderCmd._debug && this._drawNode._renderCmd.transform(this)
			};
			return b
		}(),
		h = function() {
			var b = function(a) {
					this._rootCtor(a);
					this._debug = !1;
					this._color = cc.color.WHITE;
					this._drawNode = new cc.DrawNode
				},
				c = b.prototype = Object.create(a.WebGLRenderCmd.prototype);
			c.constructor = b;
			c.updateDebugPoint = function(a) {
				this._drawNode.clear();
				this._drawNode.drawPoly(a, this._color, 0, this._color)
			};
			c.transform = function(a, b) {
				var c = this._node._rootSkeleton;
				this.originTransform(a, b);
				c && c._renderCmd._debug && this._drawNode._renderCmd.transform(this)
			};
			return b
		}();
	return f
}();
ccs.SkeletonNode = function() {
	var a = ccs.BoneNode,
		b = a.extend({
			_subBonesMap: null,
			_squareVertices: null,
			_squareColors: null,
			_noMVPVertices: null,
			_skinGroupMap: null,
			_sortedAllBonesDirty: !1,
			_sortedAllBones: null,
			_batchedBoneVetices: null,
			_batchedBoneColors: null,
			_batchedVeticesCount: null,
			_batchBoneCommand: null,
			_subOrderedAllBones: null,
			ctor: function() {
				this._squareVertices = [{
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}, {
					x: 0,
					y: 0
				}];
				this._rootSkeleton = this;
				a.prototype.ctor.call(this);
				this._subBonesMap = {};
				this._subOrderedAllBones = [];
				this._skinGroupMap = {};
				this._rackLength = this._rackWidth = 20;
				this._updateVertices()
			},
			getBoneNode: function(a) {
				return (a = this._subBonesMap[a]) ? a : null
			},
			getAllSubBonesMap: function() {
				return this._subBonesMap
			},
			changeSkins: function(a) {
				if ("object" === typeof a) {
					var b, e;
					for (e in a) {
						b = a[e];
						var f = this.getBoneNode(e);
						null !== f && f.displaySkin(b, !0)
					}
				} else(a = this._suitMap[a]) && this.changeSkins(a, !0)
			},
			addSkinGroup: function(a, b) {
				this._skinGroupMap[a] = b
			},
			getBoundingBox: function() {
				var a, b, e,
					f = 0;
				a = b = e = f;
				var g = this.getVisibleSkinsRect(),
					h = !0;
				if (0 !== g.x || 0 !== g.y || 0 !== g.width || 0 !== g.height) a = cc.rectGetMinX(g), b = cc.rectGetMinY(g), e = cc.rectGetMaxX(g), f = cc.rectGetMaxY(g), h = !1;
				for (var k = this.getAllSubBones(), m, n = 0; n < k.length; n++)
					if (m = k[n], m = cc.rectApplyAffineTransform(m.getVisibleSkinsRect(), m.getNodeToParentTransform(m.getRootSkeletonNode())), 0 !== m.x || 0 !== m.y || 0 !== m.width || 0 !== m.height) h ? (a = cc.rectGetMinX(m), b = cc.rectGetMinY(m), e = cc.rectGetMaxX(m), f = cc.rectGetMaxY(m), h = !1) : (a = Math.min(cc.rectGetMinX(m),
						a), b = Math.min(cc.rectGetMinY(m), b), e = Math.max(cc.rectGetMaxX(m), e), f = Math.max(cc.rectGetMaxY(m), f));
				g.x = a;
				g.y = b;
				g.width = e - a;
				g.height = f - b;
				return cc.rectApplyAffineTransform(g, this.getNodeToParentTransform())
			},
			_visit: function(a) {
				var b = this._renderCmd;
				a = a || b.getParentRenderCmd();
				if (this._visible) {
					b._syncStatus(a);
					var e;
					if (0 !== this._children.length)
						for (a = 0; a < this._children.length; a++) e = this._children[a], e.visit(this);
					this._checkSubBonesDirty();
					e = this._subOrderedAllBones;
					var f;
					for (a = 0; a < e.length; a++) f =
						e[a], f._visitSkins();
					if (b._debug)
						for (a = 0; a < e.length; a++) f = e[a]._renderCmd, cc.renderer.pushRenderCommand(f._drawNode._renderCmd);
					b._dirtyFlag = 0
				} else b._propagateFlagsDown(a)
			},
			_checkSubBonesDirty: function() {
				this._subBonesDirty && (this._updateOrderedAllbones(), this._subBonesDirty = !1);
				this._subBonesOrderDirty && (this._sortOrderedAllBones(), this._subBonesOrderDirty = !1)
			},
			_updateOrderedAllbones: function() {
				this._subOrderedAllBones.length = 0;
				for (var a = [], b = this._childBones, e, f = 0; f < b.length; f++) e = b[f], e.isVisible() &&
					a.push(e);
				for (; 0 < a.length;)
					for (f = a.pop(), b = f._renderCmd, b._syncStatus(b.getParentRenderCmd()), this._subOrderedAllBones.push(f), b = f.getChildBones(), f = 0; f < b.length; f++) e = b[f], e.isVisible() && a.push(e)
			},
			_sortOrderedAllBones: function() {
				this._sortArray(this._subOrderedAllBones)
			},
			_updateVertices: function() {
				var a = this._squareVertices,
					b = this._renderCmd._anchorPointInPoints;
				if (this._rackLength != a[6].x - b.x || this._rackWidth != a[3].y - b.y) {
					var e = 0.5 * this._rackLength,
						f = 0.5 * this._rackWidth,
						g = 0.25 * e,
						h = 0.25 * f;
					a[5].y =
						a[2].y = a[1].y = a[6].y = a[0].x = a[4].x = a[7].x = a[3].x = 0;
					a[5].x = -e;
					a[0].y = -f;
					a[6].x = e;
					a[3].y = f;
					a[1].x = g;
					a[7].y = h;
					a[2].x = -g;
					a[4].y = -h;
					for (e = 0; e < a.length; e++) a[e].x += b.x, a[e].y += b.y
				}
			},
			_updateAllDrawBones: function() {
				this._subDrawBones = {};
				for (var a in this._subBonesMap) {
					var b = this._subBonesMap[a];
					b.isVisible() && b.isDebugDrawEnabled() && this._subDrawBones.push(b)
				}
				this._sortArray(this._sortedAllBones);
				this._subDrawBones = !1
			}
		});
	b.create = function() {
		return new b
	};
	return b
}();
ccs._load = function() {
	var a = function(a, d, h) {
			var k = cc.loader.getRes(a);
			if (!k) return cc.log("%s does not exist", a);
			var m = a.match(c),
				m = (m && m[1] ? m[1] : null).toLocaleLowerCase();
			if ("json" !== m && "exportjson" !== m) return cc.log("%s load error, must be json file", a);
			var n;
			d ? n = b[d] : k.widgetTree ? n = b.ccui : k.nodeTree ? n = b.timeline : k.Content && k.Content.Content ? n = b.timeline : k.gameobjects && (n = b.scene);
			if (!n) return cc.log("Can't find the parser : %s", a), new cc.Node;
			d = k.version || k.Version;
			if (!d && k.armature_data) return cc.warn("%s is armature. please use:",
				a), cc.warn("    ccs.armatureDataManager.addArmatureFileInfoAsync(%s);", a), cc.warn("    var armature \x3d new ccs.Armature('name');"), new cc.Node;
			n = e(n, d);
			return n ? n.parse(a, k, h) || null : (cc.log("Can't find the parser : %s", a), new cc.Node)
		},
		b = {
			ccui: {},
			timeline: {},
			action: {},
			scene: {}
		};
	a.registerParser = function(a, c, d) {
		if (!a || !c || !d) return cc.log("register parser error");
		b[a] || (b[a] = {});
		b[a][c] = d
	};
	a.getParser = function(a, c) {
		return a && c ? b[a] ? b[a][c] : void 0 : a ? b[a] : b
	};
	var c = /\.([^\.]+)$/,
		d = /([^\.](\.\*)?)*$/,
		e = function(a, b) {
			return a[b] ? a[b] : "*" === b ? null : e(a, b.replace(d, "*"))
		};
	return a
}();
ccs._parser = cc.Class.extend({
	ctor: function() {
		this.parsers = {}
	},
	_dirnameReg: /\S*\//,
	_dirname: function(a) {
		return (a = a.match(this._dirnameReg)) && a[0] ? a[0] : ""
	},
	getClass: function(a) {
		return a.classname
	},
	getNodeJson: function(a) {
		return a.widgetTree
	},
	parse: function(a, b, c) {
		c = c || this._dirname(a);
		this.pretreatment(b, c);
		var d = this.parseNode(this.getNodeJson(b), c, a);
		d && this.deferred(b, c, d, a);
		return d
	},
	pretreatment: function(a, b, c) {},
	deferred: function(a, b, c, d) {},
	parseNode: function(a, b) {
		var c = this.parsers[this.getClass(a)],
			d = null;
		c ? d = c.call(this, a, b) : cc.log("Can't find the parser : %s", this.getClass(a));
		return d
	},
	registerParser: function(a, b) {
		this.parsers[a] = b
	}
});
ccs.load = function(a, b) {
	var c = {
		node: null,
		action: null
	};
	c.node = ccs._load(a, null, b);
	c.action = ccs._load(a, "action", b);
	c.action && -1 === c.action.tag && c.node && (c.action.tag = c.node.tag);
	return c
};
ccs.load.validate = {};
ccs.load.preload = !0;
ccs.loadWithVisibleSize = function(a, b) {
	var c = ccs.load(a, b),
		d = cc.director.getVisibleSize();
	c.node && d && (c.node.setContentSize(d.width, d.height), ccui.helper.doLayout(c.node));
	return c
};
ccs.actionTimelineCache = {
	createAction: function(a) {
		return ccs._load(a, "action")
	}
};
ccs.csLoader = {
	createNode: function(a) {
		return ccs._load(a)
	}
};
cc.loader.register(["json"], {
	load: function(a, b, c, d) {
		cc.loader.loadJson(a, function(a, c) {
			var g = cc.path;
			if (c && c.Content && c.Content.Content.UsedResources) {
				for (var h = c.Content.Content.UsedResources, k = g.dirname(b), m = [], n, p = 0; p < h.length; p++)
					if (ccs.load.preload || !/\.(png|jpg$)/.test(h[p])) n = g.join(k, h[p]), n = g._normalize(n), ccs.load.validate[n] || (ccs.load.validate[n] = !0, m.push(n));
				cc.loader.load(m, function() {
					d(a, c)
				})
			} else d(a, c)
		})
	}
});
(function(a, b) {
	var c = new(b.extend({
		getNodeJson: function(a) {
			return a
		},
		parseNode: function(a, b) {
			var c = this.parsers[this.getClass(a)],
				d = null;
			c ? d = c.call(this, a, b) : cc.log("Can't find the parser : %s", this.getClass(a));
			return d
		},
		deferred: function(a, b, c, d) {
			ccs.triggerManager.parse(a.Triggers || []);
			ccs.sceneReader && (ccs.sceneReader._node = c)
		},
		setPropertyFromJsonDict: function(a, b) {
			var c = cc.isUndefined(b.x) ? 0 : b.x,
				d = cc.isUndefined(b.y) ? 0 : b.y;
			a.setPosition(c, d);
			c = Boolean(cc.isUndefined(b.visible) ? 1 : b.visible);
			a.setVisible(c);
			c = cc.isUndefined(b.objecttag) ? -1 : b.objecttag;
			a.setTag(c);
			c = cc.isUndefined(b.zorder) ? 0 : b.zorder;
			a.setLocalZOrder(c);
			c = cc.isUndefined(b.scalex) ? 1 : b.scalex;
			d = cc.isUndefined(b.scaley) ? 1 : b.scaley;
			a.setScaleX(c);
			a.setScaleY(d);
			c = cc.isUndefined(b.rotation) ? 0 : b.rotation;
			a.setRotation(c);
			a.setName(b.name || "")
		}
	}));
	c.parseChild = function(a, b, c) {
		for (var d = 0; d < b.length; d++) {
			var e, f = b[d];
			f && (e = this.parseNode(f, c));
			e && a.addChild(e)
		}
	};
	var d = {
			CCSprite: function(a, b, c) {
				var d = new cc.Sprite;
				f(b.fileData,
					c,
					function(a, b) {
						if (0 === b) d.setTexture(a);
						else if (1 === b) {
							var c = cc.spriteFrameCache.getSpriteFrame(a);
							d.setSpriteFrame(c)
						}
					});
				b = new ccs.ComRender(d, "CCSprite");
				a.addComponent(b);
				return b
			},
			CCTMXTiledMap: function(a, b, c) {
				var d = null;
				f(b.fileData, c, function(a, b) {
					0 === b && (d = new cc.TMXTiledMap(a))
				});
				b = new ccs.ComRender(d, "CCTMXTiledMap");
				a.addComponent(b);
				return b
			},
			CCParticleSystemQuad: function(a, b, c) {
				var d = null;
				f(b.fileData, c, function(a, b) {
					0 === b ? d = new cc.ParticleSystem(a) : cc.log("unknown resourcetype on CCParticleSystemQuad!");
					d.setPosition(0, 0)
				});
				b = new ccs.ComRender(d, "CCParticleSystemQuad");
				a.addComponent(b);
				return b
			},
			CCArmature: function(a, b, c) {
				var d = null;
				f(b.fileData, c, function(a, b) {
					if (0 === b) {
						var c = cc.loader.getRes(a);
						c || cc.log("Please load the resource [%s] first!", a);
						c = c.armature_data[0].name;
						ccs.armatureDataManager.addArmatureFileInfo(a);
						d = new ccs.Armature(c)
					}
				});
				if (d) return c = new ccs.ComRender(d, "CCArmature"), a.addComponent(c), (a = b.selectedactionname) && d.getAnimation() && d.getAnimation().play(a), c
			},
			CCComAudio: function(a,
				b, c) {
				var d = null;
				f(b.fileData, c, function(c, e) {
					if (0 === e) {
						d = new ccs.ComAudio;
						d.preloadEffect(c);
						var f = b.name;
						f && d.setName(f);
						a.addComponent(d)
					}
				})
			},
			CCComAttribute: function(a, b, c) {
				var d = null;
				f(b.fileData, c, function(b, c) {
					0 === c ? (d = new ccs.ComAttribute, "" !== b && d.parse(b), a.addComponent(d)) : cc.log("unknown resourcetype on CCComAttribute!")
				});
				return d
			},
			CCBackgroundAudio: function(a, b, c) {
				var d = null;
				f(b.fileData, c, function(c, e) {
					if (0 === e) {
						d = new ccs.ComAudio;
						d.preloadBackgroundMusic(c);
						d.setFile(c);
						var f = Boolean(b.loop ||
							0);
						d.setLoop(f);
						var k = b.name;
						k && d.setName(k);
						a.addComponent(d);
						d.playBackgroundMusic(c, f)
					}
				})
			},
			GUIComponent: function(a, b, c) {
				var d = null;
				f(b.fileData, c, function(a, b) {
					d = ccs._load(a, "ccui")
				});
				b = new ccs.ComRender(d, "GUIComponent");
				a.addComponent(b);
				return b
			},
			CCScene: function() {}
		},
		e = {},
		f = function(a, b, c) {
			if (null != a) {
				var d = a.path,
					f = a.resourceType;
				a = a.plist;
				d && (a && (cc.loader.getRes(b + a) ? (e[b + a] = !0, cc.spriteFrameCache.addSpriteFrames(b + a)) : e[b + a] || cc.log("%s need to be preloaded", b + a)), 0 !== f ? c(d, f) : c(b + d, f))
			}
		};
	c.parseComponents = function(a, b, c) {
		a && b && b.forEach(function(b) {
			var e = d[b.classname],
				f = null;
			e ? f = e(a, b, c) : cc.log("Can't find the component parser : %s", b.classname);
			b = b.name;
			f && b && f.setName(b)
		})
	};
	c.registerParser("CCNode", function(a, b) {
		var c = new cc.Node;
		this.setPropertyFromJsonDict(c, a);
		this.parseChild.call(this, c, a.gameobjects, b);
		this.parseComponents(c, a.components, b);
		var d = a.CanvasSize;
		d && c.setContentSize(cc.size(d._width, d._height));
		return c
	});
	a.registerParser("scene", "*", c)
})(ccs._load, ccs._parser);
(function(a, b) {
	var c = Array(50),
		d = new(b.extend({
			addSpriteFrame: function(a, b) {
				if (a)
					for (var c = 0; c < a.length; c++) cc.spriteFrameCache.addSpriteFrames(b + a[c])
			},
			pretreatment: function(a, b) {
				this.addSpriteFrame(a.textures, b)
			},
			parseRecursive: function(a, b) {
				var d = 1,
					e = null,
					f, p, r, t, u;
				for (c[0] = a; 0 < d;)
					if (d--, p = c[d], c[d] = null, p)
						if (r = p.classname, f = this.parsers[r]) {
							if (r = new f.object)
								if (e || (e = r), t = p.options, this.generalAttributes(r, t), f.handle(r, t, b), this.colorAttributes(r, t), f = p.parent, p.parent = null, f instanceof ccui.PageView ?
									f.addPage(r) : f instanceof ccui.ListView ? f.pushBackCustomItem(r) : f && (f instanceof ccui.Layout || (r.getPositionType() === ccui.Widget.POSITION_PERCENT && (t = r._positionPercent, u = f._anchorPoint, r._positionPercent.x = t.x + u.x, r._positionPercent.y = t.y + u.y), t = f._renderCmd._anchorPointInPoints, r._position.x += t.x, r._position.y += t.y, r.setNodeDirty()), f.addChild(r)), (p = p.children) && 0 < p.length)
									for (f = p.length - 1; 0 <= f; f--) c[d] = p[f], c[d].parent = r, d++
						} else cc.log("Can't find the parser : %s", r);
				return e
			},
			parse: function(a,
				b, c) {
				c = c || this._dirname(a);
				this.pretreatment(b, c);
				var d = this.parseRecursive(b.widgetTree, c);
				d && this.deferred(b, c, d, a);
				return d
			},
			deferred: function(a, b, c, d) {
				c && (ccs.actionManager.initWithDictionary(d, a.animation, c), c.setContentSize(a.designWidth, a.designHeight))
			}
		}));
	d.generalAttributes = function(a, b) {
		a._ignoreSize = b.ignoreSize || !0;
		a._sizeType = b.sizeType || 0;
		a._positionType = b.positionType || 0;
		a._sizePercent.x = b.sizePercentX || 0;
		a._sizePercent.y = b.sizePercentY || 0;
		a._positionPercent.x = b.positionPercentX ||
			0;
		a._positionPercent.y = b.positionPercentY || 0;
		var c = 0,
			d = 0;
		b.adaptScreen ? (d = cc.director.getWinSize(), c = d.width, d = d.height) : (c = b.width || 0, d = b.height || 0);
		var e = b.anchorPointX,
			f = b.anchorPointY;
		a._anchorPoint.x = isNaN(e) ? 0.5 : e;
		a._anchorPoint.y = isNaN(f) ? 0.5 : f;
		a.setContentSize(c, d);
		a.setTag(b.tag);
		a.setActionTag(b.actiontag);
		a.setTouchEnabled(b.touchAble);
		a._name = b.name || "default";
		a._position.x = b.x || 0;
		a._position.y = b.y || 0;
		a._scaleX = b.scaleX || 1;
		a._scaleY = b.scaleY || 1;
		a._rotationX = a._rotationY = b.rotation || 0;
		a._visible = b.visible || !1;
		a._localZOrder = b.ZOrder || 0;
		if (null != b.layoutParameter) {
			c = b.layoutParameter;
			d = null;
			switch (isNaN(c.type) ? 2 : c.type) {
				case 1:
					d = new ccui.LinearLayoutParameter;
					d._linearGravity = c.gravity || 0;
					break;
				case 2:
					d = new ccui.RelativeLayoutParameter, d._relativeLayoutName = c.relativeName, d._relativeWidgetName = c.relativeToName, d._relativeAlign = c.align || 0
			}
			null != d && (e = d._margin, e.left = c.marginLeft || 0, e.top = c.marginTop || 0, e.right = c.marginRight || 0, e.bottom = c.marginDown || 0, a.setLayoutParameter(d))
		}
	};
	d.colorAttributes = function(a, b) {
		var c = null !== b.opacity ? b.opacity : 255;
		null != c && a.setOpacity(c);
		var c = b.colorR,
			d = b.colorG,
			e = b.colorB;
		a.setColor(cc.color(null == c ? 255 : c, null == d ? 255 : d, null == e ? 255 : e));
		a.setFlippedX(b.flipX);
		a.setFlippedY(b.flipY)
	};
	var e = function(a, b, c, d) {
		c && (0 === b ? d(a + c, b) : d(c, b))
	};
	d.LayoutAttributes = function(a, b, c) {
		var d = 0,
			f = 0;
		b.adaptScreen ? (f = cc.director.getWinSize(), d = f.width, f = f.height) : (d = b.width || 0, f = b.height || 0);
		a.setSize(cc.size(d, f));
		a.setClippingEnabled(b.clipAble);
		d = b.backGroundScale9Enable;
		a.setBackGroundImageScale9Enabled(d);
		var f = b.bgColorR || 0,
			p = b.bgColorG || 0,
			r = b.bgColorB || 0,
			t = isNaN(b.bgStartColorR) ? 255 : b.bgStartColorR,
			u = isNaN(b.bgStartColorG) ? 255 : b.bgStartColorG,
			s = isNaN(b.bgStartColorB) ? 255 : b.bgStartColorB,
			w = isNaN(b.bgEndColorR) ? 255 : b.bgEndColorR,
			v = isNaN(b.bgEndColorG) ? 255 : b.bgEndColorG,
			x = isNaN(b.bgEndColorB) ? 255 : b.bgEndColorB;
		a.setBackGroundColorVector(cc.p(b.vectorX || 0, b.vectorY || 0));
		var A = b.bgColorOpacity || 0;
		a.setBackGroundColorType(b.colorType || 0);
		a.setBackGroundColor(cc.color(t,
			u, s), cc.color(w, v, x));
		a.setBackGroundColor(cc.color(f, p, r));
		a.setBackGroundColorOpacity(A);
		(f = b.backGroundImageData) && e(c, f.resourceType || 0, f.path, function(b, c) {
			a.setBackGroundImage(b, c)
		});
		d && (c = b.capInsetsX || 0, d = b.capInsetsY || 0, f = isNaN(b.capInsetsWidth) ? 1 : b.capInsetsWidth, p = isNaN(b.capInsetsHeight) ? 1 : b.capInsetsHeight, a.setBackGroundImageCapInsets(cc.rect(c, d, f, p)));
		b.layoutType && a.setLayoutType(b.layoutType)
	};
	d.ButtonAttributes = function(a, b, c) {
		var d = b.scale9Enable;
		a.setScale9Enabled(d);
		var f = b.normalData;
		e(c, f.resourceType || 0, f.path, function(b, c) {
			a.loadTextureNormal(b, c)
		});
		f = b.pressedData;
		e(c, f.resourceType || 0, f.path, function(b, c) {
			a.loadTexturePressed(b, c)
		});
		f = b.disabledData;
		e(c, f.resourceType || 0, f.path, function(b, c) {
			a.loadTextureDisabled(b, c)
		});
		if (d) {
			c = b.capInsetsX || 0;
			var d = b.capInsetsY || 0,
				f = isNaN(b.capInsetsWidth) ? 1 : b.capInsetsWidth,
				p = isNaN(b.capInsetsHeight) ? 1 : b.capInsetsHeight;
			a.setCapInsets(cc.rect(c, d, f, p));
			c = b.scale9Width || 0;
			d = b.scale9Height || 0;
			null != c && null != d && a.setSize(cc.size(c, d))
		}
		if (c =
			b.text || "") a.setTitleText(c), a.setTitleColor(cc.color(null !== b.textColorR ? b.textColorR : 255, null !== b.textColorG ? b.textColorG : 255, null !== b.textColorB ? b.textColorB : 255)), null != b.fontSize && a.setTitleFontSize(b.fontSize), b.fontName && a.setTitleFontName(b.fontName)
	};
	d.CheckBoxAttributes = function(a, b, c) {
		var d = b.backGroundBoxData;
		e(c, d.resourceType || 0, d.path, function(b, c) {
			a.loadTextureBackGround(b, c)
		});
		var f = b.backGroundBoxSelectedData;
		e(c, f.resourceType || d.resourceType, f.path || d.path, function(b, c) {
			a.loadTextureBackGroundSelected(b,
				c)
		});
		d = b.frontCrossData;
		e(c, d.resourceType || 0, d.path, function(b, c) {
			a.loadTextureFrontCross(b, c)
		});
		f = b.backGroundBoxDisabledData;
		e(c, f.resourceType || d.resourceType, f.path || d.path, function(b, c) {
			a.loadTextureBackGroundDisabled(b, c)
		});
		d = b.frontCrossDisabledData;
		e(c, d.resourceType || 0, d.path, function(b, c) {
			a.loadTextureFrontCrossDisabled(b, c)
		});
		b.selectedState && a.setSelected(b.selectedState)
	};
	d.ImageViewAttributes = function(a, b, c) {
		var d = b.fileNameData;
		e(c, d.resourceType || 0, d.path, function(b, c) {
			a.loadTexture(b,
				c)
		});
		c = !1;
		b.scale9Enable && (c = b.scale9Enable);
		a.setScale9Enabled(c);
		if (c) {
			c = b.scale9Height || 0;
			b.scale9Width && c && a.setSize(cc.size(b.scale9Width || 0, b.scale9Height || 0));
			c = b.capInsetsX || 0;
			var d = b.capInsetsY || 0,
				f = isNaN(b.capInsetsWidth) ? 1 : b.capInsetsWidth;
			b = isNaN(b.capInsetsHeight) ? 1 : b.capInsetsHeight;
			a.setCapInsets(cc.rect(c, d, f, b))
		}
	};
	d.TextAtlasAttributes = function(a, b, c) {
		var d = b.stringValue,
			e = b.charMapFileData,
			f = b.itemWidth,
			r = b.itemHeight,
			t = b.startCharMap;
		if (null != d && e && null != f && null != r && null != t) switch (b =
			b.charMapFileData, b.resourceType || 0) {
			case 0:
				a.setProperty(d, c + b.path, f, r, t);
				break;
			case 1:
				cc.log("Wrong res type of LabelAtlas!")
		}
	};
	d.TextBMFontAttributes = function(a, b, c) {
		var d = b.fileNameData;
		switch (d.resourceType || 0) {
			case 0:
				a.setFntFile(c + d.path);
				break;
			case 1:
				cc.log("Wrong res type of LabelAtlas!")
		}
		a.setString(b.text || "")
	};
	var f = /\.ttf$/;
	d.TextAttributes = function(a, b, c) {
		a.setTouchScaleChangeEnabled(b.touchScaleEnable);
		var d = b.text || "";
		d && a._setString(d);
		null != b.fontSize && a._setFontSize(b.fontSize);
		d = b.fontName;
		null != d && (cc.sys.isNative ? f.test(d) ? a.setFontName(cc.path.join(cc.loader.resPath, c, d)) : a.setFontName(d) : a._setFontName(d.replace(f, "")));
		c = b.areaHeight || 0;
		b.areaWidth && c && (c = cc.size(b.areaWidth, b.areaHeight), a._setTextAreaSize(c));
		c = b.hAlignment || 0;
		null != c && a._setTextHorizontalAlignment(c);
		b = b.vAlignment || 0;
		null != b && a._setTextVerticalAlignment(b);
		a._updateUITextContentSize()
	};
	d.ListViewAttributes = function(a, b, c) {
		d.ScrollViewAttributes(a, b, c);
		a.setDirection(b.direction || 1);
		a.setGravity(b.gravity ||
			0);
		a.setItemsMargin(b.itemMargin || 0)
	};
	d.LoadingBarAttributes = function(a, b, c) {
		var d = b.textureData;
		e(c, d.resourceType || 0, d.path, function(b, c) {
			a.loadTexture(b, c)
		});
		c = b.scale9Enable;
		a.setScale9Enabled(c);
		if (c) {
			c = b.capInsetsX || 0;
			var d = b.capInsetsY || 0,
				f = isNaN(b.capInsetsWidth) ? 1 : b.capInsetsWidth,
				p = isNaN(b.capInsetsHeight) ? 1 : b.capInsetsHeight;
			a.setCapInsets(cc.rect(c, d, f, p));
			a.setSize(cc.size(b.width || 0, b.height || 0))
		}
		a.setDirection(b.direction || 0);
		a.setPercent(b.percent || 0)
	};
	d.PageViewAttributes = d.LayoutAttributes;
	d.ScrollViewAttributes = function(a, b, c) {
		d.LayoutAttributes(a, b, c);
		a.setInnerContainerSize(cc.size(null != b.innerWidth ? b.innerWidth : 200, null != b.innerHeight ? b.innerHeight : 200));
		a.setDirection(null != b.direction ? b.direction : 1);
		a.setBounceEnabled(b.bounceEnable)
	};
	d.SliderAttributes = function(a, b, c) {
		var d = b.scale9Enable;
		a.setScale9Enabled(d);
		var f = b.length,
			p = b.barFileNameData,
			r = p.resourceType || 0,
			p = p.path;
		null != b.barFileName ? d && (e(c, r, p, function(b, c) {
				a.loadBarTexture(b, c)
			}), a.setSize(cc.size(f, a.getContentSize().height))) :
			e(c, r, p, function(b, c) {
				a.loadBarTexture(b, c)
			});
		d = b.ballNormalData;
		e(c, d.resourceType || 0, d.path, function(b, c) {
			a.loadSlidBallTextureNormal(b, c)
		});
		f = b.ballPressedData;
		e(c, f.resourceType || d.resourceType, f.path || d.path, function(b, c) {
			a.loadSlidBallTexturePressed(b, c)
		});
		d = b.ballDisabledData;
		e(c, d.resourceType || 0, d.path, function(b, c) {
			a.loadSlidBallTextureDisabled(b, c)
		});
		b = b.progressBarData;
		e(c, b.resourceType || 0, b.path, function(b, c) {
			a.loadProgressBarTexture(b, c)
		})
	};
	d.TextFieldAttributes = function(a, b, c) {
		var d =
			b.placeHolder || "";
		d && a.setPlaceHolder(d);
		a.setString(b.text || "");
		(d = b.fontSize) && a.setFontSize(d);
		d = b.fontName;
		null != d && (cc.sys.isNative ? f.test(d) ? a.setFontName(cc.path.join(cc.loader.resPath, c, d)) : a.setFontName(d) : a.setFontName(d.replace(f, "")));
		c = b.touchSizeWidth || 0;
		d = b.touchSizeHeight || 0;
		null != c && null != d && a.setTouchSize(c, d);
		c = b.maxLengthEnable;
		a.setMaxLengthEnabled(c);
		c && a.setMaxLength(b.maxLength);
		c = b.passwordEnable;
		a.setPasswordEnabled(c);
		c && a.setPasswordStyleText(b.passwordStyleText);
		c = b.areaWidth ||
			0;
		d = b.areaHeight || 0;
		c && d && (c = cc.size(c, d), a.setTextAreaSize(c));
		(c = b.hAlignment || 0) && a.setTextHorizontalAlignment(c);
		(c = b.vAlignment || 0) && a.setTextVerticalAlignment(c);
		c = isNaN(b.colorR) ? 255 : b.colorR;
		d = isNaN(b.colorG) ? 255 : b.colorG;
		b = isNaN(b.colorB) ? 255 : b.colorB;
		a.setTextColor(cc.color(c, d, b))
	};
	d.parsers = {
		Panel: {
			object: ccui.Layout,
			handle: d.LayoutAttributes
		},
		Button: {
			object: ccui.Button,
			handle: d.ButtonAttributes
		},
		CheckBox: {
			object: ccui.CheckBox,
			handle: d.CheckBoxAttributes
		},
		ImageView: {
			object: ccui.ImageView,
			handle: d.ImageViewAttributes
		},
		LabelAtlas: {
			object: ccui.TextAtlas,
			handle: d.TextAtlasAttributes
		},
		LabelBMFont: {
			object: ccui.TextBMFont,
			handle: d.TextBMFontAttributes
		},
		Label: {
			object: ccui.Text,
			handle: d.TextAttributes
		},
		ListView: {
			object: ccui.ListView,
			handle: d.ListViewAttributes
		},
		LoadingBar: {
			object: ccui.LoadingBar,
			handle: d.LoadingBarAttributes
		},
		PageView: {
			object: ccui.PageView,
			handle: d.PageViewAttributes
		},
		ScrollView: {
			object: ccui.ScrollView,
			handle: d.ScrollViewAttributes
		},
		Slider: {
			object: ccui.Slider,
			handle: d.SliderAttributes
		},
		TextField: {
			object: ccui.TextField,
			handle: d.TextFieldAttributes
		}
	};
	a.registerParser("ccui", "*", d)
})(ccs._load, ccs._parser);
(function(a, b) {
	var c = new(b.extend({
		getNodeJson: function(a) {
			return a.action
		},
		parseNode: function(a, b, c) {
			if (!a) return null;
			var g = this,
				h = new ccs.ActionTimeline;
			h.setDuration(a.duration);
			h.setTimeSpeed(a.speed || 1);
			a.timelines.forEach(function(a) {
				var c = g.parsers[a.frameType],
					d;
				c ? d = c.call(g, a, b) : cc.log("parser does not exist : %s", a.frameType);
				d && h.addTimeline(d);
				"ColorFrame" === a.frameType && h.addTimeline(g.parsers.AlphaFrame.call(g, a, b))
			});
			return h
		}
	}));
	[{
			name: "PositionFrame",
			handle: function(a) {
				var b = new ccs.PositionFrame;
				b.setPosition(cc.p(a.x, a.y));
				return b
			}
		}, {
			name: "VisibleFrame",
			handle: function(a) {
				var b = new ccs.VisibleFrame;
				b.setVisible(a.value);
				return b
			}
		}, {
			name: "ScaleFrame",
			handle: function(a) {
				var b = new ccs.ScaleFrame,
					c = a.y;
				b.setScaleX(a.x);
				b.setScaleY(c);
				return b
			}
		}, {
			name: "RotationFrame",
			handle: function(a) {
				var b = new ccs.RotationFrame;
				b.setRotation(a.rotation);
				return b
			}
		}, {
			name: "SkewFrame",
			handle: function(a) {
				var b = new ccs.SkewFrame,
					c = a.y;
				b.setSkewX(a.x);
				b.setSkewY(c);
				return b
			}
		}, {
			name: "RotationSkewFrame",
			handle: function(a) {
				var b =
					new ccs.RotationSkewFrame,
					c = a.y;
				b.setSkewX(a.x);
				b.setSkewY(c);
				return b
			}
		}, {
			name: "AnchorFrame",
			handle: function(a) {
				var b = new ccs.AnchorPointFrame;
				b.setAnchorPoint(cc.p(a.x, a.y));
				return b
			}
		}, {
			name: "InnerActionFrame",
			handle: function(a) {
				var b = new ccs.InnerActionFrame,
					c = a.startFrame;
				b.setInnerActionType(a.innerActionType);
				b.setStartFrameIndex(c);
				return b
			}
		}, {
			name: "ColorFrame",
			handle: function(a) {
				var b = new ccs.ColorFrame;
				b.setColor(cc.color(a.red, a.green, a.blue));
				(new ccs.AlphaFrame).setAlpha(a.alpha);
				return b
			}
		},
		{
			name: "AlphaFrame",
			handle: function(a) {
				var b = new ccs.AlphaFrame;
				b.setAlpha(a.alpha);
				return b
			}
		}, {
			name: "TextureFrame",
			handle: function(a) {
				var b = new ccs.TextureFrame;
				a = a.value;
				if (null != a) {
					var c = a;
					null == cc.spriteFrameCache.getSpriteFrame(c) && (c = ccs.csLoader.getJsonPath() + a);
					b.setTextureName(c)
				}
				return b
			}
		}, {
			name: "EventFrame",
			handle: function(a) {
				var b = new ccs.EventFrame;
				a = a.value;
				null != a && b.setEvent(a);
				return b
			}
		}, {
			name: "ZOrderFrame",
			handle: function(a) {
				var b = new ccs.ZOrderFrame;
				b.setZOrder(a.value);
				return b
			}
		}
	].forEach(function(a) {
		c.registerParser(a.name,
			function(b, c) {
				var g = new ccs.Timeline;
				g.setActionTag(b.actionTag);
				var h = b.frames;
				h && h.length && h.forEach(function(b) {
					var c = a.handle(b);
					c.setFrameIndex(b.frameIndex);
					c.setTween(b.tween);
					g.addFrame(c)
				});
				return g
			})
	});
	a.registerParser("action", "0.*", c);
	a.registerParser("action", "1.*", c)
})(ccs._load, ccs._parser);
(function(a, b) {
	var c = new(b.extend({
			getNodeJson: function(a) {
				return a.Content.Content.Animation
			},
			parseNode: function(a, b, c) {
				if (!a) return null;
				var d = this,
					k = new ccs.ActionTimeline;
				k.setDuration(a.Duration);
				k.setTimeSpeed(a.Speed || 1);
				a.Timelines.forEach(function(a) {
					var c = d.parsers[a.Property],
						e;
					c ? e = c.call(d, a, b) : cc.log("parser does not exist : %s", a.Property);
					e && k.addTimeline(e)
				});
				return k
			},
			deferred: function(a, b, c, d) {
				b = (a = a.Content.Content.AnimationList) ? a.length : 0;
				for (d = 0; d < b; d++) {
					var k = a[d],
						m = {
							name: null,
							startIndex: null,
							endIndex: null
						};
					m.name = k.Name;
					m.startIndex = k.StartIndex;
					m.endIndex = k.EndIndex;
					c.addAnimationInfo(m)
				}
			}
		})),
		d = function(a, b) {
			a.setTweenType(b.Type);
			var c = b.Points,
				d = [];
			c && (c.forEach(function(a) {
				d.push(a.X);
				d.push(a.Y)
			}), a.setEasingParams(d))
		};
	[{
			name: "Position",
			handle: function(a) {
				var b = new ccs.PositionFrame;
				b.setPosition(cc.p(a.X, a.Y));
				return b
			}
		}, {
			name: "VisibleForFrame",
			handle: function(a) {
				var b = new ccs.VisibleFrame;
				b.setVisible(a.Value);
				return b
			}
		}, {
			name: "Scale",
			handle: function(a) {
				var b =
					new ccs.ScaleFrame,
					c = a.Y;
				b.setScaleX(a.X);
				b.setScaleY(c);
				return b
			}
		}, {
			name: "Rotation",
			handle: function(a) {
				var b = new ccs.RotationFrame;
				b.setRotation(a.Rotation || a.Value || 0);
				return b
			}
		}, {
			name: "Skew",
			handle: function(a) {
				var b = new ccs.SkewFrame,
					c = a.Y;
				b.setSkewX(a.X);
				b.setSkewY(c);
				return b
			}
		}, {
			name: "RotationSkew",
			handle: function(a) {
				var b = new ccs.RotationSkewFrame,
					c = a.Y;
				b.setSkewX(a.X);
				b.setSkewY(c);
				return b
			}
		}, {
			name: "Anchor",
			handle: function(a) {
				var b = new ccs.AnchorPointFrame;
				b.setAnchorPoint(cc.p(a.X, a.Y));
				return b
			}
		},
		{
			name: "AnchorPoint",
			handle: function(a) {
				var b = new ccs.AnchorPointFrame;
				b.setAnchorPoint(cc.p(a.X, a.Y));
				return b
			}
		}, {
			name: "InnerAction",
			handle: function(a) {
				var b = new ccs.InnerActionFrame,
					c = a.StartFrame;
				b.setInnerActionType(a.InnerActionType);
				b.setStartFrameIndex(c);
				return b
			}
		}, {
			name: "CColor",
			handle: function(a) {
				var b = new ccs.ColorFrame;
				(a = a.Color) || (a = {});
				a.R = void 0 === a.R ? 255 : a.R;
				a.G = void 0 === a.G ? 255 : a.G;
				a.B = void 0 === a.B ? 255 : a.B;
				b.setColor(cc.color(a.R, a.G, a.B));
				return b
			}
		}, {
			name: "Alpha",
			handle: function(a) {
				var b =
					new ccs.AlphaFrame;
				b.setAlpha(a.Value);
				return b
			}
		}, {
			name: "FileData",
			handle: function(a, b) {
				var c, d, k, m;
				c = new ccs.TextureFrame;
				d = a.TextureFile;
				null != d && (k = d.Plist, d = d.Path, m = cc.spriteFrameCache.getSpriteFrame(d), !m && k && (cc.loader.getRes(b + k) ? (cc.spriteFrameCache.addSpriteFrames(b + k), m = cc.spriteFrameCache.getSpriteFrame(d)) : cc.log("%s need to be preloaded", b + k)), null == m && (d = b + d), c.setTextureName(d));
				return c
			}
		}, {
			name: "FrameEvent",
			handle: function(a) {
				var b = new ccs.EventFrame;
				a = a.Value;
				null != a && b.setEvent(a);
				return b
			}
		}, {
			name: "ZOrder",
			handle: function(a) {
				var b = new ccs.ZOrderFrame;
				b.setZOrder(a.Value);
				return b
			}
		}, {
			name: "ActionValue",
			handle: function(a) {
				var b = new ccs.InnerActionFrame,
					c = a.InnerActionType,
					d = a.CurrentAniamtionName,
					k = a.SingleFrameIndex;
				a = a.FrameIndex;
				void 0 !== a && b.setFrameIndex(a);
				b.setInnerActionType(ccs.InnerActionType[c]);
				b.setSingleFrameIndex(k);
				b.setEnterWithName(!0);
				d && b.setAnimationName(d);
				return b
			}
		}, {
			name: "BlendFunc",
			handle: function(a) {
				var b = new ccs.BlendFuncFrame;
				(a = a.BlendFunc) && void 0 !==
					a.Src && void 0 !== a.Dst && b.setBlendFunc(new cc.BlendFunc(a.Src, a.Dst));
				return b
			}
		}
	].forEach(function(a) {
		c.registerParser(a.name, function(b, c) {
			var h = new ccs.Timeline;
			h.setActionTag(b.ActionTag);
			var k = b.Frames;
			k && k.length && k.forEach(function(b) {
				var f = a.handle(b, c);
				f.setFrameIndex(b.FrameIndex);
				f.setTween(null != b.Tween ? b.Tween : !0);
				(b = b.EasingData) && d(f, b);
				h.addFrame(f)
			});
			return h
		})
	});
	a.registerParser("action", "2.*", c);
	a.registerParser("action", "*", c)
})(ccs._load, ccs._parser);
(function(a, b) {
	var c = {},
		d = new(b.extend({
			getNodeJson: function(a) {
				return a.nodeTree
			},
			addSpriteFrame: function(a, b, d) {
				if (a && b && a.length === b.length)
					for (var e = 0; e < a.length; e++) {
						var m = d + a[e];
						cc.loader.getRes(m) || c[m] ? c[m] = !0 : cc.log("%s need to be preloaded", m);
						cc.spriteFrameCache.addSpriteFrames(m, d + b[e])
					}
			},
			pretreatment: function(a, b, c) {
				this.addSpriteFrame(a.textures, a.texturesPng, b)
			}
		}));
	d.generalAttributes = function(a, b) {
		var c = null != b.width ? b.width : 0,
			d = null != b.height ? b.height : 0,
			e = null != b.x ? b.x : 0,
			n = null !=
			b.y ? b.y : 0,
			p = null != b.scaleX ? b.scaleX : 1,
			r = null != b.scaleY ? b.scaleY : 1,
			t = null != b.rotation ? b.rotation : 0,
			u = null != b.rotationSkewX ? b.rotationSkewX : 0,
			s = null != b.rotationSkewY ? b.rotationSkewY : 0,
			w = null != b.skewX ? b.skewX : 0,
			v = null != b.skewY ? b.skewY : 0,
			x = null != b.anchorPointX ? b.anchorPointX : 0.5,
			A = null != b.anchorPointY ? b.anchorPointY : 0.5,
			z = null != b.opacity ? b.opacity : 255,
			y = null != b.colorR ? b.colorR : 255,
			B = null != b.colorG ? b.colorG : 255,
			C = null != b.colorB ? b.colorB : 255,
			D = null != b.colorR ? b.colorR : 0,
			I = null != b.tag ? b.tag : 0,
			E = null != b.actionTag ?
			b.actionTag : 0,
			F = null != b.visible ? b.visible : !0;
		0 == e && 0 == n || a.setPosition(cc.p(e, n));
		1 != p && a.setScaleX(p);
		1 != r && a.setScaleY(r);
		0 != t && a.setRotation(t);
		0 != u && a.setRotationX(u);
		0 != s && a.setRotationY(s);
		0 != w && a.setSkewX(w);
		0 != v && a.setSkewY(v);
		0.5 == x && 0.5 == A || a.setAnchorPoint(cc.p(x, A));
		0 == c && 0 == d || a.setContentSize(cc.size(c, d));
		0 != D && a.setLocalZOrder(D);
		!0 != F && a.setVisible(F);
		255 != z && a.setOpacity(z);
		255 == y && 255 == B && 255 == C || a.setColor(cc.color(y, B, C));
		a.setTag(I);
		a.setUserObject(new ccs.ActionTimelineData(E))
	};
	d.parseComponent = function(a, b) {
		if (b)
			for (var c = 0; c < b.length; ++c) {
				var d = this.loadComponent(b[c]);
				d && a.addComponent(d)
			}
	};
	d.parseChild = function(a, b, c, d) {
		a = c.children;
		for (c = 0; c < a.length; c++) {
			var e = this.parseNode(a[c], d);
			if (e)
				if (b instanceof ccui.PageView) e instanceof ccui.Layout && b.addPage(e);
				else if (b instanceof ccui.ListView) e instanceof ccui.Widget && b.pushBackCustomItem(e);
			else {
				if (!(b instanceof ccui.Layout) && e instanceof ccui.Widget) {
					if (e.getPositionType() === ccui.Widget.POSITION_PERCENT) {
						var n = e.getPositionPercent(),
							p = b.getAnchorPoint();
						e.setPositionPercent(cc.p(n.x + p.x, n.y + p.y))
					}
					n = b.getAnchorPointInPoints();
					e.setPosition(cc.p(e.getPositionX() + n.x, e.getPositionY() + n.y))
				}
				b.addChild(e)
			}
		}
	};
	d.initNode = function(a) {
		var b = new cc.Node;
		this.generalAttributes(b, a);
		return b
	};
	d.initSubGraph = function(a) {
		var b = a.fileName,
			b = b && "" !== b ? this.createNode(b) : new ccs.Node;
		this.generalAttributes(b, a);
		return b
	};
	d.initSprite = function(a, b) {
		var c = a.fileName;
		if (null != c) {
			var d = cc.spriteFrameCache.getSpriteFrame(c),
				c = d ? ccs.Sprite.createWithSpriteFrame(d) :
				new ccs.Sprite(b + c);
			c || (c = new cc.Sprite, cc.log("filePath is empty. Create a sprite with no texture"))
		} else c = new ccs.Sprite;
		this.generalAttributes(c, a);
		var d = a.flipX,
			e = a.flipY;
		!1 != d && c.setFlippedX(d);
		!1 != e && c.setFlippedY(e);
		return c
	};
	d.initParticle = function(a, b) {
		var c = a.tmxFile,
			d = new cc.ParticleSystemQuad(a.plistFile);
		d.setTotalParticles(c);
		this.generalAttributes(d, a);
		return d
	};
	d.initTMXTiledMap = function(a, b) {
		var c = a.tmxFile,
			d = a.tmxString,
			e = a.resourcePath,
			n = null;
		c && "" !== c ? n = new cc.TMXTiledMap(c) :
			d && "" !== d && e && "" !== e && (n = new cc.TMXTiledMap(d, e));
		return n
	};
	var e = a.getParser("ccui")["*"];
	d.initWidget = function(a, b) {
		var c = a.classname,
			d = e.parsers[c];
		if (!d) return cc.log("%s parser is not found", c);
		if (c = d.call(e, a, b)) {
			var d = a.rotationSkewX,
				m = a.rotationSkewY,
				n = a.skewX,
				p = a.skewY;
			0 != d && c.setRotationX(d);
			0 != m && c.setRotationY(m);
			0 != n && c.setSkewX(n);
			0 != p && c.setSkewY(p);
			c.setUserObject(new ccs.ActionTimelineData(a.actionTag))
		}
		return c
	};
	[{
			name: "Node",
			handle: d.initNode
		}, {
			name: "SubGraph",
			handle: d.initSubGraph
		},
		{
			name: "Sprite",
			handle: d.initSprite
		}, {
			name: "Particle",
			handle: d.initParticle
		}, {
			name: "TMXTiledMap",
			handle: d.initTMXTiledMap
		}, {
			name: "Widget",
			handle: d.initWidget
		}, {
			name: "Panel",
			handle: d.initWidget
		}, {
			name: "Button",
			handle: d.initWidget
		}, {
			name: "CheckBox",
			handle: d.initWidget
		}, {
			name: "ImageView",
			handle: d.initWidget
		}, {
			name: "LabelAtlas",
			handle: d.initWidget
		}, {
			name: "LabelBMFont",
			handle: d.initWidget
		}, {
			name: "Label",
			handle: d.initWidget
		}, {
			name: "ListView",
			handle: d.initWidget
		}, {
			name: "LoadingBar",
			handle: d.initWidget
		}, {
			name: "PageView",
			handle: d.initWidget
		}, {
			name: "ScrollView",
			handle: d.initWidget
		}, {
			name: "Slider",
			handle: d.initWidget
		}, {
			name: "TextField",
			handle: d.initWidget
		}
	].forEach(function(a) {
		d.registerParser(a.name, function(b, c, d) {
			var e = a.handle.call(this, b.options);
			this.parseComponent(e, b.components);
			this.parseChild(c, e, b, d);
			return e
		})
	});
	a.registerParser("timeline", "0.*", d);
	a.registerParser("timeline", "1.*", d)
})(ccs._load, ccs._parser);
(function(a, b) {
	var c = new(b.extend({
			parse: function(a, b, c) {
				c = void 0 !== c ? c : this._dirname(a);
				this.pretreatment(b, c, a);
				var d = this.parseNode(this.getNodeJson(b), c);
				this.deferred(b, c, d, a);
				return d
			},
			getNodeJson: function(a) {
				a = a.Content;
				return a.ObjectData ? a.ObjectData : a.Content.ObjectData
			},
			getClass: function(a) {
				return a.ctype
			}
		})),
		d = function(a, b) {
			return void 0 === a ? b : a
		};
	c.generalAttributes = function(a, b) {
		null != b.Name && a.setName(b.Name);
		var c = b.Position;
		null == c || null == c.X && null == c.Y || a.setPosition(cc.p(c.X || 0,
			c.Y || 0));
		c = b.Scale;
		null != c && (null != c.ScaleX && a.setScaleX(c.ScaleX), null != c.ScaleY && a.setScaleY(c.ScaleY));
		c = b.RotationSkewX;
		null != c && a.setRotationX(c);
		c = b.RotationSkewY;
		null != b.RotationSkewY && a.setRotationY(c);
		c = b.AnchorPoint;
		null != c && (null == c.ScaleX && (c.ScaleX = 0), null == c.ScaleY && (c.ScaleY = 0), 0.5 == c.ScaleX && 0.5 == c.ScaleY || a.setAnchorPoint(cc.p(c.ScaleX, c.ScaleY)));
		null != b.ZOrder && a.setLocalZOrder(b.ZOrder);
		c = d(b.VisibleForFrame, !0);
		a.setVisible(c);
		(c = b.Size) && r(a, c);
		null != b.Alpha && a.setOpacity(b.Alpha);
		a.setTag(b.Tag || 0);
		var c = b.ActionTag || 0,
			e = new ccs.ComExtensionData,
			g = b.UserData;
		void 0 !== g && e.setCustomProperty(g);
		e.setActionTag(c);
		a.getComponent("ComExtensionData") && a.removeComponent("ComExtensionData");
		a.addComponent(e);
		a.setCascadeColorEnabled(!0);
		a.setCascadeOpacityEnabled(!0);
		f(a, b)
	};
	c.parseChild = function(a, b, c) {
		if (a && b)
			for (var d = 0; d < b.length; d++) {
				var e = this.parseNode(b[d], c);
				if (e)
					if (a instanceof ccui.PageView) e instanceof ccui.Layout && a.addPage(e);
					else if (a instanceof ccui.ListView) e instanceof
				ccui.Widget && a.pushBackCustomItem(e);
				else {
					if (!(a instanceof ccui.Layout) && e instanceof ccui.Widget && e.getPositionType() === ccui.Widget.POSITION_PERCENT) {
						var f = e.getPositionPercent(),
							g = a.getAnchorPoint();
						e.setPositionPercent(cc.p(f.x + g.x, f.y + g.y))
					}
					a.addChild(e)
				}
			}
	};
	c.initSingleNode = function(a) {
		var b = new cc.Node;
		this.generalAttributes(b, a);
		a = a.CColor;
		null != a && b.setColor(p(a));
		return b
	};
	c.initSprite = function(a, b) {
		var c = new cc.Sprite;
		n(a.FileData, b, function(a, b) {
			if (0 === b) c.setTexture(a);
			else if (1 === b) {
				var d =
					cc.spriteFrameCache.getSpriteFrame(a);
				d && c.setSpriteFrame(d)
			}
		});
		var d = a.BlendFunc;
		if (a.BlendFunc) {
			var e = cc.BlendFunc.ALPHA_PREMULTIPLIED;
			void 0 !== d.Src && (e.src = d.Src);
			void 0 !== d.Dst && (e.dst = d.Dst);
			c.setBlendFunc(e)
		}
		a.FlipX && c.setFlippedX(!0);
		a.FlipY && c.setFlippedY(!0);
		this.generalAttributes(c, a);
		d = a.CColor;
		null != d && c.setColor(p(d));
		return c
	};
	c.initParticle = function(a, b) {
		var c, d = this;
		n(a.FileData, b, function(b, e) {
			cc.loader.getRes(b) || cc.log("%s need to be preloaded", b);
			c = new cc.ParticleSystem(b);
			d.generalAttributes(c,
				a);
			c.setPositionType(cc.ParticleSystem.TYPE_GROUPED);
			!cc.sys.isNative && c.setDrawMode(cc.ParticleSystem.TEXTURE_MODE);
			var f = a.BlendFunc;
			if (a.BlendFunc) {
				var g = cc.BlendFunc.ALPHA_PREMULTIPLIED;
				void 0 !== f.Src && (g.src = f.Src);
				void 0 !== f.Dst && (g.dst = f.Dst);
				c.setBlendFunc(g)
			}
		});
		return c
	};
	c.widgetAttributes = function(a, b, c) {
		a.setCascadeColorEnabled(!0);
		a.setCascadeOpacityEnabled(!0);
		a.setUnifySizeEnabled(!1);
		a.ignoreContentAdaptWithSize(!1);
		!c && r(a, b.Size);
		(c = b.Name) && a.setName(c);
		c = b.ActionTag || 0;
		a.setActionTag(c);
		var g = new ccs.ComExtensionData,
			h = b.UserData;
		void 0 !== h && g.setCustomProperty(h);
		g.setActionTag(c);
		a.getComponent("ComExtensionData") && a.removeComponent("ComExtensionData");
		a.addComponent(g);
		(c = b.RotationSkewX) && a.setRotationX(c);
		(c = b.RotationSkewY) && a.setRotationY(c);
		b.FlipX && a.setFlippedX(!0);
		b.FlipY && a.setFlippedY(!0);
		c = b.zOrder;
		null != c && a.setLocalZOrder(c);
		c = d(b.VisibleForFrame, !0);
		a.setVisible(c);
		c = b.Alpha;
		null != c && a.setOpacity(c);
		a.setTag(b.Tag || 0);
		a.setTouchEnabled(b.TouchEnable || !1);
		c = b.CallBackType;
		null != c && a.setCallbackType(c);
		(c = b.CallBackName) && a.setCallbackName(c);
		c = b.Position;
		null != c && a.setPosition(c.X || 0, c.Y || 0);
		g = b.Scale;
		null != g && (c = d(g.ScaleX, 1), g = d(g.ScaleY, 1), a.setScaleX(c), a.setScaleY(g));
		c = b.AnchorPoint;
		null != c && a.setAnchorPoint(c.ScaleX || 0, c.ScaleY || 0);
		c = b.CColor;
		null != c && a.setColor(p(c));
		f(a, b);
		e(a, b)
	};
	var e = function(a, b) {
			var c = b.CallBackType,
				d = b.CallBackName,
				e = function(b) {
					if ("function" === typeof a[d]) a[d](b)
				};
			"Click" === c ? a.addClickEventListener(e) : "Touch" === c ? a.addTouchEventListener(e) :
				"Event" === c && a.addCCSEventListener(e)
		},
		f = function(a, b) {
			var c = ccui.LayoutComponent.bindLayoutComponent(a);
			if (c) {
				var d = b.PositionPercentXEnable || b.PositionPercentXEnabled || !1,
					e = b.PositionPercentYEnable || b.PositionPercentYEnabled || !1,
					f = 0,
					g = 0,
					h = b.PrePosition;
				null != h && (f = h.X || 0, g = h.Y || 0);
				var k = b.PercentWidthEnable || b.PercentWidthEnabled || !1,
					m = b.PercentHeightEnable || b.PercentHeightEnabled || !1,
					n = 0,
					p = 0,
					r = b.PreSize;
				null != h && (n = r.X || 0, p = r.Y || 0);
				var E = b.StretchWidthEnable || !1,
					F = b.StretchHeightEnable || !1,
					K = b.HorizontalEdge,
					h = b.VerticalEdge,
					r = b.LeftMargin || 0,
					G = b.RightMargin || 0,
					H = b.TopMargin || 0,
					M = b.BottomMargin || 0;
				c.setPositionPercentXEnabled(d);
				c.setPositionPercentYEnabled(e);
				c.setPositionPercentX(f);
				c.setPositionPercentY(g);
				c.setPercentWidthEnabled(k);
				c.setPercentHeightEnabled(m);
				c.setPercentWidth(n);
				c.setPercentHeight(p);
				c.setPercentWidthEnabled(k || m);
				c.setStretchWidthEnabled(E);
				c.setStretchHeightEnabled(F);
				d = ccui.LayoutComponent.horizontalEdge.NONE;
				"LeftEdge" === K ? d = ccui.LayoutComponent.horizontalEdge.LEFT : "RightEdge" ===
					K ? d = ccui.LayoutComponent.horizontalEdge.RIGHT : "BothEdge" === K && (d = ccui.LayoutComponent.horizontalEdge.CENTER);
				c.setHorizontalEdge(d);
				d = ccui.LayoutComponent.verticalEdge.NONE;
				"TopEdge" === h ? d = ccui.LayoutComponent.verticalEdge.TOP : "BottomEdge" === h ? d = ccui.LayoutComponent.verticalEdge.BOTTOM : "BothEdge" === h && (d = ccui.LayoutComponent.verticalEdge.CENTER);
				c.setVerticalEdge(d);
				c.setTopMargin(H);
				c.setBottomMargin(M);
				c.setLeftMargin(r);
				c.setRightMargin(G);
				c.setVerticalEdge(d);
				c.setTopMargin(H);
				c.setBottomMargin(M);
				c.setLeftMargin(r);
				c.setRightMargin(G)
			}
		},
		g = function(a, b, c, d) {
			2 === a.getBackGroundColorType() ? (c = c || {}, d = d || {}, a.setBackGroundColor(p(c), p(d))) : (b = b || {}, a.setBackGroundColor(p(b)))
		},
		h = function(a, b) {
			a.setBackGroundColorVector(cc.p(b.ScaleX || 0, b.ScaleY || 0))
		};
	c.initPanel = function(a, b) {
		var c = new ccui.Layout;
		this.widgetAttributes(c, a);
		var e = a.ClipAble || !1;
		null != e && c.setClippingEnabled(e);
		e = d(a.ComboBoxIndex, 0);
		c.setBackGroundColorType(e);
		e = d(a.BackColorAlpha, 255);
		null != e && c.setBackGroundColorOpacity(e);
		e = a.Scale9Enable;
		null != e && c.setBackGroundImageScale9Enabled(e);
		var f = d(a.Alpha, 255);
		c.setOpacity(f);
		n(a.FileData, b, function(a, b) {
			c.setBackGroundImage(a, b)
		});
		e ? (c.setBackGroundImageCapInsets(cc.rect(a.Scale9OriginX || 0, a.Scale9OriginY || 0, a.Scale9Width || 0, a.Scale9Height || 0)), r(c, a.Size)) : c.isIgnoreContentAdaptWithSize() || r(c, a.Size);
		g(c, a.SingleColor, a.FirstColor, a.EndColor);
		h(c, a.ColorVector);
		return c
	};
	c.initText = function(a, b) {
		var c = new ccui.Text,
			e = a.TouchScaleChangeAble;
		null != e && c.setTouchScaleChangeEnabled(e);
		e = a.LabelText;
		null != e && c.setString(e);
		e = a.FontSize;
		null != e && c.setFontSize(e);
		e = a.FontName;
		null != e && c.setFontName(e);
		var e = a.AreaWidth,
			f = a.areaHeight;
		e && f && c.setTextAreaSize(cc.size(e, f));
		e = a.HorizontalAlignmentType || "HT_Left";
		switch (e) {
			case "HT_Right":
				e = 2;
				break;
			case "HT_Center":
				e = 1;
				break;
			default:
				e = 0
		}
		c.setTextHorizontalAlignment(e);
		e = a.VerticalAlignmentType || "VT_Top";
		switch (e) {
			case "VT_Bottom":
				e = 2;
				break;
			case "VT_Center":
				e = 1;
				break;
			default:
				e = 0
		}
		c.setTextVerticalAlignment(e);
		e = a.FontResource;
		null != e &&
			(e = e.Path, null != e && (e = cc.sys.isNative ? cc.path.join(cc.loader.resPath, b, e) : (e = e.match(/([^\/]+)\.(\S+)/)) ? e[1] : "", c.setFontName(e)));
		a.OutlineEnabled && a.OutlineColor && c.enableOutline && c.enableOutline(p(a.OutlineColor), d(a.OutlineSize, 1));
		a.ShadowEnabled && a.ShadowColor && c.enableShadow && c.enableShadow(p(a.ShadowColor), cc.size(d(a.ShadowOffsetX, 2), d(a.ShadowOffsetY, -2)), a.ShadowBlurRadius || 0);
		e = a.IsCustomSize;
		null != e && c.ignoreContentAdaptWithSize(!e);
		c.setUnifySizeEnabled(!1);
		e = a.CColor;
		a.CColor = null;
		c.setTextColor(p(e));
		this.widgetAttributes(c, a, c.isIgnoreContentAdaptWithSize());
		a.CColor = e;
		return c
	};
	c.initButton = function(a, b) {
		var c = new ccui.Button;
		n(a.NormalFileData, b, function(a, b) {
			c.loadTextureNormal(a, b)
		});
		n(a.PressedFileData, b, function(a, b) {
			c.loadTexturePressed(a, b)
		});
		n(a.DisabledFileData, b, function(a, b) {
			c.loadTextureDisabled(a, b)
		});
		var e = d(a.Scale9Enable, !1);
		e && c.setScale9Enabled(e);
		var f = a.ButtonText;
		null != f && c.setTitleText(f);
		f = a.FontSize;
		null != f && c.setTitleFontSize(f);
		f = a.FontName;
		null !=
			f && c.setTitleFontName(f);
		f = a.TextColor;
		null != f && c.setTitleColor(p(f));
		f = d(a.DisplayState, !0);
		c.setBright(f);
		c.setEnabled(f);
		f = a.FontResource;
		null != f && (f = f.Path, null != f && (f = cc.sys.isNative ? cc.path.join(cc.loader.resPath, b, f) : (f = f.match(/([^\/]+)\.(\S+)/)) ? f[1] : "", c.setTitleFontName(f)));
		(f = c.getTitleRenderer()) && a.ShadowEnabled && a.ShadowColor && f.enableShadow && f.enableShadow(p(a.ShadowColor), cc.size(d(a.ShadowOffsetX, 2), d(a.ShadowOffsetY, -2)), a.ShadowBlurRadius || 0);
		f && a.OutlineEnabled && a.OutlineColor &&
			f.enableStroke && f.enableStroke(p(a.OutlineColor), d(a.OutlineSize, 1));
		this.widgetAttributes(c, a);
		e && (c.setUnifySizeEnabled(!1), c.ignoreContentAdaptWithSize(!1), e = cc.rect(a.Scale9OriginX || 0, a.Scale9OriginY || 0, a.Scale9Width || 0, a.Scale9Height || 0), c.setCapInsets(e));
		r(c, a.Size);
		return c
	};
	c.initCheckBox = function(a, b) {
		var c = new ccui.CheckBox;
		this.widgetAttributes(c, a);
		[{
			name: "NormalBackFileData",
			handle: c.loadTextureBackGround
		}, {
			name: "PressedBackFileData",
			handle: c.loadTextureBackGroundSelected
		}, {
			name: "NodeNormalFileData",
			handle: c.loadTextureFrontCross
		}, {
			name: "DisableBackFileData",
			handle: c.loadTextureBackGroundDisabled
		}, {
			name: "NodeDisableFileData",
			handle: c.loadTextureFrontCrossDisabled
		}].forEach(function(d) {
			n(a[d.name], b, function(a, b) {
				d.handle.call(c, a, b)
			})
		});
		var e = d(a.CheckedState, !1);
		c.setSelected(e);
		e = d(a.DisplayState, !0);
		c.setBright(e);
		c.setEnabled(e);
		return c
	};
	c.initScrollView = function(a, b) {
		var c = new ccui.ScrollView;
		this.widgetAttributes(c, a);
		n(a.FileData, b, function(a, b) {
			c.setBackGroundImage(a, b)
		});
		c.setClippingEnabled(a.ClipAble ||
			!1);
		var e = d(a.ComboBoxIndex, 0);
		c.setBackGroundColorType(e);
		e = a.BackColorAlpha;
		null != e && c.setBackGroundColorOpacity(e);
		a.Scale9Enable ? (c.setBackGroundImageScale9Enabled(!0), c.setBackGroundImageCapInsets(cc.rect(a.Scale9OriginX || 0, a.Scale9OriginY || 0, a.Scale9Width || 0, a.Scale9Height || 0)), r(c, a.Size)) : c.isIgnoreContentAdaptWithSize() || r(c, a.Size);
		g(c, a.SingleColor, a.FirstColor, a.EndColor);
		h(c, a.ColorVector);
		e = a.InnerNodeSize;
		e = cc.size(e.Width || 0, e.Height || 0);
		c.setInnerContainerSize(e);
		e = 0;
		"Vertical" ===
		a.ScrollDirectionType && (e = 1);
		"Horizontal" === a.ScrollDirectionType && (e = 2);
		"Vertical_Horizontal" === a.ScrollDirectionType && (e = 3);
		c.setDirection(e);
		e = d(a.IsBounceEnabled, !1);
		c.setBounceEnabled(e);
		return c
	};
	c.initImageView = function(a, b) {
		var c = new ccui.ImageView;
		n(a.FileData, b, function(a, b) {
			c.loadTexture(a, b)
		});
		n(a.ImageFileData, b, function(a, b) {
			c.loadTexture(a, b)
		});
		a.Scale9Enable ? (c.setScale9Enabled(!0), c.setUnifySizeEnabled(!1), c.ignoreContentAdaptWithSize(!1), c.setCapInsets(cc.rect(a.Scale9OriginX || 0,
			a.Scale9OriginY || 0, a.Scale9Width || 0, a.Scale9Height || 0))) : r(c, a.Size);
		this.widgetAttributes(c, a);
		return c
	};
	c.initLoadingBar = function(a, b) {
		var c = new ccui.LoadingBar;
		this.widgetAttributes(c, a);
		n(a.ImageFileData, b, function(a, b) {
			c.loadTexture(a, b)
		});
		c.setDirection("Right_To_Left" === a.ProgressType ? 1 : 0);
		var e = d(a.ProgressInfo, 80);
		null != e && c.setPercent(e);
		return c
	};
	c.initSlider = function(a, b) {
		var c = new ccui.Slider,
			e = cc.loader;
		this.widgetAttributes(c, a);
		[{
			name: "BackGroundData",
			handle: c.loadBarTexture
		}, {
			name: "BallNormalData",
			handle: c.loadSlidBallTextureNormal
		}, {
			name: "BallPressedData",
			handle: c.loadSlidBallTexturePressed
		}, {
			name: "BallDisabledData",
			handle: c.loadSlidBallTextureDisabled
		}, {
			name: "ProgressBarData",
			handle: c.loadProgressBarTexture
		}].forEach(function(d) {
			n(a[d.name], b, function(a, b) {
				0 !== b || e.getRes(a) || cc.log("%s need to be preloaded", a);
				d.handle.call(c, a, b)
			})
		});
		c.setPercent(a.PercentInfo || 0);
		var f = d(a.DisplayState, !0);
		c.setBright(f);
		c.setEnabled(f);
		return c
	};
	c.initPageView = function(a, b) {
		var c = new ccui.PageView;
		this.widgetAttributes(c,
			a);
		n(a.FileData, b, function(a, b) {
			c.setBackGroundImage(a, b)
		});
		c.setClippingEnabled(a.ClipAble || !1);
		a.Scale9Enable && (c.setBackGroundImageScale9Enabled(!0), c.setBackGroundImageCapInsets(cc.rect(a.Scale9OriginX || 0, a.Scale9OriginY || 0, a.Scale9Width || 0, a.Scale9Height || 0)));
		var e = d(a.ComboBoxIndex, 0);
		c.setBackGroundColorType(e);
		g(c, a.SingleColor, a.FirstColor, a.EndColor);
		h(c, a.ColorVector);
		e = a.BackColorAlpha;
		null != e && c.setBackGroundColorOpacity(e);
		r(c, a.Size);
		return c
	};
	c.initListView = function(a, b) {
		var c = new ccui.ListView;
		this.widgetAttributes(c, a);
		n(a.FileData, b, function(a, b) {
			c.setBackGroundImage(a, b)
		});
		c.setClippingEnabled(a.ClipAble || !1);
		var e = d(a.ComboBoxIndex, 0);
		c.setBackGroundColorType(e);
		e = d(a.BackColorAlpha, 255);
		a.Scale9Enable && (c.setBackGroundImageScale9Enabled(!0), c.setBackGroundImageCapInsets(cc.rect(a.Scale9OriginX || 0, a.Scale9OriginY || 0, a.Scale9Width || 0, a.Scale9Height || 0)));
		var f = d(a.DirectionType, ccui.ListView.DIR_HORIZONTAL),
			k = d(a.VerticalType, "Align_Left"),
			m = d(a.HorizontalType, "Align_Top");
		f ? "Vertical" ===
			f && (c.setDirection(ccui.ScrollView.DIR_VERTICAL), "" === m ? c.setGravity(ccui.ListView.GRAVITY_LEFT) : "Align_Right" === m ? c.setGravity(ccui.ListView.GRAVITY_RIGHT) : "Align_HorizontalCenter" === m && c.setGravity(ccui.ListView.GRAVITY_CENTER_HORIZONTAL)) : (c.setDirection(ccui.ScrollView.DIR_HORIZONTAL), "Align_Bottom" === k ? c.setGravity(ccui.ListView.GRAVITY_BOTTOM) : "Align_VerticalCenter" === k ? c.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL) : c.setGravity(ccui.ListView.GRAVITY_TOP));
		f = d(a.IsBounceEnabled, !1);
		c.setBounceEnabled(f);
		c.setItemsMargin(a.ItemMargin || 0);
		f = a.InnerNodeSize;
		null != f && c.setInnerContainerSize(cc.size(f.Widget || 0, f.Height || 0));
		g(c, a.SingleColor, a.FirstColor, a.EndColor);
		h(c, a.ColorVector);
		null != e && c.setBackGroundColorOpacity(e);
		r(c, a.Size);
		return c
	};
	c.initTextAtlas = function(a, b) {
		var c = new ccui.TextAtlas,
			d = a.LabelText,
			e = a.CharWidth,
			f = a.CharHeight,
			g = a.StartChar;
		n(a.LabelAtlasFileImage_CNB, b, function(a, b) {
			cc.loader.getRes(a) || cc.log("%s need to be preloaded", a);
			0 === b && c.setProperty(d, a, e, f, g)
		});
		this.widgetAttributes(c,
			a);
		c.ignoreContentAdaptWithSize(!0);
		return c
	};
	c.initTextBMFont = function(a, b) {
		var c = new ccui.TextBMFont;
		this.widgetAttributes(c, a);
		n(a.LabelBMFontFile_CNB, b, function(a, b) {
			cc.loader.getRes(a) || cc.log("%s need to be pre loaded", a);
			c.setFntFile(a)
		});
		c.setString(a.LabelText);
		c.ignoreContentAdaptWithSize(!0);
		return c
	};
	c.initTextField = function(a, b) {
		var c = new ccui.TextField;
		a.PasswordEnable && (c.setPasswordEnabled(!0), c.setPasswordStyleText(a.PasswordStyleText || "*"));
		var d = a.PlaceHolderText;
		null != d && c.setPlaceHolder(d);
		d = a.FontSize;
		null != d && c.setFontSize(d);
		d = a.FontName;
		null != d && c.setFontName(d);
		a.MaxLengthEnable && (c.setMaxLengthEnabled(!0), c.setMaxLength(a.MaxLengthText || 0));
		this.widgetAttributes(c, a);
		d = a.LabelText;
		null != d && c.setString(d);
		d = a.FontResource;
		null != d && (d = d.Path, null != d && (d = cc.sys.isNative ? cc.path.join(cc.loader.resPath, b, d) : (d = d.match(/([^\/]+)\.(\S+)/)) ? d[1] : "", c.setFontName(d)));
		c.setUnifySizeEnabled(!1);
		c.ignoreContentAdaptWithSize(!1);
		d = a.CColor;
		null != d && c.setTextColor(p(d));
		c.isIgnoreContentAdaptWithSize() ||
			(r(c, a.Size), cc.sys.isNative && c.getVirtualRenderer().setLineBreakWithoutSpace(!0));
		return c
	};
	c.initSimpleAudio = function(a, b) {
		var c = new ccs.ComAudio;
		c.setLoop(a.Loop || !1);
		n(a.FileData, b, function(a, b) {
			c.setFile(a)
		})
	};
	c.initGameMap = function(a, b) {
		var d = null;
		n(a.FileData, b, function(b, e) {
			0 === e && (d = new cc.TMXTiledMap(b));
			c.generalAttributes(d, a)
		});
		return d
	};
	c.initProjectNode = function(a, b) {
		var d = a.FileData;
		if (null != d && d.Path) {
			d = b + d.Path;
			if (cc.loader.getRes(d)) {
				d = ccs.load(d, b);
				c.generalAttributes(d.node, a);
				if (d.action && d.node) {
					d.action.tag = d.node.tag;
					var e = a.InnerActionSpeed;
					void 0 !== e && d.action.setTimeSpeed(e);
					d.node.runAction(d.action);
					d.action.gotoFrameAndPause(0)
				}
				return d.node
			}
			cc.log("%s need to be preloaded", d)
		}
	};
	var k = function(a) {
		return a ? (a = a.match(/([^\/]+)\.[^\/]+$/)) && a[1] ? a[1] : "" : ""
	};
	c.initArmature = function(a, b) {
		var d = new ccs.Armature,
			e = a.IsLoop,
			f = a.IsAutoPlay,
			g = a.CurrentAnimationName;
		n(a.FileData, b, function(a, b) {
			var c, h, m = cc.loader.getRes(a);
			m ? (c = m.config_file_path, h = m.config_png_path, c.forEach(function(a,
				b) {
				h[b] && cc.spriteFrameCache.addSpriteFrames(a, h[b])
			})) : cc.log("%s need to be preloaded", a);
			ccs.armatureDataManager.addArmatureFileInfo(a);
			d.init(k(a));
			f ? d.getAnimation().play(g, -1, e) : (d.getAnimation().play(g), d.getAnimation().gotoAndPause(0))
		});
		delete a.AnchorPoint;
		delete a.Size;
		c.generalAttributes(d, a);
		d.setColor(p(a.CColor));
		return d
	};
	c.initBoneNode = function(a, b) {
		var d = new ccs.BoneNode,
			e = a.Length;
		void 0 !== e && d.setDebugDrawLength(e);
		(e = a.BlendFunc) && void 0 !== e.Src && void 0 !== e.Dst && d.setBlendFunc(new cc.BlendFunc(e.Src,
			e.Dst));
		c.generalAttributes(d, a);
		e = a.CColor;
		!e || void 0 === e.R && void 0 === e.G && void 0 === e.B || d.setColor(p(e));
		return d
	};
	c.initSkeletonNode = function(a) {
		var b = new ccs.SkeletonNode;
		c.generalAttributes(b, a);
		a = a.CColor;
		!a || void 0 === a.R && void 0 === a.G && void 0 === a.B || b.setColor(p(a));
		return b
	};
	var m = {},
		n = function(a, b, c) {
			if (null != a) {
				var d = a.Path,
					e;
				e = "Default" === a.Type || "Normal" === a.Type ? 0 : 1;
				if (a = a.Plist) cc.loader.getRes(b + a) ? (m[b + a] = !0, cc.spriteFrameCache.addSpriteFrames(b + a)) : m[b + a] || cc.spriteFrameCache.getSpriteFrame(d) ||
					cc.log("%s need to be preloaded", b + a);
				0 !== e ? cc.spriteFrameCache.getSpriteFrame(d) ? c(d, e) : cc.log("failed to get spriteFrame: %s", d) : c(b + d, e)
			}
		},
		p = function(a) {
			if (a) return cc.color(null != a.R ? a.R : 255, null != a.G ? a.G : 255, null != a.B ? a.B : 255, null != a.A ? a.A : 255)
		},
		r = function(a, b) {
			var c = b.X || 0,
				d = b.Y || 0;
			b && a.setContentSize(cc.size(c, d))
		};
	[{
			name: "SingleNodeObjectData",
			handle: c.initSingleNode
		}, {
			name: "NodeObjectData",
			handle: c.initSingleNode
		}, {
			name: "LayerObjectData",
			handle: c.initSingleNode
		}, {
			name: "GameNodeObjectData",
			handle: c.initSingleNode
		}, {
			name: "GameLayerObjectData",
			handle: c.initSingleNode
		}, {
			name: "SpriteObjectData",
			handle: c.initSprite
		}, {
			name: "ParticleObjectData",
			handle: c.initParticle
		}, {
			name: "PanelObjectData",
			handle: c.initPanel
		}, {
			name: "TextObjectData",
			handle: c.initText
		}, {
			name: "ButtonObjectData",
			handle: c.initButton
		}, {
			name: "CheckBoxObjectData",
			handle: c.initCheckBox
		}, {
			name: "ScrollViewObjectData",
			handle: c.initScrollView
		}, {
			name: "ImageViewObjectData",
			handle: c.initImageView
		}, {
			name: "LoadingBarObjectData",
			handle: c.initLoadingBar
		},
		{
			name: "SliderObjectData",
			handle: c.initSlider
		}, {
			name: "PageViewObjectData",
			handle: c.initPageView
		}, {
			name: "ListViewObjectData",
			handle: c.initListView
		}, {
			name: "TextAtlasObjectData",
			handle: c.initTextAtlas
		}, {
			name: "TextBMFontObjectData",
			handle: c.initTextBMFont
		}, {
			name: "TextFieldObjectData",
			handle: c.initTextField
		}, {
			name: "SimpleAudioObjectData",
			handle: c.initSimpleAudio
		}, {
			name: "GameMapObjectData",
			handle: c.initGameMap
		}, {
			name: "ProjectNodeObjectData",
			handle: c.initProjectNode
		}, {
			name: "ArmatureNodeObjectData",
			handle: c.initArmature
		},
		{
			name: "BoneNodeObjectData",
			handle: c.initBoneNode
		}, {
			name: "SkeletonNodeObjectData",
			handle: c.initSkeletonNode
		}
	].forEach(function(a) {
		c.registerParser(a.name, function(b, c) {
			var d = a.handle.call(this, b, c);
			this.parseChild(d, b.Children, c);
			return d
		})
	});
	a.registerParser("timeline", "2.*", c);
	a.registerParser("timeline", "*", c)
})(ccs._load, ccs._parser);
(function() {
	ccs.uiReader = {
		_fileDesignSizes: {},
		widgetFromJsonFile: function(a) {
			var c = cc.loader.getRes(a);
			c && (this._fileDesignSizes[a] = cc.size(c.designWidth || 0, c.designHeight || 0));
			var c = c.Version || c.version,
				d = ccs.uiReader.getVersionInteger(c);
			return !c || 1700 <= d ? (cc.warn("Not supported file types, Please try use the ccs.load"), null) : ccs._load(a, "ccui")
		},
		registerTypeAndCallBack: function(a, c, d, e) {
			var f = ccs._load.getParser("ccui")["*"],
				g = e.bind(d);
			f.registerParser(a, function(e, f) {
				var m = new c,
					n = e.options;
				d.setPropsFromJsonDictionary && d.setPropsFromJsonDictionary(m, n);
				this.generalAttributes(m, n);
				var p = n.customProperty,
					p = p ? JSON.parse(p) : {};
				g(a, m, p);
				this.colorAttributes(m, n);
				this.anchorPointAttributes(m, n);
				this.parseChild.call(this, m, e, f);
				return m
			})
		},
		getVersionInteger: function(a) {
			if (!a || "string" !== typeof a) return 0;
			a = a.split(".");
			if (4 !== a.length) return 0;
			var c = 0;
			a.forEach(function(a, b) {
				c += a * Math.pow(10, 3 - b)
			});
			return c
		},
		storeFileDesignSize: function(a, c) {
			this._fileDesignSizes[a] = c
		},
		getFileDesignSize: function(a) {
			return this._fileDesignSizes[a]
		},
		getFilePath: function() {
			return this._filePath
		},
		setFilePath: function(a) {
			this._filePath = a
		},
		getParseObjectMap: function() {
			return ccs._load.getParser("ccui")["*"].parsers
		},
		getParseCallBackMap: function() {
			return ccs._load.getParser("ccui")["*"].parsers
		},
		clear: function() {}
	};
	var a = ccs._load.getParser("ccui")["*"];
	ccs.imageViewReader = {
		setPropsFromJsonDictionary: a.ImageViewAttributes
	};
	ccs.buttonReader = {
		setPropsFromJsonDictionary: a.ButtonAttributes
	};
	ccs.checkBoxReader = {
		setPropsFromJsonDictionary: a.CheckBoxAttributes
	};
	ccs.labelAtlasReader = {
		setPropsFromJsonDictionary: a.TextAtlasAttributes
	};
	ccs.labelBMFontReader = {
		setPropsFromJsonDictionary: a.TextBMFontAttributes
	};
	ccs.labelReader = {
		setPropsFromJsonDictionary: a.TextAttributes
	};
	ccs.layoutReader = {
		setPropsFromJsonDictionary: a.LayoutAttributes
	};
	ccs.listViewReader = {
		setPropsFromJsonDictionary: a.ListViewAttributes
	};
	ccs.loadingBarReader = {
		setPropsFromJsonDictionary: a.LoadingBarAttributes
	};
	ccs.pageViewReader = {
		setPropsFromJsonDictionary: a.PageViewAttributes
	};
	ccs.scrollViewReader = {
		setPropsFromJsonDictionary: a.ScrollViewAttributes
	};
	ccs.sliderReader = {
		setPropsFromJsonDictionary: a.SliderAttributes
	};
	ccs.textFieldReader = {
		setPropsFromJsonDictionary: a.TextFieldAttributes
	}
})();
(function() {
	ccs.sceneReader = {
		_node: null,
		createNodeWithSceneFile: function(a) {
			return this._node = a = ccs._load(a, "scene")
		},
		getNodeByTag: function(a) {
			return null == this._node ? null : this._node.getTag() === a ? this._node : this._nodeByTag(this._node, a)
		},
		_nodeByTag: function(a, b) {
			if (null == a) return null;
			for (var c = null, d = a.getChildren(), e = 0; e < d.length && (!(c = d[e]) || c.getTag() !== b) && !(c = this._nodeByTag(c, b)); e++);
			return c
		},
		version: function() {
			return "*"
		},
		setTarget: function() {},
		clear: function() {
			ccs.triggerManager.removeAll();
			cc.audioEngine.end()
		}
	}
})();
var __extends = this && this.__extends || function(a, b) {
		function c() {
			this.constructor = a
		}
		for (var d in b) b.hasOwnProperty(d) && (a[d] = b[d]);
		a.prototype = null === b ? Object.create(b) : (c.prototype = b.prototype, new c)
	},
	spine;
(function(a) {
	var b = function() {
		function a(b, c, d) {
			if (null == b) throw Error("name cannot be null.");
			if (null == c) throw Error("timelines cannot be null.");
			this.name = b;
			this.timelines = c;
			this.duration = d
		}
		a.prototype.apply = function(a, b, c, d, e, f, g, u) {
			if (null == a) throw Error("skeleton cannot be null.");
			d && 0 != this.duration && (c %= this.duration, 0 < b && (b %= this.duration));
			d = this.timelines;
			for (var s = 0, w = d.length; s < w; s++) d[s].apply(a, b, c, e, f, g, u)
		};
		a.binarySearch = function(a, b, c) {
			void 0 === c && (c = 1);
			var d = 0,
				e = a.length / c - 2;
			if (0 ==
				e) return c;
			for (var f = e >>> 1;;) {
				a[(f + 1) * c] <= b ? d = f + 1 : e = f;
				if (d == e) return (d + 1) * c;
				f = d + e >>> 1
			}
		};
		a.linearSearch = function(a, b, c) {
			for (var d = 0, e = a.length - c; d <= e; d += c)
				if (a[d] > b) return d;
			return -1
		};
		return a
	}();
	a.Animation = b;
	(function(a) {
		a[a.rotate = 0] = "rotate";
		a[a.translate = 1] = "translate";
		a[a.scale = 2] = "scale";
		a[a.shear = 3] = "shear";
		a[a.attachment = 4] = "attachment";
		a[a.color = 5] = "color";
		a[a.deform = 6] = "deform";
		a[a.event = 7] = "event";
		a[a.drawOrder = 8] = "drawOrder";
		a[a.ikConstraint = 9] = "ikConstraint";
		a[a.transformConstraint = 10] =
			"transformConstraint";
		a[a.pathConstraintPosition = 11] = "pathConstraintPosition";
		a[a.pathConstraintSpacing = 12] = "pathConstraintSpacing";
		a[a.pathConstraintMix = 13] = "pathConstraintMix"
	})(a.TimelineType || (a.TimelineType = {}));
	var c = a.TimelineType,
		d = function() {
			function b(c) {
				if (0 >= c) throw Error("frameCount must be \x3e 0: " + c);
				this.curves = a.Utils.newFloatArray((c - 1) * b.BEZIER_SIZE)
			}
			b.prototype.getFrameCount = function() {
				return this.curves.length / b.BEZIER_SIZE + 1
			};
			b.prototype.setLinear = function(a) {
				this.curves[a *
					b.BEZIER_SIZE] = b.LINEAR
			};
			b.prototype.setStepped = function(a) {
				this.curves[a * b.BEZIER_SIZE] = b.STEPPED
			};
			b.prototype.getCurveType = function(a) {
				a *= b.BEZIER_SIZE;
				if (a == this.curves.length) return b.LINEAR;
				a = this.curves[a];
				return a == b.LINEAR ? b.LINEAR : a == b.STEPPED ? b.STEPPED : b.BEZIER
			};
			b.prototype.setCurve = function(a, c, d, e, f) {
				var r = 0.03 * (2 * -c + e),
					t = 0.03 * (2 * -d + f);
				e = 0.006 * (3 * (c - e) + 1);
				f = 0.006 * (3 * (d - f) + 1);
				var u = 2 * r + e,
					s = 2 * t + f;
				c = 0.3 * c + r + 0.16666667 * e;
				d = 0.3 * d + t + 0.16666667 * f;
				a *= b.BEZIER_SIZE;
				t = this.curves;
				t[a++] = b.BEZIER;
				for (var r = c, w = d, v = a + b.BEZIER_SIZE - 1; a < v; a += 2) t[a] = r, t[a + 1] = w, c += u, d += s, u += e, s += f, r += c, w += d
			};
			b.prototype.getCurvePercent = function(c, d) {
				d = a.MathUtils.clamp(d, 0, 1);
				var e = this.curves,
					f = c * b.BEZIER_SIZE,
					p = e[f];
				if (p == b.LINEAR) return d;
				if (p == b.STEPPED) return 0;
				f++;
				for (var p = 0, r = f, t = f + b.BEZIER_SIZE - 1; f < t; f += 2)
					if (p = e[f], p >= d) {
						var u = t = void 0;
						f == r ? u = t = 0 : (t = e[f - 2], u = e[f - 1]);
						return u + (e[f + 1] - u) * (d - t) / (p - t)
					} e = e[f - 1];
				return e + (1 - e) * (d - p) / (1 - p)
			};
			b.LINEAR = 0;
			b.STEPPED = 1;
			b.BEZIER = 2;
			b.BEZIER_SIZE = 19;
			return b
		}();
	a.CurveTimeline =
		d;
	var e = function(d) {
		function e(b) {
			d.call(this, b);
			this.frames = a.Utils.newFloatArray(b << 1)
		}
		__extends(e, d);
		e.prototype.getPropertyId = function() {
			return (c.rotate << 24) + this.boneIndex
		};
		e.prototype.setFrame = function(a, b, c) {
			a <<= 1;
			this.frames[a] = b;
			this.frames[a + e.ROTATION] = c
		};
		e.prototype.apply = function(a, c, d, f, g, t, u) {
			c = this.frames;
			a = a.bones[this.boneIndex];
			if (d < c[0]) t && (a.rotation = a.data.rotation);
			else if (d >= c[c.length - e.ENTRIES]) t ? a.rotation = a.data.rotation + c[c.length + e.PREV_ROTATION] * g : (t = a.data.rotation +
				c[c.length + e.PREV_ROTATION] - a.rotation, a.rotation += (t - 360 * (16384 - (16384.499999999996 - t / 360 | 0))) * g);
			else {
				u = b.binarySearch(c, d, e.ENTRIES);
				f = c[u + e.PREV_ROTATION];
				var s = c[u];
				d = this.getCurvePercent((u >> 1) - 1, 1 - (d - s) / (c[u + e.PREV_TIME] - s));
				c = c[u + e.ROTATION] - f;
				c = f + (c - 360 * (16384 - (16384.499999999996 - c / 360 | 0))) * d;
				t ? (c -= 360 * (16384 - (16384.499999999996 - c / 360 | 0)), a.rotation = a.data.rotation + c * g) : (c = a.data.rotation + c - a.rotation, c -= 360 * (16384 - (16384.499999999996 - c / 360 | 0)), a.rotation += c * g)
			}
		};
		e.ENTRIES = 2;
		e.PREV_TIME = -2;
		e.PREV_ROTATION = -1;
		e.ROTATION = 1;
		return e
	}(d);
	a.RotateTimeline = e;
	e = function(d) {
		function e(b) {
			d.call(this, b);
			this.frames = a.Utils.newFloatArray(b * e.ENTRIES)
		}
		__extends(e, d);
		e.prototype.getPropertyId = function() {
			return (c.translate << 24) + this.boneIndex
		};
		e.prototype.setFrame = function(a, b, c, d) {
			a *= e.ENTRIES;
			this.frames[a] = b;
			this.frames[a + e.X] = c;
			this.frames[a + e.Y] = d
		};
		e.prototype.apply = function(a, c, d, f, g, t, u) {
			c = this.frames;
			a = a.bones[this.boneIndex];
			if (d < c[0]) t && (a.x = a.data.x, a.y = a.data.y);
			else {
				u = f = 0;
				if (d >=
					c[c.length - e.ENTRIES]) f = c[c.length + e.PREV_X], u = c[c.length + e.PREV_Y];
				else {
					var s = b.binarySearch(c, d, e.ENTRIES);
					f = c[s + e.PREV_X];
					u = c[s + e.PREV_Y];
					var w = c[s];
					d = this.getCurvePercent(s / e.ENTRIES - 1, 1 - (d - w) / (c[s + e.PREV_TIME] - w));
					f += (c[s + e.X] - f) * d;
					u += (c[s + e.Y] - u) * d
				}
				t ? (a.x = a.data.x + f * g, a.y = a.data.y + u * g) : (a.x += (a.data.x + f - a.x) * g, a.y += (a.data.y + u - a.y) * g)
			}
		};
		e.ENTRIES = 3;
		e.PREV_TIME = -3;
		e.PREV_X = -2;
		e.PREV_Y = -1;
		e.X = 1;
		e.Y = 2;
		return e
	}(d);
	a.TranslateTimeline = e;
	var f = function(d) {
		function e(a) {
			d.call(this, a)
		}
		__extends(e,
			d);
		e.prototype.getPropertyId = function() {
			return (c.scale << 24) + this.boneIndex
		};
		e.prototype.apply = function(c, d, f, g, r, t, u) {
			var s = this.frames;
			c = c.bones[this.boneIndex];
			if (f < s[0]) t && (c.scaleX = c.data.scaleX, c.scaleY = c.data.scaleY);
			else {
				g = d = 0;
				if (f >= s[s.length - e.ENTRIES]) d = s[s.length + e.PREV_X] * c.data.scaleX, g = s[s.length + e.PREV_Y] * c.data.scaleY;
				else {
					var w = b.binarySearch(s, f, e.ENTRIES);
					d = s[w + e.PREV_X];
					g = s[w + e.PREV_Y];
					var v = s[w];
					f = this.getCurvePercent(w / e.ENTRIES - 1, 1 - (f - v) / (s[w + e.PREV_TIME] - v));
					d = (d + (s[w + e.X] -
						d) * f) * c.data.scaleX;
					g = (g + (s[w + e.Y] - g) * f) * c.data.scaleY
				}
				1 == r ? (c.scaleX = d, c.scaleY = g) : (s = f = 0, t ? (f = c.data.scaleX, s = c.data.scaleY) : (f = c.scaleX, s = c.scaleY), u ? (d = Math.abs(d) * a.MathUtils.signum(f), g = Math.abs(g) * a.MathUtils.signum(s)) : (f = Math.abs(f) * a.MathUtils.signum(d), s = Math.abs(s) * a.MathUtils.signum(g)), c.scaleX = f + (d - f) * r, c.scaleY = s + (g - s) * r)
			}
		};
		return e
	}(e);
	a.ScaleTimeline = f;
	e = function(a) {
		function d(b) {
			a.call(this, b)
		}
		__extends(d, a);
		d.prototype.getPropertyId = function() {
			return (c.shear << 24) + this.boneIndex
		};
		d.prototype.apply = function(a, c, e, f, g, t, u) {
			c = this.frames;
			a = a.bones[this.boneIndex];
			if (e < c[0]) t && (a.shearX = a.data.shearX, a.shearY = a.data.shearY);
			else {
				u = f = 0;
				if (e >= c[c.length - d.ENTRIES]) f = c[c.length + d.PREV_X], u = c[c.length + d.PREV_Y];
				else {
					var s = b.binarySearch(c, e, d.ENTRIES);
					f = c[s + d.PREV_X];
					u = c[s + d.PREV_Y];
					var w = c[s];
					e = this.getCurvePercent(s / d.ENTRIES - 1, 1 - (e - w) / (c[s + d.PREV_TIME] - w));
					f += (c[s + d.X] - f) * e;
					u += (c[s + d.Y] - u) * e
				}
				t ? (a.shearX = a.data.shearX + f * g, a.shearY = a.data.shearY + u * g) : (a.shearX += (a.data.shearX + f -
					a.shearX) * g, a.shearY += (a.data.shearY + u - a.shearY) * g)
			}
		};
		return d
	}(e);
	a.ShearTimeline = e;
	e = function(d) {
		function e(b) {
			d.call(this, b);
			this.frames = a.Utils.newFloatArray(b * e.ENTRIES)
		}
		__extends(e, d);
		e.prototype.getPropertyId = function() {
			return (c.color << 24) + this.slotIndex
		};
		e.prototype.setFrame = function(a, b, c, d, f, g) {
			a *= e.ENTRIES;
			this.frames[a] = b;
			this.frames[a + e.R] = c;
			this.frames[a + e.G] = d;
			this.frames[a + e.B] = f;
			this.frames[a + e.A] = g
		};
		e.prototype.apply = function(a, c, d, f, g, t, u) {
			a = a.slots[this.slotIndex];
			var s = this.frames;
			if (d < s[0]) t && a.color.setFromColor(a.data.color);
			else {
				var w = u = f = c = 0;
				if (d >= s[s.length - e.ENTRIES]) d = s.length, c = s[d + e.PREV_R], f = s[d + e.PREV_G], u = s[d + e.PREV_B], w = s[d + e.PREV_A];
				else {
					var v = b.binarySearch(s, d, e.ENTRIES);
					c = s[v + e.PREV_R];
					f = s[v + e.PREV_G];
					u = s[v + e.PREV_B];
					var w = s[v + e.PREV_A],
						x = s[v];
					d = this.getCurvePercent(v / e.ENTRIES - 1, 1 - (d - x) / (s[v + e.PREV_TIME] - x));
					c += (s[v + e.R] - c) * d;
					f += (s[v + e.G] - f) * d;
					u += (s[v + e.B] - u) * d;
					w += (s[v + e.A] - w) * d
				}
				1 == g ? a.color.set(c, f, u, w) : (d = a.color, t && d.setFromColor(a.data.color), d.add((c -
					d.r) * g, (f - d.g) * g, (u - d.b) * g, (w - d.a) * g))
			}
		};
		e.ENTRIES = 5;
		e.PREV_TIME = -5;
		e.PREV_R = -4;
		e.PREV_G = -3;
		e.PREV_B = -2;
		e.PREV_A = -1;
		e.R = 1;
		e.G = 2;
		e.B = 3;
		e.A = 4;
		return e
	}(d);
	a.ColorTimeline = e;
	e = function() {
		function d(b) {
			this.frames = a.Utils.newFloatArray(b);
			this.attachmentNames = Array(b)
		}
		d.prototype.getPropertyId = function() {
			return (c.attachment << 24) + this.slotIndex
		};
		d.prototype.getFrameCount = function() {
			return this.frames.length
		};
		d.prototype.setFrame = function(a, b, c) {
			this.frames[a] = b;
			this.attachmentNames[a] = c
		};
		d.prototype.apply =
			function(a, c, d, e, f, g, t) {
				c = a.slots[this.slotIndex];
				t && g ? (d = c.data.attachmentName, c.setAttachment(null == d ? null : a.getAttachment(this.slotIndex, d))) : (t = this.frames, d < t[0] ? g && (d = c.data.attachmentName, c.setAttachment(null == d ? null : a.getAttachment(this.slotIndex, d))) : (g = 0, g = d >= t[t.length - 1] ? t.length - 1 : b.binarySearch(t, d, 1) - 1, d = this.attachmentNames[g], a.slots[this.slotIndex].setAttachment(null == d ? null : a.getAttachment(this.slotIndex, d))))
			};
		return d
	}();
	a.AttachmentTimeline = e;
	e = function(d) {
		function e(b) {
			d.call(this,
				b);
			this.frames = a.Utils.newFloatArray(b);
			this.frameVertices = Array(b)
		}
		__extends(e, d);
		e.prototype.getPropertyId = function() {
			return (c.deform << 24) + this.slotIndex
		};
		e.prototype.setFrame = function(a, b, c) {
			this.frames[a] = b;
			this.frameVertices[a] = c
		};
		e.prototype.apply = function(c, d, e, f, g, h, u) {
			c = c.slots[this.slotIndex];
			var s = c.getAttachment();
			if (s instanceof a.VertexAttachment && s.applyDeform(this.attachment)) {
				var w = this.frames;
				d = c.attachmentVertices;
				if (e < w[0]) h && a.Utils.setArraySize(d, 0);
				else if (u = this.frameVertices,
					c = u[0].length, d.length != c && (g = 1), d = a.Utils.setArraySize(d, c), e >= w[w.length - 1])
					if (e = u[w.length - 1], 1 == g) a.Utils.arrayCopy(e, 0, d, 0, c);
					else if (h)
					if (h = s, null == h.bones)
						for (h = h.vertices, s = 0; s < c; s++) w = h[s], d[s] = w + (e[s] - w) * g;
					else
						for (s = 0; s < c; s++) d[s] = e[s] * g;
				else
					for (s = 0; s < c; s++) d[s] += (e[s] - d[s]) * g;
				else {
					var v = b.binarySearch(w, e);
					f = u[v - 1];
					u = u[v];
					var x = w[v];
					e = this.getCurvePercent(v - 1, 1 - (e - x) / (w[v - 1] - x));
					if (1 == g)
						for (s = 0; s < c; s++) v = f[s], d[s] = v + (u[s] - v) * e;
					else if (h)
						if (h = s, null == h.bones)
							for (h = h.vertices, s = 0; s < c; s++) v =
								f[s], w = h[s], d[s] = w + (v + (u[s] - v) * e - w) * g;
						else
							for (s = 0; s < c; s++) v = f[s], d[s] = (v + (u[s] - v) * e) * g;
					else
						for (s = 0; s < c; s++) v = f[s], d[s] += (v + (u[s] - v) * e - d[s]) * g
				}
			}
		};
		return e
	}(d);
	a.DeformTimeline = e;
	e = function() {
		function d(b) {
			this.frames = a.Utils.newFloatArray(b);
			this.events = Array(b)
		}
		d.prototype.getPropertyId = function() {
			return c.event << 24
		};
		d.prototype.getFrameCount = function() {
			return this.frames.length
		};
		d.prototype.setFrame = function(a, b) {
			this.frames[a] = b.time;
			this.events[a] = b
		};
		d.prototype.apply = function(a, c, d, e, f, g, t) {
			if (null !=
				e) {
				var u = this.frames,
					s = this.frames.length;
				if (c > d) this.apply(a, c, Number.MAX_VALUE, e, f, g, t), c = -1;
				else if (c >= u[s - 1]) return;
				if (!(d < u[0])) {
					a = 0;
					if (c < u[0]) a = 0;
					else
						for (a = b.binarySearch(u, c), c = u[a]; 0 < a && u[a - 1] == c;) a--;
					for (; a < s && d >= u[a]; a++) e.push(this.events[a])
				}
			}
		};
		return d
	}();
	a.EventTimeline = e;
	e = function() {
		function d(b) {
			this.frames = a.Utils.newFloatArray(b);
			this.drawOrders = Array(b)
		}
		d.prototype.getPropertyId = function() {
			return c.drawOrder << 24
		};
		d.prototype.getFrameCount = function() {
			return this.frames.length
		};
		d.prototype.setFrame = function(a, b, c) {
			this.frames[a] = b;
			this.drawOrders[a] = c
		};
		d.prototype.apply = function(c, d, e, f, g, r, t) {
			d = c.drawOrder;
			f = c.slots;
			if (t && r) a.Utils.arrayCopy(c.slots, 0, c.drawOrder, 0, c.slots.length);
			else if (t = this.frames, e < t[0]) r && a.Utils.arrayCopy(c.slots, 0, c.drawOrder, 0, c.slots.length);
			else if (c = 0, c = e >= t[t.length - 1] ? t.length - 1 : b.binarySearch(t, e) - 1, e = this.drawOrders[c], null == e) a.Utils.arrayCopy(f, 0, d, 0, f.length);
			else
				for (c = 0, r = e.length; c < r; c++) d[c] = f[e[c]]
		};
		return d
	}();
	a.DrawOrderTimeline =
		e;
	e = function(d) {
		function e(b) {
			d.call(this, b);
			this.frames = a.Utils.newFloatArray(b * e.ENTRIES)
		}
		__extends(e, d);
		e.prototype.getPropertyId = function() {
			return (c.ikConstraint << 24) + this.ikConstraintIndex
		};
		e.prototype.setFrame = function(a, b, c, d) {
			a *= e.ENTRIES;
			this.frames[a] = b;
			this.frames[a + e.MIX] = c;
			this.frames[a + e.BEND_DIRECTION] = d
		};
		e.prototype.apply = function(a, c, d, f, g, t, u) {
			c = this.frames;
			a = a.ikConstraints[this.ikConstraintIndex];
			if (d < c[0]) t && (a.mix = a.data.mix, a.bendDirection = a.data.bendDirection);
			else if (d >= c[c.length -
					e.ENTRIES]) t ? (a.mix = a.data.mix + (c[c.length + e.PREV_MIX] - a.data.mix) * g, a.bendDirection = u ? a.data.bendDirection : c[c.length + e.PREV_BEND_DIRECTION]) : (a.mix += (c[c.length + e.PREV_MIX] - a.mix) * g, u || (a.bendDirection = c[c.length + e.PREV_BEND_DIRECTION]));
			else {
				f = b.binarySearch(c, d, e.ENTRIES);
				var s = c[f + e.PREV_MIX],
					w = c[f];
				d = this.getCurvePercent(f / e.ENTRIES - 1, 1 - (d - w) / (c[f + e.PREV_TIME] - w));
				t ? (a.mix = a.data.mix + (s + (c[f + e.MIX] - s) * d - a.data.mix) * g, a.bendDirection = u ? a.data.bendDirection : c[f + e.PREV_BEND_DIRECTION]) : (a.mix +=
					(s + (c[f + e.MIX] - s) * d - a.mix) * g, u || (a.bendDirection = c[f + e.PREV_BEND_DIRECTION]))
			}
		};
		e.ENTRIES = 3;
		e.PREV_TIME = -3;
		e.PREV_MIX = -2;
		e.PREV_BEND_DIRECTION = -1;
		e.MIX = 1;
		e.BEND_DIRECTION = 2;
		return e
	}(d);
	a.IkConstraintTimeline = e;
	e = function(d) {
		function e(b) {
			d.call(this, b);
			this.frames = a.Utils.newFloatArray(b * e.ENTRIES)
		}
		__extends(e, d);
		e.prototype.getPropertyId = function() {
			return (c.transformConstraint << 24) + this.transformConstraintIndex
		};
		e.prototype.setFrame = function(a, b, c, d, f, g) {
			a *= e.ENTRIES;
			this.frames[a] = b;
			this.frames[a +
				e.ROTATE] = c;
			this.frames[a + e.TRANSLATE] = d;
			this.frames[a + e.SCALE] = f;
			this.frames[a + e.SHEAR] = g
		};
		e.prototype.apply = function(a, c, d, f, g, t, u) {
			c = this.frames;
			a = a.transformConstraints[this.transformConstraintIndex];
			if (d < c[0]) t && (t = a.data, a.rotateMix = t.rotateMix, a.translateMix = t.rotateMix, a.scaleMix = t.scaleMix, a.shearMix = t.shearMix);
			else {
				var s = u = f = 0,
					w = 0;
				if (d >= c[c.length - e.ENTRIES]) d = c.length, f = c[d + e.PREV_ROTATE], u = c[d + e.PREV_TRANSLATE], s = c[d + e.PREV_SCALE], w = c[d + e.PREV_SHEAR];
				else {
					var v = b.binarySearch(c, d, e.ENTRIES);
					f = c[v + e.PREV_ROTATE];
					u = c[v + e.PREV_TRANSLATE];
					var s = c[v + e.PREV_SCALE],
						w = c[v + e.PREV_SHEAR],
						x = c[v];
					d = this.getCurvePercent(v / e.ENTRIES - 1, 1 - (d - x) / (c[v + e.PREV_TIME] - x));
					f += (c[v + e.ROTATE] - f) * d;
					u += (c[v + e.TRANSLATE] - u) * d;
					s += (c[v + e.SCALE] - s) * d;
					w += (c[v + e.SHEAR] - w) * d
				}
				t ? (t = a.data, a.rotateMix = t.rotateMix + (f - t.rotateMix) * g, a.translateMix = t.translateMix + (u - t.translateMix) * g, a.scaleMix = t.scaleMix + (s - t.scaleMix) * g, a.shearMix = t.shearMix + (w - t.shearMix) * g) : (a.rotateMix += (f - a.rotateMix) * g, a.translateMix += (u - a.translateMix) *
					g, a.scaleMix += (s - a.scaleMix) * g, a.shearMix += (w - a.shearMix) * g)
			}
		};
		e.ENTRIES = 5;
		e.PREV_TIME = -5;
		e.PREV_ROTATE = -4;
		e.PREV_TRANSLATE = -3;
		e.PREV_SCALE = -2;
		e.PREV_SHEAR = -1;
		e.ROTATE = 1;
		e.TRANSLATE = 2;
		e.SCALE = 3;
		e.SHEAR = 4;
		return e
	}(d);
	a.TransformConstraintTimeline = e;
	e = function(d) {
		function e(b) {
			d.call(this, b);
			this.frames = a.Utils.newFloatArray(b * e.ENTRIES)
		}
		__extends(e, d);
		e.prototype.getPropertyId = function() {
			return (c.pathConstraintPosition << 24) + this.pathConstraintIndex
		};
		e.prototype.setFrame = function(a, b, c) {
			a *= e.ENTRIES;
			this.frames[a] = b;
			this.frames[a + e.VALUE] = c
		};
		e.prototype.apply = function(a, c, d, f, g, t, u) {
			c = this.frames;
			a = a.pathConstraints[this.pathConstraintIndex];
			if (d < c[0]) t && (a.position = a.data.position);
			else {
				f = 0;
				if (d >= c[c.length - e.ENTRIES]) f = c[c.length + e.PREV_VALUE];
				else {
					u = b.binarySearch(c, d, e.ENTRIES);
					f = c[u + e.PREV_VALUE];
					var s = c[u];
					d = this.getCurvePercent(u / e.ENTRIES - 1, 1 - (d - s) / (c[u + e.PREV_TIME] - s));
					f += (c[u + e.VALUE] - f) * d
				}
				a.position = t ? a.data.position + (f - a.data.position) * g : a.position + (f - a.position) * g
			}
		};
		e.ENTRIES = 2;
		e.PREV_TIME = -2;
		e.PREV_VALUE = -1;
		e.VALUE = 1;
		return e
	}(d);
	a.PathConstraintPositionTimeline = e;
	e = function(a) {
		function d(b) {
			a.call(this, b)
		}
		__extends(d, a);
		d.prototype.getPropertyId = function() {
			return (c.pathConstraintSpacing << 24) + this.pathConstraintIndex
		};
		d.prototype.apply = function(a, c, e, f, g, t, u) {
			c = this.frames;
			a = a.pathConstraints[this.pathConstraintIndex];
			if (e < c[0]) t && (a.spacing = a.data.spacing);
			else {
				f = 0;
				if (e >= c[c.length - d.ENTRIES]) f = c[c.length + d.PREV_VALUE];
				else {
					u = b.binarySearch(c, e, d.ENTRIES);
					f = c[u + d.PREV_VALUE];
					var s = c[u];
					e = this.getCurvePercent(u / d.ENTRIES - 1, 1 - (e - s) / (c[u + d.PREV_TIME] - s));
					f += (c[u + d.VALUE] - f) * e
				}
				a.spacing = t ? a.data.spacing + (f - a.data.spacing) * g : a.spacing + (f - a.spacing) * g
			}
		};
		return d
	}(e);
	a.PathConstraintSpacingTimeline = e;
	d = function(d) {
		function e(b) {
			d.call(this, b);
			this.frames = a.Utils.newFloatArray(b * e.ENTRIES)
		}
		__extends(e, d);
		e.prototype.getPropertyId = function() {
			return (c.pathConstraintMix << 24) + this.pathConstraintIndex
		};
		e.prototype.setFrame = function(a, b, c, d) {
			a *= e.ENTRIES;
			this.frames[a] = b;
			this.frames[a +
				e.ROTATE] = c;
			this.frames[a + e.TRANSLATE] = d
		};
		e.prototype.apply = function(a, c, d, f, g, t, u) {
			c = this.frames;
			a = a.pathConstraints[this.pathConstraintIndex];
			if (d < c[0]) t && (a.rotateMix = a.data.rotateMix, a.translateMix = a.data.translateMix);
			else {
				u = f = 0;
				if (d >= c[c.length - e.ENTRIES]) f = c[c.length + e.PREV_ROTATE], u = c[c.length + e.PREV_TRANSLATE];
				else {
					var s = b.binarySearch(c, d, e.ENTRIES);
					f = c[s + e.PREV_ROTATE];
					u = c[s + e.PREV_TRANSLATE];
					var w = c[s];
					d = this.getCurvePercent(s / e.ENTRIES - 1, 1 - (d - w) / (c[s + e.PREV_TIME] - w));
					f += (c[s + e.ROTATE] -
						f) * d;
					u += (c[s + e.TRANSLATE] - u) * d
				}
				t ? (a.rotateMix = a.data.rotateMix + (f - a.data.rotateMix) * g, a.translateMix = a.data.translateMix + (u - a.data.translateMix) * g) : (a.rotateMix += (f - a.rotateMix) * g, a.translateMix += (u - a.translateMix) * g)
			}
		};
		e.ENTRIES = 3;
		e.PREV_TIME = -3;
		e.PREV_ROTATE = -2;
		e.PREV_TRANSLATE = -1;
		e.ROTATE = 1;
		e.TRANSLATE = 2;
		return e
	}(d);
	a.PathConstraintMixTimeline = d
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(e) {
			this.tracks = [];
			this.events = [];
			this.listeners = [];
			this.queue = new d(this);
			this.propertyIDs = new a.IntSet;
			this.animationsChanged = !1;
			this.timeScale = 1;
			this.trackEntryPool = new a.Pool(function() {
				return new c
			});
			this.data = e
		}
		b.prototype.update = function(a) {
			a *= this.timeScale;
			for (var b = this.tracks, c = 0, d = b.length; c < d; c++) {
				var e = b[c];
				if (null != e) {
					e.animationLast = e.nextAnimationLast;
					e.trackLast = e.nextTrackLast;
					var f = a * e.timeScale;
					if (0 < e.delay) {
						e.delay -= f;
						if (0 < e.delay) continue;
						f = -e.delay;
						e.delay = 0
					}
					var r = e.next;
					if (null != r) {
						var t = e.trackLast - r.delay;
						if (0 <= t) {
							r.delay = 0;
							r.trackTime = t + a * r.timeScale;
							e.trackTime += f;
							for (this.setCurrent(c, r, !0); null != r.mixingFrom;) r.mixTime += f, r = r.mixingFrom;
							continue
						}
					} else if (e.trackLast >= e.trackEnd && null == e.mixingFrom) {
						b[c] = null;
						this.queue.end(e);
						this.disposeNext(e);
						continue
					}
					this.updateMixingFrom(e, a);
					e.trackTime += f
				}
			}
			this.queue.drain()
		};
		b.prototype.updateMixingFrom = function(a, b) {
			var c = a.mixingFrom;
			null != c && (this.updateMixingFrom(c, b), a.mixTime >=
				a.mixDuration && null != c.mixingFrom && 0 < a.mixTime ? (a.mixingFrom = null, this.queue.end(c)) : (c.animationLast = c.nextAnimationLast, c.trackLast = c.nextTrackLast, c.trackTime += b * c.timeScale, a.mixTime += b * c.timeScale))
		};
		b.prototype.apply = function(b) {
			if (null == b) throw Error("skeleton cannot be null.");
			this.animationsChanged && this._animationsChanged();
			for (var c = this.events, d = this.tracks, e = 0, f = d.length; e < f; e++) {
				var p = d[e];
				if (!(null == p || 0 < p.delay)) {
					var r = p.alpha;
					null != p.mixingFrom ? r *= this.applyMixingFrom(p, b) : p.trackTime >=
						p.trackEnd && (r = 0);
					var t = p.animationLast,
						u = p.getAnimationTime(),
						s = p.animation.timelines.length,
						w = p.animation.timelines;
					if (1 == r)
						for (var v = 0; v < s; v++) w[v].apply(b, t, u, c, 1, !0, !1);
					else {
						var x = 0 == p.timelinesRotation.length;
						x && a.Utils.setArraySize(p.timelinesRotation, s << 1, null);
						for (var A = p.timelinesRotation, z = p.timelinesFirst, v = 0; v < s; v++) {
							var y = w[v];
							y instanceof a.RotateTimeline ? this.applyRotateTimeline(y, b, u, r, z[v], A, v << 1, x) : y.apply(b, t, u, c, r, z[v], !1)
						}
					}
					this.queueEvents(p, u);
					c.length = 0;
					p.nextAnimationLast =
						u;
					p.nextTrackLast = p.trackTime
				}
			}
			this.queue.drain()
		};
		b.prototype.applyMixingFrom = function(b, c) {
			var d = b.mixingFrom;
			null != d.mixingFrom && this.applyMixingFrom(d, c);
			var e = 0;
			0 == b.mixDuration ? e = 1 : (e = b.mixTime / b.mixDuration, 1 < e && (e = 1));
			var f = e < d.eventThreshold ? this.events : null,
				p = e < d.attachmentThreshold,
				r = e < d.drawOrderThreshold,
				t = d.animationLast,
				u = d.getAnimationTime(),
				s = d.animation.timelines.length,
				w = d.animation.timelines,
				v = d.timelinesFirst,
				x = d.alpha * b.mixAlpha * (1 - e),
				A = 0 == d.timelinesRotation.length;
			A && a.Utils.setArraySize(d.timelinesRotation,
				s << 1, null);
			for (var z = d.timelinesRotation, y = 0; y < s; y++) {
				var B = w[y],
					C = v[y];
				if (B instanceof a.RotateTimeline) this.applyRotateTimeline(B, c, u, x, C, z, y << 1, A);
				else {
					if (!C) {
						if (!p && B instanceof a.AttachmentTimeline) continue;
						if (!r && B instanceof a.DrawOrderTimeline) continue
					}
					B.apply(c, t, u, f, x, C, !0)
				}
			}
			0 < b.mixDuration && this.queueEvents(d, u);
			this.events.length = 0;
			d.nextAnimationLast = u;
			d.nextTrackLast = d.trackTime;
			return e
		};
		b.prototype.applyRotateTimeline = function(b, c, d, e, f, p, r, t) {
			t && (p[r] = 0);
			if (1 == e) b.apply(c, 0, d, null,
				1, f, !1);
			else {
				var u = b.frames;
				c = c.bones[b.boneIndex];
				if (d < u[0]) f && (c.rotation = c.data.rotation);
				else {
					var s = 0;
					if (d >= u[u.length - a.RotateTimeline.ENTRIES]) s = c.data.rotation + u[u.length + a.RotateTimeline.PREV_ROTATION];
					else {
						var s = a.Animation.binarySearch(u, d, a.RotateTimeline.ENTRIES),
							w = u[s + a.RotateTimeline.PREV_ROTATION],
							v = u[s];
						b = b.getCurvePercent((s >> 1) - 1, 1 - (d - v) / (u[s + a.RotateTimeline.PREV_TIME] - v));
						s = u[s + a.RotateTimeline.ROTATION] - w;
						s = w + (s - 360 * (16384 - (16384.499999999996 - s / 360 | 0))) * b + c.data.rotation;
						s -= 360 *
							(16384 - (16384.499999999996 - s / 360 | 0))
					}
					f = f ? c.data.rotation : c.rotation;
					u = 0;
					b = s - f;
					0 == b ? u = p[r] : (b -= 360 * (16384 - (16384.499999999996 - b / 360 | 0)), u = d = 0, t ? (d = 0, u = b) : (d = p[r], u = p[r + 1]), t = 0 < b, s = 0 <= d, a.MathUtils.signum(u) != a.MathUtils.signum(b) && 90 >= Math.abs(u) && (180 < Math.abs(d) && (d += 360 * a.MathUtils.signum(d)), s = t), u = b + d - d % 360, s != t && (u += 360 * a.MathUtils.signum(d)), p[r] = u);
					p[r + 1] = b;
					f += u * e;
					c.rotation = f - 360 * (16384 - (16384.499999999996 - f / 360 | 0))
				}
			}
		};
		b.prototype.queueEvents = function(a, b) {
			for (var c = a.animationStart, d = a.animationEnd,
					e = d - c, f = a.trackLast % e, r = this.events, t = 0, u = r.length; t < u; t++) {
				var s = r[t];
				if (s.time < f) break;
				s.time > d || this.queue.event(a, s)
			}
			for ((a.loop ? f > a.trackTime % e : b >= d && a.animationLast < d) && this.queue.complete(a); t < u; t++) r[t].time < c || this.queue.event(a, r[t])
		};
		b.prototype.clearTracks = function() {
			this.queue.drainDisabled = !0;
			for (var a = 0, b = this.tracks.length; a < b; a++) this.clearTrack(a);
			this.tracks.length = 0;
			this.queue.drainDisabled = !1;
			this.queue.drain()
		};
		b.prototype.clearTrack = function(a) {
			if (!(a >= this.tracks.length) &&
				(a = this.tracks[a], null != a)) {
				this.queue.end(a);
				this.disposeNext(a);
				for (var b = a;;) {
					var c = b.mixingFrom;
					if (null == c) break;
					this.queue.end(c);
					b.mixingFrom = null;
					b = c
				}
				this.tracks[a.trackIndex] = null;
				this.queue.drain()
			}
		};
		b.prototype.setCurrent = function(a, b, c) {
			var d = this.expandToIndex(a);
			this.tracks[a] = b;
			null != d && (c && this.queue.interrupt(d), b.mixingFrom = d, b.mixTime = 0, d.timelinesRotation.length = 0, null != d.mixingFrom && 0 < d.mixDuration && (b.mixAlpha *= Math.min(d.mixTime / d.mixDuration, 1)));
			this.queue.start(b)
		};
		b.prototype.setAnimation =
			function(a, b, c) {
				var d = this.data.skeletonData.findAnimation(b);
				if (null == d) throw Error("Animation not found: " + b);
				return this.setAnimationWith(a, d, c)
			};
		b.prototype.setAnimationWith = function(a, b, c) {
			if (null == b) throw Error("animation cannot be null.");
			var d = !0,
				e = this.expandToIndex(a);
			null != e && (-1 == e.nextTrackLast ? (this.tracks[a] = e.mixingFrom, this.queue.interrupt(e), this.queue.end(e), this.disposeNext(e), e = e.mixingFrom, d = !1) : this.disposeNext(e));
			b = this.trackEntry(a, b, c, e);
			this.setCurrent(a, b, d);
			this.queue.drain();
			return b
		};
		b.prototype.addAnimation = function(a, b, c, d) {
			var e = this.data.skeletonData.findAnimation(b);
			if (null == e) throw Error("Animation not found: " + b);
			return this.addAnimationWith(a, e, c, d)
		};
		b.prototype.addAnimationWith = function(a, b, c, d) {
			if (null == b) throw Error("animation cannot be null.");
			var e = this.expandToIndex(a);
			if (null != e)
				for (; null != e.next;) e = e.next;
			c = this.trackEntry(a, b, c, e);
			null == e ? (this.setCurrent(a, c, !0), this.queue.drain()) : (e.next = c, 0 >= d && (a = e.animationEnd - e.animationStart, d = 0 != a ? d + (a * (1 + (e.trackTime /
				a | 0)) - this.data.getMix(e.animation, b)) : 0));
			c.delay = d;
			return c
		};
		b.prototype.setEmptyAnimation = function(a, c) {
			var d = this.setAnimationWith(a, b.emptyAnimation, !1);
			d.mixDuration = c;
			d.trackEnd = c;
			return d
		};
		b.prototype.addEmptyAnimation = function(a, c, d) {
			0 >= d && (d -= c);
			a = this.addAnimationWith(a, b.emptyAnimation, !1, d);
			a.mixDuration = c;
			a.trackEnd = c;
			return a
		};
		b.prototype.setEmptyAnimations = function(a) {
			this.queue.drainDisabled = !0;
			for (var b = 0, c = this.tracks.length; b < c; b++) {
				var d = this.tracks[b];
				null != d && this.setEmptyAnimation(d.trackIndex,
					a)
			}
			this.queue.drainDisabled = !1;
			this.queue.drain()
		};
		b.prototype.expandToIndex = function(b) {
			if (b < this.tracks.length) return this.tracks[b];
			a.Utils.ensureArrayCapacity(this.tracks, b - this.tracks.length + 1, null);
			this.tracks.length = b + 1;
			return null
		};
		b.prototype.trackEntry = function(a, b, c, d) {
			var e = this.trackEntryPool.obtain();
			e.trackIndex = a;
			e.animation = b;
			e.loop = c;
			e.eventThreshold = 0;
			e.attachmentThreshold = 0;
			e.drawOrderThreshold = 0;
			e.animationStart = 0;
			e.animationEnd = b.duration;
			e.animationLast = -1;
			e.nextAnimationLast = -1;
			e.delay = 0;
			e.trackTime = 0;
			e.trackLast = -1;
			e.nextTrackLast = -1;
			e.trackEnd = Number.MAX_VALUE;
			e.timeScale = 1;
			e.alpha = 1;
			e.mixAlpha = 1;
			e.mixTime = 0;
			e.mixDuration = null == d ? 0 : this.data.getMix(d.animation, b);
			return e
		};
		b.prototype.disposeNext = function(a) {
			for (var b = a.next; null != b;) this.queue.dispose(b), b = b.next;
			a.next = null
		};
		b.prototype._animationsChanged = function() {
			this.animationsChanged = !1;
			var a = 0,
				b = this.tracks.length;
			for (this.propertyIDs.clear(); a < b; a++) {
				var c = this.tracks[a];
				if (null != c) {
					this.setTimelinesFirst(c);
					a++;
					break
				}
			}
			for (; a < b; a++) c = this.tracks[a], null != c && this.checkTimelinesFirst(c)
		};
		b.prototype.setTimelinesFirst = function(b) {
			if (null != b.mixingFrom) this.setTimelinesFirst(b.mixingFrom), this.checkTimelinesUsage(b, b.timelinesFirst);
			else {
				var c = this.propertyIDs,
					d = b.animation.timelines,
					e = d.length;
				b = a.Utils.setArraySize(b.timelinesFirst, e, !1);
				for (var f = 0; f < e; f++) c.add(d[f].getPropertyId()), b[f] = !0
			}
		};
		b.prototype.checkTimelinesFirst = function(a) {
			null != a.mixingFrom && this.checkTimelinesFirst(a.mixingFrom);
			this.checkTimelinesUsage(a,
				a.timelinesFirst)
		};
		b.prototype.checkTimelinesUsage = function(b, c) {
			for (var d = this.propertyIDs, e = b.animation.timelines, f = e.length, p = a.Utils.setArraySize(c, f), r = 0; r < f; r++) p[r] = d.add(e[r].getPropertyId())
		};
		b.prototype.getCurrent = function(a) {
			return a >= this.tracks.length ? null : this.tracks[a]
		};
		b.prototype.addListener = function(a) {
			if (null == a) throw Error("listener cannot be null.");
			this.listeners.push(a)
		};
		b.prototype.removeListener = function(a) {
			a = this.listeners.indexOf(a);
			0 <= a && this.listeners.splice(a, 1)
		};
		b.prototype.clearListeners =
			function() {
				this.listeners.length = 0
			};
		b.prototype.clearListenerNotifications = function() {
			this.queue.clear()
		};
		b.emptyAnimation = new a.Animation("\x3cempty\x3e", [], 0);
		return b
	}();
	a.AnimationState = b;
	var c = function() {
		function a() {
			this.timelinesFirst = [];
			this.timelinesRotation = []
		}
		a.prototype.reset = function() {
			this.listener = this.animation = this.mixingFrom = this.next = null;
			this.timelinesFirst.length = 0;
			this.timelinesRotation.length = 0
		};
		a.prototype.getAnimationTime = function() {
			if (this.loop) {
				var a = this.animationEnd - this.animationStart;
				return 0 == a ? this.animationStart : this.trackTime % a + this.animationStart
			}
			return Math.min(this.trackTime + this.animationStart, this.animationEnd)
		};
		a.prototype.setAnimationLast = function(a) {
			this.nextAnimationLast = this.animationLast = a
		};
		a.prototype.isComplete = function() {
			return this.trackTime >= this.animationEnd - this.animationStart
		};
		a.prototype.resetRotationDirections = function() {
			this.timelinesRotation.length = 0
		};
		return a
	}();
	a.TrackEntry = c;
	var d = function() {
		function a(b) {
			this.objects = [];
			this.drainDisabled = !1;
			this.animState =
				b
		}
		a.prototype.start = function(a) {
			this.objects.push(e.start);
			this.objects.push(a);
			this.animState.animationsChanged = !0
		};
		a.prototype.interrupt = function(a) {
			this.objects.push(e.interrupt);
			this.objects.push(a)
		};
		a.prototype.end = function(a) {
			this.objects.push(e.end);
			this.objects.push(a);
			this.animState.animationsChanged = !0
		};
		a.prototype.dispose = function(a) {
			this.objects.push(e.dispose);
			this.objects.push(a)
		};
		a.prototype.complete = function(a) {
			this.objects.push(e.complete);
			this.objects.push(a)
		};
		a.prototype.event =
			function(a, b) {
				this.objects.push(e.event);
				this.objects.push(a);
				this.objects.push(b)
			};
		a.prototype.drain = function() {
			if (!this.drainDisabled) {
				this.drainDisabled = !0;
				for (var a = this.objects, b = this.animState.listeners, c = 0; c < a.length; c += 2) {
					var d = a[c + 1];
					switch (a[c]) {
						case e.start:
							null != d.listener && d.listener.start && d.listener.start(d);
							for (var f = 0; f < b.length; f++) b[f].start && b[f].start(d);
							break;
						case e.interrupt:
							null != d.listener && d.listener.interrupt && d.listener.interrupt(d);
							for (f = 0; f < b.length; f++) b[f].interrupt &&
								b[f].interrupt(d);
							break;
						case e.end:
							for (null != d.listener && d.listener.end && d.listener.end(d), f = 0; f < b.length; f++) b[f].end && b[f].end(d);
						case e.dispose:
							null != d.listener && d.listener.dispose && d.listener.dispose(d);
							for (f = 0; f < b.length; f++) b[f].dispose && b[f].dispose(d);
							this.animState.trackEntryPool.free(d);
							break;
						case e.complete:
							null != d.listener && d.listener.complete && d.listener.complete(d);
							for (f = 0; f < b.length; f++) b[f].complete && b[f].complete(d);
							break;
						case e.event:
							var p = a[c++ + 2];
							null != d.listener && d.listener.event &&
								d.listener.event(d, p);
							for (f = 0; f < b.length; f++) b[f].event && b[f].event(d, p)
					}
				}
				this.clear();
				this.drainDisabled = !1
			}
		};
		a.prototype.clear = function() {
			this.objects.length = 0
		};
		return a
	}();
	a.EventQueue = d;
	(function(a) {
		a[a.start = 0] = "start";
		a[a.interrupt = 1] = "interrupt";
		a[a.end = 2] = "end";
		a[a.dispose = 3] = "dispose";
		a[a.complete = 4] = "complete";
		a[a.event = 5] = "event"
	})(a.EventType || (a.EventType = {}));
	var e = a.EventType,
		b = function() {
			function a() {}
			a.prototype.start = function(a) {};
			a.prototype.interrupt = function(a) {};
			a.prototype.end =
				function(a) {};
			a.prototype.dispose = function(a) {};
			a.prototype.complete = function(a) {};
			a.prototype.event = function(a, b) {};
			return a
		}();
	a.AnimationStateAdapter2 = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function a(b) {
			this.animationToMixTime = {};
			this.defaultMix = 0;
			if (null == b) throw Error("skeletonData cannot be null.");
			this.skeletonData = b
		}
		a.prototype.setMix = function(a, b, c) {
			var g = this.skeletonData.findAnimation(a);
			if (null == g) throw Error("Animation not found: " + a);
			a = this.skeletonData.findAnimation(b);
			if (null == a) throw Error("Animation not found: " + b);
			this.setMixWith(g, a, c)
		};
		a.prototype.setMixWith = function(a, b, c) {
			if (null == a) throw Error("from cannot be null.");
			if (null == b) throw Error("to cannot be null.");
			this.animationToMixTime[a.name + b.name] = c
		};
		a.prototype.getMix = function(a, b) {
			var c = this.animationToMixTime[a.name + b.name];
			return void 0 === c ? this.defaultMix : c
		};
		return a
	}();
	a.AnimationStateData = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function a(b, c) {
			void 0 === c && (c = "");
			this.assets = {};
			this.errors = {};
			this.loaded = this.toLoad = 0;
			this.textureLoader = b;
			this.pathPrefix = c
		}
		a.prototype.loadText = function(a, b, c) {
			var g = this;
			void 0 === b && (b = null);
			void 0 === c && (c = null);
			a = this.pathPrefix + a;
			this.toLoad++;
			var h = new XMLHttpRequest;
			h.onreadystatechange = function() {
				h.readyState == XMLHttpRequest.DONE && (200 <= h.status && 300 > h.status ? (g.assets[a] = h.responseText, b && b(a, h.responseText)) : (g.errors[a] = "Couldn't load text " + a + ": status " +
					h.status + ", " + h.responseText, c && c(a, "Couldn't load text " + a + ": status " + h.status + ", " + h.responseText)), g.toLoad--, g.loaded++)
			};
			h.open("GET", a, !0);
			h.send()
		};
		a.prototype.loadTexture = function(a, b, c) {
			var g = this;
			void 0 === b && (b = null);
			void 0 === c && (c = null);
			a = this.pathPrefix + a;
			this.toLoad++;
			var h = new Image;
			h.crossOrigin = "anonymous";
			h.src = a;
			h.onload = function(c) {
				c = g.textureLoader(h);
				g.assets[a] = c;
				g.toLoad--;
				g.loaded++;
				b && b(a, h)
			};
			h.onerror = function(b) {
				g.errors[a] = "Couldn't load image " + a;
				g.toLoad--;
				g.loaded++;
				c && c(a, "Couldn't load image " + a)
			}
		};
		a.prototype.get = function(a) {
			a = this.pathPrefix + a;
			return this.assets[a]
		};
		a.prototype.remove = function(a) {
			a = this.pathPrefix + a;
			var b = this.assets[a];
			b.dispose && b.dispose();
			this.assets[a] = null
		};
		a.prototype.removeAll = function() {
			for (var a in this.assets) {
				var b = this.assets[a];
				b.dispose && b.dispose()
			}
			this.assets = {}
		};
		a.prototype.isLoadingComplete = function() {
			return 0 == this.toLoad
		};
		a.prototype.getToLoad = function() {
			return this.toLoad
		};
		a.prototype.getLoaded = function() {
			return this.loaded
		};
		a.prototype.dispose = function() {
			this.removeAll()
		};
		a.prototype.hasErrors = function() {
			return 0 < Object.keys(this.errors).length
		};
		a.prototype.getErrors = function() {
			return this.errors
		};
		return a
	}();
	a.AssetManager = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(a) {
			this.atlas = a
		}
		b.prototype.newRegionAttachment = function(b, c, f) {
			b = this.atlas.findRegion(f);
			if (null == b) throw Error("Region not found in atlas: " + f + " (region attachment: " + c + ")");
			b.renderObject = b;
			c = new a.RegionAttachment(c);
			c.setRegion(b);
			return c
		};
		b.prototype.newMeshAttachment = function(b, c, f) {
			b = this.atlas.findRegion(f);
			if (null == b) throw Error("Region not found in atlas: " + f + " (mesh attachment: " + c + ")");
			b.renderObject = b;
			c = new a.MeshAttachment(c);
			c.region = b;
			return c
		};
		b.prototype.newBoundingBoxAttachment = function(b, c) {
			return new a.BoundingBoxAttachment(c)
		};
		b.prototype.newPathAttachment = function(b, c) {
			return new a.PathAttachment(c)
		};
		return b
	}();
	a.AtlasAttachmentLoader = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		return function(a) {
			if (null == a) throw Error("name cannot be null.");
			this.name = a
		}
	}();
	a.Attachment = b;
	b = function(a) {
		function b(d) {
			a.call(this, d);
			this.worldVerticesLength = 0
		}
		__extends(b, a);
		b.prototype.computeWorldVertices = function(a, b) {
			this.computeWorldVerticesWith(a, 0, this.worldVerticesLength, b, 0)
		};
		b.prototype.computeWorldVerticesWith = function(a, b, c, d, k) {
			c += k;
			var m = a.bone.skeleton,
				n = a.attachmentVertices,
				p = this.vertices,
				r = this.bones;
			if (null == r) {
				0 < n.length && (p = n);
				a = a.bone;
				var n =
					a.worldX,
					r = a.worldY,
					t = a.a,
					m = a.b,
					u = a.c;
				a = a.d;
				for (var s = b; k < c; s += 2, k += 2) {
					b = p[s];
					var w = p[s + 1];
					d[k] = b * t + w * m + n;
					d[k + 1] = b * u + w * a + r
				}
			} else {
				for (w = a = t = 0; w < b; w += 2) u = r[t], t += u + 1, a += u;
				s = m.bones;
				if (0 == n.length)
					for (m = 3 * a; k < c; k += 2) {
						for (var v = 0, x = 0, u = r[t++], u = u + t; t < u; t++, m += 3) {
							a = s[r[t]];
							b = p[m];
							var w = p[m + 1],
								A = p[m + 2],
								v = v + (b * a.a + w * a.b + a.worldX) * A,
								x = x + (b * a.c + w * a.d + a.worldY) * A
						}
						d[k] = v;
						d[k + 1] = x
					} else
						for (var m = 3 * a, z = a << 1; k < c; k += 2) {
							x = v = 0;
							u = r[t++];
							for (u += t; t < u; t++, m += 3, z += 2) a = s[r[t]], b = p[m] + n[z], w = p[m + 1] + n[z + 1], A = p[m + 2], v += (b *
								a.a + w * a.b + a.worldX) * A, x += (b * a.c + w * a.d + a.worldY) * A;
							d[k] = v;
							d[k + 1] = x
						}
			}
		};
		b.prototype.applyDeform = function(a) {
			return this == a
		};
		return b
	}(b);
	a.VertexAttachment = b
})(spine || (spine = {}));
(function(a) {
	a = a.AttachmentType || (a.AttachmentType = {});
	a[a.Region = 0] = "Region";
	a[a.BoundingBox = 1] = "BoundingBox";
	a[a.Mesh = 2] = "Mesh";
	a[a.LinkedMesh = 3] = "LinkedMesh";
	a[a.Path = 4] = "Path"
})(spine || (spine = {}));
(function(a) {
	var b = function(b) {
		function d(d) {
			b.call(this, d);
			this.color = new a.Color(1, 1, 1, 1)
		}
		__extends(d, b);
		return d
	}(a.VertexAttachment);
	a.BoundingBoxAttachment = b
})(spine || (spine = {}));
(function(a) {
	var b = function(b) {
		function d(d) {
			b.call(this, d);
			this.color = new a.Color(1, 1, 1, 1);
			this.inheritDeform = !1;
			this.tempColor = new a.Color(0, 0, 0, 0)
		}
		__extends(d, b);
		d.prototype.updateUVs = function() {
			var b = this.regionUVs,
				c = b.length,
				d = 8 * (c >> 1);
			if (null == this.worldVertices || this.worldVertices.length != d) this.worldVertices = a.Utils.newFloatArray(d);
			var h = d = 0,
				k = 0,
				m = 0;
			null == this.region ? (d = h = 0, k = m = 1) : (d = this.region.u, h = this.region.v, k = this.region.u2 - d, m = this.region.v2 - h);
			if (this.region.rotate)
				for (var n = 0, p =
						6; n < c; n += 2, p += 8) this.worldVertices[p] = d + b[n + 1] * k, this.worldVertices[p + 1] = h + m - b[n] * m;
			else
				for (n = 0, p = 6; n < c; n += 2, p += 8) this.worldVertices[p] = d + b[n] * k, this.worldVertices[p + 1] = h + b[n + 1] * m
		};
		d.prototype.updateWorldVertices = function(a, b) {
			var c = a.bone.skeleton,
				d = c.color,
				k = a.color,
				m = this.color,
				n = d.a * k.a * m.a,
				p = b ? n : 1,
				r = this.tempColor;
			r.set(d.r * k.r * m.r * p, d.g * k.g * m.g * p, d.b * k.b * m.b * p, n);
			var t = a.attachmentVertices,
				d = this.vertices,
				k = this.worldVertices,
				u = this.bones;
			if (null == u) {
				u = d.length;
				0 < t.length && (d = t);
				for (var s =
						a.bone, t = s.worldX, w = s.worldY, v = s.a, c = s.b, x = s.c, s = s.d, n = m = 0; m < u; m += 2, n += 8) {
					var p = d[m],
						A = d[m + 1];
					k[n] = p * v + A * c + t;
					k[n + 1] = p * x + A * s + w;
					k[n + 2] = r.r;
					k[n + 3] = r.g;
					k[n + 4] = r.b;
					k[n + 5] = r.a
				}
				return k
			}
			w = c.bones;
			if (0 == t.length)
				for (c = m = n = 0, v = u.length; m < v; n += 8) {
					for (var z = x = 0, y = u[m++] + m; m < y; m++, c += 3) var s = w[u[m]],
						p = d[c],
						A = d[c + 1],
						B = d[c + 2],
						x = x + (p * s.a + A * s.b + s.worldX) * B,
						z = z + (p * s.c + A * s.d + s.worldY) * B;
					k[n] = x;
					k[n + 1] = z;
					k[n + 2] = r.r;
					k[n + 3] = r.g;
					k[n + 4] = r.b;
					k[n + 5] = r.a
				} else
					for (var C = c = m = n = 0, v = u.length; m < v; n += 8) {
						z = x = 0;
						for (y = u[m++] + m; m < y; m++,
							c += 3, C += 2) s = w[u[m]], p = d[c] + t[C], A = d[c + 1] + t[C + 1], B = d[c + 2], x += (p * s.a + A * s.b + s.worldX) * B, z += (p * s.c + A * s.d + s.worldY) * B;
						k[n] = x;
						k[n + 1] = z;
						k[n + 2] = r.r;
						k[n + 3] = r.g;
						k[n + 4] = r.b;
						k[n + 5] = r.a
					}
			return k
		};
		d.prototype.applyDeform = function(a) {
			return this == a || this.inheritDeform && this.parentMesh == a
		};
		d.prototype.getParentMesh = function() {
			return this.parentMesh
		};
		d.prototype.setParentMesh = function(a) {
			this.parentMesh = a;
			null != a && (this.bones = a.bones, this.vertices = a.vertices, this.regionUVs = a.regionUVs, this.triangles = a.triangles, this.hullLength =
				a.hullLength)
		};
		return d
	}(a.VertexAttachment);
	a.MeshAttachment = b
})(spine || (spine = {}));
(function(a) {
	var b = function(b) {
		function d(d) {
			b.call(this, d);
			this.constantSpeed = this.closed = !1;
			this.color = new a.Color(1, 1, 1, 1)
		}
		__extends(d, b);
		return d
	}(a.VertexAttachment);
	a.PathAttachment = b
})(spine || (spine = {}));
(function(a) {
	var b = function(b) {
		function d(d) {
			b.call(this, d);
			this.y = this.x = 0;
			this.scaleY = this.scaleX = 1;
			this.height = this.width = this.rotation = 0;
			this.color = new a.Color(1, 1, 1, 1);
			this.offset = a.Utils.newFloatArray(8);
			this.vertices = a.Utils.newFloatArray(32);
			this.tempColor = new a.Color(1, 1, 1, 1)
		}
		__extends(d, b);
		d.prototype.setRegion = function(a) {
			var b = this.vertices;
			a.rotate ? (b[d.U2] = a.u, b[d.V2] = a.v2, b[d.U3] = a.u, b[d.V3] = a.v, b[d.U4] = a.u2, b[d.V4] = a.v, b[d.U1] = a.u2, b[d.V1] = a.v2) : (b[d.U1] = a.u, b[d.V1] = a.v2, b[d.U2] = a.u,
				b[d.V2] = a.v, b[d.U3] = a.u2, b[d.V3] = a.v, b[d.U4] = a.u2, b[d.V4] = a.v2);
			this.region = a
		};
		d.prototype.updateOffset = function() {
			var a = this.width / this.region.originalWidth * this.scaleX,
				b = this.height / this.region.originalHeight * this.scaleY,
				c = -this.width / 2 * this.scaleX + this.region.offsetX * a,
				h = -this.height / 2 * this.scaleY + this.region.offsetY * b,
				k = c + this.region.width * a,
				a = h + this.region.height * b,
				b = this.rotation * Math.PI / 180,
				m = Math.cos(b),
				n = Math.sin(b),
				b = c * m + this.x,
				c = c * n,
				p = h * m + this.y,
				h = h * n,
				r = k * m + this.x,
				k = k * n,
				m = a * m + this.y,
				a =
				a * n,
				n = this.offset;
			n[d.OX1] = b - h;
			n[d.OY1] = p + c;
			n[d.OX2] = b - a;
			n[d.OY2] = m + c;
			n[d.OX3] = r - a;
			n[d.OY3] = m + k;
			n[d.OX4] = r - h;
			n[d.OY4] = p + k
		};
		d.prototype.updateWorldVertices = function(a, b) {
			var c = a.bone.skeleton.color,
				h = a.color,
				k = this.color,
				m = c.a * h.a * k.a,
				n = b ? m : 1,
				p = this.tempColor;
			p.set(c.r * h.r * k.r * n, c.g * h.g * k.g * n, c.b * h.b * k.b * n, m);
			var c = this.vertices,
				h = this.offset,
				r = a.bone,
				k = r.worldX,
				m = r.worldY,
				n = r.a,
				t = r.b,
				u = r.c,
				r = r.d,
				s = 0,
				w = 0,
				s = h[d.OX1],
				w = h[d.OY1];
			c[d.X1] = s * n + w * t + k;
			c[d.Y1] = s * u + w * r + m;
			c[d.C1R] = p.r;
			c[d.C1G] = p.g;
			c[d.C1B] = p.b;
			c[d.C1A] = p.a;
			s = h[d.OX2];
			w = h[d.OY2];
			c[d.X2] = s * n + w * t + k;
			c[d.Y2] = s * u + w * r + m;
			c[d.C2R] = p.r;
			c[d.C2G] = p.g;
			c[d.C2B] = p.b;
			c[d.C2A] = p.a;
			s = h[d.OX3];
			w = h[d.OY3];
			c[d.X3] = s * n + w * t + k;
			c[d.Y3] = s * u + w * r + m;
			c[d.C3R] = p.r;
			c[d.C3G] = p.g;
			c[d.C3B] = p.b;
			c[d.C3A] = p.a;
			s = h[d.OX4];
			w = h[d.OY4];
			c[d.X4] = s * n + w * t + k;
			c[d.Y4] = s * u + w * r + m;
			c[d.C4R] = p.r;
			c[d.C4G] = p.g;
			c[d.C4B] = p.b;
			c[d.C4A] = p.a;
			return c
		};
		d.OX1 = 0;
		d.OY1 = 1;
		d.OX2 = 2;
		d.OY2 = 3;
		d.OX3 = 4;
		d.OY3 = 5;
		d.OX4 = 6;
		d.OY4 = 7;
		d.X1 = 0;
		d.Y1 = 1;
		d.C1R = 2;
		d.C1G = 3;
		d.C1B = 4;
		d.C1A = 5;
		d.U1 = 6;
		d.V1 = 7;
		d.X2 = 8;
		d.Y2 = 9;
		d.C2R = 10;
		d.C2G =
			11;
		d.C2B = 12;
		d.C2A = 13;
		d.U2 = 14;
		d.V2 = 15;
		d.X3 = 16;
		d.Y3 = 17;
		d.C3R = 18;
		d.C3G = 19;
		d.C3B = 20;
		d.C3A = 21;
		d.U3 = 22;
		d.V3 = 23;
		d.X4 = 24;
		d.Y4 = 25;
		d.C4R = 26;
		d.C4G = 27;
		d.C4B = 28;
		d.C4A = 29;
		d.U4 = 30;
		d.V4 = 31;
		return d
	}(a.Attachment);
	a.RegionAttachment = b
})(spine || (spine = {}));
(function(a) {
	a = a.BlendMode || (a.BlendMode = {});
	a[a.Normal = 0] = "Normal";
	a[a.Additive = 1] = "Additive";
	a[a.Multiply = 2] = "Multiply";
	a[a.Screen = 3] = "Screen"
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(a, c, f) {
			this.children = [];
			this.ashearY = this.ashearX = this.ascaleY = this.ascaleX = this.arotation = this.ay = this.ax = this.shearY = this.shearX = this.scaleY = this.scaleX = this.rotation = this.y = this.x = 0;
			this.appliedValid = !1;
			this.worldY = this.d = this.c = this.worldX = this.b = this.a = 0;
			this.sorted = !1;
			if (null == a) throw Error("data cannot be null.");
			if (null == c) throw Error("skeleton cannot be null.");
			this.data = a;
			this.skeleton = c;
			this.parent = f;
			this.setToSetupPose()
		}
		b.prototype.update = function() {
			this.updateWorldTransformWith(this.x,
				this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY)
		};
		b.prototype.updateWorldTransform = function() {
			this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY)
		};
		b.prototype.updateWorldTransformWith = function(b, c, f, g, h, k, m) {
			this.ax = b;
			this.ay = c;
			this.arotation = f;
			this.ascaleX = g;
			this.ascaleY = h;
			this.ashearX = k;
			this.ashearY = m;
			this.appliedValid = !0;
			var n = this.parent;
			if (null == n) {
				m = f + 90 + m;
				var n = a.MathUtils.cosDeg(f + k) * g,
					p = a.MathUtils.cosDeg(m) * h;
				g *=
					a.MathUtils.sinDeg(f + k);
				h *= a.MathUtils.sinDeg(m);
				var r = this.skeleton;
				r.flipX && (b = -b, n = -n, p = -p);
				r.flipY && (c = -c, g = -g, h = -h);
				this.a = n;
				this.b = p;
				this.c = g;
				this.d = h;
				this.worldX = b + r.x;
				this.worldY = c + r.y
			} else {
				var r = n.a,
					t = n.b,
					u = n.c,
					s = n.d;
				this.worldX = r * b + t * c + n.worldX;
				this.worldY = u * b + s * c + n.worldY;
				switch (this.data.transformMode) {
					case a.TransformMode.Normal:
						m = f + 90 + m;
						n = a.MathUtils.cosDeg(f + k) * g;
						p = a.MathUtils.cosDeg(m) * h;
						g *= a.MathUtils.sinDeg(f + k);
						h *= a.MathUtils.sinDeg(m);
						this.a = r * n + t * g;
						this.b = r * p + t * h;
						this.c = u * n + s *
							g;
						this.d = u * p + s * h;
						return;
					case a.TransformMode.OnlyTranslation:
						m = f + 90 + m;
						this.a = a.MathUtils.cosDeg(f + k) * g;
						this.b = a.MathUtils.cosDeg(m) * h;
						this.c = a.MathUtils.sinDeg(f + k) * g;
						this.d = a.MathUtils.sinDeg(m) * h;
						break;
					case a.TransformMode.NoRotationOrReflection:
						n = r * r + u * u;
						p = 0;
						1E-4 < n ? (n = Math.abs(r * s - t * u) / n, t = u * n, s = r * n, p = Math.atan2(u, r) * a.MathUtils.radDeg) : (u = r = 0, p = 90 - Math.atan2(s, t) * a.MathUtils.radDeg);
						k = f + k - p;
						m = f + m - p + 90;
						n = a.MathUtils.cosDeg(k) * g;
						p = a.MathUtils.cosDeg(m) * h;
						g *= a.MathUtils.sinDeg(k);
						h *= a.MathUtils.sinDeg(m);
						this.a = r * n - t * g;
						this.b = r * p - t * h;
						this.c = u * n + s * g;
						this.d = u * p + s * h;
						break;
					case a.TransformMode.NoScale:
					case a.TransformMode.NoScaleOrReflection:
						n = a.MathUtils.cosDeg(f);
						p = a.MathUtils.sinDeg(f);
						f = r * n + t * p;
						b = u * n + s * p;
						n = Math.sqrt(f * f + b * b);
						1E-5 < n && (n = 1 / n);
						f *= n;
						b *= n;
						n = Math.sqrt(f * f + b * b);
						p = Math.PI / 2 + Math.atan2(b, f);
						c = Math.cos(p) * n;
						var w = Math.sin(p) * n,
							n = a.MathUtils.cosDeg(k) * g,
							p = a.MathUtils.cosDeg(90 + m) * h;
						g *= a.MathUtils.sinDeg(k);
						h *= a.MathUtils.sinDeg(90 + m);
						this.a = f * n + c * g;
						this.b = f * p + c * h;
						this.c = b * n + w * g;
						this.d = b * p + w *
							h;
						if (this.data.transformMode != a.TransformMode.NoScaleOrReflection ? 0 > r * s - t * u : this.skeleton.flipX != this.skeleton.flipY) this.b = -this.b, this.d = -this.d;
						return
				}
				this.skeleton.flipX && (this.a = -this.a, this.b = -this.b);
				this.skeleton.flipY && (this.c = -this.c, this.d = -this.d)
			}
		};
		b.prototype.setToSetupPose = function() {
			var a = this.data;
			this.x = a.x;
			this.y = a.y;
			this.rotation = a.rotation;
			this.scaleX = a.scaleX;
			this.scaleY = a.scaleY;
			this.shearX = a.shearX;
			this.shearY = a.shearY
		};
		b.prototype.getWorldRotationX = function() {
			return Math.atan2(this.c,
				this.a) * a.MathUtils.radDeg
		};
		b.prototype.getWorldRotationY = function() {
			return Math.atan2(this.d, this.b) * a.MathUtils.radDeg
		};
		b.prototype.getWorldScaleX = function() {
			return Math.sqrt(this.a * this.a + this.c * this.c)
		};
		b.prototype.getWorldScaleY = function() {
			return Math.sqrt(this.b * this.b + this.d * this.d)
		};
		b.prototype.worldToLocalRotationX = function() {
			var b = this.parent;
			if (null == b) return this.arotation;
			var c = this.a,
				f = this.c;
			return Math.atan2(b.a * f - b.c * c, b.d * c - b.b * f) * a.MathUtils.radDeg
		};
		b.prototype.worldToLocalRotationY =
			function() {
				var b = this.parent;
				if (null == b) return this.arotation;
				var c = this.b,
					f = this.d;
				return Math.atan2(b.a * f - b.c * c, b.d * c - b.b * f) * a.MathUtils.radDeg
			};
		b.prototype.rotateWorld = function(b) {
			var c = this.a,
				f = this.b,
				g = this.c,
				h = this.d,
				k = a.MathUtils.cosDeg(b);
			b = a.MathUtils.sinDeg(b);
			this.a = k * c - b * g;
			this.b = k * f - b * h;
			this.c = b * c + k * g;
			this.d = b * f + k * h;
			this.appliedValid = !1
		};
		b.prototype.updateAppliedTransform = function() {
			this.appliedValid = !0;
			var b = this.parent;
			if (null == b) this.ax = this.worldX, this.ay = this.worldY, this.arotation =
				Math.atan2(this.c, this.a) * a.MathUtils.radDeg, this.ascaleX = Math.sqrt(this.a * this.a + this.c * this.c), this.ascaleY = Math.sqrt(this.b * this.b + this.d * this.d), this.ashearX = 0, this.ashearY = Math.atan2(this.a * this.b + this.c * this.d, this.a * this.d - this.b * this.c) * a.MathUtils.radDeg;
			else {
				var c = b.a,
					f = b.b,
					g = b.c,
					h = b.d,
					k = 1 / (c * h - f * g),
					m = this.worldX - b.worldX,
					b = this.worldY - b.worldY;
				this.ax = m * h * k - b * f * k;
				this.ay = b * c * k - m * g * k;
				h *= k;
				c *= k;
				f *= k;
				k *= g;
				g = h * this.a - f * this.c;
				f = h * this.b - f * this.d;
				h = c * this.c - k * this.a;
				k = c * this.d - k * this.b;
				this.ashearX =
					0;
				this.ascaleX = Math.sqrt(g * g + h * h);
				1E-4 < this.ascaleX ? (c = g * k - f * h, this.ascaleY = c / this.ascaleX, this.ashearY = Math.atan2(g * f + h * k, c) * a.MathUtils.radDeg, this.arotation = Math.atan2(h, g) * a.MathUtils.radDeg) : (this.ascaleX = 0, this.ascaleY = Math.sqrt(f * f + k * k), this.ashearY = 0, this.arotation = 90 - Math.atan2(k, f) * a.MathUtils.radDeg)
			}
		};
		b.prototype.worldToLocal = function(a) {
			var b = this.a,
				c = this.b,
				g = this.c,
				h = this.d,
				k = 1 / (b * h - c * g),
				m = a.x - this.worldX,
				n = a.y - this.worldY;
			a.x = m * h * k - n * c * k;
			a.y = n * b * k - m * g * k;
			return a
		};
		b.prototype.localToWorld =
			function(a) {
				var b = a.x,
					c = a.y;
				a.x = b * this.a + c * this.b + this.worldX;
				a.y = b * this.c + c * this.d + this.worldY;
				return a
			};
		return b
	}();
	a.Bone = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		return function(a, b, f) {
			this.rotation = this.y = this.x = 0;
			this.scaleY = this.scaleX = 1;
			this.shearY = this.shearX = 0;
			this.transformMode = c.Normal;
			if (0 > a) throw Error("index must be \x3e\x3d 0.");
			if (null == b) throw Error("name cannot be null.");
			this.index = a;
			this.name = b;
			this.parent = f
		}
	}();
	a.BoneData = b;
	(function(a) {
		a[a.Normal = 0] = "Normal";
		a[a.OnlyTranslation = 1] = "OnlyTranslation";
		a[a.NoRotationOrReflection = 2] = "NoRotationOrReflection";
		a[a.NoScale = 3] = "NoScale";
		a[a.NoScaleOrReflection = 4] = "NoScaleOrReflection"
	})(a.TransformMode ||
		(a.TransformMode = {}));
	var c = a.TransformMode
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		return function(a, b) {
			if (null == b) throw Error("data cannot be null.");
			this.time = a;
			this.data = b
		}
	}();
	a.Event = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		return function(a) {
			this.name = a
		}
	}();
	a.EventData = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(a, c) {
			this.mix = 1;
			this.bendDirection = 0;
			if (null == a) throw Error("data cannot be null.");
			if (null == c) throw Error("skeleton cannot be null.");
			this.data = a;
			this.mix = a.mix;
			this.bendDirection = a.bendDirection;
			this.bones = [];
			for (var f = 0; f < a.bones.length; f++) this.bones.push(c.findBone(a.bones[f].name));
			this.target = c.findBone(a.target.name)
		}
		b.prototype.getOrder = function() {
			return this.data.order
		};
		b.prototype.apply = function() {
			this.update()
		};
		b.prototype.update = function() {
			var a =
				this.target,
				b = this.bones;
			switch (b.length) {
				case 1:
					this.apply1(b[0], a.worldX, a.worldY, this.mix);
					break;
				case 2:
					this.apply2(b[0], b[1], a.worldX, a.worldY, this.bendDirection, this.mix)
			}
		};
		b.prototype.apply1 = function(b, c, f, g) {
			b.appliedValid || b.updateAppliedTransform();
			var h = b.parent,
				k = 1 / (h.a * h.d - h.b * h.c);
			c -= h.worldX;
			f -= h.worldY;
			h = Math.atan2((f * h.a - c * h.c) * k - b.ay, (c * h.d - f * h.b) * k - b.ax) * a.MathUtils.radDeg - b.ashearX - b.arotation;
			0 > b.ascaleX && (h += 180);
			180 < h ? h -= 360 : -180 > h && (h += 360);
			b.updateWorldTransformWith(b.ax, b.ay,
				b.arotation + h * g, b.ascaleX, b.ascaleY, b.ashearX, b.ashearY)
		};
		b.prototype.apply2 = function(b, c, f, g, h, k) {
			if (0 == k) c.updateWorldTransform();
			else {
				b.appliedValid || b.updateAppliedTransform();
				c.appliedValid || c.updateAppliedTransform();
				var m = b.ax,
					n = b.ay,
					p = b.ascaleX,
					r = b.ascaleY,
					t = c.ascaleX,
					u = 0,
					s = 0,
					w = 0;
				0 > p ? (p = -p, u = 180, w = -1) : (u = 0, w = 1);
				0 > r && (r = -r, w = -w);
				0 > t ? (t = -t, s = 180) : s = 0;
				var v = c.ax,
					x = 0,
					A = 0,
					z = 0,
					y = b.a,
					B = b.b,
					C = b.c,
					D = b.d,
					I = 1E-4 >= Math.abs(p - r);
				I ? (x = c.ay, A = y * v + B * x + b.worldX, z = C * v + D * x + b.worldY) : (x = 0, A = y * v + b.worldX, z = C *
					v + b.worldY);
				var E = b.parent,
					y = E.a,
					B = E.b,
					C = E.c,
					D = E.d,
					F = 1 / (y * D - B * C);
				f -= E.worldX;
				g -= E.worldY;
				var K = (f * D - g * B) * F - m,
					G = (g * y - f * C) * F - n;
				f = A - E.worldX;
				g = z - E.worldY;
				B = (f * D - g * B) * F - m;
				y = (g * y - f * C) * F - n;
				F = Math.sqrt(B * B + y * y);
				B = c.data.length * t;
				D = y = 0;
				a: if (I) B *= p, y = (K * K + G * G - F * F - B * B) / (2 * F * B), -1 > y ? y = -1 : 1 < y && (y = 1), D = Math.acos(y) * h, y = F + B * y, B *= Math.sin(D), y = Math.atan2(G * y - K * B, K * y + G * B);
					else {
						y = p * B;
						B *= r;
						g = y * y;
						t = B * B;
						I = K * K + G * G;
						K = Math.atan2(G, K);
						C = t * F * F + g * I - g * t;
						f = -2 * t * F;
						G = t - g;
						D = f * f - 4 * G * C;
						if (0 <= D && (D = Math.sqrt(D), 0 > f && (D = -D), D = -(f +
								D) / 2, f = D / G, D = C / D, D = Math.abs(f) < Math.abs(D) ? f : D, D * D <= I)) {
							g = Math.sqrt(I - D * D) * h;
							y = K - Math.atan2(g, D);
							D = Math.atan2(g / r, (D - F) / p);
							break a
						}
						var p = 0,
							C = Number.MAX_VALUE,
							H = E = z = r = A = G = 0;
						f = F + y;
						D = f * f;
						D > z && (r = 0, z = D, E = f);
						f = F - y;
						D = f * f;
						D < C && (p = a.MathUtils.PI, C = D, G = f);
						t = Math.acos(-y * F / (g - t));
						f = y * Math.cos(t) + F;
						g = B * Math.sin(t);
						D = f * f + g * g;
						D < C && (p = t, C = D, G = f, A = g);
						D > z && (r = t, z = D, E = f, H = g);
						I <= (C + z) / 2 ? (y = K - Math.atan2(A * h, G), D = p * h) : (y = K - Math.atan2(H * h, E), D = r * h)
					} h = Math.atan2(x, v) * w;
				B = b.arotation;
				y = (y - h) * a.MathUtils.radDeg + u - B;
				180 <
					y ? y -= 360 : -180 > y && (y += 360);
				b.updateWorldTransformWith(m, n, B + y * k, b.ascaleX, b.ascaleY, 0, 0);
				B = c.arotation;
				D = ((D + h) * a.MathUtils.radDeg - c.ashearX) * w + s - B;
				180 < D ? D -= 360 : -180 > D && (D += 360);
				c.updateWorldTransformWith(v, x, B + D * k, c.ascaleX, c.ascaleY, c.ashearX, c.ashearY)
			}
		};
		return b
	}();
	a.IkConstraint = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		return function(a) {
			this.order = 0;
			this.bones = [];
			this.mix = this.bendDirection = 1;
			this.name = a
		}
	}();
	a.IkConstraintData = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(a, c) {
			this.translateMix = this.rotateMix = this.spacing = this.position = 0;
			this.spaces = [];
			this.positions = [];
			this.world = [];
			this.curves = [];
			this.lengths = [];
			this.segments = [];
			if (null == a) throw Error("data cannot be null.");
			if (null == c) throw Error("skeleton cannot be null.");
			this.data = a;
			this.bones = [];
			for (var f = 0, g = a.bones.length; f < g; f++) this.bones.push(c.findBone(a.bones[f].name));
			this.target = c.findSlot(a.target.name);
			this.position = a.position;
			this.spacing = a.spacing;
			this.rotateMix =
				a.rotateMix;
			this.translateMix = a.translateMix
		}
		b.prototype.apply = function() {
			this.update()
		};
		b.prototype.update = function() {
			var b = this.target.getAttachment();
			if (b instanceof a.PathAttachment) {
				var c = this.rotateMix,
					f = this.translateMix,
					g = 0 < c;
				if (0 < f || g) {
					var h = this.data,
						k = h.spacingMode,
						m = k == a.SpacingMode.Length,
						n = h.rotateMode,
						p = n == a.RotateMode.Tangent,
						r = n == a.RotateMode.ChainScale,
						t = this.bones.length,
						u = p ? t : t + 1,
						s = this.bones,
						w = a.Utils.setArraySize(this.spaces, u),
						v = null,
						x = this.spacing;
					if (r || m) {
						r && (v = a.Utils.setArraySize(this.lengths,
							t));
						for (var A = 0, z = u - 1; A < z;) {
							var y = s[A],
								B = y.data.length,
								C = B * y.a,
								B = B * y.c,
								B = Math.sqrt(C * C + B * B);
							r && (v[A] = B);
							w[++A] = m ? Math.max(0, B + x) : x
						}
					} else
						for (A = 1; A < u; A++) w[A] = x;
					b = this.computeWorldPositions(b, u, p, h.positionMode == a.PositionMode.Percent, k == a.SpacingMode.Percent);
					m = b[0];
					u = b[1];
					h = h.offsetRotation;
					k = !1;
					0 == h ? k = n == a.RotateMode.Chain : (k = !1, n = this.target.bone, h *= 0 < n.a * n.d - n.b * n.c ? a.MathUtils.degRad : -a.MathUtils.degRad);
					A = 0;
					for (n = 3; A < t; A++, n += 3) {
						y = s[A];
						y.worldX += (m - y.worldX) * f;
						y.worldY += (u - y.worldY) * f;
						C = b[n];
						B = b[n + 1];
						x = C - m;
						z = B - u;
						r && (m = v[A], 0 != m && (m = (Math.sqrt(x * x + z * z) / m - 1) * c + 1, y.a *= m, y.c *= m));
						m = C;
						u = B;
						if (g) {
							var C = y.a,
								B = y.b,
								D = y.c,
								I = y.d,
								E = 0,
								F = 0,
								K = 0,
								E = p ? b[n - 1] : 0 == w[A + 1] ? b[n + 2] : Math.atan2(z, x),
								E = E - Math.atan2(D, C);
							if (k) var F = Math.cos(E),
								K = Math.sin(E),
								G = y.data.length,
								m = m + (G * (F * C - K * D) - x) * c,
								u = u + (G * (K * C + F * D) - z) * c;
							else E += h;
							E > a.MathUtils.PI ? E -= a.MathUtils.PI2 : E < -a.MathUtils.PI && (E += a.MathUtils.PI2);
							E *= c;
							F = Math.cos(E);
							K = Math.sin(E);
							y.a = F * C - K * D;
							y.b = F * B - K * I;
							y.c = K * C + F * D;
							y.d = K * B + F * I
						}
						y.appliedValid = !1
					}
				}
			}
		};
		b.prototype.computeWorldPositions =
			function(d, e, f, g, h) {
				var k = this.target,
					m = this.position,
					n = this.spaces,
					p = a.Utils.setArraySize(this.positions, 3 * e + 2),
					r = null,
					t = d.closed,
					u = d.worldVerticesLength,
					s = u / 6,
					w = b.NONE;
				if (!d.constantSpeed) {
					var v = d.lengths,
						s = s - (t ? 1 : 2),
						x = v[s];
					g && (m *= x);
					if (h)
						for (var A = 0; A < e; A++) n[A] *= x;
					r = a.Utils.setArraySize(this.world, 8);
					for (h = g = A = 0; A < e; A++, g += 3) {
						var z = n[A],
							y = m += z;
						if (t) y %= x, 0 > y && (y += x), h = 0;
						else if (0 > y) {
							w != b.BEFORE && (w = b.BEFORE, d.computeWorldVerticesWith(k, 2, 4, r, 0));
							this.addBeforePosition(y, r, 0, p, g);
							continue
						} else if (y >
							x) {
							w != b.AFTER && (w = b.AFTER, d.computeWorldVerticesWith(k, u - 6, 4, r, 0));
							this.addAfterPosition(y - x, r, 0, p, g);
							continue
						}
						for (;; h++) {
							var B = v[h];
							if (!(y > B)) {
								if (0 == h) y /= B;
								else var C = v[h - 1],
									y = (y - C) / (B - C);
								break
							}
						}
						h != w && (w = h, t && h == s ? (d.computeWorldVerticesWith(k, u - 4, 4, r, 0), d.computeWorldVerticesWith(k, 0, 4, r, 4)) : d.computeWorldVerticesWith(k, 6 * h + 2, 8, r, 0));
						this.addCurvePosition(y, r[0], r[1], r[2], r[3], r[4], r[5], r[6], r[7], p, g, f || 0 < A && 0 == z)
					}
					return p
				}
				t ? (u += 2, r = a.Utils.setArraySize(this.world, u), d.computeWorldVerticesWith(k,
					2, u - 4, r, 0), d.computeWorldVerticesWith(k, 0, 2, r, u - 4), r[u - 2] = r[0], r[u - 1] = r[1]) : (s--, u -= 4, r = a.Utils.setArraySize(this.world, u), d.computeWorldVerticesWith(k, 2, u, r, 0));
				d = a.Utils.setArraySize(this.curves, s);
				for (var k = 0, v = r[0], x = r[1], D = B = 0, I = 0, E = 0, F = 0, K = 0, G = 0, H = 0, M = C = 0, J = 0, N = 0, A = H = G = 0, z = 2; A < s; A++, z += 6) B = r[z], D = r[z + 1], I = r[z + 2], E = r[z + 3], F = r[z + 4], K = r[z + 5], G = 0.1875 * (v - 2 * B + I), H = 0.1875 * (x - 2 * D + E), C = 0.09375 * (3 * (B - I) - v + F), M = 0.09375 * (3 * (D - E) - x + K), J = 2 * G + C, N = 2 * H + M, G = 0.75 * (B - v) + G + 0.16666667 * C, H = 0.75 * (D - x) + H + 0.16666667 *
					M, k += Math.sqrt(G * G + H * H), G += J, H += N, J += C, N += M, k += Math.sqrt(G * G + H * H), G += J, H += N, k += Math.sqrt(G * G + H * H), G += J + C, H += N + M, k += Math.sqrt(G * G + H * H), d[A] = k, v = F, x = K;
				g && (m *= k);
				if (h)
					for (A = 0; A < e; A++) n[A] *= k;
				for (var s = this.segments, L = 0, M = h = g = A = 0; A < e; A++, g += 3) {
					z = n[A];
					y = m += z;
					if (t) y %= k, 0 > y && (y += k), h = 0;
					else if (0 > y) {
						this.addBeforePosition(y, r, 0, p, g);
						continue
					} else if (y > k) {
						this.addAfterPosition(y - k, r, u - 4, p, g);
						continue
					}
					for (;; h++)
						if (J = d[h], !(y > J)) {
							0 == h ? y /= J : (C = d[h - 1], y = (y - C) / (J - C));
							break
						} if (h != w) {
						var w = h,
							O = 6 * h,
							v = r[O],
							x = r[O + 1],
							B = r[O + 2],
							D = r[O + 3],
							I = r[O + 4],
							E = r[O + 5],
							F = r[O + 6],
							K = r[O + 7],
							G = 0.03 * (v - 2 * B + I),
							H = 0.03 * (x - 2 * D + E),
							C = 0.006 * (3 * (B - I) - v + F),
							M = 0.006 * (3 * (D - E) - x + K),
							J = 2 * G + C,
							N = 2 * H + M,
							G = 0.3 * (B - v) + G + 0.16666667 * C,
							H = 0.3 * (D - x) + H + 0.16666667 * M,
							L = Math.sqrt(G * G + H * H);
						s[0] = L;
						for (O = 1; 8 > O; O++) G += J, H += N, J += C, N += M, L += Math.sqrt(G * G + H * H), s[O] = L;
						G += J;
						H += N;
						L += Math.sqrt(G * G + H * H);
						s[8] = L;
						G += J + C;
						H += N + M;
						L += Math.sqrt(G * G + H * H);
						s[9] = L;
						M = 0
					}
					for (y *= L;; M++)
						if (J = s[M], !(y > J)) {
							0 == M ? y /= J : (C = s[M - 1], y = M + (y - C) / (J - C));
							break
						} this.addCurvePosition(0.1 * y, v, x, B, D, I, E, F, K, p,
						g, f || 0 < A && 0 == z)
				}
				return p
			};
		b.prototype.addBeforePosition = function(a, b, c, g, h) {
			var k = b[c],
				m = b[c + 1];
			b = Math.atan2(b[c + 3] - m, b[c + 2] - k);
			g[h] = k + a * Math.cos(b);
			g[h + 1] = m + a * Math.sin(b);
			g[h + 2] = b
		};
		b.prototype.addAfterPosition = function(a, b, c, g, h) {
			var k = b[c + 2],
				m = b[c + 3];
			b = Math.atan2(m - b[c + 1], k - b[c]);
			g[h] = k + a * Math.cos(b);
			g[h + 1] = m + a * Math.sin(b);
			g[h + 2] = b
		};
		b.prototype.addCurvePosition = function(a, b, c, g, h, k, m, n, p, r, t, u) {
			if (0 == a || isNaN(a)) a = 1E-4;
			var s = a * a,
				w = s * a,
				v = 1 - a,
				x = v * v,
				A = x * v,
				z = v * a,
				y = 3 * z,
				v = v * y;
			a *= y;
			n = b * A + g * v + k * a + n * w;
			p =
				c * A + h * v + m * a + p * w;
			r[t] = n;
			r[t + 1] = p;
			u && (r[t + 2] = Math.atan2(p - (c * x + h * z * 2 + m * s), n - (b * x + g * z * 2 + k * s)))
		};
		b.prototype.getOrder = function() {
			return this.data.order
		};
		b.NONE = -1;
		b.BEFORE = -2;
		b.AFTER = -3;
		return b
	}();
	a.PathConstraint = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		return function(a) {
			this.order = 0;
			this.bones = [];
			this.name = a
		}
	}();
	a.PathConstraintData = b;
	(function(a) {
		a[a.Fixed = 0] = "Fixed";
		a[a.Percent = 1] = "Percent"
	})(a.PositionMode || (a.PositionMode = {}));
	(function(a) {
		a[a.Length = 0] = "Length";
		a[a.Fixed = 1] = "Fixed";
		a[a.Percent = 2] = "Percent"
	})(a.SpacingMode || (a.SpacingMode = {}));
	(function(a) {
		a[a.Tangent = 0] = "Tangent";
		a[a.Chain = 1] = "Chain";
		a[a.ChainScale = 2] = "ChainScale"
	})(a.RotateMode || (a.RotateMode = {}))
})(spine || (spine = {}));
(function(a) {
	var b = function() {
			function a(b) {
				this.toLoad = [];
				this.assets = {};
				this.clientId = b
			}
			a.prototype.loaded = function() {
				var a = 0,
					b;
				for (b in this.assets) a++;
				return a
			};
			return a
		}(),
		c = function() {
			function a(b) {
				void 0 === b && (b = "");
				this.clientAssets = {};
				this.queuedAssets = {};
				this.rawAssets = {};
				this.errors = {};
				this.pathPrefix = b
			}
			a.prototype.queueAsset = function(a, c, d) {
				var h = this.clientAssets[a];
				if (null === h || void 0 === h) h = new b(a), this.clientAssets[a] = h;
				null !== c && (h.textureLoader = c);
				h.toLoad.push(d);
				if (this.queuedAssets[d] ===
					d) return !1;
				this.queuedAssets[d] = d;
				return !0
			};
			a.prototype.loadText = function(a, b) {
				var c = this;
				b = this.pathPrefix + b;
				if (this.queueAsset(a, null, b)) {
					var d = new XMLHttpRequest;
					d.onreadystatechange = function() {
						d.readyState == XMLHttpRequest.DONE && (200 <= d.status && 300 > d.status ? c.rawAssets[b] = d.responseText : c.errors[b] = "Couldn't load text " + b + ": status " + d.status + ", " + d.responseText)
					};
					d.open("GET", b, !0);
					d.send()
				}
			};
			a.prototype.loadJson = function(a, b) {
				var c = this;
				b = this.pathPrefix + b;
				if (this.queueAsset(a, null, b)) {
					var d =
						new XMLHttpRequest;
					d.onreadystatechange = function() {
						d.readyState == XMLHttpRequest.DONE && (200 <= d.status && 300 > d.status ? c.rawAssets[b] = JSON.parse(d.responseText) : c.errors[b] = "Couldn't load text " + b + ": status " + d.status + ", " + d.responseText)
					};
					d.open("GET", b, !0);
					d.send()
				}
			};
			a.prototype.loadTexture = function(a, b, c) {
				var d = this;
				c = this.pathPrefix + c;
				if (this.queueAsset(a, b, c)) {
					var k = new Image;
					k.src = c;
					k.crossOrigin = "anonymous";
					k.onload = function(a) {
						d.rawAssets[c] = k
					};
					k.onerror = function(a) {
						d.errors[c] = "Couldn't load image " +
							c
					}
				}
			};
			a.prototype.get = function(a, b) {
				b = this.pathPrefix + b;
				var c = this.clientAssets[a];
				return null === c || void 0 === c ? !0 : c.assets[b]
			};
			a.prototype.updateClientAssets = function(a) {
				for (var b = 0; b < a.toLoad.length; b++) {
					var c = a.toLoad[b],
						d = a.assets[c];
					if (null === d || void 0 === d) d = this.rawAssets[c], null !== d && void 0 !== d && (a.assets[c] = d instanceof HTMLImageElement ? a.textureLoader(d) : d)
				}
			};
			a.prototype.isLoadingComplete = function(a) {
				a = this.clientAssets[a];
				if (null === a || void 0 === a) return !0;
				this.updateClientAssets(a);
				return a.toLoad.length ==
					a.loaded()
			};
			a.prototype.dispose = function() {};
			a.prototype.hasErrors = function() {
				return 0 < Object.keys(this.errors).length
			};
			a.prototype.getErrors = function() {
				return this.errors
			};
			return a
		}();
	a.SharedAssetManager = c
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(c) {
			this._updateCache = [];
			this.updateCacheReset = [];
			this.time = 0;
			this.flipY = this.flipX = !1;
			this.y = this.x = 0;
			if (null == c) throw Error("data cannot be null.");
			this.data = c;
			this.bones = [];
			for (var e = 0; e < c.bones.length; e++) {
				var f = c.bones[e],
					g = void 0;
				if (null == f.parent) g = new a.Bone(f, this, null);
				else {
					var h = this.bones[f.parent.index],
						g = new a.Bone(f, this, h);
					h.children.push(g)
				}
				this.bones.push(g)
			}
			this.slots = [];
			this.drawOrder = [];
			for (e = 0; e < c.slots.length; e++) f = c.slots[e], g = this.bones[f.boneData.index],
				g = new a.Slot(f, g), this.slots.push(g), this.drawOrder.push(g);
			this.ikConstraints = [];
			for (e = 0; e < c.ikConstraints.length; e++) this.ikConstraints.push(new a.IkConstraint(c.ikConstraints[e], this));
			this.transformConstraints = [];
			for (e = 0; e < c.transformConstraints.length; e++) this.transformConstraints.push(new a.TransformConstraint(c.transformConstraints[e], this));
			this.pathConstraints = [];
			for (e = 0; e < c.pathConstraints.length; e++) this.pathConstraints.push(new a.PathConstraint(c.pathConstraints[e], this));
			this.color = new a.Color(1,
				1, 1, 1);
			this.updateCache()
		}
		b.prototype.updateCache = function() {
			this._updateCache.length = 0;
			for (var a = this.bones, b = 0, c = a.length; b < c; b++) a[b].sorted = !1;
			var c = this.ikConstraints,
				g = this.transformConstraints,
				h = this.pathConstraints,
				k = c.length,
				m = g.length,
				n = h.length,
				p = k + m + n,
				b = 0;
			a: for (; b < p; b++) {
				for (var r = 0; r < k; r++) {
					var t = c[r];
					if (t.data.order == b) {
						this.sortIkConstraint(t);
						continue a
					}
				}
				for (r = 0; r < m; r++)
					if (t = g[r], t.data.order == b) {
						this.sortTransformConstraint(t);
						continue a
					} for (r = 0; r < n; r++)
					if (t = h[r], t.data.order == b) {
						this.sortPathConstraint(t);
						continue a
					}
			}
			b = 0;
			for (c = a.length; b < c; b++) this.sortBone(a[b])
		};
		b.prototype.sortIkConstraint = function(a) {
			this.sortBone(a.target);
			var b = a.bones,
				c = b[0];
			this.sortBone(c);
			if (1 < b.length) {
				var g = b[b.length - 1]; - 1 < this._updateCache.indexOf(g) || this.updateCacheReset.push(g)
			}
			this._updateCache.push(a);
			this.sortReset(c.children);
			b[b.length - 1].sorted = !0
		};
		b.prototype.sortPathConstraint = function(b) {
			var c = b.target,
				f = c.data.index,
				g = c.bone;
			null != this.skin && this.sortPathConstraintAttachment(this.skin, f, g);
			null != this.data.defaultSkin &&
				this.data.defaultSkin != this.skin && this.sortPathConstraintAttachment(this.data.defaultSkin, f, g);
			for (var h = 0, k = this.data.skins.length; h < k; h++) this.sortPathConstraintAttachment(this.data.skins[h], f, g);
			h = c.getAttachment();
			h instanceof a.PathAttachment && this.sortPathConstraintAttachmentWith(h, g);
			g = b.bones;
			c = g.length;
			for (h = 0; h < c; h++) this.sortBone(g[h]);
			this._updateCache.push(b);
			for (h = 0; h < c; h++) this.sortReset(g[h].children);
			for (h = 0; h < c; h++) g[h].sorted = !0
		};
		b.prototype.sortTransformConstraint = function(a) {
			this.sortBone(a.target);
			for (var b = a.bones, c = b.length, g = 0; g < c; g++) this.sortBone(b[g]);
			this._updateCache.push(a);
			for (g = 0; g < c; g++) this.sortReset(b[g].children);
			for (g = 0; g < c; g++) b[g].sorted = !0
		};
		b.prototype.sortPathConstraintAttachment = function(a, b, c) {
			if (a = a.attachments[b])
				for (var g in a) this.sortPathConstraintAttachmentWith(a[g], c)
		};
		b.prototype.sortPathConstraintAttachmentWith = function(b, c) {
			if (b instanceof a.PathAttachment) {
				var f = b.bones;
				if (null == f) this.sortBone(c);
				else
					for (var g = this.bones, h = 0; h < f.length;)
						for (var k = f[h++], k =
								h + k; h < k; h++) this.sortBone(g[f[h]])
			}
		};
		b.prototype.sortBone = function(a) {
			if (!a.sorted) {
				var b = a.parent;
				null != b && this.sortBone(b);
				a.sorted = !0;
				this._updateCache.push(a)
			}
		};
		b.prototype.sortReset = function(a) {
			for (var b = 0, c = a.length; b < c; b++) {
				var g = a[b];
				g.sorted && this.sortReset(g.children);
				g.sorted = !1
			}
		};
		b.prototype.updateWorldTransform = function() {
			for (var a = this.updateCacheReset, b = 0, c = a.length; b < c; b++) {
				var g = a[b];
				g.ax = g.x;
				g.ay = g.y;
				g.arotation = g.rotation;
				g.ascaleX = g.scaleX;
				g.ascaleY = g.scaleY;
				g.ashearX = g.shearX;
				g.ashearY = g.shearY;
				g.appliedValid = !0
			}
			a = this._updateCache;
			b = 0;
			for (c = a.length; b < c; b++) a[b].update()
		};
		b.prototype.setToSetupPose = function() {
			this.setBonesToSetupPose();
			this.setSlotsToSetupPose()
		};
		b.prototype.setBonesToSetupPose = function() {
			for (var a = this.bones, b = 0, c = a.length; b < c; b++) a[b].setToSetupPose();
			for (var g = this.ikConstraints, b = 0, c = g.length; b < c; b++) a = g[b], a.bendDirection = a.data.bendDirection, a.mix = a.data.mix;
			for (var h = this.transformConstraints, b = 0, c = h.length; b < c; b++) a = h[b], g = a.data, a.rotateMix =
				g.rotateMix, a.translateMix = g.translateMix, a.scaleMix = g.scaleMix, a.shearMix = g.shearMix;
			h = this.pathConstraints;
			b = 0;
			for (c = h.length; b < c; b++) a = h[b], g = a.data, a.position = g.position, a.spacing = g.spacing, a.rotateMix = g.rotateMix, a.translateMix = g.translateMix
		};
		b.prototype.setSlotsToSetupPose = function() {
			var b = this.slots;
			a.Utils.arrayCopy(b, 0, this.drawOrder, 0, b.length);
			for (var c = 0, f = b.length; c < f; c++) b[c].setToSetupPose()
		};
		b.prototype.getRootBone = function() {
			return 0 == this.bones.length ? null : this.bones[0]
		};
		b.prototype.findBone =
			function(a) {
				if (null == a) throw Error("boneName cannot be null.");
				for (var b = this.bones, c = 0, g = b.length; c < g; c++) {
					var h = b[c];
					if (h.data.name == a) return h
				}
				return null
			};
		b.prototype.findBoneIndex = function(a) {
			if (null == a) throw Error("boneName cannot be null.");
			for (var b = this.bones, c = 0, g = b.length; c < g; c++)
				if (b[c].data.name == a) return c;
			return -1
		};
		b.prototype.findSlot = function(a) {
			if (null == a) throw Error("slotName cannot be null.");
			for (var b = this.slots, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.data.name == a) return h
			}
			return null
		};
		b.prototype.findSlotIndex = function(a) {
			if (null == a) throw Error("slotName cannot be null.");
			for (var b = this.slots, c = 0, g = b.length; c < g; c++)
				if (b[c].data.name == a) return c;
			return -1
		};
		b.prototype.setSkinByName = function(a) {
			var b = this.data.findSkin(a);
			if (null == b) throw Error("Skin not found: " + a);
			this.setSkin(b)
		};
		b.prototype.setSkin = function(a) {
			if (null != a)
				if (null != this.skin) a.attachAll(this, this.skin);
				else
					for (var b = this.slots, c = 0, g = b.length; c < g; c++) {
						var h = b[c],
							k = h.data.attachmentName;
						null != k && (k = a.getAttachment(c,
							k), null != k && h.setAttachment(k))
					}
			this.skin = a
		};
		b.prototype.getAttachmentByName = function(a, b) {
			return this.getAttachment(this.data.findSlotIndex(a), b)
		};
		b.prototype.getAttachment = function(a, b) {
			if (null == b) throw Error("attachmentName cannot be null.");
			if (null != this.skin) {
				var c = this.skin.getAttachment(a, b);
				if (null != c) return c
			}
			return null != this.data.defaultSkin ? this.data.defaultSkin.getAttachment(a, b) : null
		};
		b.prototype.setAttachment = function(a, b) {
			if (null == a) throw Error("slotName cannot be null.");
			for (var c =
					this.slots, g = 0, h = c.length; g < h; g++) {
				var k = c[g];
				if (k.data.name == a) {
					c = null;
					if (null != b && (c = this.getAttachment(g, b), null == c)) throw Error("Attachment not found: " + b + ", for slot: " + a);
					k.setAttachment(c);
					return
				}
			}
			throw Error("Slot not found: " + a);
		};
		b.prototype.findIkConstraint = function(a) {
			if (null == a) throw Error("constraintName cannot be null.");
			for (var b = this.ikConstraints, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.data.name == a) return h
			}
			return null
		};
		b.prototype.findTransformConstraint = function(a) {
			if (null == a) throw Error("constraintName cannot be null.");
			for (var b = this.transformConstraints, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.data.name == a) return h
			}
			return null
		};
		b.prototype.findPathConstraint = function(a) {
			if (null == a) throw Error("constraintName cannot be null.");
			for (var b = this.pathConstraints, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.data.name == a) return h
			}
			return null
		};
		b.prototype.getBounds = function(b, c) {
			if (null == b) throw Error("offset cannot be null.");
			if (null == c) throw Error("size cannot be null.");
			for (var f = this.drawOrder, g = Number.POSITIVE_INFINITY,
					h = Number.POSITIVE_INFINITY, k = Number.NEGATIVE_INFINITY, m = Number.NEGATIVE_INFINITY, n = 0, p = f.length; n < p; n++) {
				var r = f[n],
					t = null,
					u = r.getAttachment();
				u instanceof a.RegionAttachment ? t = u.updateWorldVertices(r, !1) : u instanceof a.MeshAttachment && (t = u.updateWorldVertices(r, !0));
				if (null != t)
					for (r = 0, u = t.length; r < u; r += 8) var s = t[r],
						w = t[r + 1],
						g = Math.min(g, s),
						h = Math.min(h, w),
						k = Math.max(k, s),
						m = Math.max(m, w)
			}
			b.set(g, h);
			c.set(k - g, m - h)
		};
		b.prototype.update = function(a) {
			this.time += a
		};
		return b
	}();
	a.Skeleton = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b() {
			this.maxY = this.maxX = this.minY = this.minX = 0;
			this.boundingBoxes = [];
			this.polygons = [];
			this.polygonPool = new a.Pool(function() {
				return a.Utils.newFloatArray(16)
			})
		}
		b.prototype.update = function(b, c) {
			if (null == b) throw Error("skeleton cannot be null.");
			var f = this.boundingBoxes,
				g = this.polygons,
				h = this.polygonPool,
				k = b.slots,
				m = k.length;
			f.length = 0;
			h.freeAll(g);
			for (var n = g.length = 0; n < m; n++) {
				var p = k[n],
					r = p.getAttachment();
				if (r instanceof a.BoundingBoxAttachment) {
					f.push(r);
					var t =
						h.obtain();
					t.length != r.worldVerticesLength && (t = a.Utils.newFloatArray(r.worldVerticesLength));
					g.push(t);
					r.computeWorldVertices(p, t)
				}
			}
			c ? this.aabbCompute() : (this.minY = this.minX = Number.POSITIVE_INFINITY, this.maxY = this.maxX = Number.NEGATIVE_INFINITY)
		};
		b.prototype.aabbCompute = function() {
			for (var a = Number.POSITIVE_INFINITY, b = Number.POSITIVE_INFINITY, c = Number.NEGATIVE_INFINITY, g = Number.NEGATIVE_INFINITY, h = this.polygons, k = 0, m = h.length; k < m; k++)
				for (var n = h[k], p = n, r = 0, n = n.length; r < n; r += 2) var t = p[r],
					u = p[r + 1],
					a =
					Math.min(a, t),
					b = Math.min(b, u),
					c = Math.max(c, t),
					g = Math.max(g, u);
			this.minX = a;
			this.minY = b;
			this.maxX = c;
			this.maxY = g
		};
		b.prototype.aabbContainsPoint = function(a, b) {
			return a >= this.minX && a <= this.maxX && b >= this.minY && b <= this.maxY
		};
		b.prototype.aabbIntersectsSegment = function(a, b, c, g) {
			var h = this.minX,
				k = this.minY,
				m = this.maxX,
				n = this.maxY;
			if (a <= h && c <= h || b <= k && g <= k || a >= m && c >= m || b >= n && g >= n) return !1;
			c = (g - b) / (c - a);
			g = c * (h - a) + b;
			if (g > k && g < n) return !0;
			g = c * (m - a) + b;
			if (g > k && g < n) return !0;
			k = (k - b) / c + a;
			if (k > h && k < m) return !0;
			k = (n - b) /
				c + a;
			return k > h && k < m ? !0 : !1
		};
		b.prototype.aabbIntersectsSkeleton = function(a) {
			return this.minX < a.maxX && this.maxX > a.minX && this.minY < a.maxY && this.maxY > a.minY
		};
		b.prototype.containsPoint = function(a, b) {
			for (var c = this.polygons, g = 0, h = c.length; g < h; g++)
				if (this.containsPointPolygon(c[g], a, b)) return this.boundingBoxes[g];
			return null
		};
		b.prototype.containsPointPolygon = function(a, b, c) {
			for (var g = a.length, h = g - 2, k = !1, m = 0; m < g; m += 2) {
				var n = a[m + 1],
					p = a[h + 1];
				if (n < c && p >= c || p < c && n >= c) {
					var r = a[m];
					r + (c - n) / (p - n) * (a[h] - r) < b && (k = !k)
				}
				h = m
			}
			return k
		};
		b.prototype.intersectsSegment = function(a, b, c, g) {
			for (var h = this.polygons, k = 0, m = h.length; k < m; k++)
				if (this.intersectsSegmentPolygon(h[k], a, b, c, g)) return this.boundingBoxes[k];
			return null
		};
		b.prototype.intersectsSegmentPolygon = function(a, b, c, g, h) {
			for (var k = a.length, m = b - g, n = c - h, p = b * h - c * g, r = a[k - 2], t = a[k - 1], u = 0; u < k; u += 2) {
				var s = a[u],
					w = a[u + 1],
					v = r * w - t * s,
					x = r - s,
					A = t - w,
					z = m * A - n * x,
					x = (p * x - m * v) / z;
				if ((x >= r && x <= s || x >= s && x <= r) && (x >= b && x <= g || x >= g && x <= b) && (r = (p * A - n * v) / z, (r >= t && r <= w || r >= w && r <= t) && (r >= c &&
						r <= h || r >= h && r <= c))) return !0;
				r = s;
				t = w
			}
			return !1
		};
		b.prototype.getPolygon = function(a) {
			if (null == a) throw Error("boundingBox cannot be null.");
			a = this.boundingBoxes.indexOf(a);
			return -1 == a ? null : this.polygons[a]
		};
		b.prototype.getWidth = function() {
			return this.maxX - this.minX
		};
		b.prototype.getHeight = function() {
			return this.maxY - this.minY
		};
		return b
	}();
	a.SkeletonBounds = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function a() {
			this.bones = [];
			this.slots = [];
			this.skins = [];
			this.events = [];
			this.animations = [];
			this.ikConstraints = [];
			this.transformConstraints = [];
			this.pathConstraints = [];
			this.fps = 0
		}
		a.prototype.findBone = function(a) {
			if (null == a) throw Error("boneName cannot be null.");
			for (var b = this.bones, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.name == a) return h
			}
			return null
		};
		a.prototype.findBoneIndex = function(a) {
			if (null == a) throw Error("boneName cannot be null.");
			for (var b = this.bones, c = 0, g = b.length; c <
				g; c++)
				if (b[c].name == a) return c;
			return -1
		};
		a.prototype.findSlot = function(a) {
			if (null == a) throw Error("slotName cannot be null.");
			for (var b = this.slots, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.name == a) return h
			}
			return null
		};
		a.prototype.findSlotIndex = function(a) {
			if (null == a) throw Error("slotName cannot be null.");
			for (var b = this.slots, c = 0, g = b.length; c < g; c++)
				if (b[c].name == a) return c;
			return -1
		};
		a.prototype.findSkin = function(a) {
			if (null == a) throw Error("skinName cannot be null.");
			for (var b = this.skins, c = 0, g = b.length; c <
				g; c++) {
				var h = b[c];
				if (h.name == a) return h
			}
			return null
		};
		a.prototype.findEvent = function(a) {
			if (null == a) throw Error("eventDataName cannot be null.");
			for (var b = this.events, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.name == a) return h
			}
			return null
		};
		a.prototype.findAnimation = function(a) {
			if (null == a) throw Error("animationName cannot be null.");
			for (var b = this.animations, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.name == a) return h
			}
			return null
		};
		a.prototype.findIkConstraint = function(a) {
			if (null == a) throw Error("constraintName cannot be null.");
			for (var b = this.ikConstraints, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.name == a) return h
			}
			return null
		};
		a.prototype.findTransformConstraint = function(a) {
			if (null == a) throw Error("constraintName cannot be null.");
			for (var b = this.transformConstraints, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.name == a) return h
			}
			return null
		};
		a.prototype.findPathConstraint = function(a) {
			if (null == a) throw Error("constraintName cannot be null.");
			for (var b = this.pathConstraints, c = 0, g = b.length; c < g; c++) {
				var h = b[c];
				if (h.name == a) return h
			}
			return null
		};
		a.prototype.findPathConstraintIndex = function(a) {
			if (null == a) throw Error("pathConstraintName cannot be null.");
			for (var b = this.pathConstraints, c = 0, g = b.length; c < g; c++)
				if (b[c].name == a) return c;
			return -1
		};
		return a
	}();
	a.SkeletonData = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(a) {
			this.scale = 1;
			this.linkedMeshes = [];
			this.attachmentLoader = a
		}
		b.prototype.readSkeletonData = function(c) {
			var f = this.scale,
				g = new a.SkeletonData;
			c = "string" === typeof c ? JSON.parse(c) : c;
			var h = c.skeleton;
			null != h && (g.hash = h.hash, g.version = h.spine, g.width = h.width, g.height = h.height, g.fps = h.fps, g.imagesPath = h.images);
			if (c.bones)
				for (h = 0; h < c.bones.length; h++) {
					var k = c.bones[h],
						m = null,
						n = this.getValue(k, "parent", null);
					if (null != n && (m = g.findBone(n), null == m)) throw Error("Parent bone not found: " +
						n);
					m = new a.BoneData(g.bones.length, k.name, m);
					m.length = this.getValue(k, "length", 0) * f;
					m.x = this.getValue(k, "x", 0) * f;
					m.y = this.getValue(k, "y", 0) * f;
					m.rotation = this.getValue(k, "rotation", 0);
					m.scaleX = this.getValue(k, "scaleX", 1);
					m.scaleY = this.getValue(k, "scaleY", 1);
					m.shearX = this.getValue(k, "shearX", 0);
					m.shearY = this.getValue(k, "shearY", 0);
					m.transformMode = b.transformModeFromString(this.getValue(k, "transform", "normal"));
					g.bones.push(m)
				}
			if (c.slots)
				for (h = 0; h < c.slots.length; h++) {
					var k = c.slots[h],
						p = k.name,
						n = k.bone,
						m = g.findBone(n);
					if (null == m) throw Error("Slot bone not found: " + n);
					m = new a.SlotData(g.slots.length, p, m);
					n = this.getValue(k, "color", null);
					null != n && m.color.setFromString(n);
					m.attachmentName = this.getValue(k, "attachment", null);
					m.blendMode = b.blendModeFromString(this.getValue(k, "blend", "normal"));
					g.slots.push(m)
				}
			if (c.ik)
				for (h = 0; h < c.ik.length; h++) {
					k = c.ik[h];
					m = new a.IkConstraintData(k.name);
					m.order = this.getValue(k, "order", 0);
					for (var r = 0; r < k.bones.length; r++) {
						var n = k.bones[r],
							t = g.findBone(n);
						if (null == t) throw Error("IK bone not found: " +
							n);
						m.bones.push(t)
					}
					n = k.target;
					m.target = g.findBone(n);
					if (null == m.target) throw Error("IK target bone not found: " + n);
					m.bendDirection = this.getValue(k, "bendPositive", !0) ? 1 : -1;
					m.mix = this.getValue(k, "mix", 1);
					g.ikConstraints.push(m)
				}
			if (c.transform)
				for (h = 0; h < c.transform.length; h++) {
					k = c.transform[h];
					m = new a.TransformConstraintData(k.name);
					m.order = this.getValue(k, "order", 0);
					for (r = 0; r < k.bones.length; r++) {
						n = k.bones[r];
						t = g.findBone(n);
						if (null == t) throw Error("Transform constraint bone not found: " + n);
						m.bones.push(t)
					}
					n =
						k.target;
					m.target = g.findBone(n);
					if (null == m.target) throw Error("Transform constraint target bone not found: " + n);
					m.offsetRotation = this.getValue(k, "rotation", 0);
					m.offsetX = this.getValue(k, "x", 0) * f;
					m.offsetY = this.getValue(k, "y", 0) * f;
					m.offsetScaleX = this.getValue(k, "scaleX", 0);
					m.offsetScaleY = this.getValue(k, "scaleY", 0);
					m.offsetShearY = this.getValue(k, "shearY", 0);
					m.rotateMix = this.getValue(k, "rotateMix", 1);
					m.translateMix = this.getValue(k, "translateMix", 1);
					m.scaleMix = this.getValue(k, "scaleMix", 1);
					m.shearMix =
						this.getValue(k, "shearMix", 1);
					g.transformConstraints.push(m)
				}
			if (c.path)
				for (h = 0; h < c.path.length; h++) {
					k = c.path[h];
					m = new a.PathConstraintData(k.name);
					m.order = this.getValue(k, "order", 0);
					for (r = 0; r < k.bones.length; r++) {
						n = k.bones[r];
						t = g.findBone(n);
						if (null == t) throw Error("Transform constraint bone not found: " + n);
						m.bones.push(t)
					}
					n = k.target;
					m.target = g.findSlot(n);
					if (null == m.target) throw Error("Path target slot not found: " + n);
					m.positionMode = b.positionModeFromString(this.getValue(k, "positionMode", "percent"));
					m.spacingMode = b.spacingModeFromString(this.getValue(k, "spacingMode", "length"));
					m.rotateMode = b.rotateModeFromString(this.getValue(k, "rotateMode", "tangent"));
					m.offsetRotation = this.getValue(k, "rotation", 0);
					m.position = this.getValue(k, "position", 0);
					m.positionMode == a.PositionMode.Fixed && (m.position *= f);
					m.spacing = this.getValue(k, "spacing", 0);
					if (m.spacingMode == a.SpacingMode.Length || m.spacingMode == a.SpacingMode.Fixed) m.spacing *= f;
					m.rotateMix = this.getValue(k, "rotateMix", 1);
					m.translateMix = this.getValue(k, "translateMix",
						1);
					g.pathConstraints.push(m)
				}
			if (c.skins)
				for (var u in c.skins) {
					h = c.skins[u];
					f = new a.Skin(u);
					for (p in h) {
						m = g.findSlotIndex(p);
						if (-1 == m) throw Error("Slot not found: " + p);
						var k = h[p],
							s;
						for (s in k) n = this.readAttachment(k[s], f, m, s), null != n && f.addAttachment(m, s, n)
					}
					g.skins.push(f);
					"default" == f.name && (g.defaultSkin = f)
				}
			h = 0;
			for (p = this.linkedMeshes.length; h < p; h++) {
				u = this.linkedMeshes[h];
				f = null == u.skin ? g.defaultSkin : g.findSkin(u.skin);
				if (null == f) throw Error("Skin not found: " + u.skin);
				s = f.getAttachment(u.slotIndex,
					u.parent);
				if (null == s) throw Error("Parent mesh not found: " + u.parent);
				u.mesh.setParentMesh(s);
				u.mesh.updateUVs()
			}
			this.linkedMeshes.length = 0;
			if (c.events)
				for (var w in c.events) p = c.events[w], m = new a.EventData(w), m.intValue = this.getValue(p, "int", 0), m.floatValue = this.getValue(p, "float", 0), m.stringValue = this.getValue(p, "string", ""), g.events.push(m);
			if (c.animations)
				for (var v in c.animations) this.readAnimation(c.animations[v], v, g);
			return g
		};
		b.prototype.readAttachment = function(b, d, g, h) {
			var k = this.scale;
			h = this.getValue(b,
				"name", h);
			switch (this.getValue(b, "type", "region")) {
				case "region":
					var m = this.getValue(b, "path", h);
					g = this.attachmentLoader.newRegionAttachment(d, h, m);
					if (null == g) break;
					g.path = m;
					g.x = this.getValue(b, "x", 0) * k;
					g.y = this.getValue(b, "y", 0) * k;
					g.scaleX = this.getValue(b, "scaleX", 1);
					g.scaleY = this.getValue(b, "scaleY", 1);
					g.rotation = this.getValue(b, "rotation", 0);
					g.width = b.width * k;
					g.height = b.height * k;
					k = this.getValue(b, "color", null);
					null != k && g.color.setFromString(k);
					g.updateOffset();
					return g;
				case "boundingbox":
					m = this.attachmentLoader.newBoundingBoxAttachment(d,
						h);
					if (null == m) break;
					this.readVertices(b, m, b.vertexCount << 1);
					k = this.getValue(b, "color", null);
					null != k && m.color.setFromString(k);
					return m;
				case "mesh":
				case "linkedmesh":
					m = this.getValue(b, "path", h);
					d = this.attachmentLoader.newMeshAttachment(d, h, m);
					if (null == d) break;
					d.path = m;
					k = this.getValue(b, "color", null);
					null != k && d.color.setFromString(k);
					m = this.getValue(b, "parent", null);
					if (null != m) return d.inheritDeform = this.getValue(b, "deform", !0), this.linkedMeshes.push(new c(d, this.getValue(b, "skin", null), g, m)), d;
					m = b.uvs;
					this.readVertices(b, d, m.length);
					d.triangles = b.triangles;
					d.regionUVs = m;
					d.updateUVs();
					d.hullLength = 2 * this.getValue(b, "hull", 0);
					return d;
				case "path":
					m = this.attachmentLoader.newPathAttachment(d, h);
					if (null == m) break;
					m.closed = this.getValue(b, "closed", !1);
					m.constantSpeed = this.getValue(b, "constantSpeed", !0);
					g = b.vertexCount;
					this.readVertices(b, m, g << 1);
					g = a.Utils.newArray(g / 3, 0);
					for (d = 0; d < b.lengths.length; d++) g[d++] = b.lengths[d] * k;
					m.lengths = g;
					k = this.getValue(b, "color", null);
					null != k && m.color.setFromString(k);
					return m
			}
			return null
		};
		b.prototype.readVertices = function(b, c, d) {
			var h = this.scale;
			c.worldVerticesLength = d;
			b = b.vertices;
			var k = a.Utils.toFloatArray(b);
			if (d == k.length) {
				if (1 != h) {
					d = 0;
					for (var m = b.length; d < m; d++) k[d] *= h
				}
				c.vertices = k
			} else {
				var k = [],
					n = [];
				d = 0;
				for (m = b.length; d < m;) {
					var p = b[d++];
					n.push(p);
					for (p = d + 4 * p; d < p; d += 4) n.push(b[d]), k.push(b[d + 1] * h), k.push(b[d + 2] * h), k.push(b[d + 3])
				}
				c.bones = n;
				c.vertices = a.Utils.toFloatArray(k)
			}
		};
		b.prototype.readAnimation = function(b, c, d) {
			var h = this.scale,
				k = [],
				m = 0;
			if (b.slots)
				for (var n in b.slots) {
					var p =
						b.slots[n],
						r = d.findSlotIndex(n);
					if (-1 == r) throw Error("Slot not found: " + n);
					for (var t in p) {
						var u = p[t];
						if ("color" == t) {
							var s = new a.ColorTimeline(u.length);
							s.slotIndex = r;
							for (var w = 0, v = 0; v < u.length; v++) {
								var x = u[v],
									A = new a.Color;
								A.setFromString(x.color);
								s.setFrame(w, x.time, A.r, A.g, A.b, A.a);
								this.readCurve(x, s, w);
								w++
							}
							k.push(s);
							m = Math.max(m, s.frames[(s.getFrameCount() - 1) * a.ColorTimeline.ENTRIES])
						} else {
							t = "attachment";
							s = new a.AttachmentTimeline(u.length);
							s.slotIndex = r;
							for (v = w = 0; v < u.length; v++) x = u[v], s.setFrame(w++,
								x.time, x.name);
							k.push(s);
							m = Math.max(m, s.frames[s.getFrameCount() - 1])
						}
					}
				}
			if (b.bones)
				for (var z in b.bones) {
					p = b.bones[z];
					A = d.findBoneIndex(z);
					if (-1 == A) throw Error("Bone not found: " + z);
					for (t in p)
						if (u = p[t], "rotate" === t) {
							s = new a.RotateTimeline(u.length);
							s.boneIndex = A;
							for (v = w = 0; v < u.length; v++) x = u[v], s.setFrame(w, x.time, x.angle), this.readCurve(x, s, w), w++;
							k.push(s);
							m = Math.max(m, s.frames[(s.getFrameCount() - 1) * a.RotateTimeline.ENTRIES])
						} else if ("translate" === t || "scale" === t || "shear" === t) {
						r = 1;
						"scale" === t ? s = new a.ScaleTimeline(u.length) :
							"shear" === t ? s = new a.ShearTimeline(u.length) : (s = new a.TranslateTimeline(u.length), r = h);
						s.boneIndex = A;
						for (v = w = 0; v < u.length; v++) {
							var x = u[v],
								y = this.getValue(x, "x", 0),
								B = this.getValue(x, "y", 0);
							s.setFrame(w, x.time, y * r, B * r);
							this.readCurve(x, s, w);
							w++
						}
						k.push(s);
						m = Math.max(m, s.frames[(s.getFrameCount() - 1) * a.TranslateTimeline.ENTRIES])
					} else throw Error("Invalid timeline type for a bone: " + t + " (" + z + ")");
				}
			if (b.ik)
				for (var C in b.ik) {
					p = b.ik[C];
					w = d.findIkConstraint(C);
					s = new a.IkConstraintTimeline(p.length);
					s.ikConstraintIndex =
						d.ikConstraints.indexOf(w);
					for (v = w = 0; v < p.length; v++) x = p[v], s.setFrame(w, x.time, this.getValue(x, "mix", 1), this.getValue(x, "bendPositive", !0) ? 1 : -1), this.readCurve(x, s, w), w++;
					k.push(s);
					m = Math.max(m, s.frames[(s.getFrameCount() - 1) * a.IkConstraintTimeline.ENTRIES])
				}
			if (b.transform)
				for (C in b.transform) {
					p = b.transform[C];
					w = d.findTransformConstraint(C);
					s = new a.TransformConstraintTimeline(p.length);
					s.transformConstraintIndex = d.transformConstraints.indexOf(w);
					for (v = w = 0; v < p.length; v++) x = p[v], s.setFrame(w, x.time,
						this.getValue(x, "rotateMix", 1), this.getValue(x, "translateMix", 1), this.getValue(x, "scaleMix", 1), this.getValue(x, "shearMix", 1)), this.readCurve(x, s, w), w++;
					k.push(s);
					m = Math.max(m, s.frames[(s.getFrameCount() - 1) * a.TransformConstraintTimeline.ENTRIES])
				}
			if (b.paths)
				for (C in b.paths) {
					p = b.paths[C];
					z = d.findPathConstraintIndex(C);
					if (-1 == z) throw Error("Path constraint not found: " + C);
					A = d.pathConstraints[z];
					for (t in p)
						if (u = p[t], "position" === t || "spacing" === t) {
							r = 1;
							if ("spacing" === t) {
								if (s = new a.PathConstraintSpacingTimeline(u.length),
									A.spacingMode == a.SpacingMode.Length || A.spacingMode == a.SpacingMode.Fixed) r = h
							} else s = new a.PathConstraintPositionTimeline(u.length), A.positionMode == a.PositionMode.Fixed && (r = h);
							s.pathConstraintIndex = z;
							for (v = w = 0; v < u.length; v++) x = u[v], s.setFrame(w, x.time, this.getValue(x, t, 0) * r), this.readCurve(x, s, w), w++;
							k.push(s);
							m = Math.max(m, s.frames[(s.getFrameCount() - 1) * a.PathConstraintPositionTimeline.ENTRIES])
						} else if ("mix" === t) {
						s = new a.PathConstraintMixTimeline(u.length);
						s.pathConstraintIndex = z;
						for (v = w = 0; v < u.length; v++) x =
							u[v], s.setFrame(w, x.time, this.getValue(x, "rotateMix", 1), this.getValue(x, "translateMix", 1)), this.readCurve(x, s, w), w++;
						k.push(s);
						m = Math.max(m, s.frames[(s.getFrameCount() - 1) * a.PathConstraintMixTimeline.ENTRIES])
					}
				}
			if (b.deform)
				for (var D in b.deform) {
					z = b.deform[D];
					A = d.findSkin(D);
					if (null == A) throw Error("Skin not found: " + D);
					for (n in z) {
						p = z[n];
						r = d.findSlotIndex(n);
						if (-1 == r) throw Error("Slot not found: " + p.name);
						for (t in p) {
							u = p[t];
							w = A.getAttachment(r, t);
							if (null == w) throw Error("Deform attachment not found: " +
								u.name);
							var y = null != w.bones,
								B = w.vertices,
								I = y ? B.length / 3 * 2 : B.length,
								s = new a.DeformTimeline(u.length);
							s.slotIndex = r;
							s.attachment = w;
							for (C = w = 0; C < u.length; C++) {
								var x = u[C],
									E = void 0,
									F = this.getValue(x, "vertices", null);
								if (null == F) E = y ? a.Utils.newFloatArray(I) : B;
								else {
									E = a.Utils.newFloatArray(I);
									v = this.getValue(x, "offset", 0);
									a.Utils.arrayCopy(F, 0, E, v, F.length);
									if (1 != h)
										for (F = v + F.length; v < F; v++) E[v] *= h;
									if (!y)
										for (v = 0; v < I; v++) E[v] += B[v]
								}
								s.setFrame(w, x.time, E);
								this.readCurve(x, s, w);
								w++
							}
							k.push(s);
							m = Math.max(m, s.frames[s.getFrameCount() -
								1])
						}
					}
				}
			h = b.drawOrder;
			null == h && (h = b.draworder);
			if (null != h) {
				s = new a.DrawOrderTimeline(h.length);
				n = d.slots.length;
				for (C = w = 0; C < h.length; C++) {
					t = h[C];
					D = null;
					u = this.getValue(t, "offsets", null);
					if (null != u) {
						D = a.Utils.newArray(n, -1);
						x = a.Utils.newArray(n - u.length, 0);
						for (v = z = p = 0; v < u.length; v++) {
							A = u[v];
							r = d.findSlotIndex(A.slot);
							if (-1 == r) throw Error("Slot not found: " + A.slot);
							for (; p != r;) x[z++] = p++;
							D[p + A.offset] = p++
						}
						for (; p < n;) x[z++] = p++;
						for (v = n - 1; 0 <= v; v--) - 1 == D[v] && (D[v] = x[--z])
					}
					s.setFrame(w++, t.time, D)
				}
				k.push(s);
				m = Math.max(m, s.frames[s.getFrameCount() - 1])
			}
			if (b.events) {
				s = new a.EventTimeline(b.events.length);
				for (v = w = 0; v < b.events.length; v++) {
					h = b.events[v];
					n = d.findEvent(h.name);
					if (null == n) throw Error("Event not found: " + h.name);
					r = new a.Event(h.time, n);
					r.intValue = this.getValue(h, "int", n.intValue);
					r.floatValue = this.getValue(h, "float", n.floatValue);
					r.stringValue = this.getValue(h, "string", n.stringValue);
					s.setFrame(w++, r)
				}
				k.push(s);
				m = Math.max(m, s.frames[s.getFrameCount() - 1])
			}
			if (isNaN(m)) throw Error("Error while parsing animation, duration is NaN");
			d.animations.push(new a.Animation(c, k, m))
		};
		b.prototype.readCurve = function(a, b, c) {
			a.curve && ("stepped" === a.curve ? b.setStepped(c) : "[object Array]" === Object.prototype.toString.call(a.curve) && (a = a.curve, b.setCurve(c, a[0], a[1], a[2], a[3])))
		};
		b.prototype.getValue = function(a, b, c) {
			return void 0 !== a[b] ? a[b] : c
		};
		b.blendModeFromString = function(b) {
			b = b.toLowerCase();
			if ("normal" == b) return a.BlendMode.Normal;
			if ("additive" == b) return a.BlendMode.Additive;
			if ("multiply" == b) return a.BlendMode.Multiply;
			if ("screen" == b) return a.BlendMode.Screen;
			throw Error("Unknown blend mode: " + b);
		};
		b.positionModeFromString = function(b) {
			b = b.toLowerCase();
			if ("fixed" == b) return a.PositionMode.Fixed;
			if ("percent" == b) return a.PositionMode.Percent;
			throw Error("Unknown position mode: " + b);
		};
		b.spacingModeFromString = function(b) {
			b = b.toLowerCase();
			if ("length" == b) return a.SpacingMode.Length;
			if ("fixed" == b) return a.SpacingMode.Fixed;
			if ("percent" == b) return a.SpacingMode.Percent;
			throw Error("Unknown position mode: " + b);
		};
		b.rotateModeFromString = function(b) {
			b = b.toLowerCase();
			if ("tangent" == b) return a.RotateMode.Tangent;
			if ("chain" == b) return a.RotateMode.Chain;
			if ("chainscale" == b) return a.RotateMode.ChainScale;
			throw Error("Unknown rotate mode: " + b);
		};
		b.transformModeFromString = function(b) {
			b = b.toLowerCase();
			if ("normal" == b) return a.TransformMode.Normal;
			if ("onlytranslation" == b) return a.TransformMode.OnlyTranslation;
			if ("norotationorreflection" == b) return a.TransformMode.NoRotationOrReflection;
			if ("noscale" == b) return a.TransformMode.NoScale;
			if ("noscaleorreflection" == b) return a.TransformMode.NoScaleOrReflection;
			throw Error("Unknown transform mode: " + b);
		};
		return b
	}();
	a.SkeletonJson = b;
	var c = function() {
		return function(a, b, c, g) {
			this.mesh = a;
			this.skin = b;
			this.slotIndex = c;
			this.parent = g
		}
	}()
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function a(b) {
			this.attachments = [];
			if (null == b) throw Error("name cannot be null.");
			this.name = b
		}
		a.prototype.addAttachment = function(a, b, c) {
			if (null == c) throw Error("attachment cannot be null.");
			var g = this.attachments;
			a >= g.length && (g.length = a + 1);
			g[a] || (g[a] = {});
			g[a][b] = c
		};
		a.prototype.getAttachment = function(a, b) {
			var c = this.attachments[a];
			return c ? c[b] : null
		};
		a.prototype.attachAll = function(a, b) {
			for (var c = 0, g = 0; g < a.slots.length; g++) {
				var h = a.slots[g],
					k = h.getAttachment();
				if (k && c <
					b.attachments.length) {
					var m = b.attachments[c],
						n;
					for (n in m)
						if (k == m[n]) {
							k = this.getAttachment(c, n);
							null != k && h.setAttachment(k);
							break
						}
				}
				c++
			}
		};
		return a
	}();
	a.Skin = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(c, e) {
			this.attachmentVertices = [];
			if (null == c) throw Error("data cannot be null.");
			if (null == e) throw Error("bone cannot be null.");
			this.data = c;
			this.bone = e;
			this.color = new a.Color;
			this.setToSetupPose()
		}
		b.prototype.getAttachment = function() {
			return this.attachment
		};
		b.prototype.setAttachment = function(a) {
			this.attachment != a && (this.attachment = a, this.attachmentTime = this.bone.skeleton.time, this.attachmentVertices.length = 0)
		};
		b.prototype.setAttachmentTime = function(a) {
			this.attachmentTime =
				this.bone.skeleton.time - a
		};
		b.prototype.getAttachmentTime = function() {
			return this.bone.skeleton.time - this.attachmentTime
		};
		b.prototype.setToSetupPose = function() {
			this.color.setFromColor(this.data.color);
			null == this.data.attachmentName ? this.attachment = null : (this.attachment = null, this.setAttachment(this.bone.skeleton.getAttachment(this.data.index, this.data.attachmentName)))
		};
		return b
	}();
	a.Slot = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		return function(b, d, e) {
			this.color = new a.Color(1, 1, 1, 1);
			if (0 > b) throw Error("index must be \x3e\x3d 0.");
			if (null == d) throw Error("name cannot be null.");
			if (null == e) throw Error("boneData cannot be null.");
			this.index = b;
			this.name = d;
			this.boneData = e
		}
	}();
	a.SlotData = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function a(b) {
			this._image = b
		}
		a.prototype.getImage = function() {
			return this._image
		};
		a.filterFromString = function(a) {
			switch (a.toLowerCase()) {
				case "nearest":
					return c.Nearest;
				case "linear":
					return c.Linear;
				case "mipmap":
					return c.MipMap;
				case "mipmapnearestnearest":
					return c.MipMapNearestNearest;
				case "mipmaplinearnearest":
					return c.MipMapLinearNearest;
				case "mipmapnearestlinear":
					return c.MipMapNearestLinear;
				case "mipmaplinearlinear":
					return c.MipMapLinearLinear;
				default:
					throw Error("Unknown texture filter " +
						a);
			}
		};
		a.wrapFromString = function(a) {
			switch (a.toLowerCase()) {
				case "mirroredtepeat":
					return d.MirroredRepeat;
				case "clamptoedge":
					return d.ClampToEdge;
				case "repeat":
					return d.Repeat;
				default:
					throw Error("Unknown texture wrap " + a);
			}
		};
		return a
	}();
	a.Texture = b;
	(function(a) {
		a[a.Nearest = 9728] = "Nearest";
		a[a.Linear = 9729] = "Linear";
		a[a.MipMap = 9987] = "MipMap";
		a[a.MipMapNearestNearest = 9984] = "MipMapNearestNearest";
		a[a.MipMapLinearNearest = 9985] = "MipMapLinearNearest";
		a[a.MipMapNearestLinear = 9986] = "MipMapNearestLinear";
		a[a.MipMapLinearLinear =
			9987] = "MipMapLinearLinear"
	})(a.TextureFilter || (a.TextureFilter = {}));
	var c = a.TextureFilter;
	(function(a) {
		a[a.MirroredRepeat = 33648] = "MirroredRepeat";
		a[a.ClampToEdge = 33071] = "ClampToEdge";
		a[a.Repeat = 10497] = "Repeat"
	})(a.TextureWrap || (a.TextureWrap = {}));
	var d = a.TextureWrap,
		b = function() {
			return function() {
				this.height = this.width = this.v2 = this.u2 = this.v = this.u = 0;
				this.rotate = !1;
				this.originalHeight = this.originalWidth = this.offsetY = this.offsetX = 0
			}
		}();
	a.TextureRegion = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(a, c) {
			this.pages = [];
			this.regions = [];
			this.load(a, c)
		}
		b.prototype.load = function(b, f) {
			if (null == f) throw Error("textureLoader cannot be null.");
			for (var k = new c(b), m = Array(4), n = null;;) {
				var p = k.readLine();
				if (null == p) break;
				p = p.trim();
				if (0 == p.length) n = null;
				else if (n) {
					var r = new e;
					r.name = p;
					r.page = n;
					r.rotate = "true" == k.readValue();
					k.readTuple(m);
					var p = parseInt(m[0]),
						t = parseInt(m[1]);
					k.readTuple(m);
					var u = parseInt(m[0]),
						s = parseInt(m[1]);
					r.u = p / n.width;
					r.v = t / n.height;
					r.rotate ?
						(r.u2 = (p + s) / n.width, r.v2 = (t + u) / n.height) : (r.u2 = (p + u) / n.width, r.v2 = (t + s) / n.height);
					r.x = p;
					r.y = t;
					r.width = Math.abs(u);
					r.height = Math.abs(s);
					4 == k.readTuple(m) && 4 == k.readTuple(m) && k.readTuple(m);
					r.originalWidth = parseInt(m[0]);
					r.originalHeight = parseInt(m[1]);
					k.readTuple(m);
					r.offsetX = parseInt(m[0]);
					r.offsetY = parseInt(m[1]);
					r.index = parseInt(k.readValue());
					r.texture = n.texture;
					this.regions.push(r)
				} else n = new d, n.name = p, 2 == k.readTuple(m) && (n.width = parseInt(m[0]), n.height = parseInt(m[1]), k.readTuple(m)), k.readTuple(m),
					n.minFilter = a.Texture.filterFromString(m[0]), n.magFilter = a.Texture.filterFromString(m[1]), r = k.readValue(), n.uWrap = a.TextureWrap.ClampToEdge, n.vWrap = a.TextureWrap.ClampToEdge, "x" == r ? n.uWrap = a.TextureWrap.Repeat : "y" == r ? n.vWrap = a.TextureWrap.Repeat : "xy" == r && (n.uWrap = n.vWrap = a.TextureWrap.Repeat), n.texture = f(p), n.texture.setFilters(n.minFilter, n.magFilter), n.texture.setWraps(n.uWrap, n.vWrap), n.width = n.texture.getImage().width, n.height = n.texture.getImage().height, this.pages.push(n)
			}
		};
		b.prototype.findRegion =
			function(a) {
				for (var b = 0; b < this.regions.length; b++)
					if (this.regions[b].name == a) return this.regions[b];
				return null
			};
		b.prototype.dispose = function() {
			for (var a = 0; a < this.pages.length; a++) this.pages[a].texture.dispose()
		};
		return b
	}();
	a.TextureAtlas = b;
	var c = function() {
			function a(b) {
				this.index = 0;
				this.lines = b.split(/\r\n|\r|\n/)
			}
			a.prototype.readLine = function() {
				return this.index >= this.lines.length ? null : this.lines[this.index++]
			};
			a.prototype.readValue = function() {
				var a = this.readLine(),
					b = a.indexOf(":");
				if (-1 == b) throw Error("Invalid line: " +
					a);
				return a.substring(b + 1).trim()
			};
			a.prototype.readTuple = function(a) {
				var b = this.readLine(),
					c = b.indexOf(":");
				if (-1 == c) throw Error("Invalid line: " + b);
				for (var d = 0, c = c + 1; 3 > d; d++) {
					var e = b.indexOf(",", c);
					if (-1 == e) break;
					a[d] = b.substr(c, e - c).trim();
					c = e + 1
				}
				a[d] = b.substring(c).trim();
				return d + 1
			};
			return a
		}(),
		d = function() {
			return function() {}
		}();
	a.TextureAtlasPage = d;
	var e = function(a) {
		function b() {
			a.apply(this, arguments)
		}
		__extends(b, a);
		return b
	}(a.TextureRegion);
	a.TextureAtlasRegion = e
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function b(c, e) {
			this.shearMix = this.scaleMix = this.translateMix = this.rotateMix = 0;
			this.temp = new a.Vector2;
			if (null == c) throw Error("data cannot be null.");
			if (null == e) throw Error("skeleton cannot be null.");
			this.data = c;
			this.rotateMix = c.rotateMix;
			this.translateMix = c.translateMix;
			this.scaleMix = c.scaleMix;
			this.shearMix = c.shearMix;
			this.bones = [];
			for (var f = 0; f < c.bones.length; f++) this.bones.push(e.findBone(c.bones[f].name));
			this.target = e.findBone(c.target.name)
		}
		b.prototype.apply =
			function() {
				this.update()
			};
		b.prototype.update = function() {
			for (var b = this.rotateMix, c = this.translateMix, f = this.scaleMix, g = this.shearMix, h = this.target, k = h.a, m = h.b, n = h.c, p = h.d, r = 0 < k * p - m * n ? a.MathUtils.degRad : -a.MathUtils.degRad, t = this.data.offsetRotation * r, r = this.data.offsetShearY * r, u = this.bones, s = 0, w = u.length; s < w; s++) {
				var v = u[s],
					x = !1;
				if (0 != b) {
					var A = v.a,
						x = v.b,
						z = v.c,
						y = v.d,
						B = Math.atan2(n, k) - Math.atan2(z, A) + t;
					B > a.MathUtils.PI ? B -= a.MathUtils.PI2 : B < -a.MathUtils.PI && (B += a.MathUtils.PI2);
					var B = B * b,
						C = Math.cos(B),
						B = Math.sin(B);
					v.a = C * A - B * z;
					v.b = C * x - B * y;
					v.c = B * A + C * z;
					v.d = B * x + C * y;
					x = !0
				}
				0 != c && (x = this.temp, h.localToWorld(x.set(this.data.offsetX, this.data.offsetY)), v.worldX += (x.x - v.worldX) * c, v.worldY += (x.y - v.worldY) * c, x = !0);
				0 < f && (x = Math.sqrt(v.a * v.a + v.c * v.c), y = Math.sqrt(k * k + n * n), 1E-5 < x && (x = (x + (y - x + this.data.offsetScaleX) * f) / x), v.a *= x, v.c *= x, x = Math.sqrt(v.b * v.b + v.d * v.d), y = Math.sqrt(m * m + p * p), 1E-5 < x && (x = (x + (y - x + this.data.offsetScaleY) * f) / x), v.b *= x, v.d *= x, x = !0);
				0 < g && (x = v.b, y = v.d, A = Math.atan2(y, x), B = Math.atan2(p, m) - Math.atan2(n,
					k) - (A - Math.atan2(v.c, v.a)), B > a.MathUtils.PI ? B -= a.MathUtils.PI2 : B < -a.MathUtils.PI && (B += a.MathUtils.PI2), B = A + (B + r) * g, x = Math.sqrt(x * x + y * y), v.b = Math.cos(B) * x, v.d = Math.sin(B) * x, x = !0);
				x && (v.appliedValid = !1)
			}
		};
		b.prototype.getOrder = function() {
			return this.data.order
		};
		return b
	}();
	a.TransformConstraint = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		return function(a) {
			this.order = 0;
			this.bones = [];
			this.offsetShearY = this.offsetScaleY = this.offsetScaleX = this.offsetY = this.offsetX = this.offsetRotation = this.shearMix = this.scaleMix = this.translateMix = this.rotateMix = 0;
			if (null == a) throw Error("name cannot be null.");
			this.name = a
		}
	}();
	a.TransformConstraintData = b
})(spine || (spine = {}));
(function(a) {
	var b = function() {
		function a() {
			this.array = []
		}
		a.prototype.add = function(a) {
			var b = this.contains(a);
			this.array[a | 0] = a | 0;
			return !b
		};
		a.prototype.contains = function(a) {
			return void 0 != this.array[a | 0]
		};
		a.prototype.remove = function(a) {
			this.array[a | 0] = void 0
		};
		a.prototype.clear = function() {
			this.array.length = 0
		};
		return a
	}();
	a.IntSet = b;
	b = function() {
		function a(b, c, f, g) {
			void 0 === b && (b = 0);
			void 0 === c && (c = 0);
			void 0 === f && (f = 0);
			void 0 === g && (g = 0);
			this.r = b;
			this.g = c;
			this.b = f;
			this.a = g
		}
		a.prototype.set = function(a, b,
			c, g) {
			this.r = a;
			this.g = b;
			this.b = c;
			this.a = g;
			this.clamp();
			return this
		};
		a.prototype.setFromColor = function(a) {
			this.r = a.r;
			this.g = a.g;
			this.b = a.b;
			this.a = a.a;
			return this
		};
		a.prototype.setFromString = function(a) {
			a = "#" == a.charAt(0) ? a.substr(1) : a;
			this.r = parseInt(a.substr(0, 2), 16) / 255;
			this.g = parseInt(a.substr(2, 2), 16) / 255;
			this.b = parseInt(a.substr(4, 2), 16) / 255;
			this.a = (8 != a.length ? 255 : parseInt(a.substr(6, 2), 16)) / 255;
			return this
		};
		a.prototype.add = function(a, b, c, g) {
			this.r += a;
			this.g += b;
			this.b += c;
			this.a += g;
			this.clamp();
			return this
		};
		a.prototype.clamp = function() {
			0 > this.r ? this.r = 0 : 1 < this.r && (this.r = 1);
			0 > this.g ? this.g = 0 : 1 < this.g && (this.g = 1);
			0 > this.b ? this.b = 0 : 1 < this.b && (this.b = 1);
			0 > this.a ? this.a = 0 : 1 < this.a && (this.a = 1);
			return this
		};
		a.WHITE = new a(1, 1, 1, 1);
		a.RED = new a(1, 0, 0, 1);
		a.GREEN = new a(0, 1, 0, 1);
		a.BLUE = new a(0, 0, 1, 1);
		a.MAGENTA = new a(1, 0, 1, 1);
		return a
	}();
	a.Color = b;
	b = function() {
		function a() {}
		a.clamp = function(a, b, c) {
			return a < b ? b : a > c ? c : a
		};
		a.cosDeg = function(b) {
			return Math.cos(b * a.degRad)
		};
		a.sinDeg = function(b) {
			return Math.sin(b *
				a.degRad)
		};
		a.signum = function(a) {
			return 0 < a ? 1 : 0 > a ? -1 : 0
		};
		a.toInt = function(a) {
			return 0 < a ? Math.floor(a) : Math.ceil(a)
		};
		a.cbrt = function(a) {
			var b = Math.pow(Math.abs(a), 1 / 3);
			return 0 > a ? -b : b
		};
		a.PI = 3.1415927;
		a.PI2 = 2 * a.PI;
		a.radiansToDegrees = 180 / a.PI;
		a.radDeg = a.radiansToDegrees;
		a.degreesToRadians = a.PI / 180;
		a.degRad = a.degreesToRadians;
		return a
	}();
	a.MathUtils = b;
	b = function() {
		function a() {}
		a.arrayCopy = function(a, b, c, g, h) {
			for (var k = b; k < b + h; k++, g++) c[g] = a[k]
		};
		a.setArraySize = function(a, b, c) {
			void 0 === c && (c = 0);
			var g = a.length;
			if (g == b) return a;
			a.length = b;
			if (g < b)
				for (; g < b; g++) a[g] = c;
			return a
		};
		a.ensureArrayCapacity = function(b, e, f) {
			void 0 === f && (f = 0);
			return b.length >= e ? b : a.setArraySize(b, e, f)
		};
		a.newArray = function(a, b) {
			for (var c = Array(a), g = 0; g < a; g++) c[g] = b;
			return c
		};
		a.newFloatArray = function(b) {
			if (a.SUPPORTS_TYPED_ARRAYS) return new Float32Array(b);
			b = Array(b);
			for (var e = 0; e < b.length; e++) b[e] = 0;
			return b
		};
		a.toFloatArray = function(b) {
			return a.SUPPORTS_TYPED_ARRAYS ? new Float32Array(b) : b
		};
		a.SUPPORTS_TYPED_ARRAYS = "undefined" !== typeof Float32Array;
		return a
	}();
	a.Utils = b;
	b = function() {
		function a() {}
		a.logBones = function(a) {
			for (var b = 0; b < a.bones.length; b++) {
				var c = a.bones[b];
				console.log(c.data.name + ", " + c.a + ", " + c.b + ", " + c.c + ", " + c.d + ", " + c.worldX + ", " + c.worldY)
			}
		};
		return a
	}();
	a.DebugUtils = b;
	b = function() {
		function a(b) {
			this.items = [];
			this.instantiator = b
		}
		a.prototype.obtain = function() {
			return 0 < this.items.length ? this.items.pop() : this.instantiator()
		};
		a.prototype.free = function(a) {
			a.reset && a.reset();
			this.items.push(a)
		};
		a.prototype.freeAll = function(a) {
			for (var b =
					0; b < a.length; b++) a[b].reset && a[b].reset(), this.items[b] = a[b]
		};
		a.prototype.clear = function() {
			this.items.length = 0
		};
		return a
	}();
	a.Pool = b;
	b = function() {
		function a(b, c) {
			void 0 === b && (b = 0);
			void 0 === c && (c = 0);
			this.x = b;
			this.y = c
		}
		a.prototype.set = function(a, b) {
			this.x = a;
			this.y = b;
			return this
		};
		a.prototype.length = function() {
			var a = this.x,
				b = this.y;
			return Math.sqrt(a * a + b * b)
		};
		a.prototype.normalize = function() {
			var a = this.length();
			0 != a && (this.x /= a, this.y /= a);
			return this
		};
		return a
	}();
	a.Vector2 = b;
	b = function() {
		function a() {
			this.maxDelta =
				0.064;
			this.totalTime = this.delta = this.framesPerSecond = 0;
			this.lastTime = Date.now() / 1E3;
			this.frameTime = this.frameCount = 0
		}
		a.prototype.update = function() {
			var a = Date.now() / 1E3;
			this.delta = a - this.lastTime;
			this.frameTime += this.delta;
			this.totalTime += this.delta;
			this.delta > this.maxDelta && (this.delta = this.maxDelta);
			this.lastTime = a;
			this.frameCount++;
			1 < this.frameTime && (this.framesPerSecond = this.frameCount / this.frameTime, this.frameCount = this.frameTime = 0)
		};
		return a
	}();
	a.TimeKeeper = b
})(spine || (spine = {}));
var sp = sp || {};
sp.spine = spine;
sp = sp || {};
sp.VERTEX_INDEX = {
	X1: 0,
	Y1: 1,
	X2: 2,
	Y2: 3,
	X3: 4,
	Y3: 5,
	X4: 6,
	Y4: 7
};
sp.ATTACHMENT_TYPE = {
	REGION: 0,
	BOUNDING_BOX: 1,
	MESH: 2,
	SKINNED_MESH: 3
};
spine = sp.spine;
sp.Skeleton = cc.Node.extend({
	_skeleton: null,
	_rootBone: null,
	_timeScale: 1,
	_debugSlots: !1,
	_debugBones: !1,
	_premultipliedAlpha: !1,
	_ownsSkeletonData: null,
	_atlas: null,
	ctor: function(a, b, c) {
		cc.Node.prototype.ctor.call(this);
		0 === arguments.length ? this.init() : this.initWithArgs(a, b, c)
	},
	_createRenderCmd: function() {
		return cc._renderType === cc.game.RENDER_TYPE_CANVAS ? new sp.Skeleton.CanvasRenderCmd(this) : new sp.Skeleton.WebGLRenderCmd(this)
	},
	init: function() {
		cc.Node.prototype.init.call(this);
		this._premultipliedAlpha =
			cc._renderType === cc.game.RENDER_TYPE_WEBGL && cc.OPTIMIZE_BLEND_FUNC_FOR_PREMULTIPLIED_ALPHA
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		this.scheduleUpdate()
	},
	onExit: function() {
		this.unscheduleUpdate();
		cc.Node.prototype.onExit.call(this)
	},
	setDebugSolots: function(a) {
		this._debugSlots = a
	},
	setDebugBones: function(a) {
		this._debugBones = a
	},
	setDebugSlotsEnabled: function(a) {
		this._debugSlots = a
	},
	getDebugSlotsEnabled: function() {
		return this._debugSlots
	},
	setDebugBonesEnabled: function(a) {
		this._debugBones =
			a
	},
	getDebugBonesEnabled: function() {
		return this._debugBones
	},
	setTimeScale: function(a) {
		this._timeScale = a
	},
	getTimeScale: function() {
		return this._timeScale
	},
	initWithArgs: function(a, b, c) {
		if (cc.isString(a)) {
			if (cc.isString(b)) {
				var d = cc.loader.getRes(b);
				sp._atlasLoader.setAtlasFile(b);
				b = new spine.TextureAtlas(d, sp._atlasLoader.load.bind(sp._atlasLoader))
			}
			c = c || 1 / cc.director.getContentScaleFactor();
			d = new spine.AtlasAttachmentLoader(b);
			d = new spine.SkeletonJson(d);
			d.scale = c;
			a = cc.loader.getRes(a);
			a = d.readSkeletonData(a);
			b.dispose(d);
			c = !0
		} else c = b;
		this.setSkeletonData(a, c);
		this.init()
	},
	getBoundingBox: function() {
		for (var a = cc.FLT_MAX, b = cc.FLT_MAX, c = cc.FLT_MIN, d = cc.FLT_MIN, e = this.getScaleX(), f = this.getScaleY(), g, h = this._skeleton.slots, k = spine.RegionAttachment, m = 0, n = h.length; m < n; ++m) {
			g = h[m];
			var p = g.attachment;
			p && p instanceof spine.RegionAttachment && (g = p.updateWorldVertices(g, !1), a = Math.min(a, g[k.X1] * e, g[k.X4] * e, g[k.X2] * e, g[k.X3] * e), b = Math.min(b, g[k.Y1] * f, g[k.Y4] * f, g[k.Y2] * f, g[k.Y3] * f), c = Math.max(c, g[k.X1] * e, g[k.X4] * e,
				g[k.X2] * e, g[k.X3] * e), d = Math.max(d, g[k.Y1] * f, g[k.Y4] * f, g[k.Y2] * f, g[k.Y3] * f))
		}
		e = this.getPosition();
		return cc.rect(e.x + a, e.y + b, c - a, d - b)
	},
	updateWorldTransform: function() {
		this._skeleton.updateWorldTransform()
	},
	setToSetupPose: function() {
		this._skeleton.setToSetupPose()
	},
	setBonesToSetupPose: function() {
		this._skeleton.setBonesToSetupPose()
	},
	setSlotsToSetupPose: function() {
		this._skeleton.setSlotsToSetupPose()
	},
	findBone: function(a) {
		return this._skeleton.findBone(a)
	},
	findSlot: function(a) {
		return this._skeleton.findSlot(a)
	},
	setSkin: function(a) {
		return this._skeleton.setSkinByName(a)
	},
	getAttachment: function(a, b) {
		return this._skeleton.getAttachmentByName(a, b)
	},
	setAttachment: function(a, b) {
		this._skeleton.setAttachment(a, b)
	},
	setPremultipliedAlpha: function(a) {
		this._premultipliedAlpha = a
	},
	isPremultipliedAlpha: function() {
		return this._premultipliedAlpha
	},
	setSkeletonData: function(a, b) {
		null != a.width && null != a.height && this.setContentSize(a.width / cc.director.getContentScaleFactor(), a.height / cc.director.getContentScaleFactor());
		this._skeleton =
			new spine.Skeleton(a);
		this._skeleton.updateWorldTransform();
		this._rootBone = this._skeleton.getRootBone();
		this._ownsSkeletonData = b;
		this._renderCmd._createChildFormSkeletonData()
	},
	getTextureAtlas: function(a) {
		return a.region
	},
	getBlendFunc: function() {
		var a = this._skeleton.drawOrder[0];
		return a ? this._renderCmd._getBlendFunc(a.data.blendMode, this._premultipliedAlpha) : {}
	},
	setBlendFunc: function(a, b) {},
	update: function(a) {
		this._skeleton.update(a)
	}
});
cc.defineGetterSetter(sp.Skeleton.prototype, "opacityModifyRGB", sp.Skeleton.prototype.isOpacityModifyRGB);
cc.defineGetterSetter(sp.Skeleton.prototype, "_blendFunc", sp.Skeleton.prototype.getBlendFunc);
cc.defineGetterSetter(sp.Skeleton.prototype, "_texture", function() {
	return this._renderCmd._currTexture
});
sp.Skeleton.create = function(a, b, c) {
	return new sp.Skeleton(a, b, c)
};
sp._atlasLoader = {
	spAtlasFile: null,
	setAtlasFile: function(a) {
		this.spAtlasFile = a
	},
	load: function(a) {
		a = cc.path.join(cc.path.dirname(this.spAtlasFile), a);
		a = cc.textureCache.addImage(a);
		var b = new sp.SkeletonTexture({
			width: a.getPixelsWide(),
			height: a.getPixelsHigh()
		});
		b.setRealTexture(a);
		return b
	},
	unload: function(a) {}
};
sp.ANIMATION_EVENT_TYPE = {
	START: 0,
	INTERRUPT: 1,
	END: 2,
	DISPOSE: 3,
	COMPLETE: 4,
	EVENT: 5
};
sp.TrackEntryListeners = function(a, b, c, d, e, f) {
	this.startListener = a || null;
	this.endListener = b || null;
	this.completeListener = c || null;
	this.eventListener = d || null;
	this.interruptListener = e || null;
	this.disposeListener = f || null;
	this.skeletonNode = this.callbackTarget = this.callback = null
};
var proto = sp.TrackEntryListeners.prototype;
proto.start = function(a) {
	this.startListener && this.startListener(a);
	this.callback && this.callback.call(this.callbackTarget, this.skeletonNode, a, sp.ANIMATION_EVENT_TYPE.START, null, 0)
};
proto.interrupt = function(a) {
	this.interruptListener && this.interruptListener(a);
	this.callback && this.callback.call(this.callbackTarget, this.skeletonNode, a, sp.ANIMATION_EVENT_TYPE.INTERRUPT, null, 0)
};
proto.end = function(a) {
	this.endListener && this.endListener(a);
	this.callback && this.callback.call(this.callbackTarget, this.skeletonNode, a, sp.ANIMATION_EVENT_TYPE.END, null, 0)
};
proto.dispose = function(a) {
	this.disposeListener && this.disposeListener(a);
	this.callback && this.callback.call(this.callbackTarget, this.skeletonNode, a, sp.ANIMATION_EVENT_TYPE.DISPOSE, null, 0)
};
proto.complete = function(a) {
	var b = Math.floor(a.trackTime / a.animationEnd);
	this.completeListener && this.completeListener(a, b);
	this.callback && this.callback.call(this.callbackTarget, this.skeletonNode, a, sp.ANIMATION_EVENT_TYPE.COMPLETE, null, b)
};
proto.event = function(a, b) {
	this.eventListener && this.eventListener(a, b);
	this.callback && this.callback.call(this.callbackTarget, this.skeletonNode, a, sp.ANIMATION_EVENT_TYPE.EVENT, b, 0)
};
sp.TrackEntryListeners.getListeners = function(a) {
	a.listener || (a.listener = new sp.TrackEntryListeners);
	return a.listener
};
sp.SkeletonAnimation = sp.Skeleton.extend({
	_state: null,
	_ownsAnimationStateData: !1,
	_listener: null,
	init: function() {
		sp.Skeleton.prototype.init.call(this);
		this._ownsAnimationStateData = !0;
		this.setAnimationStateData(new spine.AnimationStateData(this._skeleton.data))
	},
	setAnimationStateData: function(a) {
		a = new spine.AnimationState(a);
		this._listener = new sp.TrackEntryListeners;
		a.rendererObject = this;
		a.addListener(this._listener);
		this._state = a
	},
	setMix: function(a, b, c) {
		this._state.data.setMixWith(a, b, c)
	},
	setAnimationListener: function(a,
		b) {
		this._listener.callbackTarget = a;
		this._listener.callback = b;
		this._listener.skeletonNode = this
	},
	setAnimation: function(a, b, c) {
		var d = this._skeleton.data.findAnimation(b);
		return d ? this._state.setAnimationWith(a, d, c) : (cc.log("Spine: Animation not found: " + b), null)
	},
	addAnimation: function(a, b, c, d) {
		d = null == d ? 0 : d;
		var e = this._skeleton.data.findAnimation(b);
		return e ? this._state.addAnimationWith(a, e, c, d) : (cc.log("Spine: Animation not found:" + b), null)
	},
	findAnimation: function(a) {
		return this._skeleton.data.findAnimation(a)
	},
	getCurrent: function(a) {
		return this._state.getCurrent(a)
	},
	clearTracks: function() {
		this._state.clearTracks()
	},
	clearTrack: function(a) {
		this._state.clearTrack(a)
	},
	update: function(a) {
		this._super(a);
		a *= this._timeScale;
		this._renderCmd.setDirtyFlag(cc.Node._dirtyFlags.contentDirty);
		this._state.update(a);
		this._state.apply(this._skeleton);
		this._skeleton.updateWorldTransform();
		this._renderCmd._updateChild()
	},
	setStartListener: function(a) {
		this._listener.startListener = a
	},
	setInterruptListener: function(a) {
		this._listener.interruptListener =
			a
	},
	setEndListener: function(a) {
		this._listener.endListener = a
	},
	setDisposeListener: function(a) {
		this._listener.disposeListener = a
	},
	setCompleteListener: function(a) {
		this._listener.completeListener = a
	},
	setEventListener: function(a) {
		this._listener.eventListener = a
	},
	setTrackStartListener: function(a, b) {
		sp.TrackEntryListeners.getListeners(a).startListener = b
	},
	setTrackInterruptListener: function(a, b) {
		sp.TrackEntryListeners.getListeners(a).interruptListener = b
	},
	setTrackEndListener: function(a, b) {
		sp.TrackEntryListeners.getListeners(a).endListener =
			b
	},
	setTrackDisposeListener: function(a, b) {
		sp.TrackEntryListeners.getListeners(a).disposeListener = b
	},
	setTrackCompleteListener: function(a, b) {
		sp.TrackEntryListeners.getListeners(a).completeListener = b
	},
	setTrackEventListener: function(a, b) {
		sp.TrackEntryListeners.getListeners(a).eventListener = b
	},
	getState: function() {
		return this._state
	}
});
sp.SkeletonAnimation.createWithJsonFile = sp.SkeletonAnimation.create = function(a, b, c) {
	return new sp.SkeletonAnimation(a, b, c)
};
sp.SkeletonTexture = function(a) {
	sp.spine.Texture.call(this, a)
};
cc.inherits(sp.SkeletonTexture, sp.spine.Texture);
cc.extend(sp.SkeletonTexture.prototype, {
	name: "sp.SkeletonTexture",
	_texture: null,
	setRealTexture: function(a) {
		this._texture = a
	},
	getRealTexture: function() {
		return this._texture
	},
	setFilters: function(a, b) {
		if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
			var c = cc._renderContext;
			this.bind();
			c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MIN_FILTER, a);
			c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MAG_FILTER, b)
		}
	},
	setWraps: function(a, b) {
		if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {
			var c = cc._renderContext;
			this.bind();
			c.texParameteri(c.TEXTURE_2D,
				c.TEXTURE_WRAP_S, a);
			c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_T, b)
		}
	},
	dispose: function() {},
	bind: function() {
		cc._renderType === cc.game.RENDER_TYPE_WEBGL && cc.glBindTexture2D(this._texture)
	}
});
(function() {
	var a = sp.spine;
	sp.Skeleton.CanvasRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0
	};
	var b = sp.Skeleton.CanvasRenderCmd.prototype = Object.create(cc.Node.CanvasRenderCmd.prototype);
	b.constructor = sp.Skeleton.CanvasRenderCmd;
	b.rendering = function(b, c, f) {
		var g = this._node,
			h, k, m, n;
		b = b || cc._renderContext;
		var p = g._skeleton,
			r = p.drawOrder;
		h = 0;
		for (k = r.length; h < k; h++) m = r[h], n = m._slotNode, n._visible && n._renderCmd && m.currentSprite && (n._renderCmd.transform(this, !0), m.currentSprite._renderCmd.rendering(b,
			c, f), n._renderCmd._dirtyFlag = m.currentSprite._renderCmd._dirtyFlag = 0);
		if (g._debugSlots || g._debugBones) {
			b.setTransform(this._worldTransform, c, f);
			b.setGlobalAlpha(1);
			b = cc._drawingUtil;
			if (g._debugSlots)
				for (b.setDrawColor(0, 0, 255, 255), b.setLineWidth(1), f = [], h = 0, k = p.slots.length; h < k; h++) m = p.drawOrder[h], m.attachment && m.attachment instanceof a.RegionAttachment && (c = m.attachment, this._updateRegionAttachmentSlot(c, m, f), b.drawPoly(f, 4, !0));
			if (g._debugBones) {
				b.setLineWidth(2);
				b.setDrawColor(255, 0, 0, 255);
				h = 0;
				for (k = p.bones.length; h < k; h++) g = p.bones[h], b.drawLine({
					x: g.worldX,
					y: g.worldY
				}, {
					x: g.data.length * g.a + g.worldX,
					y: g.data.length * g.c + g.worldY
				});
				b.setPointSize(4);
				b.setDrawColor(0, 0, 255, 255);
				h = 0;
				for (k = p.bones.length; h < k; h++) g = p.bones[h], b.drawPoint({
					x: g.worldX,
					y: g.worldY
				}), 0 === h && b.setDrawColor(0, 255, 0, 255)
			}
		}
	};
	b.updateStatus = function() {
		this.originUpdateStatus();
		this._updateCurrentRegions();
		this._regionFlag = cc.Node.CanvasRenderCmd.RegionStatus.DirtyDouble;
		this._dirtyFlag &= ~cc.Node._dirtyFlags.contentDirty
	};
	b.getLocalBB = function() {
		return this._node.getBoundingBox()
	};
	b._updateRegionAttachmentSlot = function(b, c, f) {
		f && (b = b.updateWorldVertices(c, !1), c = a.RegionAttachment, f.length = 0, f.push(cc.p(b[c.X1], b[c.Y1])), f.push(cc.p(b[c.X4], b[c.Y4])), f.push(cc.p(b[c.X3], b[c.Y3])), f.push(cc.p(b[c.X2], b[c.Y2])))
	};
	b._createChildFormSkeletonData = function() {
		for (var b = this._node._skeleton, c, f, g = 0, h = b.slots.length; g < h; g++) {
			var k = b.slots[g];
			f = k.attachment;
			var m = new cc.Node;
			k._slotNode = m;
			f instanceof a.RegionAttachment && (c =
				f.region.name, f = this._createSprite(k, f), k.currentSprite = f, k.currentSpriteName = c, m.addChild(f))
		}
	};
	var c = function(a, b, c) {
		var g = c.region,
			h = new cc.Rect(g.x, g.y, g.width, g.height);
		a.initWithTexture(b, h, g.rotate, !1);
		a._rect.width = c.width;
		a._rect.height = c.height;
		a.setContentSize(c.width, c.height);
		a.setRotation(-c.rotation);
		a.setScale(g.width / g.originalWidth * c.scaleX, g.height / g.originalHeight * c.scaleY)
	};
	b._createSprite = function(a, b) {
		var f = b.region,
			g = f.texture.getRealTexture(),
			h = new cc.Sprite;
		g.isLoaded() ?
			c(h, g, b) : g.addEventListener("load", function() {
				c(h, g, b)
			}, this);
		a.sprites = a.sprites || {};
		return a.sprites[f.name] = h
	};
	b._updateChild = function() {
		var b = this._node._skeleton.slots,
			c = this._displayedColor,
			f = this._displayedOpacity,
			g, h, k, m, n, p, r;
		g = 0;
		for (h = b.length; g < h; g++)
			if (n = b[g], p = n.attachment, r = n._slotNode, p) {
				if (p instanceof a.RegionAttachment) {
					if (p.region && (!n.currentSpriteName || n.currentSpriteName !== p.name)) {
						var t = p.region.name;
						void 0 !== n.currentSprite && n.currentSprite.setVisible(!1);
						n.sprites = n.sprites || {};
						void 0 !== n.sprites[t] ? n.sprites[t].setVisible(!0) : (k = this._createSprite(n, p), r.addChild(k));
						n.currentSprite = n.sprites[t];
						n.currentSpriteName = t
					}
					t = n.bone;
					0 === p.region.offsetX && 0 === p.region.offsetY ? (k = p.x, m = p.y) : (k = 0.5 * (p.offset[0] + p.offset[4]), m = 0.5 * (p.offset[1] + p.offset[5]));
					r.setPosition(t.worldX + k * t.a + m * t.b, t.worldY + k * t.c + m * t.d);
					r.setScale(t.getWorldScaleX(), t.getWorldScaleY());
					k = n.currentSprite;
					k._flippedX = t.skeleton.flipX;
					k._flippedY = t.skeleton.flipY;
					k._flippedY || k._flippedX ? (r.setRotation(t.getWorldRotationX()),
						k.setRotation(p.rotation)) : (r.setRotation(-t.getWorldRotationX()), k.setRotation(-p.rotation));
					k._renderCmd._displayedOpacity = 0 | f * n.color.a;
					k.setColor(cc.color(0 | c.r * n.color.r, 0 | c.g * n.color.g, 0 | c.b * n.color.b));
					k._renderCmd._updateColor()
				} else if (!(p instanceof a.MeshAttachment)) {
					r.setVisible(!1);
					continue
				}
				r.setVisible(!0)
			} else r.setVisible(!1)
	}
})();
(function() {
	var a = sp.spine;
	sp.Skeleton.WebGLRenderCmd = function(a) {
		this._rootCtor(a);
		this._needDraw = !0;
		this._matrix = new cc.math.Matrix4;
		this._matrix.identity();
		this._currTexture = null;
		this._currBlendFunc = {};
		this.vertexType = cc.renderer.VertexType.CUSTOM;
		this.setShaderProgram(cc.shaderCache.programForKey(cc.SHADER_SPRITE_POSITION_TEXTURECOLOR))
	};
	var b = sp.Skeleton.WebGLRenderCmd.prototype = Object.create(cc.Node.WebGLRenderCmd.prototype);
	b.constructor = sp.Skeleton.WebGLRenderCmd;
	b.uploadData = function(b, d,
		e) {
		var f = this._node,
			g = this._displayedColor,
			h = f._skeleton,
			k, m, n, p = f._premultipliedAlpha;
		h.r = g.r / 255;
		h.g = g.g / 255;
		h.b = g.b / 255;
		h.a = this._displayedOpacity / 255;
		p && (h.r *= h.a, h.g *= h.a, h.b *= h.a);
		var r = null;
		this._node._debugSlots && (r = []);
		g = 0;
		for (n = h.drawOrder.length; g < n; g++)
			if (m = h.drawOrder[g], m.attachment) {
				k = m.attachment;
				var t = 0;
				if (k instanceof a.RegionAttachment) t = 6;
				else if (k instanceof a.MeshAttachment) t = k.regionUVs.length / 2;
				else continue;
				if (0 !== t) {
					this._currTexture = f.getTextureAtlas(k).texture.getRealTexture();
					var u = cc.renderer._updateBatchedInfo(this._currTexture, this._getBlendFunc(m.data.blendMode, p), this._glProgramState);
					!u && e + 6 * t > b.length && (cc.renderer._batchRendering(), u = !0);
					u && (e = 0);
					u = null;
					if (k instanceof a.RegionAttachment) u = this._uploadRegionAttachmentData(k, m, p, b, d, e);
					else if (k instanceof a.MeshAttachment) this._uploadMeshAttachmentData(k, m, p, b, d, e);
					else continue;
					this._node._debugSlots && (r[g] = u);
					k instanceof a.RegionAttachment ? cc.renderer._increaseBatchingSize(t, cc.renderer.VertexType.TRIANGLE) :
						cc.renderer._increaseBatchingSize(t, cc.renderer.VertexType.CUSTOM, k.triangles);
					e += 6 * t
				}
			} if (f._debugBones || f._debugSlots) {
			cc.renderer._batchRendering();
			g = this._worldTransform;
			n = this._matrix.mat;
			n[0] = g.a;
			n[4] = g.c;
			n[12] = g.tx;
			n[1] = g.b;
			n[5] = g.d;
			n[13] = g.ty;
			cc.kmGLMatrixMode(cc.KM_GL_MODELVIEW);
			cc.current_stack.stack.push(cc.current_stack.top);
			cc.current_stack.top = this._matrix;
			b = cc._drawingUtil;
			if (f._debugSlots && r && 0 < r.length)
				for (b.setDrawColor(0, 0, 255, 255), b.setLineWidth(1), g = 0, n = h.slots.length; g < n; g++)(d =
					r[g]) && b.drawPoly(d, 4, !0);
			if (f._debugBones) {
				b.setLineWidth(2);
				b.setDrawColor(255, 0, 0, 255);
				g = 0;
				for (n = h.bones.length; g < n; g++) f = h.bones[g], r = f.data.length * f.a + f.worldX, d = f.data.length * f.c + f.worldY, b.drawLine(cc.p(f.worldX, f.worldY), cc.p(r, d));
				b.setPointSize(4);
				b.setDrawColor(0, 0, 255, 255);
				g = 0;
				for (n = h.bones.length; g < n; g++) f = h.bones[g], b.drawPoint(cc.p(f.worldX, f.worldY)), 0 == g && b.setDrawColor(0, 255, 0, 255)
			}
			cc.kmGLPopMatrix()
		}
		return 0
	};
	b._getBlendFunc = function(b, d) {
		var e = this._currBlendFunc;
		switch (b) {
			case a.BlendMode.Normal:
				e.src =
					d ? cc.ONE : cc.SRC_ALPHA;
				e.dst = cc.ONE_MINUS_SRC_ALPHA;
				break;
			case a.BlendMode.Additive:
				e.src = d ? cc.ONE : cc.SRC_ALPHA;
				e.dst = cc.ONE;
				break;
			case a.BlendMode.Multiply:
				e.src = cc.DST_COLOR;
				e.dst = cc.ONE_MINUS_SRC_ALPHA;
				break;
			case a.BlendMode.Screen:
				e.src = cc.ONE;
				e.dst = cc.ONE_MINUS_SRC_COLOR;
				break;
			default:
				e = this._node._blendFunc
		}
		return e
	};
	b._createChildFormSkeletonData = function() {};
	b._updateChild = function() {};
	b._uploadRegionAttachmentData = function(b, d, e, f, g, h) {
		var k = this._displayedColor,
			m = k.r,
			n = k.g,
			k = k.b,
			p = this._displayedOpacity;
		b = b.updateWorldVertices(d, e);
		var r = this._worldTransform;
		d = r.a;
		e = r.b;
		for (var t = r.c, u = r.d, s = r.tx, r = r.ty, w = this._node.vertexZ, v = 0; 6 > v; v++) {
			var x = 4 > v ? v % 3 : v - 2,
				A = b[8 * x],
				z = b[8 * x + 1],
				y = A * e + z * u + r,
				B = b[8 * x + 5] * p << 24 | b[8 * x + 4] * k << 16 | b[8 * x + 3] * n << 8 | b[8 * x + 2] * m;
			f[h] = A * d + z * t + s;
			f[h + 1] = y;
			f[h + 2] = w;
			g[h + 3] = B;
			f[h + 4] = b[8 * x + 6];
			f[h + 5] = b[8 * x + 7];
			h += 6
		}
		if (this._node._debugSlots) return f = a.RegionAttachment, [cc.p(b[f.X1], b[f.Y1]), cc.p(b[f.X2], b[f.Y2]), cc.p(b[f.X3], b[f.Y3]), cc.p(b[f.X4], b[f.Y4])]
	};
	b._uploadMeshAttachmentData = function(a,
		b, e, f, g, h) {
		var k = this._worldTransform,
			m = k.a,
			n = k.b,
			p = k.c,
			r = k.d,
			t = k.tx,
			k = k.ty,
			u = this._node.vertexZ;
		a = a.updateWorldVertices(b, e);
		var s = this._displayedColor;
		b = s.r;
		e = s.g;
		for (var s = s.b, w = this._displayedOpacity, v = 0, x = a.length; v < x; v += 8) {
			var A = a[v],
				z = a[v + 1],
				y = A * p + z * r + k,
				B = a[v + 5] * w << 24 | a[v + 4] * s << 16 | a[v + 3] * e << 8 | a[v + 2] * b;
			f[h] = A * m + z * n + t;
			f[h + 1] = y;
			f[h + 2] = u;
			g[h + 3] = B;
			f[h + 4] = a[v + 6];
			f[h + 5] = a[v + 7];
			h += 6
		}
	}
})();
cc.pool = {
	_pool: {},
	_releaseCB: function() {
		this.release()
	},
	_autoRelease: function(a) {
		var b = void 0 === a._running ? !1 : !a._running;
		cc.director.getScheduler().schedule(this._releaseCB, a, 0, 0, 0, b)
	},
	putInPool: function(a) {
		var b = a.constructor.prototype.__pid;
		if (!b) {
			var c = {
				writable: !0,
				enumerable: !1,
				configurable: !0
			};
			c.value = ClassManager.getNewID();
			Object.defineProperty(a.constructor.prototype, "__pid", c)
		}
		this._pool[b] || (this._pool[b] = []);
		a.retain && a.retain();
		a.unuse && a.unuse();
		this._pool[b].push(a)
	},
	hasObject: function(a) {
		return (a =
			this._pool[a.prototype.__pid]) && 0 !== a.length ? !0 : !1
	},
	removeObject: function(a) {
		var b = a.constructor.prototype.__pid;
		if (b && (b = this._pool[b]))
			for (var c = 0; c < b.length; c++) a === b[c] && (a.release && a.release(), b.splice(c, 1))
	},
	getFromPool: function(a) {
		if (this.hasObject(a)) {
			var b = this._pool[a.prototype.__pid],
				c = Array.prototype.slice.call(arguments);
			c.shift();
			b = b.pop();
			b.reuse && b.reuse.apply(b, c);
			cc.sys.isNative && b.release && this._autoRelease(b);
			return b
		}
	},
	drainAllPools: function() {
		for (var a in this._pool)
			for (var b =
					0; b < this._pool[a].length; b++) {
				var c = this._pool[a][b];
				c.release && c.release()
			}
		this._pool = {}
	}
};
(function() {
	if (void 0 !== cc) {
		var a = function() {};
		a.prototype = {
			constructor: a,
			getInstance: function() {
				return this
			},
			loadPlugin: function(a) {},
			unloadPlugin: function(a) {}
		};
		var b = function() {};
		b.prototype = {
			constructor: b,
			setDebugMode: function(a) {},
			startSession: function(a) {},
			setCaptureUncaughtException: function(a) {},
			callFuncWithParam: function(a) {
				if ("function" === typeof this[a]) return this[a].apply(this, Array.prototype.splice.call(arguments, 1));
				cc.log("function is not define")
			},
			callStringFuncWithParam: function(a) {
				this.callFuncWithParam.apply(arguments)
			},
			getPluginName: function() {
				return this._name
			},
			getPluginVersion: function() {
				return this._version
			}
		};
		b.extend = function(a, c) {
			var d, h = {};
			for (d in b.prototype) h[d] = b.prototype[d];
			for (d in c) h[d] = c[d];
			d = eval("(function " + a + "Plugin(){})");
			h.constructor = d;
			d.prototype = h;
			return d
		};
		var c = function(a, b) {
			var c = plugin.PluginParam.ParamType;
			switch (a) {
				case c.TypeInt:
					c = parseInt(b);
					break;
				case c.TypeFloat:
					c = parseFloat(b);
					break;
				case c.TypeBool:
					c = Boolean(b);
					break;
				case c.TypeString:
					c = String(b);
					break;
				case c.TypeStringMap:
					c =
						b;
					break;
				default:
					c = b
			}
			return c
		};
		c.ParamType = {
			TypeInt: 1,
			TypeFloat: 2,
			TypeBool: 3,
			TypeString: 4,
			TypeStringMap: 5
		};
		c.AdsResultCode = {
			AdsReceived: 0,
			FullScreenViewShown: 1,
			FullScreenViewDismissed: 2,
			PointsSpendSucceed: 3,
			PointsSpendFailed: 4,
			NetworkError: 5,
			UnknownError: 6
		};
		c.PayResultCode = {
			PaySuccess: 0,
			PayFail: 1,
			PayCancel: 2,
			PayTimeOut: 3
		};
		c.ShareResultCode = {
			ShareSuccess: 0,
			ShareFail: 1,
			ShareCancel: 2,
			ShareTimeOut: 3
		};
		var d = {},
			a = {
				extend: function(a, c) {
					var g = cc.game.config && cc.game.config.plugin || {};
					d[a] = new(b.extend(a,
						c));
					"function" === typeof d[a].ctor && d[a].ctor(g[a])
				},
				PluginList: d,
				PluginParam: c,
				PluginManager: new a
			};
		window.plugin = a
	}
})();
(function(a, b, c, d, e) {
	var f = window.console;
	f && 604800 < Math.floor((new Date).getTime() / 1E3) - b && f.warn("The Facebook JSSDK is more than 7 days old.");
	if (!window[c] && window.JSON) {
		var g = window[c] = {
			__buffer: {
				replay: function() {
					for (var a = this, b = function(b) {
							var d = window[c];
							a.calls[b][0].split(".").forEach(function(a) {
								return d = d[a]
							});
							d.apply(null, a.calls[b][1])
						}, d = 0; d < this.calls.length; d++) b(d);
					this.calls = []
				},
				calls: [],
				opts: null
			},
			getUserID: function() {
				return ""
			},
			getAuthResponse: function() {
				return null
			},
			getAccessToken: function() {
				return null
			},
			init: function(a) {
				g.__buffer.opts = a
			}
		};
		for (b = 0; b < d.length; b++)
			if (f = d[b], !(f in g)) {
				for (var h = f.split("."), k = h.pop(), m = g, n = 0; n < h.length; n++) m = m[h[n]] || (m[h[n]] = {});
				m[k] = function(a) {
					if ("init" !== a) return function() {
						g.__buffer.calls.push([a, Array.prototype.slice.call(arguments)])
					}
				}(f)
			} n = document.createElement("script");
		n.src = a;
		n.async = !0;
		e && (n.crossOrigin = "anonymous");
		h = document.getElementsByTagName("script")[0];
		h.parentNode && h.parentNode.insertBefore(n, h)
	}
})("https://connect.facebook.net/vi_VN/sdk.js?hash\x3d19be1e5c79f77e217e849e620804f33b",
	1662457578, "FB", "AppEvents.EventNames AppEvents.ParameterNames AppEvents.activateApp AppEvents.clearAppVersion AppEvents.clearUserID AppEvents.getAppVersion AppEvents.getUserID AppEvents.logEvent AppEvents.logPageView AppEvents.logPurchase AppEvents.setAppVersion AppEvents.setUserID AppEvents.updateUserProperties Canvas.Plugin.showPluginElement Canvas.Plugin.hidePluginElement Canvas.Prefetcher.addStaticResource Canvas.Prefetcher.setCollectionMode Canvas.getPageInfo Canvas.scrollTo Canvas.setAutoGrow Canvas.setDoneLoading Canvas.setSize Canvas.setUrlHandler Canvas.startTimer Canvas.stopTimer Event.subscribe Event.unsubscribe XFBML.parse addFriend api getAccessToken getAuthResponse getLoginStatus getUserID init login logout publish share ui".split(" "),
	!0);
(function(a, b) {
	"object" === typeof exports && "undefined" !== typeof module ? module.exports = b() : "function" === typeof define && define.amd ? define(b) : (a = "undefined" !== typeof globalThis ? globalThis : a || self, a.Cropper = b())
})(this, function() {
	function a(a, b) {
		var c = Object.keys(a);
		if (Object.getOwnPropertySymbols) {
			var d = Object.getOwnPropertySymbols(a);
			b && (d = d.filter(function(b) {
				return Object.getOwnPropertyDescriptor(a, b).enumerable
			}));
			c.push.apply(c, d)
		}
		return c
	}

	function b(b) {
		for (var c = 1; c < arguments.length; c++) {
			var d =
				null != arguments[c] ? arguments[c] : {};
			c % 2 ? a(Object(d), !0).forEach(function(a) {
				var c = d[a];
				a = h(a);
				a in b ? Object.defineProperty(b, a, {
					value: c,
					enumerable: !0,
					configurable: !0,
					writable: !0
				}) : b[a] = c
			}) : Object.getOwnPropertyDescriptors ? Object.defineProperties(b, Object.getOwnPropertyDescriptors(d)) : a(Object(d)).forEach(function(a) {
				Object.defineProperty(b, a, Object.getOwnPropertyDescriptor(d, a))
			})
		}
		return b
	}

	function c(a) {
		"@babel/helpers - typeof";
		return c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
			function(a) {
				return typeof a
			} : function(a) {
				return a && "function" == typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a
			}, c(a)
	}

	function d(a, b) {
		for (var c = 0; c < b.length; c++) {
			var d = b[c];
			d.enumerable = d.enumerable || !1;
			d.configurable = !0;
			"value" in d && (d.writable = !0);
			Object.defineProperty(a, h(d.key), d)
		}
	}

	function e(a, b, c) {
		b && d(a.prototype, b);
		c && d(a, c);
		Object.defineProperty(a, "prototype", {
			writable: !1
		});
		return a
	}

	function f(a) {
		var b;
		b = Array.isArray(a) ? g(a) : void 0;
		if (!b && (b = "undefined" !== typeof Symbol &&
				null != a[Symbol.iterator] || null != a["@@iterator"] ? Array.from(a) : void 0, !b)) {
			a: {
				if (a) {
					if ("string" === typeof a) {
						a = g(a, void 0);
						break a
					}
					b = Object.prototype.toString.call(a).slice(8, -1);
					"Object" === b && a.constructor && (b = a.constructor.name);
					if ("Map" === b || "Set" === b) {
						a = Array.from(a);
						break a
					}
					if ("Arguments" === b || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)) {
						a = g(a, void 0);
						break a
					}
				}
				a = void 0
			}
			if (!a) throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
			b = a
		}
		return b
	}

	function g(a, b) {
		if (null == b || b > a.length) b = a.length;
		for (var c = 0, d = Array(b); c < b; c++) d[c] = a[c];
		return d
	}

	function h(a) {
		a: if ("object" === typeof a && null !== a) {
			var b = a[Symbol.toPrimitive];
			if (void 0 !== b) {
				a = b.call(a, "string");
				if ("object" !== typeof a) break a;
				throw new TypeError("@@toPrimitive must return a primitive value.");
			}
			a = String(a)
		}return "symbol" === typeof a ? a : String(a)
	}

	function k(a) {
		return "number" === typeof a && !sa(a)
	}

	function m(a) {
		return "undefined" === typeof a
	}

	function n(a) {
		return "object" === c(a) &&
			null !== a
	}

	function p(a) {
		if (!n(a)) return !1;
		try {
			var b = a.constructor,
				c = b.prototype;
			return b && c && ta.call(c, "isPrototypeOf")
		} catch (d) {
			return !1
		}
	}

	function r(a) {
		return "function" === typeof a
	}

	function t(a) {
		return Array.from ? Array.from(a) : ua.call(a)
	}

	function u(a, b) {
		a && r(b) && (Array.isArray(a) || k(a.length) ? t(a).forEach(function(c, d) {
			b.call(a, c, d, a)
		}) : n(a) && Object.keys(a).forEach(function(c) {
			b.call(a, a[c], c, a)
		}));
		return a
	}

	function s(a) {
		var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 1E11;
		return va.test(a) ?
			Math.round(a * b) / b : a
	}

	function w(a, b) {
		var c = a.style;
		u(b, function(a, b) {
			wa.test(b) && k(a) && (a = "".concat(a, "px"));
			c[b] = a
		})
	}

	function v(a, b) {
		return a.classList ? a.classList.contains(b) : -1 < a.className.indexOf(b)
	}

	function x(a, b) {
		if (b)
			if (k(a.length)) u(a, function(a) {
				x(a, b)
			});
			else if (a.classList) a.classList.add(b);
		else {
			var c = a.className.trim();
			c ? 0 > c.indexOf(b) && (a.className = "".concat(c, " ").concat(b)) : a.className = b
		}
	}

	function A(a, b) {
		b && (k(a.length) ? u(a, function(a) {
				A(a, b)
			}) : a.classList ? a.classList.remove(b) : 0 <= a.className.indexOf(b) &&
			(a.className = a.className.replace(b, "")))
	}

	function z(a, b, c) {
		b && (k(a.length) ? u(a, function(a) {
			z(a, b, c)
		}) : c ? x(a, b) : A(a, b))
	}

	function y(a) {
		return a.replace(xa, "$1-$2").toLowerCase()
	}

	function B(a, b) {
		return n(a[b]) ? a[b] : a.dataset ? a.dataset[b] : a.getAttribute("data-".concat(y(b)))
	}

	function C(a, b, c) {
		n(c) ? a[b] = c : a.dataset ? a.dataset[b] = c : a.setAttribute("data-".concat(y(b)), c)
	}

	function D(a, b, c) {
		var d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {},
			e = c;
		b.trim().split(ja).forEach(function(b) {
			if (!ka) {
				var f =
					a.listeners;
				f && f[b] && f[b][c] && (e = f[b][c], delete f[b][c], 0 === Object.keys(f[b]).length && delete f[b], 0 === Object.keys(f).length && delete a.listeners)
			}
			a.removeEventListener(b, e, d)
		})
	}

	function I(a, b, c) {
		var d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {},
			e = c;
		b.trim().split(ja).forEach(function(b) {
			if (d.once && !ka) {
				var f = a.listeners,
					g = void 0 === f ? {} : f;
				e = function() {
					delete g[b][c];
					a.removeEventListener(b, e, d);
					for (var f = arguments.length, h = Array(f), k = 0; k < f; k++) h[k] = arguments[k];
					c.apply(a, h)
				};
				g[b] || (g[b] = {});
				g[b][c] && a.removeEventListener(b, g[b][c], d);
				g[b][c] = e;
				a.listeners = g
			}
			a.addEventListener(b, e, d)
		})
	}

	function E(a, b, c) {
		var d;
		r(Event) && r(CustomEvent) ? d = new CustomEvent(b, {
			detail: c,
			bubbles: !0,
			cancelable: !0
		}) : (d = document.createEvent("CustomEvent"), d.initCustomEvent(b, !0, !0, c));
		return a.dispatchEvent(d)
	}

	function F(a) {
		a = a.getBoundingClientRect();
		return {
			left: a.left + (window.pageXOffset - document.documentElement.clientLeft),
			top: a.top + (window.pageYOffset - document.documentElement.clientTop)
		}
	}

	function K(a) {
		a =
			a.match(oa);
		return null !== a && (a[1] !== ia.protocol || a[2] !== ia.hostname || a[3] !== ia.port)
	}

	function G(a) {
		var b = "timestamp\x3d".concat((new Date).getTime());
		return a + (-1 === a.indexOf("?") ? "?" : "\x26") + b
	}

	function H(a) {
		var b = a.rotate,
			c = a.scaleX,
			d = a.scaleY,
			e = a.translateX;
		a = a.translateY;
		var f = [];
		k(e) && 0 !== e && f.push("translateX(".concat(e, "px)"));
		k(a) && 0 !== a && f.push("translateY(".concat(a, "px)"));
		k(b) && 0 !== b && f.push("rotate(".concat(b, "deg)"));
		k(c) && 1 !== c && f.push("scaleX(".concat(c, ")"));
		k(d) && 1 !== d && f.push("scaleY(".concat(d,
			")"));
		b = f.length ? f.join(" ") : "none";
		return {
			WebkitTransform: b,
			msTransform: b,
			transform: b
		}
	}

	function M(a) {
		var c = b({}, a),
			d = 0;
		u(a, function(a, b) {
			delete c[b];
			u(c, function(b) {
				var c = Math.abs(a.startX - b.startX),
					e = Math.abs(a.startY - b.startY),
					f = Math.abs(a.endX - b.endX);
				b = Math.abs(a.endY - b.endY);
				c = Math.sqrt(c * c + e * e);
				f = (Math.sqrt(f * f + b * b) - c) / c;
				Math.abs(f) > Math.abs(d) && (d = f)
			})
		});
		return d
	}

	function J(a, c) {
		var d = a.pageX,
			e = a.pageY,
			f = {
				endX: d,
				endY: e
			};
		return c ? f : b({
			startX: d,
			startY: e
		}, f)
	}

	function N(a) {
		var b = 0,
			c = 0,
			d = 0;
		u(a,
			function(a) {
				var e = a.startY;
				b += a.startX;
				c += e;
				d += 1
			});
		b /= d;
		c /= d;
		return {
			pageX: b,
			pageY: c
		}
	}

	function L(a) {
		var b = a.aspectRatio,
			c = a.height,
			d = a.width,
			e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "contain",
			f = 0 < d && Infinity > d,
			g = 0 < c && Infinity > c;
		f && g ? (f = c * b, "contain" === e && f > d || "cover" === e && f < d ? c = d / b : d = c * b) : f ? c = d / b : g && (d = c * b);
		return {
			width: d,
			height: c
		}
	}

	function O(a, b, c, d) {
		var e = b.aspectRatio,
			g = b.naturalWidth,
			h = b.naturalHeight,
			k = b.rotate,
			k = void 0 === k ? 0 : k,
			m = b.scaleX,
			m = void 0 === m ? 1 : m;
		b = b.scaleY;
		b = void 0 ===
			b ? 1 : b;
		var n = c.aspectRatio,
			p = c.naturalWidth,
			r = c.naturalHeight;
		c = d.fillColor;
		c = void 0 === c ? "transparent" : c;
		var t = d.imageSmoothingEnabled,
			t = void 0 === t ? !0 : t,
			u = d.imageSmoothingQuality,
			u = void 0 === u ? "low" : u,
			v = d.maxWidth,
			w = void 0 === v ? Infinity : v,
			v = d.maxHeight,
			x = void 0 === v ? Infinity : v,
			v = d.minWidth,
			y = void 0 === v ? 0 : v;
		d = d.minHeight;
		var z = void 0 === d ? 0 : d;
		d = document.createElement("canvas");
		var v = d.getContext("2d"),
			A = L({
				aspectRatio: n,
				width: w,
				height: x
			}),
			n = L({
				aspectRatio: n,
				width: y,
				height: z
			}, "cover"),
			p = Math.min(A.width,
				Math.max(n.width, p)),
			r = Math.min(A.height, Math.max(n.height, r)),
			n = L({
				aspectRatio: e,
				width: w,
				height: x
			}),
			e = L({
				aspectRatio: e,
				width: y,
				height: z
			}, "cover"),
			g = Math.min(n.width, Math.max(e.width, g)),
			h = Math.min(n.height, Math.max(e.height, h)),
			h = [-g / 2, -h / 2, g, h];
		d.width = s(p);
		d.height = s(r);
		v.fillStyle = c;
		v.fillRect(0, 0, p, r);
		v.save();
		v.translate(p / 2, r / 2);
		v.rotate(k * Math.PI / 180);
		v.scale(m, b);
		v.imageSmoothingEnabled = t;
		v.imageSmoothingQuality = u;
		v.drawImage.apply(v, [a].concat(f(h.map(function(a) {
			return Math.floor(s(a))
		}))));
		v.restore();
		return d
	}

	function R(a) {
		a = a.replace(pa, "");
		var b = atob(a);
		a = new ArrayBuffer(b.length);
		var c = new Uint8Array(a);
		u(c, function(a, d) {
			c[d] = b.charCodeAt(d)
		});
		return a
	}
	var P = "undefined" !== typeof window && "undefined" !== typeof window.document,
		S = P ? window : {},
		T = P && S.document.documentElement ? "ontouchstart" in S.document.documentElement : !1,
		V = P ? "PointerEvent" in S : !1,
		X = "".concat("cropper", "-crop"),
		Z = "".concat("cropper", "-disabled"),
		Q = "".concat("cropper", "-hidden"),
		ea = "".concat("cropper", "-hide"),
		aa = "".concat("cropper",
			"-invisible"),
		Y = "".concat("cropper", "-modal"),
		ca = "".concat("cropper", "-move"),
		ba = "".concat("cropper", "Action"),
		W = "".concat("cropper", "Preview"),
		fa = V ? "pointerdown" : T ? "touchstart" : "mousedown",
		ha = V ? "pointermove" : T ? "touchmove" : "mousemove",
		da = V ? "pointerup pointercancel" : T ? "touchend touchcancel" : "mouseup",
		ga = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,
		$ = /^data:/,
		na = /^data:image\/jpeg;base64,/,
		ra = /^img|canvas$/i,
		ma = {
			viewMode: 0,
			dragMode: "crop",
			initialAspectRatio: NaN,
			aspectRatio: NaN,
			data: null,
			preview: "",
			responsive: !0,
			restore: !0,
			checkCrossOrigin: !0,
			checkOrientation: !0,
			modal: !0,
			guides: !0,
			center: !0,
			highlight: !0,
			background: !0,
			autoCrop: !0,
			autoCropArea: 0.8,
			movable: !0,
			rotatable: !0,
			scalable: !0,
			zoomable: !0,
			zoomOnTouch: !0,
			zoomOnWheel: !0,
			wheelZoomRatio: 0.1,
			cropBoxMovable: !0,
			cropBoxResizable: !0,
			toggleDragModeOnDblclick: !0,
			minCanvasWidth: 0,
			minCanvasHeight: 0,
			minCropBoxWidth: 0,
			minCropBoxHeight: 0,
			minContainerWidth: 200,
			minContainerHeight: 100,
			ready: null,
			cropstart: null,
			cropmove: null,
			cropend: null,
			crop: null,
			zoom: null
		},
		sa = Number.isNaN ||
		S.isNaN,
		ta = Object.prototype.hasOwnProperty,
		ua = Array.prototype.slice,
		U = Object.assign || function(a) {
			for (var b = arguments.length, c = Array(1 < b ? b - 1 : 0), d = 1; d < b; d++) c[d - 1] = arguments[d];
			n(a) && 0 < c.length && c.forEach(function(b) {
				n(b) && Object.keys(b).forEach(function(c) {
					a[c] = b[c]
				})
			});
			return a
		},
		va = /\.\d*(?:0|9){12}\d*$/,
		wa = /^width|height|left|top|marginLeft|marginTop$/,
		xa = /([a-z\d])([A-Z])/g,
		ja = /\s\s*/,
		ka = function() {
			var a = !1;
			if (P) {
				var b = !1,
					c = function() {},
					d = Object.defineProperty({}, "once", {
						get: function() {
							a = !0;
							return b
						},
						set: function(a) {
							b = a
						}
					});
				S.addEventListener("test", c, d);
				S.removeEventListener("test", c, d)
			}
			return a
		}(),
		ia = S.location,
		oa = /^(\w+:)\/\/([^:/?#]*):?(\d*)/i,
		la = String.fromCharCode,
		pa = /^data:.*,/,
		qa = S.Cropper,
		T = function() {
			function a(b) {
				var c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
				if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
				if (!b || !ra.test(b.tagName)) throw Error("The first argument is required and must be an \x3cimg\x3e or \x3ccanvas\x3e element.");
				this.element =
					b;
				this.options = U({}, ma, p(c) && c);
				this.disabled = this.cropped = !1;
				this.pointers = {};
				this.sizing = this.sized = this.replaced = this.reloading = this.ready = !1;
				this.init()
			}
			e(a, [{
				key: "init",
				value: function() {
					var a = this.element,
						b = a.tagName.toLowerCase(),
						c;
					if (!a.cropper) {
						a.cropper = this;
						if ("img" === b) {
							this.isImg = !0;
							this.originalUrl = c = a.getAttribute("src") || "";
							if (!c) return;
							c = a.src
						} else "canvas" === b && window.HTMLCanvasElement && (c = a.toDataURL());
						this.load(c)
					}
				}
			}, {
				key: "load",
				value: function(a) {
					var b = this;
					if (a) {
						this.url = a;
						this.imageData = {};
						var c = this.element,
							d = this.options;
						d.rotatable || d.scalable || (d.checkOrientation = !1);
						if (d.checkOrientation && window.ArrayBuffer)
							if ($.test(a)) na.test(a) ? this.read(R(a)) : this.clone();
							else {
								var e = new XMLHttpRequest,
									f = this.clone.bind(this);
								this.reloading = !0;
								this.xhr = e;
								e.onabort = f;
								e.onerror = f;
								e.ontimeout = f;
								e.onprogress = function() {
									"image/jpeg" !== e.getResponseHeader("content-type") && e.abort()
								};
								e.onload = function() {
									b.read(e.response)
								};
								e.onloadend = function() {
									b.reloading = !1;
									b.xhr = null
								};
								d.checkCrossOrigin && K(a) &&
									c.crossOrigin && (a = G(a));
								e.open("GET", a, !0);
								e.responseType = "arraybuffer";
								e.withCredentials = "use-credentials" === c.crossOrigin;
								e.send()
							}
						else this.clone()
					}
				}
			}, {
				key: "read",
				value: function(a) {
					var b = this.options,
						c = this.imageData,
						d;
					d = new DataView(a);
					var e;
					try {
						var f, g, h;
						if (255 === d.getUint8(0) && 216 === d.getUint8(1))
							for (var k = d.byteLength, m = 2; m + 1 < k;) {
								if (255 === d.getUint8(m) && 225 === d.getUint8(m + 1)) {
									g = m;
									break
								}
								m += 1
							}
						if (g) {
							var k = g + 10,
								n = g + 4;
							g = 4;
							m = "";
							for (g += n; n < g; n += 1) m += la(d.getUint8(n));
							if ("Exif" === m) {
								var p = d.getUint16(k);
								if (((f = 18761 === p) || 19789 === p) && 42 === d.getUint16(k + 2, f)) {
									var r = d.getUint32(k + 4, f);
									8 <= r && (h = k + r)
								}
							}
						}
						if (h) {
							var s = d.getUint16(h, f),
								u, v;
							for (v = 0; v < s; v += 1)
								if (u = h + 12 * v + 2, 274 === d.getUint16(u, f)) {
									u += 8;
									e = d.getUint16(u, f);
									d.setUint16(u, 1, f);
									break
								}
						}
					} catch (w) {
						e = 1
					}
					d = e;
					e = 0;
					h = f = 1;
					if (1 < d) {
						e = [];
						for (a = new Uint8Array(a); 0 < a.length;) e.push(la.apply(null, t(a.subarray(0, 8192)))), a = a.subarray(8192);
						this.url = "data:".concat("image/jpeg", ";base64,").concat(btoa(e.join("")));
						a = 0;
						f = e = 1;
						switch (d) {
							case 2:
								e = -1;
								break;
							case 3:
								a = -180;
								break;
							case 4:
								f = -1;
								break;
							case 5:
								a = 90;
								f = -1;
								break;
							case 6:
								a = 90;
								break;
							case 7:
								a = 90;
								e = -1;
								break;
							case 8:
								a = -90
						}
						a = {
							rotate: a,
							scaleX: e,
							scaleY: f
						};
						e = a.rotate;
						f = a.scaleX;
						h = a.scaleY
					}
					b.rotatable && (c.rotate = e);
					b.scalable && (c.scaleX = f, c.scaleY = h);
					this.clone()
				}
			}, {
				key: "clone",
				value: function() {
					var a = this.element,
						b = this.url,
						c = a.crossOrigin,
						d = b;
					this.options.checkCrossOrigin && K(b) && (c || (c = "anonymous"), d = G(b));
					this.crossOrigin = c;
					this.crossOriginUrl = d;
					var e = document.createElement("img");
					c && (e.crossOrigin = c);
					e.src = d || b;
					e.alt =
						a.alt || "The image to crop";
					this.image = e;
					e.onload = this.start.bind(this);
					e.onerror = this.stop.bind(this);
					x(e, ea);
					a.parentNode && a.parentNode.insertBefore(e, a.nextSibling)
				}
			}, {
				key: "start",
				value: function() {
					var a = this,
						b = this.image;
					b.onload = null;
					b.onerror = null;
					this.sizing = !0;
					var c = S.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(S.navigator.userAgent),
						d = function(b, c) {
							U(a.imageData, {
								naturalWidth: b,
								naturalHeight: c,
								aspectRatio: b / c
							});
							a.initialImageData = U({}, a.imageData);
							a.sizing = !1;
							a.sized = !0;
							a.build()
						};
					if (b.naturalWidth && !c) d(b.naturalWidth, b.naturalHeight);
					else {
						var e = document.createElement("img"),
							f = document.body || document.documentElement;
						this.sizingImage = e;
						e.onload = function() {
							d(e.width, e.height);
							c || f.removeChild(e)
						};
						e.src = b.src;
						c || (e.style.cssText = "left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;", f.appendChild(e))
					}
				}
			}, {
				key: "stop",
				value: function() {
					var a = this.image;
					a.onload = null;
					a.onerror = null;
					a.parentNode.removeChild(a);
					this.image = null
				}
			}, {
				key: "build",
				value: function() {
					if (this.sized && !this.ready) {
						var a = this.element,
							b = this.options,
							c = this.image,
							d = a.parentNode,
							e = document.createElement("div");
						e.innerHTML = '\x3cdiv class\x3d"cropper-container" touch-action\x3d"none"\x3e\x3cdiv class\x3d"cropper-wrap-box"\x3e\x3cdiv class\x3d"cropper-canvas"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropper-drag-box"\x3e\x3c/div\x3e\x3cdiv class\x3d"cropper-crop-box"\x3e\x3cspan class\x3d"cropper-view-box"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-dashed dashed-h"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-dashed dashed-v"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-center"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-face"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-line line-e" data-cropper-action\x3d"e"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-line line-n" data-cropper-action\x3d"n"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-line line-w" data-cropper-action\x3d"w"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-line line-s" data-cropper-action\x3d"s"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-point point-e" data-cropper-action\x3d"e"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-point point-n" data-cropper-action\x3d"n"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-point point-w" data-cropper-action\x3d"w"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-point point-s" data-cropper-action\x3d"s"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-point point-ne" data-cropper-action\x3d"ne"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-point point-nw" data-cropper-action\x3d"nw"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-point point-sw" data-cropper-action\x3d"sw"\x3e\x3c/span\x3e\x3cspan class\x3d"cropper-point point-se" data-cropper-action\x3d"se"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e';
						var e = e.querySelector(".".concat("cropper", "-container")),
							f = e.querySelector(".".concat("cropper", "-canvas")),
							g = e.querySelector(".".concat("cropper", "-drag-box")),
							h = e.querySelector(".".concat("cropper", "-crop-box")),
							k = h.querySelector(".".concat("cropper", "-face"));
						this.container = d;
						this.cropper = e;
						this.canvas = f;
						this.dragBox = g;
						this.cropBox = h;
						this.viewBox = e.querySelector(".".concat("cropper", "-view-box"));
						this.face = k;
						f.appendChild(c);
						x(a, Q);
						d.insertBefore(e, a.nextSibling);
						A(c, ea);
						this.initPreview();
						this.bind();
						b.initialAspectRatio = Math.max(0, b.initialAspectRatio) || NaN;
						b.aspectRatio = Math.max(0, b.aspectRatio) || NaN;
						b.viewMode = Math.max(0, Math.min(3, Math.round(b.viewMode))) || 0;
						x(h, Q);
						b.guides || x(h.getElementsByClassName("".concat("cropper", "-dashed")), Q);
						b.center || x(h.getElementsByClassName("".concat("cropper", "-center")), Q);
						b.background && x(e, "".concat("cropper", "-bg"));
						b.highlight || x(k, aa);
						b.cropBoxMovable && (x(k, ca), C(k, ba, "all"));
						b.cropBoxResizable || (x(h.getElementsByClassName("".concat("cropper", "-line")),
							Q), x(h.getElementsByClassName("".concat("cropper", "-point")), Q));
						this.render();
						this.ready = !0;
						this.setDragMode(b.dragMode);
						b.autoCrop && this.crop();
						this.setData(b.data);
						r(b.ready) && I(a, "ready", b.ready, {
							once: !0
						});
						E(a, "ready")
					}
				}
			}, {
				key: "unbuild",
				value: function() {
					if (this.ready) {
						this.ready = !1;
						this.unbind();
						this.resetPreview();
						var a = this.cropper.parentNode;
						a && a.removeChild(this.cropper);
						A(this.element, Q)
					}
				}
			}, {
				key: "uncreate",
				value: function() {
					this.ready ? (this.unbuild(), this.cropped = this.ready = !1) : this.sizing ?
						(this.sizingImage.onload = null, this.sized = this.sizing = !1) : this.reloading ? (this.xhr.onabort = null, this.xhr.abort()) : this.image && this.stop()
				}
			}], [{
				key: "noConflict",
				value: function() {
					window.Cropper = qa;
					return a
				}
			}, {
				key: "setDefaults",
				value: function(a) {
					U(ma, p(a) && a)
				}
			}]);
			return a
		}();
	U(T.prototype, {
		render: function() {
			this.initContainer();
			this.initCanvas();
			this.initCropBox();
			this.renderCanvas();
			this.cropped && this.renderCropBox()
		},
		initContainer: function() {
			var a = this.element,
				b = this.options,
				c = this.container,
				d = this.cropper,
				e = Number(b.minContainerWidth),
				b = Number(b.minContainerHeight);
			x(d, Q);
			A(a, Q);
			this.containerData = c = {
				width: Math.max(c.offsetWidth, 0 <= e ? e : 200),
				height: Math.max(c.offsetHeight, 0 <= b ? b : 100)
			};
			w(d, {
				width: c.width,
				height: c.height
			});
			x(a, Q);
			A(d, Q)
		},
		initCanvas: function() {
			var a = this.containerData,
				b = this.imageData,
				c = this.options.viewMode,
				d = 90 === Math.abs(b.rotate) % 180,
				e = d ? b.naturalHeight : b.naturalWidth,
				b = d ? b.naturalWidth : b.naturalHeight,
				d = e / b,
				f = a.width,
				g = a.height;
			a.height * d > a.width ? 3 === c ? f = a.height * d : g = a.width / d : 3 ===
				c ? g = a.width / d : f = a.height * d;
			this.canvasData = e = {
				aspectRatio: d,
				naturalWidth: e,
				naturalHeight: b,
				width: f,
				height: g
			};
			this.limited = 1 === c || 2 === c;
			this.limitCanvas(!0, !0);
			e.width = Math.min(Math.max(e.width, e.minWidth), e.maxWidth);
			e.height = Math.min(Math.max(e.height, e.minHeight), e.maxHeight);
			e.left = (a.width - e.width) / 2;
			e.top = (a.height - e.height) / 2;
			e.oldLeft = e.left;
			e.oldTop = e.top;
			this.initialCanvasData = U({}, e)
		},
		limitCanvas: function(a, b) {
			var c = this.options,
				d = this.containerData,
				e = this.canvasData,
				f = this.cropBoxData,
				g = c.viewMode,
				h = e.aspectRatio,
				k = this.cropped && f;
			if (a) {
				var m = Number(c.minCanvasWidth) || 0,
					c = Number(c.minCanvasHeight) || 0;
				1 < g ? (m = Math.max(m, d.width), c = Math.max(c, d.height), 3 === g && (c * h > m ? m = c * h : c = m / h)) : 0 < g && (m ? m = Math.max(m, k ? f.width : 0) : c ? c = Math.max(c, k ? f.height : 0) : k && (m = f.width, c = f.height, c * h > m ? m = c * h : c = m / h));
				h = L({
					aspectRatio: h,
					width: m,
					height: c
				});
				m = h.width;
				c = h.height;
				e.minWidth = m;
				e.minHeight = c;
				e.maxWidth = Infinity;
				e.maxHeight = Infinity
			}
			b && (g > (k ? 0 : 1) ? (m = d.width - e.width, h = d.height - e.height, e.minLeft = Math.min(0,
				m), e.minTop = Math.min(0, h), e.maxLeft = Math.max(0, m), e.maxTop = Math.max(0, h), k && this.limited && (e.minLeft = Math.min(f.left, f.left + (f.width - e.width)), e.minTop = Math.min(f.top, f.top + (f.height - e.height)), e.maxLeft = f.left, e.maxTop = f.top, 2 === g && (e.width >= d.width && (e.minLeft = Math.min(0, m), e.maxLeft = Math.max(0, m)), e.height >= d.height && (e.minTop = Math.min(0, h), e.maxTop = Math.max(0, h))))) : (e.minLeft = -e.width, e.minTop = -e.height, e.maxLeft = d.width, e.maxTop = d.height))
		},
		renderCanvas: function(a, b) {
			var c = this.canvasData,
				d =
				this.imageData;
			if (b) {
				var e;
				var f = {
						width: d.naturalWidth * Math.abs(d.scaleX || 1),
						height: d.naturalHeight * Math.abs(d.scaleY || 1),
						degree: d.rotate || 0
					},
					d = f.width;
				e = f.height;
				f = f.degree;
				f = Math.abs(f) % 180;
				if (90 === f) e = {
					width: e,
					height: d
				};
				else {
					var g = f % 90 * Math.PI / 180,
						h = Math.sin(g),
						k = Math.cos(g),
						g = d * k + e * h,
						d = d * h + e * k;
					e = 90 < f ? {
						width: d,
						height: g
					} : {
						width: g,
						height: d
					}
				}
				d = e.width;
				e = e.height;
				f = d / c.naturalWidth * c.width;
				h = e / c.naturalHeight * c.height;
				c.left -= (f - c.width) / 2;
				c.top -= (h - c.height) / 2;
				c.width = f;
				c.height = h;
				c.aspectRatio = d /
					e;
				c.naturalWidth = d;
				c.naturalHeight = e;
				this.limitCanvas(!0, !1)
			}
			if (c.width > c.maxWidth || c.width < c.minWidth) c.left = c.oldLeft;
			if (c.height > c.maxHeight || c.height < c.minHeight) c.top = c.oldTop;
			c.width = Math.min(Math.max(c.width, c.minWidth), c.maxWidth);
			c.height = Math.min(Math.max(c.height, c.minHeight), c.maxHeight);
			this.limitCanvas(!1, !0);
			c.left = Math.min(Math.max(c.left, c.minLeft), c.maxLeft);
			c.top = Math.min(Math.max(c.top, c.minTop), c.maxTop);
			c.oldLeft = c.left;
			c.oldTop = c.top;
			w(this.canvas, U({
					width: c.width,
					height: c.height
				},
				H({
					translateX: c.left,
					translateY: c.top
				})));
			this.renderImage(a);
			this.cropped && this.limited && this.limitCropBox(!0, !0)
		},
		renderImage: function(a) {
			var b = this.canvasData,
				c = this.imageData,
				d = b.width / b.naturalWidth * c.naturalWidth,
				e = b.height / b.naturalHeight * c.naturalHeight;
			U(c, {
				width: d,
				height: e,
				left: (b.width - d) / 2,
				top: (b.height - e) / 2
			});
			w(this.image, U({
				width: c.width,
				height: c.height
			}, H(U({
				translateX: c.left,
				translateY: c.top
			}, c))));
			a && this.output()
		},
		initCropBox: function() {
			var a = this.options,
				b = this.canvasData,
				c = a.aspectRatio ||
				a.initialAspectRatio,
				a = Number(a.autoCropArea) || 0.8,
				d = {
					width: b.width,
					height: b.height
				};
			c && (b.height * c > b.width ? d.height = d.width / c : d.width = d.height * c);
			this.cropBoxData = d;
			this.limitCropBox(!0, !0);
			d.width = Math.min(Math.max(d.width, d.minWidth), d.maxWidth);
			d.height = Math.min(Math.max(d.height, d.minHeight), d.maxHeight);
			d.width = Math.max(d.minWidth, d.width * a);
			d.height = Math.max(d.minHeight, d.height * a);
			d.left = b.left + (b.width - d.width) / 2;
			d.top = b.top + (b.height - d.height) / 2;
			d.oldLeft = d.left;
			d.oldTop = d.top;
			this.initialCropBoxData =
				U({}, d)
		},
		limitCropBox: function(a, b) {
			var c = this.options,
				d = this.containerData,
				e = this.canvasData,
				f = this.cropBoxData,
				g = this.limited,
				h = c.aspectRatio;
			if (a) {
				var k = Number(c.minCropBoxWidth) || 0,
					c = Number(c.minCropBoxHeight) || 0,
					m = g ? Math.min(d.width, e.width, e.width + e.left, d.width - e.left) : d.width,
					n = g ? Math.min(d.height, e.height, e.height + e.top, d.height - e.top) : d.height,
					k = Math.min(k, d.width),
					c = Math.min(c, d.height);
				h && (k && c ? c * h > k ? c = k / h : k = c * h : k ? c = k / h : c && (k = c * h), n * h > m ? n = m / h : m = n * h);
				f.minWidth = Math.min(k, m);
				f.minHeight =
					Math.min(c, n);
				f.maxWidth = m;
				f.maxHeight = n
			}
			b && (g ? (f.minLeft = Math.max(0, e.left), f.minTop = Math.max(0, e.top), f.maxLeft = Math.min(d.width, e.left + e.width) - f.width, f.maxTop = Math.min(d.height, e.top + e.height) - f.height) : (f.minLeft = 0, f.minTop = 0, f.maxLeft = d.width - f.width, f.maxTop = d.height - f.height))
		},
		renderCropBox: function() {
			var a = this.options,
				b = this.containerData,
				c = this.cropBoxData;
			if (c.width > c.maxWidth || c.width < c.minWidth) c.left = c.oldLeft;
			if (c.height > c.maxHeight || c.height < c.minHeight) c.top = c.oldTop;
			c.width = Math.min(Math.max(c.width,
				c.minWidth), c.maxWidth);
			c.height = Math.min(Math.max(c.height, c.minHeight), c.maxHeight);
			this.limitCropBox(!1, !0);
			c.left = Math.min(Math.max(c.left, c.minLeft), c.maxLeft);
			c.top = Math.min(Math.max(c.top, c.minTop), c.maxTop);
			c.oldLeft = c.left;
			c.oldTop = c.top;
			a.movable && a.cropBoxMovable && C(this.face, ba, c.width >= b.width && c.height >= b.height ? "move" : "all");
			w(this.cropBox, U({
				width: c.width,
				height: c.height
			}, H({
				translateX: c.left,
				translateY: c.top
			})));
			this.cropped && this.limited && this.limitCanvas(!0, !0);
			this.disabled || this.output()
		},
		output: function() {
			this.preview();
			E(this.element, "crop", this.getData())
		}
	}, {
		initPreview: function() {
			var a = this.element,
				b = this.crossOrigin,
				c = this.options.preview,
				d = b ? this.crossOriginUrl : this.url,
				e = a.alt || "The image to preview",
				f = document.createElement("img");
			b && (f.crossOrigin = b);
			f.src = d;
			f.alt = e;
			this.viewBox.appendChild(f);
			this.viewBoxImage = f;
			c && (f = c, "string" === typeof c ? f = a.ownerDocument.querySelectorAll(c) : c.querySelector && (f = [c]), this.previews = f, u(f, function(a) {
				var c = document.createElement("img");
				C(a,
					W, {
						width: a.offsetWidth,
						height: a.offsetHeight,
						html: a.innerHTML
					});
				b && (c.crossOrigin = b);
				c.src = d;
				c.alt = e;
				c.style.cssText = 'display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"';
				a.innerHTML = "";
				a.appendChild(c)
			}))
		},
		resetPreview: function() {
			u(this.previews, function(a) {
				var b = B(a, W);
				w(a, {
					width: b.width,
					height: b.height
				});
				a.innerHTML = b.html;
				if (n(a[W])) try {
					delete a[W]
				} catch (c) {
					a[W] = void 0
				} else if (a.dataset) try {
					delete a.dataset[W]
				} catch (d) {
					a.dataset[W] =
						void 0
				} else a.removeAttribute("data-".concat(y(W)))
			})
		},
		preview: function() {
			var a = this.imageData,
				b = this.canvasData,
				c = this.cropBoxData,
				d = c.width,
				e = c.height,
				f = a.width,
				g = a.height,
				h = c.left - b.left - a.left,
				k = c.top - b.top - a.top;
			this.cropped && !this.disabled && (w(this.viewBoxImage, U({
				width: f,
				height: g
			}, H(U({
				translateX: -h,
				translateY: -k
			}, a)))), u(this.previews, function(b) {
				var c = B(b, W),
					m = c.width,
					c = c.height,
					n = m,
					p = c,
					r = 1;
				d && (r = m / d, p = e * r);
				e && p > c && (r = c / e, n = d * r, p = c);
				w(b, {
					width: n,
					height: p
				});
				w(b.getElementsByTagName("img")[0],
					U({
						width: f * r,
						height: g * r
					}, H(U({
						translateX: -h * r,
						translateY: -k * r
					}, a))))
			}))
		}
	}, {
		bind: function() {
			var a = this.element,
				b = this.options,
				c = this.cropper;
			r(b.cropstart) && I(a, "cropstart", b.cropstart);
			r(b.cropmove) && I(a, "cropmove", b.cropmove);
			r(b.cropend) && I(a, "cropend", b.cropend);
			r(b.crop) && I(a, "crop", b.crop);
			r(b.zoom) && I(a, "zoom", b.zoom);
			I(c, fa, this.onCropStart = this.cropStart.bind(this));
			b.zoomable && b.zoomOnWheel && I(c, "wheel", this.onWheel = this.wheel.bind(this), {
				passive: !1,
				capture: !0
			});
			b.toggleDragModeOnDblclick &&
				I(c, "dblclick", this.onDblclick = this.dblclick.bind(this));
			I(a.ownerDocument, ha, this.onCropMove = this.cropMove.bind(this));
			I(a.ownerDocument, da, this.onCropEnd = this.cropEnd.bind(this));
			b.responsive && I(window, "resize", this.onResize = this.resize.bind(this))
		},
		unbind: function() {
			var a = this.element,
				b = this.options,
				c = this.cropper;
			r(b.cropstart) && D(a, "cropstart", b.cropstart);
			r(b.cropmove) && D(a, "cropmove", b.cropmove);
			r(b.cropend) && D(a, "cropend", b.cropend);
			r(b.crop) && D(a, "crop", b.crop);
			r(b.zoom) && D(a, "zoom", b.zoom);
			D(c, fa, this.onCropStart);
			b.zoomable && b.zoomOnWheel && D(c, "wheel", this.onWheel, {
				passive: !1,
				capture: !0
			});
			b.toggleDragModeOnDblclick && D(c, "dblclick", this.onDblclick);
			D(a.ownerDocument, ha, this.onCropMove);
			D(a.ownerDocument, da, this.onCropEnd);
			b.responsive && D(window, "resize", this.onResize)
		}
	}, {
		resize: function() {
			if (!this.disabled) {
				var a = this.options,
					b = this.container,
					c = this.containerData,
					d = b.offsetWidth / c.width,
					b = b.offsetHeight / c.height,
					e = Math.abs(d - 1) > Math.abs(b - 1) ? d : b;
				if (1 !== e) {
					var f, g;
					a.restore && (f = this.getCanvasData(),
						g = this.getCropBoxData());
					this.render();
					a.restore && (this.setCanvasData(u(f, function(a, b) {
						f[b] = a * e
					})), this.setCropBoxData(u(g, function(a, b) {
						g[b] = a * e
					})))
				}
			}
		},
		dblclick: function() {
			this.disabled || "none" === this.options.dragMode || this.setDragMode(v(this.dragBox, X) ? "move" : "crop")
		},
		wheel: function(a) {
			var b = this,
				c = Number(this.options.wheelZoomRatio) || 0.1,
				d = 1;
			this.disabled || (a.preventDefault(), this.wheeling || (this.wheeling = !0, setTimeout(function() {
					b.wheeling = !1
				}, 50), a.deltaY ? d = 0 < a.deltaY ? 1 : -1 : a.wheelDelta ? d = -a.wheelDelta /
				120 : a.detail && (d = 0 < a.detail ? 1 : -1), this.zoom(-d * c, a)))
		},
		cropStart: function(a) {
			var b = a.buttons,
				c = a.button;
			if (!(this.disabled || ("mousedown" === a.type || "pointerdown" === a.type && "mouse" === a.pointerType) && (k(b) && 1 !== b || k(c) && 0 !== c || a.ctrlKey))) {
				var b = this.options,
					d = this.pointers;
				a.changedTouches ? u(a.changedTouches, function(a) {
					d[a.identifier] = J(a)
				}) : d[a.pointerId || 0] = J(a);
				b = 1 < Object.keys(d).length && b.zoomable && b.zoomOnTouch ? "zoom" : B(a.target, ba);
				ga.test(b) && !1 !== E(this.element, "cropstart", {
					originalEvent: a,
					action: b
				}) && (a.preventDefault(), this.action = b, this.cropping = !1, "crop" === b && (this.cropping = !0, x(this.dragBox, Y)))
			}
		},
		cropMove: function(a) {
			var b = this.action;
			if (!this.disabled && b) {
				var c = this.pointers;
				a.preventDefault();
				!1 !== E(this.element, "cropmove", {
					originalEvent: a,
					action: b
				}) && (a.changedTouches ? u(a.changedTouches, function(a) {
					U(c[a.identifier] || {}, J(a, !0))
				}) : U(c[a.pointerId || 0] || {}, J(a, !0)), this.change(a))
			}
		},
		cropEnd: function(a) {
			if (!this.disabled) {
				var b = this.action,
					c = this.pointers;
				a.changedTouches ? u(a.changedTouches,
					function(a) {
						delete c[a.identifier]
					}) : delete c[a.pointerId || 0];
				b && (a.preventDefault(), Object.keys(c).length || (this.action = ""), this.cropping && (this.cropping = !1, z(this.dragBox, Y, this.cropped && this.options.modal)), E(this.element, "cropend", {
					originalEvent: a,
					action: b
				}))
			}
		}
	}, {
		change: function(a) {
			var b = this.canvasData,
				c = this.containerData,
				d = this.cropBoxData,
				e = this.pointers,
				f = this.action,
				g = this.options.aspectRatio,
				h = d.left,
				k = d.top,
				m = d.width,
				n = d.height,
				p = h + m,
				r = k + n,
				s = 0,
				t = 0,
				v = c.width,
				w = c.height,
				x = !0;
			!g && a.shiftKey &&
				(g = m && n ? m / n : 1);
			this.limited && (s = d.minLeft, t = d.minTop, v = s + Math.min(c.width, b.width, b.left + b.width), w = t + Math.min(c.height, b.height, b.top + b.height));
			var b = e[Object.keys(e)[0]],
				y = {
					x: b.endX - b.startX,
					y: b.endY - b.startY
				},
				c = function(a) {
					switch (a) {
						case "e":
							p + y.x > v && (y.x = v - p);
							break;
						case "w":
							h + y.x < s && (y.x = s - h);
							break;
						case "n":
							k + y.y < t && (y.y = t - k);
							break;
						case "s":
							r + y.y > w && (y.y = w - r)
					}
				};
			switch (f) {
				case "all":
					h += y.x;
					k += y.y;
					break;
				case "e":
					if (0 <= y.x && (p >= v || g && (k <= t || r >= w))) {
						x = !1;
						break
					}
					c("e");
					m += y.x;
					0 > m && (f = "w", m = -m, h -= m);
					g && (n = m / g, k += (d.height - n) / 2);
					break;
				case "n":
					if (0 >= y.y && (k <= t || g && (h <= s || p >= v))) {
						x = !1;
						break
					}
					c("n");
					n -= y.y;
					k += y.y;
					0 > n && (f = "s", n = -n, k -= n);
					g && (m = n * g, h += (d.width - m) / 2);
					break;
				case "w":
					if (0 >= y.x && (h <= s || g && (k <= t || r >= w))) {
						x = !1;
						break
					}
					c("w");
					m -= y.x;
					h += y.x;
					0 > m && (f = "e", m = -m, h -= m);
					g && (n = m / g, k += (d.height - n) / 2);
					break;
				case "s":
					if (0 <= y.y && (r >= w || g && (h <= s || p >= v))) {
						x = !1;
						break
					}
					c("s");
					n += y.y;
					0 > n && (f = "n", n = -n, k -= n);
					g && (m = n * g, h += (d.width - m) / 2);
					break;
				case "ne":
					if (g) {
						if (0 >= y.y && (k <= t || p >= v)) {
							x = !1;
							break
						}
						c("n");
						n -= y.y;
						k += y.y;
						m = n * g
					} else c("n"), c("e"), 0 <= y.x ? p < v ? m += y.x : 0 >= y.y && k <= t && (x = !1) : m += y.x, 0 >= y.y ? k > t && (n -= y.y, k += y.y) : (n -= y.y, k += y.y);
					0 > m && 0 > n ? (f = "sw", n = -n, m = -m, k -= n, h -= m) : 0 > m ? (f = "nw", m = -m, h -= m) : 0 > n && (f = "se", n = -n, k -= n);
					break;
				case "nw":
					if (g) {
						if (0 >= y.y && (k <= t || h <= s)) {
							x = !1;
							break
						}
						c("n");
						n -= y.y;
						k += y.y;
						m = n * g;
						h += d.width - m
					} else c("n"), c("w"), 0 >= y.x ? h > s ? (m -= y.x, h += y.x) : 0 >= y.y && k <= t && (x = !1) : (m -= y.x, h += y.x), 0 >= y.y ? k > t && (n -= y.y, k += y.y) : (n -= y.y, k += y.y);
					0 > m && 0 > n ? (f = "se", n = -n, m = -m, k -= n, h -= m) : 0 > m ? (f = "ne", m = -m, h -= m) : 0 > n && (f = "sw", n = -n, k -= n);
					break;
				case "sw":
					if (g) {
						if (0 >= y.x && (h <= s || r >= w)) {
							x = !1;
							break
						}
						c("w");
						m -= y.x;
						h += y.x;
						n = m / g
					} else c("s"), c("w"), 0 >= y.x ? h > s ? (m -= y.x, h += y.x) : 0 <= y.y && r >= w && (x = !1) : (m -= y.x, h += y.x), 0 <= y.y ? r < w && (n += y.y) : n += y.y;
					0 > m && 0 > n ? (f = "ne", n = -n, m = -m, k -= n, h -= m) : 0 > m ? (f = "se", m = -m, h -= m) : 0 > n && (f = "nw", n = -n, k -= n);
					break;
				case "se":
					if (g) {
						if (0 <= y.x && (p >= v || r >= w)) {
							x = !1;
							break
						}
						c("e");
						m += y.x;
						n = m / g
					} else c("s"), c("e"), 0 <= y.x ? p < v ? m += y.x : 0 <= y.y && r >= w && (x = !1) : m += y.x, 0 <= y.y ? r < w && (n += y.y) : n += y.y;
					0 > m && 0 > n ? (f = "nw", n = -n, m = -m, k -= n, h -= m) : 0 >
						m ? (f = "sw", m = -m, h -= m) : 0 > n && (f = "ne", n = -n, k -= n);
					break;
				case "move":
					this.move(y.x, y.y);
					x = !1;
					break;
				case "zoom":
					this.zoom(M(e), a);
					x = !1;
					break;
				case "crop":
					if (!y.x || !y.y) {
						x = !1;
						break
					}
					a = F(this.cropper);
					h = b.startX - a.left;
					k = b.startY - a.top;
					m = d.minWidth;
					n = d.minHeight;
					0 < y.x ? f = 0 < y.y ? "se" : "ne" : 0 > y.x && (h -= m, f = 0 < y.y ? "sw" : "nw");
					0 > y.y && (k -= n);
					this.cropped || (A(this.cropBox, Q), this.cropped = !0, this.limited && this.limitCropBox(!0, !0))
			}
			x && (d.width = m, d.height = n, d.left = h, d.top = k, this.action = f, this.renderCropBox());
			u(e, function(a) {
				a.startX =
					a.endX;
				a.startY = a.endY
			})
		}
	}, {
		crop: function() {
			console.log("crop show windows");
			!this.ready || this.cropped || this.disabled || (this.cropped = !0, this.limitCropBox(!0, !0), this.options.modal && x(this.dragBox, Y), A(this.cropBox, Q), this.setCropBoxData(this.initialCropBoxData));
			return this
		},
		reset: function() {
			this.ready && !this.disabled && (this.imageData = U({}, this.initialImageData), this.canvasData = U({}, this.initialCanvasData), this.cropBoxData = U({}, this.initialCropBoxData), this.renderCanvas(), this.cropped && this.renderCropBox());
			return this
		},
		clear: function() {
			this.cropped && !this.disabled && (U(this.cropBoxData, {
				left: 0,
				top: 0,
				width: 0,
				height: 0
			}), this.cropped = !1, this.renderCropBox(), this.limitCanvas(!0, !0), this.renderCanvas(), A(this.dragBox, Y), x(this.cropBox, Q));
			return this
		},
		replace: function(a) {
			var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : !1;
			!this.disabled && a && (this.isImg && (this.element.src = a), b ? (this.url = a, this.image.src = a, this.ready && (this.viewBoxImage.src = a, u(this.previews, function(b) {
				b.getElementsByTagName("img")[0].src =
					a
			}))) : (this.isImg && (this.replaced = !0), this.options.data = null, this.uncreate(), this.load(a)));
			return this
		},
		enable: function() {
			this.ready && this.disabled && (this.disabled = !1, A(this.cropper, Z));
			return this
		},
		disable: function() {
			this.ready && !this.disabled && (this.disabled = !0, x(this.cropper, Z));
			return this
		},
		destroy: function() {
			var a = this.element;
			if (!a.cropper) return this;
			a.cropper = void 0;
			this.isImg && this.replaced && (a.src = this.originalUrl);
			this.uncreate();
			return this
		},
		move: function(a) {
			var b = 1 < arguments.length &&
				void 0 !== arguments[1] ? arguments[1] : a,
				c = this.canvasData,
				d = c.left,
				c = c.top;
			return this.moveTo(m(a) ? a : d + Number(a), m(b) ? b : c + Number(b))
		},
		moveTo: function(a) {
			var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : a,
				c = this.canvasData,
				d = !1;
			a = Number(a);
			b = Number(b);
			this.ready && !this.disabled && this.options.movable && (k(a) && (c.left = a, d = !0), k(b) && (c.top = b, d = !0), d && this.renderCanvas(!0));
			return this
		},
		zoom: function(a, b) {
			var c = this.canvasData;
			a = Number(a);
			return this.zoomTo(c.width * (0 > a ? 1 / (1 - a) : 1 + a) / c.naturalWidth,
				null, b)
		},
		zoomTo: function(a, b, c) {
			var d = this.options,
				e = this.canvasData,
				f = e.width,
				g = e.height,
				h = e.naturalWidth,
				m = e.naturalHeight;
			a = Number(a);
			if (0 <= a && this.ready && !this.disabled && d.zoomable) {
				d = h * a;
				m *= a;
				if (!1 === E(this.element, "zoom", {
						ratio: a,
						oldRatio: f / h,
						originalEvent: c
					})) return this;
				c ? (b = this.pointers, a = F(this.cropper), c = b && Object.keys(b).length ? N(b) : {
					pageX: c.pageX,
					pageY: c.pageY
				}, e.left -= (c.pageX - a.left - e.left) / f * (d - f), e.top -= (c.pageY - a.top - e.top) / g * (m - g)) : p(b) && k(b.x) && k(b.y) ? (e.left -= (b.x - e.left) / f *
					(d - f), e.top -= (b.y - e.top) / g * (m - g)) : (e.left -= (d - f) / 2, e.top -= (m - g) / 2);
				e.width = d;
				e.height = m;
				this.renderCanvas(!0)
			}
			return this
		},
		rotate: function(a) {
			return this.rotateTo((this.imageData.rotate || 0) + Number(a))
		},
		rotateTo: function(a) {
			a = Number(a);
			k(a) && this.ready && !this.disabled && this.options.rotatable && (this.imageData.rotate = a % 360, this.renderCanvas(!0, !0));
			return this
		},
		scaleX: function(a) {
			var b = this.imageData.scaleY;
			return this.scale(a, k(b) ? b : 1)
		},
		scaleY: function(a) {
			var b = this.imageData.scaleX;
			return this.scale(k(b) ?
				b : 1, a)
		},
		scale: function(a) {
			var b = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : a,
				c = this.imageData,
				d = !1;
			a = Number(a);
			b = Number(b);
			this.ready && !this.disabled && this.options.scalable && (k(a) && (c.scaleX = a, d = !0), k(b) && (c.scaleY = b, d = !0), d && this.renderCanvas(!0, !0));
			return this
		},
		getData: function() {
			var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : !1,
				b = this.options,
				c = this.imageData,
				d = this.canvasData,
				e = this.cropBoxData,
				f;
			if (this.ready && this.cropped) {
				f = {
					x: e.left - d.left,
					y: e.top - d.top,
					width: e.width,
					height: e.height
				};
				var g = c.width / c.naturalWidth;
				u(f, function(a, b) {
					f[b] = a / g
				});
				a && (a = Math.round(f.y + f.height), d = Math.round(f.x + f.width), f.x = Math.round(f.x), f.y = Math.round(f.y), f.width = d - f.x, f.height = a - f.y)
			} else f = {
				x: 0,
				y: 0,
				width: 0,
				height: 0
			};
			b.rotatable && (f.rotate = c.rotate || 0);
			b.scalable && (f.scaleX = c.scaleX || 1, f.scaleY = c.scaleY || 1);
			return f
		},
		setData: function(a) {
			var b = this.options,
				c = this.imageData,
				d = this.canvasData,
				e = {};
			if (this.ready && !this.disabled && p(a)) {
				var f = !1;
				b.rotatable && k(a.rotate) && a.rotate !== c.rotate &&
					(c.rotate = a.rotate, f = !0);
				b.scalable && (k(a.scaleX) && a.scaleX !== c.scaleX && (c.scaleX = a.scaleX, f = !0), k(a.scaleY) && a.scaleY !== c.scaleY && (c.scaleY = a.scaleY, f = !0));
				f && this.renderCanvas(!0, !0);
				b = c.width / c.naturalWidth;
				k(a.x) && (e.left = a.x * b + d.left);
				k(a.y) && (e.top = a.y * b + d.top);
				k(a.width) && (e.width = a.width * b);
				k(a.height) && (e.height = a.height * b);
				this.setCropBoxData(e)
			}
			return this
		},
		getContainerData: function() {
			return this.ready ? U({}, this.containerData) : {}
		},
		getImageData: function() {
			return this.sized ? U({}, this.imageData) : {}
		},
		getCanvasData: function() {
			var a = this.canvasData,
				b = {};
			this.ready && u("left top width height naturalWidth naturalHeight".split(" "), function(c) {
				b[c] = a[c]
			});
			return b
		},
		setCanvasData: function(a) {
			var b = this.canvasData,
				c = b.aspectRatio;
			this.ready && !this.disabled && p(a) && (k(a.left) && (b.left = a.left), k(a.top) && (b.top = a.top), k(a.width) ? (b.width = a.width, b.height = a.width / c) : k(a.height) && (b.height = a.height, b.width = a.height * c), this.renderCanvas(!0));
			return this
		},
		getCropBoxData: function() {
			var a = this.cropBoxData,
				b;
			this.ready && this.cropped && (b = {
				left: a.left,
				top: a.top,
				width: a.width,
				height: a.height
			});
			return b || {}
		},
		setCropBoxData: function(a) {
			var b = this.cropBoxData,
				c = this.options.aspectRatio,
				d, e;
			this.ready && this.cropped && !this.disabled && p(a) && (k(a.left) && (b.left = a.left), k(a.top) && (b.top = a.top), k(a.width) && a.width !== b.width && (d = !0, b.width = a.width), k(a.height) && a.height !== b.height && (e = !0, b.height = a.height), c && (d ? b.height = b.width / c : e && (b.width = b.height * c)), this.renderCropBox());
			return this
		},
		getCroppedCanvas: function() {
			var a =
				0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
			if (!this.ready || !window.HTMLCanvasElement) return null;
			var b = this.canvasData,
				c = O(this.image, this.imageData, b, a);
			if (!this.cropped) return c;
			var d = this.getData(a.rounded),
				e = d.x,
				g = d.y,
				h = d.width,
				d = d.height,
				b = c.width / Math.floor(b.naturalWidth);
			1 !== b && (e *= b, g *= b, h *= b, d *= b);
			var k = h / d,
				m = L({
					aspectRatio: k,
					width: a.maxWidth || Infinity,
					height: a.maxHeight || Infinity
				}),
				n = L({
					aspectRatio: k,
					width: a.minWidth || 0,
					height: a.minHeight || 0
				}, "cover"),
				k = L({
					aspectRatio: k,
					width: a.width || (1 !== b ? c.width : h),
					height: a.height || (1 !== b ? c.height : d)
				}),
				b = k.width,
				k = k.height,
				b = Math.min(m.width, Math.max(n.width, b)),
				k = Math.min(m.height, Math.max(n.height, k)),
				m = document.createElement("canvas"),
				n = m.getContext("2d");
			m.width = s(b);
			m.height = s(k);
			n.fillStyle = a.fillColor || "transparent";
			n.fillRect(0, 0, b, k);
			k = a.imageSmoothingEnabled;
			a = a.imageSmoothingQuality;
			n.imageSmoothingEnabled = void 0 === k ? !0 : k;
			a && (n.imageSmoothingQuality = a);
			var a = c.width,
				k = c.height,
				p, r, t, u, v, w;
			e <= -h || e > a ? v = t = p = e = 0 : 0 >= e ?
				(t = -e, e = 0, v = p = Math.min(a, h + e)) : e <= a && (t = 0, v = p = Math.min(h, a - e));
			0 >= p || g <= -d || g > k ? w = u = r = g = 0 : 0 >= g ? (u = -g, g = 0, w = r = Math.min(k, d + g)) : g <= k && (u = 0, w = r = Math.min(d, k - g));
			p = [e, g, p, r];
			0 < v && 0 < w && (h = b / h, p.push(t * h, u * h, v * h, w * h));
			n.drawImage.apply(n, [c].concat(f(p.map(function(a) {
				return Math.floor(s(a))
			}))));
			return m
		},
		setAspectRatio: function(a) {
			var b = this.options;
			this.disabled || m(a) || (b.aspectRatio = Math.max(0, a) || NaN, this.ready && (this.initCropBox(), this.cropped && this.renderCropBox()));
			return this
		},
		setDragMode: function(a) {
			var b =
				this.options,
				c = this.dragBox,
				d = this.face;
			if (this.ready && !this.disabled) {
				var e = "crop" === a,
					f = b.movable && "move" === a;
				a = e || f ? a : "none";
				b.dragMode = a;
				C(c, ba, a);
				z(c, X, e);
				z(c, ca, f);
				b.cropBoxMovable || (C(d, ba, a), z(d, X, e), z(d, ca, f))
			}
			return this
		}
	});
	return T
});

function UtilNotBuild() {

}

UtilNotBuild.doPostAvatar = function(url, params) {
	var formData = new URLSearchParams();

	for (var key in params) {
		var value = params[key];
		formData.append(key, value);
	}

	return fetch(url, {
			method: 'POST',
			headers: {
				'Content-Type': 'application/x-www-form-urlencoded'
			},
			body: formData
		})
		.then(function(response) {
			console.log("response = ", response);
			if (!response.ok) {
				throw new Error('Network response was not ok');
			}
			return response.json();
		})
		.then(function(data) {
			console.log("UtilNotBuild.doPostAvatar - data = ", data);
			console.log("UtilNotBuild.doPostAvatar - JSON.stringify(data) = ", JSON.stringify(data));
			return data;
		})
		.catch(function(error) {
			console.error("Error = " + error.message);
			return {
				code: 0,
				content: "exception please check!"
			};
		});
};


UtilNotBuild.processAvatar = function(layer, url, base64Data) {
	var params = {
		avatarFile: base64Data
	};

	UtilNotBuild.doPostAvatar(url, params)
		.then(function(response) {
			var code = response.code;
			var content = response.content;
			if (code > 0) {
				layer.processAvatarSuccess(content);
			} else {
				layer.processAvatarError(content);
			}
		})
		.catch(function(error) {
			console.log('UtilNotBuild.processAvatar - error: ', error);
			layer.processAvatarError(error);
		});
}
// luÃ´n luÃ´n Ä‘á»ƒ dÃ²ng tráº¯ng á»Ÿ Ä‘Ã¢y
var bk = bk || {};
BkGlobal = {
	Zq: !1,
	isPlaying: !1,
	mv: !1,
	lv: !1,
	Rg: !1,
	PA: !1,
	nv: !1,
	BI: null,
	aH: null,
	ON: null,
	ek: null,
	ja: -1,
	wf: -1,
	Rj: -1,
	AB: !1,
	Sa: -1,
	Zp: null,
	mk: !1,
	Ti: !0,
	Xq: !1,
	fN: !1,
	jk: !1,
	eB: !1,
	mN: !1,
	xR: null,
	mB: !1,
	rY: 0,
	isLoginFacebook: !1,
	fo: !1,
	VA: !1,
	VM: !1,
	DX: 0,
	sP: 0,
	TB: 0,
	Yn: !1,
	XX: null,
	P: null,
	Pf: null,
	no: !1,
	hk: !1,
	oq: "",
	vz: "",
	ap: null,
	O0: !1,
	XA: !1,
	jo: !1,
	BE: -1,
	hy: 1,
	Qg: !1,
	Ll: !0,
	KB: -1,
	JB: -1,
	on: -1,
	hC: -1,
	nn: -1,
	gC: -1,
	Yg: -1,
	R3: function() {
		this.Rj = this.wf = this.ja = -1;
		BkGlobal.Sa = -1;
		this.ek = this.ON = this.aH = this.BI = null;
		this.eB = this.jk = this.fN = !1;
		cc.username = "";
		cc.password = ""
	},
	Iw: function(a) {
		this.isPlaying = a
	},
	XZ: function() {
		return 0
	},
	c1: function() {
		return !1
	},
	ho: function() {
		return !1
	},
	YY: null
};
var na = cc.Layer.extend({
		sprite: null,
		iX: 10,
		jX: 8,
		ctor: function() {
			this._super();
			var a = cc.winSize;
			this.sprite = new BkSprite(res.uk);
			var b = a.width / this.sprite.getContentSize().width,
				c = a.height / this.sprite.getContentSize().height;
			b < c && (b = c);
			this.sprite.setScale(b);
			this.sprite.attr({
				x: a.width / 2,
				y: a.height / 2
			});
			this.addChild(this.sprite, 0);
			return !0
		},
		r6: function() {
			aa("http://config.zigavn.com/WebCo/", function(a, b) {
				if (a) logMessage("err: " + a);
				else {
					logMessage("respondText: " + b);
					var c = JSON.parse(b);
					logMessage("myip: " +
						c.g2);
					logMessage("serveripaddress: " + c.BD);
					logMessage("newsip: " + c.i2)
				}
			})
		},
		v6: function() {
			logMessage("testLoadResAndStore ++");
			var a = getFullImagePath("dinhthuquan_bg.png");
			jsb.qq.WM(a) ? (logMessage("isFileExist"), this.PE(a)) : n.HN("https://chanvanvan.com/test/ResTest/dinhthuquan_bg.png", "dinhthuquan_bg.png")
		},
		PE: function(a) {
			logMessage("testShowImageLoaded ++" + a);
			var b = cc.winSize;
			a = new cc.Sprite(a);
			a.setScaleX(0.2 * b.width / a.getContentSize().width);
			a.setScaleY(0.2 * b.height / a.getContentSize().height);
			a.attr({
				x: b.width /
					2,
				y: b.height / 2
			});
			this.addChild(a, 10)
		},
		O1: function(a) {
			logMessage("loadedImg");
			a = saveTexture(a, "dinhthuquan_bg.png");
			this.PE(a)
		},
		u6: function() {
			logMessage("testLoadJsFileAndShow");
			var a = jsb.qq.e0(),
				a = a + "srcLoaded/",
				b = a + "SceneLoadFromServer.js";
			if (jsb.qq.WM(b)) logMessage("isFileExist -\x3e show"), require(b), cc.director.runScene(new SceneLoadFromServer);
			else {
				logMessage("!isFileExist -\x3e load");
				var c = cc.loader.getXMLHttpRequest();
				c.open("GET", "https://chanvanvan.com/test/ResTest/SceneLoadFromServer.js");
				c.onreadystatechange = function() {
					if (4 == c.readyState && 200 <= c.status && 207 >= c.status) {
						logMessage("xhr.responseText " + c.responseText);
						var d = c.responseText;
						jsb.qq.FY(a);
						jsb.qq.d7(d, b) ? (logMessage("see the plist file at " + b), require(b), cc.director.runScene(new SceneLoadFromServer)) : logMessage("write plist file failed")
					}
				};
				c.send(null)
			}
		},
		Rh: 0,
		Ng: "",
		getUrl: function() {
			if (0 === this.Rh) {
				var a = p("lastUrlSetting", ba);
				logMessage("getLastUrlSetting: " + a);
				return a
			}
			logMessage("this.numberLoad " + this.Rh);
			return 1 === this.Rh ?
				ba : 2 === this.Rh ? ca : 3 === this.Rh ? da : 4 === this.Rh ? ea : 5 === this.Rh ? ga : null
		},
		XB: function() {
			if (!isFBInstantGame()) {
				s(!1);
				var a = this.getUrl();
				logMessage("url: " + a);
				if (null === a) logMessage("load 5 lan khong thanh cong -\x3e show popup"), this.Rh = 0, this.dU();
				else {
					this.Rh++;
					var b = this;
					aa(a, function(c, d) {
						t();
						if (c) logMessage("err: " + c), b.XB();
						else {
							logMessage("respondText: " + d);
							var e = JSON.parse(d);
							logMessage("done load -\x3e autologin " + e.BD);
							a != ga ? b.Ng = e.Ng : this.Ng && (b.Ng = e.Ng);
							b.YT();
							ha(e.BD);
							logMessage("lastUrlSetting: " +
								a);
							u("lastUrlSetting", a);
							b.gz()
						}
					});
					n.rb(ia, ja(ia))
				}
			}
		},
		YT: function() {
			if (this.Ng) {
				var a = this;
				showPopupMessageWith(this.Ng, "", null, function() {
					a.Jv()
				})
			}
		},
		dU: function() {
			logMessage("removeAnim: showLostConnectionPopup");
			t();
			var a = this,
				b = ka;
			this.Ng && (b = this.Ng);
			logMessage("this.informtext: " + this.Ng);
			logMessage("str: " + b);
			showPopupMessageWith(b, "", null, function() {
				a.Jv()
			})
		},
		XU: function() {
			logMessage("show showAnim-\x3e load setting");
			BkConnectionManager.dg();
			this.XB()
		},
		gz: function() {
			logMessage("doAutoLoginGame");
			var a = this;
			s(!1, function() {
				a.XU()
			});
			BkLogicManager.S().Qt()
		},
		Dr: function() {
			logMessage("processInitGame");
			if (n.$N()) this.gz();
			else {
				var a = this;
				showPopupMessageWith("Hi\u1ec7n m\u00e1y c\u1ee7a b\u1ea1n \u0111ang kh\u00f4ng k\u1ebft n\u1ed1i m\u1ea1ng, h\u00e3y b\u1eadt Wifi/3G \u0111\u1ec3 k\u1ebft n\u1ed1i v\u00e0 th\u1ef1c hi\u1ec7n l\u1ea1i sau!", "", null, function() {
					a.Jv()
				})
			}
		},
		Jv: function() {
			var a = new BkLabel("Ch\u1ea1m v\u00e0o m\u00e0n h\u00ecnh \u0111\u1ec3 k\u1ebft n\u1ed1i l\u1ea1i.", "", 40);
			a.setTextColor(v);
			a.setScale(GAME_SCALE);
			a.x = cc.winSize.width / 2;
			a.y = 0.6 * cc.winSize.height;
			this.addChild(a);
			var b = this;
			this.sprite.Ua(function() {
				b.Dr()
			});
			cc.spriteFrameCache.addSpriteFrames(res.Wl, res.Xl);
			a = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE);
			a.setTitleText("H\u1ed7 tr\u1ee3");
			a.setTitleFontName(ma());
			a.setTitleFontSize(31);
			a.setTitleColor(cc.color(71, 44, 27));
			a.getTitleRenderer().y += 0.1 * a.getBoundingBox().height;
			a.setScale(GAME_SCALE);
			a.x = cc.winSize.width / 2;
			a.y = 0.4 * cc.winSize.height;
			this.addChild(a);
			a.addClickEventListener(function() {
				cc.sys.os ==
					cc.sys.OS_ANDROID ? n.PC("https://m.me/zigavn") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || n.openURL("https://m.me/zigavn")
			})
		}
	}),
	pa = cc.Scene.extend({
		yv: null,
		onEnter: function() {
			this._super();
			logMessage("ZigaLoadingScene onEnter:");
			oa(0);
			cc.spriteFrameCache.addSpriteFrames(res.yr, res.zr);
			cc.spriteFrameCache.addSpriteFrames(res.tA, res.uA);
			this.yv = new na;
			this.addChild(this.yv)
		},
		onEnterTransitionDidFinish: function() {
			this._super();
			this.scheduleUpdate();
			n.FL()
		},
		update: function() {
			var a = getCurrentScene();
			null != a && a instanceof pa && (this.unscheduleUpdate(), this.Dr())
		},
		Dr: function() {
			this.yv.Dr()
		}
	});
var qa = "btn_login_pressed.png",
	qa = "btnLoginPress.png",
	x = "btn_no_text.png",
	la = "btn_no_text_press.png",
	y = {},
	res = {
		aG: {
			type: "font",
			name: "Roboto-Regular",
			srcs: ["res/fonts/Roboto-Regular.ttf", "res/fonts/Roboto-Regular.ttf"]
		},
		MW: {
			type: "font",
			name: "Roboto-Medium",
			srcs: ["res/fonts/Roboto-Medium.ttf", "res/fonts/Roboto-Medium.ttf"]
		},
		PW: {
			type: "font",
			name: "Roboto-Italic",
			srcs: ["res/fonts/Roboto-Italic.ttf", "res/fonts/Roboto-Italic.ttf"]
		},
		NW: {
			type: "font",
			name: "Roboto-MediumItalic",
			srcs: ["res/fonts/Roboto-MediumItalic.ttf",
				"res/fonts/Roboto-MediumItalic.ttf"
			]
		},
		OW: {
			type: "font",
			name: "UVNButLong1",
			srcs: ["res/fonts/UVNButLong1.TTF", "res/fonts/UVNButLong1.TTF"]
		},
		kX: {
			type: "font",
			name: "top_rank",
			srcs: ["res/fonts/top_rank.ttf", "res/fonts/top_rank.ttf"]
		},
		rx: "fonts/font_cd_co.fnt",
		Bs: "fonts/font_btn_ss.fnt",
		Cs: "fonts/bmfont_elo_minus.fnt",
		lp: "fonts/bmfont_elo_plus.fnt",
		kp: "fonts/bmfont_plus_heart.fnt",
		sx: "fonts/bmfont_minus_heart.fnt",
		qx: "fonts/bmfont_cd_ingame.fnt",
		cn: "common/chess/chess_common.plist",
		bn: "common/chess/chess_common_ziga.png",
		kH: "common/chess/bat_dau_effect.plist",
		my: "common/chess/bat_dau_effect_ziga.png",
		zp: "common/null_content_ziga.png",
		an: "chat/chatemostatic/chat_emo_static.plist",
		Qn: "chat/chatemostatic/icon_chat_emo_static_ziga.png",
		Wl: "main_screen/main_screen.plist",
		Xl: "main_screen/main_screen_ziga.png",
		uo: "main_screen/main_screen_big_item.plist",
		vo: "main_screen/main_screen_big_item_ziga.png",
		ps: "main_screen/tran_hay_ziga.png",
		gF: "main_screen/webview_frame_ziga.png",
		uk: "main_screen/background_ziga.jpg",
		IL: "main_screen/history_bg.png",
		AA: "ingame/background_ziga.jpg",
		gt: "ingame/all_chess_ziga.png",
		yt: "ingame/ban_co_ziga.png",
		eH: "popup/app_store_search.png",
		KL: "main_screen/hourglass_plist.plist",
		wA: "main_screen/hourglass_plist_ziga.png",
		yr: "popup/popup_resource_plist.plist",
		zr: "popup/popup_resource_plist_ziga.png",
		tA: "history/history.plist",
		uA: "history/history_ziga.png",
		Vr: "popup/shadow_ziga.png",
		Vt: "changename.png"
	},
	z = {
		alert: "sound/alert.ogg",
		click: "sound/click.ogg",
		fZ: "sound/deal_card.ogg",
		p1: "sound/join_game.ogg",
		z1: "sound/laught.ogg",
		D1: "sound/leave_game.ogg",
		wY: "sound/co_gong.mp3",
		uY: "sound/co_an_quan.mp3",
		vY: "sound/co_di_chuyen.mp3",
		xY: "sound/co_thang.mp3",
		yY: "sound/co_thua.mp3",
		an: "chat/chatemostatic/chat_emo_static.plist",
		Qn: "chat/chatemostatic/icon_chat_emo_static_ziga.png",
		zy: "chat/chat_emo/expression1_img_ziga.png",
		Ay: "chat/chat_emo/expression1_plist.plist",
		hI: "chat/chat_emo/expression2_img_ziga.png",
		iI: "chat/chat_emo/expression2_plist.plist",
		jI: "chat/chat_emo/expression3_img_ziga.png",
		kI: "chat/chat_emo/expression3_plist.plist",
		lI: "chat/chat_emo/expression4_img_ziga.png",
		mI: "chat/chat_emo/expression4_plist.plist",
		nI: "chat/chat_emo/expression5_img_ziga.png",
		oI: "chat/chat_emo/expression5_plist.plist",
		pI: "chat/chat_emo/expression6_img_ziga.png",
		qI: "chat/chat_emo/expression6_plist.plist",
		rI: "chat/chat_emo/expression7_img_ziga.png",
		sI: "chat/chat_emo/expression7_plist.plist",
		tI: "chat/chat_emo/expression8_img_ziga.png",
		uI: "chat/chat_emo/expression8_plist.plist",
		vI: "chat/chat_emo/expression9_img_ziga.png",
		wI: "chat/chat_emo/expression9_plist.plist",
		AH: "chat/chat_emo/expression10_img_ziga.png",
		BH: "chat/chat_emo/expression10_plist.plist",
		CH: "chat/chat_emo/expression11_img_ziga.png",
		DH: "chat/chat_emo/expression11_plist.plist",
		EH: "chat/chat_emo/expression12_img_ziga.png",
		FH: "chat/chat_emo/expression12_plist.plist",
		GH: "chat/chat_emo/expression13_img_ziga.png",
		HH: "chat/chat_emo/expression13_plist.plist",
		IH: "chat/chat_emo/expression14_img_ziga.png",
		JH: "chat/chat_emo/expression14_plist.plist",
		KH: "chat/chat_emo/expression15_img_ziga.png",
		LH: "chat/chat_emo/expression15_plist.plist",
		MH: "chat/chat_emo/expression16_img_ziga.png",
		NH: "chat/chat_emo/expression16_plist.plist",
		OH: "chat/chat_emo/expression17_img_ziga.png",
		PH: "chat/chat_emo/expression17_plist.plist",
		QH: "chat/chat_emo/expression18_img_ziga.png",
		RH: "chat/chat_emo/expression18_plist.plist",
		SH: "chat/chat_emo/expression19_img_ziga.png",
		TH: "chat/chat_emo/expression19_plist.plist",
		UH: "chat/chat_emo/expression20_img_ziga.png",
		VH: "chat/chat_emo/expression20_plist.plist",
		WH: "chat/chat_emo/expression21_img_ziga.png",
		XH: "chat/chat_emo/expression21_plist.plist",
		YH: "chat/chat_emo/expression22_img_ziga.png",
		ZH: "chat/chat_emo/expression22_plist.plist",
		$H: "chat/chat_emo/expression23_img_ziga.png",
		aI: "chat/chat_emo/expression23_plist.plist",
		bI: "chat/chat_emo/expression24_img_ziga.png",
		cI: "chat/chat_emo/expression24_plist.plist",
		dI: "chat/chat_emo/expression25_img_ziga.png",
		eI: "chat/chat_emo/expression25_plist.plist",
		fI: "chat/chat_emo/expression26_img_ziga.png",
		gI: "chat/chat_emo/expression26_plist.plist"
	},
	ra = [],
	sa;
for (sa in z) ra.push(z[sa]);
var ta = [];
ta.push(res.uk);
ta.push(res.ps);
ta.push(res.Wl);
ta.push(res.Xl);
ta.push(res.vo);
ta.push(res.uo);
ta.push(res.AA);
ta.push(res.gt);
ta.push(res.yt);
ta.push(res.cn);
ta.push(res.bn);
var A = [];
A.push(res.yr);
A.push(res.zr);
A.push(res.Vr);
A.push(res.gF);
A.push(res.an);
A.push(res.Qn);
A.push(res.rx);
A.push(res.Bs);
A.push(res.Cs);
A.push(res.lp);
A.push(res.kp);
A.push(res.sx);
A.push(res.qx);
A.push({
	type: "font",
	name: "Roboto-Regular",
	srcs: ["ChessMobi/res/fonts/Roboto-Regular.ttf", "ChessMobi/res/fonts/Roboto-Regular.ttf"]
});
A.push({
	type: "font",
	name: "Roboto-Medium",
	srcs: ["ChessMobi/res/fonts/Roboto-Medium.ttf", "ChessMobi/res/fonts/Roboto-Medium.ttf"]
});
A.push({
	type: "font",
	name: "Roboto-Italic",
	srcs: ["ChessMobi/res/fonts/Roboto-Italic.ttf", "ChessMobi/res/fonts/Roboto-Italic.ttf"]
});
A.push({
	type: "font",
	name: "Roboto-MediumItalic",
	srcs: ["ChessMobi/res/fonts/Roboto-MediumItalic.ttf", "ChessMobi/res/fonts/Roboto-MediumItalic.ttf"]
});
A.push({
	type: "font",
	name: "UVNButLong1",
	srcs: ["ChessMobi/res/fonts/UVNButLong2.TTF", "ChessMobi/res/fonts/UVNButLong2.TTF"]
});
A.push({
	type: "font",
	name: "top_rank",
	srcs: ["ChessMobi/res/fonts/top_rank.ttf", "ChessMobi/res/fonts/top_rank.TTF"]
});
var ua = [],
	i;
for (i in res) ua.push(res[i]);
onStartingGame = function() {
	cc.spriteFrameCache.addSpriteFrames(res.Wl, res.Xl);
	cc.spriteFrameCache.addSpriteFrames(res.uo, res.vo);
	cc.spriteFrameCache.addSpriteFrames(res.cn, res.bn);
	cc.spriteFrameCache.addSpriteFrames(res.yr, res.zr);
	cc.spriteFrameCache.addSpriteFrames(res.tA, res.uA);
	cc.DR = !0;
	if (bk.isFbApp) {
		userInfo = va(D.He, !0);
		var a = !1;
		if (cc.isUndefined(userInfo) || null == userInfo) a = !0;
		E.Cr(a)
	} else {
		userInfo = va(D.He, !0);
		a = va(D.rB);
		logMessage("Login saving session: " + a);
		console.log("BkWebUtil - onStartingGame - key: ",
			D);
		if (cc.isUndefined(userInfo) || null == userInfo || userInfo == wa)
			if (userInfo = F(D.He, !0), console.log("userInfo: ", userInfo), userInfo)
				if (1 == a) cc.username = userInfo.username, cc.password = userInfo.password, logMessage("UserLoginInfo: from logout -\x3e prepare new game");
				else {
					logMessage("UserLoginInfo storage: " + userInfo.username);
					xa();
					return
				}
		else logMessage("UserLoginInfo: NULL -\x3e prepare new game");
		else if (1 == a) cc.username = userInfo.username, cc.password = userInfo.password, logMessage("UserLoginInfo: from logout -\x3e prepare new game");
		else {
			console.log("BkWebUtil - OnStartingGame - userInfo \x3d ", userInfo);
			logMessage("UserLoginInfo session: " + userInfo.username);
			xa();
			return
		}
		switchToSceneWithGameState(G)
	}
};

function xa() {
	var a = userInfo;
	cc.NX = !0;
	logMessage("Auto login: " + a.username);
	cc.username = a.username;
	cc.password = a.password;
	BkGlobal.isLoginFacebook = a.isLoginFacebook;
	null == BkGlobal.P && (BkGlobal.P = new BkUserData);
	BkGlobal.P.yd(cc.username);
	BkGlobal.P.password = cc.password;
	BkConnectionManager.Db = ya;
	console.log("BkWebUtil - doLoginGame()");
	BkConnectionManager.Ar();
	s()
}
processLoginRegistSuccessEx = function() {
	t();
	isWebPlatform() && (document.getElementById("contentNews").style.display = "none")
};
processLoginRegistFailEx = function() {
	t();
	za(D.He);
	Aa();
	cc.password = "";
	switchToSceneWithGameState(G);
	n.rb(Ba, ja("processLoginRegistFailEx"))
};
reloadWebPage = function() {
	window.location.reload()
};
showPopupMessageEx = function(a) {
	showPopupMessageConfirmEx(a)
};
showPopupMessageConfirmEx = function(a, b) {
	swal({
		title: "",
		text: a,
		type: "",
		TI: "#c06100",
		QI: !0
	}, function() {
		null != b && void 0 != b && b()
	})
};
showPopupMessageConfirmWithCancelEx = function(a, b) {
	swal({
		text: a,
		title: "",
		type: "",
		TI: "#6EC018",
		BY: "\u0110\u1ed3ng \u00fd",
		iY: "Th\u00f4i",
		QI: !0,
		E5: !0,
		html: !0
	}, function(a) {
		a && null != b && void 0 != b && b()
	})
};
logTracker = function(a, b) {
	var c = "";
	void 0 != cc.Yi && 0 < cc.Yi.length && (c = cc.Yi.join("\n"));
	var d = cc.username,
		e = "";
	void 0 != b && (e = void 0 != b.stack ? b.stack : "");
	1E3 < a.length && (a = "");
	zpostRequest(bk.httpHost + "public/action/1", {
		username: d,
		clientInfo: Ca() + " fileVer: " + bk.fileVer + " cpid: " + bk.cpid,
		Error: a + " Stack: " + e,
		lastLog: c
	}, function() {});
	cc.Yi = []
};
zpostRequest = function(a, b, c) {
	var d = new XMLHttpRequest;
	console.log("zpostRequest: url: ", a);
	d.onreadystatechange = function() {
		d.readyState == XMLHttpRequest.DONE && c(d.responseText)
	};
	d.open("POST", a, !0);
	d.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset\x3dUTF-8");
	d.send(JSON.stringify(b))
};
var Da = 70,
	Ea = 70,
	Fa = 100;
POKER_SMALL_OFFSET = 15;
POKER_FINISH_OFFSET = 20;
BkConstantIngame = {
	WW: 20,
	XW: 35,
	VW: 40,
	KW: 100,
	YW: 1E4
};

function Ga(a, b) {
	var c = BkGlobal.ja,
		d = cc.winSize,
		e = 0,
		f = 0;
	if (c == Ha) return d = c = 0, 0 == a ? (c = 184.2, d = 187.2) : 1 == a ? (c = 815.8, d = 217.2) : 2 == a ? (c = 878.8, d = 435.8) : 3 == a ? (c = 556, d = 572) : 4 == a ? (c = 330, d = 572) : 5 == a && (c = 78, d = 433), cc.p(c, d);
	if (c == Ia) return d = c = 0, 0 == a ? (c = 405, d = 235) : 1 == a ? (c = 897, d = 294) : 2 == a ? (c = 897, d = 444) : 3 == a ? (c = 565, d = 566) : 4 == a ? (c = 65, d = 444) : 5 == a && (c = 65, d = 294), cc.p(c, d);
	if (c == Ja) return d = c = 0, 0 == a ? (c = 385, d = 157) : 1 == a ? (c = 885, d = 263) : 2 == a ? (c = 885, d = 421) : 3 == a ? (c = 531, d = 543) : 4 == a ? (c = 70, d = 421) : 5 == a && (c = 70, d = 263), cc.p(c,
		d);
	if (c == Ka) return d = c = 0, 0 == a ? (c = 410, d = 216) : 1 == a ? (c = 861, d = 259) : 2 == a ? (c = 861, d = 415) : 3 == a ? (c = 548, d = 546) : 4 == a ? (c = 95, d = 416) : 5 == a && (c = 95, d = 259), cc.p(c, d);
	if (c == La) return d = c = 0, 0 == a ? (c = 410, d = 230) : 1 == a ? (c = 861, d = 259) : 2 == a ? (c = 861, d = 415) : 3 == a ? (c = 548, d = 546) : 4 == a ? (c = 95, d = 416) : 5 == a && (c = 95, d = 259), cc.p(c, d);
	if (c == H) return d = c = 0, 0 == a ? (c = 304, d = 129) : 1 == a ? (c = 890, d = 384) : 2 == a ? (c = 306, d = 553) : 3 == a && (c = 71, d = 384), cc.p(c, d);
	2 == b ? (e = d.width / 2, f = 0 == a ? Da + 30 : d.height - Da) : 4 == b ? 0 == a ? (e = Ea + 120, f = Da + 50) : 1 == a ? (e = d.width - Ea, f = d.height /
		2 + 28) : 2 == a ? (e = d.width / 2, f = d.height - Da + 0.5) : 3 == a && (e = Ea, f = d.height / 2 + 30) : 6 == b && (0 == a ? (e = d.width / 2, f = Da + 50) : 1 == a ? (e = d.width - Ea, f = d.height / 2 - Fa) : 2 == a ? (e = d.width - Ea, f = d.height / 2 + Fa) : 3 == a ? (e = d.width / 2, f = d.height - Da) : 4 == a ? (e = Ea, f = d.height / 2 + Fa) : 5 == a && (e = Ea, f = d.height / 2 - Fa));
	return cc.p(e, f)
};
BkBaseLayer = cc.Layer.extend({
	ctor: function() {
		this._super()
	}
});
var db = BkBaseLayer.extend({
		background: null,
		GZ: !1,
		FZ: null,
		ns: null,
		WY: 0,
		Q2: null,
		F0: -1,
		A0: !1,
		R2: null,
		S2: null,
		l1: !0,
		E1: null,
		F1: null,
		TX: null,
		T1: null,
		bf: null,
		kl: null,
		gc: null,
		Ra: null,
		cY: null,
		lH: null,
		fc: null,
		lt: null,
		oH: null,
		sy: null,
		dY: null,
		bY: null,
		Av: null,
		_winSize: null,
		RN: cc.p(175.5, 0.5),
		hn: 0,
		uv: 0,
		ug: null,
		ctor: function() {
			this._super();
			this._winSize = cc.winSize;
			this.background = new BkSprite(res.uk);
			this.background.scaleX = this._winSize.width / this.background.getContentSize().width;
			this.background.scaleY = this._winSize.height /
				this.background.getContentSize().height;
			this.background.x = this._winSize.width / 2;
			this.background.y = this._winSize.height / 2;
			this.addChild(this.background, -103);
			this.YG()
		},
		YG: function() {
			if (!isWebPlatform() && !n.Sq()) {
				var a = new BkSprite("#qc.png");
				a.scaleX = cc.winSize.width / a.getContentSize().width;
				a.scaleY = GAME_SCALE;
				a.x = cc.winSize.width / 2;
				a.y = cc.winSize.height - a.getBoundingBox().height / 2;
				this.addChild(a, -102);
				var b = new BkSprite("#qctext.png");
				b.setScale(GAME_SCALE);
				b.x = a.x;
				b.y = a.y;
				this.addChild(b, -101);
				var c = this;
				b.Ua(function() {
					var a = J();
					1E3 < a - c.uv ? (c.hn = 0, c.uv = a) : (c.uv = a, c.hn++, logMessage("self.countClickZiga: " + c.hn), 15 < c.hn && (c.hn = 0, c.lU()))
				})
			}
		},
		lU: function() {
			logMessage("showPopupSetIP");
			if (null == this.ug) {
				var a = this,
					b = new BkConfirmPopup("", Ma);
				b.Cc(!1);
				var c = b.Q,
					d = 0.7 * c.width,
					e = 0.1 * c.height;
				isWebPlatform() || (e = 0.15 * c.height);
				c = "edit_text.png";
				isWebPlatform() || (c = "changename.png");
				this.ug = createEditBox(cc.size(d, e), c);
				this.ug.retain();
				this.ug.setMaxLength(40);
				this.ug.x = b.Q.width / 2;
				this.ug.y =
					b.Q.height / 2;
				b.T(this.ug);
				b.Mm(this.ug);
				b.show();
				b.Hw(function() {
					var b = a.ug.getString(),
						c = "ws://" + b + ":18090"; - 1 !== b.indexOf("ws:") && (c = b);
					logMessage("serverUrl: " + c);
					ha(c);
					cc.game.restart()
				});
				b.df(function() {
					a.ug.release();
					a.ug = null
				})
			}
		},
		r0: function() {
			var a = cc.color.WHITE,
				b = cc.game.config.app.version;
			void 0 != b && "" != b && (b = new BkLabel("v" + b, "", 14), b.setTextColor(a), b.x = cc.winSize.width / 2, b.y = 22, this.addChild(b), isWebPlatform() || b.setVisible(!1))
		},
		yM: function(a) {
			var b = a.width - 90;
			a = a.height - 27;
			var c = createBkButtonPlist("btn_playstore_normal.png",
				"btn_playstore_normal.png", "btn_playstore_normal.png", "btn_playstore_normal.png");
			c.x = b;
			c.y = a;
			this.addChild(c);
			c.addClickEventListener(function() {
				cc.sys.openURL("https://play.google.com/store/apps/details?id\x3dziga.cotuong.coup")
			});
			b = createBkButtonPlist("btn_apple_normal.png", "btn_apple_normal.png", "btn_apple_normal.png", "btn_apple_normal.png");
			b.x = c.x + c.width / 2 + b.width / 2 + 10;
			b.y = a;
			this.addChild(b);
			b.addClickEventListener(function() {
				cc.sys.openURL("https://itunes.apple.com/vn/app/c%E1%BB%9D-t%C6%B0%E1%BB%9Bng-c%E1%BB%9D-%C3%BAp-online-ziga/id1415712748?ls\x3d1\x26mt\x3d8")
			})
		},
		ud: function(a, b) {
			BkLogicManager.S().jb(null);
			switch (b) {
				case Na:
					var c = BkLogicManager.S().sL(a);
					this.sy.Kk(0 < c, "btn_NhiemVu_haveNewTask.png");
					this.YV(c);
					BkLogicManager.S().CJ = a
			}
			t()
		},
		kf: function() {},
		K6: function(a) {
			this.Av && this.ir && (a && 0 < a.zo ? (this.Av.visible = !0, this.ir.visible = !0, this.ir.setString(a.zo), this.lt.Kk(!0, "btn_NhiemVu_haveNewTask.png")) : (this.Av.visible = !1, this.ir.visible = !1, this.ir.setString("0"), this.lt.Kk(!1)))
		},
		YV: function(a) {
			this.iC && this.jr && (0 < a ? (this.iC.visible = !0, this.jr.visible = !0, this.jr.setString(a)) : (this.iC.visible = !1, this.jr.visible = !1, this.jr.setString("0")))
		},
		P6: function() {
			this.lH.getTitleRenderer().y -= 12;
			this.oH.getTitleRenderer().y -= 12;
			this.lt.getTitleRenderer().y -= 12;
			this.fc.getTitleRenderer().y -= 12;
			this.sy.getTitleRenderer().y -= 12
		},
		S6: function() {},
		C5: function() {
			var a = new BkPlayerBonusWd;
			a.df(function() {
				bk.B5 = !1
			});
			a.Oa()
		},
		hz: function() {
			BkLogicManager.S().iz(BkGlobal.ja)
		},
		h6: function(a, b) {
			return a.order - b.order
		},
		i6: function(a, b) {
			return b.order - a.order
		},
		n5: function(a,
			b) {
			void 0 != a && a.setVisible(b)
		},
		eW: function(a) {
			void 0 != this.ns && this.ns.setVisible(a)
		}
	}).extend({
		ctor: function(a) {
			this.RN = cc.p(170, 35.5);
			this._super(a);
			this.iM();
			BkGlobal.Sa != G && this.ML()
		},
		iM: function() {
			var a = cc.winSize.width / 4,
				b = cc.winSize.height / WINDOW_HEIGHT,
				c = isWebPlatform() ? 180 : 360 * b,
				b = createBkButtonPlist("CT_butt.png", "CT_butt_press.png", "CT_butt.png", "CT_butt.png", ""),
				d = isWebPlatform() ? 0.65 : GAME_SCALE;
			this.pe = b;
			var e = this;
			b.x = a + 0;
			b.y = c;
			b.setScale(d);
			this.addChild(b);
			b.addClickEventListener(function() {
				Pa(e.lr(K)) ||
					(e.lr(K), n.rb(Qa))
			});
			this.Yf = c = createBkButtonPlist("CU_butt.png", "CU_butt_press.png", "CU_butt.png", "CU_butt.png", "");
			c.x = 3 * a + 0;
			c.setScale(d);
			c.y = b.y;
			this.addChild(c);
			c.addClickEventListener(function() {
				Pa(e.lr(L)) || (e.lr(L), n.rb(Ra))
			});
			isWebPlatform() && (b.x = cc.winSize.width / 3, c.x = cc.winSize.width / 3 * 2, this.LG());
			this.Hd = new BkButton(res.ps, res.ps, y.De, res.ps, ccui.Widget.LOCAL_TEXTURE);
			this.Hd.setScale(GAME_SCALE);
			this.Hd.x = cc.winSize.width / 2;
			this.Hd.y = 0.6 * cc.winSize.height;
			this.addChild(this.Hd, -1);
			this.Hd.addClickEventListener(function() {
				Pa(e.mr) || (1E3 > J() - e.Hd.Kb ? logMessage("click 2 lan trong 1 sec -\x3e don't process action") : (e.Hd.Kb = J(), e.mr(K), n.rb(Sa)))
			});
			this.$f = new BkButton("xem_ngay_butt.png", "xemngay_butt_press.png", "xem_ngay_butt.png", "xem_ngay_butt.png", ccui.Widget.PLIST_TEXTURE);
			this.$f.setScale(GAME_SCALE);
			this.$f.x = this.Hd.x;
			this.$f.y = this.Hd.y - this.Hd.getContentSize().height * GAME_SCALE * 0.32;
			this.addChild(this.$f);
			this.$f.addClickEventListener(function() {
				Pa(e.mr) || (1E3 > J() - e.$f.Kb ?
					logMessage("click 2 lan trong 1 sec -\x3e don't process action") : (e.$f.Kb = J(), e.mr(K), n.rb(Ta)))
			})
		},
		LG: function() {
			var a = createBkButtonPlist("CTH_butt.png", "CTH_butt_press.png", "CTH_butt.png", "CTH_butt.png", "");
			this.mH = a;
			a.setScale(0.3);
			a.y = cc.winSize.height / 4 * 3;
			this.mH.x = cc.winSize.width / 9 * 8;
			a.addClickEventListener(function() {
				var a = cc.game.config.app.coTheUrl;
				logMessage("co the click - cotheUrl: " + a);
				void 0 != a && "" != a && window.open(a, "_blank")
			})
		},
		fj: function() {
			logMessage("onBackClick BkChessGameLayer");
			showPopupConfirmWith(Ua, "", function() {
				logMessage("ok callback");
				cc.director.end()
			})
		},
		ML: function() {
			var a = 0.2 * cc.winSize.width,
				b = this;
			isWebPlatform() || isFBInstantGame() ? isFBInstantGame() && (this.Gd = new BkButton("setting_butt.png", "setting_butt_press.png", "setting_butt.png", "setting_butt.png", ccui.Widget.PLIST_TEXTURE), this.Gd.setScale(GAME_SCALE), this.Gd.x = 0.35 * cc.winSize.width, this.Gd.y = 0.05 * cc.winSize.height, this.addChild(this.Gd), this.Gd.addClickEventListener(function() {
				logMessage("btnSetting click");
				Wa("huongdan/huongdan.html", "H\u01b0\u1edbng d\u1eabn ch\u01a1i")
			}), this.fc = new BkButton("friends_butt.png", "friends_butt_press.png", "friends_butt.png", "friends_butt.png", ccui.Widget.PLIST_TEXTURE), this.fc.setScale(GAME_SCALE), this.fc.x = 0.65 * cc.winSize.width, this.fc.y = 0.05 * cc.winSize.height, this.addChild(this.fc), this.fc.addClickEventListener(function() {
				if (!Pa(b.UT))
					if (1E3 > J() - b.fc.Kb) logMessage("click 2 lan trong 1 sec -\x3e don't process action");
					else {
						b.fc.Kb = J();
						var a = new BkFriendsWindow;
						a.Ab(b);
						a.Oa();
						b.mw()
					}
			})) : (this.Gd = new BkButton("setting_butt.png", "setting_butt_press.png", "setting_butt.png", "setting_butt.png", ccui.Widget.PLIST_TEXTURE), this.Gd.setScale(GAME_SCALE), this.Gd.x = 0.2 * cc.winSize.width, this.Gd.y = 0.05 * cc.winSize.height, this.addChild(this.Gd), this.Gd.addClickEventListener(function() {
					logMessage("btnSetting click");
					b.jP()
				}), this.hl = new BkButton("btn_buy_heart.png", "btn_buy_heart_press.png", "btn_buy_heart.png", "btn_buy_heart.png", ccui.Widget.PLIST_TEXTURE), this.hl.setScale(GAME_SCALE),
				this.hl.x = this.Gd.x + a, this.hl.y = this.Gd.y, this.addChild(this.hl), this.hl.addClickEventListener(function() {
					b.FT()
				}), this.fc = new BkButton("friends_butt.png", "friends_butt_press.png", "friends_butt.png", "friends_butt.png", ccui.Widget.PLIST_TEXTURE), this.fc.setScale(GAME_SCALE), this.fc.x = this.hl.x + a, this.fc.y = this.Gd.y, this.addChild(this.fc), this.fc.addClickEventListener(function() {
					if (1E3 > J() - b.fc.Kb) logMessage("click 2 lan trong 1 sec -\x3e don't process action");
					else {
						b.fc.Kb = J();
						var a = new BkFriendsWindow;
						a.Ab(b);
						a.Oa();
						b.mw()
					}
				}), this.Xm = new BkButton("share_butt.png", "share_butt_press.png", "share_butt.png", "share_butt.png", ccui.Widget.PLIST_TEXTURE), this.Xm.setScale(GAME_SCALE), this.Xm.x = this.fc.x + a, this.Xm.y = this.Gd.y, this.addChild(this.Xm), this.Xm.addClickEventListener(function() {
					n.rb(Va);
					n.DT()
				}));
			this.bf = this.fy();
			a = 0.005 * cc.winSize.width;
			this.ma = new BkHeartSprite;
			this.ma.setScale(GAME_SCALE);
			isWebPlatform() && this.ma.setScale(Xa);
			this.ma.x = this.bf.x + this.bf.getBoundingBox().width / 2 + this.ma.getBoundingBox().width /
				2 + 2 * a;
			this.ma.y = this.bf.y + this.bf.Yj() * GAME_SCALE;
			this.addChild(this.ma);
			this.ma.bH();
			this.oj = new BkDailyTaskSprite;
			this.oj.setScale(GAME_SCALE);
			isWebPlatform() ? (this.oj.y = this.ma.y + 28, this.oj.x = cc.winSize.width - 270 - this.ma.getBoundingBox().width) : (this.oj.y = this.ma.y, this.oj.x = (1 - this.bf.x / cc.winSize.width) * cc.winSize.width + this.bf.getBoundingBox().width / 2 - this.oj.getBoundingBox().width / 2);
			this.addChild(this.oj)
		},
		fy: function() {
			var a = new BkChessAvatar;
			a.setScale(GAME_SCALE);
			isWebPlatform() ? (a.setScale(0.6),
				a.x = WINDOW_MARGIN_LEFT + a.getBoundingBox().width / 2, a.y = cc.winSize.height - WINDOW_MARGIN_TOP * GAME_SCALE - a.getBoundingBox().height / 2) : (a.x = 0.55 * cc.winSize.width - a.getBoundingBox().width / 2, a.y = 0.865 * cc.winSize.height, n.Sq() && (a.y = 0.84 * cc.winSize.height));
			this.addChild(a);
			return a
		},
		UT: function() {
			var a = Ya(),
				b = new BkFriendsWindow;
			b.Ab(a);
			b.Oa();
			null != a && a.mw()
		},
		Sc: null,
		Bf: null,
		mw: function() {
			null != this.Sc && (this.Sc.removeFromParent(), this.Sc = null);
			null != this.Bf && (this.Bf.removeFromParent(), this.Bf = null)
		},
		Uv: function(a) {
			logMessage("onUpdatePlayerNewsFees nbFriedOnline: " + a.kC);
			a = a.kC;
			null == this.Sc && (logMessage("onUpdatePlayerNewsFees create this.bgNumberFriendOnline"), this.Sc = new BkSprite("#circle_red.png"), this.addChild(this.Sc));
			var b = 28;
			isWebPlatform() && (b = 10);
			null == this.Bf ? (this.Bf = new BkLabel(a, "", b, !0), this.addChild(this.Bf)) : this.Bf.setString(a);
			0 < a ? (this.Sc.setScale(GAME_SCALE), isWebPlatform() ? (this.Sc.setScale(0.5), this.Sc.x = this.Zf.x - 0.4 * this.Zf.getBoundingBox().width, this.Sc.y = this.Zf.y +
				0.3 * this.Zf.getBoundingBox().height) : (this.Sc.x = this.fc.x + 0.3 * this.fc.getBoundingBox().width, this.Sc.y = this.fc.y + 0.3 * this.fc.getBoundingBox().height), console.log("onUpdatePlayerNewsFees process 1 friend, this.bgNumberFriendOnline: ", this.Sc), this.Sc.setOpacity(255), this.Bf.setOpacity(255), this.Bf.setScale(GAME_SCALE), this.Bf.x = this.Sc.x, this.Bf.y = this.Sc.y) : (this.Sc.setOpacity(0), this.Bf.setOpacity(0), console.log("onUpdatePlayerNewsFees process 0 friend, this.bgNumberFriendOnline: ", this.Sc))
		},
		w6: function() {
			BkLogicManager.S().KA("co ziga da ra mat phien ban moi hon. \nban vui long cap nhat de co duoc nhung tinh nang moi nhat cua he thong.",
				1, 6, "itms-apps://itunes.apple.com/app/id1415712748", 2, "https://zigavn.com/huong-dan-chung")
		},
		U5: function() {
			(new BkRateAppWindow("B\u1ea1n c\u00f3 y\u00eau th\u00edch C\u1edd Ziga kh\u00f4ng?", "H\u00e3y b\u00ecnh ch\u1ecdn 5* cho C\u1edd Ziga \u0111\u1ec3 c\u1ed9ng \u0111\u1ed3ng C\u1edd Ziga ng\u00e0y c\u00e0ng ph\u00e1t tri\u1ec3n!", "B\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c t\u1eb7ng 5 Tim sau khi b\u00ecnh ch\u1ecdn 5* cho C\u1edd Ziga!")).Oa()
		},
		FT: function() {
			var a = new BkAddHeartWindow;
			a.Ab(this);
			a.Oa()
		},
		zi: 0,
		x6: function() {
			BkGlobal.Qg = !0;
			0 == this.zi % 5 ? BkConnectionManager.Yh(Za, M) : 1 == this.zi % 5 ? BkConnectionManager.Yh(N, M) : 2 == this.zi % 5 ? BkConnectionManager.Yh(N, O) : 3 == this.zi % 5 ? BkConnectionManager.Yh($a, O) : 4 == this.zi % 5 && BkConnectionManager.Yh($a, M);
			this.zi++;
			4 < this.zi && this.zi++
		},
		s6: function() {
			var a = new BkSpriteLoader("http://graph.facebook.com/10203878245936620/picture?width\x3d80\x26height\x3d80", "#default_avatar.jpg"),
				a = ab(a, a.getContentSize().height);
			a.x = 100;
			a.y = 100;
			this.addChild(a)
		},
		t6: function() {
			(new BkChooseAccountWindow({
				xk: "W34518178234235235235",
				jt: "http://graph.facebook.com/10203878245936620/picture?width\x3d80\x26height\x3d80",
				tn: "1236",
				ew: "111",
				vl: "3323",
				cw: "123",
				kq: "2111",
				dw: "1",
				lq: "1912",
				bw: "20000000"
			})).Oa()
		},
		oV: function() {
			this.oj.zm()
		},
		kx: function(a, b) {
			logMessage("updateHeart: " + a + " - reason: " + b);
			null != this.ma && this.ma.zm(a, b)
		},
		mr: function() {
			if (BkGlobal.Sa == G && isFBInstantGame()) BkFbInstant.tQ();
			else if (BkGlobal.Sa == G) E.Cr(!0);
			else {
				var a = this;
				isFBInstantGame() && null != Ya() && (a = Ya());
				var b = new BkHotTableWindow;
				b.Ab(a);
				b.Oa()
			}
		},
		ds: null,
		q2: function() {
			null == this.ds && (this.ds = new BkSlideMenuLayer(P), this.addChild(this.ds));
			this.ds.L2()
		},
		lr: function(a) {
			BkGlobal.Sa == G && isFBInstantGame() ? BkFbInstant.tQ() : BkGlobal.Sa == G ? E.Cr(!0) : 1 > BkGlobal.P.pb() ? BkConnectionManager.NA(bb) : (this.hz(a), u(D.LB, a))
		},
		hz: function(a) {
			BkGlobal.ja = a;
			BkLogicManager.S().iz(BkGlobal.ja);
			s(!1)
		},
		kf: function(a, b) {
			null != this.bf && this.bf.kf();
			null != this.ma && (null != b && void 0 != b ? this.ma.Ak(b) : this.ma.Ak(0))
		},
		jP: function() {
			n.rb(cb);
			null == this.Mw && (this.Mw = new BkSettingLayer(this.Gd),
				this.addChild(this.Mw));
			this.Mw.bP()
		}
	}),
	fb = db.extend({
		ctor: function() {
			this._super();
			if (BkGlobal.Sa == G) this.zM(this._winSize);
			else if (this.BA(this._winSize), !bk.isFbApp) {
				var a = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png", "btn_no_text.png", "btn_no_text_press.png");
				a.setTitleText("THO\u00c1T");
				a.setTitleFontSize(16);
				a.setTitleColor(cc.color(45, 22, 10));
				a.setPosition(cc.winSize.width / 2, 25);
				a.addClickEventListener(function() {
					(BkLogicManager.S().eo || BkGlobal.isLoginFacebook) && za(D.He);
					bk.sessionStorage.setItem(D.rB,
						(1).toString());
					Aa();
					eb()
				});
				BkGlobal.fo || this.addChild(a)
			}
			this.aW()
		},
		kf: function(a, b) {
			console.log("BkWebGameLayer - this.updateAvatar - this.playerAvatar: ", this.bf);
			null != this.bf && (console.log("BkStartGameLayer - this.updateAvatar()"), this.removeChild(this.bf, !0), this.bf = this.fy());
			null != this.ma && (null != b && void 0 != b ? this.ma.Ak(b) : this.ma.Ak(0))
		},
		BA: function() {
			var a = cc.director.getWinSize(),
				b = this;
			cc.screen.fullScreen() ? this.Ra = new BkButton("btn_scale2.png", "btn_scale2.png", "btn_scale2.png", "btn_scale2_hover.png",
				ccui.Widget.PLIST_TEXTURE) : this.Ra = new BkButton("btn_scale.png", "btn_scale.png", "btn_scale.png", "btn_scale_hover.png", ccui.Widget.PLIST_TEXTURE);
			this.Ra.x = a.width - WINDOW_MARGIN_RIGHT - 0.5 * this.Ra.getContentSize().width;
			this.Ra.y = a.height - WINDOW_MARGIN_TOP - 0.5 * this.Ra.getContentSize().height;
			this.Ra.addClickEventListener(function() {
				cc.screen.fullScreen() ? (exitFullScreen(), b.Ra.loadTextures("btn_scale.png", "btn_scale.png", "btn_scale.png", "btn_scale_hover.png", ccui.Widget.PLIST_TEXTURE)) : makeFullScreen(function() {
					cc.screen.fullScreen() ?
						b.Ra.loadTextures("btn_scale2.png", "btn_scale2.png", "btn_scale2.png", "btn_scale2_hover.png", ccui.Widget.PLIST_TEXTURE) : b.Ra.loadTextures("btn_scale.png", "btn_scale.png", "btn_scale.png", "btn_scale_hover.png", ccui.Widget.PLIST_TEXTURE)
				})
			});
			this.addChild(this.Ra);
			this.gc = new BkButton("btn_guide.png", "btn_guide.png", "btn_guide.png", "btn_guide_hover.png", ccui.Widget.PLIST_TEXTURE);
			this.gc.y = this.Ra.y;
			this.gc.addClickEventListener(function() {
				var a = cc.game.config.app.helpMenu;
				logMessage("btn_guide click - helpUrl: " +
					a);
				void 0 != a && "" != a && window.open(a, "_blank")
			});
			this.addChild(this.gc);
			this.Zf = new BkButton("btn_friend_top.png", "btn_friend_top.png", "btn_friend_top.png", "btn_friend_top_hover.png", ccui.Widget.PLIST_TEXTURE);
			this.Zf.y = this.Ra.y;
			this.Zf.addClickEventListener(function() {
				var a = new BkFriendsWindow;
				a.Ab(b);
				a.Oa()
			});
			this.addChild(this.Zf);
			this.gc.x = this.Ra.x - this.Ra.width - 5;
			this.Zf.x = this.gc.x - this.Zf.width / 2 - this.gc.width / 2 - 5;
			this.ZG();
			this.QG()
		},
		ZG: function() {
			if (isWebPlatform()) {
				var a = this,
					b = this.Zf,
					c = new BkButton("btn_xephang.png", "btn_xephang.png", "btn_xephang.png", "btn_xephang_press.png", ccui.Widget.PLIST_TEXTURE);
				this.kl = c;
				this.kl.x = b.x - UI.Da(b) - 7 - UI.Da(c);
				this.kl.y = this.Zf.y;
				this.kl.addClickEventListener(function() {
					var b = new BkTopPlayersWindow;
					b.Ab(a);
					b.Oa()
				});
				this.addChild(this.kl)
			}
		},
		QG: function() {
			if (isWebPlatform()) {
				var a = this,
					b = this.kl,
					c = new BkButton("btn_history_web.png", "btn_history_web.png", "btn_history_web.png", "btn_history_web_press.png", ccui.Widget.PLIST_TEXTURE);
				c.setScale(0.44 *
					GAME_SCALE);
				this.Op = c;
				this.Op.x = UI.eb(b) - 2 - UI.Da(c);
				this.Op.y = b.y;
				this.Op.addClickEventListener(function() {
					a.Rw(0)
				});
				this.addChild(this.Op);
				b = new BkSprite("#history_icon_new.png");
				b.x = UI.eb(c) + 0.8 * UI.Da(b);
				b.y = UI.xf(c) - 0.8 * UI.Ei(b);
				this.addChild(b)
			}
		},
		Rw: function(a) {
			logMessage("showHistoryListWindow - kindHistory: " + a);
			a = 0 == a ? new BkHistoryListWindow(0) : new BkHistoryListWindow(1);
			a.Ab(this);
			a.Oa()
		},
		zM: function(a) {
			var b = WD_BODY_MARGIN_LR;
			this.ns = new BkSprite;
			var c = new BkSprite("#btn_loginfacebook_normal.png");
			c.x = c.width / 2 + b;
			c.y = a.height - 27;
			this.ns.addChild(c);
			c.ad(function() {
				c.setOpacity(255)
			}, function() {
				c.setOpacity(240)
			});
			c.Ua(function() {
				E.Cr(!0)
			});
			a = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png", "btn_no_text.png", "btn_no_text_press.png");
			a.setTitleText("\u0110\u0103ng nh\u1eadp");
			a.setPosition(cc.winSize.width / 2, cc.winSize.height / 4);
			a.addClickEventListener(function() {
				BkLogicManager.S().Qt()
			});
			this.addChild(a);
			this.Zo = new BkToast;
			this.addChild(this.Zo, WD_ZORDER_TOP);
			this.Zo.setVisible(!1);
			this.Zo.x = cc.winSize.width / 2;
			this.Zo.y = 60;
			a = "B\u1ea5m \u0111\u0103ng nh\u1eadp b\u1eb1ng t\u00e0i kho\u1ea3n Facebook \u0111\u1ec3 v\u00e0o game";
			bk.isFbApp && (a = "H\u00e3y c\u1ea5p quy\u1ec1n b\u1ea5m \u0111\u0103ng nh\u1eadp facebook \u0111\u1ec3 v\u00e0o game");
			this.Zo.Wh(a, 375);
			this.yM(cc.winSize)
		},
		aW: function() {
			BkGlobal.Sa == G ? (this.Hd.setScale(0.7), this.Hd.y += 65, this.$f.Ya(!1)) : (this.Hd.setScale(0.6), this.Hd.y += 55, this.$f.y += 125, this.$f.setScale(0.7), this.BA(cc.winSize))
		}
	});
var gb = cc.Scene.extend({
	lo: !1,
	Xv: null,
	onEnter: function() {
		this._super();
		this.Xv = isWebPlatform() ? new fb(G) : new db(G);
		this.addChild(this.Xv);
		BkGlobal.ja = -1;
		BkGlobal.wf = -1;
		BkGlobal.Rj = -1
	},
	onEnterTransitionDidFinish: function() {
		this._super();
		this.scheduleUpdate();
		t()
	},
	update: function() {
		var a = getCurrentScene();
		null != a && a instanceof gb && (this.unscheduleUpdate(), processNextEventAfterSceneTransitionDidFinish())
	},
	b7: function(a) {
		this.Xv.eW(a)
	}
});
var hb = cc.Scene.extend({
	lo: !1,
	Se: null,
	onEnter: function() {
		s();
		this._super();
		cc.spriteFrameCache.addSpriteFrames(res.cn, res.bn);
		cc.spriteFrameCache.addSpriteFrames(res.Wl, res.Xl);
		cc.spriteFrameCache.addSpriteFrames(res.yr, res.zr);
		cc.spriteFrameCache.addSpriteFrames(res.uo, res.vo);
		this.Se = isWebPlatform() ? new fb(P) : new db(P);
		this.addChild(this.Se);
		BkGlobal.ja = -1;
		BkGlobal.wf = -1;
		BkGlobal.Rj = -1;
		logMessage("set default AdsID -\x3e will reset if receive server setting");
		n.Or();
		this.or()
	},
	onEnterTransitionDidFinish: function() {
		this._super();
		this.scheduleUpdate();
		t()
	},
	update: function() {
		var a = getCurrentScene();
		null != a && a instanceof hb && (this.unscheduleUpdate(), processNextEventAfterSceneTransitionDidFinish(), this.PJ(), BkLogicManager.S().wU(), ib(jb), this.OJ(), BkConnectionManager.mC())
	},
	OJ: function() {
		var a = p("lastTimeGetSettingListChatInvalid", 0),
			b = J(),
			a = Math.floor((b - a) / 1E3);
		logMessage("doGetListChatInvalid: " + a);
		604800 < a && (u("lastTimeGetSettingListChatInvalid", b), b = kb, isFBInstantGame() && (b = lb), aa(b, function(a, b) {
			t();
			if (a) logMessage("err: " +
				a);
			else {
				logMessage("respondText: " + b);
				var e = JSON.parse(b),
					e = Q(e, "listChatInvalid", mb);
				logMessage("setListMessageChatInvalid: " + e);
				u("listMessageChatInvalid", e)
			}
		}))
	},
	PJ: function() {
		BkGlobal.jo && (logMessage("isNeedLoadSetting -\x3e getSettingRequest"), BkGlobal.jo = !1, BkLogicManager.S().Vz(), BkLogicManager.S().jL())
	},
	kf: function(a, b) {
		null != this.Se && this.Se.kf(a, b)
	},
	fj: function() {
		logMessage("onBackClick BkChooseGameScene");
		var a = BkStackWindow.ak();
		null != a ? a.removeSelf() : null != this.Se && this.Se.fj()
	},
	or: function() {
		if (cc.sys.os ==
			cc.sys.OS_ANDROID) {
			var a = this;
			cc.eventManager.addListener({
				event: cc.EventListener.KEYBOARD,
				onKeyPressed: function(b) {
					b == cc.KEY.back && a.fj()
				}
			}, this)
		}
	},
	Uv: function(a) {
		null != this.Se && this.Se.Uv(a)
	}
});
var nb = cc.Scene.extend({
	lo: !1,
	Qi: null,
	Wa: null,
	ed: null,
	onEnter: function() {
		this._super();
		cc.spriteFrameCache.addSpriteFrames(res.Wl, res.Xl);
		cc.spriteFrameCache.addSpriteFrames(res.uo, res.vo);
		this.HA();
		logMessage("init BkGlobal.ingameScene");
		BkGlobal.ek = this;
		this.or()
	},
	onEnterTransitionDidFinish: function() {
		this._super();
		BkGlobal.ek = this;
		isWebPlatform() && this.YL();
		this.ed && (this.ed.visible = !0, this.ed.Rk(BkUserClientSettings.co));
		BkLogicManager.oa().$l();
		this.scheduleUpdate();
		logMessage("onEnterTransitionDidFinish " +
			J())
	},
	update: function() {
		var a = getCurrentScene();
		null != a && a instanceof nb && (logMessage("update " + J()), BkGlobal.jo && (logMessage("isNeedLoadSetting -\x3e getSettingRequest"), BkGlobal.jo = !1, BkLogicManager.S().Vz()), this.unscheduleUpdate(), processNextEventAfterSceneTransitionDidFinish())
	},
	HA: function() {
		null != this.Wa && (this.Wa.removeAllChildren(), this.Wa.removeFromParent(), this.Wa = null);
		switch (BkGlobal.ja) {
			case ob:
				this.Wa = new BkTLMNGameLayer;
				break;
			case K:
				this.Wa = new BkCoTuongGameLayer;
				break;
			case L:
				this.Wa =
					new BkCoUpGameLayer;
				break;
			case pb:
				this.Wa = new BkPhomGameLayer;
				break;
			case Ka:
				this.Wa = new BkBaCayGameLayer;
				break;
			case qb:
				this.Wa = new BkSamGameLayer;
				break;
			case rb:
				this.Wa = new BkTLMNDemLaGameLayer;
				break;
			case Ia:
				this.Wa = new BkXiToGameLayer;
				break;
			case Ja:
				this.Wa = new BkXiDzachGameLayer;
				break;
			case Ha:
				this.Wa = new BkPokerGameLayer;
				break;
			case La:
				this.Wa = new BkLiengGameLayer;
				break;
			case H:
				this.Wa = new BkMauBinhGameLayer;
				break;
			default:
				this.Wa = new BkTLMNGameLayer
		}
		null != this.Wa && (this.addChild(this.Wa), this.Wa.setParent(this))
	},
	YL: function() {
		null != this.ed && (this.ed.removeAllChildren(), this.ed.removeFromParent(), this.ed = null);
		var a = p("chatSetting", 1);
		this.ed = new sb(a, !0);
		this.ed.visible = !1;
		null != this.ed && (this.addChild(this.ed), this.ed.setParent(this))
	},
	ka: function() {
		null == this.Wa && this.HA();
		return this.Wa
	},
	S: function() {
		return BkLogicManager.oa()
	},
	jU: function(a) {
		var b = this;
		a = new BkPlayerInfo(a);
		a.Ab(this.Wa);
		a.Oa();
		this.ka().ez();
		a.df(function() {
			logMessage("close playerInfoWd callback");
			b.ka().tz()
		})
	},
	aU: function(a) {
		null !=
			this.Qi && this.Qi.removeFromParent();
		this.Qi = new BkInviteOtherPlayer(a);
		var b = this;
		this.ka().ez();
		this.Qi.df(function() {
			logMessage("close inviteFriend callback");
			b.ka().tz()
		});
		this.Qi.Ab(this);
		this.Qi.Oa()
	},
	oE: function(a, b) {
		null != this.Qi && this.Qi.Vj(a, b)
	},
	kV: function(a, b) {
		logMessage("updateChatBox: " + a + " - serverPos: " + b);
		for (var c, d = -1, e = -1, f = 0; f < CHAT_SMILE_TEXT.length; f++) c = CHAT_SMILE_TEXT[f], -1 != a.indexOf(c) && c.length > e && (d = f, e = c.length);
		c = d;
		f = this.S().Jb(b);
		d = f.getName();
		e = tb();
		if (!ub(d, e))
			if (e = !1, (BkGlobal.ja == K || BkGlobal.ja == L) && f.Ka && (e = !0), f = this.ka().tc(b), -1 == c) {
				if (this.ed && this.ed.NV(a, d), !isWebPlatform()) {
					if (null != f) {
						c = this.ka().SK(d);
						var g = f.x,
							h = f.y,
							k = 0,
							m = 0;
						if (-1 != c) {
							var r = getMaxPlayer(BkGlobal.ja);
							switch (c) {
								case 0:
									m = 90;
									break;
								case 1:
									k = -96;
									break;
								case 2:
									6 == r ? k = -96 : m = -90;
									break;
								case 3:
									k = 80;
									break;
								case 4:
									6 == r && (k = 80);
									break;
								case 5:
									6 == r && (k = 80)
							}
						}
						f.gE(a, g + k, h + m)
					}
					e && this.ka().vU(a);
					this.ka().mV(a, d)
				}
			} else e ? this.ka().uU(c) : null != f && f.PT(c)
	},
	ZV: function(a) {
		this.ed.gq = a;
		this.ed && this.ed.Rk(a)
	},
	A4: function() {},
	bm: function() {
		logMessage("onBackClick BkInGameScene");
		var a = BkStackWindow.ak();
		null != a ? a.removeSelf() : null != this.Wa && this.Wa.bm()
	},
	or: function() {
		if (cc.sys.os == cc.sys.OS_ANDROID) {
			var a = this;
			cc.eventManager.addListener({
				event: cc.EventListener.KEYBOARD,
				onKeyPressed: function(b) {
					b == cc.KEY.back && a.bm()
				}
			}, this)
		}
	}
});
var vb = cc.Scene.extend({
	Wa: null,
	data: null,
	ctor: function(a) {
		this._super();
		logMessage("BkHistoryGame - data " + JSON.stringify(a));
		this.data = a;
		logMessage("init BkHistoryGame");
		cc.spriteFrameCache.addSpriteFrames(res.Wl, res.Xl);
		cc.spriteFrameCache.addSpriteFrames(res.uo, res.vo);
		cc.spriteFrameCache.addSpriteFrames(res.cn, res.bn);
		BkGlobal.ek = this;
		this.Jq()
	},
	onEnter: function() {
		this._super();
		processNextEventAfterSceneTransitionDidFinish()
	},
	onEnterTransitionDidFinish: function() {
		this._super();
		logMessage("onEnterTransitionDidFinish " +
			J())
	},
	Jq: function() {
		this.Wa = new BkHistoryGameLayer(this.data);
		null != this.Wa && (this.addChild(this.Wa), this.Wa.setParent(this));
		console.log("end of initLayer")
	},
	ka: function() {
		null == this.Wa && this.Jq();
		return this.Wa
	},
	bm: function() {
		logMessage("onBackClick BkInGameScene");
		var a = BkStackWindow.ak();
		null != a ? a.removeSelf() : null != this.Wa && this.Wa.bm()
	},
	or: function() {
		if (cc.sys.os == cc.sys.OS_ANDROID) {
			var a = this;
			cc.eventManager.addListener({
				event: cc.EventListener.KEYBOARD,
				onKeyPressed: function(b) {
					b == cc.KEY.back &&
						a.bm()
				}
			}, this)
		}
	}
});
BkLoaderScene = cc.Scene.extend({
	lo: !1,
	_interval: null,
	_label: null,
	_className: "LoaderScene",
	cb: null,
	target: null,
	background: null,
	init: function() {
		var a = this._bgLayer = new cc.LayerColor(cc.color(255, 255, 255, 0));
		logMessage("custom BG");
		this.addChild(a, 0);
		var b = 24,
			c = 0;
		cc._loaderImage && (b = 14, c = -110);
		b = this._label = new cc.LabelTTF("Loading... 0%", "Arial", b);
		b.setPosition(cc.pAdd(cc.visibleRect.center, cc.p(0, c)));
		b.setColor(cc.color(180, 180, 180));
		a.addChild(this._label, 10);
		return !0
	},
	_initStage: function(a, b) {
		var c =
			this._texture2d = new cc.Texture2D;
		c.initWithElement(a);
		c.handleLoadedTexture();
		c = this._logo = new cc.Sprite(c);
		c.setScale(cc.contentScaleFactor());
		c.x = b.x;
		c.y = b.y
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		this.schedule(this._startLoading, 0.3);
		BkConnectionManager.lk() || BkConnectionManager.fk()
	},
	onExit: function() {
		cc.Node.prototype.onExit.call(this);
		this._label.setString("Loading... 0%")
	},
	initWithResources: function(a, b, c) {
		cc.isString(a) && (a = [a]);
		this.resources = a || [];
		this.cb = b;
		this.target =
			c
	},
	_startLoading: function() {
		var a = this;
		a.unschedule(a._startLoading);
		var b = a.resources;
		cc.loader.releaseAll();
		cc.loader.load(b, function(b, d, e) {
			b = Math.min(e / d * 100 | 0, 100);
			a._label.setString("Loading... " + b + "%")
		}, function() {
			a.cb && a.cb.call(a.target)
		})
	}
});
var wb = null;
BkLoaderScene.preload = function(a, b, c) {
	wb || (wb = new BkLoaderScene, wb.init());
	cc.director.runScene(wb);
	wb.initWithResources(a, b, c);
	return wb
};

function xb(a, b, c) {
	return cc.EventListener.create({
		event: cc.EventListener.MOUSE,
		onMouseMove: function(c) {
			var e = c.getLocation(),
				f = c.getCurrentTarget();
			cc.rectContainsPoint(f.getBoundingBoxToWorld(), e) ? (cc._canvas.style.cursor = "pointer", BkInSide.aB = !0, BkInSide.dx = f, null != a && void 0 != a && a(c)) : (BkInSide.dx == f && (cc._canvas.style.cursor = "default", BkInSide.aB = !1, BkInSide.dx = null), null != b && void 0 != b && b(c))
		},
		onMouseDown: function(a) {
			null != c && void 0 != c && c(a)
		}
	}).clone()
}

function yb(a, b, c) {
	return cc.EventListener.create({
		event: cc.EventListener.TOUCH_ONE_BY_ONE,
		swallowTouches: !0,
		onTouchBegan: function(b, c) {
			var f = c.getCurrentTarget(),
				g = f.convertToNodeSpace(b.getLocation()),
				f = f.getContentSize(),
				f = cc.rect(0, 0, f.width, f.height);
			return cc.rectContainsPoint(f, g) ? null != a && void 0 != a && (g = a(b, c), void 0 != g) ? (logMessage("rtn callback !\x3d undefined"), g) : !0 : !1
		},
		onTouchMoved: function(a, c) {
			null != b && void 0 != b && b(a, c)
		},
		onTouchEnded: function(a, b) {
			null != c && void 0 != c && c(a, b)
		}
	}).clone()
}
BkInSide = {
	aB: !1,
	dx: null
};
BkSprite = cc.Sprite.extend({
	Cd: null,
	Je: null,
	Kb: 0,
	ctor: function(a, b) {
		this._super(a, b);
		this.Je = this.Cd = null;
		this.retain()
	},
	getWidth: function() {
		return this.width * this.getScaleX()
	},
	getHeight: function() {
		return this.height * this.getScaleY()
	},
	Ua: function(a) {
		this.JR();
		this.Je = yb(a);
		cc.eventManager.addListener(this.Je, this)
	},
	ad: function(a, b) {
		this.lw();
		this.Cd = xb(a, b);
		cc.eventManager.addListener(this.Cd, this)
	},
	oT: function() {
		this.x = this.getContentSize().width / 2;
		this.y = this.getContentSize().height / 2
	},
	JR: function() {
		null !=
			this.Je && cc.eventManager.removeListener(this.Je)
	},
	lw: function() {
		null != this.Cd && cc.eventManager.removeListener(this.Cd)
	},
	removeSelf: function() {
		null != this.Cd && cc.eventManager.removeListener(this.Cd);
		null != this.Je && cc.eventManager.removeListener(this.Je);
		isWebPlatform() && (cc._canvas.style.cursor = "default");
		this.removeFromParent()
	},
	removeFromParent: function(a) {
		this._super(a);
		this.release()
	},
	XD: function(a) {
		isWebPlatform() || this.setScale(a / this.getContentSize().height)
	},
	a5: function(a) {
		isWebPlatform() ||
			this.setScale(a / this.getContentSize().width)
	},
	Yb: function(a, b) {
		void 0 === b && (b = a);
		isWebPlatform() || this.setScale(a, b)
	},
	Of: function(a) {
		a = cc.spriteFrameCache.getSpriteFrame(a);
		this.setSpriteFrame(a)
	}
});
HOT_ITEM_PADDING_X = 5;
BKHotTableItem = ccui.Widget.extend({
	Qd: null,
	Af: null,
	Oh: null,
	Gb: null,
	pc: null,
	nk: null,
	qo: null,
	Fc: null,
	lf: null,
	Zi: null,
	ctor: function(a, b) {
		this._super();
		this.Qd = a;
		this.Pc = createBkButtonPlist("banhot_miniFrame.png", "banhot_miniFrame.png", "banhot_miniFrame.png", "banhot_miniFrame.png");
		var c = 6.5;
		isWebPlatform() && (c = 6);
		this.setContentSize(cc.size(1.1 * this.Pc.getContentSize().width, b.Q.height / c));
		this.setScale(GAME_SCALE);
		this.setPosition(0.5 * this.getContentSize().width, 0.5 * this.getContentSize().height);
		this.Pc.setPosition(0.5 *
			this.getContentSize().width, 0.5 * this.getContentSize().height);
		this.addChild(this.Pc);
		logMessage("BKHotTableItem " + this.getContentSize().width + " " + this.getContentSize().height);
		this.init();
		this.iK()
	},
	JG: function(a) {
		this.Pc && this.Pc.addClickEventListener(function() {
			a && a()
		})
	},
	init: function() {
		this.Fc = new BkSprite("#banhot_icon_CT.png");
		this.Fc.x = this.getContentSize().width / 2;
		this.Fc.y = this.getContentSize().height / 2;
		this.addChild(this.Fc);
		this.Gb = new BkSprite("#default_avatar.jpg");
		this.Gb.setScale(0.72);
		this.Gb.x = this.Fc.x - this.Gb.getContentSize().width / 2 - HOT_ITEM_PADDING_X;
		this.Gb.y = this.getContentSize().height / 2;
		this.addChild(this.Gb);
		this.pc = new BkSprite("#default_avatar.jpg");
		this.pc.setScale(0.72);
		this.pc.x = this.Fc.x + this.pc.getContentSize().width / 2 + HOT_ITEM_PADDING_X;
		this.pc.y = this.getContentSize().height / 2;
		this.addChild(this.pc);
		var a = cc.color(251, 234, 180),
			a = 17;
		isWebPlatform() || (a = 25);
		this.Af = new BkLabel("", "Arial", a, !0);
		this.addChild(this.Af, 10);
		this.Oh = new BkLabel("", "Arial", a, !0);
		this.addChild(this.Oh,
			10);
		this.nk = new BkLabel("", "Arial", a);
		this.qo = new BkLabel("", "Arial", a);
		a = R;
		this.Af.setTextColor(a);
		this.Oh.setTextColor(a);
		this.nk.setTextColor(a);
		this.qo.setTextColor(a)
	},
	iK: function() {
		if (null != this.Qd) {
			var a = "banhot_icon_CT.png";
			this.Qd.ya == L && (a = "banhot_icon_CU.png");
			null != this.Fc && (this.Fc.removeSelf(), this.Fc = null);
			this.Fc = new BkSprite("#" + a);
			this.Fc.x = this.getContentSize().width / 2;
			this.Fc.y = this.getContentSize().height / 1.8;
			this.addChild(this.Fc);
			var b = 0.72,
				a = 30;
			isWebPlatform() && (b = 0.52, a = 18);
			logMessage("create avatarFirstPlayer " + this.Qd.Di + " - " + this.Qd.sq);
			null != this.Gb && (this.Gb.removeSelf(), this.Gb = null);
			this.Gb = zb(this.Qd.vK, this.Qd.sq);
			this.Gb.setScale(b);
			this.Gb.x = this.Fc.x - this.Fc.getBoundingBox().width / 2 - this.Gb.getBoundingBox().width / 2 - HOT_ITEM_PADDING_X;
			this.Gb.y = this.getContentSize().height / 2 + 5;
			this.addChild(this.Gb);
			this.Af.setString(Ab(this.Qd.Di, 13));
			this.Af.x = this.Gb.x - this.Gb.getBoundingBox().width / 2 - this.Af.getContentSize().width / 2 - HOT_ITEM_PADDING_X;
			this.Af.y = this.getContentSize().height /
				2;
			null != this.pc && (this.pc.removeSelf(), this.pc = null);
			this.pc = zb(this.Qd.zN, this.Qd.NB);
			this.pc.setScale(b);
			this.pc.x = this.Fc.x + this.Fc.getBoundingBox().width / 2 + this.pc.getBoundingBox().width / 2 + HOT_ITEM_PADDING_X;
			this.pc.y = this.Gb.y;
			this.addChild(this.pc);
			this.Oh.setString(Ab(this.Qd.yN, 13));
			this.Oh.x = this.pc.x + this.pc.getBoundingBox().width / 2 + this.Oh.getContentSize().width / 2 + HOT_ITEM_PADDING_X;
			this.Oh.y = this.getContentSize().height / 2;
			isWebPlatform() || (this.Gb.x = 0.2 * this.getContentSize().width, this.Af.x =
				this.Gb.x, this.Gb.y = this.getContentSize().height / 2 + 0.35 * this.Gb.getContentSize().height, this.pc.y = this.Gb.y, this.Af.y = this.Gb.y - this.Gb.getContentSize().height / 2 - 1.5 * this.Af.getContentSize().height, this.nk.setString(this.Qd.sq), this.nk.x = this.Gb.x, this.nk.y = 0 + this.nk.getContentSize().height / 2, this.pc.x = 0.8 * this.getContentSize().width, this.Oh.x = this.pc.x, this.Oh.y = this.Af.y, this.qo.setString(this.Qd.NB), this.qo.x = this.pc.x, this.qo.y = this.nk.y, this.Fc.y = this.getContentSize().height / 2);
			b = 0.01 * this.getContentSize().width;
			null == this.lf && (this.lf = new BkSprite("#nguoixem.png"), this.lf.x = this.getContentSize().width / 2 - this.lf.getContentSize().width / 2, this.lf.y = this.Fc.y - this.Fc.getContentSize().height / 2 - 0.3 * this.lf.getContentSize().height, this.lf.y = this.Af.y, isWebPlatform() && (this.lf.y -= 20), this.addChild(this.lf));
			null == this.Zi ? (this.Zi = new BkLabel(this.Qd.xc - 2, "", a, !0), this.Zi.setTextColor(R), this.Zi.x = this.lf.x + this.lf.getContentSize().width / 2 + this.Zi.getContentSize().width / 2 + b, this.Zi.y = this.lf.y, this.addChild(this.Zi)) :
				this.Zi.setString(this.Qd.xc - 2)
		}
	}
});
BkTableView = cc.Layer.extend({
	Zs: null,
	Jm: 0,
	Ep: null,
	Bp: null,
	Kp: null,
	Cp: null,
	Cg: null,
	ctor: function(a, b, c, d, e, f) {
		this._super();
		this.Zs = a;
		this.Jm = b;
		this.Ep = c;
		this.Bp = d;
		this.Kp = e;
		this.Cp = f
	},
	init: function() {
		this.Cg = new cc.TableView(this, this.Kp);
		this.Cg.setDirection(cc.SCROLLVIEW_DIRECTION_VERTICAL);
		this.Cg.x = (this.Kp.width - this.Cp.width) / 2;
		this.Cg.y = 0;
		this.Cg.setDelegate(this);
		this.Cg.setVerticalFillOrder(cc.TABLEVIEW_FILL_TOPDOWN);
		this.Cg.setTouchEnabled(!0);
		this.addChild(this.Cg);
		this.Un();
		this.Cg.reloadData();
		this.bake();
		isWebPlatform() && cc.isFunction(cc.inputManager.AR) && cc.inputManager.AR(cc._canvas)
	},
	Un: function() {
		isWebPlatform() && (this.Jm.length * this.Cp.height < this.Kp.height || "mouse" in cc.sys.capabilities && cc.eventManager.addListener({
			event: cc.EventListener.MOUSE,
			onMouseScroll: function(a) {
				var b = cc.sys.isNative ? 6 * a.getScrollY() : -a.getScrollY(),
					c = a.getCurrentTarget();
				a = a.getLocation();
				return cc.rectContainsPoint(c.getBoundingBoxToWorld(), a) ? (b = c.getContentOffset().y + b, b = Math.min(Math.max(b, c.minContainerOffset().y),
					c.maxContainerOffset().y), c.setContentOffset(cc.p(0, b)), !0) : !1
			}
		}, this.Cg))
	},
	scrollViewDidScroll: function() {},
	scrollViewDidZoom: function() {},
	tableCellTouched: function(a, b) {
		logMessage("cell touched at index: " + b.getIdx());
		null != this.Bp && void 0 != this.Bp ? this.Bp(this.Jm[b.getIdx()]) : logMessage("tableCellTouched: onclick callback")
	},
	tableCellSizeForIndex: function() {
		return this.Cp
	},
	cJ: function(a) {
		var b;
		null != this.Ep && void 0 != this.Ep && (b = this.Ep(a, this.Zs), b.tag = 123, b.x = b.getBoundingBox().width / 2, b.y = b.getBoundingBox().height /
			2);
		return b
	},
	tableCellAtIndex: function(a, b) {
		var c = a.dequeueCell(),
			d;
		c ? (d = c.getChildByTag(123), c.removeChild(d)) : c = new Bb;
		d = this.cJ(this.Jm[b]);
		null != d && c.addChild(d);
		c.ad();
		return c
	},
	numberOfCellsInTableView: function() {
		return this.Jm.length
	},
	x_: function() {
		return this.Zs
	},
	onExit: function() {
		isWebPlatform() && cc.isFunction(cc.inputManager.UR) && cc.inputManager.UR(cc._canvas);
		this._super()
	}
});
var Bb = cc.TableViewCell.extend({
	Cd: null,
	ctor: function() {
		this._super();
		this.ad()
	},
	draw: function(a) {
		this._super(a)
	},
	ad: function() {
		isWebPlatform() && (this.lw(), this.Cd = xb(), cc.eventManager.addListener(this.Cd, this))
	},
	lw: function() {
		null != this.Cd && cc.eventManager.removeListener(this.Cd)
	}
});
BkTableData = cc.Class.extend({
	rg: null,
	ac: null,
	yk: null,
	dj: null,
	bk: null,
	Ub: null,
	Gm: null,
	Zn: null,
	Xn: null,
	Jt: [],
	ctor: function() {
		this.yk = this.ac = this.rg = 0;
		this.dj = 4;
		this.Ub = this.bk = 0;
		this.Zn = !0;
		this.Xn = !1;
		this.Gm = 0;
		this.Jt = []
	},
	toString: function() {
		return "[tableID: " + this.rg + " - betMoney: " + this.ac + " - numberPlayer: " + this.yk + " - maxNumberPlayer: " + this.dj + " - hasPassword: " + this.bk + " - isInGameProgress: " + this.Ub + "- isBaicMode: " + this.Zn + "- is411: " + this.Xn + "]"
	},
	clone: function() {
		var a = new BkTableData;
		a.rg =
			this.rg;
		a.ac = this.ac;
		a.yk = this.yk;
		a.dj = this.dj;
		a.bk = this.bk;
		a.Ub = this.Ub;
		a.Zn = this.Zn;
		a.Xn = this.Xn;
		a.Jt = this.Jt;
		a.Gm = this.Gm;
		return a
	}
});
BkRoomData = cc.Class.extend({
	Od: null,
	percent: null,
	ctor: function() {
		this.percent = this.Od = 0
	}
});
BkUserData = cc.Class.extend({
	userName: null,
	displayName: null,
	password: null,
	Zp: null,
	ye: null,
	Ai: 0,
	Bi: 0,
	$c: null,
	Hl: null,
	tq: null,
	Hb: null,
	zz: null,
	Dz: null,
	pz: null,
	oy: null,
	vA: null,
	status: null,
	ya: null,
	vq: null,
	cC: null,
	ny: null,
	aO: null,
	Ta: null,
	px: null,
	du: null,
	ww: null,
	Io: null,
	Cm: 0,
	Vl: null,
	Ie: !1,
	zo: 0,
	lC: 0,
	iq: 0,
	Ex: !1,
	Gx: 0,
	Hx: 0,
	Fx: 0,
	UW: 0,
	bC: 0,
	JE: "",
	Rs: -1,
	Ph: null,
	gr: null,
	fr: null,
	Mf: -1,
	Lf: -1,
	hh: -1,
	gh: -1,
	cd: -1,
	vm: -1,
	fx: -1,
	ck: -1,
	ctor: function() {
		this.userName = "";
		this.ye = 0;
		this.Hb = -1
	},
	AL: function() {
		return this.userName
	},
	yd: function(a) {
		this.userName = a
	},
	G_: function() {
		return this.password
	},
	R4: function(a) {
		this.password = a
	},
	p5: function(a) {
		this.px = a
	},
	D4: function(a) {
		this.du = a
	},
	b5: function(a) {
		this.ww = a
	},
	c_: function() {
		return this.du
	},
	T_: function() {
		return this.ww
	},
	$_: function() {
		return this.px
	},
	J4: function(a) {
		this.Vl = a
	},
	v_: function() {
		return this.Vl
	},
	Mb: function(a) {
		this.ye = a
	},
	pb: function() {
		return this.ye
	},
	cf: function(a) {
		this.Hb = a
	},
	zK: function() {
		return this.Hb
	},
	ID: function(a) {
		this.Ai = a
	},
	a_: function() {
		return this.Ai
	},
	JD: function(a) {
		this.Bi =
			a
	},
	b_: function() {
		return this.Bi
	},
	Xh: function(a) {
		this.$c = a
	},
	u_: function() {
		return this.$c
	},
	om: function(a) {
		this.Hl = a
	},
	l_: function() {
		return this.Hl
	},
	ND: function(a) {
		this.tq = a
	},
	e_: function() {
		return this.tq
	},
	Qr: function(a) {
		this.ya = a
	},
	f_: function() {
		return this.ya
	},
	Sr: function(a) {
		this.Ie = a
	},
	W0: function() {
		return this.Ie
	},
	Jw: function(a) {
		this.Ta = a
	},
	Fn: function() {
		return this.Ta
	},
	M4: function(a) {
		this.vq = a
	},
	C_: function() {
		return this.vq
	},
	UD: function(a) {
		this.zo = a
	},
	D_: function() {
		return this.zo
	},
	g0: function() {
		return this.lC
	},
	AT: function(a) {
		this.lC = a
	},
	$Z: function() {
		return this.iq
	},
	cT: function(a) {
		this.iq = a
	},
	g_: function() {
		return this.Ex
	},
	OD: function(a) {
		this.Ex = a
	},
	i_: function() {
		return this.Gx
	},
	hT: function(a) {
		this.Gx = a
	},
	j_: function() {
		return this.Hx
	},
	iT: function(a) {
		this.Hx = a
	},
	h_: function() {
		return this.Fx
	},
	gT: function(a) {
		this.Fx = a
	},
	f0: function() {
		return this.bC
	},
	aE: function(a) {
		this.bC = a
	},
	PG: function() {
		null == this.Ph && (this.Ph = []);
		for (var a = 2; 5 >= a; a++)
			if (!1 == this.ZM(a)) {
				var b = new BkItemDetail;
				b.Ui = a;
				this.Ph.unshift(b)
			}
	},
	ZM: function(a) {
		if (null ==
			this.Ph) return !1;
		for (var b = 0; b < this.Ph.length; b++)
			if (this.Ph[b].Ui == a) return !0;
		return !1
	},
	h0: function(a, b) {
		var c = !1,
			d = [];
		switch (b) {
			case Cb:
				d = this.Ph;
				break;
			case Db:
				d = this.gr;
				break;
			case Eb:
				d = this.fr;
				break;
			default:
				d = []
		}
		if (null != d && 0 < d.length)
			for (var e = 0, f = d.length; e < f; e++) d[e].Ui == a && (c = !0);
		return c
	},
	R1: function() {
		logMessage("[ name: " + this.userName + " - lv: " + this.$c + " avar: " + this.Hb + " rank: " + this.Fn() + "]")
	},
	HD: function(a) {
		this.JE = a
	},
	WZ: function() {
		return this.JE
	},
	BB: function() {
		return -1 != this.Lf ? !0 :
			!1
	},
	DB: function() {
		return -1 != this.hh ? !0 : !1
	},
	CB: function() {
		return -1 != this.Mf ? !0 : !1
	},
	j1: function() {
		return this.BB() || this.CB() || this.DB() ? !0 : !1
	},
	X_: function() {
		if (-1 == this.Mf && -1 == this.Lf && -1 == this.hh) return CIngameAvatar.yG;
		var a = CIngameAvatar.yG,
			b = 4;
		this.Mf < b && -1 != this.Mf && (b = this.Mf, a = CIngameAvatar.eX);
		this.Lf < b && -1 != this.Lf && (b = this.Lf, a = CIngameAvatar.dX);
		this.hh < b && -1 != this.hh && (a = CIngameAvatar.fX);
		return a
	},
	Y_: function() {
		if (-1 == this.Mf && -1 == this.Lf && -1 == this.hh) return "";
		var a = "",
			b = 4;
		this.Mf < b &&
			-1 != this.Mf && (b = this.Mf, a = "\u0111\u1ea1i gia");
		this.Lf < b && -1 != this.Lf && (b = this.Lf, a = "cao th\u1ee7");
		this.hh < b && -1 != this.hh && (a = "\u0111ang l\u00ean");
		return a
	},
	y_: function() {
		var a = 4;
		this.Mf < a && -1 != this.Mf && (a = this.Mf + 1);
		this.Lf < a && -1 != this.Lf && (a = this.Lf + 1);
		this.hh < a && -1 != this.hh && (a = this.hh + 1);
		return a
	},
	U0: function() {
		var a = 0;
		this.BB() && a++;
		this.CB() && a++;
		this.DB() && a++;
		return 1 < a ? !0 : !1
	}
});
BkRadioButtonData = cc.Class.extend({
	id: null,
	value: null,
	description: null,
	ctor: function(a, b, c) {
		this.id = a;
		this.value = b;
		this.description = void 0 != c ? c : ""
	}
});
BkConvertCardXu = cc.Class.extend({
	AG: null,
	bO: null,
	eO: null,
	ctor: function(a, b, c) {
		this.AG = a;
		this.bO = c;
		this.eO = b
	}
});
BkBasicUserInfo = cc.Class.extend({
	userName: null,
	Hb: null,
	ye: null,
	ctor: function(a, b, c) {
		this.userName = a;
		this.ye = b;
		this.Hb = c
	},
	AL: function() {
		return this.userName
	},
	yd: function(a) {
		this.userName = a
	},
	Mb: function(a) {
		this.ye = a
	},
	pb: function() {
		return this.ye
	},
	cf: function(a) {
		this.Hb = a
	},
	zK: function() {
		return this.Hb
	}
});
BkPlayerAchievement = cc.Class.extend({
	Cm: null,
	Vl: null,
	m0: 0,
	vq: null,
	ny: null,
	cC: null,
	ya: null,
	Tg: null,
	h2: null,
	Ta: null,
	kW: null,
	ctor: function(a, b, c, d, e) {
		this.ya = a;
		this.Tg = b;
		this.Cm = c;
		this.Vl = d;
		this.Ta = e
	}
});
BkPromotionInfo = cc.Class.extend({
	h1: null,
	K0: null,
	mB: null,
	MU: 0,
	NU: 0,
	OU: 0,
	xB: null,
	uB: null,
	yB: null,
	v1: 0,
	t1: 0,
	u1: 0,
	yR: null,
	io: null,
	ctor: function() {
		isJoinFromInviteFriend = receiveInviteState = isShowRegisterPhone = isShowFaceBookInviteFB = isShowNapTien = !1;
		lastAskingTimeInvitePayment = lastAskingTimeInviteFacebook = lastAskingTimeRegisterPhone = 0
	}
});
BkChatEmoData = cc.Class.extend({
	yb: "",
	zb: "",
	Mn: "",
	Eb: 0
});
BkPlayerInfoData = cc.Class.extend({
	name: "",
	position: 0,
	status: 0,
	jg: 0,
	rf: "",
	Tg: 0,
	iB: !1,
	Ka: !1,
	ae: !1
});
BkAnimationCardData = cc.Class.extend({
	zs: 0,
	iF: 0,
	nz: 0,
	tag: -1,
	BZ: null,
	ctor: function(a, b, c, d) {
		this.zs = b;
		this.iF = c;
		this.nz = a;
		this.tag = d
	}
});
BkUserClientSettings = cc.Class.extend({
	pN: null,
	es: null,
	co: null,
	ctor: function(a, b, c) {
		this.pN = a;
		this.es = b;
		this.co = c
	}
});
BkUserClientSettings.QV = function() {
	var a = BkGlobal.Pf;
	S(D.ox + cc.username.toLowerCase(), JSON.stringify(a))
};
BkUserClientSettings.ZK = function() {
	var a = F(D.Ix, !1, ""),
		b = [];
	void 0 != a && "" != a && (b = JSON.parse(a));
	return b
};
BkUserClientSettings.J6 = function(a, b) {
	var c = BkUserClientSettings.ZK(),
		d = BkUserClientSettings.zL(a.toLowerCase(), c); - 1 < d && BkUserClientSettings.ZR(c, d);
	c.unshift((new Date).getTime());
	c.unshift(b);
	c.unshift(a.toLowerCase());
	S(D.Ix, JSON.stringify(c))
};
BkUserClientSettings.T6 = function(a, b, c) {
	c.unshift((new Date).getTime());
	c.unshift(b);
	c.unshift(a.toLowerCase())
};
BkUserClientSettings.ZR = function(a, b) {
	a.splice(b, 3)
};
BkUserClientSettings.zL = function(a, b) {
	for (var c = 0; c < b.length; c += 3)
		if (b[c] === a) return c;
	return -1
};
BkUserClientSettings.mL = function() {
	return F(D.ox + cc.username.toLowerCase(), !0)
};
BkUserClientSettings.z4 = function(a, b) {
	logMessage("call setDektopClientId: " + a + " " + b);
	if (-1 == a.indexOf("undefined")) {
		var c = F(D.clientId);
		null == c || c == wa || "" == c ? (logMessage("cid not found, set dessktop client id"), S(D.clientId, a), setCookie(Fb, a, 3650), c = a) : logMessage("cid found, do nothing");
		cc.nh = c + ";" + Gb
	} else logMessage("Used default web client id"), cc.nh = cc.nh.replace("_Chrome", "_Dt"), cc.nh = cc.nh + ";" + Gb;
	logMessage("DESKTOP CLIENT ID: " + cc.nh);
	cc.isString(b) && (bk.Uk = b);
	BkGlobal.mN && bk.H0 && BkGlobal.Yn &&
		(logMessage("AUTO REGISTER"), BkLogicManager.S().fB || ($("#progress-text").text("\u0110ang kh\u1edfi t\u1ea1o d\u1eef li\u1ec7u..."), showProgressModalEx(), BkConnectionManager.Ar(), BkLogicManager.S().jb(BkLogicManager.S()), BkLogicManager.S().WJ("_1", "", cc.nh), s(!0)))
};
BkUserClientSettings.zV = function(a, b) {
	var c = [];
	void 0 != F(a, !1, "") && "" != F(a, !1, "") && (c = JSON.parse(F(a, !1, "")));
	for (var d = 0; d < b.length; d++) c.push(b[d]);
	S(a, JSON.stringify(c))
};
BkUserClientSettings.MD = function(a) {
	var b = [],
		c = (new Date).getTime() + 2592E6;
	b.push(c);
	BkUserClientSettings.zV(a, b)
};
BkUserClientSettings.XK = function() {
	var a = E.te;
	if ("" == F(a, !1, "")) BkUserClientSettings.MD(a);
	else {
		var b = F(a, !1, "");
		if (void 0 == b) return "";
		b = JSON.parse(b);
		(new Date).getTime() >= b[0] && (za(a), BkUserClientSettings.MD(a))
	}
	return F(a, !1, "")
};
BkUserClientSettings.$V = function(a) {
	var b = BkUserClientSettings.mL();
	0 == b && (b = new BkUserClientSettings(a, 1, 0), S(D.ox + cc.username.toLowerCase(), JSON.stringify(b)));
	BkGlobal.Pf = b;
	if (void 0 == BkGlobal.Pf || null == BkGlobal.Pf) BkGlobal.Pf = new BkUserClientSettings(a, 1, 0)
};
BkUserClientSettings.zq = function() {
	if (null != BkGlobal.jq) return BkGlobal.jq;
	var a = F(D.VB, !1, ""),
		b = [];
	void 0 != a && "" != a && (b = JSON.parse(a));
	return BkGlobal.jq = b
};
BkUserClientSettings.$G = function(a) {
	var b = BkUserClientSettings.zq();
	0 <= BkUserClientSettings.lA(a, b) || (b.unshift(a.toLowerCase()), 50 < b.length && b.pop(), BkGlobal.jq = b, S(D.VB, JSON.stringify(b)))
};
BkUserClientSettings.YR = function(a) {
	var b = BkUserClientSettings.zq();
	a = BkUserClientSettings.lA(a, b);
	0 <= a && b.splice(a, 1);
	BkGlobal.jq = b;
	S(D.VB, JSON.stringify(b))
};
BkUserClientSettings.lA = function(a, b) {
	b = void 0 === b ? BkUserClientSettings.zq() : b;
	a = a.toLowerCase();
	for (var c = 0; c < b.length; c++)
		if (a === b[c]) return c;
	return -1
};
BkUserClientSettings.PN = function() {
	for (var a = BkUserClientSettings.zq(), b = 0; b < a.length; b++) logMessage(a[b])
};
BkStack = cc.Class.extend({
	ai: [],
	ctor: function() {
		this.ai = []
	},
	nR: function(a) {
		this.ai.push(a)
	},
	xL: function() {
		return 0 == this.ai.length ? null : this.ai[this.ai.length - 1]
	},
	pop: function() {
		return this.ai.pop()
	},
	yl: function() {
		return this.ai.length
	},
	m1: function(a) {
		return a >= this.ai.length ? null : this.ai[a]
	}
});
if ("undefined" == typeof Hb) var Hb = {},
	Ib = 0,
	Jb = 1;
if ("undefined" == typeof Kb) var Kb = {},
	Lb = 0,
	Mb = 1,
	Nb = 2,
	Ob = 3,
	Pb = 4,
	Qb = 0,
	Rb = 1,
	Sb = 2,
	Tb = 3,
	Ub = 100,
	Vb = 400,
	Wb = 800,
	Xb = 1200,
	Yb = 1600,
	Zb = 2E3,
	$b = 2400;
if ("undefined" == typeof ac) var ac = {},
	bc = 0,
	dc = 1,
	ec = 2,
	fc = 3,
	gc = 4,
	hc = 5,
	ic = 6,
	jc = 7;
if ("undefined" == typeof kc) var kc = {},
	lc = 0,
	mc = 1;
if ("undefined" == typeof nc) var nc = {},
	oc = "USERNAME",
	pc = "EVENT",
	qc = "ERROR_CODE";
if ("undefined" == typeof rc) var rc = {},
	bb = 0,
	sc = 1;
if ("undefined" == typeof tc) var tc = {},
	uc = "LOGIN",
	vc = "PLAY_GAME",
	wc = "FRIEND_WD",
	xc = "ADD_HEART_WD",
	yc = "HOT_TABLE",
	zc = "LINK_FB",
	Ac = "INVITE_FRIEND",
	Bc = "FINISH_TASK",
	Cc = "VIEW_ADS_BANNER",
	Ba = "PREPARE_GAME",
	Dc = "PLAYER_INFO_WD",
	Ec = "BTN_VIEW_ADS_ADD_HEART_WD",
	cb = "BTN_SETTING",
	Fc = "BTN_MESSENGER",
	Va = "BTN_SHARE_NATIVE",
	Gc = "BTN_EDIT_NAME_PROFILE",
	Hc = "BTN_HEART_INGAME",
	Ic = "BTN_HEART_MAIN_SCREEN",
	Qa = "BTN_CO_TUONG",
	Ra = "BTN_CO_UP",
	Sa = "BTN_HOT_TABLE_IMG",
	Ta = "BTN_HOT_TABLE",
	Jc = "ADMOB_BANNER_LOAD_SUCC",
	Kc = "ADMOB_VIDEO_LOAD_SUCC",
	Lc = "ADMOB_INTERSITIAL_LOAD_SUCC",
	Mc = "FB_BANNER_LOAD_SUCC",
	Nc = "FB_INTERSITIAL_LOAD_SUCC",
	Oc = "FB_VIDEO_LOAD_SUCC",
	Pc = "MP_BANNER_LOAD_SUCC",
	Qc = "MP_VIDEO_LOAD_SUCC",
	Rc = "MP_INTERSITIAL_LOAD_SUCC",
	Sc = "ADMOB_BANNER_LOAD_FAIL",
	Tc = "ADMOB_VIDEO_LOAD_FAIL",
	Uc = "ADMOB_INTERSITIAL_LOAD_FAIL",
	Vc = "FB_BANNER_LOAD_FAIL",
	Wc = "FB_INTERSITIAL_LOAD_FAIL",
	Xc = "FB_VIDEO_LOAD_FAIL",
	Yc = "MP_BANNER_LOAD_FAIL",
	Zc = "MP_VIDEO_LOAD_FAIL",
	$c = "MP_INTERSITIAL_LOAD_FAIL",
	ad = "VIEW_VIDEO_NOT_COMPLETE",
	bd = "CANCEL_INVITE_VIEW_VIDEO",
	cd = "INVITE_VIEW_VIDEO",
	ia = "LOAD_SETTING",
	dd = "IOS_MEMORY_WARNING";
if ("undefined" == typeof ed) var ed = {},
	ba = "http://config.zigavn.com/WebCo/",
	ca = "http://cf1.zigavn.com/WebCo/",
	da = "http://cf2.zigavn.com/WebCo/",
	ea = "http://cf3.zigavn.com/WebCo/",
	ga = "https://raw.githubusercontent.com/zigavn/cf/master/config.txt",
	fd = "ws://zigavn.com:18090",
	kb = "http://config.zigavn.com/config_chat.json",
	lb = "config_chat.json";
if ("undefined" == typeof gd) var gd = {},
	hd = "ca-app-pub-1664441389124237~3884808262",
	id = "ca-app-pub-1664441389124237~7417268288",
	jd = "ca-app-pub-7291071617682162/8450842802",
	kd = "ca-app-pub-7291071617682162/4452429642",
	ld = "ca-app-pub-7291071617682162/2550569899",
	md = "2071609686435518_2071614613101692",
	nd = "2071609686435518_2071614053101748",
	od = "2071609686435518_2133826463547173",
	pd = "5fda1a0be9a54997a7c4183db292ebd7",
	qd = "8e9c1324d5f34c3b9d5f90f097c1c884",
	rd = "354a031c65574df0b715c22bf72c1a7b",
	sd = "ca-app-pub-7291071617682162/7713024940",
	td = "ca-app-pub-7291071617682162/7635737008",
	ud = "ca-app-pub-7291071617682162/5340384761",
	vd = "2071609686435518_2071611443102009",
	wd = "2071609686435518_2071610043102149",
	xd = "2071609686435518_2133825410213945",
	yd = "fa96cc014faa4882bc67ef5a6ffe8702",
	zd = "c216d3560f924be18026dd351c88fc51",
	Ad = "6215ee5d54d74e1dbcd651593d37f07e",
	Bd = "ca-app-pub-7291071617682162/4452429642",
	Cd = "ca-app-pub-7291071617682162/2550569899",
	Dd = "2071609686435518_2071614053101748",
	Ed = "2071609686435518_2133826463547173",
	Fd = "8e9c1324d5f34c3b9d5f90f097c1c884",
	Gd = "354a031c65574df0b715c22bf72c1a7b",
	Hd = "ca-app-pub-7291071617682162/7635737008",
	Id = "ca-app-pub-7291071617682162/5340384761",
	Jd = "2071609686435518_2071610043102149",
	Kd = "2071609686435518_2133825410213945",
	Ld = "c216d3560f924be18026dd351c88fc51",
	Md = "6215ee5d54d74e1dbcd651593d37f07e";
if ("undefined" == typeof Nd) var Nd = {},
	Od = 4,
	Pd = 6,
	Qd = 18;
if ("undefined" == typeof Rd) var Rd = {},
	Sd = 900,
	Td = 997,
	Ud = 999,
	Vd = 1E3;
if ("undefined" == typeof Wd) var Wd = {},
	Xd = 0,
	Yd = 3,
	Zd = 4,
	$d = 5,
	ae = 6,
	be = 7,
	ce = 8,
	de = 9,
	ee = 10,
	fe = 16,
	ge = 17,
	he = 18,
	ie = 19,
	je = 20,
	ke = 21,
	le = 22,
	me = 23,
	ne = 24,
	oe = 25,
	pe = 26,
	qe = 27,
	re = 28,
	se = 28,
	te = 28,
	ue = 29,
	ve = 29,
	we = 30,
	xe = 30,
	ye = 31,
	ze = 33,
	Ae = 34,
	Be = 34,
	Ce = 34,
	De = 34,
	Ee = 35,
	Fe = 36,
	Ge = 37,
	He = 37,
	Ie = 37,
	Je = 37,
	Ke = 38,
	Le = 38,
	Me = 38,
	Ne = 39,
	Oe = 40,
	Pe = 40,
	Qe = 40,
	Re = 41,
	Se = 41,
	Ue = 42,
	Ve = 43,
	We = 44,
	Xe = 45,
	Ye = 46,
	Ze = 47,
	$e = 48,
	af = 50,
	bf = 51,
	cf = 52,
	df = 53,
	ef = 54,
	ff = 55,
	gf = 57,
	hf = 58,
	jf = 59,
	kf = 62,
	lf = 63,
	mf = 64,
	nf = 65,
	of = 66,
	pf = 67,
	qf = 68,
	rf = 69,
	sf = 70,
	tf = 71,
	uf = 72,
	vf = 74,
	wf = 75,
	xf = 75,
	yf = 77,
	zf = 78,
	Af = 80,
	Bf = 81,
	Cf = 81,
	Df = 81,
	Ef = 81,
	Ff = 82,
	Gf = 82,
	Hf = 82,
	If = 83,
	Jf = 84,
	Kf = 85,
	Lf = 86,
	Mf = 87,
	Nf = 88,
	Of = 89,
	Pf = 90,
	Qf = 91,
	Rf = 92,
	Sf = 93,
	Tf = 94,
	Uf = 95,
	Vf = 96,
	Wf = 98,
	Xf = 99,
	Yf = 100,
	Zf = 101,
	$f = 102,
	ag = 103,
	bg = 104,
	cg = 105,
	dg = 106,
	eg = 107,
	fg = 108,
	gg = 109,
	hg = 110,
	ig = 111,
	jg = 112,
	kg = 113,
	lg = 113,
	mg = 114,
	ng = 114,
	og = 115,
	pg = 115,
	qg = 116,
	rg = 117,
	sg = 118,
	tg = 118,
	ug = 118,
	vg = 119,
	wg = 119,
	xg = 120,
	yg = 120,
	zg = 120,
	Ag = 121,
	Bg = 121,
	Cg = 122,
	Dg = 122,
	Eg = 122,
	Fg = 124,
	Gg = 125,
	Hg = 126,
	Ig = 127,
	Jg = -1,
	Kg = -2,
	Lg = -3,
	Mg = -4,
	Ng = -5,
	Og = -6,
	Pg = -7,
	Qg = -11,
	Rg = -16,
	Sg = -16,
	Tg = -16,
	Ug = -17,
	Vg = -18,
	Wg = -19,
	Xg = -22,
	Yg = -23,
	Zg = -24,
	$g = -25,
	ah = -26,
	bh = -26,
	ch = -26,
	dh = -26,
	eh = -27,
	fh = -29,
	gh = -33,
	hh = -34,
	ih = -36,
	jh = -37,
	kh = -39,
	lh = -39,
	mh = -40,
	nh = -41,
	oh = -42,
	ph = -45,
	qh = -46,
	rh = -47,
	sh = -48,
	th = -49,
	uh = -50,
	vh = -51,
	wh = -52,
	xh = -52,
	yh = -53,
	zh = -53,
	Ah = -54,
	Bh = -55,
	Ch = -56,
	Dh = -57,
	Eh = -58,
	Fh = -59,
	Gh = -60,
	Hh = -64,
	Ih = -65,
	Jh = -66,
	Kh = -67,
	Lh = -70,
	Mh = -72,
	Nh = -74,
	Oh = -74,
	Ph = -75,
	Qh = -76,
	Rh = -79,
	Sh = -81,
	Th = -82,
	Uh = -88,
	Vh = -89,
	Wh = -91,
	Xh = -92,
	Yh = -93,
	Zh = -96,
	$h = -98,
	ai = -99,
	bi = 110,
	ci = -99,
	di = -100,
	ei = -100,
	fi = -100,
	gi = -101,
	hi = -101,
	ii = -103,
	ji = -104,
	ki = -105,
	li = -108,
	mi = -109,
	ni = -110,
	oi = -110,
	pi = -111,
	qi = 40,
	Na = 40,
	ri = 41,
	si = 41,
	ti = 79,
	ui = 24,
	vi = 24,
	wi = -115,
	xi = -116,
	yi = -117,
	zi = -118,
	Ai = -118,
	Bi = -119,
	Ci = -120,
	Di = -121,
	Ei = -121,
	Fi = -122,
	Gi = -122,
	jb = -123,
	Hi = -69,
	Gb = 13,
	Ii = "cw_",
	Ji = "_inst",
	Fb = "clientIdV2",
	Ki = "1",
	Li = "6",
	Mi = "8",
	Ni = "1.0.0",
	Oi = 28,
	Xa = 0.6,
	Pi = 15;
if ("undefined" == typeof Qi) var Qi = {},
	Ri, Si = "zigavn.sp@gmail.com",
	Ti = "https://m.me/cotuongcoup",
	Ui = 2,
	Vi = "https://zigavn.com/huong-dan-chung",
	Wi = "https://zigavn.com/quy-dinh",
	Xi = 5,
	Yi = "https://play.google.com/store/apps/details?id\x3dziga.cotuong.coup",
	Zi = "itms-apps://itunes.apple.com/app/id1415712748",
	$i = "https://zigavn.com/",
	mb = "con cho:con ch\u00f3:\u0111\u1ecbt:dit:me may:m\u1eb9 m\u00e0y:ngu:cut:c\u1ee9t:bo may:b\u1ed1 m\u00e0y:th\u1eb1ng:ch\u00f3:l\u1ed3n:bu\u1ed3i:mat lon";
if ("undefined" == typeof aj) var aj = {},
	bj = 2,
	cj = 1,
	dj = 6,
	ej = "\u0110\u1eb7t s\u1ed1 kh\u00f4ng h\u1ee3p l\u1ec7;V\u00e9 c\u01b0\u1ee3c c\u00f3 s\u1ed1 b\u1ecb tr\u00f9ng nhau;\u0110\u1eb7t c\u01b0\u1ee3c sai format;B\u1ea1n kh\u00f4ng \u0111\u1ee7 ti\u1ec1n;\u0110\u00e3 h\u1ebft th\u1eddi gian c\u01b0\u1ee3c. Vui l\u00f2ng quay l\u1ea1i sau!;\u0110\u1eb7t ti\u1ec1n c\u01b0\u1ee3c qu\u00e1 gi\u1edbi h\u1ea1n".split(";");
if ("undefined" == typeof fj) var fj = {},
	P = 0,
	gj = 2,
	T = 3,
	hj = 4,
	G = 99,
	ij = -2,
	jj = 101;
if ("undefined" == typeof kj) var kj = {},
	lj = 0,
	mj = 4,
	nj = 5;
if ("undefined" == typeof oj) {
	var oj = {},
		pj = cc.color(255, 255, 255);
	cc.color(207, 180, 90);
	cc.color(156, 134, 67);
	cc.color(69, 60, 30);
	var qj = cc.color(9, 94, 150);
	cc.color(9, 94, 150, 100);
	cc.color(207, 180, 90);
	var rj = cc.color(24, 111, 168);
	cc.color(128, 128, 128, 122);
	var sj = cc.color(2, 70, 150);
	cc.color(196, 154, 108);
	var tj = pj;
	cc.color(251, 176, 64);
	var uj = cc.color(18, 222, 246);
	cc.color(207, 180, 90);
	var vj = cc.color(23, 51, 111, 255),
		wj = cc.color(7, 105, 178, 255);
	cc.color(7, 130, 223, 255);
	var xj = cc.color(109, 185, 225);
	cc.color(76, 45,
		27);
	var yj = uj,
		zj = cc.color(0, 0, 0),
		Aj = cc.color(13, 70, 128);
	cc.color(204, 215, 224);
	cc.color(231, 229, 187);
	cc.color(19, 96, 137);
	cc.color(81, 167, 225, 40);
	cc.color(1, 127, 154, 255);
	cc.color(0, 0, 0, 153);
	cc.color(81, 167, 225, 80);
	cc.color(3, 2, 0, 150);
	cc.color(255, 255, 0);
	cc.color(0, 255, 132);
	cc.color(255, 162, 0);
	cc.color(252, 237, 99);
	cc.color(207, 180, 90);
	cc.color(251, 176, 64);
	cc.color(132, 86, 5);
	cc.color(41, 15, 0);
	cc.color(186, 180, 124);
	cc.color(155, 75, 22);
	cc.color(117, 117, 117);
	cc.color(252, 226, 123);
	cc.color(155, 75, 22);
	cc.color(252,
		229, 120);
	cc.color(160, 100, 40)
}
if ("undefined" == typeof Bj) {
	var Bj = {},
		Cj = cc.color(251, 234, 180),
		Dj = cc.color(18, 222, 246);
	cc.color(0, 0, 0);
	cc.color(13, 70, 128);
	var Ej = cc.color(251, 234, 180),
		v = cc.color(71, 44, 27),
		Fj = cc.color(211, 211, 211),
		R = cc.color(70, 44, 27),
		Gj = cc.color(115, 71, 24)
}
if ("undefined" == typeof Hj) var Hj = {},
	pb = 0,
	Ka = 1,
	Ia = 2,
	Ha = 3,
	ob = 4,
	qb = 5,
	La = 6,
	Ja = 14,
	H = 24,
	Ij = 17,
	K = 19,
	L = 20,
	rb = 23,
	Jj = 21;
if ("undefined" == typeof Kj) var Kj = {};
if ("undefined" == typeof Lj) var Lj = {},
	Mj = 1,
	Nj = 2,
	Oj = 4;
if ("undefined" == typeof Pj) var Pj = {},
	Qj = 2,
	Rj = 4;
CHESS_DRAW_REQUEST = 0;
CHESS_DRAW_ACCEPT = 1;
CHESS_DRAW_REFUSE = 2;
CHESS_SURRENDER = 3;
CO_UP_KHONG_LAT = 0;
CO_UP_CO_LAT = 1;
MAX_DISCONNECT_TIME = 5;
TAX_RATE = 0.05;
MIN_MONEY_START_GAME = 5;
MIN_MONEY_SALE = 3E4;
FACEBOOK_BONUS_AMOUNT = 5E3;
PLAYER_STATE_TABLE_OWNER = 0;
PLAYER_STATE_READY = 1;
PLAYER_STATE_NOT_READY = 2;
PLAYER_STATE_FINISH_GAME = 3;
WINDOW_WIDTH = 750;
WINDOW_HEIGHT = 1334;
GAME_SCALE = 1;
GAME_SCALE_WIDTH = cc.sys.isNative ? cc.winSize.width / WINDOW_WIDTH : 1;
GAME_SCALE_HEIGHT = cc.sys.isNative ? cc.winSize.height / WINDOW_HEIGHT : 1;
WINDOW_MARGIN_TOP = 10;
WINDOW_MARGIN_BOTTOM = 20;
WINDOW_MARGIN_LEFT = 15;
WINDOW_MARGIN_RIGHT = 10;
AVATAR_MARGIN_LEFT = 60;
WIN_1_GAME_WITH_A_DAY_BONUS = 0;
WIN_3_DIFFERENT_GAME_IN_DAY_BONUS = 1;
WIN_ALL_GAME_IN_DAY_BONUS = 2;
PLAY_1RST_GAME_IN_DAY_BONUS = 3;
PLAY_10TH_GAME_IN_DAY_BONUS = 4;
PLAY_100TH_GAME_IN_DAY_BONUS = 5;
PLAYER_NEW_LEVEL = 6;
MN_WIN_FIRST_MATCH_IN_DAY_BONUS = 50;
MN_WIN_3_DIFFERENT_MATCH_IN_DAY_BONUS = 100;
MN_WIN_ALL_DIFFERENT_MATCH_IN_DAY_BONUS = 300;
MN_PLAY_1RST_GAME_IN_DAY_BONUS = 30;
MN_PLAY_10TH_GAME_IN_DAY_BONUS = 100;
MN_PLAY_100TH_GAME_IN_DAY_BONUS = 1E3;
MN_NEW_LEVEL_BONUS_BASE = 10;
GAME_STATE_READY = 1;
GAME_STATE_FINISH = 100;
GAME_STATE_PLAYING = 2;
GAME_STATE_NOT_READY = 0;
GAME_STATE_WAIT_BAO_XAM = 2;
GAME_STATE_WAIT_OTHER_BAO_XAM = 3;
GAME_STATE_WAIT_XAM_DISCARD = 4;
GAME_STATE_PHOM_WAIT_TAKE_OR_PICK_CARD = 2;
GAME_STATE_PHOM_WAIT_DISCARD = 3;
GAME_STATE_DEAL_COMPLETE = 4;
GAME_STATE_WAIT_SHOW_PHOM = 5;
GAME_STATE_WAIT_OPEN_1_CARD = 2;
STATE_NOTREADY = 0;
STATE_READY = 1;
STATE_WAIT_TAKE_CARD = 3;
STATE_WAIT_PICK_CARD = 2;
STATE_WAIT_DISCARD = 4;
STATE_CHAN_WAIT_CHIU = 5;
STATE_CHAN_WAIT_TRA_CUA = 6;
STATE_WAIT_XUONG = 7;
STATE_WAIT_BOC_CAI = 9;
STATE_FINISH = 100;
PLAYER_LEAVE_GAME = 0;
OWNER_KICK = 1;
RUN_OUT_OF_CASH_KICK = 2;
TIME_OUT_KICK = 3;
UNREADY_TIMEOUT = 4;
LOW_CASH = 5;
TIME_AUTO_READY = 24;
TIME_AUTO_START_GAME = 119;
if ("undefined" == typeof Sj) var Sj = {},
	Cb = 0,
	Db = 1,
	Eb = 2;
DEAL_CARD_FINISH = "DEAL_CARD_FINISH";
CARD_SELECTION_FINISH = "CARD_SELECTION_FINISH";
if ("undefined" == typeof Tj) var Tj = {};
if ("undefined" == typeof Uj) var Uj = {},
	Vj = 0,
	Wj = 1,
	Xj = 2,
	Yj = 3,
	Zj = 4;
if ("undefined" == typeof ak) var ak = {},
	ck = 0,
	dk = 1,
	ek = 2,
	fk = 3,
	ya = 4,
	gk = 5,
	hk = 7,
	ik = 8,
	jk = 9;
if ("undefined" == typeof kk) var kk = {},
	lk = 1,
	mk = 2,
	nk = 3,
	ok = 4;
CHAT_SMILE_TEXT = "8-| |-) :^o \x3dP~ :O) :) :-h :x :)) \x3dp~ \x3d)) :D :-a :(( o-) ~X( :-S :-B \x3d; /:) :-c :)] :-t 8-\x3e I-) :-y :-u :-i :-p :-g :-f :-s :-w :-q :-r :-c :-x :-m :-n :-z".split(" ");
if ("undefined" == typeof pk) var pk = {},
	qk = 0,
	rk = 1,
	sk = 2,
	tk = 3,
	uk = 4,
	vk = 1,
	wk = 2,
	xk = 3,
	yk = 4,
	zk = 5,
	Ak = 6,
	Bk = 7,
	Ck = 8,
	Dk = 10,
	Ek = 99,
	Fk = 9999999;
if ("undefined" == typeof Gk) var Gk = {},
	Hk = 1,
	Ik = 2,
	Jk = 5,
	Kk = 6,
	Lk = 7,
	Mk = 8,
	Nk = 9,
	Ok = 10,
	N = 0,
	Za = 1,
	$a = 2,
	Pk = 0,
	M = 1,
	O = 2,
	Qk = 0,
	Rk = 1,
	Sk = 2,
	Tk = 3;
if ("undefined" == typeof Uk) var Uk = {},
	Vk = 0;
if ("undefined" == typeof Wk) var Wk = {};
if ("undefined" == typeof Xk) var Xk = {};
if ("undefined" == typeof Yk) var Yk = {},
	Zk = 1,
	$k = 2;
if ("undefined" == typeof al) var al = {},
	bl = 0;
if ("undefined" == typeof cl) var cl = {},
	dl = 1;
if ("undefined" == typeof el) var el = {};
if ("undefined" == typeof fl) var fl = {},
	hl = -1,
	il = 0,
	jl = 1;
EVENT_SWITCH_SCREEN = "switchscreen";
KEY_SCREEN_NAME = "screenName";
EVENT_BUTTON_PRESS = "buttonpress";
KEY_BUTTON_NAME = "buttonName";
EVENT_LOGIN = "login";
KEY_CPID = "cpid";
KEY_BLOCK_CHAT = "blockChat";
DAU_HANG_REASON = 2;
if ("undefined" == typeof kl) {
	var kl = [];
	kl.push({
		key: 0,
		value: ""
	});
	kl.push({
		key: 1,
		value: "Chi\u1ebfu h\u1ebft."
	});
	kl.push({
		key: 2,
		value: "\u0110\u1ed1i ph\u01b0\u01a1ng \u0111\u1ea7u h\u00e0ng."
	});
	kl.push({
		key: 3,
		value: "H\u1ebft gi\u1edd."
	});
	kl.push({
		key: 4,
		value: "Hai b\u00ean ch\u1ec9 c\u00f2n qu\u00e2n ph\u00f2ng th\u1ee7."
	});
	kl.push({
		key: 5,
		value: "60 n\u01b0\u1edbc li\u00ean ti\u1ebfp kh\u00f4ng \u0103n qu\u00e2n."
	});
	kl.push({
		key: 6,
		value: "Hai b\u00ean chi\u1ebfu li\u00ean ti\u1ebfp 8 l\u1ea7n."
	});
	kl.push({
		key: 7,
		value: "Hai b\u00ean \u0111\u1ed3ng \u00fd ho\u00e0."
	});
	kl.push({
		key: 8,
		value: "Hai b\u00ean \u0111\u1ed3ng \u00fd ho\u00e0."
	})
};
var wa = 0;
pauseEventOfTarget = function(a, b) {
	a.setTouchEnabled && a.setTouchEnabled(!b);
	b ? cc.eventManager.pauseTarget(a, !0) : cc.eventManager.resumeTarget(a, !0);
	for (var c = a._children, d = 0; d < c.length; d++) pauseEventOfTarget(c[d], b)
};
createTooltip = function(a, b, c, d) {
	b = "undefined" === typeof b ? 14 : b;
	c = "undefined" === typeof c ? 28 : c;
	d = "undefined" === typeof d ? 30 : d;
	var e = new BkSprite;
	a = new BkLabel(a, "Tahoma", b);
	e.width = a.getContentSize().width + d;
	e.height = a.getContentSize().height + 10;
	b = new cc.Scale9Sprite("tooltip_bg.png");
	b.x = e.width / 2;
	b.y = e.height / 2;
	b.width = a.getContentSize().width + d;
	b.height = c;
	e.addChild(b);
	a.setTextColor(cc.color(0, 0, 0));
	a.x = e.width / 2;
	a.y = e.height / 2;
	a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
	e.addChild(a);
	return e
};
createBkButtonPlistNewTitle = function(a, b) {
	var c = new BkButton("start_butt.png", "start_butt_press.png", "start_butt.png", "start_butt_press.png", ccui.Widget.PLIST_TEXTURE);
	c.setTitleText("");
	c.x = null != a ? a : 0;
	c.y = null != b ? b : 0;
	return c
};
createBkButtonPlist = function(a, b, c, d, e, f, g) {
	a = new BkButton(a, b, c, d, ccui.Widget.PLIST_TEXTURE);
	null != e && a.setTitleText(e);
	a.x = null != f ? f : 0;
	a.y = null != g ? g : 0;
	return a
};
createBkButton = function(a, b, c, d, e, f, g) {
	a = BkButton.create(a, b, c, d);
	null != e && a.setTitleText(e);
	a.x = null != f ? f : 0;
	a.y = null != g ? g : 0;
	return a
};

function ll(a) {
	var b = 0,
		b = a < Xb ? a - Wb : a < Yb ? a - Xb : a < Zb ? a - Yb : a < $b ? a - Zb : a - $b;
	0 >= b && (b = 0);
	b >= Vb && (b = Vb - 1);
	a = Math.floor(b / Ub);
	if (0 == a) return Qb;
	if (1 == a) return Rb;
	if (2 == a) return Sb;
	if (3 == a) return Tb
}

function ml(a) {
	return a < Xb ? Lb : a < Yb ? Mb : a < Zb ? Nb : a < $b ? Ob : Pb
}

function nl(a) {
	a = ll(a);
	var b = "";
	a == Qb ? b = "sao3den.png" : a == Rb ? b = "sao1vang.png" : a == Sb ? b = "sao2vang.png" : a == Tb && (b = "sao3vang.png");
	return b
}

function ol(a) {
	a = ml(a);
	var b = "";
	a == Lb ? b = "de_1_tapsu.png" : a == Mb ? b = "de_2_phongtrao.png" : a == Nb ? b = "de_3_kythu.png" : a == Ob ? b = "de_4_kysi.png" : a == Pb && (b = "de_5_kyvuong.png");
	return b
}
getSpriteFromImage = function(a) {
	return new BkSprite(a)
};
getSpriteFromImageAndRect = function(a, b, c, d, e) {
	return new BkSprite(a, cc.rect(b, c, d, e))
};
createEditBox = function(a, b) {
	return new BkEditBox(a, new cc.Scale9Sprite(b))
};
createTextArea = function(a, b) {
	return new BkTextArea(a, new cc.Scale9Sprite(b))
};
createFixedWidthLabel = function(a, b) {
	for (var c = 14, d = "", d = "undefined" === typeof d ? res.aG : d, c = new BkLabel("", d, "undefined" === typeof c ? 14 : c), d = "", e = 0, f = a.length; c.getContentSize().width < b && e < f;) d += a[e], c.setString(d), e++;
	e < f && c.setString(d + "...");
	return c
};

function pl(a, b) {
	return a && a.length > b ? a.substr(0, b) + "..." : a
}
formatNumberIngame = function(a) {
	return 7 > String(a).length ? formatNumber(a) : formatNumber(Math.floor(0.001 * a)) + "K"
};
formatNumber = function(a) {
	var b, c = String(Math.abs(a));
	if (3 < c.length) {
		var d = c.length % 3;
		b = "" + c.substr(0, d);
		for (var e = 0; e < c.length - d; e += 3) b = b + "." + c.substr(d + e, 3);
		0 == d && (b = b.substring(1, b.length))
	} else b = c;
	0 > a && (b = "-" + b);
	return b
};

function Ab(a, b) {
	if (null != a) return a.length <= b ? a : a.substr(0, b) + "..."
}
doHttpGetRequest = function(a, b) {
	var c = new XMLHttpRequest;
	c.onreadystatechange = function() {
		4 == c.readyState && 200 == c.status && b(c.responseText)
	};
	c.open("GET", a, !0);
	c.send(null)
};
isUserNameValidate = function(a) {
	if (4 > a.length || 30 < a.length) return !1;
	for (var b = "", c = 0; c < a.length; c++)
		if (b = a.charAt(c), !("0" <= b && "9" >= b || "A" <= b && "Z" >= b || "a" <= b && "z" >= b || "_" == b)) return !1;
	return !0
};
isEmailValidate = function(a) {
	return /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(a)
};
convertStringToMoneyFormat = function(a, b) {
	return void 0 == b || !1 == b ? 1E7 > a ? ql(Number(a)) : ql(Number(Math.floor(a / 1E3))) + "K" : ql(Number(a))
};
convertStringToMoneyFormatIngame = function(a) {
	return 1E5 > a ? formatNumber(a) : 1E5 <= a && 1E7 > a ? formatNumber(Number(Math.floor(a / 1E3))) + "K" : 1E7 <= a && 1E9 >= a ? formatNumber(Number(Math.floor(a / 1E6))) + "M" : ql(Number(Math.floor(a / 1E3))) + "K"
};
convertSecondToMinSec = function(a) {
	var b = "",
		c = Math.floor(a / 60);
	a = Math.floor(a % 60);
	b = 10 > c ? b + ("0" + c + ":") : b + (c + ":");
	return 10 > a ? b + ("0" + a) : b + a
};
getMaxPlayer = function(a) {
	switch (a) {
		case Ka:
		case Ia:
		case La:
		case Ja:
		case Ha:
			return 6;
		case K:
		case L:
			return 50
	}
	return 4
};

function ql(a) {
	return a.toFixed(Math.max(0, 0)).replace(/\d(?=(\d{3})+$)/g, "$\x26.")
}
isFBInstantGame = function() {
	return !1
};
isNotOverByMinutes = function() {
	var a = Date.now();
	return 3E5 > Date.now() - a
};
isNotOverBySeconds = function(a, b) {
	return Date.now() - a < 1E3 * b
};
isWebPlatform = function() {
	return isFBInstantGame() ? !1 : !cc.sys.isNative
};
isDebugMode = function() {
	return cc.game.config && 1 == cc.game.config.debugMode
};
isNative = function() {
	return cc.sys.isNative
};
logMessage = function(a) {
	null == cc.Yi && (cc.Yi = []);
	200 < cc.Yi.length && cc.Yi.shift();
	cc.Yi.push(a);
	cc.log(a)
};
processNextEventAfterSceneTransitionDidFinish = function() {
	logMessage("chuyen scene finish -\x3e process packet nhan khi chuyen scene");
	BkGlobal.Xq = !1;
	BkConnectionManager.ZO()
};
switchToSceneWithGameState = function(a, b, c, d) {
	null != U.cc && (logMessage("chuyen scene khi dang show popup -\x3e remove curent popup"), U.cc.removeSelf());
	BkStackWindow.OI();
	BkGlobal.Sa == hj && (BkConnectionManager.dV(), b = !0);
	BkGlobal.AB = BkGlobal.Sa == a ? !0 : !1;
	BkGlobal.Xq = !0;
	BkGlobal.Sa = a;
	logMessage("switchToSceneWithGameState " + BkGlobal.Sa);
	var e;
	switch (a) {
		case P:
			e = new hb;
			break;
		case gj:
			e = new VvLobby;
			break;
		case T:
			e = new nb;
			break;
		case G:
			if (!isWebPlatform() && !isFBInstantGame()) {
				cc.game.restart();
				return
			}
			e = new gb;
			cc.director.runScene(e);
			return;
		case ij:
			e = new BkTerminateScene;
			break;
		case jj:
			e = new vb(d)
	}
	a = null;
	a = void 0 != b && b ? new cc.TransitionProgressOutIn(0.3, e) : new cc.TransitionProgressInOut(0.3, e);
	void 0 == c || c ? cc.director.runScene(a) : cc.director.runScene(e)
};
showToastMessage = function(a, b, c, d, e) {
	var f = rl.tU;
	console.log("showToastMessage - show \x3d ", f);
	f.bind(rl);
	f(a, b, c, d, e)
};
hideToastMessage = function() {
	rl.HL()
};
var rl = {
		mc: null,
		tU: function(a, b, c, d, e) {
			rl.mc = new BkToast("Chess_toast.png");
			var f = new cc.SpriteBatchNode("Chess_toast.png");
			console.log("BkToolTipManager - showToastMessage - test_batch: ", f);
			rl.mc.Wh(a, e);
			a = 3;
			void 0 != d && null != d && (a = d);
			var g = this;
			rl.mc.Ro(function() {
				g.mc = null
			});
			rl.mc.No(a);
			void 0 == b && (b = cc.winSize.width / 2, c = cc.winSize.height / 2 + 90);
			rl.mc.show(b, c)
		},
		HL: function() {
			null != rl.mc && rl.mc.removeSelf()
		}
	},
	U = {
		cc: null,
		$r: function(a, b, c, d, e, f, g) {
			U.cc = new BkConfirmPopup("", f);
			U.cc.Qq = !0;
			U.cc.So(a);
			void 0 != c && null != c && U.cc.Hw(c);
			void 0 != d && null != d && U.cc.ED(d);
			U.cc.df(function() {
				U.cc = null;
				void 0 != e && null != e && e()
			});
			null != g && void 0 != g && (logMessage("co parent"), U.cc.Ab(g));
			U.cc.show()
		}
	};

function sl(a, b, c) {
	var d = tl;
	null != this.cc && this.cc.removeSelf();
	this.cc = new BkConfirmPopupWithDynamicButtons("", d, null, "\u0110\u0103ng nh\u1eadp l\u1ea1i", "T\u1ea1o TK m\u1edbi", !1);
	this.cc.Qq = !0;
	this.cc.So("T\u00e0i kho\u1ea3n c\u1ee7a b\u1ea1n b\u1ecb \u0111\u0103ng nh\u1eadp t\u1eeb thi\u1ebft b\u1ecb kh\u00e1c!");
	void 0 != a && null != a && this.cc.ZS(a);
	void 0 != b && null != b && this.cc.$S(b);
	var e = this;
	this.cc.df(function() {
		e.cc = null;
		void 0 != c && null != c && c()
	});
	this.cc.show();
	this.cc
}
showPopupConfirmWith = function(a, b, c, d, e, f) {
	if (!BkGlobal.Yn) {
		var g = U.$r;
		g.bind(U);
		g(a, b, c, d, e, tl, f, void 0)
	}
};
showPopupMessageWith = function(a, b, c, d, e) {
	BkGlobal.Yn || U.$r(a, b, c, null, d, Ma, e)
};
showPopupMessageWithDynamicButton = function(a, b, c) {
	sl(a, b, c)
};
getBonusByBonusCode = function(a) {
	switch (a) {
		case WIN_1_GAME_WITH_A_DAY_BONUS:
			return MN_WIN_FIRST_MATCH_IN_DAY_BONUS;
		case WIN_3_DIFFERENT_GAME_IN_DAY_BONUS:
			return MN_WIN_3_DIFFERENT_MATCH_IN_DAY_BONUS;
		case WIN_ALL_GAME_IN_DAY_BONUS:
			return MN_WIN_ALL_DIFFERENT_MATCH_IN_DAY_BONUS;
		case PLAY_10TH_GAME_IN_DAY_BONUS:
			return MN_PLAY_10TH_GAME_IN_DAY_BONUS;
		case PLAY_100TH_GAME_IN_DAY_BONUS:
			return MN_PLAY_100TH_GAME_IN_DAY_BONUS
	}
	return MN_PLAY_1RST_GAME_IN_DAY_BONUS
};
getBonusReasonByBonusCode = function(a) {
	switch (a) {
		case WIN_1_GAME_WITH_A_DAY_BONUS:
			return STR_WIN_FIRST_MATCH_IN_DAY_BONUS;
		case WIN_3_DIFFERENT_GAME_IN_DAY_BONUS:
			return STR_WIN_3_DIFFERENT_MATCH_IN_DAY_BONUS;
		case WIN_ALL_GAME_IN_DAY_BONUS:
			return STR_WIN_ALL_DIFFERENT_MATCH_IN_DAY_BONUS;
		case PLAY_1RST_GAME_IN_DAY_BONUS:
			return STR_PLAY_1RST_GAME_IN_DAY_BONUS;
		case PLAY_10TH_GAME_IN_DAY_BONUS:
			return STR_PLAY_10TH_GAME_IN_DAY_BONUS;
		case PLAY_100TH_GAME_IN_DAY_BONUS:
			return STR_PLAY_100TH_GAME_IN_DAY_BONUS;
		case PLAYER_NEW_LEVEL:
			return STR_PLAYER_NEW_LEVEL_BONUS
	}
	return ""
};
getNewLevelBonusMoney = function(a) {
	return MN_NEW_LEVEL_BONUS_BASE * (1 + Math.floor(a / 5))
};
makeFullScreen = function(a) {
	cc.screen.requestFullScreen(document.getElementById(bk.isFbApp ? ".f-body" : ".z-body"), function() {
		cc.screen.fullScreen() ? (cc.view.setDesignResolutionSize(cc.winSize.width, cc.winSize.height, cc.ResolutionPolicy.SHOW_ALL), document.body.style.overflowY = "hidden") : (cc.view.setDesignResolutionSize(cc.winSize.width, cc.winSize.height, new cc.ResolutionPolicy(new cc.Et, cc.ContentStrategy.SHOW_ALL)), document.body.style.overflowY = "auto");
		document.body.style.backgroundImage = "";
		a()
	})
};
exitFullScreen = function() {
	cc.screen.exitFullScreen()
};
makeScreenShot = function() {
	var a = new Date,
		b = a.getDate(),
		c = a.getMonth() + 1,
		d = a.getFullYear();
	10 > b && (b = "0" + b);
	10 > c && (c = "0" + c);
	a = b + "_" + c + "_" + d + "_" + (10 > a.getHours() ? "0" + a.getHours() : a.getHours()) + "_" + (10 > a.getMinutes() ? "0" + a.getMinutes() : a.getMinutes()) + "_" + (10 > a.getSeconds() ? "0" + a.getSeconds() : a.getSeconds());
	a = "vanco-" + a + ".png";
	b = cc._canvas;
	b.VN ? (b = b.VN(), window.navigator.e2(b, a)) : (b = b.toDataURL("image/png"), c = document.createElement("a"), c.href = b, c.download = a, c.dataset.downloadurl = ["image/png", c.download,
		c.href
	].join(":"), console.log("element.dataset", c.dataset), document.body.appendChild(c), cc.isFunction(c.click) && c.click())
};

function ul(a) {
	return isWebPlatform() ? a ? "btn_am_thanh_on.png" : "btn_am_thanh_off.png" : a ? "#music_on_butt.png" : "#music_off_butt.png"
}

function vl(a) {
	return isWebPlatform() ? a ? "btn_am_thanh_on.png" : "btn_am_thanh_off.png" : a ? "#sound_on_butt.png" : "#sound_off_butt.png"
}
convertSecondToMinSec = function(a) {
	var b = "",
		c = Math.floor(a / 60);
	a %= 60;
	b = 10 > c ? b + ("0" + c + ":") : b + (c + ":");
	return 10 > a ? b + ("0" + a) : b + a
};
getCurrentScene = function() {
	return cc.director.getRunningScene()
};

function Ya() {
	var a = getCurrentScene();
	if (null != a) {
		if (a instanceof hb) return a.Se;
		if (a instanceof nb) return a.ka()
	}
	return null
}

function s(a, b) {
	BkBusyIndicatorManager.JT(a, void 0 === b ? null : b)
}

function t() {
	BkBusyIndicatorManager.iw()
}
BkBusyIndicatorManager = {
	ti: null,
	Vq: !1,
	JT: function(a, b) {
		BkBusyIndicatorManager.Vq ? logMessage("isShowAnim: " + this.Vq) : (BkBusyIndicatorManager.iw(), BkBusyIndicatorManager.Vq = !0, BkBusyIndicatorManager.ti = new BkBusyIndicator, void 0 != a ? BkBusyIndicatorManager.ti.PD(a) : BkBusyIndicatorManager.ti.PD(!0), BkBusyIndicatorManager.ti.vT(b), BkBusyIndicatorManager.ti.XT())
	},
	iw: function() {
		BkBusyIndicatorManager.Vq = !1;
		null != BkBusyIndicatorManager.ti && (BkBusyIndicatorManager.ti.TR(), BkBusyIndicatorManager.ti = null)
	}
};

function eb() {
	isWebPlatform() && (logMessage("reloadWebPage"), window.location.reload())
}

function wl(a) {
	var b = "";
	switch (a) {
		case -1:
			b = "Top \u0111\u1ea1i gia";
			break;
		case -2:
			b = "Top nhi\u1ec7t t\u00ecnh";
			break;
		case K:
			b = "C\u1edd T\u01b0\u1edbng";
			break;
		case L:
			b = "C\u1edd \u00dap";
			break;
		default:
			b = "C\u1edd"
	}
	return b
}

function xl(a) {
	var b = "";
	switch (a) {
		case Mj:
			b = yl;
			break;
		case Nj:
			b = zl;
			break;
		case Oj:
			b = Al;
			break;
		default:
			b = Bl
	}
	return b
}

function Cl() {
	var a = 1;
	cc.game.config.app && cc.game.config.app.MA && a < cc.game.config.app.MA && (a = cc.game.config.app.MA);
	return a
}

function Dl(a) {
	if (a <= CHAT_SMILE_TEXT.length) return CHAT_SMILE_TEXT[a]
}

function El(a) {
	26 < a && (a = 26);
	var b = new BkChatEmoData;
	b.Mn = "expression" + a;
	switch (a) {
		case 1:
			b.Mn = "expression26";
			b.yb = z.gI;
			b.zb = z.fI;
			b.Eb = 8;
			break;
		case 2:
			b.yb = z.iI;
			b.zb = z.hI;
			b.Eb = 8;
			break;
		case 3:
			b.yb = z.kI;
			b.zb = z.jI;
			b.Eb = 9;
			break;
		case 4:
			b.yb = z.mI;
			b.zb = z.lI;
			b.Eb = 8;
			break;
		case 5:
			b.yb = z.oI;
			b.zb = z.nI;
			b.Eb = 2;
			break;
		case 6:
			b.yb = z.qI;
			b.zb = z.pI;
			b.Eb = 10;
			break;
		case 7:
			b.yb = z.sI;
			b.zb = z.rI;
			b.Eb = 9;
			break;
		case 8:
			b.yb = z.uI;
			b.zb = z.tI;
			b.Eb = 11;
			break;
		case 9:
			b.yb = z.wI;
			b.zb = z.vI;
			b.Eb = 12;
			break;
		case 10:
			b.yb = z.BH;
			b.zb = z.AH;
			b.Eb = 8;
			break;
		case 11:
			b.yb = z.DH;
			b.zb = z.CH;
			b.Eb = 6;
			break;
		case 12:
			b.yb = z.FH;
			b.zb = z.EH;
			b.Eb = 9;
			break;
		case 13:
			b.yb = z.HH;
			b.zb = z.GH;
			b.Eb = 7;
			break;
		case 14:
			b.yb = z.JH;
			b.zb = z.IH;
			b.Eb = 10;
			break;
		case 15:
			b.yb = z.LH;
			b.zb = z.KH;
			b.Eb = 7;
			break;
		case 16:
			b.yb = z.NH;
			b.zb = z.MH;
			b.Eb = 6;
			break;
		case 17:
			b.yb = z.PH;
			b.zb = z.OH;
			b.Eb = 6;
			break;
		case 18:
			b.yb = z.RH;
			b.zb = z.QH;
			b.Eb = 8;
			break;
		case 19:
			b.yb = z.TH;
			b.zb = z.SH;
			b.Eb = 12;
			break;
		case 20:
			b.yb = z.VH;
			b.zb = z.UH;
			b.Eb = 8;
			break;
		case 21:
			b.yb = z.XH;
			b.zb = z.WH;
			b.Eb = 9;
			break;
		case 22:
			b.yb = z.ZH;
			b.zb = z.YH;
			b.Eb = 9;
			break;
		case 23:
			b.yb =
				z.aI;
			b.zb = z.$H;
			b.Eb = 12;
			break;
		case 24:
			b.yb = z.cI;
			b.zb = z.bI;
			b.Eb = 10;
			break;
		case 25:
			b.yb = z.eI;
			b.zb = z.dI;
			b.Eb = 10;
			break;
		case 26:
			b.Mn = "expression1";
			b.yb = z.Ay;
			b.zb = z.zy;
			b.Eb = 2;
			break;
		default:
			b.yb = z.Ay, b.zb = z.zy, b.Eb = 2
	}
	return b
}
showOnHandCardList = function(a, b, c, d) {
	if (null != a) {
		var e = c.tc(a.ta);
		if (null != e) {
			c.S().jY();
			var f = new cc.Point(e.x, e.y),
				g = c.S().Gi(a.ta),
				e = YPOS_ONHAND_DOWN;
			if (0 != g || c.S().TA) 0 != a.Kj && void 0 != b && !0 == b && (1 == g && (null == c.Fq && (c.Fq = new BkSprite("#vertical_back.png"), c.Fq.x = f.x - 72, c.Fq.y = f.y, c.addChild(c.Fq)), null == c.Ql && (c.Ql = new BkLabel("", "Tahoma", 20), c.Ql.x = f.x - 72, c.Ql.y = f.y, c.Ql.setTextColor(cc.color(255, 255, 255)), c.addChild(c.Ql)), c.Ql.setString(a.Kj)), 2 == g && (null == c.Gq && (c.Gq = new BkSprite("#vertical_back.png"),
				c.Gq.x = f.x - 72, c.Gq.y = f.y, c.addChild(c.Gq)), null == c.Rl && (c.Rl = new BkLabel("", "Tahoma", 20), c.Rl.x = f.x - 72, c.Rl.y = f.y, c.Rl.setTextColor(cc.color(255, 255, 255)), c.addChild(c.Rl)), c.Rl.setString(a.Kj)), 3 == g && (null == c.Hq && (c.Hq = new BkSprite("#vertical_back.png"), c.Hq.x = f.x + 75, c.Hq.y = f.y, c.addChild(c.Hq)), null == c.Sl && (c.Sl = new BkLabel("", "Tahoma", 20), c.Sl.x = f.x + 75, c.Sl.y = f.y, c.Sl.setTextColor(cc.color(255, 255, 255)), c.addChild(c.Sl)), c.Sl.setString(a.Kj)));
			else
				for (a = c.S().ou(a), b = 450, void 0 != d && 0 < d && (b = d),
					b /= a.length, 72 <= b && (b = 72), f = (cc.director.getWinSize().width - b * a.length + 72) / 2, g = 0; g < a.length; g++) d = a[g], d.TD(null), d.EE(), d.TD(c), d.Jj = 0, d.Tw(!1), d.x = f + g * b, d.y = e, d.setLocalZOrder(g)
		}
	}
};

function tb() {
	var a = cc.sys.localStorage.getItem(KEY_BLOCK_CHAT + "_" + BkGlobal.P.userName),
		b = [];
	null != a && (b = a.split(","));
	return b
}

function Fl(a) {
	cc.sys.localStorage.setItem(KEY_BLOCK_CHAT + "_" + BkGlobal.P.userName, a.join(","))
}

function Gl(a) {
	for (var b = [], c = 0; c < a.length; c++) {
		var d = JSON.parse(JSON.stringify(a[c]));
		b.push(d)
	}
	return b
}

function ub(a, b) {
	for (var c = 0; c < b.length; c++)
		if (a == b[c]) return !0;
	return !1
}

function Hl() {
	return [{
		De: {
			active: "icon_CoUp_active.png",
			Xe: "icon_CoUp_hover.png",
			disable: "icon_CoUp_active.png"
		},
		order: 0,
		Ze: !0,
		Md: L
	}, {
		De: {
			active: "icon_CoTuong_active.png",
			Xe: "icon_CoTuong_hover.png",
			disable: "icon_CoTuong_active.png"
		},
		order: 1,
		Ze: !0,
		Md: K
	}, {
		De: {
			active: "icon_TLMNDL_active.png",
			Xe: "icon_TLMNDL_hover.png",
			disable: "icon_TLMNDL_active.png"
		},
		order: 2,
		Ze: !0,
		Md: rb
	}, {
		De: {
			active: "icon_TLMN_active.png",
			Xe: "icon_TLMN_hover.png",
			disable: "icon_TLMN_active.png"
		},
		order: 3,
		Ze: !0,
		Md: ob
	}, {
		De: {
			active: "icon_Sam_active.png",
			Xe: "icon_Sam_hover.png",
			disable: "icon_Sam_active.png"
		},
		order: 4,
		Ze: !0,
		Md: qb
	}, {
		De: {
			active: "icon_Phom_active.png",
			Xe: "icon_Phom_hover.png",
			disable: "icon_Phom_active.png"
		},
		order: 5,
		Ze: !0,
		Md: pb
	}, {
		De: {
			active: "icon_Poker_active.png",
			Xe: "icon_Poker_hover.png",
			disable: "icon_Poker_active.png"
		},
		order: 6,
		Ze: !0,
		Md: Ha
	}, {
		De: {
			active: "icon_MauBinh_active.png",
			Xe: "icon_MauBinh_hover.png",
			disable: "icon_MauBinh_active.png"
		},
		order: 7,
		Ze: !0,
		Md: H
	}, {
		De: {
			active: "icon_Lieng_active.png",
			Xe: "icon_Lieng_hover.png",
			disable: "icon_Lieng_active.png"
		},
		order: 8,
		Ze: !0,
		Md: La
	}, {
		De: {
			active: "icon_Chan_active.png",
			Xe: "icon_Chan_hover.png",
			disable: "icon_Chan_active.png"
		},
		order: 9,
		Ze: !0,
		Md: Ij
	}, {
		De: {
			active: "icon_Xizach_active.png",
			Xe: "icon_Xizach_hover.png",
			disable: "icon_Xizach_active.png"
		},
		order: 10,
		Ze: !0,
		Md: Ja
	}, {
		De: {
			active: "icon_3Cay_active.png",
			Xe: "icon_3Cay_hover.png",
			disable: "icon_3Cay_active.png"
		},
		order: 11,
		Ze: !0,
		Md: Ka
	}, {
		De: {
			active: "icon_xiTo_active.png",
			Xe: "icon_xiTo_hover.png",
			disable: "icon_xiTo_active.png"
		},
		order: 13,
		Ze: !0,
		Md: Ia
	}, {
		De: {
			active: y.LL,
			Xe: y.n0,
			disable: y.LL
		},
		order: 14,
		Ze: !0,
		Md: Jj
	}]
}

function Pa(a) {
	return isFBInstantGame() && !BkGlobal.eB ? (s(!1), BkGlobal.xR = a, !0) : !1
}

function Il(a) {
	var b = BkGlobal.ja;
	void 0 != a && (b = a);
	return b == K || b == L
}
getMinTableBetMoney = function() {
	switch (BkGlobal.ja) {
		case H:
			return 3;
		case rb:
		case qb:
			return 10;
		case Ha:
			return 2;
		case La:
		case Ia:
		case K:
		case L:
			return 1
	}
	return 5
};
getGameSettingById = function(a) {
	for (var b = Hl(), c = 0; c < b.length; c++)
		if (b[c].Md == a) return b[c];
	return null
};
getOtherGameList = function(a) {
	for (var b = Hl(), c = 0; c < b.length; c++) b[c].Md == a && b.splice(c, 1);
	return b
};
getOtherGameListFromSublist = function(a, b) {
	if ("" == b) return null;
	for (var c = b.split(","), d = [], e = 0; e < c.length; e++) c[e] != a && d.push(getGameSettingById(c[e]));
	return d
};
stopTabToPrevious = function(a) {
	return a.shiftKey && 9 == a.keyCode ? (a.preventDefault && a.preventDefault(), !1) : !0
};
stopTabToNext = function(a) {
	return a.shiftKey && 9 == a.keyCode ? !0 : 9 === a.keyCode ? (a.preventDefault && a.preventDefault(), !1) : !0
};
stopTab = function(a) {
	return a.shiftKey && 9 == a.keyCode || 9 === a.keyCode ? (a.preventDefault && a.preventDefault(), !1) : !0
};
getYposforToast = function() {
	switch (BkGlobal.ja) {
		case Ja:
		case Ka:
		case H:
			return 390;
		case pb:
			return 420;
		case La:
			return 350;
		case Ia:
			return 370;
		case K:
		case L:
			return 260
	}
	return 300
};
getTableMoneyWarning = function() {
	switch (BkGlobal.ja) {
		case ob:
		case rb:
		case qb:
		case H:
		case pb:
			return 0.1;
		case Ja:
		case Ka:
		case Ha:
		case La:
		case Ia:
			return 0.2
	}
	return 1
};
getBackgroundImg = function() {};
swichBackgroundImg = function(a) {
	try {
		var b = $(BODY_CLASS_CSS);
		if (cc.isFunction(b.Sm)) switch (a) {
			case P:
				b.Sm("select", 0);
				break;
			case gj:
				Il() && b.Sm("select", 1);
				break;
			case T:
				Il() ? b.Sm("select", 1) : b.Sm("select", 2);
				break;
			default:
				b.Sm("select", 0)
		}
	} catch (c) {
		logMessage(c)
	}
};

function Jl() {
	logMessage("Util.logEvent")
}
bkFontSizeUtil = function(a) {
	return Math.ceil(a - 1 + 1.8 * GAME_SCALE)
};

function Ca() {
	var a = "";
	if (isWebPlatform()) {
		a = F(D.clientId);
		if (null == a || a == wa || "" == a || 0 < a.indexOf("null")) a = Kl(), logMessage("NEW CLIENT ID: " + a), S(D.clientId, a);
		else {
			var b = a.split(";");
			1 < b.length && (logMessage("UPGRADE OLD CLIENT ID: " + a), a = b[0], S(D.clientId, a), logMessage("NEW CLIENT ID: " + a))
		}
		a = a + ";" + Gb
	} else {
		if (isFBInstantGame()) return a = F(D.clientId), null == a || a == wa || "" == a || 0 < a.indexOf("null") ? (a = Ll(), S(D.clientId, a)) : (b = a.split(";"), 1 < b.length && (logMessage("UPGRADE OLD CLIENT ID: " + a), a = b[0], S(D.clientId,
			a), logMessage("NEW CLIENT ID: " + a))), a + ";" + Gb;
		a = n.DK()
	}
	return a
}

function Kl() {
	for (var a = "", a = "", b = 0; 8 > b; b++) a += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62 * Math.random()));
	return a = Ii + a + (new Date).getTime() + "_" + cc.sys.browserType
}
var Ll;
Ll = function() {
	var a = BkFbInstant.Zg;
	void 0 == BkFbInstant.Zg && (a = Kl());
	return Ii + a + Ji
};
bkScaleSizeUtil = function(a) {
	var b = GAME_SCALE;
	return cc.size(a.width * b, a.height * b)
};
isValidUsername = function(a) {
	return /\W/.test(a) ? Ml + Nl + Ol : 6 > a.length ? Ml + Pl : cc.isUndefined(void 0) ? isDisallowedUsername(a) : ""
};
isDisallowedUsername = function(a) {
	a = a.replace("/W/i", "");
	for (var b = "admin admln ziga quantri quantrl zlga".split(" "), c = 0; c < b.length; c++)
		if (-1 != a.toLowerCase().indexOf(b[c])) return "T\u00ean \u0111\u0103ng nh\u1eadp kh\u00f4ng \u0111\u01b0\u1ee3c ch\u1ee9a c\u00e1c t\u1eeb kh\u00f3a g\u00e2y hi\u1ec3u l\u1ea7m cho ng\u01b0\u1eddi ch\u01a1i kh\u00e1c(vd: admin, ziga)";
	return ""
};

function Ql(a) {
	switch (a) {
		case 1:
			return Rl;
		case 2:
			return Sl;
		case 3:
			return Tl;
		case 4:
			return Ul;
		case 5:
			return Vl;
		case 6:
			return Wl;
		case 7:
			return Xl + ". " + Yl;
		default:
			return Zl
	}
}

function Wa(a, b) {
	if (isWebPlatform()) cc.sys.openURL(a);
	else {
		logMessage("openWebview: " + a);
		var c = new BkWebview(a, void 0 === b ? "" : b),
			d = getCurrentScene();
		d && d.addChild(c, Td)
	}
}

function aa(a, b) {
	logMessage("Util.httpRequest url: " + a);
	var c = cc.loader.getXMLHttpRequest();
	c.open("GET", a, !0);
	c.timeout = 1E4;
	c.setRequestHeader("Content-Type", "application/json;charset\x3dUTF-8");
	c.onreadystatechange = function() {
		logMessage("onreadystatechange");
		if (4 == c.readyState) {
			var a = c.responseText,
				e = {};
			e.Bu = c.statusText;
			null != b && (4 === c.readyState && 200 === c.status ? b(null, a) : b(e))
		} else logMessage("request.readyState: " + c.readyState), null != b && (e = {
			Bu: 499
		}, b(e))
	};
	c.ontimeout = function() {
		logMessage("ontimeout ");
		var a = {
			Bu: 408
		};
		null != b && b(a)
	};
	c.onerror = function() {
		var a = {
			Bu: 408
		};
		null != b && b(a)
	};
	c.send()
}

function $l() {
	if (BkGlobal.P) return BkGlobal.P.userName;
	var a = [],
		a = Ca().split(";"),
		b = "default";
	0 < a.length && (b = a[0]);
	return b
}

function am(a) {
	switch (a) {
		case 1:
		case 8:
		case 9:
			return O;
		case 2:
		case 3:
		case 7:
			return M;
		case 4:
		case 5:
		case 6:
			return Pk
	}
	return -1
}

function bm(a) {
	switch (a) {
		case 1:
		case 2:
		case 4:
			return N;
		case 3:
		case 5:
		case 9:
			return Za;
		case 6:
		case 7:
		case 8:
			return $a
	}
	return -1
}

function ja(a) {
	a = void 0 === a ? "default" : a;
	var b = {},
		c = [],
		c = Ca().split(";"),
		d = "default";
	0 < c.length && (d = c[0]);
	logMessage("baseClientID " + d);
	b[oc] = d;
	b[pc] = a;
	return JSON.stringify(b)
}

function cm(a, b) {
	var c = "Roboto-Regular";
	a ? c = b ? "Roboto-MediumItalic.ttf" : "Roboto-Medium" : b && (c = "Roboto-Italic");
	return c
}

function ib(a) {
	var b = new BkPacket;
	b.rJ(a);
	BkConnectionManager.send(b)
}

function ma() {
	var a = "UVNButLong1";
	isWebPlatform() || (a = "res/fonts/UVNButLong1.TTF");
	return a
}

function dm() {
	BkGlobal.jk ? logMessage("isLoadedChatEmo -\x3e not need reload!") : cc.loader.load(ra, function() {}, function() {
		logMessage("done load chat emo");
		BkGlobal.jk = !0
	})
}

function Q(a, b, c) {
	if (b in a) return logMessage("jsonTag: " + b + " - data: " + a[b]), a[b];
	logMessage("json have not property : " + b + " please check -\x3e return dfValue: " + c);
	return c
}

function em(a) {
	for (var b = p("listMessageChatInvalid", mb).split(":"), c = 0; c < b.length; c++) {
		var d = b[c]; - 1 !== a.indexOf(d) && (a = a.replace(d, "***"))
	}
	100 < a.length && (a = a.substr(0, 100));
	return a
}
Base64 = {
	_keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",
	fg: function(a) {
		var b = "",
			c, d, e, f, g, h, k = 0;
		for (a = Base64.HG(a); k < a.length;) c = a.charCodeAt(k++), d = a.charCodeAt(k++), e = a.charCodeAt(k++), f = c >> 2, c = (c & 3) << 4 | d >> 4, g = (d & 15) << 2 | e >> 6, h = e & 63, isNaN(d) ? g = h = 64 : isNaN(e) && (h = 64), b = b + this._keyStr.charAt(f) + this._keyStr.charAt(c) + this._keyStr.charAt(g) + this._keyStr.charAt(h);
		return b
	},
	decode: function(a) {
		var b = "",
			c, d, e, f, g, h = 0;
		for (a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); h < a.length;) c =
			this._keyStr.indexOf(a.charAt(h++)), d = this._keyStr.indexOf(a.charAt(h++)), f = this._keyStr.indexOf(a.charAt(h++)), g = this._keyStr.indexOf(a.charAt(h++)), c = c << 2 | d >> 4, d = (d & 15) << 4 | f >> 2, e = (f & 3) << 6 | g, b += String.fromCharCode(c), 64 != f && (b += String.fromCharCode(d)), 64 != g && (b += String.fromCharCode(e));
		return b = Base64.GG(b)
	},
	HG: function(a) {
		a = a.replace(/\r\n/g, "\n");
		for (var b = "", c = 0; c < a.length; c++) {
			var d = a.charCodeAt(c);
			128 > d ? b += String.fromCharCode(d) : (127 < d && 2048 > d ? b += String.fromCharCode(d >> 6 | 192) : (b += String.fromCharCode(d >>
				12 | 224), b += String.fromCharCode(d >> 6 & 63 | 128)), b += String.fromCharCode(d & 63 | 128))
		}
		return b
	},
	GG: function(a) {
		for (var b = "", c = 0, d = c1 = c2 = 0; c < a.length;) d = a.charCodeAt(c), 128 > d ? (b += String.fromCharCode(d), c++) : 191 < d && 224 > d ? (c2 = a.charCodeAt(c + 1), b += String.fromCharCode((d & 31) << 6 | c2 & 63), c += 2) : (c2 = a.charCodeAt(c + 1), c3 = a.charCodeAt(c + 2), b += String.fromCharCode((d & 15) << 12 | (c2 & 63) << 6 | c3 & 63), c += 3);
		return b
	}
};
UI = {
	Ei: function(a) {
		return 0.5 * this.Ga(a)
	},
	Da: function(a) {
		return 0.5 * this.qa(a)
	},
	qa: function(a) {
		return a ? a.getContentSize().width * a.getScaleX() : 0
	},
	Ga: function(a) {
		return a ? a.getContentSize().height * a.getScaleY() : 0
	},
	eb: function(a) {
		if (a) {
			var b = a.getAnchorPoint().x;
			return a.x - this.qa(a) * b
		}
		return 0
	},
	fb: function(a) {
		if (a) {
			var b = a.getAnchorPoint().x;
			return a.x + this.qa(a) * (1 - b)
		}
		return 0
	},
	xf: function(a) {
		if (a) {
			var b = a.getAnchorPoint().y;
			return a.y + this.Ga(a) * (1 - b)
		}
		return 0
	},
	Bh: function(a) {
		if (a) {
			var b = a.getAnchorPoint().y;
			return a.y - this.Ga(a) * b
		}
		return 0
	},
	su: function(a) {
		if (a) {
			var b = a.convertToWorldSpaceAR(),
				c = a.getAnchorPoint().y;
			return b.y + this.Ga(a) * (1 - c)
		}
		return 0
	},
	gu: function(a) {
		if (a) {
			var b = a.convertToWorldSpaceAR(),
				c = a.getAnchorPoint().y;
			return b.y - this.Ga(a) * c
		}
		return 0
	},
	I4: function(a, b, c) {
		c = void 0 === c ? 0 : c;
		a && b && (b.x = this.eb(a) - 0.5 * this.qa(b) - c, b.y = a.y)
	},
	S4: function(a, b, c) {
		c = void 0 === c ? 0 : c;
		a && b && (b.x = this.fb(a) + 0.5 * this.qa(b) + c, b.y = a.y)
	},
	k5: function(a, b, c) {
		c = void 0 === c ? 0 : c;
		a && b && (b.x = a.x, b.y = this.xf(a) + 0.5 * this.Ga(b) +
			c)
	},
	l4: function(a, b, c) {
		c = void 0 === c ? 0 : c;
		a && b && (b.x = a.x, b.y = this.Bh(a) - 0.5 * this.Ga(b) + c)
	},
	Z4: function(a, b, c) {
		a && (a.setScaleX(b / a.getContentSize().width), a.setScaleY(c / a.getContentSize().height))
	}
};
wa = 0;
if ("undefined" == typeof D) {
	var D = {},
		fm = bk.isFbApp ? "f" : "";
	D.a1 = 0 + fm;
	D.n1 = 4 + fm;
	D.clientId = 5 + fm;
	D.Z0 = 6 + fm;
	D.W6 = 7 + fm;
	D.W2 = 8 + fm;
	D.rU = 9 + fm;
	D.He = 10 + fm;
	D.ox = 11 + fm;
	D.U6 = 12 + fm;
	D.rB = 13;
	D.kZ = "DisplayHotNews";
	D.yZ = "endpoint";
	D.g3 = "popupCount";
	D.MB = "lastHotTab";
	D.LB = "lastGameChoose";
	D.y1 = "lastTabChoose";
	D.Ix = "ListLoggedInUsers";
	D.i1 = "isShowPromotionWD:";
	D.hZ = "BackgorundIngame";
	D.w1 = "lastCheckAllCheckboxState";
	D.HZ = "gameWidth";
	D.CZ = "gameHeight"
}

function F(a, b, c) {
	var d = cc.sys.localStorage;
	null == d.getItem(a) && (void 0 != c && null != c ? S(a, c) : S(a, JSON.stringify(wa)));
	a = d.getItem(a);
	return b && a ? JSON.parse(a) : a
}

function u(a, b) {
	cc.sys.localStorage.setItem(JSON.stringify(a), JSON.stringify(b))
}

function p(a, b) {
	b = void 0 === b ? null : b;
	var c = cc.sys.localStorage.getItem(JSON.stringify(a));
	return c ? JSON.parse(c) : null != b ? JSON.parse(JSON.stringify(b)) : null
}

function S(a, b) {
	cc.sys.localStorage.setItem(a, b.toString())
}

function za(a) {
	cc.sys.localStorage.removeItem(a)
}

function va(a, b) {
	var c = bk.sessionStorage.getItem(a);
	return b && c ? JSON.parse(c) : c
}

function Aa() {
	bk.sessionStorage.removeItem(D.He)
}
try {
	bk.sessionStorage = sessionStorage = window.sessionStorage, bk.sessionStorage.setItem("storage", ""), bk.sessionStorage.removeItem("storage")
} catch (gm) {
	var hm = function() {
		logMessage("Warning: sessionStorage isn't enabled. Please confirm browser cookie or privacy option")
	};
	bk.sessionStorage = {
		getItem: hm,
		setItem: hm,
		removeItem: hm,
		clear: hm
	}
}

function im(a) {
	logMessage("onNhacNenStateChange");
	jm(a);
	a ? playNhacNenSound() : stopNhacNenSound()
}

function jm(a) {
	u("nhacnenSetting", void 0 === a ? 0 : a)
}

function km() {
	return p("nhacnenSetting", 0)
}

function lm(a) {
	u("soundSetting", void 0 === a ? 1 : a)
}

function mm() {
	return p("soundSetting", 1)
}

function nm() {
	return p("vibrateSetting", 1)
}

function om(a) {
	u("isRatedApp", a)
}

function ha(a) {
	u("ServerIPAddress", a)
}
if ("undefined" == typeof pm) var pm = {},
	qm = "AND_GG_ADMOB_APP_ADS_ID",
	rm = "IOS_GG_ADMOB_APP_ADS_ID",
	sm = "AND_GG_ADMOB_BANNER_ADS_ID",
	tm = "IOS_GG_ADMOB_BANNER_ADS_ID",
	um = "AND_GG_ADMOB_REWARDED_VIDEO_ADS_ID",
	vm = "IOS_GG_ADMOB_REWARDED_VIDEO_ADS_ID",
	wm = "AND_GG_ADMOB_INTERSTITIAL_ADS_ID",
	xm = "IOS_GG_ADMOB_INTERSTITIAL_ADS_ID",
	ym = "AND_GG_ADMOB_REWARDED_VIDEO_ADS_ID_HEPCM",
	zm = "IOS_GG_ADMOB_REWARDED_VIDEO_ADS_ID_HEPCM",
	Am = "AND_GG_ADMOB_INTERSTITIAL_ADS_ID_HEPCM",
	Bm = "IOS_GG_ADMOB_INTERSTITIAL_ADS_ID_HEPCM",
	Cm = "AND_FB_BANNER_ADS_ID",
	Dm = "IOS_FB_BANNER_ADS_ID",
	Em = "AND_FB_INTERSTITIAL_ADS_ID",
	Fm = "IOS_FB_INTERSTITIAL_ADS_ID",
	Gm = "AND_FB_REWARDED_VIDEO_ADS_ID",
	Hm = "IOS_FB_REWARDED_VIDEO_ADS_ID",
	Im = "AND_FB_INTERSTITIAL_ADS_ID_HEPCM",
	Jm = "IOS_FB_INTERSTITIAL_ADS_ID_HEPCM",
	Km = "AND_FB_REWARDED_VIDEO_ADS_ID_HEPCM",
	Lm = "IOS_FB_REWARDED_VIDEO_ADS_ID_HEPCM",
	Mm = "AND_MP_BANNER_ADS_ID",
	Nm = "IOS_MP_BANNER_ADS_ID",
	Om = "AND_MP_REWARDED_VIDEO_ADS_ID",
	Pm = "IOS_MP_REWARDED_VIDEO_ADS_ID",
	Qm = "AND_MP_INTERSTITIAL_ADS_ID",
	Rm = "IOS_MP_INTERSTITIAL_ADS_ID",
	Sm =
	"AND_MP_REWARDED_VIDEO_ADS_ID_HEPCM",
	Tm = "IOS_MP_REWARDED_VIDEO_ADS_ID_HEPCM",
	Um = "AND_MP_INTERSTITIAL_ADS_ID_HEPCM",
	Vm = "IOS_MP_INTERSTITIAL_ADS_ID_HEPCM";
if ("undefined" == typeof Wm) var Wm = {},
	Xm = "URL_UPLOAD_AVATAR",
	Ym = "EMAIL_SUPPORT",
	Zm = "URL_MESSENGER_SUPPORT",
	$m = "MIN_FRIEND_FB_REWARDED",
	an = "USERINFO_TASK_DUTY_GAME",
	bn = "URL_HUONG_DAN",
	cn = "URL_POLICY",
	dn = "URL_GG_PLAY_STORE",
	en = "URL_APPLE_STORE",
	fn = "URL_DOMAIN_SETTING";

function gn(a) {
	var b = J();
	a = void 0 === a ? b : a;
	logMessage("setTimedidEnterBackground: " + a);
	u("timedidEnterBackground", a)
}

function oa(a) {
	a = void 0 === a ? 0 : a;
	logMessage("setIsRestarting: " + a);
	u("isRestartingGame", a)
};
BkQueue = cc.Class.extend({
	queue: null,
	isRunning: !1,
	rq: null,
	ctor: function() {
		this.queue = []
	},
	S3: function() {
		this.rq = null;
		this.queue = [];
		this.isRunning = !1
	},
	A6: function() {
		traceCardList(this.queue, "Queue card: ")
	},
	x1: function() {
		return null == this.queue || 0 == this.queue.length ? null : this.queue[this.queue.length - 1]
	},
	push: function(a) {
		null == this.queue && (this.queue = []);
		this.queue.push(a)
	},
	pop: function() {
		return this.rq = null == this.queue ? null : this.queue.shift()
	},
	p_: function() {
		return this.rq
	},
	isEmpty: function() {
		return null ==
			this.queue ? !0 : 0 == this.queue.length
	},
	d1: function() {
		return this.isRunning
	},
	T4: function(a) {
		this.isRunning = a
	}
});
BASE_HEIGHT_AVAR = BASE_WIDTH_AVAR = 97;
BASE_WIDTH_BAOBOI = 81;
BASE_WIDTH_VATPHAM = BASE_HEIGHT_BAOBOI = 83;
BASE_HEIGHT_VATPHAM = 84;

function zb(a, b) {
	var c = new BkSprite("#avt_frame_bg.png"),
		d = new BkSprite("#avt_frame.png");
	c.addChild(d);
	var e = new BkSpriteLoader(a, "#default_avatar.jpg"),
		f = 0.85 * c.getContentSize().height;
	e.setScale(f / e.getContentSize().height);
	e = ab(e, f);
	c.sY = e;
	c.addChild(e);
	f = new BkChessRankSprite(b);
	f.x = c.getContentSize().width / 2;
	f.y = c.getContentSize().height / 2 - f.getContentSize().height / 4;
	isWebPlatform() && (f.setScale(0.85), f.y = c.getContentSize().height / 2 - f.getContentSize().height / 2.3);
	c.addChild(f);
	c.x = c.getContentSize().width /
		2;
	c.y = c.getContentSize().height / 2;
	d.x = c.x;
	d.y = c.y;
	e.x = c.x;
	e.y = c.y;
	console.log("BkAvartarImg.getAvatarByID - avatarSp: ", c);
	return c
}

function ab(a, b) {
	var c = new BkSprite("#CircleClippingNodeImage.png");
	c.setScale(b / c.getContentSize().height);
	c = new cc.ClippingNode(c);
	c.setAlphaThreshold(0.01);
	c.addChild(a);
	return c
}

function hn(a) {
	a = new BkSpriteLoader(a, "#default_avatar.jpg");
	a.x = a.getContentSize().width / 2;
	a.y = a.getContentSize().height / 2;
	return a
};
var V = isWebPlatform() ? "\ud83e\udde1" : "\u2665\ufe0f";
V.toLowerCase();
var jn = "B\u1ea1n kh\u00f4ng \u0111\u1ee7 " + V.toLowerCase() + " \u0111\u1ec3 m\u1eddi b\u1ea1n ch\u01a1i.",
	kn = "B\u1ea1n kh\u00f4ng \u0111\u1ee7 " + V.toLowerCase() + " \u0111\u1ec3 v\u00e0o ch\u01a1i c\u00f9ng b\u1ea1n. ",
	Yl = "Xin h\u00e3y ch\u1edd \u0111\u1ec3 nh\u1eadn th\u00eam " + V.toLowerCase() + " h\u1eb1ng ng\u00e0y",
	Zl = "C\u00f3 l\u1ed7i khi m\u1eddi ch\u01a1i, xin h\u00e3y th\u1eed l\u1ea1i",
	Rl = "Ng\u01b0\u1eddi ch\u01a1i \u0111\u00e3 tho\u00e1t kh\u1ecfi game",
	Sl = "\u0110\u00e3 g\u1eedi l\u1eddi m\u1eddi ch\u01a1i, xin h\u00e3y \u0111\u1ee3i ph\u1ea3n h\u1ed3i",
	Tl = "Ng\u01b0\u1eddi ch\u01a1i \u0111\u00e3 t\u1eeb ch\u1ed1i l\u1eddi m\u1eddi",
	Ul = "\u0110ang t\u1ea1o b\u00e0n ch\u01a1i, xin h\u00e3y \u0111\u1ee3i ch\u00fat...",
	Vl = "C\u00f3 l\u1ed7i khi t\u1ea1o b\u00e0n ch\u01a1i, xin h\u00e3y th\u1eed l\u1ea1i",
	Wl = "Ng\u01b0\u1eddi ch\u01a1i \u0111ang \u1edf trong b\u00e0n ch\u01a1i kh\u00e1c",
	Xl = "Ng\u01b0\u1eddi ch\u01a1i \u0111ang h\u1ebft " + V.toLowerCase(),
	ln = "Video nh\u1eadn " + V.toLowerCase() + " mi\u1ec5n ph\u00ed cho b\u1ea1n t\u1ea1m th\u1eddi \u0111\u00e3 h\u1ebft. Xin b\u1ea1n vui l\u00f2ng quay l\u1ea1i sau \x26*\x26 ph\u00fat.",
	mn = "Video nh\u1eadn " + V.toLowerCase() + " mi\u1ec5n ph\u00ed cho b\u1ea1n h\u00f4m nay \u0111\u00e3 h\u1ebft. Xin b\u1ea1n vui l\u00f2ng quay l\u1ea1i v\u00e0o ng\u00e0y mai.",
	Ua = "C\u1ea3m \u01a1n b\u1ea1n \u0111\u00e3 tham gia C\u1edd Ziga.\n B\u1ea1n c\u00f3 mu\u1ed1n tho\u00e1t kh\u00f4ng?",
	nn = "B\u1ea1n kh\u00f4ng \u0111\u1ee7 tim \u0111\u1ec3 ch\u01a1i. B\u1ea1n c\u1ea7n ch\u1edd 10 ph\u00fat ho\u1eb7c xem qu\u1ea3ng c\u00e1o \u0111\u1ec3 nh\u1eadn " + V.toLowerCase() + " ch\u01a1i ti\u1ebfp. B\u1ea1n c\u00f3 mu\u1ed1n xem qu\u1ea3ng c\u00e1o kh\u00f4ng?",
	on = "B\u1ea1n kh\u00f4ng \u0111\u1ee7 " + V.toLowerCase() + " \u0111\u1ec3 ti\u1ebfp t\u1ee5c ch\u01a1i. H\u00e3y m\u1eddi b\u1ea1n b\u00e8 c\u00f9ng ch\u01a1i \u0111\u1ec3 nh\u1eadn " + V.toLowerCase() + " mi\u1ec5n ph\u00ed!",
	ka = "B\u1ea1n \u0111\u00e3 b\u1ecb m\u1ea5t k\u1ebft n\u1ed1i, ch\u1ecdn \u0111\u1ed3ng \u00fd \u0111\u1ec3 th\u1eed l\u1ea1i!",
	Ol = "ch\u1ec9 bao g\u1ed3m c\u00e1c k\u00fd t\u1ef1 a -\x3e z, A -\x3e Z, 0 -\x3e 9 ho\u1eb7c _ ",
	Ml = "T\u00ean t\u00e0i kho\u1ea3n kh\u00f4ng h\u1ee3p l\u1ec7.",
	Pl = "T\u00ean c\u00f3 \u0111\u1ed9 d\u00e0i t\u1eeb \u00edt nh\u1ea5t 6 \u0111\u1ebfn 20 k\u00fd t\u1ef1.",
	Nl = "T\u00ean ";
V.toLowerCase();
var yl = "B\u00e0n \u0111\u1ea7y, vui l\u00f2ng ch\u1ecdn b\u00e0n kh\u00e1c.",
	zl = "B\u1ea1n kh\u00f4ng c\u00f3 \u0111\u1ee7 " + V.toLowerCase() + " \u0111\u1ec3 ch\u01a1i trong b\u00e0n n\u00e0y." + Yl,
	Al = "M\u1eadt kh\u1ea9u kh\u00f4ng \u0111\u00fang.",
	Bl = "V\u00e0o b\u00e0n kh\u00f4ng th\u00e0nh c\u00f4ng.";
STR_WIN_FIRST_MATCH_IN_DAY_BONUS = "Th\u1eafng tr\u1eadn \u0111\u1ea7u ti\u00ean \n trong ng\u00e0y";
STR_WIN_3_DIFFERENT_MATCH_IN_DAY_BONUS = "Th\u1eafng 3 tr\u1eadn \n trong ng\u00e0y \n";
STR_WIN_ALL_DIFFERENT_MATCH_IN_DAY_BONUS = "Th\u1eafng t\u1ea5t c\u1ea3 c\u00e1c tr\u1eadn \n trong ng\u00e0y";
STR_PLAY_1RST_GAME_IN_DAY_BONUS = "Ch\u01a1i tr\u1eadn \u0111\u1ea7u ti\u00ean \n trong ng\u00e0y";
STR_PLAY_10TH_GAME_IN_DAY_BONUS = "Ch\u01a1i 10 tr\u1eadn \n trong ng\u00e0y";
STR_PLAY_100TH_GAME_IN_DAY_BONUS = "Ch\u01a1i 100 tr\u1eadn \n trong ng\u00e0y";
STR_PLAYER_NEW_LEVEL_BONUS = "L\u00ean c\u1ea5p";

function pn() {
	return " " + V.toLocaleLowerCase()
}

function qn(a, b) {
	for (var c = a, d = 0; d < b.length;) {
		var e = c.indexOf("\x26*\x26");
		if (-1 == e) break;
		var f = b[d],
			c = c.slice(0, e) + f + c.slice(e + 3);
		d++
	}
	return c
};

function rn(a) {
	return 1200 > a ? "T\u1eadp s\u1ef1" : 1600 > a ? "Phong tr\u00e0o" : 2E3 > a ? "K\u1ef3 th\u1ee7" : 2400 > a ? "K\u1ef3 s\u1ef9" : "K\u1ef3 v\u01b0\u01a1ng"
}

function sn(a) {
	var b = new BkSprite;
	Math.min(Math.floor(a / TITLED_STAR_MAX_NUM), 9);
	for (a = 0; a < TITLED_STAR_MAX_NUM; a++);
	return b
};

function J() {
	return (new Date).getTime()
}

function tn(a) {
	var b = new Date(a),
		c = b.getDate();
	a = "";
	a = 10 > c ? "0" + c : c.toString();
	var c = b.getFullYear(),
		d = "01 02 03 04 05 06 07 08 09 10 11 12".split(" ")[b.getMonth()],
		e = b.getHours(),
		b = b.getMinutes(),
		f = "",
		g = "",
		f = 10 > e ? "0" + e : e.toString(),
		g = 10 > b ? "0" + b : b.toString();
	return a + "/" + d + "/" + c + " " + f + ":" + g
}

function un(a) {
	var b = new Date(1970, 0, 1);
	b.setSeconds(a);
	b = b.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1");
	3600 > a && (b = b.substring(3));
	return b
};
var vn = {
	Xc: 0,
	QX: function() {
		logMessage("WebAdsManager - beforeShowAds()")
	},
	HX: function() {
		logMessage("WebAdsManager - afterViewedAdsRewardOnWeb()");
		var a = new BkPacket;
		a.yn(O);
		BkConnectionManager.send(a)
	},
	Ww: function() {
		var a = this;
		logMessage("WebAdsManager - showRewardAdsOnWeb()");
		BkGlobal.Rg ? logMessage("WebAdsManager - showRewardAdsOnWeb() - not show because is showing another ads.") : (BkGlobal.Rg = !0, logMessage("cc.game.config.app.isBuildAdvance: " + cc.game.config.app.isBuildAdvance), adBreak({
			type: "reward",
			name: "add-one-heart",
			beforeReward: function(a) {
				logMessage("beforeReward");
				a()
			},
			adDismissed: function() {
				console.log("adDismissed");
				showPopupMessageWith("B\u1ea1n vui l\u00f2ng xem h\u1ebft video \u0111\u1ec3 \u0111\u01b0\u1ee3c nh\u1eadn th\u01b0\u1edfng! Xin c\u1ea3m \u01a1n!", "", null, null, null)
			},
			adViewed: function() {
				console.log("adViewed");
				logMessage("WebAdsManager - afterViewedAdsRewardOnWeb()");
				var a = new BkPacket;
				a.yn(O);
				BkConnectionManager.send(a)
			},
			afterAd: function() {
				console.log("afterAd");
				a.Xc =
					0
			},
			beforeAd: function() {
				console.log("beforeAd")
			},
			adBreakDone: function(b) {
				BkGlobal.Rg = !1;
				console.log("adBreakDone - info ", b);
				"frequencyCapped" == b.breakStatus && a.Xc++;
				console.log("adBreakDone - self.recount: ", a.Xc);
				console.log("adBreakDone - info.breakStatus: ", b.breakStatus);
				"frequencyCapped" == b.breakStatus && 1 == a.Xc && (console.log("try one more"), a.Ww());
				1 < a.Xc && (a.Xc = 0);
				"timeout" != b.breakStatus && "invalid" != b.breakStatus && "noAdPreloaded" != b.breakStatus || showPopupMessageWith("Kh\u00f4ng t\u1ea3i \u0111\u01b0\u1ee3c qu\u1ea3ng c\u00e1o. Xin b\u1ea1n vui l\u00f2ng th\u1eed l\u1ea1i sau!",
					"")
			}
		}))
	},
	nE: function() {
		var a = this;
		logMessage("WebAdsManager - showInterstitialAdsOnWeb()");
		BkGlobal.Rg ? logMessage("WebAdsManager - showInterstitialAdsOnWeb() - not show because is showing another ads.") : (BkGlobal.Rg = !0, adBreak({
			type: "pause",
			name: "interstitial",
			afterAd: function() {
				console.log("afterAd");
				a.Xc = 0
			},
			beforeAd: function() {
				console.log("beforeAd")
			},
			adBreakDone: function(b) {
				BkGlobal.Rg = !1;
				console.log("adBreakDone - info ", b);
				"frequencyCapped" == b.breakStatus && a.Xc++;
				console.log("adBreakDone - self.recount: ",
					a.Xc);
				console.log("adBreakDone - info.breakStatus: ", b.breakStatus);
				"frequencyCapped" == b.breakStatus && 1 == a.Xc && (console.log("try one more"), a.nE());
				1 < a.Xc && (a.Xc = 0)
			}
		}))
	},
	tE: function() {
		var a = this;
		logMessage("WebAdsManager - showStartAdsOnWeb()");
		BkGlobal.PA ? BkGlobal.nv ? BkGlobal.Rg ? logMessage("WebAdsManager - showStartAdsOnWeb() - not show because is showing another ads.") : BkGlobal.isPlaying && isNotOverByMinutes() ? logMessage("WebAdsManager - showStartAdsOnWeb() - not show because player is playing chess.") :
			(BkGlobal.Rg = !0, adBreak({
				type: "start",
				name: "startAds",
				afterAd: function() {
					console.log("afterAd");
					a.Xc = 0;
					BkGlobal.Rg = !1;
					BkConnectionManager.NS()
				},
				beforeAd: function() {
					console.log("beforeAd")
				},
				adBreakDone: function(b) {
					BkGlobal.Rg = !1;
					console.log("adBreakDone - info ", b);
					"frequencyCapped" == b.breakStatus && a.Xc++;
					console.log("adBreakDone - self.recount: ", a.Xc);
					console.log("adBreakDone - info.breakStatus: ", b.breakStatus);
					"frequencyCapped" == b.breakStatus && 1 == a.Xc && (console.log("try one more"), a.tE());
					1 < a.Xc &&
						(a.Xc = 0)
				}
			})) : logMessage("WebAdsManager - showStartAdsOnWeb() - not show because not over") : logMessage("WebAdsManager - showStartAdsOnWeb() - not show because user not applied open app ads")
	}
};
var n = {
	jv: !1,
	kv: !1,
	nq: 0,
	kr: 0,
	Mq: !1,
	Fl: !1,
	Oq: !1,
	Gl: !1,
	Nq: !1,
	$n: !1,
	ao: !1,
	bo: !1,
	HN: function(a, b) {
		logMessage("urlImg " + a);
		cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "loadImageFromUrl", "(Ljava/lang/String;Ljava/lang/String;)I", a, b) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "loadImageFromUrl:andImgName:", a, b)
	},
	isNative: function() {
		return cc.sys.isNative
	},
	DK: function() {
		logMessage("getClientID js code");
		if (isWebPlatform()) return "dfClientID";
		if (isFBInstantGame()) return "facebookID";
		this.EK();
		this.CK();
		return cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "getClientID", "()Ljava/lang/String;") : cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX ? jsb.ia.ha("NativeInterfaceObjectiveC", "getClientID") : "dfClientID"
	},
	Nw: function() {
		isFBInstantGame() || (this.Tj(), cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showAdmobBaner", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX ||
			jsb.ia.ha("NativeInterfaceObjectiveC", "showAdmobBaner"))
	},
	nU: function() {
		logMessage("showRewardedVideo admob js ");
		isFBInstantGame() || (this.Fl && (logMessage("isCacheAdmobRewardedVideo -\x3e reset state ! cache -\x3e auto play or show mess load fail"), this.Fl = !1), this.kv = !1, cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showRewardedVideoAd", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "showRewardedVideoAd"))
	},
	ZT: function(a) {
		if (!isFBInstantGame())
			if (void 0 == a && (a = 1), cc.sys.os == cc.sys.OS_ANDROID) jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showInterstitialAd", "(I)V", a);
			else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) console.log("call to showInterstitialAd of native"), jsb.ia.ha("NativeInterfaceObjectiveC", "showInterstitialAd")
	},
	Qw: function() {
		isFBInstantGame() || (this.Tj(), cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showFbAdBaner", "()V") : cc.sys.os !=
			cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "showFBAdBanner"))
	},
	ST: function() {
		isFBInstantGame() || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showFBInterstitialAd", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "showFBInterstitialAd"))
	},
	gH: function(a) {
		cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "autoDestroyBanner", "(Ljava/lang/String;)V",
			"" + a) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "autoDestroyBanner:", a)
	},
	Tj: function() {
		isFBInstantGame() || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "destroyAds", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "destroyAds"))
	},
	WA: function(a) {
		var b = bm(a);
		a = am(a);
		logMessage("isFinishLoadCache -\x3e partnerID: " + b + " typeAds: " + a);
		if (b === N) {
			if (a === O && this.Fl) return logMessage("done load cache start game GG video"),
				this.Fl = !1, !0;
			if (a === M && this.Mq) return logMessage("done load cache start game GG intersitial"), this.Mq = !1, !0
		}
		if (b === $a) {
			if (a === O && this.Gl) return logMessage("done load cache start game MP video"), this.Gl = !1, !0;
			if (a === M && this.Oq) return logMessage("done load cache start game MP intersitial"), this.Oq = !1, !0
		}
		if (b === Za) {
			if (a === M && this.Nq) return logMessage("done load cache start game FB intersitial"), this.Nq = !1, !0;
			if (a === O && this.$n) return logMessage("done load cache start game FB video"), this.$n = !1, !0
		}
		return !1
	},
	tT: function() {
		this.Nq = this.Gl = this.Oq = this.Fl = this.Mq = !0
	},
	N1: function() {
		isFBInstantGame() || isWebPlatform() || (this.tT(), cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "loadAllAds", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "loadAllAds"))
	},
	G2: function() {
		isFBInstantGame() || (this.kv = !0, logMessage("onRewardedVideoAdFinish: -\x3e rewarded user"), this.KS(2))
	},
	sH: function(a) {
		logMessage("cacheNextRewardedVideoAd: " +
			a);
		if (0 > a) logMessage("wrong adsPartner");
		else {
			BkGlobal.on = a;
			var b = "";
			a == N ? (b = "loadRewardedVideoAd", this.Fl = !0) : a == Za ? (b = "loadFBRewardedVideoAd", this.$n = !0) : a == $a && (b = "loadMPRewardedVideoAd", this.Gl = !0);
			b = this.Pz(b);
			this.Rp(b)
		}
	},
	F2: function() {
		this.wC(O);
		this.ot(BkGlobal.hC, !0);
		t();
		isFBInstantGame() || this.kv || (logMessage("onRewardedVideoAdClose: "), n.rb(ad), BkConnectionManager.Mo(N, O, Sk), BkGlobal.Qg && 0 < BkGlobal.P.pb() ? logMessage("con tien neu xem het cung k nhan dc thuong -\x3e k hien thong bao") : showPopupMessageWith("B\u1ea1n vui l\u00f2ng xem h\u1ebft video \u0111\u1ec3 \u0111\u01b0\u1ee3c nh\u1eadn th\u01b0\u1edfng! Xin c\u1ea3m \u01a1n!",
			"", null, null, null))
	},
	KS: function(a) {
		logMessage("sendPacketFullScreenadsRewardRequest");
		t();
		if (BkGlobal.Qg) {
			var b = BkGlobal.P.pb();
			logMessage("BkGlobal.isPushFullScreenAds: " + BkGlobal.Qg + " myMoney: " + b);
			if (0 < b) return
		}
		b = new BkPacket;
		b.yn(a);
		BkConnectionManager.send(b)
	},
	Pz: function(a) {
		cc.sys.os == cc.sys.OS_ANDROID && (a += "onUIThread");
		return a
	},
	nt: function(a, b) {
		this.ao = b;
		this.Or();
		this.rH(a)
	},
	ot: function(a, b) {
		this.bo = b;
		this.Or();
		this.sH(a)
	},
	rH: function(a) {
		logMessage("cacheNextInterstitialAd: " + a);
		if (0 > a) logMessage("wrong adsPartner");
		else {
			BkGlobal.nn = a;
			var b = "";
			a == N ? (b = "loadInterstitialAd", this.Mq = !0) : a == Za ? (b = "loadFBInterstitialAd", this.Nq = !0) : a == $a && (b = "loadMPInterstitialAd", this.Oq = !0);
			b = this.Pz(b);
			this.Rp(b)
		}
	},
	w2: function() {
		logMessage("onInterstitialAdClose:");
		this.wC(M);
		this.nt(BkGlobal.gC, !0);
		t();
		BkConnectionManager.Mo(BkGlobal.KB, BkGlobal.JB, Tk)
	},
	wC: function(a) {
		logMessage("onFullScreenAdsClose: " + a + " -\x3e resume nhac nen if need");
		resumeNhacNenSound()
	},
	m2: function(a) {
		logMessage("onAdsdidLoadSuccess " + a);
		if (this.WA(a)) logMessage("finish load cache start game-\x3e return"),
			a = am(a), a == M && this.ao && (this.ao = !1), a == O && this.bo && (this.bo = !1);
		else {
			var b = "";
			switch (a) {
				case 1:
					b = Kc;
					break;
				case 2:
					b = Lc;
					break;
				case 3:
					b = Nc;
					break;
				case 4:
					b = Jc;
					break;
				case 5:
					b = Mc;
					break;
				case 6:
					b = Pc;
					break;
				case 7:
					b = Rc;
					break;
				case 8:
					b = Qc;
					break;
				case 9:
					b = Oc
			}
			n.rb(b)
		}
	},
	uy: function(a, b) {
		if (a == M) {
			if (this.ao) return logMessage("load fail hEPCM InterStitial -\x3e reload normal InterStitial"), this.nt(b, !1), !0;
			logMessage("load fail normal InterStitial -\x3e return")
		} else if (a == O) {
			if (this.bo) return logMessage("load fail hEPCM RewardedVideo -\x3e reload normal RewardedVideo"),
				this.ot(b, !1), !0;
			logMessage("load fail normal RewardedVideo -\x3e return")
		}
		return !1
	},
	l2: function(a, b) {
		logMessage("onAdsdidFailToLoad JS with type: " + a + " - errcode: " + b);
		var c = bm(a),
			d = am(a);
		if (this.WA(a)) logMessage("finish load cache start game typeAds: " + d + " - partnerID: " + c), this.uy(d, c);
		else {
			var e = this.uy(d, c);
			t();
			e || (logMessage("fail normal EPCM -\x3e reset crCachePartner!"), d == M ? BkGlobal.nn = -1 : d == O && (BkGlobal.on = -1));
			logMessage("partnerID: " + c + " typeAds: " + d);
			BkConnectionManager.Mo(c, d, Rk);
			c =
				"";
			switch (a) {
				case 1:
					c = Tc;
					break;
				case 2:
					c = Uc;
					break;
				case 3:
					c = Wc;
					break;
				case 4:
					c = Sc;
					break;
				case 5:
					c = Vc;
					break;
				case 6:
					c = Yc;
					break;
				case 7:
					c = $c;
					break;
				case 8:
					c = Zc;
					break;
				case 9:
					c = Xc
			}
			var e = {},
				f = $l();
			e[oc] = f;
			e[qc] = b;
			e = JSON.stringify(e);
			n.rb(c, e);
			d != Pk && (resumeNhacNenSound(), BkGlobal.Qg || showPopupMessageWith("Kh\u00f4ng t\u1ea3i \u0111\u01b0\u1ee3c qu\u1ea3ng c\u00e1o. Xin b\u1ea1n vui l\u00f2ng th\u1eed l\u1ea1i sau!", ""))
		}
	},
	x2: function() {
		logMessage("onLeaveApplication")
	},
	Tt: function(a) {
		isWebPlatform() ? logMessage("isWebPlatform -\x3e implement loginFB for other platform") :
			(s(), this.nq = a = void 0 === a ? lc : a, logMessage("this.fbLoginState: " + this.nq), cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "doLoginFB", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "doLoginFB"))
	},
	z2: function(a, b) {
		logMessage("onLoginFBSuccess: " + a + " token: " + b);
		t();
		BkGlobal.oq = a;
		BkGlobal.vz = b;
		if (this.nq === lc) {
			logMessage("FB_CS.STATE_FB_LINK_USER -\x3e link user");
			var c = new BkPacket;
			c.yx(a, b);
			BkConnectionManager.send(c)
		} else this.nq ===
			mc && (logMessage("FB_CS.STATE_FB_INVITE: -\x3e show invite"), this.$T())
	},
	$T: function() {
		cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showInviteGameRequestFBPopup", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "showInviteGameRequestFBPopup")
	},
	H2: function(a, b) {
		logMessage("numSended: " + a + " listSended: " + b);
		this.kr += a;
		if (this.kr < Ui) showToastMessage("B\u1ea1n c\u1ea7n m\u1eddi \u0111\u1ee7 " + Ui + " ng\u01b0\u1eddi \u0111\u1ec3 \u0111\u01b0\u1ee3c nh\u1eadn th\u01b0\u1edfng!",
			0.5 * cc.winSize.width, 0.3 * cc.winSize.height);
		else {
			this.kr = 0;
			logMessage("send so ng da gui va list ng gui len server de nhan thuong");
			for (var c = [], c = b.split(";"), d = 0; d < c.length; d++) logMessage(d + " - " + c[d]);
			logMessage("send packet nhan thuong invite friend");
			d = BkLogicManager.S();
			null != d && (n.rb(Ac), d.yw(BkGlobal.oq, c, d.vs))
		}
	},
	wu: function() {
		var a;
		if (cc.sys.os == cc.sys.OS_ANDROID) a = jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "hasGrantedUserFriend", "()I");
		else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os ==
			cc.sys.OS_OSX) a = jsb.ia.ha("NativeInterfaceObjectiveC", "hasGrantedUserFriend");
		logMessage("hasGrantedUserFriend: " + a);
		return a
	},
	SJ: function() {
		this.wu() ? logMessage("hasGrantedUserFriend: -\x3e update UI ban be") : (s(), cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "doLoginFBRequestUserFriend", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "doLoginFBRequestUserFriend"))
	},
	fS: function() {
		cc.sys.os != cc.sys.OS_ANDROID &&
			(cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "resetAcessTokenFB"))
	},
	y2: function(a, b) {
		logMessage("onLoginFBRequestUserFriendSuccess: " + a + " - " + b);
		BkGlobal.oq = a;
		BkGlobal.vz = b;
		if (BkGlobal.hk) this.wu() && (c = new BkPacket, c.OF(a), BkConnectionManager.send(c));
		else {
			var c = new BkPacket;
			c.yx(a, b);
			BkConnectionManager.send(c)
		}
	},
	testFunc: function() {
		logMessage("testFunc");
		return "testFunc"
	},
	rb: function(a, b) {
		if (cc.sys.os == cc.sys.OS_ANDROID) logMessage("off logFirebaseEvent android");
		else if (this.isNative()) {
			var c;
			void 0 === b ? (c = {}, c[oc] = $l(), c = JSON.stringify(c)) : c = b;
			b = c;
			logMessage("eventName " + a + " jsonData: " + b);
			cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "logFirebaseEvent", "(Ljava/lang/String;Ljava/lang/String;)V", a, b) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "logFirebaseEventWithName:andData:", a, b)
		}
	},
	EK: function() {
		if (!this.isNative()) return 0;
		logMessage("c.NETWORK_VERSION: " + Gb);
		cc.sys.os ==
			cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "setClientNetworkVersion", "(Ljava/lang/String;)V", "" + Gb) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "setClientNetworkVersion:", "" + Gb)
	},
	CK: function() {
		Ni = this.BL();
		cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "setClientAppVersion", "(Ljava/lang/String;)V", "" + Ni) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC",
			"setClientAppVersion:", Ni)
	},
	UK: function() {
		var a = {},
			b;
		b = kd;
		var c = um;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) b = td, c = vm;
		b = p(c, b);
		var c = ld,
			d = wm;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) c = ud, d = xm;
		var c = p(d, c),
			d = od,
			e = Gm;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) d = xd, e = Hm;
		var d = p(e, d),
			e = nd,
			f = Em;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) e = wd, f = Fm;
		var e = p(f, e),
			f = qd,
			g = Om;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) f = zd, g = Pm;
		var f = p(g, f),
			g = rd,
			h = Qm;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) g = Ad, h = Rm;
		g = p(h, g);
		if (this.bo) {
			b = Bd;
			d = ym;
			if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) b = Hd, d = zm;
			b = p(d, b);
			d = Ed;
			f = Km;
			if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) d = Kd, f = Lm;
			d = p(f, d);
			f = Fd;
			h = Sm;
			if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) f = Ld, h = Tm;
			f = p(h, f)
		}
		if (this.ao) {
			c = Cd;
			e = Am;
			if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) c = Id, e = Bm;
			c = p(e, c);
			e = Dd;
			g = Im;
			if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) e = Jd, g = Jm;
			e = p(g, e);
			g = Gd;
			h = Um;
			if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) g = Md, h = Vm;
			g = p(h, g)
		}
		var h = hd,
			k = qm;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) h = id, k = rm;
		h = p(k, h);
		a.ggAppAdsID = h;
		h = jd;
		k = sm;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) h = sd, k = tm;
		h = p(k, h);
		a.ggBannerAdsID = h;
		a.ggAdsRewardedVideoID = b;
		a.ggInterstitialAdsID = c;
		b = md;
		c = Cm;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) b = vd, c = Dm;
		b = p(c, b);
		a.fbBannerAdsID = b;
		a.fbRewardedVideoID = d;
		a.fbInterstitialAdsID = e;
		b = pd;
		c = Mm;
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) b = yd, c = Nm;
		b = p(c, b);
		a.mpBannerAdsID = b;
		a.mpRewardedVideoID = f;
		a.mpInterstitialAdsID = g;
		return JSON.stringify(a)
	},
	Or: function() {
		if (!isWebPlatform() && !isFBInstantGame()) {
			var a = this.UK();
			cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "setAdsIDWithData", "(Ljava/lang/String;)V", a) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "setAdsIDWithData:", a)
		}
	},
	d4: function() {
		var a = Si;
		cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "sendMailToSystem", "(Ljava/lang/String;)V", a) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "sendMailToSystem:", a)
	},
	DT: function() {
		this.isNative() && (cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "shareNative", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "shareNative"))
	},
	openURL: function(a) {
		cc.sys.os ==
			cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "openURL", "(Ljava/lang/String;)V", a) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "openURL:", a)
	},
	PC: function(a) {
		cc.sys.os == cc.sys.OS_ANDROID && jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "openURLMessenger", "(Ljava/lang/String;)V", a)
	},
	iZ: function() {
		logMessage("didBecomeActive JS");
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) {
			var a = J(),
				b = p("timedidEnterBackground",
					0);
			logMessage("crTime: " + a + " - timedidEnterBackground: " + b + " - detaTime: " + (a - b));
			gn(0);
			this.jv ? (logMessage("this.isReceiveMemoryWarning -\x3e restart game"), this.jv = !1, cc.spriteFrameCache.removeSpriteFrames(), oa(1), cc.game.restart()) : 0 < b && 3E5 < a - b && (logMessage("ios didBecomeActive after: 5 minute -\x3e restart game."), oa(1), cc.game.restart())
		}
	},
	jZ: function() {
		logMessage("didEnterBackground JS");
		gn()
	},
	dW: function() {
		logMessage("vibratePhone");
		this.isNative() && (nm() ? cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava",
			"vibratePhone", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "vibratePhone") : logMessage("!isVibrateOn -\x3e return"))
	},
	Sq: function() {
		return isFBInstantGame() ? !1 : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || 1 != jsb.ia.ha("NativeInterfaceObjectiveC", "isIphoneX") ? !1 : !0
	},
	BK: function() {
		if (!this.isNative()) return -1;
		var a = -1;
		cc.sys.os == cc.sys.OS_ANDROID && (a = jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "getCPID", "()I"));
		logMessage("getCPID: " +
			a);
		return a
	},
	$N: function() {
		if (!this.isNative()) return !0;
		var a;
		if (cc.sys.os == cc.sys.OS_ANDROID) a = jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "networkAvaiable", "()I");
		else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) a = jsb.ia.ha("NativeInterfaceObjectiveC", "networkAvaiable");
		logMessage("networkAvaiable: " + a);
		return a
	},
	FL: function() {
		cc.sys.os == cc.sys.OS_ANDROID && jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "dismissLoader", "()V")
	},
	jS: function(a) {
		1 == a ? n.Nw() : 2 == a ? n.Qw() :
			3 == a && n.Sw()
	},
	HK: function() {
		var a = -1;
		n.vB() ? a = N : n.tB() ? a = Za : n.wB() && (a = $a);
		return a
	},
	GK: function() {
		var a = 0;
		n.vB() ? a = 1 : n.tB() ? a = 2 : n.wB() && (a = 3);
		return a
	},
	wB: function() {
		var a;
		if (cc.sys.os == cc.sys.OS_ANDROID) a = jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "isShowMPBanner", "()I");
		else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) a = jsb.ia.ha("NativeInterfaceObjectiveC", "isShowMPBanner");
		logMessage("isShowMPBanner: " + a);
		return a
	},
	tB: function() {
		var a;
		if (cc.sys.os == cc.sys.OS_ANDROID) a =
			jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "isShowFBBanner", "()I");
		else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) a = jsb.ia.ha("NativeInterfaceObjectiveC", "isShowFBBanner");
		logMessage("isShowFBBanner: " + a);
		return a
	},
	vB: function() {
		var a;
		if (cc.sys.os == cc.sys.OS_ANDROID) a = jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "isShowGGBanner", "()I");
		else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) a = jsb.ia.ha("NativeInterfaceObjectiveC", "isShowGGBanner");
		logMessage("isShowGGBanner: " +
			a);
		return a
	},
	VJ: function(a) {
		cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "doRateApp", "(Ljava/lang/String;)V", a) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "doRateApp:", a)
	},
	n2: function(a, b, c) {
		logMessage("onAndroidPurchaseSuccess: signature: " + a + " - packageName: " + c);
		logMessage("purchaseInfo: " + b);
		t();
		var d = new BkPacket;
		d.yJ("android", a, b, c);
		BkConnectionManager.send(d)
	},
	D2: function(a) {
		logMessage("onReceiptDataFromStore: " +
			a);
		t();
		var b = new BkPacket;
		b.xJ(a);
		BkConnectionManager.send(b)
	},
	C2: function(a) {
		a = void 0 === a ? 0 : a;
		logMessage("onPurchasedFail: " + a);
		t();
		a || showPopupMessageWith("Kh\u00f4ng th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn c\u1eeda h\u00e0ng \u1ee9ng d\u1ee5ng. Xin b\u1ea1n vui l\u00f2ng th\u1eed l\u1ea1i!")
	},
	TK: function(a) {
		if (cc.sys.os == cc.sys.OS_ANDROID) switch (a) {
			case 0:
				return "ziga.cotuong.coup.1usd";
			case 1:
				return "ziga.cotuong.coup.5usd";
			case 2:
				return "ziga.cotuong.coup.10usd";
			case 3:
				return "ziga.cotuong.coup.20usd"
		} else if (cc.sys.os ==
			cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) switch (a) {
			case 0:
				return "com.zigavn.ctcu.ios1.1USD";
			case 1:
				return "com.zigavn.ctcu.ios1.5USD";
			case 2:
				return "com.zigavn.ctcu.ios1.10USD";
			case 3:
				return "com.zigavn.ctcu.ios1.20USD"
		}
	},
	iO: function(a) {
		s();
		var b = this.TK(a);
		logMessage("onBuyItem: " + a + " - " + b);
		cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "onBuyItem", "(Ljava/lang/String;)V", b) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC",
			"onBuyItem:", b)
	},
	HJ: function() {
		cc.sys.os == cc.sys.OS_ANDROID && jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "destroyBillingProcessor", "()V")
	},
	d6: function(a) {
		a = void 0 === a ? 0 : a;
		logMessage("showhideAnim: " + a);
		a ? s() : t()
	},
	fC: function() {
		var a = Ti;
		cc.sys.os == cc.sys.OS_ANDROID ? n.PC(a) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || n.openURL(a)
	},
	B2: function() {
		logMessage("onNetworkStatusChangeDisconnect");
		BkGlobal.Ll && (BkGlobal.Ll = !1, logMessage("network change state connected -\x3e disconnect"),
			BkConnectionManager.mE())
	},
	A2: function() {
		logMessage("onNetworkStatusChangeConnectted");
		BkGlobal.Ll || (BkGlobal.Ll = !0, logMessage("network change state disconnect -\x3e connected"), BkConnectionManager.mE())
	},
	BL: function() {
		var a;
		if (cc.sys.os == cc.sys.OS_ANDROID) a = jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "getVersionName", "()Ljava/lang/String;");
		else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) a = jsb.ia.ha("NativeInterfaceObjectiveC", "getVersionName");
		logMessage("getVersionName: " +
			a);
		return a
	},
	Sw: function() {
		isFBInstantGame() || (this.Tj(), cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showMPAdBanner", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "showMPAdBanner"))
	},
	eU: function() {
		isFBInstantGame() || (cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showMPInterstitialAd", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC",
			"showMPInterstitialAd"))
	},
	fU: function() {
		logMessage("showMPRewardedVideoAd JS");
		isFBInstantGame() || (this.Gl && (logMessage("isCacheMPRewardedVideo -\x3e resset state ! cache -\x3e auto play or show mess load fail when finish load"), this.Gl = !1), cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", "showMPRewardedVideoAd", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", "showMPRewardedVideoAd"))
	},
	Rp: function(a) {
		isFBInstantGame() ||
			(logMessage("callNativeVoidFunction: " + a), cc.sys.os == cc.sys.OS_ANDROID ? jsb.ia.ha("org/cocos2dx/javascript/NativeInterfaceJava", a, "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.ia.ha("NativeInterfaceObjectiveC", a))
	},
	TT: function() {
		this.$n ? (logMessage("is caching FB RV -\x3e only set autoplay after loaded"), n.Rp("setAutoPlayFBrewardedVideo"), this.$n = !1) : n.Rp("showFBRewardedVideoAd")
	},
	E2: function() {
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) logMessage("onReceiveMemoryWarning iOS"),
			this.jv = !0, n.rb(dd)
	}
};
getSound = function() {
	return cc.audioEngine
};
playJoinGameSound = function() {
	logMessage("playJoinGameSound");
	isSoundEnable() && getSound().playMusic("sound/join_game.ogg", !1)
};
playLeaveGameSound = function() {
	isSoundEnable() && getSound().playMusic("sound/leave_game.ogg", !1)
};
playDiscardSound = function() {
	isSoundEnable() && getSound().playMusic("sound/click.ogg", !1)
};
playAlertSound = function() {
	isSoundEnable()
};
playLeaveTurnSound = function() {
	isSoundEnable() && getSound().playMusic("sound/click.ogg", !1)
};
playBichatSound = function() {
	isSoundEnable() && getSound().playMusic("sound/laught.ogg", !1)
};
playLaughtSound = function() {
	isSoundEnable() && getSound().playMusic("sound/laught.ogg", !1)
};
playClickSound = function() {
	isSoundEnable() && getSound().playMusic("sound/click.ogg", !1)
};
playDealCardSound = function() {
	isSoundEnable() && getSound().playMusic("sound/deal_card.ogg", !1)
};
isSoundEnable = function() {
	return BkGlobal.jk ? mm() : !1
};
playChieuTuongSound = function() {
	logMessage("playChieuTuongSound");
	isSoundEnable() && getSound().playMusic("sound/co_gong.mp3", !1)
};
playCoAnQuanSound = function() {
	logMessage("playCoAnQuanSound");
	isSoundEnable() && getSound().playMusic("sound/co_an_quan.mp3", !1)
};
playCoDiChuyenSound = function() {
	logMessage("playCoDiChuyenSound");
	isSoundEnable() && getSound().playMusic("sound/co_di_chuyen.mp3", !1)
};
playCoThangSound = function() {
	logMessage("playCoThangSound");
	isSoundEnable() && getSound().playMusic("sound/co_thang.mp3", !1)
};
playCoThuaSound = function() {
	logMessage("playCoThuaSound");
	isSoundEnable() && getSound().playMusic("sound/co_thua.mp3", !1)
};
isNhacNenEnable = function() {
	return isWebPlatform() || isFBInstantGame() ? !1 : km()
};
playNhacNenSound = function() {
	isNhacNenEnable() && BkBackgroundMusic.UC()
};
stopNhacNenSound = function() {
	isWebPlatform() || BkBackgroundMusic.DE()
};
pauseNhacNenSound = function() {
	isWebPlatform() || BkBackgroundMusic.pP()
};
resumeNhacNenSound = function() {
	isNhacNenEnable() && BkBackgroundMusic.nS()
};
BkBackgroundMusic = {
	mh: null,
	UC: function() {
		logMessage("playBGSound");
		this.qv() && (jsb.gi.stop(this.mh), this.mh = jsb.gi.Ks);
		this.mh = jsb.gi.c3("sound/Tri-Am-Various-Artists.mp3", !0, 1);
		this.mh !== jsb.gi.Ks && logMessage("play OK")
	},
	DE: function() {
		logMessage("stopBGSound");
		jsb.gi.l6();
		this.mh = jsb.gi.Ks
	},
	pP: function() {
		logMessage("pauseBGSound");
		this.qv() ? jsb.gi.pause(this.mh) : this.DE()
	},
	nS: function() {
		logMessage("resumeBGSound");
		this.qv() ? jsb.gi.resume(this.mh) : this.UC()
	},
	qv: function() {
		return this.mh !== jsb.gi.Ks &&
			null !== this.mh ? !0 : !1
	}
};

function E() {}
E.init = function() {
	isWebPlatform() && (plugin.extend("facebook", {
		name: "",
		version: "",
		_userInfo: null,
		Ag: !1,
		eG: {
			GET: "get",
			POST: "post",
			DELETE: "delete"
		},
		oF: 0,
		gW: {},
		hW: {},
		iW: {
			VALUE_YES: "1",
			VALUE_NO: "0"
		},
		CG: function() {
			var a = this;
			FB.getLoginStatus(function(b) {
				b && "connected" === b.status ? (a.Ag = !0, a._userInfo = b.authResponse) : (a.Ag = !1, a._userInfo = {})
			})
		},
		ctor: function(a) {
			this.name = "facebook";
			this.version = "1.0";
			this._userInfo = {};
			this.Ag = !1;
			FB && (FB.init(a), this.CG(), plugin.FacebookAgent = this)
		},
		getInstance: function() {
			return this
		},
		login: function(a,
			b) {
			var c = this;
			"function" == typeof a && (b = a, a = []);
			a.every(function(a) {
				if ("public_profile" != a) return !0
			}) && a.push("public_profile");
			var d = a.join(",");
			FB.login(function(a) {
				if (a.authResponse) {
					c.Ag = !0;
					c._userInfo = a.authResponse;
					console.log("FB.login - response: ", a);
					var d = [];
					a.authResponse.grantedScopes && (d = a.authResponse.grantedScopes.split(","));
					"function" === typeof b && b(0, {
						Bj: a.authResponse.accessToken,
						RC: d
					})
				} else c.Ag = !1, c._userInfo = {}, "function" === typeof b && b(a.error_code || 1, {
					se: a.error_message || "Unknown error"
				})
			}, {
				scope: d,
				pS: !0
			})
		},
		Tq: function() {
			return this.Ag
		},
		logout: function(a) {
			var b = this;
			FB.logout(function(c) {
				c.authResponse ? (b.Ag = !1, b._userInfo = {}, "function" === typeof a && a(0, {
					isLoggedIn: !1
				})) : "function" === typeof a && a(c.error_code || 1, {
					se: c.error_message || "Unknown error"
				})
			})
		},
		tX: function(a, b) {
			var c = a.join(","),
				d = this;
			FB.login(function(a) {
				if (a.authResponse) {
					var c = a.authResponse.grantedScopes.split(",");
					d.Ag = !0;
					d._userInfo = a.authResponse;
					"function" === typeof b && b(0, {
						RC: c
					})
				} else d.Ag = !1, d._userInfo = {}, "function" ===
					typeof b && b(a.error_code || 1, {
						se: a.error_message || "Unknown error"
					})
			}, {
				scope: c,
				pS: !0
			})
		},
		getAccessToken: function() {
			return this._userInfo ? this._userInfo.accessToken : null
		},
		getUserID: function() {
			return this._userInfo ? this._userInfo.userID : null
		},
		uX: function(a, b) {
			FB.ui({
				method: "share",
				name: a.title,
				caption: a.caption,
				description: a.text,
				href: a.link,
				b3: a.imageUrl
			}, function(a) {
				a ? a.post_id ? "function" === typeof b && b(0, {
						KJ: !0,
						vP: a.post_id
					}) : "function" === typeof b && b(a.error_code || 1, {
						se: a.error_message || "Unknown error"
					}) :
					"function" === typeof b && b(1, {
						se: "Unknown error"
					})
			})
		},
		bz: function(a, b) {
			if (a)
				if (this.ut(a)) {
					a.name = a.name || a.site;
					delete a.site;
					a.href = a.href || a.link || a.siteUrl;
					delete a.siteUrl;
					delete a.link;
					a.picture = a.picture || a.image || a.photo || a.imageUrl || a.imagePath;
					delete a.imageUrl;
					delete a.imagePath;
					delete a.photo;
					delete a.image;
					a.caption = a.title || a.caption;
					delete a.title;
					a.description = a.text || a.description;
					delete a.text;
					var c = a.dialog;
					delete a.dialog;
					if ("shareLink" === c || "feedDialog" == c) a.method = "share";
					else if ("messageLink" ==
						c) a.method = "send", a.link = a.href;
					else if ("shareOpenGraph" == c && (a.method = "share_open_graph", a.url)) {
						c = {};
						a.preview_property_name ? c[a.preview_property_name] = a.url : c.object = a.url;
						for (var d in a) "method" != d && "action_type" != d && "action_properties" != d && (a[d] && (c[d] = a[d]), delete a[d]);
						a.action_properties = JSON.stringify(c)
					}
					FB.ui(a, function(a) {
						a && "function" === typeof b ? a.post_id || a.success ? b(0, {
								KJ: !0,
								vP: a.post_id || ""
							}) : a.error_code ? b(a.error_code, {
								se: a.error_message || "Unknown error"
							}) : b(0, a) : void 0 == a && "function" ===
							typeof b && b(1, {
								se: "Unknown error"
							})
					})
				} else "function" === typeof b && b(1, {
					se: "The requested dialog: " + a.dialog + " can not be presented on Web"
				});
			else "function" === typeof b && b(1, {
				se: "No info parameter provided"
			})
		},
		ut: function(a) {
			return a && a.dialog && ("shareLink" === a.dialog || "feedDialog" === a.dialog || "shareOpenGraph" === a.dialog || "messageLink" === a.dialog) ? !0 : !1
		},
		api: function(a, b, c, d) {
			"function" === typeof c && (d = c, c = {});
			FB.api(a, b, c, function(a) {
				a.error ? "function" === typeof d && d(a.error.code, {
					se: a.error.message ||
						"Unknown error"
				}) : "function" === typeof d && d(0, a)
			})
		},
		pX: function(a) {
			FB.api("/me/permissions", function(b) {
				if (b.data) {
					for (var c = [], d = 0; d < b.data.length; d++) "granted" == b.data[d].status && c.push(b.data[d].permission);
					"function" == typeof a && a(0, {
						RC: c
					})
				} else b.error || (b.error = {}), "function" == typeof a && a(b.error.code || 1, {
					se: b.error.message || "Unknown error"
				})
			})
		},
		gZ: function() {},
		canvas: {
			a3: function(a, b) {
				a.method = "pay";
				a.action = "purchaseitem";
				FB.ui(a, function(a) {
					a.error_code ? b(a.error_code || 1, {
						se: a.error_message ||
							a.error_msg || "Unknown error"
					}) : b(0, a)
				})
			}
		},
		dH: function(a, b) {
			a ? (a.method = "apprequests", FB.ui(a, function(a) {
				a ? a.error_code ? "function" === typeof b && b(a.error_code, {
					se: a.error_message || "Unknown error"
				}) : "function" === typeof b && b(0, a) : "function" === typeof b && b(1, {
					se: "Unknown error"
				})
			})) : "function" === typeof b && b(1, {
				se: "No info parameter provided"
			})
		},
		Q1: function() {},
		vX: function() {},
		S1: function() {}
	}), E.sb = E.sb || (window.plugin ? window.plugin.FacebookAgent.getInstance() : null), E.te = "", E.Xj = "", E.sb && E.sb.Tq() && (E.te =
		E.sb.getUserID(), E.Xj = E.sb.getAccessToken()))
};
E.Cr = function(a) {
	bk.Uk = "";
	a && zpostRequest("https://zigavn.com/app/ip.php", "", function(a) {
		a && (bk.Uk = a)
	});
	E.cH(function(a, c) {
		cc.username = a;
		cc.password = c;
		E.zJ()
	})
};
E.cH = function(a) {
	logMessage("Call FbService.appLogin");
	E.sb.Tq() ? (E.te = E.sb.getUserID(), E.Xj = E.sb.getAccessToken(), logMessage("FbService.App.isLoggedIn " + E.te), cc.isFunction(a) && a(E.te, E.Xj)) : E.sb.login(["public_profile", "user_friends"], function(b, c) {
		0 == b && a ? (E.te = E.sb.getUserID(), E.Xj = E.sb.getAccessToken(), cc.isFunction(a) && a(E.te, E.Xj, c)) : (switchToSceneWithGameState(G), showPopupMessageEx("\u0110\u1ec3 ch\u01a1i game b\u1eb1ng t\u00e0i kho\u1ea3n Facebook b\u1ea1n c\u1ea7n c\u1ea5p quy\u1ec1n truy c\u1eadp \u1ee9ng d\u1ee5ng. Xin h\u00e3y \u0111\u0103ng nh\u1eadp l\u1ea1i!"))
	})
};
E.ky = function(a) {
	var b = "",
		b = {
			message: "C\u1edd t\u01b0\u1edbng c\u1edd \u00fap online mi\u1ec5n ph\u00ed - Ziga",
			title: "M\u1eddi b\u1ea1n b\u00e8 c\u00f9ng ch\u01a1i, v\u1edbi m\u1ed7i l\u01b0\u1ee3t c\u00e0i \u0111\u1eb7t b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c th\u01b0\u1edfng",
			filters: ["app_non_users"]
		};
	E.sb.dH(b, function(b, d) {
		if (null != a) {
			var e = E.MQ(d);
			a(e)
		}
		logMessage("appRequest: " + JSON.stringify(d))
	})
};
E.ly = function() {
	function a() {
		var a = BkLogicManager.S();
		a && a.QP(E.te)
	}
	var b = BkLogicManager.S();
	b && b.Iz();
	try {
		E.sb.Tq() ? (E.te = E.sb.getUserID(), E.Xj = E.sb.getAccessToken(), a()) : E.sb.login(["public_profile"], function(b) {
			0 == b && callback ? (E.te = E.sb.getUserID(), E.Xj = E.sb.getAccessToken(), a()) : showPopupMessageEx("\u0110\u1ec3 m\u1eddi b\u1ea1n ch\u01a1i game, xin h\u00e3y c\u1ea5p quy\u1ec1n truy c\u1eadp Facebook. Xin h\u00e3y th\u1eed l\u1ea1i!")
		})
	} catch (c) {
		showPopupMessageWith("Kh\u00f4ng th\u1ec3 m\u1eddi b\u1ea1n facebook, h\u00e3y \u0111\u1ea3m b\u1ea3o tr\u00ecnh duy\u1ec7t web c\u1ee7a b\u1ea1n kh\u00f4ng ch\u1eb7n m\u1edf popup.",
			"M\u1eddi b\u1ea1n facebook l\u1ed7i!")
	}
};
E.m4 = function(a) {
	this.xy = a
};
E.h3 = function() {
	try {
		E.fH()
	} catch (a) {
		showPopupMessageWith("Kh\u00f4ng th\u1ec3 m\u1eddi b\u1ea1n facebook, h\u00e3y \u0111\u1ea3m b\u1ea3o tr\u00ecnh duy\u1ec7t web c\u1ee7a b\u1ea1n kh\u00f4ng ch\u1eb7n m\u1edf popup.", "M\u1eddi b\u1ea1n facebook l\u1ed7i!")
	}
};
E.LY = function() {
	return {
		message: "C\u1edd t\u01b0\u1edbng c\u1edd \u00fap online mi\u1ec5n ph\u00ed - Ziga",
		title: "M\u1eddi b\u1ea1n b\u00e8 c\u00f9ng ch\u01a1i, v\u1edbi m\u1ed7i l\u01b0\u1ee3t c\u00e0i \u0111\u1eb7t b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c th\u01b0\u1edfng",
		filters: ["app_non_users"]
	}
};
E.MQ = function(a) {
	if (a && a.to) {
		a = a.to;
		for (var b = [], c = 0; c < a.length; ++c) {
			var d = a[c];
			cc.isString(d) && b.push(d)
		}
		return b
	}
	return []
};
E.zJ = function() {
	BkConnectionManager.Db = ik;
	BkConnectionManager.Ar()
};
E.jz = function(a, b) {
	var c = Ca();
	null == BkGlobal.P && (BkGlobal.P = new BkUserData);
	BkGlobal.isLoginFacebook = !0;
	var d = bk.cpid,
		e = new BkPacket;
	isFBInstantGame() ? e.KF(a, b, d, c, bk.Uk, BkFbInstant.od(), BkFbInstant.I_()) : e.Gs(a, b, d, c, bk.Uk);
	BkConnectionManager.send(e)
};
E.lz = function(a, b) {
	var c = cc.nh;
	null == BkGlobal.P && (BkGlobal.P = new BkUserData);
	BkGlobal.isLoginFacebook = !0;
	var d = bk.cpid,
		e = new BkPacket;
	e.Gs(Ek, a, b, d, c, bk.Uk);
	BkConnectionManager.send(e)
};
E.lZ = function(a, b, c) {
	null == BkGlobal.P && (BkGlobal.P = new BkUserData);
	var d = bk.cpid,
		e = new BkPacket;
	e.Gs(rk, a, b, d, c, bk.Uk);
	BkConnectionManager.send(e)
};
E.t3 = function(a) {
	a = a.O.readByte();
	logMessage("processLoginFbResult: " + a)
};
E.bE = function(a) {
	if (void 0 != a) {
		var b = "https://zigavn.com";
		cc.isUndefined(cc.game.config.app) || cc.isUndefined(cc.game.config.app.Zv) || (b = cc.game.config.app.Zv);
		BkGlobal.ZY = a;
		a = {
			dialog: "shareLink",
			title: "Ch\u01a1i c\u1edd t\u01b0\u1edbng c\u1edd \u00fap mi\u1ec5n ph\u00ed",
			image: a,
			link: b,
			hashtag: "#ziga",
			description: void 0
		};
		void 0 != E.sb && (cc.isFunction(E.sb.ut) && E.sb.ut(a) ? E.sb.bz(a, function() {}) : (a.dialog = "feedDialog", E.sb.bz(a, function(a) {
			logMessage(a)
		})))
	}
};
E.u5 = function(a) {
	void 0 == a || "" == a ? (a = "https://zigavn.com", cc.isUndefined(cc.game.config.app) || cc.isUndefined(cc.game.config.app.Zv) || (a = cc.game.config.app.Zv), E.bE(a)) : E.bE("https://www.facebook.com/games/" + a)
};
E.fH = function() {
	var a = ["user_friends"];
	E.sb.Tq() || a.push("public_profile");
	E.sb.login(a, function(a) {
		0 == a ? (E.te = E.sb.getUserID(), E.Kz()) : showPopupMessageEx("\u0110\u1ec3 m\u1eddi b\u1ea1n facebook b\u1ea1n c\u1ea7n c\u1ea5p quy\u1ec1n truy c\u1eadp facebook, xin h\u00e3y th\u1eed l\u1ea1i.")
	}, "rerequest")
};
E.Kz = function() {
	var a = this;
	if (void 0 != E.sb) {
		var b = "",
			b = void 0 != a.next && "" != a.next ? a.next : "/me/invitable_friends?fields\x3dname,picture.width(80).height(80)\x26limit\x3d50";
		s();
		E.sb.api(b, E.sb.__proto__.eG.QW, {}, function(b, d) {
			if (b == E.sb.__proto__.oF)
				if (a.Su = [], 0 == d.data.length) showToastMessage("B\u1ea1n kh\u00f4ng c\u00f3 b\u1ea1n n\u00e0o ph\u00f9 h\u1ee3p \u0111\u1ec3 m\u1eddi"), t();
				else {
					void 0 != d.QC.next && "" != d.QC.next ? (a.next = d.QC.next, a.st = !0) : a.st = !1;
					var e = BkUserClientSettings.XK();
					if (0 < e.length)
						for (var e =
								JSON.parse(e), f = 0; f < e.length; f++)
							for (var g = e[f], h = d.data.length - 1; 0 <= h; h--) d.data[h].name == g && d.data.splice(h, 1);
					a.Su = d.data;
					0 == a.Su.length && (a.st ? E.Kz() : (showToastMessage("B\u1ea1n kh\u00f4ng c\u00f3 b\u1ea1n n\u00e0o ph\u00f9 h\u1ee3p \u0111\u1ec3 m\u1eddi"), t()))
				}
		})
	}
};
E.xC = function() {
	null != this.xy && this.xy.xC()
};
E.T3 = function() {
	this.next = "";
	this.Su = [];
	this.st = !1;
	this._userInfo = {};
	this.Ag = !1
};
BkBuffer = cc.Class.extend({
	mf: null,
	position: null,
	ze: null,
	length: 0,
	ctor: function() {
		this.mf = [];
		this.ze = this.position = 0
	},
	xs: function(a) {
		return void 0 == a || null == a ? (logMessage("error validNumberParams: Number data send to server invalid! please check!"), 0) : a
	},
	bW: function(a) {
		if (void 0 == a || null == a) throw logMessage("error validStringParams: String data send to server invalid! please check!"), "error validStringParams";
		return a
	},
	aa: function(a) {
		a = this.xs(a);
		this.mf[this.position] = a;
		this.position += 1;
		this.length++
	},
	hF: function(a) {
		a = this.xs(a);
		a = ShortToByteArray(a);
		for (var b = a.length - 1; 0 <= b; b--) this.aa(a[b])
	},
	dd: function(a) {
		a = this.xs(a);
		a = IntToByteArray(a);
		for (var b = a.length - 1; 0 <= b; b--) this.aa(a[b])
	},
	fW: function(a) {
		a = this.xs(a);
		a = longToByteArray(a);
		for (var b = a.length - 1; 0 <= b; b--) this.aa(a[b])
	},
	ca: function(a) {
		a = this.bW(a);
		a = StringToByteArray(a);
		this.hF(a.length);
		for (var b = 0; b < a.length; b++) this.aa(a[b]);
		return a.length + 2
	},
	readByte: function() {
		var a = this.mf[this.ze];
		this.ze += 1;
		return a
	},
	readShort: function() {
		var a =
			this.Cq(2);
		this.ze += 2;
		return shortFromBytes(a)
	},
	readInt: function() {
		var a = this.Cq(4);
		this.ze += 4;
		return intFromBytes(a)
	},
	Ek: function() {
		var a = this.Cq(8);
		this.ze += 8;
		return longFromBytes(a)
	},
	da: function() {
		var a = this.readShort(),
			b = this.Cq(a);
		this.ze += a;
		return intArrayToString(b)
	},
	ih: function() {
		return this.da()
	},
	toString: function() {
		for (var a = "[" + this.mf.length + "] |", b = 0; b < this.mf.length; b++) a += this.mf[b] + "|";
		return a
	},
	Cq: function(a) {
		for (var b = [], c = 0; c < a; c++) b.push(this.mf[c + this.ze]);
		return b
	},
	t_: function() {
		return this.mf.length
	},
	La: function() {
		return this.ze < this.mf.length ? !0 : !1
	}
});
longToByteArray = function(a) {
	for (var b = [0, 0, 0, 0, 0, 0, 0, 0], c = 0; c < b.length; c++) {
		var d = a & 255;
		b[c] = d;
		a = (a - d) / 256
	}
	return b
};
byteArrayToLong = function(a) {
	for (var b = 0, c = 0; c < a.length; c++) {
		var d = a[c],
			e;
		0 != c ? d = (new Uint8Array([d]))[0] : (e = (d & 128) >> 7, d &= 127);
		logMessage("iByte " + d + " bit1 " + e);
		b = 256 * b + d;
		1 == e && (b = -b)
	}
	return b
};
ShortToByteArray = function(a) {
	for (var b = [0, 0], c = 0; c < b.length; c++) {
		var d = a & 255;
		b[c] = d;
		a = (a - d) / 256
	}
	return b
};
IntToByteArray = function(a) {
	for (var b = [0, 0, 0, 0], c = 0; c < b.length; c++) {
		var d = a & 255;
		b[c] = d;
		a = (a - d) / 256
	}
	return b
};
StringToByteArray = function(a) {
	return toUTF8Array(a)
};
toUTF8Array = function(a) {
	for (var b = [], c = 0; c < a.length; c++) {
		var d = a.charCodeAt(c);
		128 > d ? b.push(d) : 2048 > d ? b.push(192 | d >> 6, 128 | d & 63) : 55296 > d || 57344 <= d ? b.push(224 | d >> 12, 128 | d >> 6 & 63, 128 | d & 63) : (c++, d = 65536 + ((d & 1023) << 10 | a.charCodeAt(c) & 1023), b.push(240 | d >> 18, 128 | d >> 12 & 63, 128 | d >> 6 & 63, 128 | d & 63))
	}
	return b
};
byteArrayToString = function(a) {
	var b, c, d, e, f, g;
	b = "";
	d = a.length;
	for (c = 0; c < d;) switch (e = a[c++], e >> 4) {
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
			b += String.fromCharCode(e);
			break;
		case 12:
		case 13:
			f = a[c++];
			b += String.fromCharCode((e & 31) << 6 | f & 63);
			break;
		case 14:
			f = a[c++], g = a[c++], b += String.fromCharCode((e & 15) << 12 | (f & 63) << 6 | (g & 63) << 0)
	}
	return b
};
intArrayToString = function(a) {
	for (var b = new Uint8Array(a.length), c = 0; c < a.length; c++) {
		var d = (new Uint8Array([a[c]]))[0];
		b[c] = d
	}
	return decodeURIComponent(escape(String.fromCharCode.apply(null, b)))
};
longFromBytes = function(a) {
	var b = (new Int32Array([0]))[0],
		b = (a[0] & 255) << 24 | (a[1] & 255) << 16 | (a[2] & 255) << 8 | a[3] & 255,
		b = (new Uint32Array([b]))[0],
		c = (new Int32Array([0]))[0],
		c = (a[4] & 255) << 24 | (a[5] & 255) << 16 | (a[6] & 255) << 8 | a[7] & 255,
		c = (new Uint32Array([c]))[0];
	a = Number(0);
	return a = Number(4294967296 * b) + Number(c)
};
intFromBytes = function(a) {
	var b = (new Int32Array([0]))[0];
	return b = (a[0] & 255) << 24 | (a[1] & 255) << 16 | (a[2] & 255) << 8 | a[3] & 255
};
shortFromBytes = function(a) {
	var b = (new Int16Array([0]))[0];
	return b = (a[0] & 255) << 8 | a[1] & 255
};
BkPacket = cc.Class.extend({
	xg: null,
	O: null,
	Length: null,
	Type: null,
	Bd: null,
	oB: !1,
	ctor: function() {
		this.xg = new BkBuffer;
		this.O = new BkBuffer
	},
	WF: function(a) {
		this.Type = ah;
		this.O.ca(a);
		this.Z()
	},
	iJ: function(a) {
		this.Type = ni;
		this.Length = 5 + this.O.ca(a);
		this.Z()
	},
	HF: function(a, b, c, d) {
		this.Type = Af;
		var e = this.O.ca(b);
		logMessage("AUTO LOGIN REGISTER CLIENT ID: " + b);
		this.O.dd(a);
		a = this.O.ca(c);
		d ? (console.log("CreatePacketAutoRegLogin - isCreateNewAccount: " + d), this.O.aa(1)) : (console.log("CreatePacketAutoRegLogin - isCreateNewAccount: " +
			d), this.O.aa(0));
		this.Length = 5 + e + 4 + a + 1;
		this.Z()
	},
	LF: function(a, b) {
		this.Type = Sg;
		this.O.ca(a);
		this.O.ca(b);
		this.Z()
	},
	yV: function() {
		this.Length = 5 + this.O.length
	},
	nJ: function(a, b) {
		void 0 === b && (b = -1);
		this.Type = kh;
		this.O.aa(a);
		this.O.aa(b);
		this.Length = 7;
		this.Z()
	},
	FK: function() {
		var a = new Int8Array(7 + this.O.position),
			b;
		for (b = 0; 7 > b; b++) a[b] = this.xg.mf[b];
		for (b = 0; b < this.O.position; b++) a[b + 7] = this.O.mf[b];
		for (b = 0; b < a.length; b++);
		return a
	},
	oP: function(a) {
		for (var b = 0, b = 0; b < a.length; b++);
		for (b = 0; 7 > b; b++) this.xg.mf[b] =
			a[b];
		for (b = 0; b < a.length - 7; b++) this.O.aa(a[b + 7]);
		this.Length = this.xg.readShort();
		this.Type = this.xg.readByte();
		this.Bd = this.xg.readInt()
	},
	toString: function() {
		return "Header: " + (this.xg.toString() + " [Type :" + this.Type + "] [Length : " + this.Length + "] [Index: " + this.Bd + "]") + "\nContent: " + this.O.toString()
	},
	Z: function() {
		this.yV();
		this.xg.hF(this.Length);
		this.xg.aa(this.Type);
		null == this.Bd && (this.Bd = 0);
		this.xg.dd(this.Bd)
	},
	Wy: function(a, b, c) {
		logMessage("c.NETWORK_LOG_IN " + Yd);
		BkGlobal.Zp = c;
		this.Type = Yd;
		a = this.O.ca(a);
		b = this.O.ca(b);
		c = this.O.ca(c);
		this.Length = 7 + a + b + c - 2;
		this.Bd = 0;
		this.Z()
	},
	MF: function(a, b, c, d, e) {
		this.Type = Lf;
		a = this.O.ca(a);
		b = this.O.ca(b);
		var f = this.O.ca(d);
		logMessage("REGISTER CLIENT ID: " + d);
		this.O.dd(c);
		c = this.O.ca(e);
		this.Length = 5 + a + b + f + 4 + c;
		this.Z()
	},
	JF: function(a, b) {
		this.Type = $f;
		var c = this.O.ca(a),
			d = this.O.ca(b);
		this.Length = 5 + c + d;
		this.Z()
	},
	Ty: function(a) {
		this.Type = Di;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	tJ: function(a, b, c) {
		this.Type = qf;
		this.O.aa(b);
		this.O.aa(c);
		this.O.aa(a);
		this.Length = 8;
		this.Bd =
			0;
		this.Z()
	},
	IF: function() {
		this.Type = ji;
		this.Length = 5;
		this.Z()
	},
	Gs: function(a, b, c, d, e) {
		this.Type = bi;
		a = this.O.ca(a);
		b = this.O.ca(b);
		d = this.O.ca(d);
		this.O.dd(c);
		c = this.O.ca(e);
		this.Length = 7 + a + b + d + 4 + c - 2;
		this.Z()
	},
	KF: function(a, b, c, d, e, f, g) {
		this.Type = bi;
		a = this.O.ca(a);
		b = this.O.ca(b);
		d = this.O.ca(d);
		this.O.dd(c);
		c = this.O.ca(e);
		f = this.O.ca(f);
		g = this.O.ca(g);
		this.Length = 7 + a + b + d + 4 + c + f + g - 2;
		this.Z()
	},
	yx: function(a, b) {
		this.Type = Hf;
		this.O.aa(rk);
		var c = this.O.ca(a),
			d = this.O.ca(b);
		this.Length = 6 + c + d;
		this.Z()
	},
	NF: function(a,
		b) {
		this.Type = Hf;
		this.O.aa(tk);
		var c = this.O.ca(a),
			d = this.O.ca(b);
		this.Length = 6 + c + d;
		this.Z()
	},
	OF: function(a) {
		this.Type = Hf;
		this.O.aa(uk);
		this.Length = 6 + this.O.ca(a);
		this.Z()
	},
	zx: function(a) {
		this.Type = Hf;
		this.O.aa(sk);
		this.Length = 6 + this.O.ca(a);
		this.Z()
	},
	zW: function() {
		this.Type = Hf;
		this.O.aa(qk);
		this.Length = 6;
		this.Z()
	},
	DF: function(a) {
		this.Type = rf;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	tF: function(a, b) {
		this.Type = be;
		var c = 1;
		this.O.aa(a);
		void 0 != b && "" != b && (c += this.O.ca(b));
		this.Length = 7 + c - 2;
		this.Z()
	},
	EF: function(a) {
		this.Type =
			ce;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	tW: function(a) {
		this.Type = Bf;
		this.Length = 9;
		this.O.dd(a);
		this.Z()
	},
	GW: function(a) {
		this.Type = Ag;
		this.Length = 9;
		this.O.dd(a);
		this.Z()
	},
	vW: function() {
		this.Type = re;
		this.Length = 5;
		this.Z()
	},
	wW: function(a) {
		this.Type = re;
		var b;
		for (b = 0; b < a.length; b++) this.O.aa(a[b].fg());
		this.Length = 5 + a.length;
		this.Z()
	},
	GF: function(a, b, c, d) {
		this.Type = se;
		this.O.aa(a);
		this.O.aa(b);
		this.O.aa(c);
		this.O.aa(d);
		this.Length = 9;
		this.Z()
	},
	vF: function(a) {
		this.Type = Df;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	XF: function(a) {
		this.Type = li;
		this.O.aa(a ? 1 : 0);
		this.Length = 6;
		this.Z()
	},
	wF: function() {
		this.Type = Ih;
		this.Length = 5;
		this.Z()
	},
	UF: function(a, b) {
		this.Type = Pe;
		this.O.dd(a);
		this.O.aa(b);
		this.Length = 10;
		this.Z()
	},
	BF: function() {
		this.Type = jf;
		this.Length = 5;
		this.Z()
	},
	RW: function(a) {
		a.Ee = this.O.readInt();
		a.tP = this.Js()
	},
	Js: function() {
		for (var a = []; this.O.La();) {
			var b = new BkPlayerInfoData;
			b.name = this.O.ih();
			b.position = this.O.readByte();
			b.status = this.O.readByte();
			b.jg = this.O.readInt();
			b.it = this.O.da();
			b.Tg = this.O.readInt();
			b.iB = 1 == this.O.readByte();
			if (BkGlobal.ja == K || BkGlobal.ja == L) b.Ka = 1 == this.O.readByte(), b.ae = 1 == this.O.readByte();
			a.push(b);
			logMessage("User Name:" + b.name + " Pos: " + b.position + " Status: " + b.status + " Money: " + b.jg + " avatarId: " + b.it + " level:" + b.Tg + " isBlockChat:" + b.ae)
		}
		return a
	},
	JW: function(a, b, c, d, e, f) {
		this.Type = Uf;
		var g = 0;
		a = this.O.ca(a);
		g += a;
		this.O.aa(b);
		g += 1;
		b = this.O.ca(c);
		g += b;
		this.O.fW(d);
		g += 8;
		d = this.O.ca(e);
		g += d;
		f = this.O.ca(f);
		this.Length = 5 + (g + f);
		this.Z()
	},
	xx: function() {
		this.Type = Nh;
		this.Z()
	},
	yF: function() {
		this.Type =
			Of;
		this.Length = 5;
		this.Z()
	},
	Hs: function(a) {
		this.Type = kg;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	Hs: function(a) {
		this.Type = kg;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	RF: function() {
		this.Type = wf;
		this.Length = 5;
		this.Z()
	},
	Vy: function(a, b) {
		this.Type = mg;
		this.O.aa(a);
		this.O.aa(b);
		this.Length = 7;
		this.Z()
	},
	lJ: function(a) {
		console.log("createLoadGameHistoryDetailPacket - sessionData: ", JSON.stringify(a));
		this.Type = og;
		console.log("this.Buffer.length: ", this.O.length);
		a = this.O.ca(a.$o);
		console.log(a + " - " + this.O.length);
		this.Length = 5 + this.O.length;
		this.Z()
	},
	Zy: function(a, b) {
		console.log("sendRemoveViewedTableSessionRequest - sessionData: ", JSON.stringify(a));
		this.Type = zg;
		this.O.aa(b);
		this.Length = 6 + this.O.ca(a.$o);
		this.Z()
	},
	Uy: function() {
		this.Type = wg;
		this.Length = 5;
		this.Z()
	},
	$I: function() {
		this.Type = sg;
		this.Length = 5;
		this.Z()
	},
	Xy: function(a, b) {
		this.vj(a, b)
	},
	vj: function(a, b) {
		this.Type = a;
		this.O.aa(b);
		this.Length = 6;
		this.Z()
	},
	rJ: function(a) {
		this.zc(a)
	},
	zc: function(a) {
		this.Type = a;
		this.Length = 5;
		this.Z()
	},
	TF: function(a, b, c) {
		this.Type =
			eg;
		a = this.O.ca(a);
		b = this.O.ca(b);
		c = this.O.ca(c);
		this.Length = 5 + a + b + c;
		this.Z()
	},
	pJ: function() {
		this.Type = Ie;
		this.Length = 5;
		this.Z()
	},
	qJ: function() {
		this.Type = Ke;
		this.Length = 5;
		this.Z()
	},
	AF: function(a) {
		this.Type = hg;
		this.Length = 5 + this.O.ca(a);
		this.Z()
	},
	xF: function(a) {
		this.Type = jg;
		this.Length = 5 + this.O.ca(a);
		this.Z()
	},
	SF: function(a) {
		this.Type = Ng;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	zF: function(a) {
		this.Type = Yh;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	uF: function(a) {
		this.Type = Ig;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	mG: function(a) {
		for (; this.O.La();) {
			var b = this.O.readByte(),
				c = this.O.readInt(),
				d = this.O.readInt();
			a.fG = b;
			a.ZF = c;
			a.iG = d
		}
	},
	lG: function(a) {
		a.HB = this.O.readInt()
	},
	jG: function(a) {
		a.reason = this.O.readByte()
	},
	mp: function(a, b, c) {
		this.Type = b;
		a = this.O.ca(a);
		void 0 != c ? (this.O.aa(c), this.Length = 7 + a - 1) : this.Length = 7 + a - 2;
		this.Z()
	},
	CF: function(a) {
		this.Type = of ;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	QF: function(a) {
		this.Type = Wf;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	wG: function(a) {
		for (; this.O.La();) {
			var b = 1 == this.O.readByte(),
				c = 1 == this.O.readByte(),
				d = this.O.readInt(),
				e = this.O.ih(),
				f = this.O.ih(),
				g = this.O.readByte();
			if (BkGlobal.P.userName.toLowerCase() != e.toLowerCase()) {
				var h = new BkUserData;
				h.Sr(b);
				h.om(c);
				h.Xh(d);
				h.yd(e);
				h.cf(f);
				h.Qr(g);
				a.push(h)
			}
		}
	},
	Ax: function(a) {
		this.Type = Zf;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	sW: function(a) {
		this.Type = Qf;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	HW: function(a) {
		this.Type = Rf;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	Bx: function(a) {
		this.Type = Yg;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	cG: function(a) {
		for (var b =
				0, c = 0; this.O.La();) b = this.O.readByte(), c = this.O.readByte(), a.YA = b, a.ya = c
	},
	Dx: function(a, b) {
		for (var c = 1; this.O.La();) {
			var d = this.O.da(),
				e = this.O.Ek(),
				e = tn(e),
				f = new BkMailInfo;
			if (1 == a) {
				var g = this.O.da();
				f.sT(g)
			} else 2 == a && (g = this.O.da(), f.rT(g));
			g = this.O.da();
			1 == a && (c = this.O.readByte());
			f.K4(d);
			f.setDate(e);
			f.wT(g);
			f.L4(c);
			b.push(f)
		}
	},
	dG: function(a) {
		for (var b = 0, c = b = "", d = "", e = "", f = ""; this.O.La();) b = this.O.Ek(), b = tn(b), c = this.O.da(), d = this.O.da(), e = this.O.da(), f = this.O.da();
		a.setDate(b);
		a.sT(c);
		a.rT(d);
		a.wT(e);
		a.u4(f)
	},
	wx: function(a) {
		this.Type = Nf;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	aX: function() {
		for (; this.O.La();) return this.O.da()
	},
	yW: function(a, b) {
		this.Type = ch;
		this.O.aa(a);
		this.Length = 6 + this.O.ca(b);
		this.Z()
	},
	qG: function() {
		var a = [],
			b = this.O.readByte();
		if (-1 == b) return showToastMessage("B\u1ea1n \u0111\u00e3 g\u1eedi t\u1ed1i \u0111a s\u1ed1 l\u1eddi m\u1eddi trong ng\u00e0y"), t(), null;
		for (var c = 0; c < b; c++) a[c] = this.O.readByte();
		return a
	},
	bG: function(a) {
		this.Type = wh;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	R_: function() {
		this.Type = mi;
		this.O.aa(16);
		this.O.aa(bl);
		this.Length = 7;
		this.Z()
	},
	FW: function(a, b, c) {
		this.Type = Ah;
		a = this.O.ca(a);
		b = this.O.ca(b);
		this.O.aa(c);
		this.Length = 7 + a + b + 1 - 2;
		this.Z()
	},
	eJ: function(a, b, c) {
		this.Type = ii;
		this.O.aa((c - 7) / 3);
		a = this.O.ca(a);
		c = 0;
		if (cc.isArray(b))
			for (var d = 0; d < b.length; d++) c += this.O.ca(b[d]);
		this.Length = 6 + a + c;
		this.Z()
	},
	ZI: function(a, b) {
		this.Type = qf;
		this.O.aa(a);
		this.O.aa(b);
		this.Length = 7;
		this.Z()
	},
	oJ: function(a) {
		this.Type = rf;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	VF: function(a, b, c) {
		this.Type = Ze;
		this.O.dd(a);
		this.O.aa(b);
		this.Length = "" != c && void 0 != c ? 12 + this.O.ca(c) - 2 : 10;
		this.Z()
	},
	FF: function(a, b, c, d, e) {
		this.Type = hf;
		a = this.O.ca(a);
		b = this.O.ca(b);
		this.O.aa(c);
		this.O.aa(d);
		this.O.aa(e);
		this.Length = 7 + b + a + 3 - 2;
		this.Z()
	},
	PF: function(a, b) {
		this.Type = he;
		var c = this.O.ca(a);
		this.Length = 7 + this.O.ca(b) + c - 2;
		this.Z()
	},
	aq: function(a) {
		a = em(a);
		this.Type = me;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	PY: function(a) {
		this.Type = Ae;
		for (var b = 0; b < a.length; b++) {
			var c = a[b];
			this.O.aa(c.fg());
			this.O.aa(c.Wv)
		}
		this.Length = 7 + 2 * a.length - 2;
		this.Z()
	},
	QY: function(a) {
		this.Type = Oe;
		for (var b = 0, c = 0; c < a.length; c++) {
			var d = a[c];
			0 != d.Wv && (b++, this.O.aa(d.fg()), this.O.aa(d.Wv))
		}
		this.Length = 7 + 2 * b - 2;
		this.Z()
	},
	MY: function(a, b, c) {
		this.Type = Ge;
		this.O.aa(a.fg());
		this.O.aa(b);
		this.O.aa(c);
		this.Length = 8;
		this.Z()
	},
	VY: function(a) {
		this.Type = Be;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	O3: function(a) {
		this.Type = Bg;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	TY: function(a) {
		this.Type = ug;
		this.Length = 7 + this.O.ca(a) - 2;
		this.Z()
	},
	KY: function() {
		this.Type = ti;
		this.O.aa(cj);
		this.Length = 8;
		this.Z()
	},
	bJ: function(a, b, c) {
		this.Type = ti;
		this.O.aa(bj);
		this.O.aa(a);
		this.O.dd(b);
		this.O.dd(c.length);
		for (b = a = 0; b < c.length; b++) a += this.O.ca(c[b]);
		this.Length = 17 + a - 2;
		this.Z()
	},
	KZ: function(a) {
		this.Type = ui;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	r_: function(a) {
		this.Type = ui;
		this.O.aa(a);
		this.Length = 6;
		this.Z()
	},
	NY: function(a, b, c) {
		var d = c.length;
		this.Type = ui;
		this.O.aa(a);
		this.O.dd(b);
		this.O.aa(d);
		for (a = 0; a < d; a++) b = c[a], this.O.dd(b.data.Z1), this.O.dd(b.data.id);
		this.Length = 13 + 8 * d - 2;
		this.Z()
	},
	JY: function(a, b) {
		this.Type = ui;
		this.O.aa(a);
		this.O.dd(b);
		this.Length = 10;
		this.Z()
	},
	IY: function(a, b) {
		this.Type = ui;
		this.O.aa(a);
		this.O.dd(b);
		this.Length = 10;
		this.Z()
	},
	uW: function() {
		this.zc(we)
	},
	xW: function() {
		this.zc(rg)
	},
	EW: function(a) {
		this.Type = Eg;
		this.Length = 8 + a.length - 2;
		this.O.aa(a.length);
		for (var b = 0; b < a.length; b++) this.O.aa(a[b]);
		Index = 0;
		this.Z()
	},
	IW: function(a, b, c) {
		this.Type = ai;
		var d = 0,
			e = 0;
		a && (d = 1);
		b && (e = 1);
		this.O.aa(d);
		this.O.aa(e);
		for (a = 0; a < c.length; a++) this.O.aa(c[a]);
		this.Length = 11;
		this.Bd = 0;
		this.Z()
	},
	UY: function() {
		this.Type = wi;
		this.O.aa(Qd);
		this.Length = 6;
		this.Bd = 0;
		this.Z()
	},
	Y6: function(a) {
		this.Type = wi;
		this.O.aa(Od);
		this.O.dd(a);
		this.Length = 10;
		this.Bd = 0;
		this.Z()
	},
	Z6: function(a, b) {
		this.Type = wi;
		this.O.aa(Pd);
		var c = this.O.ca(a);
		this.O.dd(b);
		this.Length = 10 + c;
		this.Bd = 0;
		this.Z()
	},
	yn: function(a) {
		this.Type = Bi;
		this.O.aa(Mk);
		this.O.aa(a);
		this.Length = 7;
		this.Bd = 0;
		this.Z()
	},
	zn: function(a) {
		this.Type = Bi;
		this.O.aa(Nk);
		this.O.aa(a);
		this.Length = 7;
		this.Z()
	},
	hJ: function(a, b) {
		this.Type =
			If;
		this.O.aa(a);
		this.Length = 6 + this.O.ca(b);
		this.Z()
	},
	gJ: function(a, b, c) {
		this.Type = Jf;
		this.O.aa(a);
		this.O.aa(b);
		this.Length = 7 + this.O.ca(c);
		this.Z()
	},
	aJ: function(a, b, c) {
		this.Type = Bi;
		this.O.aa(Jk);
		this.O.aa(a);
		this.O.aa(b);
		this.O.aa(c);
		this.Length = 9;
		this.Z()
	},
	xJ: function(a) {
		this.Type = $h;
		this.Length = 5 + this.O.ca(a);
		this.Z()
	},
	yJ: function(a, b, c, d) {
		this.Type = pi;
		a = this.O.ca(a);
		b = this.O.ca(b);
		c = this.O.ca(c);
		d = this.O.ca(d);
		this.Length = 5 + a + b + c + d;
		this.Z()
	},
	IG: function(a, b) {
		this.Type = Lh;
		this.O.aa(1);
		this.O.aa(a);
		this.Length = 7 + this.O.ca(b);
		this.Z()
	},
	cV: function(a, b) {
		this.Type = Lh;
		this.O.aa(2);
		this.O.aa(a);
		this.Length = 7 + this.O.ca(b);
		this.Z()
	}
});
var WebSocket = WebSocket || window.oX || window.TW,
	wn = cc.Class.extend({
		tY: null,
		ws: null,
		kk: !1,
		Fo: null,
		_delegate: null,
		eg: null,
		ctor: function() {
			this.kk = !1
		},
		init: function(a) {
			this.ws = a;
			this.kk = !1
		},
		JM: function() {
			logMessage("initSocket " + this.ws);
			this.eg = new WebSocket(this.ws);
			this.eg.binaryType = "arraybuffer";
			var a = this;
			this.eg.onopen = function(b) {
				logMessage("Send Binary WS was opened -\x3e store serverIPAddress");
				ha(a.ws);
				a.kk = !0;
				a._delegate && a._delegate.zC && a._delegate.zC(b)
			};
			this.eg.onmessage = function(b) {
				b =
					new Int8Array(b.data);
				var c = new BkPacket;
				c.oP(b);
				a._delegate && a._delegate.DC && a._delegate.DC(c)
			};
			this.eg.onerror = function(b) {
				logMessage("sendBinary Error was fired");
				a._delegate && a._delegate.vC && a._delegate.vC(b)
			};
			this.eg.onclose = function(b) {
				logMessage("_wsiSendBinary websocket instance closed.");
				a.kk = !1;
				a._delegate && a._delegate.uC && a._delegate.uC(b)
			}
		},
		IS: function(a) {
			null != this.eg ? this.kk ? (this.Fo = null, logMessage("Send packet: " + a.toString()), this.eg.send(a.FK().buffer)) : (logMessage("socket is close -\x3e reopen socket"),
				null == this.Fo && (this.Fo = a), this.jD()) : (logMessage("socket \x3d null -\x3e inital socket"), this.jD())
		},
		jD: function() {
			logMessage("reOpenSocket");
			this._delegate && this._delegate.FC && this._delegate.FC()
		},
		setDelegate: function(a) {
			this._delegate = a
		},
		dg: function() {
			null != this.eg && (this.eg.close(), this.eg = null);
			this.setDelegate(null);
			this.kk = !1
		}
	});
BkConnectionManager = {
	Ue: null,
	$q: null,
	ln: 0,
	kn: 0,
	jn: 0,
	Ig: 0,
	Db: null,
	Gf: null,
	Kh: !1,
	ar: -1,
	bv: !1,
	gB: !1,
	Co: null,
	Do: null,
	fk: function(a) {
		this.dg();
		var b = "";
		void 0 != a ? b = a : (a = "ws", isWebPlatform() ? (logMessage("cc.game.config \x3d "), -1 < cc.game.config.app.gamews.indexOf("localhost") || (a = "wss"), void 0 != cc.game.config.app && void 0 != cc.game.config.app.gamews && (b = a + cc.game.config.app.gamews)) : isFBInstantGame() ? b = "wss://zigavn.com/ws/" : (b = p("ServerIPAddress", fd), logMessage("getServerIPAddress: " + b)));
		this.gB = !1;
		this.Ue =
			new wn;
		this.Ue.init(b);
		this.Ue.JM();
		this.Ue.setDelegate(this)
	},
	OR: function() {
		null != this.Co && void 0 != this.Co && (cc.eventManager.removeListener(this.Co), this.Co = null, logMessage("removeEventTabChange: onHideListenner"));
		null != this.Do && void 0 != this.Do && (cc.eventManager.removeListener(this.Do), this.Do = null, logMessage("removeEventTabChange: onShowListenner"))
	},
	gM: function() {
		logMessage("initEventsTabChange");
		this.OR();
		var a = this;
		this.Co = cc.eventManager.addCustomListener(cc.game.EVENT_HIDE, function() {
			a.cP()
		});
		this.Do = cc.eventManager.addCustomListener(cc.game.EVENT_SHOW, function() {
			a.dP()
		});
		cc.game.z0
	},
	dP: function() {
		if (BkGlobal.mv) BkGlobal.mv = !1;
		else {
			BkGlobal.mv = !0;
			logMessage("onTabShow");
			var a = BkGlobal.Ti;
			BkGlobal.Ti = !0;
			if (a != BkGlobal.Ti) {
				if (!BkConnectionManager.lk() && BkGlobal.Sa == T) {
					logMessage("mat ket noi -\x3e reconnect");
					BkConnectionManager.vw();
					BkConnectionManager.sr();
					return
				}
				BkConnectionManager.Kh ? BkConnectionManager.ar = J() : this.hb()
			}
			isWebPlatform() && BkConnectionManager.MS();
			vn.tE()
		}
	},
	cP: function() {
		BkGlobal.lv ?
			BkGlobal.lv = !1 : (BkGlobal.lv = !0, BkGlobal.Z2 = Date.now(), logMessage("onHide"), BkGlobal.Ti = !1)
	},
	NS: function() {
		var a = new BkPacket;
		a.qJ();
		BkConnectionManager.send(a)
	},
	MS: function() {
		var a = new BkPacket;
		a.pJ();
		BkConnectionManager.send(a)
	},
	US: function() {
		BkGlobal.Ti = !0
	},
	Ar: function() {
		logMessage("... prepare connection");
		this.lk() || this.fk()
	},
	fw: function() {
		null == BkGlobal.P ? (logMessage("reLogin: BkGlobal.UserInfo \x3d\x3d null -\x3e reload page or restart game"), isWebPlatform() ? eb() : isFBInstantGame() ? cc.director.runScene(new pa) :
			cc.game.restart()) : (logMessage("reLogin user: " + BkGlobal.P.userName + " password: " + BkGlobal.P.password + " clientId: " + Ca()), BkLogicManager.S().TJ(BkGlobal.P.userName, BkGlobal.P.password, Ca()))
	},
	FC: function() {
		s(!1);
		this.Db = ya;
		this.fk()
	},
	zC: function() {
		logMessage("onOpen callback this.conStatus: " + this.Db);
		this.Db == fk ? (logMessage("MAKING_NEW_CONNECTION"), this.HS()) : this.Db == dk ? (logMessage("RECONNECTING"), this.QS()) : this.Db == ya ? this.fw() : this.Db == hk ? (console.log("BkConnectionManager - onOpen - this.isCreateNewAccount: " +
			BkConnectionManager.SA), BkLogicManager.S().JS(BkConnectionManager.SA)) : this.Db == ik ? E.jz(cc.username, cc.password) : this.Db == jk ? E.jz(cc.V6, cc.T2) : (logMessage("cac th khac"), null != this.Ue.Fo ? this.send(this.Ue.Fo) : this.fw())
	},
	vC: function() {
		logMessage("onError callback")
	},
	uC: function() {
		this.dg();
		if (BkLogicManager.S().ev) BkLogicManager.S().ev = !1, t(), eb();
		else if (logMessage("onClose callback " + this.Ig + "- this.conStatus: " + this.Db), this.bv) logMessage("isIDLETimeOut -\x3e wait action click popup renew connection"),
			this.bv = !1;
		else if (this.Db == ya || this.Db == ik) this.Ig++, this.zQ()
	},
	zQ: function() {
		if (3 < this.Ig) {
			logMessage("can't reconnect -\x3e show thong bao");
			this.Ig = 0;
			var a = function() {
				logMessage("onOKClick processOnClose");
				isWebPlatform() ? eb() : isFBInstantGame() ? cc.director.runScene(new pa) : cc.game.restart()
			};
			t();
			isWebPlatform() ? showPopupMessageConfirmEx(ka, a) : showPopupMessageWith(ka, "", null, a)
		} else logMessage("try reconnect -\x3e " + this.Ig), s(!1), this.fk()
	},
	UZ: function() {
		return this.Ue
	},
	send: function(a) {
		cc.sys.os !=
			cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || !p("isRestartingGame", 0) ? (this.wP(a), this.lk() && this.Ue.IS(a)) : logMessage("send packet khi dang restarting game -\x3e reject")
	},
	lk: function() {
		return null == this.Ue ? !1 : this.Ue.kk
	},
	wP: function(a) {
		var b;
		a: if (null == a) b = !1;
			else switch (a.Type) {
				case Uh:
					b = !0;
					break a;
				default:
					b = !1
			}
		b || this.US();
		BkGlobal.Sa == T && this.uS();
		a: if (null == a) b = !1;
			else switch (a.Type) {
				case Yd:
				case bi:
				case Lf:
				case $f:
				case hf:
				case he:
				case Uh:
				case Af:
					b = !1;
					break a;
				default:
					b = !0
			}
		b && this.iN(a) && (logMessage("Last packet: " +
			a.Type), this.$q = a, this.wS())
	},
	uS: function() {
		this.QE();
		var a = getCurrentScene();
		null != a && a.scheduleOnce(this.nC, 2)
	},
	QE: function() {
		var a = getCurrentScene();
		null != a && a.unschedule(this.nC);
		this.nD()
	},
	cE: function() {
		this.nD();
		this.Dg = new BkSprite;
		var a = 20;
		isWebPlatform() || (a *= GAME_SCALE);
		var b = new BkLabelTTF("K\u1ebft n\u1ed1i kh\u00f4ng \u1ed5n \u0111\u1ecbnh...", "", a);
		this.Dg.addChild(b, 2);
		var c = 0,
			d = b.getContentSize().height,
			a = b.getContentSize().width,
			e = new BkSprite("#busy_indicator.png"),
			d = 1.2 * d,
			f = d / e.getContentSize().height,
			g = f * e.getContentSize().width;
		e.setScale(f);
		e.x = b.x - 0.5 * a - 0.5 * g;
		e.y = b.y;
		e.schedule(function() {
			c += 30;
			e.setRotation(c)
		}, 0.07);
		this.Dg.addChild(e, 2);
		b = new cc.SpriteBatchNode("Chess_toast.png");
		f = new cc.Scale9Sprite;
		f.updateWithBatchNode(b, cc.rect(0, 0, 37, 38), !1, cc.rect(12, 12, 12, 12));
		f.width = a + 1.5 * g;
		f.height = 1.2 * d;
		f.x = e.x - 0.5 * g + 0.5 * f.width;
		this.Dg.addChild(f, 1);
		a = getCurrentScene();
		null != a && (this.Dg.x = 0.5 * cc.winSize.width, this.Dg.y = TOAST_MSG_YPOS, isWebPlatform() && (this.Dg.y = 0.5 * cc.winSize.height), a.addChild(this.Dg,
			Ud - 1))
	},
	nD: function() {
		null != this.Dg && (this.Dg.removeFromParent(), this.Dg = null)
	},
	nC: function() {
		logMessage("onAlertNetwork");
		BkConnectionManager.cE()
	},
	iN: function(a) {
		return BkGlobal.Sa != T || a.Type == ce ? !0 : !1
	},
	UJ: function() {
		logMessage("Making new connection....");
		s(!1);
		this.Db = fk;
		this.fk()
	},
	HS: function() {
		var a = -1,
			b = -1,
			c = -1;
		switch (BkGlobal.Sa) {
			case gj:
				a = BkGlobal.ja;
				b = BkGlobal.wf;
				break;
			case T:
				a = BkGlobal.ja, b = BkGlobal.wf, c = BkGlobal.Rj
		}
		var d = "";
		null != BkGlobal.P.userName && void 0 != BkGlobal.P.userName && (d = BkGlobal.P.userName);
		logMessage(BkGlobal.P.userName + " - " + BkGlobal.P.password + " - " + a + " - " + b + " - " + c);
		var e = new BkPacket;
		e.FF(d, BkGlobal.P.password, a, b, c);
		this.send(e)
	},
	Nv: function() {
		BkConnectionManager.ln++;
		logMessage("new onMakeNewConnection " + BkConnectionManager.ln);
		2 <= BkConnectionManager.ln ? (logMessage("finish schedule"), BkConnectionManager.ln = 0, BkConnectionManager.jj(ka)) : BkConnectionManager.UJ()
	},
	wS: function() {
		logMessage("scheduleMakeNewConnection");
		this.ln = 0;
		this.Sk(!1);
		this.lk() || this.Nv();
		var a = getCurrentScene();
		null != a && a.schedule(this.Nv, 8, 1)
	},
	Sk: function(a) {
		void 0 == a && (a = !0);
		a && t();
		a = getCurrentScene();
		null != a && a.unschedule(this.Nv)
	},
	AC: function() {
		BkConnectionManager.jn++;
		logMessage("onPing " + BkConnectionManager.jn);
		2 == BkConnectionManager.jn && (logMessage("show Anim"), s(!1));
		var a = BkConnectionManager.lk();
		3 != BkConnectionManager.jn && a ? BkGlobal.Ti ? (logMessage("onPing -\x3e send ping packet - do nothing"), a = new BkPacket, a.zc(Uh), BkConnectionManager.send(a)) : logMessage("tab inActive -\x3e don't send ping") :
			(logMessage("onFinishPing or isOpenConnection: " + a), BkConnectionManager.vw(), BkConnectionManager.sr())
	},
	dV: function() {
		this.fi();
		this.fp()
	},
	fi: function() {
		logMessage("unSchedulePing");
		t();
		var a = getCurrentScene();
		null != a && a.unschedule(this.AC)
	},
	xS: function() {
		BkConnectionManager.jn = 0;
		this.fi();
		this.fp();
		if (BkGlobal.Sa == T) {
			var a = getCurrentScene();
			null != a && a.schedule(this.AC, 8, 2)
		}
	},
	n6: function() {
		this.Sk();
		this.fi();
		this.Db == dk && this.fp()
	},
	jj: function(a) {
		function b() {
			logMessage("onOKClick : renewConnection");
			s(!1);
			c.fk()
		}
		logMessage("renewConnection");
		t();
		var c = this;
		this.Sk();
		this.fi();
		this.Db == dk && this.fp();
		logMessage("CONECTION_STATE.RELOGIN");
		this.Db = ya;
		isWebPlatform() ? showPopupMessageConfirmEx(a, b) : showPopupMessageWith(a, "", null, b)
	},
	vw: function() {
		BkConnectionManager.kn = 0;
		var a = getCurrentScene();
		null != a && a.schedule(this.sr, 5, 2)
	},
	fp: function() {
		var a = getCurrentScene();
		null != a && a.unschedule(this.sr)
	},
	sr: function() {
		BkConnectionManager.fi();
		BkConnectionManager.kn++;
		s(!1);
		BkConnectionManager.cE();
		logMessage("onReconnect " +
			BkConnectionManager.kn);
		3 <= BkConnectionManager.kn ? (logMessage("finish reconnect"), BkConnectionManager.kn = 0, BkConnectionManager.jj(ka)) : (logMessage("onReconnect"), BkGlobal.Sa == T && this.Db != ya && BkGlobal.Sa == T && (logMessage("Reconnecting...."), BkConnectionManager.fk(), BkConnectionManager.Db = dk))
	},
	QS: function() {
		logMessage("sendReconnetPacket");
		if (null == BkGlobal.P) logMessage("user null -\x3e can't make new connection");
		else {
			var a = new BkPacket;
			a.PF(BkGlobal.P.userName, BkGlobal.P.password);
			BkConnectionManager.send(a)
		}
	},
	ur: function() {
		logMessage("onReconnectSuccess -\x3e send SYNS");
		t();
		BkConnectionManager.fp();
		BkLogicManager.oa().ur()
	},
	RO: function() {
		this.Sk();
		this.fi();
		BkGlobal.Sa != T ? this.jj(ka) : this.vw()
	},
	LO: function() {
		this.Sk();
		this.fi();
		this.bv = !0;
		this.lk() ? this.jj("Ph\u1ea3i kh\u1edfi t\u1ea1o l\u1ea1i k\u1ebft n\u1ed1i do b\u1ea1n \u1edf trong ph\u00f2ng qu\u00e1 l\u00e2u m\u00e0 kh\u00f4ng ch\u01a1i ") : this.jj("Ph\u1ea3i \u0111\u1ed3ng b\u1ed9 l\u1ea1i d\u1eef li\u1ec7u do b\u1ea1n b\u1ecb m\u1ea5t k\u1ebft n\u1ed1i qu\u00e1 l\u00e2u!")
	},
	JO: function() {
		BkGlobal.Sa != T ? this.jj("Kh\u1edfi t\u1ea1o l\u1ea1i k\u1ebft n\u1ed1i do kh\u00f4ng \u0111\u1ed3ng b\u1ed9 \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u v\u1edbi server!") : this.dg()
	},
	eP: function() {
		function a() {
			console.log("onTerminate - registerCancel")
		}

		function b() {
			isWebPlatform() ? eb() : cc.game.restart()
		}

		function c() {
			d.Db = hk;
			d.SA = !0;
			s(2);
			window.setTimeout(function() {
				BkLogicManager.S().Qt()
			}, 2E3)
		}
		logMessage("onTerminate");
		this.Sk();
		this.fi();
		this.dg();
		Aa();
		za(D.He);
		cc.screen.fullScreen() && exitFullScreen();
		var d = this;
		showPopupMessageWithDynamicButton(b, function() {
			console.log("registerClick");
			var b = new BkDialogWindow("", tl);
			b.Qq = !0;
			b.So("Th\u00f4ng tin t\u00e0i kho\u1ea3n m\u1edbi s\u1ebd ghi \u0111\u00e8 l\u00ean t\u00e0i kho\u1ea3n hi\u1ec7n t\u1ea1i.\n\nB\u1ea1n mu\u1ed1n \u0111\u0103ng k\u00fd t\u00e0i kho\u1ea3n m\u1edbi kh\u00f4ng?", 28);
			b.Hw(c);
			b.ED(a);
			b.Cc(!1);
			b.show()
		}, b)
	},
	dg: function() {
		this.gB = !0;
		null != this.Ue && (this.Ue.dg(), this.Ue = null)
	},
	wQ: function() {
		this.dg();
		za(D.He);
		showPopupMessageWith("T\u00e0i kho\u1ea3n c\u1ee7a b\u1ea1n \u0111ang b\u1ecb kh\u00f3a.\nXin h\u00e3y li\u00ean h\u1ec7 v\u1edbi fanpage Ziga \u0111\u1ec3 bi\u1ebft th\u00eam chi ti\u1ebft.",
			"",
			function() {
				logMessage("onOKClick processNetworkLockedClient");
				top.location.href = "https://zigavn.com/quy-dinh#10-quy-dinh-ve-xu-ly-vi-pham"
			})
	},
	IP: function(a) {
		this.fi();
		switch (a.Type) {
			case cf:
				this.Db = ck;
				this.ur();
				break;
			case ie:
				this.Db = ek;
				t();
				this.jj(ka);
				break;
			case Fh:
				logMessage("NETWORK_MAKE_NEW_CONNECTION_SUCCESS");
				this.Db = ck;
				t();
				null != this.$q && (logMessage("resend last packet with type" + this.$q.Type), this.send(this.$q));
				break;
			case Gh:
				logMessage("NETWORK_MAKE_NEW_CONNECTION_FAILED");
				t();
				this.jj(ka);
				break;
			case fe:
				this.RO();
				break;
			case ge:
				this.JO();
				break;
			case je:
				this.eP();
				break;
			case mh:
				this.LO();
				break;
			case Vh:
				this.wQ()
		}
	},
	NA: function(a) {
		function b() {
			logMessage("onHideClick");
			isNative() && n.rb(bd);
			BkConnectionManager.Mo(N, O, Qk)
		}

		function c() {
			BkGlobal.BE = a;
			BkConnectionManager.zn(1)
		}
		a = void 0 === a ? sc : bb;
		isNative() && n.rb(cd);
		isFBInstantGame() && !SHOW_INSTANT_ADS_FLAG ? showPopupMessageWith(on, "", c, b) : showPopupMessageWith(nn, "", c, b)
	},
	zn: function(a) {
		logMessage("getFullScreenAdsSetting adsContinueShowFlg: " +
			BkGlobal.hy);
		a = void 0 === a ? 0 : a;
		var b = new BkPacket;
		b.zn(a);
		this.send(b)
	},
	yn: function(a) {
		var b = new BkPacket;
		b.yn(a);
		this.send(b)
	},
	Mo: function(a, b, c) {
		var d = new BkPacket;
		d.aJ(a, b, c);
		this.send(d)
	},
	Yh: function(a, b) {
		isWebPlatform() ? vn.nE() : (isFBInstantGame() && BKFbAdsManager.RT(), logMessage("showFullScreenAds -\x3e adsPartner: " + a + " - adsCategory: " + b), b == M ? (BkGlobal.gC = a, 0 <= BkGlobal.nn && (logMessage("showFullScreenAds -\x3e show partner: " + BkGlobal.nn), a = BkGlobal.nn)) : b == O && (BkGlobal.hC = a, 0 <= BkGlobal.on &&
			(logMessage("showFullScreenAds -\x3e show partner: " + BkGlobal.on), a = BkGlobal.on)), logMessage("showFullScreenAds adsPartner:" + a + " adsCategory: " + b), BkGlobal.KB = a, BkGlobal.JB = b, s(), a == N ? b == M ? n.ZT() : b == O && n.nU() : a == Za ? b == M ? n.ST() : b == O && n.TT() : a == $a && (b == M ? n.eU() : b == O && n.fU()), logMessage("show fullscreen ads -\x3e off am thanh"), pauseNhacNenSound())
	},
	kU: function(a, b, c, d) {
		logMessage("showPopupInviteViewFullScreenAds start function - adsShowType: " + a);
		if (a == Hk) isWebPlatform() ? vn.Ww() : (BkGlobal.Qg = !1, this.Yh(c,
			d));
		else {
			var e = this;
			a = function() {
				BkGlobal.Qg = !1;
				isWebPlatform() ? vn.Ww() : e.Yh(c, d)
			};
			logMessage("showPopupInviteViewFullScreenAds after cbFunc");
			var f = function() {
				logMessage("onHideClick");
				isWebPlatform() || n.rb(bd);
				BkConnectionManager.Mo(N, O, Qk)
			};
			isWebPlatform() ? (logMessage("showPopupInviteViewFullScreenAds - isWebPlatform process confirm."), showPopupConfirmWith(b, "", a, f)) : (logMessage("showPopupInviteViewFullScreenAds - mobile process confirm."), showPopupMessageWith(b, "", a, f))
		}
	},
	gU: function(a) {
		logMessage("showMessageAdsFullScreenOff: " +
			a);
		var b = mn;
		0 < a && (b = qn(ln, [a]));
		showPopupMessageWith(b)
	},
	Pm: null,
	gO: function(a) {
		var b = a.O.readByte();
		logMessage("NETWORK_ADS_FULL_SCR_CONTROL: " + b);
		if (b == Nk)
			if (0 == a.O.readByte()) logMessage("off ads fullscreen"), b = -1, a.O.La() && (b = a.O.readByte()), this.gU(b);
			else {
				b = a.O.readByte();
				logMessage("onAdsFullScreenControl - adsShowType: " + b);
				var c = "";
				b == Ik && (c = a.O.da());
				var d = a.O.readByte();
				a = a.O.readByte();
				this.kU(b, c, d, a)
			}
		else b == Mk ? (logMessage("remove anim"), t(), b = a.O.readInt(), a = a.O.readByte(), BkGlobal.hy =
			a, logMessage("heartCtn: " + b + " adsContinueShowFlg:" + a), BkLogicManager.S().Tk(b, bc), null != this.Pm && (this.Pm(), this.Pm = null)) : b == Ok && (t(), BkGlobal.Sa == T && BkLogicManager.oa().Ir())
	},
	GT: function(a, b) {
		if (!isFBInstantGame()) {
			var c = n.HK();
			logMessage("show ads banner " + b + " - crBanerAdspartner: " + c + " - partner: " + a);
			c != a && (logMessage("dang k show ads hoac da dang show banner cua partner khac"), a == N ? n.Nw() : a == Za ? n.Qw() : a == $a && n.Sw());
			n.rb(Cc);
			0 < b && n.gH(b)
		}
	},
	Ow: function() {
		isFBInstantGame() || (logMessage("showAdsBannerStartGame: " +
			BkGlobal.Yg), 0 > BkGlobal.Yg || (BkGlobal.Yg == N ? n.Nw() : BkGlobal.Yg == Za ? n.Qw() : BkGlobal.Yg == $a && n.Sw()))
	},
	mC: function() {
		isFBInstantGame() || (logMessage("offAdsBannerFinishGame: " + BkGlobal.Yg), 0 > BkGlobal.Yg || n.Tj())
	},
	hO: function(a) {
		var b = a.O.readByte(),
			c = a.O.readByte(),
			d = 0;
		0 != c && (d = a.O.readByte());
		logMessage("NETWORK_ADS_SERVER_PUSH subEventCode:" + b + " adsType:" + c + " partner:" + d);
		if (b == Kk) {
			if (!isFBInstantGame() && !isWebPlatform())
				if (1 == c)
					if (cc.sys.os == cc.sys.OS_ANDROID) BkGlobal.Yg = d;
					else {
						if (cc.sys.os == cc.sys.OS_IOS ||
							cc.sys.os == cc.sys.OS_OSX) b = -1, a.O.La() && (b = a.O.readInt()), this.GT(d, b)
					}
			else 0 == c && (n.Tj(), BkGlobal.Yg = -1, logMessage("off ads banner"))
		} else b == Lk && (0 == c ? isNative() && n.Tj() : isFBInstantGame() ? BKFbAdsManager.I5() : (BkGlobal.Qg = !0, this.Yh(d, c)))
	},
	zP: function(a) {
		switch (a.Type) {
			case Bi:
				this.gO(a);
				break;
			case Ci:
				this.hO(a)
		}
	},
	mE: function() {
		logMessage("showIndicatorChangeNetwork")
	},
	DC: function(a) {
		BkGlobal.Ll = !0; - 42 != a.Type && 46 != a.Type && logMessage("onReceive: " + a.toString());
		this.Db != ck && (this.Db = ck);
		BkGlobal.Xq ?
			(logMessage("nhan event khi dang chuyen scene-\x3e queue Event -\x3e queueEvent"), a.oB = !0, this.iD(a)) : (this.Sk(!1), BkGlobal.Sa == T && this.xS(), BkLogicManager.Vb(a.Type) ? this.iD(a) : this.dD(a))
	},
	hb: function() {
		null == this.Gf && (this.Gf = [], this.Kh = !1);
		logMessage("processNextEventInQueue " + this.Gf.length);
		if (0 < this.Gf.length) {
			this.ar = J();
			this.Kh = !0;
			var a = this.Gf.shift();
			logMessage("process Packet with Type: " + a.Type + " - time: " + this.ar);
			this.dD(a);
			a.oB && (logMessage("la event dc queue khi chuyen scene"), BkLogicManager.Vb(a.Type) ?
				logMessage("la event dc queue trong ingame -\x3e se dc call next event sau khi xu ly xong event") : (logMessage("k phai event dc queue trong ingame -\x3e auto call event"), this.hb()))
		} else this.Kh = !1;
		this.Kh ? this.vS() : this.RE()
	},
	en: function() {
		null != this.Gf && (this.Gf = [], this.Kh = !1)
	},
	ZO: function() {
		BkGlobal.AB || this.hb()
	},
	wK: function() {
		if (BkGlobal.Ti) {
			var a = J() - this.ar;
			logMessage("deltaTime " + a);
			var b = 1E4;
			BkGlobal.ja == H && (b = 3E4);
			a > b && (logMessage("tac queue -\x3e auto call process next event"), this.hb())
		} else logMessage("tab inactive -\x3e don't forceProcessPacket")
	},
	iD: function(a) {
		null == this.Gf && (this.Gf = [], this.Kh = !1);
		this.Gf.push(a);
		logMessage("isProcessing: " + this.Kh);
		for (a = 0; a < this.Gf.length; a++);
		if (BkGlobal.Ti) BkGlobal.Xq ? logMessage("dang chuyen scene -\x3e k processPacket") : this.Kh ? this.wK() : this.hb();
		else if (logMessage("tab in active -\x3e only queue event"), 30 < this.Gf.length) {
			logMessage("tab in active long time -\x3e show popup \x26 close connection");
			var b = this;
			showPopupMessageWith("Ph\u1ea3i kh\u1edfi t\u1ea1o l\u1ea1i k\u1ebft n\u1ed1i do b\u1ea1n \u1edf trong ph\u00f2ng qu\u00e1 l\u00e2u m\u00e0 kh\u00f4ng ch\u01a1i ",
				"",
				function() {
					logMessage("onOKClick queuePackage ");
					isWebPlatform() ? (switchToSceneWithGameState(G, !1, !1), b.dg(), eb()) : b.fw()
				})
		}
	},
	RE: function() {
		var a = getCurrentScene();
		null != a && a.unschedule(this.oC)
	},
	vS: function() {
		this.RE();
		var a = getCurrentScene();
		null != a && a.scheduleOnce(this.oC, 5)
	},
	oC: function() {
		logMessage("warning: check it -\x3e onAutoProcessPacketInQueue: " + J());
		BkConnectionManager.hb()
	},
	dD: function(a) {
		if (BkGlobal.Sa == T) {
			this.QE();
			var b;
			a: {
				switch (a.Type) {
					case $e:
					case We:
					case Jh:
					case Ne:
					case Eh:
					case Fe:
					case Me:
					case ze:
					case ue:
					case ye:
					case af:
					case pe:
					case Ee:
					case Re:
					case yf:
					case zf:
					case Kg:
					case Ff:
					case Kf:
					case vg:
					case xg:
					case Dg:
					case gh:
					case Lg:
					case Qg:
					case lh:
					case Cf:
					case Oe:
					case ai:
					case li:
					case te:
					case xe:
					case Gf:
						b = !0;
						break a
				}
				b = !1
			}
			if (b && 0 > BkLogicManager.oa().vV(a)) {
				logMessage("nhan sai goi tin -\x3e reject packet");
				BkLogicManager.Vb(a.Type) && this.hb();
				return
			}
		}
		console.log("processNextPackage : [" + a.Type + "]");
		switch (a.Type) {
			case cf:
			case ie:
			case Fh:
			case Gh:
			case fe:
			case ge:
			case je:
			case mh:
			case Vh:
				this.IP(a);
				break;
			case Bi:
			case Ci:
				this.zP(a);
				break;
			case bi:
			case Hf:
			case Ei:
				BkLogicManager.S().ah(a);
				break;
			case pe:
			case If:
			case Jf:
			case Wf:
			case di:
			case ei:
			case fi:
			case te:
			case li:
			case Ef:
			case Jh:
			case ve:
			case xe:
			case Qe:
			case Re:
			case Se:
			case si:
			case Bg:
			case Cg:
			case ug:
				if (BkGlobal.Sa ==
					T) {
					a.Type == qe && (BkGlobal.mk = !0);
					if (!BkGlobal.mk) {
						logMessage("chua nhan dc event sysn -\x3e reject packet");
						BkLogicManager.Vb(a.Type) && this.hb();
						break
					}
					BkLogicManager.oa().ah(a)
				} else BkLogicManager.S().ah(a);
				break;
			case ae:
			case Mf:
			case $f:
			case Sh:
			case Th:
			case Wh:
				this.Db = gk;
				BkLogicManager.S().ah(a);
				break;
			case $d:
			case gf:
			case ee:
			case sf:
			case $g:
			case kf:
			case le:
			case Yf:
			case qh:
			case Fg:
			case Hg:
			case Oh:
			case Ph:
			case Qh:
			case Og:
			case Vf:
			case bg:
			case dg:
			case fg:
			case gg:
			case ig:
			case Yh:
			case bh:
			case Jg:
			case Mg:
			case Pf:
			case jh:
			case ih:
			case th:
			case Wg:
			case eh:
			case yh:
			case Mh:
			case Ch:
			case Bh:
			case Dh:
			case ii:
			case ji:
			case ki:
			case Na:
			case fh:
			case Xg:
			case lg:
			case ng:
			case Tg:
			case pg:
			case tg:
			case xf:
			case Je:
			case Le:
			case qg:
			case uf:
			case oh:
			case Ye:
			case $e:
			case pf:
			case de:
			case Rh:
			case Pg:
			case Hh:
			case Xh:
			case mi:
			case hh:
			case rh:
			case ti:
			case Ai:
			case Gi:
			case oi:
			case xh:
			case $h:
			case pi:
			case yi:
			case zh:
			case jb:
				BkLogicManager.S().ah(a);
				break;
			case qe:
			case bf:
			case dh:
			case vh:
			case sh:
			case ke:
			case nh:
			case Eh:
			case Ne:
			case We:
			case nf:
			case Tf:
			case vf:
			case Rg:
			case Ug:
			case ff:
			case yg:
			case hi:
			case gh:
			case Qg:
			case Lg:
			case ne:
			case uh:
			case Kh:
			case Fe:
			case ue:
			case zf:
			case yf:
			case Kg:
			case Kf:
			case lh:
			case Lh:
			case ye:
			case Ff:
			case Dg:
			case Me:
			case ze:
			case af:
			case Ee:
			case Ce:
			case vg:
				if (BkGlobal.Sa != T) {
					logMessage("Not process event because not correct zone " + BkGlobal.Sa);
					break
				}
				a.Type == qe && (BkGlobal.mk = !0);
				if (!BkGlobal.mk) {
					logMessage("chua nhan dc event sysn -\x3e reject packet \x26 processNextEventInQueue");
					BkLogicManager.Vb(a.Type) && this.hb();
					break
				}
				BkLogicManager.oa().ah(a);
				break;
			default:
				-42 != a.Type && 46 != a.Type && logMessage("BkConnectionManager not process packet with type: " + a.Type)
		}
	}
};
BkBaseLogic = cc.Class.extend({
	Xg: null,
	ctor: function() {},
	v3: function() {
		function a() {
			cc.loader.releaseAll();
			eb()
		}
		logMessage("onerror ");
		cc.screen.fullScreen() && (logMessage("is fullscreen -\x3e exit fullscreen"), exitFullScreen());
		isWebPlatform() ? showPopupMessageConfirmEx("Kh\u1edfi t\u1ea1o l\u1ea1i k\u1ebft n\u1ed1i do kh\u00f4ng \u0111\u1ed3ng b\u1ed9 \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u v\u1edbi server!", function() {
			a()
		}) : showPopupMessageWith("Kh\u1edfi t\u1ea1o l\u1ea1i k\u1ebft n\u1ed1i do kh\u00f4ng \u0111\u1ed3ng b\u1ed9 \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u v\u1edbi server!",
			"", a)
	},
	en: function() {
		BkConnectionManager.en()
	},
	hb: function() {
		BkConnectionManager.hb()
	},
	jb: function(a) {
		this.Xg = a
	},
	Ha: function(a, b, c) {
		null != this.Xg ? this.Xg.ud(a, b, c) : logMessage("BkBaseLogic not push packet with type \x3d" + b)
	},
	ah: function(a) {
		logMessage("BkBaseLogic -\x3e processNetworkEvent " + a.Type);
		switch (a.Type) {
			case Xd:
				break;
			default:
				logMessage("BkBaseLogic not process packet with type: " + a.Type)
		}
	},
	Vb: function() {
		return !1
	}
});
BkCommonLogic = BkBaseLogic.extend({
	nf: -1,
	kc: null,
	QU: null,
	mn: null,
	xa: null,
	iq: 0,
	vs: null,
	x0: null,
	Wn: null,
	vd: null,
	tv: null,
	q1: null,
	I0: !1,
	eo: !1,
	P0: !1,
	fB: !1,
	ev: !1,
	i0: !1,
	TM: !1,
	CJ: null,
	ctor: function() {
		this._super();
		this.vd || (this.vd = new BkPromotionInfo)
	},
	Vb: function(a) {
		switch (a) {
			case mi:
				return !0
		}
		return !1
	},
	k_: function(a) {
		var b = new BkPacket;
		b.Ty(a);
		BkConnectionManager.send(b)
	},
	Qt: function() {
		console.log("BkCommonLogic - doAutoRegLogin()");
		BkConnectionManager.Db = isFBInstantGame() ? jk : hk;
		BkConnectionManager.Ar()
	},
	JS: function(a) {
		null == BkGlobal.P && (BkGlobal.P = new BkUserData);
		BkGlobal.isLoginFacebook = !1;
		var b = Ki;
		if (cc.sys.os == cc.sys.OS_ANDROID) {
			var b = Li,
				c = n.BK();
			0 < c && (b = c)
		} else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) b = Mi;
		logMessage("sendPacketAutoLogin with cpid: " + b);
		var c = new BkPacket,
			d = Ca();
		c.HF(b, d, "", a);
		BkConnectionManager.send(c)
	},
	QJ: function(a, b) {
		s();
		var c = new BkPacket;
		c.nJ(a, b);
		BkConnectionManager.send(c)
	},
	lQ: function(a) {
		logMessage("onJoinChanGameRoom");
		t();
		var b = a.O.readByte(),
			c = a.O.readByte();
		logMessage("currentRoomID: " + b + " numberRoom: " + c);
		BkGlobal.wf = b;
		var d, e, f = [];
		for (d = 0; d < c; d++) e = new BkRoomData, e.percent = a.O.readByte(), e.Od = a.O.readByte(), logMessage("percent: " + e.percent + " roomID: " + e.Od), f.push(e);
		for (d = 0; d < c; d++)
			if (e = f[d], e.Od == b) {
				var g = f[0];
				f[0] = e;
				f[d] = g
			} e = a.O.readByte();
		logMessage("maxTable: " + e);
		e = Math.abs(e);
		for (g = []; a.O.La();) {
			d = new BkTableData;
			d.rg = a.O.readByte();
			d.ac = a.O.readInt();
			var h = a.O.readByte(),
				k = a.O.readByte();
			d.Gm = k & 1;
			d.Zn = 0 == (k & 4) >> 2;
			d.Xn = 1 == (k & 8) >> 3;
			d.yk = h & 7;
			d.dj = (h & 56) >> 3;
			d.bk = (h & 64) >> 6;
			d.Ub = (h & 128) >> 7;
			g.push(d)
		}
		if (-1 == this.nf || this.nf >= 3 * c) this.nf = 0;
		else if (a = Math.floor(this.nf / 3), logMessage("iSTT: " + a + " STTCurrentRoom: " + this.nf), h = f[a], logMessage("iSTT roomID: " + h.Od + " currRoomID: " + b), h.Od != b) {
			var m, r;
			for (d = 0; d < c; d++)
				if (k = f[d], k.Od == b) {
					m = d;
					r = k;
					break
				} f[a] = r;
			f[m] = h
		}
		null == this.kc && (this.kc = new BkLobbyRoomData);
		this.kc.SN = e;
		this.kc.DN = f;
		this.kc.IJ();
		this.wf = b;
		b = [];
		for (d = 0; d < e; d++) b.push(!1);
		for (c = 0; c < g.length; c++) b[g[c].rg] = !0;
		for (c = 0; c < e; c++) b[c] ||
			(f = new BkTableData, f.rg = c, g.push(f));
		this.kc.EN = g;
		this.kc.JJ();
		BkGlobal.Sa != gj ? (this.nf = 0, switchToSceneWithGameState(gj)) : (logMessage("BkGlobal.currentGS !\x3d GS.CHOOSE_TABLE | currentGS: " + BkGlobal.Sa), e = getCurrentScene(), null != e ? e instanceof VvLobby ? e.lE() : logMessage("crScene not instanceof  BkLobby -\x3e error recheck!!!!!!!!!!!") : logMessage("crScene \x3d\x3d null"))
	},
	dc: function() {
		return getCurrentScene()
	},
	rZ: function() {
		s();
		var a = new BkPacket;
		a.zc(tf);
		BkConnectionManager.send(a)
	},
	nZ: function(a) {
		this.mn =
			a;
		var b = new BkPacket;
		b.DF(a);
		BkConnectionManager.send(b)
	},
	oG: function(a) {
		var b = new BkPacket;
		b.vj(Zg, a);
		BkConnectionManager.send(b)
	},
	pG: function(a) {
		var b = a.O.readByte(),
			c;
		if (0 < b)
			for (c = 0; c < b; c++) a.O.readByte(), a.O.readByte();
		this.rG(1)
	},
	rG: function(a) {
		var b = new BkPacket;
		b.vj(Ue, a);
		BkConnectionManager.send(b)
	},
	sG: function(a) {
		a.O.readByte();
		a.O.readByte();
		this.nG()
	},
	nG: function() {
		var a = new BkPacket;
		a.zc(lf);
		BkConnectionManager.send(a)
	},
	tG: function(a) {
		a = a.O.readByte();
		logMessage("goes here" + a);
		this.YJ(1)
	},
	YJ: function(a, b) {
		s();
		a > FAKE_TABLE_ID && (a -= FAKE_TABLE_ID);
		var c = new BkPacket;
		c.tF(a, b);
		BkConnectionManager.send(c)
	},
	$W: function() {
		var a = new BkPacket;
		a.zc(Xe);
		BkConnectionManager.send(a)
	},
	oZ: function() {
		var a = new BkPacket,
			b = Ca();
		a.Wy(BkGlobal.P.userName, BkGlobal.P.password, b);
		BkConnectionManager.send(a)
	},
	TJ: function(a, b, c) {
		if (void 0 == a || void 0 == b) logMessage("doLoginGame Username is null ");
		else {
			null == BkGlobal.P && (BkGlobal.P = new BkUserData);
			var d = new BkPacket;
			d.Wy(a, b, c);
			BkConnectionManager.send(d)
		}
	},
	bD: function(a) {
		var b = J() / 1E3;
		logMessage("processHeartCountdownTime convertToLocalTime24h: " + tn(1E3 * b) + " countdownTime: " + a);
		BkGlobal.P.ck = -1 == a ? -1 : b + a
	},
	PO: function(a) {
		logMessage("LOG_IN_SUCCESS -\x3e clear all queue event");
		BkGlobal.Yg = -1;
		p("UpdatedDFNhacNenOff", 0) || (jm(0), u("UpdatedDFNhacNenOff", 1));
		playNhacNenSound();
		BkConnectionManager.en();
		BkGlobal.Ll = !0;
		var b = BkGlobal,
			c;
		var d = p("lastLoginTime", 0);
		c = J();
		d = tn(d).substr(0, 10);
		c = tn(c).substr(0, 10);
		logMessage("dateLastLoginTime: " + d);
		logMessage("dateCurrentTime: " +
			c);
		d === c ? (logMessage("same day -\x3e !isFirstLoginInDay"), c = !1) : (logMessage("diffirent day -\x3e isFirstLoginInDay"), c = !0);
		b.XA = c;
		BkGlobal.jo = !0;
		processLoginRegistSuccessEx();
		BkConnectionManager.Db = ck;
		this.fB = !0;
		c = a.O.da();
		var d = a.O.da(),
			e = a.O.da(),
			f = a.O.readInt(),
			g = a.O.readInt(),
			h = a.O.readByte(),
			k = -1,
			m = -1;
		0 <= h ? k = a.O.readByte() : m = a.O.readInt();
		var r = a.O.readInt(),
			w = a.O.readInt(),
			C = a.O.readByte(),
			I = a.O.readByte(),
			b = a.O.readByte();
		null == BkGlobal.P && (BkGlobal.P = new BkUserData);
		BkGlobal.no = C;
		BkGlobal.hk =
			I;
		BkGlobal.fo = I;
		console.log("onLoginSuccess - BkGlobal.isFbLinkable: ", BkGlobal.fo);
		cc.username = c;
		cc.password = d;
		BkGlobal.P.Mb(f);
		BkGlobal.P.yd(c);
		BkGlobal.P.Zp = Ca();
		BkGlobal.P.password = d;
		BkGlobal.P.cf(e);
		BkGlobal.P.ID(r);
		BkGlobal.P.JD(w);
		this.bD(g);
		BkGlobal.P.gh = h;
		BkGlobal.P.cd = k;
		BkGlobal.P.vm = m;
		0 <= BkGlobal.P.vm && (BkGlobal.P.fx = Math.floor(J() / 1E3) + BkGlobal.P.vm);
		BkLogicManager.Ew(null);
		n.rb(uc, null);
		n.rb.bind(n, uc);
		0 < BkGlobal.P.cd && u(an, BkGlobal.P.cd);
		logMessage("loadSettingFromLocalStorage");
		cc.sys.os ==
			cc.sys.OS_ANDROID && (hd = p(qm, hd), jd = p(sm, jd), kd = p(um, kd), ld = p(wm, ld), md = p(Cm, md), nd = p(Em, nd), rd = p(Qm, rd), qd = p(Om, qd), pd = p(Mm, pd));
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) id = p(rm, id), sd = p(tm, sd), td = p(vm, td), ud = p(xm, ud), vd = p(Dm, vd), wd = p(Fm, wd), Ad = p(Rm, Ad), zd = p(Pm, zd), yd = p(Nm, yd);
		Si = p(Ym, Si);
		Ti = p(Zm, Ti);
		Ui = p($m, Ui);
		Vi = p(bn, Vi);
		Wi = p(cn, Wi);
		Zi = p(en, Zi);
		Yi = p(dn, Yi);
		logMessage("Login info: dailyBonus false bonusType 0 money " + f + " name: " + c + " isReanamable: " + C + " isConnectedFB: " + I);
		c = {
			username: c,
			password: d,
			isLoginFacebook: BkGlobal.isLoginFacebook
		};
		cc.DR ? S(D.He, JSON.stringify(c)) : za(D.He);
		c = JSON.stringify(c);
		bk.sessionStorage.setItem(D.He, c.toString());
		1 == b ? (logMessage("isInGameCheck"), BkGlobal.ja = a.O.readByte(), BkGlobal.wf = a.O.readByte(), BkGlobal.Rj = a.O.readByte(), this.pR(a), logMessage("is ingame process"), BkGlobal.mk = !1, switchToSceneWithGameState(T, !1, !1), BkLogicManager.Lu()) : (isFBInstantGame() && (a = p("loginCount", 0), cc.isNumber(a) && (3 == a && BkFbInstant.createShortcut(), u("loginCount", a + 1))),
			BkGlobal.Sa != P ? switchToSceneWithGameState(P) : switchToSceneWithGameState(P, !1, !1))
	},
	pR: function(a) {
		var b = 1 == a.O.readByte(),
			c = 1 == a.O.readByte();
		a = 1 == a.O.readByte();
		BkGlobal.P.Rs = -1;
		BkGlobal.VA = b;
		BkGlobal.VM = a;
		BkGlobal.mB = c;
		BkUserClientSettings.$V(c)
	},
	i3: function() {
		this.$F()
	},
	wU: function() {
		if (isWebPlatform()) {
			var a = cc.game.config.app.G3,
				b = cc.game.config.app.D3,
				c = cc.game.config.app.F3;
			bk.isFbApp && (c = cc.game.config.app.kR);
			var d = cc.game.config.app.E3,
				a = "promo" + a,
				e = p(a, {
					timestamp: 0,
					promoCtn: 0
				});
			if (void 0 ==
				c || "" == c) 0 < e.Yv && za(a);
			else if (void 0 != b && "" != b && void 0 != d && "" != d && !(3 <= e.Yv)) {
				var f = e.timestamp,
					g = J(),
					h = Math.floor((g - f) / 1E3);
				86400 > h || (logMessage("lastTimeGetSetting " + f + " deltaTime " + h + " curentTime " + g), (new xn(b, c, d)).Oa(), e.Yv += 1, e.timestamp = J(), u(a, e))
			}
		}
	},
	xq: function() {
		var a = new BkPacket;
		a.zc(qi);
		BkConnectionManager.send(a)
	},
	$F: function() {
		var a = new BkPacket;
		a.zc(ph);
		BkConnectionManager.send(a)
	},
	Cx: function(a) {
		logMessage("DoGetProfilePlayer " + a);
		this.xa = new BkUserData;
		this.xa.userName = a;
		var b =
			new BkPacket;
		b.mp(a, Xf);
		BkConnectionManager.send(b)
	},
	QO: function(a) {
		var b = 0,
			c = 0,
			d = 0,
			e = 0;
		a.O.La() && (b = a.O.readByte(), c = a.O.da(), a.O.La() && (d = a.O.readInt()), a.O.La() && (e = a.O.readByte()));
		BkGlobal.P.UD(b);
		BkGlobal.P.AT(d);
		BkGlobal.P.cT(e);
		BkGlobal.P.cf(c);
		this.iq = e;
		this.hj();
		logMessage("numberOfUnreadMails: " + b + " avatarId: " + c + " numberOfUnreadEvent: " + d + " dropWordWeekIndex: " + e);
		this.Cx(BkGlobal.P.userName)
	},
	XO: function(a) {
		this.xa.ye = a.O.readInt();
		this.xa.Hb = a.O.da();
		this.xa.zz = a.O.da();
		this.xa.Dz = a.O.readByte();
		this.xa.pz = a.O.da();
		this.xa.oy = a.O.Ek();
		this.xa.vA = a.O.da();
		this.xa.status = a.O.da();
		this.xa.userName == BkGlobal.P.userName && (BkGlobal.P.cf(this.xa.Hb), BkGlobal.P.Mb(this.xa.ye), this.Is(this.xa.userName, Cb));
		logMessage("name " + this.xa.userName + " money: " + this.xa.ye + "- avID: " + this.xa.Hb + "- fullname: " + this.xa.zz + "- gender: " + this.xa.Dz + "- email:" + this.xa.pz + "- bird: " + this.xa.oy + "- address: " + this.xa.vA + "- status: " + this.xa.status);
		this.Ha(this.xa, a.Type);
		this.hj()
	},
	ud: function(a, b) {
		BkLogicManager.S().jb(null);
		console.log(b);
		console.log(a);
		switch (b) {
			case Mf:
				BkGlobal.Yn = !1;
				break;
			case Wh:
				BkGlobal.Yn = !1
		}
		t()
	},
	hj: function(a) {
		logMessage("processUpdateProfileUI " + a);
		this.dc() instanceof hb ? this.dc().kf(BkGlobal.P, a) : logMessage("gui not instanceof BkChooseGame and BkLobby-\x3e don't process update UI user profile")
	},
	LW: function(a) {
		var b = new BkPacket;
		b.mp(a, Zh);
		BkConnectionManager.send(b)
	},
	UO: function(a) {
		void 0 == this.xa && (logMessage("this.oUser \x3d\x3d undefined"), this.xa = new BkUserData);
		for (; a.O.La();) {
			logMessage("parse data player achievement " +
				this.xa.userName);
			this.xa.ya = a.O.readByte();
			this.xa.Cm = a.O.readInt();
			this.xa.vq = a.O.readInt();
			this.xa.cC = a.O.readInt();
			this.xa.ny = a.O.readInt();
			this.xa.aO = a.O.readInt();
			this.xa.e3 = a.O.readInt();
			var b = a.O.readInt();
			2147483647 != b && (b += 1);
			this.xa.Ta = b;
			this.xa.px = a.O.readInt();
			this.xa.du = a.O.readInt();
			this.xa.ww = a.O.readInt();
			logMessage("this.oUser.winCount " + this.xa.Cm)
		}
		this.Ha(this.xa, a.Type)
	},
	Is: function(a, b, c) {
		var d = new BkPacket;
		d.mp(a, Gg, b);
		BkConnectionManager.send(d);
		void 0 != c && (this.xa = c)
	},
	VO: function(a) {
		for (var b = [], c = a.O.readByte(); a.O.La();) {
			var d = new BkItemDetail;
			d.o1 = c;
			d.Ui = a.O.readByte();
			d.zG = a.O.Ek();
			logMessage("b2: " + d.Ui + " RemainingDate:" + d.zG);
			b.push(d)
		}
		if (c == Cb) this.xa.Ph = b, this.xa.PG(), this.xa.userName == BkGlobal.P.userName && (BkGlobal.P.Ph = b, null == BkGlobal.P.gr && this.Is(this.xa.userName, Db));
		else if (c == Db) this.xa.gr = b, this.xa.userName == BkGlobal.P.userName && (BkGlobal.P.gr = b, null == BkGlobal.P.fr && this.Is(this.xa.userName, Eb));
		else if (c == Eb && (this.xa.fr = b, this.xa.userName == BkGlobal.P.userName)) {
			BkGlobal.P.fr =
				b;
			for (var e = d = c = 0, f = 0, g = 0; g < b.length; g++) {
				var h = b[g];
				26 == h.Ui && (c = 1);
				33 == h.Ui && (d = 1);
				34 == h.Ui && (e = 1);
				35 == h.Ui && (f = 1)
			}
			BkGlobal.P.OD(c);
			BkGlobal.P.hT(d);
			BkGlobal.P.iT(e);
			BkGlobal.P.gT(f)
		}
		this.Xg && this.Xg.ud && this.Xg.ud(b, a.Type)
	},
	qZ: function(a, b) {
		var c = new BkPacket;
		c.DW(a, b);
		BkConnectionManager.send(c)
	},
	XP: function(a) {
		var b = this.PK(a);
		this.Ha(b, a.Type);
		ib(jb)
	},
	SP: function(a) {
		for (; a.O.La();) var b = a.O.da();
		this.Ha(b, a.Type)
	},
	PK: function(a) {
		for (var b = [], c = 0, d = 0, e = 0, f = "", g = 0, h = 0; a.O.La();) {
			var c = 1 == a.O.readByte(),
				d = a.O.readByte(),
				e = a.O.readInt(),
				f = a.O.da(),
				g = a.O.da(),
				h = a.O.readByte(),
				k = new BkUserData;
			k.Sr(c);
			k.Xh(e);
			k.yd(f);
			k.cf(g);
			k.Qr(h);
			k.om(!d);
			b.push(k)
		}
		return b
	},
	PQ: function(a) {
		var b = [];
		a.wG(b);
		this.Ha(b, a.Type)
	},
	mQ: function(a) {
		var b = {
			YA: -1,
			DZ: -1
		};
		a.cG(b);
		0 == b.YA || -1 == b.ya ? showToastMessage("Ng\u01b0\u1eddi ch\u01a1i \u0111\u00e3 tho\u00e1t kh\u1ecfi b\u00e0n.", cc.director.getWinSize().width / 2, cc.director.getWinSize().height / 2, null, 220) : showToastMessage("Kh\u00f4ng v\u00e0o \u0111\u01b0\u1ee3c b\u00e0n ch\u01a1i, xin h\u00e3y th\u1eed l\u1ea1i.",
			cc.director.getWinSize().width / 2, cc.director.getWinSize().height / 2, null, 250)
	},
	uQ: function(a) {
		var b = {
			QN: 0,
			Np: 0
		};
		b.QN = a.O.readByte();
		b.Np = a.O.readInt();
		0 < b.Np && (BkGlobal.P.Mb(BkGlobal.P.pb() + b.Np), this.hj(b.Np));
		this.Ha(b, a.Type)
	},
	St: function() {
		isWebPlatform() ? E.ly() : isFBInstantGame() ? BkFbInstant.y0() : (BkLogicManager.S().Iz(), n.Tt(mc))
	},
	Iz: function() {
		var a = new BkPacket;
		a.IF();
		BkConnectionManager.send(a)
	},
	PP: function(a) {
		a = a.O.readInt();
		if (0 < a)
			if (isWebPlatform()) {
				if (BkGlobal.Sa == T) {
					var b = BkLogicManager.oa().Ba();
					null != b && BkLogicManager.oa().zf(b, a * Cl(), "")
				} else BkGlobal.P.Mb(BkGlobal.P.pb() + a * Cl()), this.hj(a * Cl());
				this.TQ(a)
			} else this.Tk(a, hc);
		else showToastMessage("B\u1ea1n \u0111\u00e3 nh\u1eadn th\u01b0\u1edfng cho l\u1eddi m\u1eddi n\u00e0y r\u1ed3i")
	},
	m3: function(a) {
		null != a.qG() && E.ky(function(a) {
			console.log(a);
			var c = new BkPacket;
			c.yw(E.te, a, this.vs, a);
			BkConnectionManager.send(c)
		})
	},
	QP: function(a) {
		var b = this;
		E.ky(function(c) {
			b.yw(a, c)
		})
	},
	yw: function(a, b) {
		if (void 0 != b && null != b && 0 != b.length && !isFBInstantGame()) {
			var c =
				new BkPacket;
			c.eJ(a, b, this.vs);
			BkConnectionManager.send(c)
		}
	},
	tS: function(a) {
		this.vs = a.O.readByte()
	},
	TQ: function(a) {
		showToastMessage("B\u1ea1n \u0111\u01b0\u1ee3c c\u1ed9ng th\u00eam " + a * Cl() + " " + pn() + " v\u00e0o t\u00e0i kho\u1ea3n", cc.winSize.width / 2, cc.winSize.height / 2)
	},
	P5: function(a) {
		(new BkPromotionWd(a)).Oa()
	},
	sL: function(a) {
		var b = 0;
		if (null == a || 0 == a.length) return 0;
		for (var c = 0; c < a.length; c++) {
			var d = a[c];
			d.OE != d.az || d.ZA || b++
		}
		return b
	},
	O5: function(a) {
		var b = this;
		"" != a && showPopupConfirmWith(a, "",
			function() {
				b.vd.xB ? ((new VvPaymentWindow).Oa(), logMessage("initPaymentWD")) : b.vd.uB ? BkLogicManager.S().yO() : b.vd.yB && ((new VvRegisterPhoneNumberWindow).Oa(), logMessage("initRegisterPhoneNumberWD"))
			}, null,
			function() {
				b.vd.xB ? b.vd.NU++ : b.vd.uB ? b.vd.MU++ : b.vd.yB && b.vd.OU++
			})
	},
	R5: function() {
		var a = BkLogicManager.oa().WK();
		logMessage("showPromotionKick " + a);
		if (a != PLAYER_LEAVE_GAME) {
			var b = this,
				c = function() {
					b.Dw(!1)
				},
				d = function() {
					logMessage("showInviteBuy");
					b.dc().L5(c)
				};
			switch (a) {
				case OWNER_KICK:
				case RUN_OUT_OF_CASH_KICK:
				case LOW_CASH:
					b.Dw(!0);
					BkGlobal.P.pb() >= MIN_MONEY_SALE ? (logMessage("STR_INVITE_BUY_UNKICKABLE"), showPopupConfirmWith("B\u1ea1n v\u1eeba b\u1ecb \u0111u\u1ed5i kh\u1ecfi b\u00e0n.\nB\u1ea1n c\u00f3 mu\u1ed1n mua b\u1ea3o b\u1ed1i ch\u1ed1ng \u0111u\u1ed5i \u0111\u1ec3 kh\u00f4ng th\u1ec3 b\u1ecb \u0111u\u1ed5i?", "", d, c, c)) : showPopupMessageWith("B\u1ea1n v\u1eeba b\u1ecb \u0111u\u1ed5i kh\u1ecfi b\u00e0n.", "", c, c);
					break;
				case TIME_OUT_KICK:
				case UNREADY_TIMEOUT:
					b.Dw(!0), showPopupMessageWith("B\u1ea1n b\u1ecb \u0111u\u1ed5i do h\u1ebft th\u1eddi gian ch\u1edd.",
						"", c, c)
			}
			BkLogicManager.oa().Rr(PLAYER_LEAVE_GAME)
		}
	},
	JP: function(a) {
		var b = {};
		b.eZ = a.O.da();
		b.dZ = a.O.da();
		b.e6 = a.O.da();
		var c = a.O.readByte(),
			d = [],
			e = [],
			f = -1,
			g;
		if (a.O.La()) {
			for (g = 0; g < c; g++) f = a.O.readByte(), d.push(f);
			c = a.O.readByte();
			for (g = 0; g < c; g++) f = a.O.readByte(), e.push(f);
			if (a.O.La()) {
				f = [];
				c = a.O.readByte();
				for (g = 0; g < c; g++) {
					var h = {};
					h.e4 = a.O.da();
					h.content = a.O.da();
					h.b2 = a.O.readInt();
					h.c2 = a.O.readInt();
					f.push(h)
				}
				b.yU = f
			} else b.yU = null
		}
		b.D6 = d;
		b.E6 = e;
		d = 0;
		if (a.O.La()) {
			e = a.O.readByte();
			f = [];
			for (g = 0; g < e; g++) c =
				a.O.readInt(), f.push(c);
			b.M1 = f;
			f = [];
			c = [];
			for (g = 0; g < e; g++) h = a.O.readInt(), f.push(h), h = a.O.readInt(), c.push(h);
			b.kF = a.O.readInt();
			b.J1 = f;
			b.G1 = c;
			f = [];
			c = [];
			for (g = 0; g < e; g++) {
				var h = a.O.readInt(),
					k = a.O.readInt();
				f.push(h);
				c.push(k)
			}
			b.mF = a.O.readInt();
			b.L1 = f;
			b.I1 = c;
			f = [];
			c = [];
			for (g = 0; g < e; g++) h = a.O.readInt(), k = a.O.readInt(), f.push(h), c.push(k);
			b.K1 = f;
			b.H1 = c;
			b.lF = a.O.readInt();
			b.jF = a.O.readInt();
			b.lW = a.O.readInt();
			b.nF = a.O.readInt();
			d = Math.max(d, b.kF, b.mF, b.lF, b.jF, b.nF)
		}
		BkGlobal.sP = d;
		this.FV();
		this.Ha(b, a.Type)
	},
	Dw: function(a) {
		this.vd.yR = a
	},
	w3: function(a, b) {
		var c = new BkPacket;
		c.ZI(a, b);
		BkConnectionManager.send(c)
	},
	MK: function(a) {
		var b = [];
		for (a.O.readByte(); a.O.La();) {
			var c = a.O.readByte(),
				d = a.O.readInt(),
				e = a.O.readInt(),
				f = a.O.readInt(),
				g = 1 == a.O.readByte(),
				h = a.O.da(),
				k = new BkDailyTaskData;
			k.y4(c, d, e, f, g, h);
			b.push(k)
		}
		return b
	},
	VP: function(a) {
		var b = a.O.readByte(),
			c = a.O.readByte(),
			d = a.O.readByte(),
			e = a.O.readInt(),
			f = -1;
		a.O.La() && (f = a.O.readByte());
		logMessage("nextAdsRewardsTime: " + f);
		var g = {};
		g.ko = b;
		g.Nm = c;
		g.Om =
			d;
		g.yo = e;
		g.xo = f;
		logMessage("obj.nextAdsRewardsTime: " + g.xo);
		this.Ha(g, a.Type)
	},
	LK: function(a) {
		var b = new BkDailyTaskData,
			c = a.O.readByte(),
			d = a.O.readInt(),
			e = a.O.readByte(),
			f = a.O.readInt(),
			g = a.O.readInt(),
			h = a.O.readInt(),
			k = 1 == a.O.readByte();
		a = a.O.da();
		b.j4(c, d, e, f, g, h, k, a);
		return b
	},
	q3: function() {
		var a = new BkPacket;
		a.zc(ag);
		BkConnectionManager.send(a)
	},
	$P: function(a) {
		var b = [];
		a.Dx(1, b);
		this.Ha(b, a.Type)
	},
	r3: function() {
		var a = new BkPacket;
		a.zc(cg);
		BkConnectionManager.send(a)
	},
	aQ: function(a) {
		var b = [];
		a.Dx(2,
			b);
		this.Ha(b, a.Type)
	},
	A3: function(a, b, c) {
		var d = new BkPacket;
		d.TF(a, b, c);
		BkConnectionManager.send(d)
	},
	QQ: function(a) {
		this.Ha(null, a)
	},
	p3: function(a) {
		var b = new BkPacket;
		b.AF(a);
		BkConnectionManager.send(b)
	},
	bQ: function(a) {
		var b = new BkMailInfo;
		a.dG(b);
		this.Ha(b, a.Type)
	},
	l3: function(a) {
		var b = new BkPacket;
		b.xF(a);
		BkConnectionManager.send(b)
	},
	o3: function(a) {
		var b = new BkPacket;
		b.zF(a);
		BkConnectionManager.send(b)
	},
	ZP: function(a) {
		var b = {
			fG: null,
			ZF: null,
			iG: null
		};
		a.mG(b);
		this.Ha(b, a.Type)
	},
	j3: function(a) {
		var b =
			new BkPacket;
		b.uF(a);
		BkConnectionManager.send(b)
	},
	GP: function(a) {
		var b = {
			HB: 0
		};
		a.lG(b);
		this.Ha(b.HB, a.Type)
	},
	FP: function(a) {
		var b = {
			reason: null
		};
		a.jG(b);
		this.Ha(b.reason, a.Type)
	},
	iz: function(a) {
		s();
		this.mn = a;
		var b = new BkPacket;
		b.oJ(a);
		BkConnectionManager.send(b)
	},
	NO: function(a) {
		logMessage("onJoinWebGameRoom");
		t();
		BkGlobal.ja = this.mn;
		var b = a.O.readByte(),
			c = a.O.readByte();
		logMessage("currentRoomID: " + b + " numberRoom: " + c + " currentGameID: " + BkGlobal.ja + " crGame: " + this.mn);
		BkGlobal.wf = b;
		var d, e, f = [];
		for (d =
			0; d < c; d++) e = new BkRoomData, e.percent = a.O.readByte(), e.Od = a.O.readByte(), logMessage("percent: " + e.percent + " roomID: " + e.Od), f.push(e);
		for (d = 0; d < c; d++)
			if (e = f[d], e.Od == b) {
				var g = f[0];
				f[0] = e;
				f[d] = g
			} e = a.O.readByte();
		logMessage("maxTable: " + e);
		e = Math.abs(e);
		for (g = []; a.O.La();) {
			d = new BkTableData;
			d.rg = a.O.readByte();
			d.ac = a.O.readInt();
			var h = a.O.readByte();
			d.yk = h & 7;
			d.dj = (h & 56) >> 3;
			d.bk = (h & 64) >> 6;
			d.Ub = (h & 128) >> 7;
			g.push(d)
		}
		a = [];
		for (d = 0; d < e; d++) a.push(!1);
		for (d = 0; d < g.length; d++) a[g[d].rg] = !0;
		for (h = d = 0; h < e; h++)
			if (!a[h]) {
				var k =
					new BkTableData;
				k.rg = h;
				k.dj = getMaxPlayer(BkGlobal.ja);
				g.push(k);
				d++
			} if (-1 == this.nf || this.nf >= 3 * c) this.nf = 0;
		else if (a = Math.floor(this.nf / 3), logMessage("iSTT: " + a + " STTCurrentRoom: " + this.nf), h = f[a], logMessage("iSTT roomID: " + h.Od + " currRoomID: " + b), h.Od != b) {
			var m, r;
			for (d = 0; d < c; d++)
				if (k = f[d], k.Od == b) {
					m = d;
					r = k;
					break
				} f[a] = r;
			f[m] = h
		}
		g.sort(function(a, b) {
			return b.ac - a.ac
		});
		null == this.kc && (this.kc = new BkLobbyRoomData);
		this.kc.SN = e;
		this.kc.DN = f;
		this.kc.IJ();
		this.kc.EN = g;
		this.kc.JJ();
		logMessage("switchToSceneWithGameState(GS.CHOOSE_TABLE)");
		BkGlobal.Sa != gj ? (this.nf = 0, switchToSceneWithGameState(gj)) : (logMessage("BkGlobal.currentGS !\x3d GS.CHOOSE_TABLE | currentGS: " + BkGlobal.Sa), b = getCurrentScene(), null != b ? b instanceof VvLobby ? b.lE() : logMessage("crScene not instanceof  BkLobby -\x3e error recheck!!!!!!!!!!!") : logMessage("crScene \x3d\x3d null"));
		S(D.LB, BkGlobal.ja)
	},
	cX: function(a) {
		a.Od != BkGlobal.wf ? this.QJ(BkRoomTypeUtils.P_(a.Od), a.Od) : this.dc().lE()
	},
	z3: function(a) {
		var b = new BkPacket;
		b.SF(a);
		BkConnectionManager.send(b)
	},
	O2: function(a) {
		if (null ==
			this.kc) logMessage("onReceive packet before receiving packet get list table -\x3e reject packet");
		else {
			var b = a.O.readByte();
			a = a.O.readByte();
			this.kc.H6(b, a);
			this.dc() instanceof VvLobby ? this.dc().mX(b, a) : logMessage("BkLobby not onEnterTransitionDidFinish -\x3e reject packet")
		}
	},
	N2: function(a) {
		if (null == this.kc) logMessage("onReceive packet before receiving packet get list table -\x3e reject packet");
		else {
			var b = a.O.readByte();
			a = a.O.readByte();
			this.kc.L6(b, a);
			this.dc() instanceof VvLobby ? this.dc().lX(b,
				a) : logMessage("BkLobby not onEnterTransitionDidFinish -\x3e reject packet")
		}
	},
	M2: function(a) {
		if (null == this.kc) logMessage("onReceive packet before receiving packet get list table -\x3e reject packet");
		else {
			var b = new BkTableData;
			b.rg = a.O.readByte();
			b.ac = a.O.readInt();
			var c = a.O.readByte();
			b.Gm = a.O.readByte();
			b.yk = c & 7;
			b.dj = (c & 56) >> 3;
			b.bk = (c & 64) >> 6;
			b.Ub = (c & 128) >> 7;
			logMessage("onTableSettingUpdatePush: " + b.toString());
			this.kc.O6(b);
			this.dc() instanceof VvLobby ? this.dc().nX(b) : logMessage("BkLobby not onEnterTransitionDidFinish -\x3e reject packet")
		}
	},
	bX: function(a) {
		var b = a.O,
			c = b.readInt(),
			d = b.readInt(),
			e = b.readInt() + 1,
			f = b.readByte(),
			g = b.readByte(),
			h = [],
			k;
		for (k = 0; k < g; k++) h.push(b.readByte());
		k = CXuongCuocWindow.pL(h);
		logMessage("myVipLV:-1myLV: " + c + " myPoint: " + d + " myPosition: " + e + " myAvar: " + f + " cuocCount: " + g + " myStringCuoc: " + k);
		g = new BkUserData;
		g.yd(BkGlobal.P.userName);
		g.Mb(BkGlobal.P.pb());
		g.cf(f);
		g.Xh(c);
		g.Jw(e);
		g.aE(d);
		g.HD(k);
		g.Rs = -1;
		for (c = []; b.La();) {
			var d = b.da(),
				e = b.readInt(),
				f = b.readByte(),
				h = b.readInt(),
				m = b.readInt(),
				r = b.readByte(),
				w = b.readByte(),
				C = [];
			for (k = 0; k < w; k++) C.push(b.readByte());
			k = CXuongCuocWindow.pL(C);
			logMessage("playerName: " + d + " point: " + e + " avatar: " + f + " level: " + h + " money: " + m + " isFriend: " + r + " playerCuocCount: " + w + " playerStringCuoc:" + k + " VipLevel:-1");
			r = new BkUserData;
			r.yd(d);
			r.cf(f);
			r.Xh(h);
			r.Mb(m);
			r.Jw(c.length + 1);
			r.aE(e);
			r.HD(k);
			r.Rs = -1;
			c.push(r)
		}
		c.push(g);
		this.Ha({
			tP: c
		}, a.Type)
	},
	dR: function(a) {
		var b = [],
			c = new BkUserData;
		c.Ta = a.O.readInt();
		2147483647 != c.Ta && (c.Ta += 1);
		c.Hb = a.O.da();
		c.$c = a.O.readInt();
		c.yd(BkGlobal.P.userName);
		c.Mb(BkGlobal.P.pb());
		for (var d = 0; a.O.La();) {
			d++;
			var e = new BkUserData;
			e.userName = a.O.da();
			e.ye = a.O.readInt();
			e.Hb = a.O.da();
			e.Hl = 1 == a.O.readByte();
			e.$c = a.O.readInt();
			e.Ta = d;
			b.push(e)
		}
		this.Ha({
			WN: c,
			qS: b
		}, a.Type)
	},
	eR: function(a) {
		var b = [],
			c = new BkUserData;
		c.Ta = a.O.readInt();
		2147483647 != c.Ta && (c.Ta += 1);
		c.Hb = a.O.da();
		c.yd(BkGlobal.P.userName);
		c.Mb(BkGlobal.P.pb());
		for (var d = 0; a.O.La();) {
			d++;
			var e = new BkUserData;
			e.userName = a.O.da();
			e.ye = a.O.readInt();
			e.Hb = a.O.da();
			e.Hl = 1 == a.O.readByte();
			e.Ta = d;
			b.push(e)
		}
		this.Ha({
			WN: c,
			qS: b
		}, a.Type)
	},
	NQ: function(a) {
		var b = a.O.readByte();
		a = a.O.readByte();
		logMessage("BkCommonLogic - processRestartReturn - isAppliedOpenAppAds: " + b);
		logMessage("BkCommonLogic - processRestartReturn - isShowOpenAppAds: " + a);
		BkGlobal.PA = 0 < b ? !0 : !1;
		BkGlobal.nv = 0 < a ? !0 : !1
	},
	LP: function(a) {
		var b = {};
		b.Zg = a.O.da();
		b.pj = a.O.da();
		b.Wj = a.O.readInt();
		b.tj = a.O.da();
		console.log("playerId: ", b.Zg);
		console.log("tempPassword: ", b.pj);
		console.log("expiredInMinutes: ", b.Wj);
		console.log("urlInfor: ", b.tj);
		this.Ha(b, a.Type)
	},
	SQ: function(a) {
		a = a.O.readByte();
		logMessage("BkCommonLogic - processShowOpenAppAdsReturn - isShowOpenAppAds: " + a);
		BkGlobal.nv = 0 < a ? !0 : !1
	},
	k3: function(a) {
		this.eD(a)
	},
	jQ: function(a, b) {
		var c = {
				iv: !0
			},
			d = b.O.readInt();
		logMessage("CoTuong - CoUp processPlayerHistoryReturn - lengths of game: " + d);
		for (var e = [], f = 0; f < d; f++) e.push(this.uR(b, f));
		c.DD = e;
		c.ya = a;
		this.Ha(c, b.Type)
	},
	uR: function(a, b) {
		var c = {};
		c.id = b;
		c.$o = a.O.da();
		c.ya = c.$o.substring(0, 2);
		c.vg = a.O.readByte();
		c.Di = a.O.da();
		c.xD = a.O.da();
		c.Ho = a.O.Ek();
		console.log("readViewedTableSession - session: ", c);
		return c
	},
	iQ: function(a, b) {
		var c = {
				iv: !0
			},
			d = b.O.readInt();
		logMessage("CoTuong - CoUp processPlayerHistoryReturn - lengths of game: " + d);
		for (var e = [], f = 0; f < d; f++) e.push(this.qR(b, f));
		c.DD = e;
		c.ya = a;
		this.Ha(c, b.Type)
	},
	qR: function(a, b) {
		var c = {};
		c.id = b;
		c.$o = a.O.da();
		c.ya = c.$o.substring(0, 2);
		c.vg = a.O.readByte();
		c.Vv = a.O.da();
		c.Ho = a.O.Ek();
		c.yz = a.O.da();
		c.Kl = c.Vv != c.yz;
		console.log("readPlayedTableSession - session: ", c);
		return c
	},
	YP: function(a) {
		console.log("CheckTime - receive message: ",
			(new Date).getTime());
		t();
		var b = {};
		if (a.O.readByte() == lj) showPopupMessageWith("Kh\u00f4ng t\u00ecm th\u1ea5y l\u1ecbch s\u1eed game tr\u00ean server", "Th\u00f4ng b\u00e1o");
		else {
			b.ya = a.O.readByte();
			b.yz = a.O.da();
			b.b4 = a.O.da();
			b.vg = a.O.readByte();
			console.log("processGetGameHistoryDetailReturn - session.winnerPosition: " + b.vg);
			b.tK = a.O.readByte();
			b.Ho = a.O.Ek();
			for (var c = [], d = a.O.readInt(), e = 0; e < d; e++) {
				var f = a.O.readByte();
				c.push(f)
			}
			console.log("encryptMoves: ", c);
			b.Na = this.GJ(c, b.ya);
			b.WC = this.kD(a,
				Ib);
			b.XC = this.kD(a, Jb);
			b.ya == L && (b.lD = this.rR(a), b.wR = this.sR(b));
			console.log("processGetGameHistoryDetailReturn session: ", JSON.stringify(b));
			switchToSceneWithGameState(jj, null, null, b);
			console.log("CheckTime - receive message after: ", (new Date).getTime())
		}
	},
	sR: function(a) {
		var b = [];
		a = a.lD;
		for (var c = 0; c < a.length; c++) {
			var d = (new BkChessPiece(a[c])).Ja;
			b.push(d)
		}
		return b
	},
	rR: function(a) {
		for (var b = [], c = a.O.readInt(), d = 0; d < c; d++) b.push(a.O.readByte());
		return b
	},
	OQ: function() {
		showToastMessage("V\u00e1n \u0111\u1ea5u s\u1ebd \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i khi k\u1ebft th\u00fac. \n B\u1ea1n c\u00f3 th\u1ec3 xem l\u1ea1i trong ch\u1ee9c n\u0103ng l\u1ecbch s\u1eed!",
			null, null, null, 0.45 * cc.winSize.width)
	},
	kD: function(a, b) {
		var c = new BkUserData;
		c.yd(a.O.da());
		c.cf(a.O.da());
		c.Ai = a.O.readInt();
		c.Bi = a.O.readInt();
		c.Xh(c.Ai);
		c.pa = b;
		return c
	},
	GJ: function(a, b) {
		var c = "",
			d = a.length,
			e;
		e = b == K ? mj : nj;
		for (var d = d / e, f = 0; f < d; f++) {
			var g = {};
			g.id = f;
			g.wm = this.uL(a[f * e], a[f * e + 1]);
			g.Fa = a[f * e + 2];
			g.uz = a[f * e + 3];
			g.he = b == K ? (new BkChessPiece(g.Fa)).Ja : a[f * e + 4];
			g.TC = yn(g.Fa);
			g.SC = zn(g.Fa);
			g.toString = function() {
				return JSON.stringify(g)
			};
			console.log("decryptMovements - movements[" + f + "]: ",
				g);
			c += g.toString() + (f < d - 1 ? "#" : "")
		}
		return c
	},
	uL: function(a, b) {
		for (var c = new Int8Array([0, 0, a, b]), d = new ArrayBuffer(4), d = new DataView(d), e = 0; e < c.length; e++) d.setInt8(e, c[e]);
		return d.getInt32(0)
	},
	cR: function(a) {
		logMessage("CoTuong - CoUp top players");
		for (var b = a.O.readInt(), c = a.O.readInt(), d = [], e = 0; e < c; e++) d.push(this.tR(a));
		console.log("processTopPlayersReturn - gameId \x3d " + b);
		console.log("processTopPlayersReturn - players \x3d ", d);
		this.Ha(d, a.Type, b)
	},
	tR: function(a) {
		var b = new BkUserData;
		b.yd(a.O.da());
		b.Sr(a.O.readByte());
		b.cf(a.O.da());
		b.re = a.O.readInt();
		b.Qr(a.O.readByte());
		b.Xh(b.re);
		return b
	},
	eD: function(a) {
		t();
		if (a.O.readByte()) {
			var b = a.O.readInt(),
				c = a.O.readByte();
			logMessage("CoTuong - CoUp processPlayerHistoryReturn - kindHistory: " + c);
			0 == c ? this.iQ(b, a) : 1 == c && this.jQ(b, a)
		} else this.Ha({
			iv: !1
		}, a.Type), showPopupMessageWith("Ch\u1ee9c n\u0103ng \u0111ang b\u1ea3o tr\u00ec. Vui l\u00f2ng th\u1eed l\u1ea1i sau!", "")
	},
	sQ: function(a) {
		t();
		var b = a.O.readByte(),
			c = a.O.da();
		a = a.O.da();
		b ? (console.log("relogin - userName: " +
			c + "password: " + a), Aa(), S(D.He, JSON.stringify({
			username: c,
			password: a,
			isLoginFacebook: !1
		})), eb()) : showToastMessage("T\u00ean t\u00e0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\u00f4ng \u0111\u00fang")
	},
	VQ: function(a) {
		t();
		a = a.O.readByte();
		logMessage("NETWORK_TABLE_JOIN_FAILURE with errorType: " + a);
		a == Nj ? this.vd.io ? (this.vd.io = !1, showToastMessage(zl)) : null == this.QU && showToastMessage(xl(a), null, null, null, 270) : showToastMessage(xl(a), null, null, null, 270)
	},
	H4: function(a) {
		this.tv = a
	},
	x3: function(a) {
		if (this.dc() instanceof VvLobby) {
			var b = a.O.readByte(),
				c = a.O.readByte(),
				d = a.O.readInt();
			a = a.O.da();
			logMessage("offeredRoomId: " + b + " offeredTableId: " + c + " betMoney: " + d + " invitationPlayer: " + a);
			this.dc().V5(b, c, d, a)
		} else logMessage("BkLobby not onEnterTransitionDidFinish -\x3e reject packet")
	},
	xG: function(a) {
		logMessage("ProcessTableJoinSuccess: ");
		t();
		BkGlobal.ja = a.O.readByte();
		BkGlobal.wf = a.O.readByte();
		BkGlobal.Rj = a.O.readByte();
		logMessage("ProcessTableJoinSuccess: BkGlobal.currentGameID: " + BkGlobal.ja);
		BkGlobal.mk = !1;
		BkGlobal.Zq ?
			(console.log("BkGlobal.isWaitingCreateTableByInviteFriend: ", BkGlobal.Zq), switchToSceneWithGameState(T, null, !1)) : switchToSceneWithGameState(T);
		BkGlobal.Zq = !1
	},
	ip: function(a, b, c) {
		var d = "",
			e = "";
		b == lk ? (e = "B\u1ea1n v\u1eeba \u0111\u01b0\u1ee3c Admin c\u1ed9ng " + convertStringToMoneyFormat(a) + " " + V.toLowerCase(), d = "Admin c\u1ed9ng ti\u1ec1n") : b == mk ? (e = "B\u1ea1n \u0111\u01b0\u1ee3c c\u1ed9ng " + convertStringToMoneyFormat(a) + " tim.", d = "", b = 15E3, cc.game.config.app && cc.game.config.app.zR && (b = cc.game.config.app.zR),
			cc.isUndefined(bk.ry) || "" == bk.ry || (b = bk.ry), a == b ? (e = "\u0110\u0103ng k\u00fd s\u1ed1 \u0111i\u1ec7n tho\u1ea1i th\u00e0nh c\u00f4ng. B\u1ea1n \u0111\u01b0\u1ee3c c\u1ed9ng " + convertStringToMoneyFormat(a) + " tim.", d = "\u0110\u0103ng k\u00fd s\u1ed1 \u0111i\u1ec7n tho\u1ea1i th\u00e0nh c\u00f4ng.") : (logMessage("send sms success -\x3e get data bonus"), b = new BkPacket, b.bG(0), BkConnectionManager.send(b))) : b == nk && (e = "B\u1ea1n \u0111\u01b0\u1ee3c c\u1ed9ng " + convertStringToMoneyFormat(a) + " tim.", d = "");
		void 0 !=
			c && (d = e = c);
		BkGlobal.Sa == T ? (logMessage("incress money ingame"), c = BkLogicManager.oa().Ba(), null != c ? BkLogicManager.oa().zf(c, a, d) : BkGlobal.P.Mb(BkGlobal.P.pb() + a)) : (BkGlobal.P.Mb(BkGlobal.P.pb() + a), showPopupMessageWith(e), this.hj(a))
	},
	AQ: function(a) {
		a = a.O.readByte();
		a = qn("M\u00e1y ch\u1ee7 s\u1ebd kh\u1edfi \u0111\u1ed9ng l\u1ea1i trong v\u00f2ng \x26*\x26 ph\u00fat. Xin vui l\u00f2ng tho\u00e1t kh\u1ecfi tr\u00f2 ch\u01a1i v\u00e0 quay tr\u1edf l\u1ea1i sau \u00edt ph\u00fat.", [a]);
		showPopupMessageWith(a,
			"Quan tr\u1ecdng")
	},
	KQ: function(a) {
		a = a.O.da();
		showPopupMessageWith(a)
	},
	LQ: function(a) {
		var b = a.O.readByte();
		this.Vb(a.Type) && BkConnectionManager.hb();
		b == $k ? showPopupConfirmWith("B\u1ea1n ch\u01b0a \u0111\u1ed5i t\u00ean t\u00e0i kho\u1ea3n, h\u00e3y \u0111\u1ed5i t\u00ean \u0111\u1ec3 b\u1ea1n b\u00e8 t\u00ecm b\u1ea1n d\u1ec5 d\u00e0ng h\u01a1n!", "", function() {
			(new BkRenameWindow).Oa()
		}) : b == Zk && showPopupConfirmWith("B\u1ea1n ch\u01b0a li\u00ean k\u1ebft t\u00e0i kho\u1ea3n Facebook, h\u00e3y li\u00ean k\u1ebft \u0111\u1ec3 ch\u01a1i c\u00f9ng v\u1edbi b\u1ea1n b\u00e8!",
			"",
			function() {
				isWebPlatform() || n.Tt()
			})
	},
	jL: function() {
		var a = p("isRatedApp", 0);
		logMessage("getRateAppRewarded isRated: " + a);
		a && this.kz(Vj)
	},
	kz: function(a) {
		var b = new BkPacket;
		b.Xy(hh, a);
		BkConnectionManager.send(b)
	},
	JQ: function(a) {
		logMessage("processRateApp");
		var b = a.O.readByte();
		if (b == Zj) {
			var b = "H\u00e3y b\u00ecnh ch\u1ecdn 5* cho C\u1edd Ziga \u0111\u1ec3 c\u1ed9ng \u0111\u1ed3ng C\u1edd Ziga ng\u00e0y c\u00e0ng ph\u00e1t tri\u1ec3n!",
				c = "";
			a.O.La() && (b = a.O.da(), c = a.O.da());
			logMessage("subEventCode RATE_APP.APP_PUSH: " +
				b + " noteContent: " + c);
			(new BkRateAppWindow("B\u1ea1n c\u00f3 y\u00eau th\u00edch C\u1edd Ziga kh\u00f4ng?", b, c)).Oa()
		} else b == Wj ? (om(0), logMessage("subEventCode RATE_APP.SUCCESS: " + Wj), a = a.O.readInt(), 0 < a && this.Tk(a, jc)) : b == Xj && (om(0), logMessage("subEventCode RATE_APP.FAILURE: " + Xj))
	},
	CQ: function(a) {
		var b = a.O.readByte();
		logMessage("NETWORK_PLAY_WITH_FRIEND_INFORM subEventCode: " + b);
		0 == b ? (b = {}, b.ya = a.O.readByte(), b.Uu = a.O.da(), b.re = a.O.readInt(), b.rf = a.O.da(), 1 > BkGlobal.P.pb() ? showPopupMessageWith(kn +
			Yl) : this.LT(b)) : 1 == b && (t(), b = a.O.readByte(), -1 != b && (b == Rj && (BkGlobal.Zq = !0), null != this.Xg ? this.Xg.ud(b, a.Type) : b != Rj && showPopupMessageWith(Ql(b))))
	},
	WJ: function(a, b, c) {
		null == BkGlobal.P && (BkGlobal.P = new BkUserData);
		BkGlobal.isLoginFacebook = !1;
		BkGlobal.P.userName = a;
		BkGlobal.P.password = b;
		BkGlobal.P.Zp = c;
		var d = new BkPacket;
		d.MF(a, b, bk.cpid, c, bk.Uk);
		BkConnectionManager.send(d)
	},
	n3: function(a, b) {
		var c = new BkPacket;
		c.JF(a, b);
		BkConnectionManager.send(c)
	},
	pZ: function() {
		this.ev = !0;
		var a = new BkPacket;
		a.zc(Zd);
		BkConnectionManager.send(a)
	},
	y3: function(a) {
		logMessage("processRegisterPhoneNumber");
		this.Ha(a, a.Type)
	},
	AJ: 0,
	c4: function(a, b, c) {
		this.AJ = b;
		var d = new BkPacket;
		d.bJ(a, b, c);
		BkConnectionManager.send(d)
	},
	rQ: function(a) {
		logMessage("processLodeReturn");
		a.O.readByte() == bj && (a = a.O.readInt(), logMessage("delta " + a), 0 < a ? this.ip(a, void 0, "Tr\u00fang l\u00f4") : -10 > a ? (showToastMessage("\u0110\u1eb7t c\u01b0\u1ee3c th\u00e0nh c\u00f4ng.Ch\u00fac m\u1eebng b\u1ea1n!"), this.ip(a)) : (a = -a, 0 <= a && a < dj && showToastMessage(ej[a])))
	},
	BP: function(a) {
		this.Ha(null, a)
	},
	s3: function(a) {
		this.TM = !1;
		null != a && void 0 != a && a()
	},
	yO: function() {
		logMessage("onClickInviteFBFriend");
		null != this.wj && (logMessage("this.FBInviteWD !\x3d null -\x3e removeSelf"), this.wj = null)
	},
	p2: function() {
		logMessage("onClickInviteFBFriendDesktop");
		null != this.wj && (logMessage("this.FBInviteWD !\x3d null -\x3e removeSelf"), this.wj = null)
	},
	xC: function() {
		logMessage("onGetInvitableListFinished");
		null == this.wj && (logMessage("init BkFBInviteFriendWD"), this.wj = new BkFBInviteFriendWD,
			bk.isFbApp && cc.screen.fullScreen() && cc.screen.exitFullScreen(), this.wj.Oa(), this.wj.visible = !1)
	},
	u0: function(a, b, c, d, e, f, g, h) {
		(new VvPaymentBonusWindow(a, b, c, d, e, f, g, h)).Oa()
	},
	KA: function(a, b, c, d, e, f) {
		(new BkNotifyContentWindow(a, b, c, d, e, f)).Oa()
	},
	LT: function(a) {
		void 0 != this.Wn && this.Wn.removeSelf(!0);
		this.Wn = new BkFriendInviteConfirm(a);
		this.Wn.Oa()
	},
	o6: null,
	yQ: function(a) {
		var b = a.O.readByte(),
			c = a.O.readByte(),
			d = "";
		if (2 === c || 3 === c) d = a.O.da();
		var e = -1,
			f = "";
		2 === b && (e = a.O.readByte(), 2 === e || 3 === e) &&
			(f = a.O.da());
		if (5 !== c && 5 !== e || !isWebPlatform()) a = a.O.da(), this.KA(a, b, c, d, e, f)
	},
	FV: function() {
		var a = getCurrentScene();
		a && a.ka && a.ka().FX()
	},
	VE: function(a, b) {
		var c = getCurrentScene();
		c instanceof VvLobby && c.ka().VE(a, b)
	},
	fR: function(a) {
		if (null == this.kc) logMessage("onReceive packet before receiving packet get list table -\x3e reject packet");
		else {
			var b = a.O.readByte(),
				c = a.O.readByte();
			a = c & 1;
			var d = 0 == (c & 4) >> 2,
				c = 1 == (c & 8) >> 3;
			this.kc.AV(b, a, d, c);
			var e = this.dc();
			e instanceof VvLobby && e.ka().AV(b, a, d, c)
		}
	},
	C3: function(a) {
		var b = a.O.readByte();
		this.Ha(b, a.Type)
	},
	xQ: function(a) {
		var b = a.O.readInt();
		a = a.O.da();
		BkGlobal.P.Mb(BkGlobal.P.pb() + b);
		this.hj(b);
		showPopupMessageWith(a, "Th\u00f4ng b\u00e1o")
	},
	uG: function(a) {
		var b = new BkUserData;
		b.cf(a.O.ih());
		b.om(a.O.readByte());
		b.ND(a.O.readInt());
		b.Io = [];
		var c = a.O.readInt(),
			d = a.O.readInt(),
			e = a.O.readInt(),
			f = a.O.readInt(),
			c = new BkPlayerAchievement(K, c, d, e, f);
		b.Io.push(c);
		c = a.O.readInt();
		d = a.O.readInt();
		e = a.O.readInt();
		f = a.O.readInt();
		c = new BkPlayerAchievement(L,
			c, d, e, f);
		b.Io.push(c);
		b.Qr(BkGlobal.ja);
		this.Ha(b, a.Type)
	},
	eQ: function() {
		function a() {
			BkConnectionManager.dg();
			cc.game.restart()
		}
		logMessage("processGetSyncFacebookReturn");
		showPopupMessageWith("b\u1ea1n \u0111\u00e3 \u0111\u1ed3ng b\u1ed9 t\u00e0i kho\u1ea3n th\u00e0nh c\u00f4ng!", "", a, a, null)
	},
	Dc: function(a, b) {
		showPopupMessageWith(a, "", null, b, null)
	},
	KT: function(a) {
		(new BkChooseAccountWindow(a)).Oa()
	},
	qQ: function(a) {
		t();
		var b = this;
		logMessage("processLinkPlayerAccount");
		var c = a.O.readByte(),
			d = a.O.readByte();
		logMessage("subEvent: " + c + " - codeRtn: " + d);
		if (c == uk) b.Ha(uk, a.Type);
		else switch (d) {
			case vk:
				c == rk ? (BkGlobal.fo = !0, BkGlobal.hk = !0, this.Dc("B\u1ea1n \u0111\u00e3 li\u00ean k\u1ebft t\u00e0i kho\u1ea3n th\u00e0nh c\u00f4ng!", function() {
					logMessage("close popup dong bo tai khoan -\x3e restart game");
					BkConnectionManager.dg();
					cc.game.restart()
				}), n.rb(zc)) : c == sk ? this.Dc("B\u1ea1n \u0111\u00e3 \u0111\u1ed5i t\u00ean \u0111\u0103ng nh\u1eadp th\u00e0nh c\u00f4ng!", function() {
					logMessage("BkGlobal.tempData: " +
						BkGlobal.ap);
					BkGlobal.P.yd(BkGlobal.ap);
					BkGlobal.ap = null;
					BkGlobal.no = !1;
					b.dc().kf(BkGlobal.P);
					b.Ha(Fk, a.Type)
				}) : c == tk && this.eQ(a);
				break;
			case wk:
				this.Dc("T\u00e0i kho\u1ea3n facebook c\u1ee7a b\u1ea1n kh\u00f4ng h\u1ee3p l\u1ec7. Vui l\u00f2ng th\u1eed l\u1ea1i.");
				n.fS();
				break;
			case xk:
				c = {};
				c.xk = a.O.da();
				c.jt = a.O.da();
				c.tn = a.O.readInt();
				c.ew = a.O.readInt();
				c.vl = a.O.readInt();
				c.cw = a.O.readInt();
				c.kq = a.O.readInt();
				c.dw = a.O.readInt();
				c.lq = a.O.readInt();
				c.bw = a.O.readInt();
				logMessage("nameLinked: " + c.xk +
					" avatarLinked: " + c.jt + " eloCotuongLinked: " + c.tn + " rankCotuongLinked: " + c.ew + " eloCoupLinked: " + c.vl + " rankCoUpLinked:" + c.cw);
				logMessage("eloCotuong: " + c.kq + " rankCotuong: " + c.dw + " eloCoup: " + c.lq + " rankCoUp: " + c.bw);
				this.KT(c);
				break;
			case yk:
				this.Dc("T\u00e0i kho\u1ea3n \u0111\u00e3 \u0111\u01b0\u1ee3c li\u00ean k\u1ebft t\u1edbi m\u1ed9t t\u00e0i kho\u1ea3n Facebook kh\u00e1c!");
				break;
			case zk:
				c = qn("T\u00ean \u0111\u0103ng nh\u1eadp \x26*\x26 \u0111\u01b0\u1ee3c \u0111\u0103ng k\u00fd qua Facebook.\n B\u1ea1n kh\u00f4ng th\u1ec3 li\u00ean k\u1ebft \u0111\u01b0\u1ee3c v\u1edbi t\u00ean \u0111\u0103ng nh\u1eadp n\u00e0y",
					[this.fa.getString()]);
				this.Dc(c);
				break;
			case Ak:
				this.Dc("T\u00ean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u t\u00e0i kho\u1ea3n li\u00ean k\u1ebft kh\u00f4ng \u0111\u00fang.\n Vui l\u00f2ng nh\u1eadp l\u1ea1i!");
				break;
			case Bk:
				this.Dc("B\u1ea1n ch\u01b0a nh\u1eadp t\u00ean \u0111\u0103ng nh\u1eadp");
				break;
			case Ck:
				this.Dc("B\u1ea1n kh\u00f4ng th\u1ec3 \u0111\u1ed5i t\u00ean \u0111\u01b0\u1ee3c n\u1eefa v\u00ec \u0111\u00e3 \u0111\u1ed5i t\u00ean r\u1ed3i!");
				break;
			case Dk:
				this.Dc("T\u00ean b\u1ea1n ch\u1ecdn \u0111\u00e3 c\u00f3 ng\u01b0\u1eddi \u0111\u0103ng k\u00fd. H\u00e3y ch\u1ecdn m\u1ed9t t\u00ean kh\u00e1c.")
		}
	},
	zD: function() {
		var a = new BkPacket;
		a.zc(zi);
		BkConnectionManager.send(a)
	},
	Tk: function(a, b) {
		logMessage("updateHeartUI: " + a + " - reason" + b);
		BkGlobal.P.Mb(BkGlobal.P.pb() + a);
		var c = getCurrentScene();
		if (c) {
			var d = null,
				d = c instanceof hb ? c.Se : c.ka();
			d.kx(a, b)
		}
	},
	hQ: function(a) {
		var b = a.O.readInt();
		a = a.O.readInt();
		logMessage("heartNumber: " + b + " intCountdountTime: " + a);
		this.bD(a);
		this.Tk(b, fc)
	},
	MP: function(a) {
		n.rb(Bc);
		var b = a.O.readInt(),
			c = a.O.readByte(),
			d = -1,
			e = -1;
		0 <= c ? d = a.O.readByte() : e = a.O.readInt();
		logMessage("freeHeart " +
			b + " result: " + c + " require: " + d + " timeNext: " + e);
		BkGlobal.P.gh = c;
		BkGlobal.P.cd = d;
		BkGlobal.P.vm = e;
		0 <= BkGlobal.P.vm && (BkGlobal.P.fx = Math.floor(J() / 1E3) + BkGlobal.P.vm);
		this.Tk(b, gc);
		a = getCurrentScene();
		a instanceof hb && (a = a.Se, a.oV())
	},
	kQ: function(a) {
		logMessage("processHotTableReturn");
		var b = {};
		b.ya = a.O.readByte();
		for (b.Jf = []; a.O.La();) {
			var c = {};
			c.ya = b.ya;
			c.rS = a.O.readByte();
			c.RU = a.O.readByte();
			c.Di = a.O.da();
			c.sq = a.O.readInt();
			c.vK = a.O.da();
			c.yN = a.O.da();
			c.NB = a.O.readInt();
			c.zN = a.O.da();
			c.xc = a.O.readInt();
			b.Jf.push(c)
		}
		this.Ha(b, a.Type)
	},
	hR: function(a) {
		a = a.O.readInt();
		logMessage("processVertifyTransactionReceipe: " + a);
		0 == a ? showPopupMessageWith('Thanh to\u00e1n qua Apple Store l\u1ed7i. B\u1ea1n vui l\u00f2ng \u0111\u1ec3 \u0111\u1ec3 l\u1eddi nh\u1eafn qua "Th\u01b0 g\u00f3p \u00fd" trong "C\u00e0i \u0111\u1eb7t" \u0111\u1ec3 \u0111\u01b0\u1ee3c tr\u1ee3 gi\u00fap!') : this.Tk(a, dc)
	},
	gR: function(a) {
		a = a.O.readInt();
		logMessage("processVertifyTransactionGGIAP: " + a); - 1 != a ? this.Tk(a, dc) : showPopupMessageWith('Thanh to\u00e1n qua Apple Store l\u1ed7i. B\u1ea1n vui l\u00f2ng \u0111\u1ec3 \u0111\u1ec3 l\u1eddi nh\u1eafn qua "Th\u01b0 g\u00f3p \u00fd" trong "C\u00e0i \u0111\u1eb7t" \u0111\u1ec3 \u0111\u01b0\u1ee3c tr\u1ee3 gi\u00fap!')
	},
	Vz: function() {
		var a = new BkPacket,
			b = Ca();
		a.iJ(b);
		BkConnectionManager.send(a)
	},
	JU: function() {
		cc.sys.os == cc.sys.OS_ANDROID && (u(qm, hd), u(sm, jd), u(um, kd), u(wm, ld), u(Cm, md), u(Em, nd), u(Gm, od), u(Mm, pd), u(Om, qd), u(Qm, rd), u(ym, Bd), u(Am, Cd), u(Im, Dd), u(Km, Ed), u(Sm, Fd), u(Um, Gd))
	},
	KU: function() {
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) u(rm, id), u(tm, sd), u(vm, td), u(xm, ud), u(Dm, vd), u(Fm, wd), u(Hm, xd), u(Nm, yd), u(Pm, zd), u(Rm, Ad), u(zm, Hd), u(Bm, Id), u(Jm, Jd), u(Lm, Kd), u(Tm, Ld), u(Vm, Md)
	},
	LU: function() {
		u(Xm, Ri);
		u(Wm.BG, Qi.BG);
		u(Ym, Si);
		u(Zm, Ti);
		u($m, Ui);
		u(an, BkGlobal.P.cd);
		u(bn, Vi);
		u(cn, Wi);
		u(en, Zi);
		u(dn, Yi);
		u(fn, $i)
	},
	dQ: function(a) {
		logMessage("done load setting -\x3e set last loading Time de chi load 1 lan trong ngay");
		BkGlobal.XA = !1;
		var b = J();
		logMessage("setLastLoginTime: " + b);
		u("lastLoginTime", b);
		a = a.O.da();
		a = JSON.parse(a);
		cc.sys.os == cc.sys.OS_ANDROID && (hd = Q(a, "androidGoogleAdmobAppId", hd), jd = Q(a, "androidGoogleAdmobBannerAdsId", jd), kd = Q(a, "androidGoogleAdmobRewardedVideoAdsId", kd), ld = Q(a, "androidGoogleAdmobInterstitialAdsId",
			ld), md = Q(a, "androidFacebookBannerAdsId", md), nd = Q(a, "androidFacebookInterstitialAdsId", nd), od = Q(a, "androidFacebookRewardedVideoAdsId", od), pd = Q(a, "androidMoPubBannerAdsId", pd), qd = Q(a, "androidMoPubRewardedVideoAdsId", qd), rd = Q(a, "androidMoPubFullscreenAdsId", rd), Bd = Q(a, "androidGoogleAdmobRewardedVideoAdsIdHEcpm", Bd), Cd = Q(a, "androidGoogleAdmobInterstitialAdsIdHEcpm", Cd), Dd = Q(a, "androidFacebookInterstitialAdsIdHEcpm", Dd), Ed = Q(a, "androidFacebookRewardedVideoAdsIdHEcpm", Ed), Fd = Q(a, "androidMoPubRewardedVideoAdsIdHEcpm",
			Fd), Gd = Q(a, "androidMoPubFullscreenAdsIdHEcpm", Gd));
		if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) id = Q(a, "iosGoogleAdmobAppId", id), sd = Q(a, "iosGoogleAdmobBannerAdsId", sd), td = Q(a, "iosGoogleAdmobRewardedVideoAdsId", td), ud = Q(a, "iosGoogleAdmobInterstitialAdsId", ud), vd = Q(a, "iosFacebookBannerAdsId", vd), wd = Q(a, "iosFacebookInterstitialAdsId", wd), xd = Q(a, "iosFacebookRewardedVideoAdsId", xd), yd = Q(a, "iosMoPubBannerAdsId", yd), zd = Q(a, "iosMoPubRewardedVideoAdsId", zd), Ad = Q(a, "iosMoPubFullscreenAdsId", Ad), Hd =
			Q(a, "iosGoogleAdmobRewardedVideoAdsIdHEcpm", Hd), Id = Q(a, "iosGoogleAdmobInterstitialAdsIdHEcpm", Id), Jd = Q(a, "iosFacebookInterstitialAdsIdHEcpm", Jd), Kd = Q(a, "iosFacebookRewardedVideoAdsIdHEcpm", Kd), Ld = Q(a, "iosMoPubRewardedVideoAdsIdHEcpm", Ld), Md = Q(a, "iosMoPubFullscreenAdsIdHEcpm", Md);
		Ri = Q(a, "urlUploadAvatar", Ri);
		console.log("SETTING.URL_UPLOAD_AVATAR: " + Ri);
		Si = Q(a, "emailSupport", Si);
		Ti = Q(a, "fbMessengerSupport", Ti);
		Ui = Q(a, "minFriendFBReward", Ui);
		BkGlobal.P.cd = Q(a, "taskWinDuty", BkGlobal.P.cd);
		Vi = Q(a, "urlGameRule",
			Vi);
		Wi = Q(a, "urlPolicy", Wi);
		Zi = Q(a, "urlIos", Zi);
		Yi = Q(a, "urlAndroid", Yi);
		$i = Q(a, "getdomain", $i);
		isFBInstantGame() || isWebPlatform() || (this.JU(), this.KU(), this.LU(), n.Or(), ib(zh))
	},
	HP: function(a) {
		if (!isFBInstantGame() && !isWebPlatform()) {
			var b = a.O.readByte();
			a = a.O.readByte();
			this.qH(b, a)
		}
	},
	qH: function(a, b) {
		logMessage("cacheAdsStartGame: " + a + " - " + b);
		0 <= a && n.nt(a, !0);
		0 <= b && n.ot(b, !0)
	},
	EQ: function(a) {
		var b = a.O.readByte();
		a = {};
		a.kC = b;
		b = getCurrentScene();
		b instanceof hb && b.Uv(a)
	},
	ah: function(a) {
		-42 != a.Type &&
			46 != a.Type && logMessage("BkCommonLogic -\x3e processNetworkEvent " + a.Type);
		switch (a.Type) {
			case zh:
				this.HP(a);
				break;
			case Ei:
				this.kQ(a);
				break;
			case kh:
				this.lQ(a);
				break;
			case Xd:
				break;
			case $d:
				this.PO(a);
				break;
			case ae:
				logMessage("LOG_IN_FAILURE");
				this.Ha(null, a.Type);
				processLoginRegistFailEx();
				break;
			case Mf:
				logMessage("NETWORK_REGISTER_FAILURE");
				n.rb(Ba, ja("NETWORK_REGISTER_FAILURE"));
				switchToSceneWithGameState(G);
				break;
			case $f:
				this.Ha(null, a.Type);
				break;
			case Sh:
				var b = a.O.da();
				this.Ha(b, a.Type);
				break;
			case Th:
				this.Ha(null,
					a.Type);
				break;
			case Wh:
				this.Ha(null, a.Type);
				break;
			case gf:
				logMessage("NETWORK_AUTO_FIND_TABLE_NOT_FOUND_RETURN");
				showToastMessage("Kh\u00f4ng t\u00ecm th\u1ea5y b\u00e0n ph\u00f9 h\u1ee3p! Xin b\u1ea1n vui l\u00f2ng th\u1eed l\u1ea1i!", cc.director.getWinSize().width / 2, cc.director.getWinSize().height / 2);
				break;
			case de:
				logMessage("NETWORK_TABLE_JOIN_SUCCESS");
				BkLogicManager.S().xG(a);
				break;
			case ee:
				this.VQ(a);
				break;
			case sf:
				logMessage("NETWORK_GAME_JOIN_SUCCESS");
				BkGlobal.ja = this.mn;
				BkLogicManager.Lu();
				BkLogicManager.S().oG(0);
				break;
			case $g:
				logMessage("NETWORK_GET_GAME_ROOMS_BY_ROOM_TYPE_RETURN");
				BkLogicManager.S().pG(a);
				break;
			case kf:
				logMessage("NETWORK_ROOM_JOIN_SUCCESS");
				BkLogicManager.S().sG(a);
				break;
			case vf:
				logMessage("NETWORK_ROOM_JOIN_SUCCESS");
				break;
			case le:
				logMessage("NETWORK_ROOM_TABLES_UPDATE");
				BkLogicManager.S().tG(a);
				break;
			case qh:
				logMessage("NETWORK_MAIN_PROFILE_RETURN");
				this.QO(a);
				break;
			case Yf:
				logMessage("NETWORK_PROFILE_RETURN");
				this.XO(a);
				break;
			case Fg:
				logMessage("NETWORK_GET_PLAYER_ACHIEVEMENT_RETURN");
				this.UO(a);
				break;
			case Ph:
			case Qh:
				this.Ha(null, a.Type);
				break;
			case Og:
				this.Ha(null, a.Type);
				this.hj();
				break;
			case Vf:
				this.Ha(null, a.Type);
				break;
			case Xg:
				logMessage("NETWORK_GET_CHAMPION_LIST_RETURN");
				for (b = []; a.O.La();) {
					var c = new BkLeaderBoardData(a.O.readByte(), a.O.da());
					logMessage("Type " + c.type + " champion " + c.B1);
					void 0 != c.typeName && c.Md != H && b.push(c)
				}
				this.Ha(b, a.Type);
				break;
			case lg:
				this.cR(a);
				break;
			case ng:
				this.eD(a);
				break;
			case Tg:
				this.sQ(a);
				break;
			case pg:
				this.YP(a);
				break;
			case xf:
				this.OQ(a);
				break;
			case Je:
				this.NQ(a);
				break;
			case Oh:
				this.LP(a);
				break;
			case Le:
				this.SQ(a);
				break;
			case De:
				this.dR(a);
				break;
			case qg:
				this.eR(a);
				logMessage("NETWORK_GET_TOP_RICHEST_PLAYER_RETURN");
				break;
			case Hg:
				logMessage("NETWORK_PLAYER_ITEMS_RETURN");
				this.VO(a);
				break;
			case Pf:
				logMessage("NETWORK_GET_FRIENDS_RETURN");
				this.XP(a);
				break;
			case Wf:
				logMessage("NETWORK_PLAYER_SEARCH_FRIENDS");
				this.PQ(a);
				break;
			case jh:
			case ih:
			case th:
				this.SP(a);
				logMessage("processFriendsListReturnState");
				break;
			case fh:
				this.mQ(a);
				break;
			case Wg:
				this.uG(a);
				break;
			case eh:
				this.uQ(a);
				logMessage("NETWORK_LUCKY_BOX_REQUEST_RETURN");
				break;
			case ii:
				this.PP(a);
				break;
			case ji:
				break;
			case ki:
				this.tS(a);
				break;
			case Na:
				b = this.MK(a);
				this.Ha(b, a.Type);
				break;
			case si:
				b = this.LK(a);
				this.Ha(b, a.Type);
				break;
			case yh:
				this.JP(a);
				break;
			case Mh:
			case Ch:
			case Dh:
				this.Ha(a, a.Type);
				break;
			case Bh:
				for (b = a.O.readInt(); a.O.La();) a.O.readInt();
				if (BkGlobal.Sa == P || BkGlobal.Sa == gj)
					if (BkGlobal.P.Mb(BkGlobal.P.pb() + b), this.dc().kf(BkGlobal.P), null == this.Xg) {
						a = "B\u1ea1n \u0111\u01b0\u1ee3c c\u1ed9ng " +
							b + pn() + " v\u00e0o t\u00e0i kho\u1ea3n.";
						U.$r(a, "Th\u00f4ng b\u00e1o", null, null, null, Ma, null);
						break
					} if (BkGlobal.Sa == T && (logMessage("nap the ingame"), c = BkLogicManager.oa().Ba(), null != c ? BkLogicManager.oa().zf(c, b, "") : BkGlobal.P.Mb(BkGlobal.P.pb() + b), null == this.Xg)) {
					BkLogicManager.oa().ka().yT(!1);
					a = "B\u1ea1n \u0111\u01b0\u1ee3c c\u1ed9ng " + b + pn() + " v\u00e0o t\u00e0i kho\u1ea3n.";
					showPopupMessageWith(a, "Th\u00f4ng b\u00e1o", function() {}, function() {
						BkLogicManager.oa().ka().yT(!0)
					});
					break
				}
				this.Ha(b, a.Type);
				break;
			case bg:
				logMessage("NETWORK_INBOX_MAILS_RETURN");
				this.$P(a);
				break;
			case dg:
				logMessage("NETWORK_OUTBOX_MAILS_RETURN");
				this.aQ(a);
				break;
			case gg:
			case fg:
				this.QQ(a.Type);
				break;
			case ig:
				logMessage("NETWORK_MAIL_RETURN");
				this.bQ(a);
				break;
			case Yh:
				this.ZP(a);
				break;
			case Jg:
				logMessage("NETWORK_BUY_ITEM_SUCCESS");
				this.GP(a);
				break;
			case Mg:
				logMessage("NETWORK_BUY_ITEM_FAILURE");
				this.FP(a);
				break;
			case di:
				this.NO(a);
				break;
			case uf:
				t();
				BkLogicManager.Ew(null);
				a.O.La() && (BkGlobal.P.gh = a.O.readInt());
				BkGlobal.ja = -1;
				BkGlobal.wf = -1;
				BkGlobal.Rj = -1;
				switchToSceneWithGameState(P, !0);
				break;
			case oh:
				break;
			case Ye:
				break;
			case $e:
				break;
			case pf:
				break;
			case Rh:
				b = a.O.readInt();
				a.O.La() ? 1 == a.O.readByte() && this.ip(b, ok) : this.ip(b, lk);
				break;
			case Pg:
				b = a.O.readInt();
				this.Ha(b, a.Type);
				for (this.ip(b, mk); a.O.La();) a.O.readInt(), a.O.readByte();
				break;
			case Hh:
				this.AQ(a);
				break;
			case Xh:
				this.KQ(a);
				break;
			case mi:
				this.LQ(a);
				break;
			case hh:
				this.JQ(a);
				break;
			case rh:
				BkGlobal.P.OD(!0);
				break;
			case bi:
			case ci:
			case ai:
				this.fR(a);
				logMessage("process NETWORK_SETUP_CHAN_TABLE, type: " +
					ai);
				break;
			case If:
				b = a.O.readByte();
				this.Ha(b, a.Type);
				break;
			case Jf:
				this.CQ(a);
				break;
			case Bg:
			case ti:
				this.rQ(a);
				break;
			case vi:
				BkGlobal.Sa == P && this.BP(a);
				break;
			case yi:
				this.yQ(a);
				break;
			case He:
				this.VE(a.O.readByte(), a.O.readByte());
				break;
			case xi:
				this.xQ(a);
				break;
			case Hf:
				BkGlobal.Sa != P && BkGlobal.Sa != gj || this.qQ(a);
				break;
			case Ai:
				this.hQ(a);
				break;
			case Gi:
				this.MP(a);
				break;
			case oi:
				this.dQ(a);
				break;
			case xh:
				this.VP(a);
				break;
			case $h:
				this.hR(a);
				break;
			case pi:
				this.gR(a);
				break;
			case jb:
				this.EQ(a);
				break;
			default:
				logMessage("BkLogic not process packet with type: " +
					a.Type + " -\x3e call super process"), this._super(a)
		}
	}
});
MIN_TIME_INTERACTION = 3E4;
BkInGameLogic = BkBaseLogic.extend({
	lh: -1,
	ga: [],
	Y0: !1,
	Nh: 0,
	Ib: 0,
	gj: "",
	userData: null,
	k6: 0,
	RA: !1,
	Cv: 0,
	BJ: 0,
	r1: 0,
	cj: 0,
	Xb: 0,
	SW: !0,
	R0: !1,
	oo: !0,
	g1: !0,
	RX: [],
	AZ: 0,
	a2: null,
	vH: null,
	TA: !1,
	tv: 0,
	cr: 0,
	ctor: function() {
		this._super();
		this.vH = new BkQueue;
		BkConnectionManager.gM()
	},
	Vb: function(a) {
		switch (a) {
			case We:
			case Kh:
			case Kg:
			case gh:
			case Lg:
			case Qg:
			case Ne:
			case Eh:
			case ff:
			case de:
			case ke:
			case uf:
			case vf:
				return !0
		}
		return !1
	},
	DL: function() {
		var a = this.ka().KK(),
			b = MIN_TIME_INTERACTION,
			c = 0;
		if (null != a && 0 < a.length)
			for (var d =
					0; d < a.length; d++) c = J() - a[d].Kb, c < b && (b = c);
		return Math.min(b, J() - this.ka().mb.Kb)
	},
	dc: function() {
		return BkGlobal.ek
	},
	ka: function() {
		return null == this.dc() ? (logMessage("BkGlobal.ingameScene is null"), null) : this.dc().ka()
	},
	ZC: function(a) {
		a.gG()
	},
	u3: function() {},
	Gi: function(a) {
		var b = this.An();
		return (a - b + this.Xb) % this.Xb
	},
	Uq: function(a) {
		var b = this.Ba();
		return null == b ? !1 : a == b.ta
	},
	z_: function() {
		var a = 0;
		do {
			this.lh = Math.floor(this.lh + 1) % this.Xb;
			a++;
			var b = this.Jb(this.lh);
			if (null != b && !b.Jh && b.isPlaying && !b.Il) return this.lh
		} while (10 >
			a);
		return -1
	},
	OX: function(a) {
		var b = 0;
		do {
			b++;
			a = Math.floor((a - 1 + this.Xb) % this.Xb);
			var c = this.Jb(a);
			if (null != c && !c.Jh && c.isPlaying && !c.Il) break
		} while (10 > b);
		return a
	},
	j2: function(a) {
		var b = 0;
		do {
			b++;
			a = Math.floor((a + 1) % this.Xb);
			var c = this.Jb(a);
			if (null != c && !c.Jh && c.isPlaying && !c.Il) return a
		} while (10 > b);
		return -1
	},
	ZB: function() {
		logMessage("is Invalid my clientstate -\x3e getableinfo \x26 sync");
		logMessage("getMyClientState - myName: " + BkGlobal.P.userName);
		logMessage("this.PlayerState.length: " + this.ga.length);
		for (var a = 0; a < this.ga.length; a++) {
			var b = this.ga[a];
			logMessage("player " + a + " name :" + b.getName() + " serverPos: " + b.ta)
		}
	},
	UA: function() {
		var a = this.Ba();
		if (null == a) return this.ZB(), this.$l(), !0;
		logMessage("isEnoughMoneyToStartGame: " + a.xn());
		return a.xn() >= getMinTableBetMoney() * this.Ee ? !0 : !1
	},
	A_: function() {
		for (var a = 0, b = 0; b < this.ga.length; b++) {
			var c = this.ga[b];
			c.isPlaying && !c.Jh && a++
		}
		return a
	},
	oQ: function(a) {
		var b = a.O.readByte();
		a = a.O.readInt();
		var c = this.Jb(b);
		this.jH(c);
		this.pQ(b, a, c);
		this.Vb(Kg) &&
			this.hb()
	},
	pQ: function(a, b, c) {
		logMessage("must implement this function in custom game logic if need");
		a = this.$K(b);
		a = Math.max(a, -c.xn());
		this.zf(c, a, "Ph\u1ea1t");
		for (a = 0; a < this.ga.length; a++) {
			var d = this.Ee,
				e = this.ga[a];
			e.ta != c.ta && e.isPlaying && this.zf(e, this.lL(d, b))
		}
	},
	$K: function(a) {
		return -a * (this.Cv - 1)
	},
	lL: function(a, b) {
		return Math.floor(b * (1 - TAX_RATE))
	},
	GQ: function(a) {
		var b = a.O.readByte(),
			c = a.O.readByte(),
			d = this.Jb(b);
		a = this.Vb(a.Type);
		if (null == d) logMessage("player \x3d\x3d null -\x3e error");
		else {
			d.status = c;
			console.log("processPlayerStatusUpdate - player.status: ", d.status);
			this.Uq(b) && (c == PLAYER_STATE_NOT_READY ? this.ka().Pk() : (this.ka().Ce(), this.ka().Kn()));
			var e;
			e = BkGlobal.ja == K || BkGlobal.ja == L ? d.ta : this.Gi(b);
			logMessage("processPlayerStatusUpdate name " + d.getName() + " displayPos: " + e + " serverPos: " + b + " status: " + c);
			this.ka().Pv(e, c)
		}
		a && this.hb()
	},
	nN: function() {
		for (var a = 0, b = 0, c = this.ga.length; b < c; b++) {
			var d = this.ga[b];
			d && !d.Ka && a++
		}
		return 0 == a
	},
	Ri: function() {
		return null != this.Ba() &&
			this.Ba().status == PLAYER_STATE_TABLE_OWNER
	},
	V0: function() {
		return this.An() == this.lh
	},
	ZZ: function() {
		return BkGlobal.ja == K || BkGlobal.ja == L ? new BkChessPlayerClientState : BkGlobal.ja == pb ? new BkPhomClientState : BkGlobal.ja == H ? new BkMauBinhClientState : new BkClientState
	},
	Q0: function() {
		return null == this.Ba() ? (this.$l(), !0) : !1
	},
	Ba: function() {
		null == this.Aq(BkGlobal.P.userName) && this.ZB();
		return this.Aq(BkGlobal.P.userName)
	},
	aC: function() {
		logMessage("logPlayerStateInfo numOfPlayer: " + this.ga.length);
		for (var a =
				0; a < this.ga.length; a++) {
			var b = this.ga[a];
			logMessage("Player name : " + b.getName() + " serverPos:" + b.ta + " tablePos: " + b.Va + " status: " + b.status)
		}
	},
	Aq: function(a) {
		for (var b = 0; b < this.ga.length; b++) {
			var c = this.ga[b];
			if (c.getName() == a) return c
		}
		return null
	},
	An: function() {
		for (var a, b = 0; b < this.ga.length; b++)
			if (a = this.ga[b], a.getName() == BkGlobal.P.userName) return a.ta;
		return -1
	},
	Nx: function() {
		for (var a = [], b = 0; b < this.Xb; b++) {
			var c = this.Jb(b);
			null != c && a.push(c)
		}
		this.ga = a
	},
	WR: function(a) {
		logMessage("removePlayer " +
			a);
		for (var b = 0; b < this.ga.length; b++) this.ga[b].ta === a && this.ga.splice(b, 1)
	},
	Jb: function(a) {
		for (var b = null, c = 0; c < this.ga.length; c++)
			if (b = this.ga[c], b.ta == a) return b;
		return null
	},
	PM: function() {
		for (var a = 0; a < this.ga.length; a++) {
			var b = this.ga[a];
			if (b.status == PLAYER_STATE_NOT_READY) return showToastMessage("player" + b.getName() + "is not ready"), !1
		}
		return !0
	},
	jB: function() {
		return 2 > this.ga.length
	},
	N0: function() {
		return this.An() == this.lh ? !0 : !1
	},
	IZ: function() {
		return this.Jb(this.lh)
	},
	JZ: function() {
		return this.lh
	},
	hL: function(a) {
		for (var b = 0; b < this.ga.length; b++) {
			var c;
			c = this.ga[b];
			if (this.Gi(c.ta) == a) return c
		}
		return null
	},
	zf: function(a, b, c) {
		var d = "";
		void 0 != c && (d = c);
		a.zf(b);
		playAlertSound();
		this.ka().Ox(a, b, d);
		logMessage("Player:" + a.getName() + " amount:" + b + " reason:" + d + " MoneyAfter:" + a.JK())
	},
	YQ: function() {
		showToastMessage("Kh\u00f4ng th\u1ec3 r\u1eddi b\u00e0n, h\u00e3y th\u1eed l\u1ea1i", 200, 200)
	},
	WQ: function(a) {
		var b = a.Js(),
			c;
		c = !1;
		for (var d = 0; d < b.length; d++)
			if (logMessage("processTableJoinPush with pos: " +
					b[d].position), c = this.Jb(b[d].position), null == c) c = BkGlobal.ja == K || BkGlobal.ja == L ? new BkChessPlayerClientState : new BkClientState, c.Aw(b[d]), this.ga.push(c), this.Nx(), this.ka().HC(c, this.Gi(c.ta)), c = c.Ka;
			else {
				logMessage("invalid packet table join push with " + b[d].position + " -\x3e get table info \x26 sync");
				this.$l();
				return
			} logMessage("isObserver: " + c);
		c || (logMessage("la ng choi -\x3e bat am thanh ra vao ban"), playJoinGameSound());
		this.Vb(a.Type) && this.hb()
	},
	DQ: function(a) {
		var b = a.O.ih(),
			c = a.O.readInt();
		logMessage("playerName: " + b + " change: " + c);
		b = this.Aq(b);
		null != b && this.zf(b, c);
		this.Vb(a.Type) && this.hb()
	},
	gQ: function(a) {
		if (a.Type == fi) a.O.readInt();
		else if (a.Type == hi)
			if (a = a.O.readInt(), logMessage("reward: " + a), 0 < a) {
				var b = this.Ba();
				this.ka().QR();
				this.zf(b, a);
				showToastMessage("B\u1ea1n v\u1eeba nh\u1eadn \u0111\u01b0\u1ee3c " + formatNumber(a) + pn() + " t\u1eeb h\u1ed9p qu\u00e0.", WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2, 5, 300)
			} else showToastMessage("C\u00f2n " + convertSecondToMinSec(-a) + " B\u1ea1n m\u1edbi c\u00f3 th\u1ec3 nh\u1eadn qu\u00e0!",
				WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2, 3, 300)
	},
	iR: function(a) {
		var b = a.O.readByte(),
			c = this.Ba();
		if (null != c) {
			var d;
			d = b == PLAYER_NEW_LEVEL ? getNewLevelBonusMoney(c.getUserInfo().$c) : getBonusByBonusCode(b);
			this.zf(c, d, getBonusReasonByBonusCode(b))
		}
		this.Vb(a.Type) && this.hb()
	},
	jR: function(a) {
		var b = a.O.readByte(),
			c = a.O.readInt(),
			d = this.Jb(b);
		if (null != d) {
			var e = d.getUserInfo().$c,
				e = c - e;
			d.getUserInfo().Xh(c);
			d.getName() == BkGlobal.P.userName && (BkGlobal.P.Xh(c), logMessage("currentGameID: " + BkGlobal.ja + " - newLevel: " +
				c), BkGlobal.ja == L ? (BkGlobal.P.JD(c), logMessage("setEloCoUp: " + c)) : BkGlobal.ja == K && (BkGlobal.P.ID(c), logMessage("setEloCoTuong: " + c)), isFBInstantGame() && BkFbInstant.OY(function(a) {
				BkFbInstant.F6("B\u1ea5m ch\u01a1i ngay \u0111\u1ec3 v\u00e0o game", a)
			}));
			b = this.ka().tc(b);
			this.ka().eE(e, "Elo", b);
			this.ka().NC(d.ta, d.getUserInfo());
			b && b.y < cc.winSize.height / 2 && this.ka().rV(e)
		}
		this.Vb(a.Type) && this.hb()
	},
	$Q: function(a) {
		a.O.La() && a.O.readByte();
		this.rp();
		this.Vb(a.Type) && this.hb()
	},
	BT: function(a, b, c) {
		var d =
			new BkPacket;
		d.VF(a, b, c);
		BkConnectionManager.send(d, !1)
	},
	Ky: function() {
		this.cj = this.gj = "";
		this.Ib = GAME_STATE_NOT_READY;
		for (this.Ee = 0; 0 < this.ga.length;) this.ga.splice(0, 1)
	},
	ZW: function(a) {
		var b = new BkPacket;
		a = this.Aq(a);
		null != a && (b.vj(ef, a.ta), BkConnectionManager.send(b))
	},
	rp: function() {
		logMessage("ProcessOutGame");
		this.rw();
		this.ka().Xp();
		this.Ky();
		this.ka().Ce();
		BkGlobal.Iw(!1);
		logMessage("finish ProcessOutGame")
	},
	ou: function(a) {
		return null != a ? a.ou() : null
	},
	WE: function(a) {
		this.Ib = a
	},
	V_: function() {
		return this.Ee
	},
	J_: function() {
		return this.ga
	},
	Ok: function() {
		var a = this.Ba();
		null != a && (a.status == PLAYER_STATE_READY || this.Ub() || this.ka().Ok(TIME_AUTO_READY))
	},
	AP: function(a) {
		null != this.Ba() && (this.Ba().status = PLAYER_STATE_TABLE_OWNER, this.cj = a.O.readByte(), logMessage("processAssignAsTableOwner " + this.cj), a.O.La() && (this.gj = a.O.ih()), this.ka().Ce(), this.ka().Pk(!1), this.ka().Pv(0, PLAYER_STATE_TABLE_OWNER), this.Vb(a.Type) && this.hb())
	},
	$l: function() {
		BkGlobal.mk = !1;
		this.en();
		var a = new BkPacket;
		a.BF();
		BkConnectionManager.send(a)
	},
	gS: function() {
		if (null != this.ga) {
			for (var a = 0; a < this.ga.length; a++) {
				var b = this.ga[a];
				null != b && b.ER()
			}
			this.ga = []
		}
	},
	kG: function(a) {
		logMessage("ProcessGameTableInfo: gameId: " + BkGlobal.ja);
		this.Nh = 0;
		this.Ee = a.O.readInt();
		a = a.Js();
		var b;
		this.gS();
		for (var c = 0; c < a.length; c++) b = BkGlobal.ja == K || BkGlobal.ja == L ? new BkChessPlayerClientState : BkGlobal.ja == pb ? new BkPhomClientState : BkGlobal.ja == H ? new BkMauBinhClientState : new BkClientState, b.Aw(a[c]), this.ga.push(b), a[c].name == BkGlobal.P.userName && (BkGlobal.P.Hb = a[c].it);
		logMessage("PlayerState before sort: " + this.ga.length);
		this.Nx();
		logMessage("Finished read table info, numOfPlayer: " + this.ga.length);
		this.ka().GC()
	},
	Ub: function() {
		return this.Ib != GAME_STATE_READY && this.Ib != GAME_STATE_FINISH
	},
	ZN: function() {
		var a = new BkPacket;
		a.zc(oe);
		BkConnectionManager.send(a)
	},
	rw: function() {
		for (var a = 0; a < this.ga.length; a++) {
			var b = this.ga[a];
			null != b && b.hS()
		}
	},
	vG: function() {
		this.rw();
		this.ZN()
	},
	YN: function() {
		var a = new BkPacket;
		a.vj(Ve, PLAYER_STATE_READY);
		BkConnectionManager.send(a)
	},
	FQ: function() {
		this.rw();
		this.YN();
		BkGlobal.Iw(!0)
	},
	fQ: function(a) {
		for (var b = []; a.O.La();) {
			var c = a.O.readInt(),
				d = a.O.ih(),
				e = a.O.readByte(),
				c = new BkBasicUserInfo(d, c, e);
			b.push(c)
		}
		this.dc().oE(b, 1)
	},
	Tu: function(a) {
		var b = new BkPacket;
		b.CF(a);
		logMessage("Invite Player" + a);
		BkConnectionManager.send(b)
	},
	WP: function(a) {
		for (var b = []; a.O.La();) {
			playerMoney = a.O.readInt();
			playerName = a.O.ih();
			avatar = a.O.readByte();
			var c = new BkBasicUserInfo(playerName, playerMoney, avatar);
			b.push(c)
		}
		this.dc().oE(b, 2)
	},
	cQ: function() {
		s();
		var a = new BkPacket;
		a.zc(Sf);
		BkConnectionManager.send(a)
	},
	aD: function() {
		s();
		var a = new BkPacket;
		a.zc(mf);
		BkConnectionManager.send(a)
	},
	B3: function() {
		this.dc().aU(this);
		this.aD()
	},
	fD: function(a) {
		this.dc().jU(a)
	},
	TP: function(a) {
		this.ka().Xp();
		this.en();
		this.oo = !1;
		this.Ib = a.O.readByte();
		for (var b = 0; b < this.ga.length; b++) this.ga[b].isPlaying = !1;
		logMessage("Base Logic table Syn: status" + this.Ib);
		this.ka().qp(a)
	},
	iL: function() {
		logMessage("getPunishExitDuringGameMoney -\x3e must implement this function with other game");
		return 0
	},
	fm: function() {
		if (!this.TA) {
			var a = this.Ba(),
				b = this;
			if (null != a && a.isPlaying && !a.Jh) {
				if (this.Ub()) {
					a = "N\u1ebfu b\u1ea1n r\u1eddi b\u00e0n ch\u01a1i b\u1ea1n s\u1ebd b\u1ecb ph\u1ea1t " + convertStringToMoneyFormat(this.iL(), !0) + " " + V.toLowerCase() + ".\nB\u1ea1n c\u00f3 th\u1ef1c s\u1ef1 mu\u1ed1n tho\u00e1t kh\u00f4ng?";
					showPopupConfirmWith(a, "Tho\u00e1t khi \u0111ang ch\u01a1i", function() {
						b.wo(1)
					});
					return
				}
			} else if (null != a && a.isPlaying && a.Jh) {
				this.wo(1);
				return
			}
			this.wo(0)
		}
	},
	XQ: function(a) {
		logMessage("processTableLeavePush pos " +
			a);
		if (this.Uq(a)) logMessage("la minh -\x3e goi tin sai -\x3e reject \x26 reLogin"), this.$l();
		else {
			var b = this.Jb(a),
				c = !1;
			null != b && (this.Iy(b), this.ka().IC(b), this.WR(a), this.ka().ow(this.Gi(a)), this.nN() && showPopupConfirmWith("Kh\u00f4ng c\u00f2n ng\u01b0\u1eddi ch\u01a1i trong b\u00e0n, b\u1ea1n c\u00f3 mu\u1ed1n chuy\u1ec3n sang xem v\u00e1n kh\u00e1c?", "", function() {
				var a = new BkPacket;
				a.zc(Hi);
				BkConnectionManager.send(a)
			}, function() {
				BkLogicManager.oa().fm()
			}), c = b.Ka);
			logMessage("isObserver: " + c);
			c || (logMessage("la ng choi bat am thanh ra vao ban"), playLeaveGameSound())
		}
	},
	ZQ: function(a) {
		logMessage("processTableLeavePush ");
		var b = a.O.readByte();
		this.XQ(b);
		this.Vb(a.Type) && this.hb()
	},
	Iy: function(a) {
		null != a && (a.Fr(), logMessage("clearPlayerCard:" + a.getName()))
	},
	jH: function(a) {
		this.Iy(a);
		a.isPlaying = !1;
		this.ka().OO(a);
		if (!a.Jh) {
			var b = BkGlobal.ja;
			if (b == ob || b == rb || b == qb || b == pb) this.Ib = GAME_STATE_FINISH;
			this.Uq(a.ta) && this.rp()
		}
	},
	RQ: function(a) {
		var b = !1;
		a.Type == vh ? (a = a.O.readInt(), logMessage("NETWORK_BET_MONEY_UPDATE " +
			a), (a >= BkGlobal.P.ye * getTableMoneyWarning() || this.Ee <= 0.1 * a) && !this.Ri() && (b = !0), this.Ee = a, a = "Ti\u1ec1n b\u00e0n \u0111\u00e3 \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp th\u00e0nh " + convertStringToMoneyFormat(this.Ee) + " " + pn(), b ? U.$r(a, "Th\u00f4ng b\u00e1o", null, null, null, Ma, null) : BkGlobal.ja == K || BkGlobal.ja == L ? showToastMessage(a, cc.winSize.width / 2, TOAST_MSG_YPOS, 3, 340) : showToastMessage(a, 150, cc.winSize.height - 75, 3, 180), this.ka(), this.Ri() || this.ka().Ok(TIME_AUTO_READY - 1)) : (logMessage("setup table fail"),
			b = a.O.readByte(), a = a.O.readInt(), logMessage("requiredMoney: " + a + " setupTableResult: " + b), this.CT(b, a))
	},
	CT: function(a, b) {
		logMessage("setupTableResult:" + a);
		2 == a && showToastMessage("B\u1ea1n ch\u1ec9 c\u00f3 th\u1ec3 \u0111\u1eb7t t\u1ed1i \u0111a l\u00e0: " + b + "$", WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2 + 100, 5);
		0 == a && showToastMessage("Kh\u00f4ng th\u1ec3 \u0111\u1eb7t ti\u1ec1n cho b\u00e0n, s\u1ed1 ti\u1ec1n nh\u1ecf nh\u1ea5t c\u00f3 th\u1ec3 \u0111\u1eb7t: " + b + "$", WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2 + 100, 5);
		1 == a &&
			showToastMessage("Kh\u00f4ng th\u1ec3 \u0111\u1eb7t ti\u1ec1n cho b\u00e0n, s\u1ed1 ti\u1ec1n t\u1ed1i \u0111a c\u00f3 th\u1ec3 \u0111\u1eb7t: " + b + "$", WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2 + 100, 5)
	},
	nQ: function(a) {
		if (a.Type == Rg) showToastMessage("C\u00f3 b\u1ea3o b\u1ed1i b\u1ea3o v\u1ec7, b\u1ea1n kh\u00f4ng th\u1ec3 \u0111u\u1ed5i!", WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2 + 70, 5, 300);
		else if (a.Type == Ug) showToastMessage("B\u1ea3o b\u1ed1i v\u1eeba b\u1ea3o v\u1ec7 b\u1ea1n kh\u00f4ng b\u1ecb \u0111u\u1ed5i.", WINDOW_WIDTH /
			2, WINDOW_HEIGHT / 2 - 70, 5, 300);
		else if (a.Type == ff) this.Rr(OWNER_KICK), a.O.La() && this.Rr(a.O.readByte()), a.O.La() && this.Rr(a.O.readByte()), this.rp();
		else if (a.Type == vf) {
			var b = "";
			a.O.La() && (b = a.O.readByte());
			logMessage("NETWORK_TIME_OUT_LEAVE: reason: " + b);
			this.rp()
		}
		this.Vb(a.Type) && this.hb()
	},
	OP: function(a) {
		showToastMessage("processErrorReturn not implement" + a.Type, WINDOW_WIDTH / 2, WINDOW_HEIGHT / 2)
	},
	HQ: function() {
		this.Nh = 0;
		this.tv = this.Ee;
		this.DL() < MIN_TIME_INTERACTION ? this.RA = !0 : this.RA = !1;
		this.Ib = GAME_STATE_READY;
		this.ka().BC();
		this.Vb(Kh) && this.hb()
	},
	RP: function() {
		this.Ib = GAME_STATE_FINISH;
		playAlertSound();
		this.ka().hG()
	},
	NP: function() {
		this.Ib = GAME_STATE_PLAYING;
		this.BJ = this.Cv = 0;
		this.ka().Bo()
	},
	vV: function(a) {
		logMessage("INGAME_GAME isSynchEvent -\x3e currentIndex: " + this.Nh + " packetIndex: " + a.Bd);
		if (this.Nh + 1 === a.Bd) return logMessage("nhan goi tin dung index"), this.Nh++, 1;
		if (this.Nh >= a.Bd) return logMessage("nhan goi tin cu"), -1;
		if (this.Nh + 1 < a.Bd) return logMessage("nhan thieu goi tin -\x3e syncEvent tu event: " +
			this.Nh), this.ur(), -1
	},
	ur: function() {
		logMessage("onReconnectSuccess ingame logic");
		var a = new BkPacket;
		a.vj(df, this.Nh);
		BkConnectionManager.send(a)
	},
	DP: function(a) {
		a.O.readByte();
		for (var b = [], c = 0; a.O.La();) b[c] = a.O.readInt(), c++;
		0 < b.length && (LIST_SETTING_BET_MONEY_BD = b)
	},
	WK: function() {
		return BkGlobal.TB
	},
	Rr: function(a) {
		BkGlobal.TB = a
	},
	UQ: function(a) {
		var b = a.O.readByte();
		a = a.O.ih();
		a = em(a);
		null != this.Jb(b) && this.dc().kV(a, b)
	},
	EP: function(a) {
		var b = a.O.readByte();
		a = a.O.readByte();
		logMessage("processBlockChatReturn " +
			b + " playerPos: " + a);
		var c = !1;
		1 == b ? c = !0 : 2 == b && (c = !1);
		for (b = 0; b < this.ga.length; b++) {
			var d = this.ga[b];
			d.ta == a && (logMessage("Update processBlockChatReturn " + d.getName() + " from state: " + this.ga[b].ae + " to " + c), this.ga[b].ae = c)
		}
	},
	wo: function(a) {
		s();
		var b = new BkPacket;
		b.EF(a);
		BkConnectionManager.send(b)
	},
	ah: function(a) {
		switch (a.Type) {
			case Xd:
				break;
			case qe:
				this.kG(a);
				break;
			case bf:
				this.TP(a);
				break;
			case dh:
				this.DP(a);
				break;
			case vh:
			case sh:
				this.RQ(a);
				break;
			case pe:
				this.NP(a);
				break;
			case ke:
				this.$Q(a);
				break;
			case nh:
				this.YQ();
				break;
			case Eh:
				this.WQ(a);
				break;
			case Ne:
				this.ZQ(a);
				break;
			case We:
				console.log("build advance - processNetworkEvent");
				this.GQ(a);
				break;
			case Tf:
				this.WP(a);
				break;
			case nf:
				this.fQ(a);
				break;
			case vf:
			case Rg:
			case Ug:
			case ff:
				this.nQ(a);
				break;
			case yg:
				this.OP(a);
				break;
			case hi:
			case fi:
				this.gQ(a);
				break;
			case gh:
				this.DQ(a);
				break;
			case Qg:
				this.iR(a);
				break;
			case Lg:
				logMessage("NETWORK_PLAYER_NEW_LEVEL");
				this.jR(a);
				break;
			case ne:
				this.UQ(a);
				break;
			case Lh:
				this.EP(a);
				break;
			case uh:
				this.AP(a);
				break;
			case cf:
				break;
			case Kh:
				logMessage("NETWORK_PREPARE_NEW_GAME");
				this.HQ();
				break;
			case Fe:
				this.RP();
				break;
			case Kg:
				this.oQ(a);
				break;
			default:
				this._super(a)
		}
	}
});
BkClientState = cc.Class.extend({
	P: null,
	ta: null,
	status: null,
	Ta: -1,
	af: null,
	Il: !1,
	Kj: 0,
	isPlaying: !1,
	Jh: !1,
	aV: 0,
	ac: 0,
	$U: 0,
	D0: !1,
	M0: !1,
	S0: !1,
	Nr: null,
	OB: 0,
	ae: !1,
	ctor: function() {
		this.af = []
	},
	ER: function() {
		this.Fr()
	},
	GX: function(a) {
		null == this.Nr && (this.Nr = new BkXiToCardSuite);
		this.Nr.wX(a)
	},
	Q_: function() {
		return this.Nr
	},
	Aw: function(a) {
		this.P = new BkUserData;
		logMessage("setClientInfo of player: " + a.name);
		this.P.yd(a.name);
		this.ta = a.position;
		this.status = a.status;
		this.P.Mb(a.jg);
		this.P.cf(a.it);
		this.P.Xh(a.Tg);
		this.P.om(a.iB);
		this.ae = a.ae
	},
	l5: function(a) {
		this.$U = a
	},
	h4: function(a) {
		this.ac = a
	},
	getUserInfo: function() {
		return this.P
	},
	E0: function() {
		return this.ae
	},
	G0: function() {
		return this.My
	},
	zf: function(a) {
		this.P.Mb(this.P.pb() + a);
		this.P.userName == BkGlobal.P.userName && BkGlobal.P.Mb(BkGlobal.P.pb() + a)
	},
	JK: function() {
		return null == this.P ? 0 : this.P.pb()
	},
	getName: function() {
		return this.P.userName
	},
	C1: function(a) {
		this.Il = a
	},
	T0: function() {
		return this.Il
	},
	Jw: function(a) {
		this.Ta = a
	},
	setName: function(a) {
		this.P.yd(a)
	},
	Fn: function() {
		return this.Ta
	},
	t4: function(a) {
		this.My = a
	},
	M6: function(a, b) {
		if (null == this.af || this.af.length < b + 1) return null;
		var c = this.af[b];
		c.CR(a);
		c.Wr(!1);
		return c
	},
	EX: function(a) {
		null == this.af && (this.af = []);
		this.af.push(a)
	},
	P4: function(a) {
		this.af = a
	},
	ou: function() {
		return this.af
	},
	TZ: function() {
		return this.Kj
	},
	xn: function() {
		return null != this.P ? this.P.pb() : 0
	},
	Fr: function() {
		if (null != this.af)
			for (var a; 0 < this.af.length;) a = this.af[0], this.af.splice(0, 1), a.removeFromParent()
	},
	hS: function() {
		this.Fr();
		this.Kj = 0;
		this.Jh = this.isPlaying = !1;
		this.Ta = -1;
		this.Il = this.My = !1;
		this.aV = 0
	},
	r4: function(a) {
		this.Kj = a
	}
});
BkChessPlayerClientState = BkClientState.extend({
	Xa: null,
	pa: -1,
	s1: null,
	Va: -1,
	Ka: null,
	ks: !1,
	Le: null,
	ctor: function() {
		this._super()
	},
	WS: function(a) {
		this.Le = a
	},
	ie: function(a) {
		null != this.Le && this.Le.ie(a)
	},
	Aw: function(a) {
		this._super(a);
		this.Ka = a.Ka
	},
	Xw: function() {
		null != this.Le && this.Le.Xw()
	},
	cx: function() {
		null != this.Le && this.Le.cx()
	},
	Hr: function() {
		null != this.Le && this.Le.Hr()
	},
	BR: function() {
		this.Hr()
	},
	To: function(a) {
		null != this.Le && this.Le.To(a)
	},
	Kq: function(a, b) {
		this.Le = a;
		this.Le.Kq(b)
	},
	L3: function() {},
	o5: function() {},
	t0: function() {}
});
BkLogicManager = {
	hr: null,
	eu: null,
	Ry: -1,
	sM: function() {
		null == this.hr && (this.hr = new BkCommonLogic)
	},
	Ew: function(a) {
		this.eu = a
	},
	S: function() {
		null == this.hr && this.sM();
		return this.hr
	},
	oa: function() {
		-1 !== this.Ry && null != this.eu || this.Lu();
		return this.eu
	},
	Vb: function(a) {
		var b = !1,
			c = this.S();
		null != c && c.Vb(a) && (b = !0);
		c = this.oa();
		null != c && c.Vb(a) && (b = !0);
		return b
	},
	Lu: function() {
		logMessage("initGameLogic with current gameID " + BkGlobal.ja);
		var a = null;
		this.Ry = BkGlobal.ja;
		switch (BkGlobal.ja) {
			case ob:
				a = new BkTLMNInGameLogic;
				break;
			case K:
				a = new BkChessInGameLogic;
				break;
			case L:
				a = new BkCoUpInGameLogic;
				break;
			case pb:
				a = new BkPhomIngameLogic;
				break;
			case Ka:
				a = new BkBaCayInGameLogic;
				break;
			case qb:
				a = new BkSAMIngameLogic;
				break;
			case rb:
				a = new BkTLMNDemLaInGameLogic;
				break;
			case Ia:
				a = new BkXiToInGameLogic;
				break;
			case Ha:
				a = new BkPokerInGameLogic;
				break;
			case Ja:
				a = new BkXiDzachInGameLogic;
				break;
			case La:
				a = new BkLiengInGameLogic;
				break;
			case H:
				a = new BkMauBinhInGameLogic;
				break;
			default:
				a = new BkInGameLogic
		}
		this.Ew(a)
	}
};
BkChessInGameLogic = BkInGameLogic.extend({
	ctor: function() {
		this._super();
		this.Xb = getMaxPlayer(K);
		logMessage("this.maxPlayer: " + this.Xb)
	},
	Vb: function(a) {
		switch (a) {
			case li:
			case pe:
			case te:
			case ve:
			case Fe:
			case Ef:
			case Jh:
				return !0
		}
		return this._super(a)
	},
	Ky: function() {
		logMessage("clearTableData - BkChessInGameLogic");
		this.cj = this.gj = "";
		this.Ib = GAME_STATE_NOT_READY;
		for (this.Ee = 0; 0 < this.ga.length;) this.ga[0].BR(), this.ga.splice(0, 1)
	},
	jB: function() {
		if (2 > this.ga.length) return !0;
		for (var a = 0, b = 0, c = this.ga.length; b <
			c; b++) {
			var d = this.ga[b];
			d && !d.Ka && a++
		}
		return 2 > a
	},
	PM: function() {
		for (var a = 0, b = this.ga.length; a < b; a++) {
			var c = this.ga[a];
			if (c.status == PLAYER_STATE_NOT_READY && !1 === c.Ka) return showToastMessage("player" + c.getName() + "is not ready"), !1
		}
		return !0
	},
	rr: function(a) {
		this._super(a);
		var b = a.O.readByte();
		a = 1 == a.O.readByte();
		this.ka().rr(b, a)
	},
	Bo: function(a) {
		var b = a.O.readByte();
		a = a.O.readByte();
		this.ka().Bo(b, a)
	},
	qr: function(a) {
		var b = a.O.readByte(),
			c = a.O.readByte(),
			d = a.O.readByte(),
			e = a.O.readByte();
		a = a.O.readInt();
		var f = this.ka();
		f && "function" === typeof f.qr ? f.qr(b, c, d, e, a) : this.$l()
	},
	Mv: function(a) {
		var b = a.O.readByte();
		a = a.O.readByte();
		this.ka().Mv(b, a)
	},
	Ir: function() {
		this.ka().Ir()
	},
	Lv: function(a) {
		a = a.O.readByte();
		this.ka().Lv(a)
	},
	Ov: function(a) {
		a = a.O.readByte();
		this.ka().Ov(a)
	},
	EV: function(a, b) {
		var c = this.Jb(a);
		if (null != c) {
			if (c.Ka = b) c && (c.Va = -1, c.status = PLAYER_STATE_NOT_READY);
			else {
				var d = this.xz();
				c && (c.Va = d)
			}
			this.DV()
		}
	},
	xz: function() {
		var a = [],
			b;
		for (b = 0; b < this.Xb; b++) null != this.ga[b] && 0 <= this.ga[b].Va && 2 >
			this.ga[b].Va && (a[this.ga[b].Va] = !0);
		for (b = 0; 2 > b; b++)
			if (!a[b]) return b;
		return -1
	},
	DV: function() {
		for (var a = 0, b = 0; b < this.Xb; b++) {
			var c = this.Mg(b);
			c && c.status != PLAYER_STATE_NOT_READY && a++
		}
		this.Cv = a
	},
	Mg: function(a) {
		return this.ga[a]
	},
	fm: function() {
		var a = this.Ba(),
			b = this;
		a && !a.Ka && this.Ib == GAME_STATE_PLAYING ? showPopupConfirmWith("B\u1ea1n s\u1ebd thua v\u00e1n n\u00e0y.\nB\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n tho\u00e1t?", "Tho\u00e1t khi \u0111ang ch\u01a1i", function() {
			b.wo(1)
		}) : this.wo(0)
	},
	Br: function(a) {
		var b =
			new BkPacket;
		b.vF(a);
		BkConnectionManager.send(b)
	},
	CP: function(a, b) {
		var c = new BkPacket;
		c.UF(a, b);
		BkConnectionManager.send(c)
	},
	gD: function(a) {
		var b = new BkPacket;
		b.XF(a);
		BkConnectionManager.send(b)
	},
	KP: function() {
		var a = new BkPacket;
		a.wF();
		BkConnectionManager.send(a)
	},
	vQ: function(a, b, c, d) {
		var e = new BkPacket;
		e.GF(a, b, c, d);
		BkConnectionManager.send(e)
	},
	ah: function(a) {
		switch (a.Type) {
			case Xd:
				break;
			case li:
				this.rr(a);
				this.hb();
				break;
			case pe:
				this.Bo(a);
				this.hb();
				break;
			case te:
				this.qr(a);
				break;
			case ve:
				this.Mv(a);
				this.hb();
				break;
			case Fe:
				this.Lv(a);
				this.hb();
				break;
			case Ef:
				this.Ov(a);
				this.hb();
				break;
			case Jh:
				this.ka().FO();
				this.hb();
				break;
			default:
				this._super(a)
		}
	}
});
BkCoUpInGameLogic = BkChessInGameLogic.extend({
	ctor: function() {
		this._super()
	},
	Vb: function(a) {
		switch (a) {
			case xe:
			case Qe:
				return !0
		}
		return this._super(a)
	},
	Qv: function(a) {
		var b = a.O.readByte();
		a = a.O.readByte();
		this.ka().Qv(b, a)
	},
	jO: function(a) {
		a.O.readByte()
	},
	ah: function(a) {
		switch (a.Type) {
			case Xd:
				break;
			case xe:
				this.Qv(a);
				this.hb();
				break;
			case Qe:
				this.jO(a);
				this.hb();
				break;
			default:
				this._super(a)
		}
	}
});
BkLabelTTF = cc.LabelTTF.extend({
	ctor: function(a, b, c, d, e, f, g, h) {
		b = cm(void 0 === g ? !1 : g, void 0 === h ? !1 : h);
		this._super(a, b, c, d, e, f);
		this.setFontSize(c);
		isWebPlatform() && this.setScale(0.5)
	},
	setFontSize: function(a) {
		isWebPlatform() ? this._super(2 * a) : this._super(a)
	},
	getContentSize: function() {
		var a = this._super();
		return isWebPlatform() ? cc.size(a.width / 2, a.height / 2) : a
	},
	_getWidth: function() {
		return this.getContentSize().width
	},
	_getHeight: function() {
		return this.getContentSize().height
	},
	Yb: function(a, b) {
		void 0 === b &&
			(b = a);
		isWebPlatform() || this.setScale(a, b)
	}
});
BTN_YELLOW_TEXT_SHADOW_POS = cc.p(1, -3);
BkButton = ccui.Button.extend({
	Ux: null,
	Ws: null,
	Rx: null,
	Tx: null,
	Ys: !0,
	by: null,
	Kb: 0,
	Xs: ccui.Widget.LOCAL_TEXTURE,
	Yk: null,
	Zk: null,
	jh: null,
	li: !1,
	ctor: function(a, b, c, d, e, f) {
		this._super();
		this.li = !1;
		void 0 != f && (this.li = f);
		this.li || (this.setTitleFontName("Roboto-Medium"), this.setTitleFontSize(16), this.setName("BkButton"), this.setTitleColor(cc.color(240, 240, 255)));
		isWebPlatform() && (this.Ws = new cc.Sprite.LoadManager);
		f = ccui.Widget.LOCAL_TEXTURE;
		e && (f = e);
		a && this.loadTextures(a, b, c, d, f);
		isWebPlatform() && d && this.Wx();
		this.li && this.EG()
	},
	Kk: function(a, b, c) {
		a ? null == this.Qb && (this.Qb = new BkSprite("#" + b), this.Qb.x = this.Qb.width / 2, this.Qb.y = this.Qb.height / 2, void 0 != c ? this.addChild(this.Qb, c) : this.addChild(this.Qb, -1), a = cc.fadeOut(1), b = a.reverse(), c = cc.delayTime(0.25), a = cc.sequence(a, c, b).repeatForever(), this.Qb.runAction(a)) : null != this.Qb && (this.Qb.stopAllActions(), this.Qb.removeFromParent(), this.Qb = null)
	},
	setOpacity: function(a) {
		this._super(a);
		this.li && null != this.jh && this.jh.setOpacity(a)
	},
	EG: function() {
		this.jh = new cc.LabelBMFont("",
			res.Bs);
		this.jh.x = this._getNormalSize().width / 2 + 0.5;
		this.jh.y = this._getNormalSize().height / 2 + 0.5;
		this.addChild(this.jh, 100)
	},
	setTitleText: function(a) {
		this.li ? this.jh.setString(a, !0) : this._super(a)
	},
	wL: function() {
		console.log("BkButton - this.getTitleLabel");
		return this.li ? (console.log("BkButton - getTitleLabel() return this._titleButtonBMF"), this.jh) : this.getTitleRenderer()
	},
	setTitleFontSize: function(a) {
		this.li ? 18 != a && this.jh.setScale(a / 18) : isWebPlatform() ? (this._super(2 * a), this.getTitleRenderer().setScale(0.5)) :
			this._super(a)
	},
	Wx: function() {
		var a = this;
		this.Rf = xb(function() {
			null != a.Yk && a.Yk()
		}, function() {
			null != a.Zk && a.Zk()
		}, function() {});
		cc.eventManager.addListener(this.Rf, this)
	},
	jT: function(a, b) {
		isWebPlatform() && (this.Yk = a, this.Zk = b)
	},
	loadTextures: function(a, b, c, d, e) {
		this._super(a, b, c, e);
		isWebPlatform() && void 0 != d && cc.isString(d) && this.LN(d, e)
	},
	_initRenderer: function() {
		this._super()
	},
	_adaptRenderers: function() {
		this._super();
		isWebPlatform() && this.Ys && (this.DG(), this.Ys = !1)
	},
	_onSizeChanged: function() {
		this._super();
		isWebPlatform() && (this.Ys = !0)
	},
	DG: function() {
		this._buttonScale9Renderer.setContentSize(this._contentSize);
		this._buttonScale9Renderer.setPosition(this._contentSize.width / 2, this._contentSize.height / 2)
	},
	LN: function(a, b) {
		if (isWebPlatform() && a) {
			b = b || ccui.Widget.LOCAL_TEXTURE;
			this.Tx = a;
			this.Xs = b;
			var c;
			switch (this.Xs) {
				case ccui.Widget.LOCAL_TEXTURE:
					c = this._createSpriteFrameWithFile(a);
					break;
				case ccui.Widget.PLIST_TEXTURE:
					"#" === a[0] && (a = a.substr(1, a.length - 1)), c = this._createSpriteFrameWithName(a)
			}
			c && (c._textureLoaded ?
				(this.Rx = c, this._updateChildrenDisplayedRGBA(), this.Ux = !0, this._findLayout(), this.Yk = function() {
					this._buttonScale9Renderer.setState(ccui.Scale9Sprite.state.NORMAL);
					this.Ux && this._buttonScale9Renderer.setSpriteFrame(this.Rx)
				}, this.Zk = function() {
					this._buttonScale9Renderer.setSpriteFrame(this._buttonNormalSpriteFrame);
					this._buttonScale9Renderer.setState(ccui.Scale9Sprite.state.NORMAL)
				}) : (this.Ws.clear(), this.Ws.once(c, function() {
					this.loadTextureDisabled(this.Tx, this.Xs)
				}, this)))
		}
	},
	ad: function(a, b) {
		isWebPlatform() &&
			(this.Cd = xb(a, b), cc.eventManager.addListener(this.Cd, this))
	},
	ef: function(a) {
		this.setBright(a);
		this.setTouchEnabled(a);
		this.eT(a)
	},
	eT: function(a) {
		isWebPlatform() && (a ? this.Rf.setEnabled(!0) : (cc._canvas.style.cursor = "default", this.Rf.setEnabled(!1)))
	},
	Ya: function(a) {
		this.ef(a);
		this.visible = a
	},
	kT: function(a) {
		this.by = a;
		null != this.getTitleText() && (this.by ? this.setTitleColor(cc.color(255, 255, 255)) : this.setTitleColor(cc.color(251, 234, 180)))
	},
	Yb: function(a, b) {
		void 0 === b && (b = a);
		isWebPlatform() || this.setScale(b,
			b)
	}
});
BkButton.create = function(a, b, c, d) {
	return new BkButton(a, b, c, d)
};
BkButtonWithHint = BkButton.extend({
	Ed: null,
	Yq: !1,
	ctor: function(a, b, c, d, e) {
		this._super(a, b, c, d, e)
	},
	NL: function() {
		null == this.Ed && (this.Ed = new BkSprite("#arrow.png"));
		this.Ed.x = this.width / 2;
		this.Ed.y = 50;
		this.Ed.scaleX = 0.5;
		this.Ed.scaleY = 0.6;
		this.Ed.visible = !1;
		this.addChild(this.Ed);
		this.Yq = !1
	},
	Wx: function() {
		var a = this;
		this.Rf = xb(function() {
			a.Qx.setVisible(!0);
			a.Sx.setVisible(!1);
			null != a.Yk && a.Yk()
		}, function() {
			a.Qx.setVisible(!1);
			a.Sx.setVisible(!0);
			null != a.Zk && a.Zk()
		}, function() {
			a.Qx.setVisible(!1)
		});
		cc.eventManager.addListener(this.Rf, this.Sx)
	},
	x5: function(a) {
		a ? (null == this.Ed && this.NL(), this.Ed.visible = a, this.iy(this.Ed.x, this.Ed.y, 0.25)) : this.GU()
	},
	GU: function() {
		null != this.Ed && (this.Ed.removeFromParent(), this.Ed = null)
	},
	iy: function(a, b, c) {
		var d = cc.callFunc(function() {
				b = (this.Yq = !this.Yq) ? b - 15 : b + 15;
				this.iy(a, b, c)
			}, this),
			e = cc.moveTo(c, a, b),
			d = cc.sequence(e, d);
		this.Ed.runAction(d)
	}
});
P_ITEM_PADDING_X = 8;
P_BTN_HEIGHT = 38;
P_BTN_TEXT_COLOR = cc.color(255, 239, 131);
P_BTN_TEXT_COLOR_HOVER = cc.color(252, 246, 95);
BkBtnPayment = BkSprite.extend({
	Hj: null,
	kt: null,
	Cz: null,
	ctor: function(a, b) {
		var c;
		c = [0, 30, 50, 100, 150, 200, 300, 400, 500, 600, 700, 800];
		c = b < c.length ? c[b] : Vk;
		var d = cc.rect(106, P_BTN_HEIGHT, 106, P_BTN_HEIGHT);
		a == P ? c > Vk && (d = cc.rect(146, P_BTN_HEIGHT, 146, P_BTN_HEIGHT)) : d = c > Vk ? cc.rect(76, P_BTN_HEIGHT, 76, P_BTN_HEIGHT) : cc.rect(42, P_BTN_HEIGHT, 42, P_BTN_HEIGHT);
		this._super();
		this.setContentSize(cc.size(d.width, d.height));
		this.Hj = d;
		this.kt = c;
		this.Cz = a;
		this.TL()
	},
	TL: function() {
		var a;
		a = Il(BkGlobal.ja) ? new cc.Scale9Sprite("bg_addMoney_chess.png") :
			new cc.Scale9Sprite("bg_addMoney.png");
		a.visible = !1;
		a.width = this.Hj.width;
		a.height = this.Hj.height;
		a.visible = !0;
		a.x = this.width / 2;
		a.y = this.height / 2;
		this.addChild(a, -1);
		var b = new BkSprite("#icon_addMoney.png");
		b.x = b.width / 2 + 12;
		b.y = a.height / 2 + 0.5;
		this.addChild(b);
		var c = new BkLabel(this.kt + "%", "", 15, !0);
		c.setTextColor(cc.color(250, 24, 2));
		c.enableOutline(cc.color.WHITE, 3);
		if (this.Cz == P) {
			var d = new BkLabel("N\u1ea1p ti\u1ec1n", "", 16);
			d.x = b.x + b.width / 2 + d.getContentSize().width / 2 + P_ITEM_PADDING_X;
			d.y = b.y;
			d.setColor(P_BTN_TEXT_COLOR);
			this.addChild(d);
			c.x = d.x + d.getContentSize().width / 2 + c.getContentSize().width / 2 + 5;
			c.y = d.y
		} else c.x = b.x + b.width / 2 + c.getContentSize().width / 2 + 5, c.y = b.y;
		this.kt > Vk ? (d && d.setFontSize(15), this.addChild(c), BkGlobal.Sa == P && this.Kk(!0, "highlight_naptien.png")) : this.Kk(!1);
		var e, f = this;
		this.ad(function() {
			e = Il(BkGlobal.ja) ? cc.spriteFrameCache.getSpriteFrame("bg_addMoney_hover_chess.png") : cc.spriteFrameCache.getSpriteFrame("bg_addMoney_hover.png");
			a.initWithSpriteFrame(e);
			a.width = f.Hj.width;
			a.height = f.Hj.height;
			d && d.setColor(P_BTN_TEXT_COLOR_HOVER);
			b.initWithSpriteFrameName("icon_addMoney_hover.png")
		}, function() {
			e = Il(BkGlobal.ja) ? cc.spriteFrameCache.getSpriteFrame("bg_addMoney_chess.png") : cc.spriteFrameCache.getSpriteFrame("bg_addMoney.png");
			a.initWithSpriteFrame(e);
			a.width = f.Hj.width;
			a.height = f.Hj.height;
			d && d.setColor(P_BTN_TEXT_COLOR);
			b.initWithSpriteFrameName("icon_addMoney.png")
		})
	},
	Kk: function(a, b) {
		if (a) {
			if (null == this.Qb) {
				this.Qb = new BkSprite("#" + b);
				this.Qb.x = this.Qb.width / 2;
				this.Qb.y = this.Qb.height /
					2 + 0.5;
				this.addChild(this.Qb, -1);
				var c = cc.fadeOut(1),
					d = c.reverse(),
					e = cc.delayTime(0.25),
					c = cc.sequence(c, e, d).repeatForever();
				this.Qb.runAction(c)
			}
		} else null != this.Qb && (this.Qb.stopAllActions(), this.Qb.removeFromParent(), this.Qb = null)
	}
});
cc.Scene.extend({
	_className: "BkBaseScene",
	ctor: function() {
		this._super();
		this.init()
	}
});
WD_ZORDER_WINDOW = -3;
WD_ZORDER_TOP = 2;
WD_ZORDER_BODY = -2;
WD_BODY_MARGIN_TB = WD_BODY_MARGIN_LR = 22;
BkStackWindow = {
	aj: null,
	Vn: function() {
		null == this.aj && (this.aj = new BkStack)
	},
	oR: function(a) {
		this.Vn();
		this.aj.nR(a);
		logMessage("pushWindow length " + this.yl())
	},
	ak: function() {
		this.Vn();
		logMessage("getTopWindow length " + this.yl());
		return this.aj.xL()
	},
	pop: function() {
		this.Vn();
		logMessage("pop length " + this.yl());
		return this.aj.pop()
	},
	isEmpty: function() {
		this.Vn();
		return 0 == this.aj.yl()
	},
	yl: function() {
		this.Vn();
		return this.aj.yl()
	},
	OI: function() {
		this.aj = null
	}
};
BkWindow = BkBaseLayer.extend({
	kh: null,
	Q: null,
	Aj: null,
	lb: null,
	Gc: null,
	sX: null,
	Ac: null,
	Zb: null,
	Pa: null,
	hi: null,
	Tf: null,
	dy: null,
	Dp: null,
	Gp: null,
	cy: !1,
	Ss: null,
	Ap: null,
	Tl: [],
	ctor: function(a, b, c, d) {
		var e = cc.director.getWinSize();
		b.width > 0.9 * e.width && (b.width = 0.9 * e.width);
		b.height > 0.9 * e.height && (b.height = 0.9 * e.height);
		this.Q = cc.size(b.width, b.height);
		this.Ab(c);
		this._super();
		logMessage("Call WD : " + a);
		this.init(a, d);
		this.Tl = []
	},
	init: function(a, b) {
		void 0 == b && (b = !1);
		this.Gp = !1;
		this.setName("BkWindow");
		this.lb =
			new cc.Layer;
		var c = cc.rect(250, 12, 250, 6);
		this.Ac = b ? new cc.Scale9Sprite("window_header.png", c) : new cc.Scale9Sprite("window_noSbTab_header.png", c);
		this.Ac.width = this.Q.width;
		this.Ac.x = this.Q.width / 2;
		this.Ac.y = this.Q.height - this.Ac.height / 2;
		this.lb.addChild(this.Ac, WD_ZORDER_TOP);
		this.kh = new BkLabel(a, "Arial", 20, !0);
		this.kh.color = cc.color(255, 255, 255);
		this.kh.x = this.Q.width / 2;
		this.kh.y = this.Ac.y;
		this.kh.enableShadow(cc.color(13, 59, 85), cc.p(2, -2));
		this.lb.addChild(this.kh, WD_ZORDER_TOP);
		this.Zb = new BkButton("btn_close_popup.png",
			"btn_close_popup.png", "btn_close_popup.png", "btn_close_hover_popup.png", ccui.Widget.PLIST_TEXTURE);
		this.Zb.setScale(GAME_SCALE);
		this.Zb.x = this.Q.width - this.Zb.width / 2 * GAME_SCALE;
		this.Zb.y = this.Ac.y;
		this.Zb.addTouchEventListener(function(a, b) {
			b == ccui.Widget.TOUCH_ENDED && (logMessage("click btnClose"), isWebPlatform() && (cc._canvas.style.cursor = "default"), this.removeSelf(), null != this.Ss && this.Ss())
		}, this);
		this.lb.addChild(this.Zb, WD_ZORDER_TOP);
		this.Iq(b);
		this.hi = new cc.Scale9Sprite("window_bottom.png",
			c);
		this.hi.width = this.Q.width;
		this.hi.x = this.Q.width / 2;
		this.hi.y = this.Pa.y - this.Q.height / 2 + 0.5 * this.hi.height;
		this.lb.addChild(this.hi, WD_ZORDER_BODY)
	},
	Iq: function(a) {
		a = a ? cc.spriteFrameCache.getSpriteFrame("window_body_bg.png") : cc.spriteFrameCache.getSpriteFrame("window_noSubTab_body_bg.png");
		this.Pa = new cc.Scale9Sprite(a);
		this.Pa.width = this.Q.width;
		this.Pa.height = this.Q.height - this.Ac.height;
		this.Pa.x = this.Q.width / 2;
		this.Pa.y = this.Ac.y - this.Q.height / 2 + 0.5;
		this.lb.addChild(this.Pa, WD_ZORDER_BODY)
	},
	o4: function(a) {
		this.Ss = a
	},
	df: function(a) {
		this.Ap = a
	},
	d0: function() {
		return this.kh
	},
	s5: function(a) {
		this.kh.setString(a)
	},
	a0: function() {
		return this.Ac.height
	},
	c0: function() {
		return this.Q
	},
	r5: function(a, b) {
		this.Q = cc.size(a, b)
	},
	ab: function() {
		return cc.size(this.Q.width, this.Q.height - 2 * this.Ac.height)
	},
	NZ: function() {
		return this.Aj
	},
	OZ: function() {
		return this.lb
	},
	F_: function() {
		return this.Tf
	},
	Ab: function(a) {
		this.Tf = a
	},
	Cw: function() {
		this.Aj = cc.size(this.ab().width - 2 * WD_BODY_MARGIN_LR, this.ab().height - WD_BODY_MARGIN_TB);
		var a = new cc.DrawNode,
			b = cc.color(18, 37, 98);
		a.drawRect(cc.p(0, 0), cc.p(this.Aj.width, this.Aj.height), b, 1, b);
		a.x = WD_BODY_MARGIN_LR;
		a.visible = !1;
		this.T(a, -1)
	},
	zT: function(a) {
		this.Ac.visible = a
	},
	xT: function(a) {
		this.hi.visible = a
	},
	m5: function(a) {
		this.Pa.visible = a
	},
	T: function(a, b, c) {
		this.lb.addChild(a, void 0 === b ? 0 : b, void 0 === c ? 0 : c)
	},
	uu: function() {
		return cc.p(this.lb.x - this.Gc.x, this.lb.y - this.Gc.y)
	},
	Cc: function(a) {
		if (this.cy = a) {
			var b = cc.director.getWinSize();
			this.Gc = new BkSprite(res.Vr);
			this.Gc.setOpacity(210);
			this.Gc.x = b.width / 2;
			this.Gc.y = b.height / 2;
			a = b.width / this.Gc.getContentSize().width;
			b = b.height / this.Gc.getContentSize().height;
			this.Gc.scaleX = a;
			this.Gc.scaleY = b;
			isWebPlatform() || (this.Gc.scaleX = 2 * a, this.Gc.scaleY = 2 * b);
			var c = this,
				d = !1;
			this.Dp = yb(function(a) {
				d = !1;
				if (c.Gp) return !1;
				a = c.convertToNodeSpace(a.getLocation());
				cc.log("location " + a.x + " - " + a.y);
				var b = cc.rect(c.lb.x, c.lb.y, c.Q.width, c.Q.height);
				if (cc.rectContainsPoint(b, a)) return logMessage("insize window"), !1;
				logMessage("outzise window -\x3e remove window");
				d = !0
			}, null, function() {
				d && c.removeSelf()
			});
			cc.eventManager.addListener(this.Dp, this.Gc)
		} else null != this.Dp && cc.eventManager.removeListener(this.Dp)
	},
	Qo: function(a) {
		if (!a && a) {
			var b = this;
			this.dy = cc.EventListener.create({
				event: cc.EventListener.TOUCH_ONE_BY_ONE,
				swallowTouches: !0,
				onTouchBegan: function(a, b) {
					var e = b.getCurrentTarget(),
						f = e.convertToNodeSpace(a.getLocation()),
						e = e.getContentSize(),
						e = cc.rect(0, 0, e.width, e.height);
					return cc.rectContainsPoint(e, f) ? !0 : !1
				},
				onTouchMoved: function(a, d) {
					var e = d.getCurrentTarget(),
						f = e.convertToNodeSpace(a.getLocation()),
						e = e.getContentSize(),
						e = cc.rect(0, 0, e.width, e.height);
					cc.rectContainsPoint(e, f) && (b.Gp = !0, f = a.getDelta(), b.x += f.x, b.y += f.y, b.x < -b.Q.width / 2 && (b.x = -b.Q.width / 2), logMessage("[x: " + b.x + "- y: " + b.y + "]"), null != b.Gc && (b.Gc.x -= f.x, b.Gc.y -= f.y))
				},
				onTouchEnded: function() {
					b.Gp = !1
				}
			});
			cc.eventManager.addListener(this.dy, this.Ac)
		}
	},
	xP: function() {
		logMessage("preprocessBeforeRemoveWindow");
		BkStackWindow.pop();
		this.qK();
		this.Tf ? (logMessage("co parent node -\x3e resume event parent node"),
			cc.eventManager.resumeTarget(this.Tf, !0)) : this.oS();
		isWebPlatform() && (cc._canvas.style.cursor = "default");
		null != this.Ap && (logMessage("this._callbackRemoveWindow!\x3d null"), this.Ap(), this.Ap = null)
	},
	removeSelf: function(a) {
		this.removeFromParent(a)
	},
	removeFromParent: function(a) {
		this.xP();
		this._super(a)
	},
	Oa: function(a, b) {
		logMessage("window showWithParent");
		var c = getCurrentScene();
		if (void 0 != c) {
			var d = c.getChildByTag(dl);
			void 0 != d && null != d && d.removeSelf()
		}
		isWebPlatform() && (cc._canvas.style.cursor = "default");
		d = cc.director.getWinSize();
		this.lb.x = d.width / 2 - this.Q.width / 2;
		this.lb.y = d.height / 2 - this.Q.height / 2;
		this.addChild(this.lb, WD_ZORDER_WINDOW);
		this.cy && this.addChild(this.Gc, -4);
		d = !0;
		void 0 != a && null != a && (d = a);
		d && (this.Tf ? (logMessage("co parent node -\x3e pause parent node"), cc.eventManager.pauseTarget(this.Tf, !0)) : this.rP());
		void 0 != c && (void 0 != b && null != b ? c.addChild(this, Td, b) : c.addChild(this, Td));
		this.MJ();
		BkStackWindow.oR(this)
	},
	rP: function() {
		logMessage("khong co parent node -\x3e pauseEventLastWindow");
		var a = BkStackWindow.ak();
		null == a ? (logMessage("chua show 1 wd nao truoc day -\x3e pause scene"), a = getCurrentScene(), cc.isUndefined(a) || null == a || (a.lo = !0, cc.eventManager.pauseTarget(a, !0))) : cc.eventManager.pauseTarget(a, !0)
	},
	oS: function() {
		logMessage("khong co parent node -\x3e resumeEventLastWindow");
		var a = BkStackWindow.ak();
		null == a ? (logMessage("hien tai chi show crWD -\x3e resume scene"), a = getCurrentScene(), cc.isUndefined(a) || null == a || (a.lo = !1, cc.eventManager.resumeTarget(a, !0))) : cc.eventManager.resumeTarget(a,
			!0)
	},
	Mm: function(a) {
		this.Tl.push(a)
	},
	MJ: function() {
		var a = BkStackWindow.ak();
		if (null != a)
			for (var b, c = 0; c < a.Tl.length; c++) b = a.Tl[c], b.Lk(!0, !0)
	},
	qK: function() {
		var a = BkStackWindow.ak();
		if (null != a)
			for (var b, c = 0; c < a.Tl.length; c++) b = a.Tl[c], b.Lk(!1, !0)
	}
});
BkBaseChessWindow = BkWindow.extend({
	Za: null,
	ctor: function(a, b, c, d) {
		this._super(a, b, c, d);
		this.Cc(!0);
		this.zT(!1);
		this.xT(!1);
		this.Zb.Ya(!1)
	},
	Iq: function(a) {
		var b = "mini_popupframe.png",
			c = this.Q.width,
			d = GAME_SCALE;
		isWebPlatform() && (a && (b = "info_frame.png"), 500 > this.Q.width ? d = 0.6 : 600 > this.Q.width && (d = 0.9));
		a = cc.spriteFrameCache.getSpriteFrame(b);
		b = cc.rect(75, 80, 425, 379);
		this.Pa = new cc.Scale9Sprite(a, b);
		isWebPlatform() || (c = this.Pa.getContentSize().width);
		this.Pa.width = c * GAME_SCALE;
		this.Pa.height = this.Q.height;
		this.Pa.x = this.Q.width / 2;
		this.Pa.y = this.Q.height / 2;
		this.lb.addChild(this.Pa, WD_ZORDER_BODY);
		c = d;
		1 > c && !isWebPlatform() && (c = 1);
		this.Za = new BkSprite("#header.png");
		this.Za.setScaleX(d);
		this.Za.setScaleY(c);
		this.Za.x = this.Q.width / 2;
		this.Za.y = this.Q.height - this.Za.getBoundingBox().height / 2;
		this.lb.addChild(this.Za, WD_ZORDER_BODY)
	},
	Ob: function(a, b, c) {
		b = void 0 === b ? 0 : b;
		a = new BkSprite("#" + a);
		c ? a.setScale(c) : a.setScale(GAME_SCALE);
		a.x = this.Za.x;
		a.y = this.Za.y + b * GAME_SCALE;
		this.lb.addChild(a, WD_ZORDER_BODY)
	}
});
TAB_WD_BUTTON_MARGIN_TOP = 12 * GAME_SCALE_HEIGHT;
TAB_WD_BUTTON_MARGIN_LEFT = 84 * GAME_SCALE_WIDTH;
TAB_WD_BUTTON_MARGIN = 3;
TAB_WD_BODY_MARGIN_LR = 22 * GAME_SCALE_WIDTH;
TAB_WD_BODY_MARGIN_TB = 22 * GAME_SCALE_HEIGHT;
BkTabWindow = BkBaseChessWindow.extend({
	nc: null,
	ii: null,
	$s: null,
	va: null,
	of: null,
	at: null,
	Jp: null,
	ctor: function(a, b, c, d) {
		logMessage("Create tab windows: " + a + " size: " + b.width + ":" + b.height);
		this._super(a, b, null, !0);
		this.$s = c;
		this.nc = 1;
		this.of = d;
		this.Rn();
		this.kh.setVisible(!1)
	},
	gf: function(a, b) {
		a && (a.kT(b), b ? a.loadTextures("Tab_active_popup.png", "Tab_active_popup.png", "Tab_active_popup.png", "Tab_active_popup.png", ccui.Widget.PLIST_TEXTURE) : a.loadTextures("Tab_no_active_popup.png", "Tab_no_active_popup.png",
			"Tab_no_active_popup.png", "Tab_no_active_hover_popup.png", ccui.Widget.PLIST_TEXTURE))
	},
	Rn: function() {
		this.ii = new cc.DrawNode;
		this.T(this.ii, 0, 0);
		this.va = [];
		for (var a = 0; a < this.$s; a++) {
			var b = this.wJ();
			this.Gh(b, a + 1);
			this.va.push(b)
		}
		this.xh();
		if (void 0 != this.of)
			for (a = 0; a < this.of.length; a++) b = this.va[a], b.setTitleText(this.of[a]), 0 == a ? this.gf(b, !0) : this.gf(b, !1);
		else logMessage("Error: Must addTabChangeEventListener to callback handle")
	},
	Gh: function(a, b) {
		this.gf(a, !0);
		a.setTitleFontSize(18);
		a.x = 0;
		a.y =
			this.Ac.y - a.height / 2 + TAB_WD_BUTTON_MARGIN_TOP;
		a.getTitleRenderer().enableShadow(cc.color(13, 59, 85), cc.p(2, -2));
		this.T(a, WD_ZORDER_TOP);
		var c = this;
		a.jT(function() {
			b == c.nc && isWebPlatform() && (cc._canvas.style.cursor = "default")
		}, null);
		a.addTouchEventListener(function(a, e) {
			e == ccui.Widget.TOUCH_ENDED && b != c.nc && c.Ct(b)
		})
	},
	Ct: function(a) {
		this.nc = a;
		this.fn(a);
		this.CS(a)
	},
	fn: function(a) {
		for (var b = 0; b < this.$s; b++) this.gf(this.va[b], !1);
		this.gf(this.va[a - 1], !0)
	},
	xh: function(a) {
		a = "undefined" !== typeof a ? a : TAB_WD_BUTTON_MARGIN_LEFT;
		this.va[0].x = a + 0.5;
		for (a = 1; a < this.va.length; a++) {
			var b = this.va[a - 1];
			this.va[a].x = b.x + b.width + TAB_WD_BUTTON_MARGIN
		}
	},
	PZ: function() {
		return null == this.va || 0 == this.va.length ? this.Ac.y - TAB_WD_BUTTON_MARGIN_TOP : this.va[0].y - this.va[0].height
	},
	AY: function(a) {
		a = "undefined" !== typeof a ? a : TAB_WD_BUTTON_MARGIN_TOP;
		for (var b = 0; b < this.va.length; b++) this.va[b].y = this.Ac.y + a
	},
	CS: function(a) {
		logMessage("BkTabWindow - selectedTab");
		this.Jp && (this.at ? this.Jp.call(this.at, this, a) : this.Jp(this, a))
	},
	Lp: function(a, b, c) {
		void 0 ==
			c && (c = this.nc);
		this.Jp = a;
		this.at = b;
		this.Ct(c)
	},
	YZ: function() {
		return this.nc
	},
	w4: function(a) {
		this.nc = a
	},
	VZ: function() {
		return cc.p(this.ii.x, this.ii.y)
	},
	QZ: function() {
		return this.ii
	},
	a7: function(a) {
		this.ii.visible = a
	},
	wJ: function() {
		return new BkButton("Tab_no_active_popup.png", "Tab_no_active_popup.png", "Tab_no_active_popup.png", "Tab_no_active_hover_popup.png", ccui.Widget.PLIST_TEXTURE)
	}
});
BkCountDownTime = cc.ProgressTimer.extend({
	Hi: null,
	e7: null,
	I3: null,
	callback: null,
	cl: null,
	ft: null,
	tg: 0,
	jC: 300,
	Cf: null,
	th: null,
	ys: 0,
	vu: 0,
	Ds: 0,
	ctor: function(a) {
		this.Hi = new BkSprite(a);
		this._super(this.Hi);
		this.type = cc.ProgressTimer.TYPE_RADIAL;
		this.x = this.Hi.getWidth() / 2;
		this.y = this.Hi.getHeight() / 2;
		this.setReverseDirection(!0);
		this.Cf = new BkSprite("#pointtime.png");
		this.Cf.x = this.Hi.getWidth() / 2;
		this.Cf.y = this.Hi.getHeight();
		this.Cf.visible = !1;
		this.addChild(this.Cf);
		this.ys = this.Hi.getWidth();
		this.vu =
			this.Hi.getHeight();
		this.th = cc.p(this.ys / 2, this.vu / 2);
		this.Ds = this.ys / 2 - 0.05 * this.ys;
		this.retain()
	},
	setCallback: function(a) {
		this.callback = a
	},
	VS: function(a) {
		this.cl = a
	},
	Xr: function(a) {
		this.ft = Math.floor(1500 / a);
		15 > a && null != this.cl && this.cl();
		var b = cc.progressFromTo(a, 100, 0);
		this.tg = 0;
		this.jC = a / 0.1 - 1;
		this.runAction(b.repeat(1));
		this.schedule(this.KC, 0.1)
	},
	KC: function() {
		this.fV(this.getPercentage(), this);
		this.ft && Math.floor(this.getPercentage()) == this.ft && null != this.cl && (logMessage("alarmCallBack " + Math.floor(this.getPercentage())),
			this.cl(), this.cl = null);
		this.tg++;
		this.tg >= this.jC && null != this.callback && this.callback()
	},
	fV: function(a, b) {
		a = 100 - a;
		if (100 == a) b.sD();
		else {
			var c, d;
			if (0 == a) c = b.th.x, d = b.vu;
			else if (50 == a) c = b.th.x, d = 0;
			else {
				var e;
				c = 2 * Math.PI * a / 100;
				c = Math.PI / 2 - c;
				d = Math.tan(c);
				e = b.Ds / Math.sqrt(d * d + 1);
				25 > a && 0 <= a ? c = b.th.x + e : 50 <= a && 75 > a ? c = b.th.x - e : (c = -c + Math.PI, d = -Math.tan(c), e = b.Ds / Math.sqrt(d * d + 1), c = 75 <= a ? b.th.x - e : b.th.x + e);
				d = d * (c - b.th.x) + b.th.y
			}
			b.Cf.visible || (b.Cf.visible = b);
			b.Cf.x = c;
			b.Cf.y = d
		}
	},
	sD: function() {
		null != this.Cf &&
			(this.Cf.removeFromParent(), this.Cf = null)
	},
	Er: function() {
		this.unschedule(this.KC);
		this.sD();
		this.removeFromParent();
		this.release()
	}
});
BkLabel = ccui.Text.extend({
	ctor: function(a, b, c, d, e) {
		b = cm(void 0 === d ? !1 : d, void 0 === e ? !1 : e);
		this._super(a, b, c);
		this.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
		isWebPlatform() && this.setScale(0.5);
		this.retain()
	},
	getContentSize: function() {
		var a = this._super();
		return isWebPlatform() ? cc.size(a.width / 2, a.height / 2) : a
	},
	_getWidth: function() {
		return this.getContentSize().width
	},
	_getHeight: function() {
		return this.getContentSize().height
	},
	setFontSize: function(a) {
		isWebPlatform() ?
			this._super(2 * a) : this._super(a)
	},
	removeFromParent: function(a) {
		this._super(a);
		this.release()
	},
	Yb: function(a, b) {
		void 0 === b && (b = a);
		isWebPlatform() || this.setScale(a, b)
	}
});
BkEditBox = cc.EditBox.extend({
	B0: !1,
	DY: 0,
	_edTxt: null,
	ctor: function(a, b) {
		this._super(a, b);
		this.setInputMode(cc.EDITBOX_INPUT_MODE_SINGLELINE);
		this.setInputFlag(cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_SENTENCE);
		this.setPlaceholderFontName("Arial");
		this.stayOnTop(!1)
	},
	setFontSize: function(a) {
		this._super(a);
		this.setPlaceholderFontSize(a)
	},
	Lk: function(a, b) {
		var c = !a;
		this.setTouchEnabled(c);
		this.setVisible(c);
		b && (a ? (this.GE = this.getString(), this.setString("")) : this.GE && this.setString(this.GE))
	},
	g4: function() {},
	i5: function() {},
	h5: function() {},
	g5: function() {},
	e5: function() {},
	d5: function() {},
	k4: function() {},
	Q4: function() {},
	E4: function() {},
	N4: function() {}
});
var An = cc.Class.extend({
	uZ: null,
	container: null,
	zOrder: 0,
	ctor: function(a, b) {
		this.container = a;
		b && (this.zOrder = b)
	},
	editBoxEditingDidBegin: function(a) {
		logMessage("editBoxEditingDidBegin");
		BkGlobal.yA = !0;
		this.container && isFBInstantGame() && (this.sS = this.container.getPosition(), a = this.container.convertToNodeSpace(cc.p(0.5 * cc.winSize.width, 0.6 * cc.winSize.height)).y - a.y, 0 < a && (this.container.y += a))
	},
	editBoxEditingDidEnd: function() {
		logMessage("editBoxEditingDidEnd");
		BkGlobal.yA = !1;
		isFBInstantGame() && this.container.setPosition(this.sS)
	},
	editBoxTextChanged: function() {},
	editBoxReturn: function() {
		logMessage("editBoxReturn");
		BkGlobal.yA = !1
	}
});
BkCheckBox = ccui.CheckBox.extend({
	ctor: function() {
		this._super();
		this.setTouchEnabled(!0);
		this.loadTextures("checkbox_unchecked.png", "checkbox_unchecked_hover.png", "checkbox_checked.png", "checkbox_unchecked_disable.png", "checkbox_checked_disable.png", ccui.Widget.PLIST_TEXTURE)
	},
	B4: function(a) {
		this.setBright(a);
		this.setTouchEnabled(a)
	}
});
DELAYY = DELAYX = 0;
CARD_HEIGHT = 116;
CARD_WIDTH = 84;
TAG_SELECT = 1;
TAG_DESELECT = 2;
TAG_DEAL_CARD = 3;
NHEP = 0;
RO = 1;
CO = 2;
BICH = 3;
CARD_STATUS_TAKEN = 2;
CARD_STATUS_CURRENT = 3;
CARD_STATUS_DISCARD = 4;
YPOS_ONHAND_DOWN = 119;
YPOS_ONHAND_UP = YPOS_ONHAND_DOWN + 15;
BkCard = BkSprite.extend({
	id: -1,
	vi: null,
	eh: null,
	Kx: 1E3,
	Es: 0,
	ux: 1,
	Jj: 0,
	wy: 0,
	sB: null,
	Wu: !0,
	handle: null,
	un: null,
	Wv: 0,
	d3: null,
	vt: null,
	type: 0,
	ej: 0,
	cm: null,
	Je: null,
	nr: null,
	Th: null,
	mo: !1,
	Ml: !1,
	pl: null,
	ni: null,
	Ts: null,
	ctor: function(a, b) {
		this._super();
		this.ej = a;
		this.type = b;
		this.id = this.fg();
		this.init(a, b)
	},
	init: function(a, b) {
		this.Jj = this.Es;
		this.FA(a, b);
		this.ve = this.sB = !1;
		this.Wu = !0;
		this.mo = !1
	},
	F4: function(a) {
		this.mo = a
	},
	CR: function(a) {
		this.ej = Math.floor(a / 4);
		this.type = a % 4;
		this.id = a;
		null != this.vi && this.vi.removeSelf();
		this.vi = null;
		this.FA(this.ej, this.type)
	},
	FA: function(a, b) {
		0 == b && (b = 4);
		null == this.vi && (this.vi = new BkSprite(res.qF, cc.rect(DELAYX * a + CARD_WIDTH * (a - 1), DELAYY * b + CARD_HEIGHT * (b - 1), CARD_WIDTH, CARD_HEIGHT)));
		this.vi.x = CARD_WIDTH / 2;
		this.vi.y = CARD_HEIGHT / 2;
		this.width = CARD_WIDTH;
		this.height = CARD_HEIGHT;
		this.addChild(this.vi)
	},
	v0: function() {
		this.eh = this.fA();
		null != this.eh && (this.eh.x = 45, this.eh.y = 95, this.addChild(this.eh))
	},
	w0: function(a) {
		var b = !1;
		switch (a) {
			case qb:
			case rb:
			case pb:
				b = !0
		}
		if (1 > this.ej || 13 < this.ej) b = !1;
		b && (this.eh = this.fA(), null != this.eh && (this.eh.x = 45, this.eh.y = 95, this.addChild(this.eh)))
	},
	fA: function() {
		var a = null;
		switch (this.type) {
			case RO:
				a = cc.rect(1, 0, 24, 22);
				break;
			case CO:
				a = cc.rect(25, 0, 24, 22);
				break;
			case BICH:
				a = cc.rect(49, 0, 24, 22);
				break;
			case NHEP:
				a = cc.rect(73, 0, 24, 22)
		}
		return null == a ? null : new BkSprite(res.lY, a)
	},
	VL: function() {
		null == this.uf && (this.uf = new BkSprite(res.qF, cc.rect(14 * DELAYX + 13 * CARD_WIDTH, 1 * DELAYY + 0 * CARD_HEIGHT, CARD_WIDTH, CARD_HEIGHT)), this.addChild(this.uf, 100));
		this.uf.x = CARD_WIDTH /
			2;
		this.uf.y = CARD_HEIGHT / 2;
		this.uf.width = CARD_WIDTH;
		this.uf.height = CARD_HEIGHT;
		this.uf.visible = !0
	},
	n4: function(a) {
		this.vt = a
	},
	IR: function() {
		null != this.uf && (this.uf.removeFromParent(), this.uf = null)
	},
	WL: function() {
		null == this.lg && (this.lg = new BkSprite("#mask.png"), this.addChild(this.lg));
		this.lg.x = CARD_WIDTH / 2 - 1;
		this.lg.y = CARD_HEIGHT / 2;
		this.lg.width = CARD_WIDTH - 2;
		this.lg.height = CARD_HEIGHT;
		this.lg.visible = !0
	},
	HR: function() {
		null != this.ni && (this.ni.removeFromParent(), this.ni = null)
	},
	e1: function() {
		return null !=
			this.ni
	},
	A5: function() {
		this.HR();
		this.ni = new BkSprite("#card_invisible.png");
		this.ni.x = CARD_WIDTH / 2;
		this.ni.y = CARD_HEIGHT / 2;
		this.addChild(this.ni)
	},
	j0: function() {
		null != this.lg && (this.lg.visible = !1)
	},
	Vx: function() {
		this.cm = xb();
		cc.eventManager.addListener(this.cm, this);
		this.Je = yb(function(a, b) {
			var c = b.getCurrentTarget();
			BkLogicManager.oa().ZC(c)
		}, function() {}, function() {});
		cc.eventManager.addListener(this.Je, this)
	},
	q0: function(a, b, c, d) {
		this.NR();
		var e = 10;
		void 0 != d && 0 <= d && (e = d);
		var f = null;
		this.cm = xb();
		cc.eventManager.addListener(this.cm, this);
		this.nr = cc.EventListener.create({
			event: cc.EventListener.TOUCH_ONE_BY_ONE,
			swallowTouches: !0,
			onTouchBegan: function(b, c) {
				var d = c.getCurrentTarget(),
					e = d.convertToNodeSpace(b.getLocation()),
					r = d.getContentSize(),
					r = cc.rect(0, 0, r.width, r.height);
				return cc.rectContainsPoint(r, e) ? (void 0 != a && null != a && a(d), f = cc.p(d.x, d.y), !0) : !1
			},
			onTouchMoved: function(a, b) {
				var d = b.getCurrentTarget(),
					m = a.getDelta();
				d.x += m.x;
				d.y += m.y;
				(Math.abs(d.x - f.x) > e || Math.abs(d.y - f.y) > e) && void 0 !=
					c && null != c && c(d, !0)
			},
			onTouchEnded: function(a, c) {
				J();
				var d = c.getCurrentTarget();
				Math.abs(d.x - f.x) > e || Math.abs(d.y - f.y) > e ? void 0 != b && null != b && b(d, d.x, d.y) : d.Wu && (d.x = f.x, d.y = f.y, BkLogicManager.oa().ZC(d))
			}
		});
		cc.eventManager.addListener(this.nr, this)
	},
	isSelected: function() {
		return this.Jj == this.ux
	},
	DJ: function(a) {
		logMessage("deSelect " + this.toString());
		this.xH(a)
	},
	AS: function(a) {
		this.yH(a)
	},
	xZ: function() {
		this.hw();
		logMessage("enableEventHoverAndClick:" + this.id);
		this.Vx()
	},
	NR: function() {
		cc.eventManager.removeListener(this.Je);
		cc.eventManager.removeListener(this.cm)
	},
	hw: function() {
		cc.eventManager.removeListener(this.Je);
		cc.eventManager.removeListener(this.cm);
		null != this.nr && cc.eventManager.removeListener(this.nr)
	},
	TD: function(a) {
		this.handle = a
	},
	x4: function(a) {
		this.Ts = a
	},
	gG: function() {
		this.ve ? logMessage("return") : null != this.Ts ? this.Ts(this) : this.Jj == this.Es ? this.AS(TAG_SELECT) : this.DJ(TAG_DESELECT)
	},
	m6: function() {
		this.iS();
		this.stopAllActions();
		this.Vp()
	},
	IU: function() {
		this.stopActionByTag(this.Kx);
		null != this.un && (this.x =
			this.un.x, this.y = this.un.y)
	},
	EE: function() {
		this.IU();
		this.Vp()
	},
	wH: function() {
		this.ve = !1;
		this.removeFromParent()
	},
	cD: function() {
		null == this.Th && (this.Th = [], this.Ml = !1);
		if (0 < this.Th.length) {
			this.Ml = !0;
			var a = this.Th.shift();
			this.fz(a.nz, a.zs, a.iF, a.tag)
		} else this.Ml = !1
	},
	iS: function() {
		this.mo && (this.Th = [], this.Ml = !1)
	},
	IQ: function(a) {
		null == this.Th && (this.Th = [], this.Ml = !1);
		this.Th.push(a);
		a = !this.Ml;
		1 != this.Th.length || this.ve || (a = !0);
		a && this.cD()
	},
	move: function(a, b, c, d) {
		this.mo ? (a = new BkAnimationCardData(a,
			b, c, d), this.IQ(a)) : this.fz(a, b, c, d)
	},
	fz: function(a, b, c, d) {
		this.ve && (logMessage("stopMoveAction"), this.EE());
		var e = cc.callFunc(this.Vp, this);
		this.tag = d;
		var f = cc.moveTo(a, b, c),
			e = cc.sequence(f, e);
		e.tag = this.Kx;
		this.y != c || this.x != b ? (this.pl = new BkAnimationCardData(a, b, c, d), this.un = cc.p(b, c), this.ve = !0, this.runAction(e)) : (logMessage("x,y not change -\x3e call cardAnimationFinish not run action"), this.Vp())
	},
	d2: function(a, b, c, d, e, f) {
		var g = this,
			h = cc.callFunc(this.wH, this, 1.2),
			k = cc.callFunc(function() {
				g.ve = !1
			}, this, 1.2);
		this.tag = d;
		d = 0.5;
		void 0 != f && (d = f);
		b = cc.moveTo(a, b, c);
		a = cc.scaleTo(a, d);
		a = cc.spawn(b, a);
		h = cc.sequence(a, h);
		void 0 != e && !1 == e && (h = cc.sequence(a, k));
		this.ve = !0;
		this.runAction(h)
	},
	Vp: function() {
		null != this.vt && this.vt(this);
		null != this.handle && this.handle.s2(this);
		this.ve = !1;
		this.pl = this.un = null;
		this.mo && this.cD()
	},
	yH: function(a, b) {
		var c = this.x;
		this.ve && null != this.pl && (c = this.pl.zs);
		var d = YPOS_ONHAND_UP;
		void 0 != b && b && (d = this.y + 15);
		void 0 == a && (a = "");
		this.tag = a;
		this.Jj = this.ux;
		this.move(0.1,
			c, d, a);
		this.Wr(!1);
		this.Tw(!0)
	},
	xH: function(a, b) {
		void 0 == a && (a = "");
		var c = this.x;
		this.ve && null != this.pl && (c = this.pl.zs);
		var d = YPOS_ONHAND_DOWN;
		void 0 != b && b && (d = this.y - 15);
		this.tag = a;
		this.Jj = this.Es;
		this.move(0.1, c, d, a);
		this.Wr(!1);
		this.Tw(!1)
	},
	C4: function(a) {
		this.Wu = a
	},
	c5: function(a) {
		(this.sB = a) ? (this.hw(), this.Vx()) : this.hw()
	},
	Tw: function(a) {
		null == this.lg && this.WL();
		this.lg.visible = a
	},
	Wr: function(a) {
		a ? (null == this.uf && this.VL(), this.uf.visible = !0) : this.IR()
	},
	setSize: function(a, b) {
		this.Q = cc.size(a,
			b)
	},
	fg: function() {
		return 4 * this.ej + this.type
	},
	B_: function() {
		return this.ej
	},
	getType: function() {
		return this.type
	},
	qU: function() {
		null == this.bi && (this.bi = new BkSprite("#line_outer_poker.png"), this.addChild(this.bi));
		this.bi.x = this.bi.getContentSize().width / 2;
		this.bi.y = this.bi.getContentSize().height / 2;
		this.bi.visible = !0
	},
	C6: function() {
		null != this.bi && (this.bi.visible = !1)
	},
	q4: function(a, b) {
		void 0 == b && (b = !1);
		logMessage("setCardStatus " + a + " isMe " + b);
		this.wy = a;
		switch (this.wy) {
			case CARD_STATUS_TAKEN:
				b ? this.setScale(1) :
					this.setScale(PHOM_CARD_SCALE_INGAME);
				this.qU();
				break;
			case CARD_STATUS_CURRENT:
				b ? this.setScale(1) : this.setScale(PHOM_CARD_SCALE_INGAME_CURRENT_CARD)
		}
	},
	toString: function() {
		return "[cardID: " + this.fg() + " - number: " + this.ej + " - type: " + this.type + " satus: " + this.Jj + " - y:" + this.y + "]"
	},
	mZ: function() {
		var a = cc.rotateBy(0.1, 0, -5),
			b = this,
			c = cc.callFunc(function() {
				b.setRotation(0);
				b.Wr(!1)
			}, this);
		this.runAction(cc.sequence(a, c))
	}
});
BkTextField = BkSprite.extend({
	na: null,
	qj: null,
	ctor: function(a, b, c, d) {
		this._super();
		this.na = new BkSprite(a);
		this.na.oT();
		this.addChild(this.na, 0);
		this.qj = new ccui.TextField(b, c, d);
		this.qj.ignoreContentAdaptWithSize(!1);
		this.qj.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		this.qj.setTextVerticalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		this.qj.setContentSize(this.na.getContentSize().width - 10, this.na.getContentSize().height - 10);
		this.qj.setPosition(this.na.x, this.na.y);
		this.addChild(this.qj);
		this.qj.addEventListener(this.TU,
			this)
	},
	TU: function(a, b) {
		this.na.getContentSize();
		switch (b) {
			case ccui.TextField.EVENT_ATTACH_WITH_IME:
				a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
				a.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_TOP);
				break;
			case ccui.TextField.EVENT_DETACH_WITH_IME:
				a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER), a.setTextVerticalAlignment(cc.TEXT_ALIGNMENT_CENTER)
		}
	}
});
BkCountDownText = BkSprite.extend({
	background: null,
	El: null,
	Id: null,
	pt: null,
	rt: null,
	QM: !1,
	fh: null,
	ctor: function(a, b, c, d) {
		this._super();
		a = !1;
		void 0 != b && (a = b);
		d ? (this.background = new BkSprite("#bg_count_down_co.png"), isWebPlatform() && (this.background.y = 15), this.addChild(this.background)) : a && (this.background = new BkSprite("#stop_watch.png"), this.addChild(this.background));
		void 0 == d && (d = !1);
		d ? (this.Id = new cc.LabelBMFont("", res.Bs), this.Id.x = this.background.x, this.Id.y = this.background.y - 20, this.addChild(this.Id)) :
			(this.Id = new cc.LabelBMFont("", res.lp), a && (this.Id.setScale(0.9), this.Id.y = this.background.y + 3), this.addChild(this.Id, 100));
		void 0 != c && !0 == c && (this.QM = !0, this.El = new BkSprite("#text_tuDongSanSang.png"), this.El.y = 15, this.addChild(this.El), this.Id.x = this.El.x + this.El.getContentSize().width / 2 - 60, this.Id.y = this.El.y - 2);
		this.setVisible(!1)
	},
	aT: function(a) {
		this.rt = a
	},
	zw: function(a) {
		this.pt = a
	},
	j5: function(a) {
		this.Id.setFontSize(a)
	},
	setTextColor: function(a) {
		this.Id.setTextColor(a)
	},
	hE: function(a) {
		this.setVisible(!0);
		this.fh = a;
		10 > this.fh ? this.Id.setString("0" + this.Fp(this.fh)) : this.Id.setString(this.Fp(this.fh));
		var b = this;
		this.schedule(function() {
			b.fh--;
			10 > b.fh ? b.Id.setString("0" + b.Fp(b.fh)) : b.Id.setString(this.Fp(b.fh));
			1 == b.fh && null != b.rt && b.rt();
			0 == b.fh && (null != b.pt ? b.pt() : logMessage("Must set callback function to handle onTimerComplete"))
		}, 1)
	},
	Fp: function(a) {
		var b = "";
		10 > a ? b = "" : 100 > a && (b = "");
		return b + a
	},
	Er: function() {
		this.unscheduleAllCallbacks();
		this.removeFromParent()
	}
});
BkToolTip = BkSprite.extend({
	fontSize: 16,
	background: null,
	Ea: null,
	Lj: null,
	ctor: function(a) {
		this._super();
		this.background = new cc.Scale9Sprite(a);
		this.addChild(this.background);
		this.Ea = new BkLabelTTF("", "", this.fontSize, cc.size(360, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.Ea.setFontSize(this.fontSize);
		this.addChild(this.Ea)
	},
	setTextColor: function(a) {
		this.Ea.setFontFillColor(a)
	},
	Wh: function(a) {
		this.Ea.setString(a);
		var b = 20;
		a = 10;
		if (BkGlobal.ja == K || BkGlobal.ja == L) b = 20, a = 10;
		b = this.Ea.getContentSize().width +
			b;
		a = this.Ea.getContentSize().height + a;
		35 > a && (a = 35);
		45 > b && (b = 45);
		this.background.width = b;
		this.background.height = a
	},
	show: function(a, b) {
		if (cc.director.getRunningScene()) {
			var c = cc.director.getRunningScene();
			void 0 != a && (this.x = a);
			void 0 != b && (this.y = b);
			c.addChild(this, Ud)
		}
	},
	removeSelf: function() {
		this.removeFromParent();
		null != this.Lj && this.Lj()
	},
	Ro: function(a) {
		this.Lj = a
	},
	No: function(a) {
		this.scheduleOnce(this.bu, a)
	},
	bu: function() {
		this.unschedule(this.bu);
		this.removeSelf()
	},
	$D: function(a) {
		a *= 2;
		this.Ea.setContentSize(cc.size(a,
			0));
		this.Ea.setDimensions(cc.size(a, 0))
	}
});
var Ma = 1,
	tl = 2;
BkDialogWindow = BkBaseChessWindow.extend({
	type: Ma,
	la: null,
	We: null,
	Pe: null,
	xb: null,
	am: null,
	ll: null,
	Jx: 10,
	Qq: !1,
	ctor: function(a, b, c) {
		var d = isWebPlatform() ? cc.size(520, 280) : cc.size(700, 460),
			e = 50,
			f = bkScaleSizeUtil(d);
		logMessage("Windows size after scale: " + f.width + " - " + f.height);
		void 0 != c && (f = c);
		this._super(a, f);
		this.Cc(!0);
		this.type = b;
		this.Ob("title_wd_thongbao.png");
		this.We = bkScaleSizeUtil(d);
		isWebPlatform() ? (this.la = new cc.LabelTTF("", "Tahoma", 44, cc.size(2 * this.We.width - 180, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_TOP),
			this.la.setScale(0.5 * GAME_SCALE), this.la.setFontFillColor(v), this.la.setDimensions(cc.size(1.4 * d.width, 0)), this.la.y = this.Q.height / 2 + this.la.getBoundingBox().height / 4) : (this.la = new cc.LabelTTF("Th\u00f4ng b\u00e1o", "Tahoma", 30, cc.size(this.We.width - 2 * e, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_TOP), a = 0.035 * cc.winSize.height / this.la.getContentSize().height, e = (this.We.width - 2 * e) / a, this.la.setContentSize(cc.size(e, 0)), this.la.setDimensions(cc.size(e, 0)), this.la.setScale(a), this.la.setFontFillColor(v),
			this.la.y = this.Q.height / 2 + this.la.getContentSize().height / 2);
		this.la.x = this.Q.width / 2;
		this.lb.addChild(this.la);
		this.Pe = createBkButtonPlist("btnDongy.png", "btnDongyPress.png", "btnDongy.png", "btnDongy.png", "");
		e = this.Pe.getContentSize().width / 2 * GAME_SCALE + 20;
		this.Pe.setScale(GAME_SCALE);
		this.Pe.x = this.la.x + e;
		this.Pe.y = this.Pe.getContentSize().height * GAME_SCALE * 1.1;
		this.lb.addChild(this.Pe);
		this.Pe.setVisible(!1);
		var g = this;
		this.Pe.addClickEventListener(function() {
			null != g.am && g.df(null);
			g.removeSelf();
			null != g.am && (g.am(), g.am = null)
		});
		this.xb = createBkButtonPlist("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", "");
		this.xb.setScale(GAME_SCALE);
		this.xb.x = this.la.x - e;
		this.xb.y = this.Pe.y;
		this.lb.addChild(this.xb);
		this.xb.setVisible(!1);
		this.xb.addClickEventListener(function() {
			null != g.ll && g.df(null);
			g.removeSelf();
			null != g.ll && (g.ll(), g.ll = null)
		});
		this.Dt()
	},
	Dt: function() {
		this.type == Ma ? (this.Pe.setVisible(!0), this.Pe.x = this.la.x) : this.type == tl && (this.Pe.setVisible(!0), this.xb.setVisible(!0))
	},
	So: function(a) {
		this.la.setString(a)
	},
	show: function() {
		this.Oa()
	},
	Hw: function(a) {
		this.am = a
	},
	ED: function(a) {
		this.ll = a
	},
	setTextColor: function(a) {
		this.la.setFontFillColor(a)
	}
});
BkTextFieldChangeMoney = BkSprite.extend({
	Bk: null,
	delay: null,
	wb: null,
	Qm: 0,
	ctor: function(a, b) {
		this._super();
		this.Qm = b;
		this.Bk = a;
		this.wb = 0 < this.Qm ? new cc.LabelBMFont("", res.lp) : new cc.LabelBMFont("", res.Cs);
		this.wb.textAlign = cc.TEXT_ALIGNMENT_CENTER;
		this.wb.setScale(1);
		this.setVisible(!1);
		this.addChild(this.wb);
		this.wb.retain()
	},
	Wh: function(a) {
		this.wb.setString(a);
		this.wb.x = this.wb.getContentSize().width / 2
	},
	Rt: function(a, b) {
		void 0 === a && (a = this.Bk.x - this.wb.getContentSize().width / 2);
		void 0 === b && (b = this.Bk.y);
		this.x = a;
		this.y = b;
		isWebPlatform() && (this.x = a > cc.winSize.width / 2 ? cc.winSize.width - 180 : 150);
		getCurrentScene().addChild(this);
		this.delay = 0;
		0 < this.Bk.Qh && (this.delay = 2 * this.Bk.Qh);
		var c = cc.callFunc(this.Kv, this),
			d = cc.callFunc(this.Rv, this),
			e = cc.delayTime(0.5),
			f = cc.moveTo(1.5, cc.p(this.wb.x, this.wb.y + 70));
		cc.fadeTo(1.5, 0);
		f = cc.spawn(f);
		c = cc.sequence(d, f, e, c);
		0 == this.delay ? this.wb.runAction(c) : this.wb.runAction(cc.sequence(cc.delayTime(this.delay), c));
		this.Bk.Qh++
	},
	Kv: function() {
		this.Bk.Qh--;
		this.setVisible(!1);
		this.removeFromParent();
		this.wb.release()
	},
	Rv: function() {
		this.wb.opacity = 255;
		this.setVisible(!0)
	}
});
BkBusyIndicator = cc.Layer.extend({
	SX: null,
	Wk: null,
	A1: null,
	Kr: 0,
	count: 0,
	$A: !0,
	ov: !1,
	gx: null,
	ctor: function() {
		this._super();
		var a = cc.winSize;
		this.Wk = new BkSprite("#busy_indicator.png");
		this.Wk.setScale(GAME_SCALE);
		this.Wk.x = a.width / 2;
		this.Wk.y = a.height / 2;
		this.addChild(this.Wk)
	},
	PD: function(a) {
		this.$A = a
	},
	XT: function() {
		var a = getCurrentScene();
		if (null != a) {
			a.addChild(this, Vd);
			isWebPlatform() && (cc._canvas.style.cursor = "default");
			this.count = this.Kr = 0;
			logMessage("showIndicator -\x3e pause all event");
			this.ov = !0;
			cc.eventManager.setEnabled(!1);
			var b = this;
			this.schedule(function() {
				b.count++;
				if (100 == b.count && (logMessage("time out"), null != this.gx && this.gx(), b.$A)) {
					BkBusyIndicatorManager.iw();
					return
				}
				b.Wk.setRotation(this.Kr);
				b.Kr += 30
			}, 0.07)
		} else logMessage("current Scene null -\x3e don't show")
	},
	TR: function() {
		logMessage("removeIndicator -\x3e enable all event");
		this.ov ? (this.ov = !1, cc.eventManager.setEnabled(!0), this.removeFromParent()) : logMessage("Indicator not show -\x3e not need remove")
	},
	vT: function(a) {
		this.gx =
			a
	}
});

function Bn(a, b) {
	return cc.EventListener.create({
		event: cc.EventListener.MOUSE,
		swallowTouches: !0,
		onMouseScroll: function(a) {
			var d = a.getCurrentTarget(),
				e = d.convertToNodeSpace(a.getLocation()),
				d = d.getContentSize(),
				d = cc.rect(0, 0, d.width, d.height);
			return cc.rectContainsPoint(d, e) ? (a = cc.sys.isNative ? 6 * a.getScrollY() : -a.getScrollY(), e = -(b._contentSize.height - b._innerContainer.getContentSize().height), d = b._innerContainer.getBottomBoundary(), this.zj = (e + d) / e * 100, this.zj = 0 > this.zj + a / 90 ? 0 : 100 < this.zj + a / 90 ? 100 :
				this.zj + a / 90, 100 >= this.zj && 0 <= this.zj && b.scrollToPercentVertical(this.zj, 0.2, !0), !0) : !1
		}.bind(a)
	}).clone()
}
ccui.ScrollView.extend({
	wk: null,
	ctor: function() {
		this._super();
		this.setTouchEnabled(!0);
		this.setBounceEnabled(!0);
		cc.sys.os == cc.sys.OS_WINDOWS || cc.sys.os == cc.sys.OS_OSX ? (this.setScrollBarEnabled(!0), this.setScrollBarAutoHideEnabled(!0), this.Un()) : this.setScrollBarEnabled(!1)
	},
	Un: function() {
		this.wk = Bn(this, this);
		this.wk.retain();
		cc.eventManager.addListener(this.wk, this)
	}
});
var Cn = ccui.ListView.extend({
	wk: null,
	ctor: function(a) {
		this._super();
		this.setTouchEnabled(!0);
		this.setBounceEnabled(!0);
		a && this.setContentSize(a);
		cc.sys.os == cc.sys.OS_WINDOWS || cc.sys.os == cc.sys.OS_OSX ? (this.setScrollBarEnabled(!0), this.setScrollBarAutoHideEnabled(!0), this.Un()) : this.setScrollBarEnabled(!1)
	},
	Un: function() {
		this.wk = Bn(this, this);
		this.wk.retain();
		cc.eventManager.addListener(this.wk, this)
	},
	S_: function() {
		return -this.getInnerContainerPosition().y
	},
	mA: function() {
		var a = this.getItems();
		if (0 ==
			a.length) return 0;
		var b = this.getItemsMargin(),
			a = a[0].getContentSize().height + b,
			b = this.getContentSize().height - b;
		console.log("isOutOfFen - contentSizeHeight: ", b);
		console.log("isOutOfFen - itemHeight: ", a);
		console.log("isOutOfFen - itemHeight: ", a);
		var c = Math.floor(b / a);
		console.log("isOutOfFen - contentSizeHeight / itemHeight: ", b / a);
		console.log("isOutOfFen - visibleItemCount: ", c);
		return c
	},
	OK: function() {
		var a = this.mA();
		if (0 == a) return -1;
		var b = this.VK();
		console.log("isOutOfFen - getFirstVisibleIndex: lastVisibleIndex: ",
			b);
		console.log("isOutOfFen - getFirstVisibleIndex: visibleItemCount: ", a);
		a = Math.max(b - a + 1, 0);
		console.log("isOutOfFen - getFirstVisibleIndex: firstVisibleIndex: ", a);
		return a
	},
	ju: function() {
		console.log("getFirstVisibleItem: ");
		var a = this.OK();
		return 0 <= a ? this.getItems()[a] : null
	},
	q_: function() {
		var a = this.mu();
		return 0 < a.length ? a[a.length - 1] : null
	},
	NK: function() {
		var a = this.mu();
		return 0 < a.length ? a[0] : null
	},
	mu: function() {
		return this.getItems().sort(function(a, b) {
			var c = a.getPositionY(),
				d = b.getPositionY();
			return c > d ? -1 : c < d ? 1 : 0
		})
	},
	VK: function() {
		var a = this.mu();
		console.log("getLastVisibleIndex - items: ", a.map(function(a) {
			return a.getPositionY()
		}));
		if (0 == a.length) return -1;
		var b = -1,
			c = this.getInnerContainer(),
			d = c.getPositionY();
		console.log("getLastVisibleIndex - innerContainerPosY: ", d);
		a[0].getContentSize();
		this.mA();
		for (var e = 0; e < a.length; e++) {
			var f = a[e].getPosition(),
				g = d + f.y;
			console.log("getLastVisibleIndex - Item at index " + e + " has Y coordinate: " + (c.height - f.y));
			console.log("getLastVisibleIndex - Item at index " +
				e + " itemPos.y: " + f.y);
			console.log("getLastVisibleIndex - Item at index " + e + " worldItemY: " + g);
			if (0 > g) {
				b = e - 1;
				break
			}
		}
		if (-1 == b) return a.length - 1;
		b = Math.min(b, a.length);
		b = Math.max(b, 0);
		console.log("isOutOfFen - lastVisibleIndex: ", b);
		return b
	},
	n_: function() {
		var a = this.getItems();
		return 0 < a.length ? UI.Ga(a[0]) : 0
	}
});
TITLED_STAR_SIZE = 12;
TITLED_STAR_MAX_NUM = 5;
BkTiledSprite = BkSprite.extend({
	ctor: function() {}
});
BkLabelSprite = cc.Sprite.extend({
	ctor: function(a) {
		this._super();
		this.kJ(a);
		this.anchorY = this.anchorX = 0
	},
	kJ: function(a) {
		for (var b = 0, c = 0, d = new BkLabel(""), e = a[0], f = 0; f < a.length; f++) {
			var g, h = a[f],
				k = new BkLabel(h.string, "Arial", h.fontSize, h.QA, h.dN);
			k.setTextColor(h.color);
			k.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			k.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
			0 == f ? (k.x = k.getContentSize().width / 2, g = k.getContentSize().width, k.y = k.getContentSize().height / 2, c += k.getContentSize().height) :
				e.so != h.so ? (k.x = k.getContentSize().width / 2, g = k.getContentSize().width, e = h.xv ? h.xv : 1, console.log("lineSpacing: " + e), k.y = d.y - d.getContentSize().height / 2 - k.getContentSize().height / 2 - 10 * e, c += k.getContentSize().height) : e.so == h.so ? (k.x = d.x + d.getContentSize().width / 2 + k.getContentSize().width / 2, g += k.getBoundingBox().width, k.y = d.y) : logMessage("Check other case");
			g > b && (b = g);
			this.addChild(k);
			d = k;
			e = h
		}
		this.width = b;
		this.height = c
	}
});
BkLabelItem = cc.Class.extend({
	string: null,
	fontSize: null,
	color: null,
	QA: null,
	so: null,
	x: null,
	y: null,
	xv: 0,
	ctor: function(a, b, c, d, e, f, g) {
		this.string = a;
		this.fontSize = b;
		this.color = c;
		this.QA = e;
		this.so = d;
		this.dN = f;
		this.xv = g
	}
});
BkSpriteLoader = BkSprite.extend({
	nx: "",
	ctor: function(a, b, c) {
		this._super(b, c);
		void 0 != a && 20 < a.length && (this.nx = a, isWebPlatform() || isFBInstantGame() ? this.JN() : this.IN())
	},
	JN: function() {
		var a = this;
		cc.loader.loadImg(a.nx, {
			isCrossOrigin: !0
		}, function(b, c) {
			if (c) {
				var d = new cc.Texture2D;
				d.initWithElement(c);
				d.handleLoadedTexture();
				var e = a.getBoundingBox().height;
				a.initWithTexture(d);
				a.setScale(e / a.getContentSize().height)
			}
		})
	},
	IN: function() {
		var a = this;
		cc.textureCache.addImageAsync(this.nx, function(b) {
			if (b) {
				var c =
					a.getBoundingBox().height;
				a.initWithTexture(b);
				a.setScale(c / a.getContentSize().height)
			}
		}, this)
	}
});
BkBaseIngameLayer = cc.Layer.extend({
	k2: 0,
	Ca: [],
	background: null,
	gY: null,
	$a: null,
	mb: null,
	B6: null,
	p0: null,
	Rb: null,
	XI: 40,
	Yd: null,
	t5: null,
	Kd: 0,
	Cb: null,
	ctor: function() {
		this._super();
		this.RL()
	},
	RL: function() {
		this.removeAllChildren(!0);
		var a = cc.winSize,
			b = new BkSprite(res.AA);
		b.scaleX = a.width / b.width;
		b.scaleY = a.height / b.height;
		b.x = a.width / 2;
		b.y = a.height / 2;
		this.addChild(b, 0);
		this.background = new BkSprite(res.yt);
		var b = 1 * a.width / this.background.getWidth(),
			c = 0.65 * a.height / this.background.getHeight();
		this.Kd = b >
			c ? c : b;
		logMessage("scaleW: " + b + " scaleH: " + c + " chessScale" + this.Kd);
		isWebPlatform() ? (this.Kd = 1, this.background.y = a.height / 2 - WEB_BOARD_DELTA_Y) : this.background.y = isFBInstantGame() ? a.height / 2 : a.height / 2 - BOARD_DELTA_Y * this.Kd;
		this.background.setScale(this.Kd);
		this.background.x = a.width / 2;
		this.addChild(this.background, 0);
		this.Lq();
		var d = this;
		this.mb = createBkButtonPlistNewTitle(a.width / 2, a.height / 2);
		this.mb.setTitleFontSize(18);
		this.mb.x = a.width / 2;
		this.mb.y = a.height / 2;
		this.addChild(this.mb);
		this.mb.Ya(!1);
		this.mb.addClickEventListener(function() {
			1E3 > J() - d.mb.Kb ? logMessage("click 2 lan trong 1 sec -\x3e don't process action") : (d.mb.Kb = J(), d.CC())
		});
		isWebPlatform() && this.mb.setScale(0.3)
	},
	qX: function() {
		var a = 33,
			b = 0;
		switch (BkGlobal.ja) {
			case Ia:
				b = 1;
				a -= 1;
				break;
			case Ha:
				b = a;
				break;
			case Ja:
				b = 2 * a;
				break;
			case rb:
				b = 3 * a;
				break;
			case qb:
				b = 4 * a;
				break;
			case pb:
				b = 5 * a;
				break;
			case H:
				b = 6 * a;
				break;
			case La:
				b = 7 * a;
				break;
			case Ka:
				b = 8 * a;
				break;
			case ob:
				b = 9 * a;
				break;
			default:
				b = 0
		}
		return new cc.rect(0, b - 1, 130, a)
	},
	Xp: function() {
		for (var a =
				0; a < this.S().ga.length; a++) this.S().ga[a].Fr()
	},
	J2: function() {
		this.vD();
		this.Xp();
		this.S().jB() || this.S().UA() && this.S().vG()
	},
	CC: function() {
		this.vD();
		this.Xp();
		this.S().UA() ? this.S().FQ() : BkConnectionManager.NA(bb)
	},
	vD: function() {
		if (null != this.Ca)
			for (var a = 0; a < this.Ca.length; a++) this.Ca[a].reset()
	},
	IC: function(a) {
		a = this.tc(a.ta);
		null != a && a.Nj()
	},
	Lq: function() {
		var a = this;
		this.$a = new BkButton("back.png", "back.png", "back.png", "back_press.png", ccui.Widget.PLIST_TEXTURE);
		isWebPlatform() || (this.$a = new BkButton("menu_butt.png",
			"menu_butt_press.png", "menu_butt.png", "menu_butt.png", ccui.Widget.PLIST_TEXTURE));
		var b = 5 * GAME_SCALE,
			c = 0.067 * cc.winSize.height;
		this.$a.Yb(GAME_SCALE);
		this.$a.x = b + this.$a.getContentSize().width * GAME_SCALE / 2;
		this.$a.y = c;
		isWebPlatform() && (this.$a.x = 10 + this.$a.getContentSize().width * GAME_SCALE / 2, this.$a.y = cc.winSize.height - WINDOW_MARGIN_TOP * GAME_SCALE - this.$a.getBoundingBox().height / 2 + 2);
		this.addChild(this.$a);
		this.$a.addClickEventListener(function() {
			a.fj()
		});
		this.Cb = new BkButton("chat_butt.png", "chat_butt_press.png",
			"chat_butt.png", "chat_butt.png", ccui.Widget.PLIST_TEXTURE);
		this.Cb.Yb(GAME_SCALE);
		this.Cb.y = this.$a.y;
		this.Cb.x = this.$a.x + this.$a.getBoundingBox().width / 2 + this.Cb.getBoundingBox().width / 2 + b;
		isFBInstantGame() && (this.Cb.x = this.$a.x + this.$a.getContentSize().width / 2 * GAME_SCALE + this.Cb.getContentSize().width / 2 * GAME_SCALE + b);
		isWebPlatform() && (this.Cb.x = cc.winSize.width - WINDOW_MARGIN_RIGHT - 0.5 * this.Cb.getContentSize().width, this.Cb.y = WINDOW_MARGIN_BOTTOM + 0.5 * this.Cb.getContentSize().height);
		this.ma = new BkHeartSprite(!0);
		this.ma.setScale(GAME_SCALE);
		this.ma.x = this.Cb.x + this.Cb.getBoundingBox().width / 2 + this.ma.getBoundingBox().width / 2 + b;
		this.ma.y = this.Cb.y + this.Cb.getBoundingBox().height / 2 - this.ma.getBoundingBox().height / 2;
		isFBInstantGame() ? (this.ma.x = this.Cb.x + this.Cb.getContentSize().width / 2 * GAME_SCALE + this.ma.getContentSize().width / 2 * GAME_SCALE + b, this.ma.y = this.Cb.y + this.Cb.getContentSize().height / 2 * GAME_SCALE - this.ma.getContentSize().height / 2 * GAME_SCALE) : isWebPlatform() && (this.ma.setScale(0.6), this.ma.x = this.$a.x +
			this.ma.getBoundingBox().width / 1.2, this.ma.y = this.$a.y - 6);
		this.addChild(this.ma);
		isWebPlatform() ? (b = cc.director.getWinSize(), cc.screen.fullScreen() ? this.Ra = new BkButton("btn_scale2.png", "btn_scale2.png", "btn_scale2.png", "btn_scale2_hover.png", ccui.Widget.PLIST_TEXTURE) : this.Ra = new BkButton("btn_scale.png", "btn_scale.png", "btn_scale.png", "btn_scale_hover.png", ccui.Widget.PLIST_TEXTURE), this.Ra.x = b.width - 30, this.Ra.y = b.height - 27, this.Ra.addClickEventListener(function() {
				cc.screen.fullScreen() ? (exitFullScreen(),
					a.Ra.loadTextures("btn_scale.png", "btn_scale.png", "btn_scale.png", "btn_scale_hover.png", ccui.Widget.PLIST_TEXTURE)) : makeFullScreen(function() {
					cc.screen.fullScreen() ? a.Ra.loadTextures("btn_scale2.png", "btn_scale2.png", "btn_scale2.png", "btn_scale2_hover.png", ccui.Widget.PLIST_TEXTURE) : a.Ra.loadTextures("btn_scale.png", "btn_scale.png", "btn_scale.png", "btn_scale_hover.png", ccui.Widget.PLIST_TEXTURE)
				})
			}), this.addChild(this.Ra), b = mm(), b = vl(b), this.Ud = new BkButton(b, b, b, b, ccui.Widget.PLIST_TEXTURE), this.Ud.y =
			this.Ra.y, this.Ud.addClickEventListener(function() {
				var b = !mm(),
					c = vl(b);
				lm(b);
				a.Ud.loadTextures(c, c, c, c, ccui.Widget.PLIST_TEXTURE)
			}), this.addChild(this.Ud), this.Ud.x = this.Ra.x - this.Ra.width - 10, this.gc = new BkButton("btn_camera.png", "btn_camera.png", "btn_camera.png", "btn_camera_hover.png", ccui.Widget.PLIST_TEXTURE), this.gc.y = this.Ra.y, this.gc.addClickEventListener(function() {
				makeScreenShot()
			}), this.addChild(this.gc), this.gc.x = this.Ud.x - this.Ud.width - 10, this.tf = new BkButton("save_view_game.png", "save_view_game.png",
				"save_view_game.png", "save_view_game.png", ccui.Widget.PLIST_TEXTURE), this.tf.setScale(0.48), this.tf.y = this.Ra.y, this.tf.addClickEventListener(function() {
				console.log("btnSave click");
				var a = new BkPacket;
				a.RF();
				BkConnectionManager.send(a)
			}), this.addChild(this.tf), this.tf.ef(!1), this.tf.Ya(!1), this.tf.x = this.gc.x - this.gc.width - 10, b = new BkSprite("#history_icon_new.png"), b.x = UI.eb(this.tf), b.y = UI.xf(this.tf) - 0.3 * UI.Ei(b), this.addChild(b), b.setOpacity(0), this.xA = b) : (this.addChild(this.Cb), this.Cb.addClickEventListener(function() {
			a.pC()
		}))
	},
	pC: function() {
		var a = new BkChatLayerMobile;
		getCurrentScene().addChild(a)
	},
	fj: function() {
		this.S().fm()
	},
	I2: function() {},
	S: function() {
		return this.getParent().S()
	},
	ez: function() {
		this.mb.ef(!1)
	},
	tz: function() {
		this.mb.ef(!0)
	},
	Kn: function() {
		this.mb.Ya(!1)
	},
	Bo: function() {
		this.At();
		this.Kn();
		this.Ce();
		this.AE()
	},
	At: function() {
		if (null != this.Ca)
			for (var a = 0; a < this.Ca.length; a++) this.Ca[a].xi()
	},
	ow: function(a) {
		if (a = this.Ca[a]) a.Tr(null), a.mm(null)
	},
	OO: function(a) {
		a = a.ta;
		this.ow(this.S().Gi(a))
	},
	qp: function() {
		this.Kn();
		this.S().Ub() && (this.At(), this.Ce());
		this.S().Ub() || this.Pk();
		dm()
	},
	NC: function(a, b) {
		var c = this.S().Gi(a);
		null != this.Ca && this.Ca[c].Tr(b, !0)
	},
	Pk: function(a) {
		logMessage("showStartGameButton");
		this.Kn();
		if (!this.S().Ub()) {
			var b = gameLogic.Ba();
			b && !0 === b.Ka || (b = !0, void 0 != a && (b = a), this.S().Ri() || (b && this.S().Ok(), a = this.S().Ba(), null != a ? a.status != PLAYER_STATE_READY && this.mb.Ya(!0) : this.mb.Ya(!0)))
		}
	},
	$b: function(a) {
		var b = this.S().Xb;
		return Ga(a, b)
	},
	rn: function() {
		logMessage("displayPlayerAvatar");
		var a =
			this.S(),
			b;
		null != this.Ca && 0 < this.Ca.length && (logMessage(this.Ca.length), this.Dy());
		for (var c = null, d = 0; d < a.Xb; d++) b = a.hL(d), null != b ? (c = new BkPlayer(b.getUserInfo(), b.status), logMessage(c.W.userName + " i:" + d)) : c = new BkPlayer(null, -1), null != c && (c.Po(a), c.mm(b), this.Ca.push(c), this.addChild(c), c.x = this.$b(d).x, c.y = this.$b(d).y)
	},
	Dy: function() {
		for (var a; 0 < this.Ca.length;) a = this.Ca[0], a.removeFromParent(), this.Ca.splice(0, 1)
	},
	eE: function(a, b, c) {
		0 != a && (c = new BkTextFieldChangeMoney(c, a), b += "\n", b = 0 < a ? b + ("+ " +
			convertStringToMoneyFormat(a, !0)) : b + convertStringToMoneyFormat(a, !0), c.Wh(b), c.Rt())
	},
	Ox: function(a, b, c) {
		var d;
		d = this.S().Gi(a.ta);
		void 0 == c && (c = "");
		d = this.Ca[d];
		null != d && (d.BV(a.xn()), this.eE(b, c, d))
	},
	QR: function() {
		null != this.Yd && this.Yd.removeSelf()
	},
	K5: function(a) {
		0 <= a && (null != this.Yd && this.Yd.removeSelf(), this.Yd = new BkGoldBoxSprite, this.Yd.x = -100, this.Yd.y = -100, this.Yd.VT(a), a = this.S().Ba(), null != a && (a.isPlaying && !a.Jh ? this.Yd.zE() : this.Yd.yc()), this.addChild(this.Yd))
	},
	HU: function() {
		null != this.Yd &&
			this.Yd.yc()
	},
	EU: function() {
		null != this.Yd && this.Yd.zE()
	},
	Pv: function(a, b) {
		var c = this.Ca[a];
		null != c && (c.Ur(b), this.S().Ub() || (logMessage("show start game button update status " + a), 0 == a && this.Pk(!1)))
	},
	GC: function() {
		this.rn()
	},
	P2: function() {},
	hX: function(a) {
		logMessage("ShowCicleCountDownTimeOnActivePlayer GS: " + this.S().Ib);
		for (var b = 0; b < this.S().Xb; b++) {
			var c = this.Ca[b];
			null != c && c.yc()
		}
		b = this.S().lh;
		logMessage("activePlayerPos: " + b);
		b = this.tc(b);
		null != b && (c = 29, void 0 != a && (c = a), b.Pw(c))
	},
	FR: function(a) {
		for (var b =
				0; b < this.Ca.length; b++) {
			var c = this.Ca[b];
			null != c.yi && c.yi.ta == a && (this.Ca[b].removeFromParent(), this.Ca.splice(b, 1))
		}
	},
	tc: function(a) {
		for (var b = 0; b < this.Ca.length; b++) {
			var c = this.Ca[b];
			if (null != c.yi && c.yi.ta == a) return c
		}
		return null
	},
	SK: function(a) {
		for (var b = 0; b < this.Ca.length; b++)
			if (this.Ca[b].od() == a) return b;
		return -1
	},
	Ce: function() {
		null != this.Rb && (this.Rb.Er(), this.Rb = null)
	},
	Ok: function(a, b) {
		if (!this.S().Ub()) {
			this.Ce();
			var c = !1;
			if (BkGlobal.ja == K || BkGlobal.ja == L) c = !0;
			var d = this,
				e = this.S().Ba();
			null != e && e.status != PLAYER_STATE_READY && (void 0 != b && !0 == b ? (this.Rb = new BkCountDownText(30, !1, !0, c), this.Rb.zw(function() {
				d.Ce();
				d.CC()
			})) : (this.Rb = new BkCountDownText(30, !1, !1, c), this.Rb.zw(function() {
				d.Ce()
			})), this.addChild(this.Rb, Sd), this.Rb.setScale(isWebPlatform() ? 0.5 : GAME_SCALE), this.Rb.x = cc.winSize.width / 2, this.Rb.y = this.mb.y + this.XI, this.Rb.hE(a))
		}
	},
	H5: function(a, b, c) {
		var d = this;
		this.Ce();
		this.Rb = new BkCountDownText(30, !0);
		this.addChild(this.Rb);
		void 0 == b && (b = cc.winSize.width / 2);
		void 0 == c &&
			(c = 340);
		this.Rb.x = b;
		this.Rb.y = c;
		this.Rb.hE(a);
		this.Rb.zw(function() {
			d.Ce()
		});
		null != this.S().Ba() && this.S().Ba().status != PLAYER_STATE_NOT_READY && BkGlobal.ja == H && (this.Rb.y = c + 50, this.Rb.aT(function() {
			d.o2()
		}))
	},
	uD: function() {
		if (null != this.Ca && 0 != this.Ca.length)
			for (var a = 0; a < this.S().Xb; a++) {
				var b = this.Ca[a];
				null != b && b.yc()
			}
	},
	AE: function() {
		this.EU()
	},
	bx: function() {
		this.HU()
	},
	hG: function() {
		this.uD();
		this.bx()
	},
	BC: function() {
		logMessage("onPrepareNewGame base layer");
		this.uD();
		this.Pk()
	},
	HC: function(a,
		b) {
		logMessage("onTableJoin " + this.Ca.length + " - " + this.S().Xb);
		if (this.Ca.length < this.S().Xb) this.rn();
		else {
			var c = this.Ca[b];
			null == c ? this.rn() : (c.Ur(a.status), c.Tr(a.getUserInfo()), c.mm(a))
		}
	},
	KK: function() {
		return null
	},
	W5: function(a) {
		this.$a.Kk(a, "icon_register_exit.png", 1)
	},
	bm: function() {
		logMessage("onBackAndroidIngameClick BkBaseIngameLayer");
		BkLogicManager.oa().fm()
	},
	EC: function() {}
});
BOARD_CELL_HEIGHT = BOARD_CELL_WIDTH = BOARD_HEIGHT_RIVER = 80;
BOARD_DELTA_Y = 30;
WEB_PLAYER_AVAR_MARGIN_TP = 10;
WEB_PLAYER_AVAR_MARGIN_RIGHT = WEB_PLAYER_AVAR_MARGIN_LF = 40;
WEB_BOARD_HEIGHT_RIVER = 65;
WEB_BOARD_CELL_WIDTH = 56.875;
WEB_BOARD_CELL_HEIGHT = 57;
WEB_BOARD_DELTA_Y = 0;
TOAST_MSG_YPOS = 190.5;
TIME_SHOW_SPRITE_CHESS_INGAME = 2;
BkChessBaseIngameLayer = BkBaseIngameLayer.extend({
	padding: 0,
	zY: 0,
	W3: 0,
	U: null,
	ge: -1,
	Pj: -1,
	Vc: -1,
	cu: null,
	sv: null,
	jc: null,
	pB: null,
	Dj: null,
	qn: null,
	xr: null,
	Pp: null,
	ZX: null,
	nH: null,
	si: null,
	ri: null,
	kj: null,
	ce: null,
	be: null,
	Ln: null,
	Vd: null,
	wc: null,
	mY: null,
	p6: null,
	Kf: null,
	ic: null,
	ec: null,
	Up: null,
	yh: null,
	di: null,
	wl: null,
	vf: null,
	fY: null,
	we: -1,
	Ff: -1,
	Df: -1,
	Ef: -1,
	ctor: function() {
		this._super();
		this.$L();
		this.bq();
		this.UL();
		this.HM();
		this.WV()
	},
	Lq: function() {
		this._super()
	},
	$L: function() {
		cc.spriteFrameCache.addSpriteFrames(res.cn,
			res.bn);
		var a = this;
		this.background.Ua(function(b, c) {
			var d = c.getCurrentTarget().convertToNodeSpace(b.getLocation());
			a.bV(d.x, d.y)
		});
		isWebPlatform() && this.LM()
	},
	LM: function() {
		this.Kf = new BkSprite("#Chess_redstatus.png");
		this.Kf.x = this.background.x;
		this.Kf.y = this.background.y;
		this.Kf.setScaleX(0.99);
		this.Kf.setScaleY(1.05);
		this.Kf.setVisible(!1);
		this.addChild(this.Kf)
	},
	bV: function(a, b) {
		var c = this.wq(a),
			d = this.Bq(b);
		logMessage("Touch: " + a + "-" + b + " point: " + d + "-" + c);
		if (this.S().Ib == GAME_STATE_PLAYING &&
			!(0 > this.Pj || this.Vc != this.Pj || 0 > c || 0 > d)) {
			for (var e = -1, f = 0; 32 > f; f++)
				if (!this.U[f].sa && this.U[f].ea == c && this.U[f].rowIndex == d) {
					e = f;
					break
				} if (0 <= e && this.U[e].pa == this.Pj) e != this.ge ? (this.gp(), this.BS(e)) : this.gp();
			else if (0 <= this.ge) {
				var e = this.U[this.ge].ea,
					f = c,
					g = this.U[this.ge].rowIndex,
					h = d;
				this.jc && (g = 9 - g, h = 9 - h, e = 8 - e, f = 8 - f);
				this.kN(c, d) && this.S().vQ(e, g, f, h)
			}
		}
	},
	kN: function(a, b) {
		var c;
		for (c = 0; c < this.wc.length; c++) {
			var d = this.wc[c];
			if (d && 0 < d.x && d.$p == a && d.Mr == b) return !0
		}
		for (c = 0; c < this.Up.length; c++)
			if (d =
				this.Up[c], d[0] == a && d[1] == b) return !0;
		return !1
	},
	bq: function() {
		this.U = [];
		for (var a = 0; 32 > a; a++) {
			var b = new BkChessPieceSprite(a);
			this.U.push(b);
			b.x = -100;
			b.y = -100;
			this.addChild(b, 32)
		}
	},
	UL: function() {
		var a = this;
		this.reorderChild(this.mb, 36);
		this.mb.loadTextures("start_butt.png", "start_butt_press.png", "start_butt.png", "start_butt.png", ccui.Widget.PLIST_TEXTURE);
		this.mb.setTitleText("");
		this.mb.setScale(GAME_SCALE);
		isWebPlatform() && (this.si = createBkButtonPlist("Chess_btn_xinthua_normal.png", "Chess_btn_xinthua_pressed.png",
			"Chess_btn_xinthua_normal.png", "Chess_btn_xinthua_hover.png"), this.si.setTitleText(""), this.si.setPosition(-100, -100), this.si.addClickEventListener(function() {
			var b = a.S(),
				c = b.Ib,
				b = b.Ba();
			c == GAME_STATE_PLAYING && b.status != PLAYER_STATE_NOT_READY && a.Oy()
		}), this.addChild(this.si), this.ri = createBkButtonPlist("Chess_btn_cauhoa_normal.png", "Chess_btn_cauhoa_pressed.png", "Chess_btn_cauhoa_normal.png", "Chess_btn_cauhoa_hover.png"), this.ri.setTitleText(""), this.ri.setPosition(-100, -100), this.ri.addClickEventListener(function() {
			var b =
				a.S(),
				c = b.Ib,
				b = b.Ba();
			c == GAME_STATE_PLAYING && b.status != PLAYER_STATE_NOT_READY && b.pa == a.Vc ? a.Ny() : c == GAME_STATE_PLAYING && b.status != PLAYER_STATE_NOT_READY && (c = cc.director.getWinSize(), showToastMessage("B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c \u0111\u1ec1 ngh\u1ecb h\u00f2a khi \u0111\u1ebfn l\u01b0\u1ee3t \u0111i", c.width / 2, c.height / 2, 3))
		}), this.addChild(this.ri))
	},
	Fv: function() {
		logMessage("onClickBtnSurrender");
		var a = this.S(),
			b = a.Ib,
			a = a.Ba();
		b == GAME_STATE_PLAYING && a.status != PLAYER_STATE_NOT_READY && this.Oy()
	},
	Ev: function() {
		logMessage("onClickBtnOfferDraw");
		var a = this.S(),
			b = a.Ib,
			a = a.Ba();
		b == GAME_STATE_PLAYING && a.status != PLAYER_STATE_NOT_READY && a.pa == this.Vc ? this.Ny() : b == GAME_STATE_PLAYING && a.status != PLAYER_STATE_NOT_READY && showToastMessage("B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c \u0111\u1ec1 ngh\u1ecb h\u00f2a khi \u0111\u1ebfn l\u01b0\u1ee3t \u0111i", cc.winSize.width / 2, cc.winSize.height / 2, 3, 300)
	},
	HM: function() {
		this.kj = getSpriteFromImage("#cochonquan.png");
		this.kj.setPosition(-100, -100);
		this.kj.scale = this.Kd;
		this.addChild(this.kj);
		this.wc = [];
		for (var a = 0; 20 > a; a++) this.wc[a] = getSpriteFromImage("#nuocdi.png"), this.wc[a].setPosition(-100, -100), this.wc[a].Mr = -1, this.wc[a].$p = -1, this.wc[a].scaleX = 2 * this.background.scaleX, this.wc[a].scaleY = 2 * this.background.scaleY, this.addChild(this.wc[a], 33);
		var a = "#nuoc_vua_di_small.png",
			b = GAME_SCALE;
		isWebPlatform() && (a = "#nuocvuadi.png", b = 0.4);
		this.ce = getSpriteFromImage(a);
		this.ce.setPosition(-100, -100);
		this.ce.scale = b;
		this.addChild(this.ce);
		this.be = getSpriteFromImage("#nuocvuadi.png");
		this.be.setPosition(-100, -100);
		this.be.scale = isWebPlatform() ? 0.95 : this.Kd;
		this.addChild(this.be);
		this.wl = new BkGameStatusLabelSprite(this.xl());
		this.addChild(this.wl, 40);
		this.wl.cs(!1)
	},
	SL: function() {
		this.Dj = new BkBatDauEffectSprite;
		this.Dj.setPosition(this.background.x + 0.5, this.background.y + 0.5);
		this.Dj.setVisible(!1);
		this.addChild(this.Dj, 40)
	},
	WV: function() {
		this.Ln = getSpriteFromImage("#hoa.png");
		this.Ln.setPosition(this.background.x, this.background.y);
		this.Ln.setVisible(!1);
		this.addChild(this.Ln,
			Sd + 1);
		this.Vd = getSpriteFromImage("#chieutuong.png");
		this.Vd.setPosition(this.background.x, this.background.y);
		this.Vd.setVisible(!1);
		this.addChild(this.Vd, 35);
		this.SL();
		isWebPlatform() || (this.Ln.setScale(GAME_SCALE), this.Vd.setScale(GAME_SCALE), this.Dj.setScale(GAME_SCALE))
	},
	xl: function() {
		return this.background.y
	},
	uh: function() {
		logMessage("changeButtonState");
		var a = this.S(),
			b = a.Ib;
		if (a = a.Ba()) {
			var c = a.status,
				d = cc.director.getWinSize(),
				e = this.xl();
			logMessage("gameStatus: " + b);
			switch (b) {
				case GAME_STATE_READY:
					logMessage("gameStatus: GAME_STATE_READY");
					logMessage("playerRole: " + c);
					this.Au();
					c == PLAYER_STATE_TABLE_OWNER ? logMessage("playerRole: PLAYER_STATE_TABLE_OWNER") : c == PLAYER_STATE_READY ? (logMessage("playerRole: PLAYER_STATE_READY"), this.In()) : 0 > a.Va ? this.In() : (logMessage("else"), this.In(), a.Ka || (logMessage("!currentPlayer.isObserver"), this.wl.cs(!1), this.mb.Ya(!0), this.mb.setPosition(d.width / 2, e)));
					break;
				case GAME_STATE_PLAYING:
					logMessage("gameStatus: GAME_STATE_PLAYING");
					this.In();
					this.Au();
					c != PLAYER_STATE_NOT_READY && this.pU();
					break;
				case GAME_STATE_FINISH:
					logMessage("gameStatus: GAME_STATE_FINISH");
					BkGlobal.Iw(!1);
					0 > a.Va ? this.In() : this.mb.setPosition(d.width / 2, e);
					this.Au();
					break;
				default:
					logMessage("default " + b)
			}
		}
	},
	hY: function() {
		return !1
	},
	EY: function() {
		var a = this;
		this.nH.addClickEventListener(function() {
			a.S().KP()
		})
	},
	SY: function() {
		var a = this;
		this.Pp.loadTextures(y.rF, y.oW, y.rF, y.nW, ccui.Widget.PLIST_TEXTURE);
		this.Pp.addClickEventListener(function() {
			a.S().gD(!0)
		})
	},
	RY: function() {
		var a = this;
		this.Pp.loadTextures(y.sF, y.qW, y.sF, y.pW, ccui.Widget.PLIST_TEXTURE);
		this.Pp.addClickEventListener(function() {
			var b =
				a.S();
			b.Ba().P.pb() < b.Ee ? showToastMessage("B\u1ea1n kh\u00f4ng \u0111\u1ee7 ti\u1ec1n \u0111\u1ec3 ch\u01a1i", cc.winSize.width / 2, TOAST_MSG_YPOS, 3, 200) : b.gD(!1)
		})
	},
	In: function() {
		this.mb.setPosition(-100, -100)
	},
	sw: function() {
		for (var a = 0; 32 > a; a++) this.U[a].qB = this.jc, this.U[a].Fu(a)
	},
	nw: function() {
		this.gp();
		this.qA()
	},
	qA: function() {
		this.ce.setPosition(-100, -100);
		this.be.setPosition(-100, -100)
	},
	wq: function(a) {
		var b = isWebPlatform() ? Dn : X;
		logMessage("chessWidth: " + b);
		if (0 <= this.ge) {
			logMessage("this.pieceSelected \x3e\x3d 0");
			var c = this.U[this.ge],
				d = !1;
			if (c.Ja == BkChessType.Im.id || c.Ja == BkChessType.Hm.id) d = !0;
			d && (b *= 0.9);
			logMessage("selectedPiece.chessType: " + c.Ja + " - isXePhao: " + d + " - chessWidth: " + b)
		}
		c = this.background.x - this.background.getWidth() / 2;
		for (d = 0; 9 > d; d++) {
			var e = this.Sb(d);
			if (a * this.background.scaleX + c > e - b * this.background.scaleX / 2 && a * this.background.scaleX + c < e + b * this.background.scaleX / 2) return d
		}
		return -1
	},
	Bq: function(a) {
		var b = isWebPlatform() ? En : Fn;
		logMessage("chessHeight: " + b);
		if (0 <= this.ge) {
			logMessage("this.pieceSelected \x3e\x3d 0");
			var c = this.U[this.ge],
				d = !1;
			if (c.Ja == BkChessType.Im.id || c.Ja == BkChessType.Hm.id) d = !0;
			d && (b *= 0.9);
			logMessage("selectedPiece.chessType: " + c.Ja + " - isXePhao: " + d + " - chessHeight: " + b)
		}
		c = this.background.y - this.background.getHeight() / 2;
		for (d = 0; 10 > d; d++) {
			var e = this.Tb(d);
			if (a * this.background.scaleY + c > e - b * this.background.scaleY / 2 && a * this.background.scaleY + c < e + b * this.background.scaleY / 2) return d
		}
		return -1
	},
	Au: function() {
		isWebPlatform() && (this.ri.setPosition(-100, -100), this.si.setPosition(-100, -100))
	},
	pU: function() {
		isWebPlatform() &&
			(this.ri.setPosition(108.5, cc.winSize.height / (BkGlobal.ja == K ? 1.94 : 3.5)), this.si.setPosition(110.5, this.ri.y - this.si.getContentSize().height / 2 - 20))
	},
	Jr: null,
	BS: function(a) {
		this.ge = a;
		this.kj.setPosition(this.Sb(this.U[this.ge].ea), this.Tb(this.U[this.ge].rowIndex) + 1);
		this.Jr = cc.rotateBy(2, 360).repeatForever();
		this.kj.runAction(this.Jr);
		this.iU(a)
	},
	gp: function() {
		0 > this.ge || (this.kj.setPosition(-100, -100), this.kj.stopAction(this.Jr), this.Jr = null, this.sA(), this.ge = -1)
	},
	iU: function(a) {
		for (var b = Array(9),
				c = 0; 10 > c; c++) b[c] = Array(10);
		this.mD(b);
		c = this.dq(a);
		this.Up = [];
		for (var d = 0, e = 0; 90 > e; e++)
			if (this.lN(c, a, e, b)) {
				var f = e % 9,
					g = Math.floor(e / 9);
				if (this.eN(c, a, f, g, b) || this.gN(0, c, a, f, g, b)) this.wc[d].setPosition(this.Sb(f), this.Tb(g)), this.wc[d].Mr = g, this.wc[d].$p = f, this.wc[d].setVisible(!1);
				else {
					for (var h = !1, k = 16; 32 > k; k++)
						if (!this.U[k].sa && this.U[k].ea == f && this.U[k].rowIndex == g) {
							h = !0;
							this.U[k].mj(!0);
							this.Up.push([f, g]);
							break
						} h || (this.wc[d].setPosition(this.Sb(f), this.Tb(g)), this.wc[d].Mr = g, this.wc[d].$p =
						f, this.wc[d].setVisible(!0))
				}
				d++
			}
	},
	mD: function(a) {
		var b;
		for (b = 0; 9 > b; b++)
			for (var c = 0; 10 > c; c++) a[b][c] = -1;
		for (b = 0; 32 > b; b++) this.U[b].sa || (a[this.U[b].ea][this.U[b].rowIndex] = b)
	},
	dq: function(a) {
		var b = new BkChessPiece(a);
		b.Ja = this.U[a].Ja;
		b.pa = this.U[a].pa;
		b.ea = this.U[a].ea;
		b.rowIndex = this.U[a].rowIndex;
		return b
	},
	sA: function() {
		for (var a = 0; 20 > a; a++) this.wc[a].setPosition(-100, -100), this.wc[a].Mr = -1, this.wc[a].$p = -1;
		for (a = 16; 32 > a; a++) this.U[a].mj(!1)
	},
	lN: function(a, b, c, d) {
		return a.tt(c, d) ? !0 : !1
	},
	eN: function(a,
		b, c, d, e) {
		var f = e[c][d];
		e[c][d] = b;
		e[a.ea][a.rowIndex] = -1;
		var g = a.ea,
			h = a.rowIndex;
		a.ea = c;
		a.rowIndex = d;
		this.U[b].ea = c;
		this.U[b].rowIndex = d;
		var k = !0,
			m = this.U[0].ea;
		m != this.U[16].ea && (k = !1);
		for (var r = this.U[0].rowIndex + 1; r < this.U[16].rowIndex; r++) 0 <= e[m][r] && (k = !1);
		this.U[b].ea = g;
		this.U[b].rowIndex = h;
		a.ea = g;
		a.rowIndex = h;
		e[a.ea][a.rowIndex] = e[c][d];
		e[c][d] = f;
		return k
	},
	gN: function(a, b, c, d, e, f) {
		var g = !1,
			h = f[d][e];
		0 <= h && (this.U[h].sa = !0);
		f[d][e] = c;
		f[b.ea][b.rowIndex] = -1;
		var k = b.ea,
			m = b.rowIndex;
		b.ea = d;
		b.rowIndex =
			e;
		this.U[c].ea = d;
		this.U[c].rowIndex = e;
		this.Pq(1 - a, f) && (g = !0);
		this.U[c].ea = k;
		this.U[c].rowIndex = m;
		b.ea = k;
		b.rowIndex = m;
		f[b.ea][b.rowIndex] = f[d][e];
		0 <= h && (this.U[h].sa = !1);
		f[d][e] = h;
		return g
	},
	Pq: function(a, b) {
		var c = this.U[this.tu(1 - a)];
		if (c)
			for (var c = this.fg(c.ea, c.rowIndex), d = 0; 16 > d; d++) {
				var e = 16 * a + d;
				if (!this.U[e].sa && this.dq(e).tt(c, b)) return !0
			}
		return !1
	},
	fg: function(a, b) {
		return 9 * b + a
	},
	tu: function(a) {
		return 16 * a
	},
	Sb: function(a) {
		return 0 > a ? -200 : this.background.x + (a - 4) * (isWebPlatform() ? WEB_BOARD_CELL_WIDTH :
			BOARD_CELL_WIDTH) * this.background.scaleX
	},
	Tb: function(a) {
		var b = isWebPlatform() ? WEB_BOARD_HEIGHT_RIVER : BOARD_HEIGHT_RIVER,
			c = isWebPlatform() ? WEB_BOARD_CELL_HEIGHT : BOARD_CELL_HEIGHT,
			d = isWebPlatform() ? 2 : 0;
		return 0 > a ? -200 : 4 < a ? this.background.y + b * this.background.scaleY * 0.5 + (a - 5) * c * this.background.scaleY - d : this.background.y - b * this.background.scaleY * 0.5 + (a - 4) * c * this.background.scaleY
	},
	rL: function(a, b) {
		for (var c = 0; 32 > c; c++)
			if (!this.U[c].sa && this.U[c].ea == a && this.U[c].rowIndex == b) return c;
		return -1
	},
	$B: function() {
		logMessage("AvatarInfo numOfAvatar:" +
			this.Ca.length);
		for (var a = 0; a < this.Ca.length; a++) {
			var b = this.Ca[a];
			null != b.yi && logMessage("Avatar name: " + b.od() + " serverPos:" + b.yi.ta)
		}
	},
	rr: function(a, b) {
		var c = this.S();
		logMessage("Log info begin onObserverStatusChange");
		this.$B();
		c.aC();
		var d = c.Jb(a),
			e = -1;
		d && (e = d.Va);
		c.EV(a, b);
		var f = this.tc(d.ta);
		f && f.Ur(d.status);
		b || (e = c.Jb(a).Va, this.bs());
		this.Ik(d, e, b);
		this.$E();
		b || c.An() != a || (logMessage("la toi ngoi xuong choi"), this.UV());
		c.Ib == GAME_STATE_FINISH ? this.Gt() : (this.tw(), this.uh());
		logMessage("Finish onObserverStatusChange");
		this.$B();
		c.aC()
	},
	Ik: function(a, b, c) {
		logMessage("reposition");
		if (a) {
			for (var d, e, f = this.S(), g = 0; g < this.Ca.length; g++) e = this.Ca[g], null != e && e.od() == f.Jb(a.ta).getName() && (d = e, d.setPosition(this.$b(a.Va)));
			c ? (d && (d.Nj(), d.xi(), d.setPosition(-200, -200)), 0 == b && this.ic && (this.ic.setPosition(this.$b(0)), this.ic.setVisible(!0)), 1 == b && this.ec && (this.ec.setPosition(this.$b(1)), this.ec.setVisible(!0))) : (d ? d.setPosition(this.$b(a.Va)) : (d = new BkChessPlayer(a.getUserInfo(), a.status), d.setPosition(this.$b(a.Va)),
				d.Po(f), d.mm(a), this.Ca.push(d), this.addChild(d)), 0 == a.Va && this.ic && (this.ic.setPosition(-200, -200), this.ic.setVisible(!1)), 1 == a.Va && this.ec && (this.ec.setPosition(-200, -200), this.ec.setVisible(!1)))
		}
	},
	Jk: function() {
		for (var a = 0; 32 > a; a++) {
			var b = this.U[a];
			b.sa ? (b.x = -100, b.y = -100) : (b.setScale(isWebPlatform() ? 0.8 : this.Kd), b.setOpacity(255), b.x = this.Sb(b.ea), b.y = this.Tb(b.rowIndex), b.Mk(!1))
		}
	},
	FO: function() {
		this.Gt()
	},
	Pv: function(a, b) {
		var c = this.tc(a);
		if (null != c) {
			c.Ur(b);
			var c = this.S(),
				d = c.Ba();
			null == d ||
				c.Ub() || (this.Pk(!1), d.ta == a && (this.uh(), d.status == PLAYER_STATE_READY && this.tw()))
		}
	},
	tw: function() {
		this.nw();
		this.U[0].mj(!1);
		this.U[16].mj(!1);
		this.sw();
		this.Jk()
	},
	Pk: function(a) {
		var b = this.S();
		if (!b.Ub()) {
			var c = b.Ba();
			c && !0 === c.Ka || (c = !0, void 0 != a && (c = a), this.S().Ri() ? (this.mb.Ya(!1), this.wl.cs(!0)) : (this.wl.cs(!1), c && b.Ok(), a = this.S().Ba(), null != a ? a.status != PLAYER_STATE_READY && this.mb.Ya(!0) : this.mb.Ya(!0)))
		}
	},
	NC: function(a, b) {
		if (null != this.Ca) {
			var c = this.tc(a);
			c && c.Tr(b, !0)
		}
	},
	Ox: function(a, b) {
		this.S().Uq(a.ta) ?
			null != this.ma && this.ma.zm(b, ic) : logMessage("chi show update heart cho minh")
	},
	$E: function() {
		var a = this.S(),
			b = a.Ba();
		if (b && 1 == b.Va) {
			for (var c = 0; c < a.Xb; c++) {
				var d = a.Mg(c);
				if (d && 0 == d.Va) {
					d.Va = 1;
					if (a = this.tc(d.ta)) this.ec && (this.ec.setPosition(-200, -200), this.ec.setVisible(!1)), a.setPosition(this.$b(d.Va));
					break
				}
			}
			b.Va = 0;
			(a = this.tc(b.ta)) && a.setPosition(this.$b(b.Va))
		}
		b && !0 === b.Ka ? this.Ce() : this.Ok(TIME_AUTO_READY)
	},
	NT: function() {
		this.Dj.setVisible(!0);
		this.Dj.MT()
	},
	Bo: function(a, b) {
		logMessage("onDealCard");
		this.Kn();
		var c = this.S(),
			d = c.Ba();
		d && d.status == PLAYER_STATE_NOT_READY && this.Gt();
		playChieuTuongSound();
		this.NT();
		this.YD();
		this.jx(a, b);
		c.WE(GAME_STATE_PLAYING);
		d.ta == a && showToastMessage("\u0110\u1ebfn l\u01b0\u1ee3t b\u1ea1n", cc.winSize.width / 2, TOAST_MSG_YPOS, 2, 200);
		this.Yo(this.xr);
		this.uh();
		this.DI();
		this.At();
		this.Ce();
		if (d && !1 === d.Ka) {
			for (c = 0; 32 > c; c++) {
				var e = this.U[c];
				e.sa || e.pa != d.pa || e.Mk(!0)
			}
			this.AE();
			n.rb(vc)
		} else this.bx();
		BkConnectionManager.Ow()
	},
	DI: function() {
		if (null != this.Ca)
			for (var a =
					0; a < this.Ca.length; a++) {
				var b = this.Ca[a];
				b && (b.xi(), b.Nj())
			}
	},
	qp: function(a) {
		this._super();
		this.qn = a.O.readInt();
		this.xr = a.O.readInt();
		logMessage("OnGameTableSyn: defaultChessTime:" + this.qn);
		a = this.S();
		(a = a.Ba()) && a.Ka && (this.tf && (this.tf.ef(!0), this.tf.Ya(!0)), this.xA && this.xA.setOpacity(255));
		this.YD();
		this.bs();
		a = this.S();
		a.Ub() && (logMessage("dang trong van choi -\x3e k nhan dc deal card -\x3e recall show banner"), BkConnectionManager.Ow())
	},
	E_: function() {
		for (var a = 0, b = this.S().ga.length, c = 0; c <
			b; c++) {
			var d = this.S().ga[c];
			d && d.Ka && a++
		}
		return a
	},
	eL: function() {
		return this.S().ga.length
	},
	EC: function() {
		logMessage("onRemoveChatLayer ChessIngame");
		null != this.vf && this.vf.setVisible(!1);
		this.Mj = null
	},
	Yp: function() {
		null != this.yh && (this.yh.removeFromParent(), this.yh = null)
	},
	mV: function(a, b) {
		this.XL();
		if (null != this.vf) {
			var c = b + ": " + a;
			b == BkGlobal.P.userName && (c = "B\u1ea1n: " + a);
			this.vf.dt(c)
		}
	},
	vU: function(a) {
		logMessage("showViewerChatText: " + a);
		var b = this.Dn();
		null != this.di && this.di.removeSelf();
		this.di =
			new BkToast("Chess_toast.png");
		this.di.GD(a);
		var c = this;
		this.di.Ro(function() {
			c.di = null
		});
		this.di.No(3);
		this.di.show(b.x - 0.4 * this.di.background.width, b.y - 0.05 * cc.winSize.height)
	},
	uU: function(a) {
		if (BkGlobal.jk) {
			this.Yp();
			var b = this.Dn();
			this.yh = new BkChatEmoSprite(El(a + 1));
			isWebPlatform() ? (b.x += 40, b.y += 40) : this.yh.setScale(1.2 * GAME_SCALE);
			this.addChild(this.yh, 1E3);
			this.yh.x = b.x;
			this.yh.y = b.y;
			this.yh.jE()
		} else logMessage("chat emo not loaded -\x3e reject command!")
	},
	Dn: function() {
		var a = cc.p(25, this.Cb.y -
			15);
		isWebPlatform() || (a = 0.865 * cc.winSize.height, n.Sq() && (a = 0.85 * cc.winSize.height), a = cc.p(0.85 * cc.winSize.width, a));
		return a
	},
	bs: function() {
		var a = this.eL();
		if (0 < a) {
			if (void 0 == this.Ec || null == this.Ec) {
				var b = this.Dn();
				this.Ec = new BkSprite("#eye.png");
				this.Ec.x = b.x;
				this.Ec.y = b.y;
				isWebPlatform() || this.Ec.setScale(GAME_SCALE);
				this.addChild(this.Ec, 2)
			}
			if (null == this.jf) {
				var b = cc.color(251, 234, 180),
					c = 15;
				isWebPlatform() || (c = 30);
				this.jf = new BkLabel(a, "", c, !0);
				this.jf.setTextColor(b);
				this.jf.x = this.Ec.x + this.Ec.getContentSize().width /
					2 + this.jf.getContentSize().width / 2 + 5;
				this.jf.y = this.Ec.y;
				isWebPlatform() || (this.jf.setScale(GAME_SCALE), this.jf.x = this.Ec.x + this.Ec.getBoundingBox().width / 2 + this.jf.getBoundingBox().width / 2 + 5);
				this.addChild(this.jf, 2)
			} else this.jf.setString(a);
			if (void 0 == this.me || null == this.me) {
				this.me = new BkSprite("#small_info_frame.png");
				a = this.Ec.getContentSize().width * this.Ec.getScaleX();
				b = this.Ec.getContentSize().height * this.Ec.getScaleY() * 1.5;
				c = 1.8 * a;
				this.me.setScaleX(c / this.me.getContentSize().width);
				this.me.setScaleY(b /
					this.me.getContentSize().height);
				this.me.y = this.Ec.y;
				this.me.x = this.Ec.x - 0.57 * a + 0.5 * c;
				this.me.setOpacity(180);
				this.addChild(this.me, 1);
				var d = this;
				this.me.Ua(function() {
					var a = new BkListViewerWindow;
					a.Ab(d);
					a.Oa()
				})
			}
		} else null != this.Ec && (this.Ec.removeFromParent(), this.Ec = null), null != this.me && (this.me.removeFromParent(), this.me = null), null != this.jf && (this.jf.removeFromParent(), this.jf = null)
	},
	Yo: function(a) {
		logMessage("startTimer: " + a);
		this.Ym();
		for (var b = this.S(), c = 0; c < b.ga.length; c++) {
			var d = b.Mg(c);
			if (d && d.status != PLAYER_STATE_NOT_READY && d.pa == this.Vc) {
				var e = this.tc(d.ta);
				e && (d.Xw(), e.Pw(a))
			} else d && d.status != PLAYER_STATE_NOT_READY && d.pa != this.Vc && d.cx()
		}
	},
	Ym: function(a) {
		logMessage("cancelTimer");
		null != this.Kf && this.Kf.setVisible(!1);
		for (var b = this.S(), c = 0; c < b.Xb; c++) {
			var d = b.Mg(c);
			d && (a && d.To(!1), d.status != PLAYER_STATE_NOT_READY && (d = this.tc(d.ta), null != d && (d.yc(), d.et && (d.et.setOpacity(0), d.et.setVisible(!1)))))
		}
	},
	Gt: function() {
		for (var a = this.S(), b, c, d = 0; d < a.ga.length; d++)(c = a.Mg(d)) && (b = this.tc(c.ta)) &&
			0 < c.Va && (b.Nj(), b.xi(), b.Oj());
		a.Ib = GAME_STATE_READY;
		this.uh();
		this.tw()
	},
	YD: function() {
		logMessage("setTimeForAllPlayers: " + this.qn);
		for (var a = this.S(), b = 0; b < a.Xb; b++) {
			var c = a.ga[b];
			c && c.ie(this.qn)
		}
	},
	uw: function() {
		this.Ff = this.we = this.Df = this.Ef = -1
	},
	jx: function(a, b) {
		logMessage("updateGameStateAtBeginning firstPosition: " + a + " - lastPosition: " + b);
		null != this.wg && (logMessage("this.wlLayer !\x3d null start game -\x3e remove"), this.wg.removeFromParent(), this.wg = null);
		var c = this.S(),
			d = c.Ba();
		this.Pj = d &&
			d.status != PLAYER_STATE_NOT_READY ? 0 : -1;
		this.pB = this.jc = d.ta == b;
		this.uw();
		logMessage("this.isReverse: " + this.jc + " -  currentPlayer.serverPosition: " + d.ta);
		this.cu = a;
		this.sv = b;
		this.Fw(a, 0);
		this.Fw(b, 1);
		if (d = c.Jb(a)) d.isPlaying = !0;
		if (c = c.Jb(b)) c.isPlaying = !0;
		this.jc ? (d.pa = 1, c.pa = 0, this.Vc = 1) : (d.pa = 0, c.pa = 1, this.Vc = 0);
		logMessage("firstPlayer.chessColor: " + d.pa + " - firstPlayer.tablePosition: " + d.Va);
		if (d.pa != d.Va) {
			d.Va = d.pa;
			c.Va = c.pa;
			var e = this.tc(a);
			e && e.setPosition(this.$b(d.Va));
			(d = this.tc(b)) && d.setPosition(this.$b(c.Va))
		}
		this.sw();
		this.Jk()
	},
	Fw: function(a, b) {
		var c = this.S().Jb(a);
		c && c.Kq(this.tc(a), b)
	},
	qr: function(a, b, c, d, e) {
		logMessage("onMove");
		this.U[0].mj(!1);
		this.U[16].mj(!1);
		var f = this.Pj;
		this.Pj = -1;
		this.Ym();
		var g, h = this.S();
		for (g = 0; g < h.Xb; g++) {
			var k = h.Mg(g);
			if (k && k.status != PLAYER_STATE_NOT_READY && k.pa == this.Vc) {
				k.ie(e);
				break
			}
		}
		this.jc && (b = 9 - b, d = 9 - d, a = 8 - a, c = 8 - c);
		e = this.rL(c, d);
		0 <= e && (this.U[e].sa = !0);
		for (g = 0; 32 > g; g++)
			if (!this.U[g].sa && this.U[g].ea == a && this.U[g].rowIndex == b) {
				this.ge = g;
				break
			} logMessage("startCol: " + a + " - startRow: " +
			b + " - finishCol: " + c + " - finishRow: " + d);
		this.we = a;
		this.Ff = b;
		this.Df = c;
		this.Ef = d;
		this.ce.setPosition(this.Sb(a), this.Tb(b));
		this.be.setPosition(this.Sb(c), this.Tb(d));
		if (g = this.U[this.ge]) this.reorderChild(g, 33), g.ea = c, g.rowIndex = d, a = cc.callFunc(this.ht, this), c = cc.moveTo(0.2, this.Sb(c), this.Tb(d)), c = cc.sequence(c, a), g.runAction(c);
		this.gp();
		c = Array(9);
		for (g = 0; 10 > g; g++) c[g] = Array(10);
		this.mD(c);
		console.log("onMove - board: ", c);
		this.Pq(this.Vc, c) || (0 > e ? playCoDiChuyenSound() : playCoAnQuanSound());
		0 <=
			e && 32 > e && this.jy(e);
		this.Vc = 1 - this.Vc;
		this.Yo(this.xr);
		this.Pj = f
	},
	ht: function() {
		this.S().hb()
	},
	jy: function(a) {
		if (!(0 > a)) {
			this.U[a].sa = !0;
			for (var b = this.S(), c, d = 0; d < b.Xb; d++)
				if ((c = b.Mg(d)) && c.status != PLAYER_STATE_NOT_READY && c.pa == this.Vc) {
					this.dC(this.U[a], this.$b(c.Va).x, this.$b(c.Va).y);
					break
				}
		}
	},
	dC: function(a) {
		a.setPosition(-100, -100)
	},
	Mv: function(a, b) {
		if (a != CHIEU_HET) {
			var c = this.S().Jb(b);
			if (null != c)
				if (a == CHIEU) playChieuTuongSound(), this.U[0].pa == c.pa ? this.U[16].mj(!0) : this.U[0].mj(!0), this.Vd.setOpacity(255),
					this.Vd.setVisible(!0), this.Vd.runAction(cc.fadeOut(TIME_SHOW_SPRITE_CHESS_INGAME));
				else {
					var d = Gn(a);
					a == HET_GIO || a == DAU_HANG ? (d = c.P.userName + d, showToastMessage(d, cc.winSize.width / 2, TOAST_MSG_YPOS, 3, 250)) : showToastMessage(d, cc.winSize.width / 2, cc.winSize.height / 2, 3, 250)
				}
		}
	},
	aL: function(a) {
		for (var b = this.S(), c = 0; c < b.Xb; c++) {
			var d = b.Mg(c);
			if (d && d.status != PLAYER_STATE_NOT_READY && d.ta != a) return d.ta
		}
		return -1
	},
	wg: null,
	LS: function() {
		var a = new BkPacket;
		a.Xy(Bi, Ok);
		BkConnectionManager.send(a)
	},
	cS: function() {
		this.LS()
	},
	Ir: function() {
		logMessage("removewlLayer");
		null != this.wg && (this.wg.removeFromParent(), this.wg = null)
	},
	rV: function(a) {
		null != this.wg && this.wg.eV(a)
	},
	xU: function(a) {
		logMessage("showWinLoseFinishGame " + a);
		var b = 1;
		if (0 > a) b = 0;
		else {
			var c = this.tc(a);
			c && c.y > cc.winSize.height / 2 && (b = -1)
		}
		logMessage("showWinLoseFinishGame isWin: " + a + " " + b);
		return (a = getCurrentScene()) ? (c = cc.p(cc.winSize.width / 2, this.xl()), b = new BkWinLoseLayer(b, c, this), a.addChild(b, Ud - 1), b) : null
	},
	Lv: function(a) {
		logMessage("onFinishGame " + a);
		var b =
			this.S();
		this.wg = this.xU(a);
		if (null != this.wg) {
			var c = this,
				d = cc.callFunc(function() {
					logMessage("wlLayer request Ads " + J());
					c.cS()
				}, this),
				e = cc.callFunc(function() {
					logMessage("wlLayer removeWinLoseLayer " + J());
					c.Ir()
				}, this);
			logMessage("wlLayer run Action delay");
			this.wg.runAction(cc.sequence(cc.delayTime(3), d, cc.delayTime(1), e))
		}
		if (0 <= a) {
			this.tc(a).vE();
			logMessage("Winner pos: " + a);
			d = this.aL(a);
			logMessage("Loser pos: " + d); - 1 != d && this.tc(d).rE();
			d = b.Ba();
			if (null == d) return;
			a == d.ta ? playCoThangSound() : d.status !=
				PLAYER_STATE_NOT_READY && playCoThuaSound()
		}
		b.WE(GAME_STATE_FINISH);
		this.bx();
		this.Ym(!0);
		this.uh();
		this.qA();
		this.gp();
		this.sA();
		BkConnectionManager.mC()
	},
	N6: function(a) {
		if (!(0 > a))
			for (var b = this.S(), c = 0; c < b.Xb; c++) {
				var d = b.Mg(c);
				if (d && d.status != PLAYER_STATE_NOT_READY && d.ta != a) {
					var c = Math.min(b.Ee, d.P.ye),
						e = Math.floor(c * (1 - TAX_RATE));
					b.zf(d, -c);
					b.zf(b.Jb(a), e);
					break
				}
			}
	},
	Ov: function(a) {
		switch (a) {
			case CHESS_DRAW_REQUEST:
				this.dO();
				break;
			case CHESS_DRAW_ACCEPT:
				this.GO();
				break;
			case CHESS_DRAW_REFUSE:
				this.HO()
		}
	},
	Ny: function() {
		var a = this;
		showPopupConfirmWith("B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n\n\u0111\u1ec1 ngh\u1ecb h\u00f2a kh\u00f4ng?", "", function() {
			a.S().Br(CHESS_DRAW_REQUEST)
		})
	},
	dO: function() {
		logMessage("offerDraw");
		null != this.Mj && (logMessage("remove chatLayer if showing!"), this.Mj.Jo());
		var a = this;
		showPopupConfirmWith("\u0110\u1ed1i ph\u01b0\u01a1ng mu\u1ed1n h\u00f2a.\n B\u1ea1n c\u00f3 \u0111\u1ed3ng \u00fd kh\u00f4ng?", "", function() {
			a.S().Br(CHESS_DRAW_ACCEPT)
		}, null, function() {
			a.S().Br(CHESS_DRAW_REFUSE)
		})
	},
	GO: function() {
		showToastMessage("Hai \u0111\u1ed1i th\u1ee7 \u0111\u00e3 b\u1eaft tay nhau \u0111\u1ed3ng \u00fd h\u00f2a", cc.winSize.width / 2, TOAST_MSG_YPOS, 3, 300)
	},
	HO: function() {
		showToastMessage("\u0110\u1ed1i ph\u01b0\u01a1ng \u0111\u00e3 t\u1eeb ch\u1ed1i h\u00f2a", cc.winSize.width / 2, cc.winSize.height / 2, 3, 200)
	},
	Oy: function() {
		var a = this;
		showPopupConfirmWith("B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n ch\u1ecbu thua ?", "", function() {
			a.S().Br(CHESS_SURRENDER)
		})
	},
	GC: function() {
		this._super();
		this.$E();
		this.VV()
	},
	Td: null,
	VV: function() {
		if (!isWebPlatform()) {
			var a = this.S().Ba();
			if (null != a && a.Ka) {
				if (null == this.Td) {
					this.Td = new BkButton("switch_butt.png", "switch_butt_press.png", "switch_butt.png", "switch_butt.png", ccui.Widget.PLIST_TEXTURE);
					this.Td.Yb(GAME_SCALE);
					this.Td.x = this.Cb.x + (this.Cb.x - this.$a.x);
					this.Td.y = this.$a.y;
					this.addChild(this.Td);
					var b = this;
					this.Td.addClickEventListener(function() {
						b.Lr()
					})
				}
				this.ma.uc.Of("heart_ingame.png");
				this.ma.Sg.x = this.ma.getContentSize().width / 2;
				this.ma.y = this.Dn().y + 0.1 * this.ma.getBoundingBox().height;
				this.ma.x = this.Dn().x - 1.05 * this.ma.getBoundingBox().width
			}
		}
	},
	UV: function() {
		isWebPlatform() || (null != this.Td && this.Td.removeFromParent(), this.ma.uc.Of("buy_butt.png"), this.ma.y = this.Cb.y + this.Cb.getBoundingBox().height / 2 - this.ma.getBoundingBox().height / 2, this.ma.x = this.Cb.x + (this.Cb.x - this.$a.x))
	},
	r2: function() {
		var a = !km();
		this.If.Of(this.kL(a));
		im(a)
	},
	kL: function(a) {
		var b = "music_off_view_butt.png";
		a && (b = "music_on_view_butt.png");
		return b
	},
	IC: function(a) {
		logMessage("onTableLeavePush Chess");
		this.tc(a.ta) &&
			(this.FR(a.ta), 0 == a.Va ? (this.ic.setPosition(this.$b(0)), this.ic.setVisible(!0)) : 1 == a.Va && (this.ec.setPosition(this.$b(1)), this.ec.setVisible(!0)))
	},
	ow: function() {
		this.uh();
		this.bs()
	},
	HC: function(a) {
		logMessage("onTableJoin chessBaseInGameLayer");
		a && !1 === a.Ka && (this.rn(), this.uh());
		this.bs()
	},
	rn: function() {
		logMessage("displayPlayerAvatar BkChessBaseIngameLayer");
		this.ic || this.eM();
		this.pA();
		var a = this.S();
		null != this.Ca && 0 < this.Ca.length && (logMessage("this.PlayerAvatar.length " + this.Ca.length), this.Dy());
		var b, c = 0,
			d;
		logMessage("init new player");
		for (var e = 0; e < a.ga.length; e++)
			if (b = a.Mg(e)) {
				if (b && !1 === b.Ka) {
					logMessage("player: " + b.getName() + " isObserver \x3d\x3d\x3d false"); - 1 == b.Va && (b.Va = a.xz());
					c++;
					d = b.Va;
					var f = new BkChessPlayer(b.getUserInfo(), b.status);
					f.setPosition(this.$b(b.Va));
					f.Po(a);
					f.mm(b);
					this.Ca.push(f);
					a.Ib == GAME_STATE_PLAYING && (f.xi(), this.Fw(b.ta, b.pa));
					this.addChild(f)
				} else b.Va = -1;
				a.Ib == GAME_STATE_READY && b.ie(this.qn)
			} a.Ib == GAME_STATE_PLAYING && this.Yo(this.xr);
		if (2 > c) {
			if (0 == 1 - d &&
				this.ic || 0 == c) this.ic.setPosition(this.$b(0)), this.ic.setVisible(!0);
			if (1 == 1 - d && this.ec || 0 == c) this.ec.setPosition(this.$b(1)), this.ec.setVisible(!0)
		}
	},
	eM: function() {
		var a = this.S();
		this.ic = new BkChessPlayer(null, -1);
		this.ic.setPosition(-200, -200);
		this.ic.Po(a);
		this.ic.setVisible(!1);
		this.addChild(this.ic);
		this.ec = new BkChessPlayer(null, -1);
		this.ec.setPosition(-200, -200);
		this.ec.Po(a);
		this.ec.setVisible(!1);
		this.addChild(this.ec)
	},
	pA: function() {
		this.ic.setPosition(-200, -200);
		this.ec.setPosition(-200,
			-200);
		this.ic.setVisible(!1);
		this.ec.setVisible(!1)
	},
	$b: function(a) {
		var b = cc.winSize,
			c = this.ic,
			d = c.getContentSize().width * GAME_SCALE;
		isWebPlatform() || isFBInstantGame() ? isFBInstantGame() ? (b = 0, 0 == a ? (yPos = 0.06 * cc.winSize.height, xPos = cc.winSize.width - b * GAME_SCALE - d / 2) : (yPos = 0.93 * cc.winSize.height, xPos = b * GAME_SCALE + d / 2)) : (yPos = 0.79 * cc.winSize.height, 0 == a ? xPos = WEB_PLAYER_AVAR_MARGIN_LF + d / 2 : (a = c.CL(), xPos = b.width - WEB_PLAYER_AVAR_MARGIN_RIGHT + d / 2 - a)) : (b = 0, 0 == a ? (yPos = 0.06 * cc.winSize.height, xPos = cc.winSize.width -
			b * GAME_SCALE - d / 2) : (yPos = 0.88 * cc.winSize.height, xPos = b * GAME_SCALE + d / 2, n.Sq() && (logMessage("isIphoneX -\x3e dat avatar top thap xuong"), yPos = 0.84 * cc.winSize.height)));
		return cc.p(xPos, yPos)
	},
	Ok: function(a) {
		var b = this.S().Ba();
		b && !0 === b.Ka || (this._super(a), null != this.Rb && (isWebPlatform() ? (a = this.xl(), this.Rb.y = a + 0.7 * this.mb.getBoundingBox().height) : (a = this.xl(), this.Rb.y = a + 0.7 * this.mb.getBoundingBox().height, logMessage("this.countdownText.getBoundingBox().height: " + this.Rb.getBoundingBox().height))))
	},
	XL: function() {
		if (null == this.vf) {
			var a = Ud - 1,
				b = getCurrentScene();
			this.vf = new BkChatContentLayer;
			var c = a + 1;
			cc.sys.os == cc.sys.OS_IOS && (c = a - 1);
			b.addChild(this.vf, c);
			this.vf.setVisible(!1)
		}
	},
	Mj: null,
	pC: function() {
		var a = Ud - 1;
		this.Mj = new BkChatLayerMobile;
		if (cc.sys.os == cc.sys.OS_IOS) {
			var b = 0.155 * cc.winSize.height;
			this.Mj.y = b;
			this.Mj.SE(b)
		}
		b = getCurrentScene();
		b.addChild(this.Mj, a);
		if (null == this.vf) {
			this.vf = new BkChatContentLayer;
			var c = a + 1;
			cc.sys.os == cc.sys.OS_IOS && (c = a - 1);
			b.addChild(this.vf, c)
		} else this.vf.setVisible(!0)
	},
	pp: null,
	fj: function() {
		isWebPlatform() ? BkLogicManager.oa().fm() : (null == this.pp && (this.pp = new BkIngameMenu(this.$a), this.addChild(this.pp, Td - 1)), this.pp.vr())
	},
	kx: function(a, b) {
		logMessage("updateHeart ingame: " + a + " money GB: " + BkGlobal.P.pb());
		var c = this.S();
		void 0 != c && (c = c.Ba()) && (c.P.Mb(c.P.pb() + a), logMessage("money ClientstateIngameMoney: " + c.xn() + " - money GB: " + BkGlobal.P.pb()));
		null != this.ma && this.ma.zm(a, b)
	},
	Lr: function() {
		this.jc = !this.jc;
		var a, b, c;
		a = 0;
		for (b = this.U.length; a < b; a++) c = this.U[a],
			c.stopAllActions(), c.ea = 8 - c.ea, c.rowIndex = 9 - c.rowIndex, c.Ik();
		if (-1 != this.we) {
			a = 8 - this.we;
			b = 9 - this.Ff;
			c = 8 - this.Df;
			var d = 9 - this.Ef;
			this.we = a;
			this.Ff = b;
			this.Df = c;
			this.Ef = d;
			this.ce.setPosition(this.Sb(a), this.Tb(b));
			this.be.setPosition(this.Sb(c), this.Tb(d))
		}
		b = 0;
		c = !1;
		d = this.S().ga;
		for (a = 0; a < d.length; a++) {
			var e = d[a];
			e && !e.Ka && (logMessage("swap tablePosition"), b++, e.Va = 1 - e.Va, e = this.tc(e.ta)) && (e.Hh ? (e.setPosition(this.$b(1)), c = !0) : e.setPosition(this.$b(0)))
		}
		logMessage("countPlayer: " + b);
		this.pA();
		1 ==
			b && (c ? (logMessage("co 1 ng choi dang o avar top"), this.ic.setPosition(this.$b(0)), this.ic.setVisible(!0)) : (logMessage("co 1 ng choi dang o avar bottom"), this.ec.setPosition(this.$b(1)), this.ec.setVisible(!0)))
	}
});
BkGameStatusLabelSprite = BkSprite.extend({
	label: null,
	Vi: null,
	Wi: null,
	Xi: null,
	count: 0,
	Bm: null,
	ctor: function(a) {
		this._super("#khu_status_waitting.png");
		this.Bm = new BkSprite("#amtra.png");
		this.Bm.y = this.getContentSize().height / 2;
		this.addChild(this.Bm);
		var b = isWebPlatform() ? 20 : 30,
			c = cc.color.BLACK,
			d = this.Bm.y;
		this.label = new BkLabel("\u0110ang t\u00ecm \u0111\u1ed1i th\u1ee7, xin h\u00e3y \u0111\u1ee3i", "", b);
		this.label.x = this.label.getContentSize().width / 2 + this.Bm.x + this.Bm.getContentSize().width / 2;
		this.label.y =
			d;
		this.label.setTextColor(c);
		this.addChild(this.label);
		var e = this.label.x + this.label.getContentSize().width / 2;
		this.Vi = new BkLabel(".", "", b);
		this.Vi.x = e + this.Vi.getContentSize().width / 2;
		this.Vi.y = d;
		this.Vi.setTextColor(c);
		this.addChild(this.Vi);
		this.Wi = new BkLabel("..", "", b);
		this.Wi.x = e + this.Wi.getContentSize().width / 2;
		this.Wi.y = d;
		this.Wi.setTextColor(c);
		this.addChild(this.Wi);
		this.Xi = new BkLabel("...", "", b);
		this.Xi.x = e + this.Xi.getContentSize().width / 2;
		this.Xi.y = d;
		this.Xi.setTextColor(c);
		this.addChild(this.Xi);
		this.setScale(GAME_SCALE);
		this.x = cc.winSize.width / 2;
		isWebPlatform() && (this.x = cc.winSize.width / 2 + 50);
		this.y = a;
		this.pE(0)
	},
	pE: function(a) {
		this.xu();
		1 == a && this.Vi.setVisible(!0);
		2 == a && this.Wi.setVisible(!0);
		3 == a && this.Xi.setVisible(!0)
	},
	xu: function() {
		this.Vi.setVisible(!1);
		this.Wi.setVisible(!1);
		this.Xi.setVisible(!1)
	},
	Z_: function() {
		return this.label.getContentSize().width
	},
	cs: function(a) {
		this.setVisible(a);
		this.unschedule(this.MC);
		a && (this.count = 0, this.schedule(this.MC, 0.5))
	},
	MC: function() {
		this.pE(this.count -
			4 * Math.floor(this.count / 4));
		this.count++
	}
});
BkBatDauEffectSprite = cc.SpriteBatchNode.extend({
	sprite: null,
	qf: null,
	YU: 0.05,
	Wq: !1,
	ctor: function() {
		cc.spriteFrameCache.addSpriteFrames(res.kH, res.my);
		this.Wo = "frame_0.png";
		this.sprite = new BkSprite("#" + this.Wo);
		this._super(res.my);
		this.addChild(this.sprite);
		this.qf = [];
		for (var a = "", b = 0; 5 > b; b++) a = "frame_" + b + ".png", a = cc.spriteFrameCache.getSpriteFrame(a), this.qf.push(a);
		this.Wq = !1
	},
	MT: function() {
		var a = this;
		if (a.Wq) logMessage("isShowingEffect -\x3e return");
		else {
			var b = cc.callFunc(function() {
				logMessage("show effect finish:");
				a.Wq = !1
			}, this);
			this.sprite.setOpacity(255);
			var c = cc.fadeOut(0.5),
				d = new cc.Animation(this.qf, this.YU),
				b = cc.sequence(cc.animate(d), cc.delayTime(1), c, b);
			a.Wq = !0;
			this.sprite.runAction(b)
		}
	}
});
BkWinLoseLayer = cc.Layer.extend({
	na: null,
	FB: !1,
	$d: null,
	Wb: null,
	dk: null,
	ctor: function(a, b, c) {
		this._super();
		this.na = new BkSprite(res.Vr);
		this.na.Ua(function() {});
		this.na.setScaleX(cc.winSize.width / this.na.getContentSize().width);
		this.na.setScaleY(cc.winSize.height / this.na.getContentSize().height);
		this.na.x = cc.winSize.width / 2;
		this.na.y = cc.winSize.height / 2;
		this.addChild(this.na);
		this.FB = a;
		this.dk = c;
		this.$d = 1 == a ? new BkSprite("#win_cuoi_van.png") : -1 == a ? new BkSprite("#lose_cuoi_van.png") : new BkSprite("#hoa.png");
		this.$d.x = b.x;
		this.$d.y = b.y;
		this.$d.setScale(GAME_SCALE);
		this.addChild(this.$d)
	},
	eV: function(a) {
		this.Wb = 0 < this.FB ? new cc.LabelBMFont("Elo: +" + Math.abs(a), res.lp) : new cc.LabelBMFont("Elo: -" + Math.abs(a), res.Cs);
		this.Wb.setScale(2 * GAME_SCALE);
		this.Wb.x = this.$d.x;
		this.Wb.y = this.$d.y - this.$d.getBoundingBox().height / 2 - this.Wb.getBoundingBox().height / 2;
		this.addChild(this.Wb)
	}
});
BkCoTuongGameLayer = BkChessBaseIngameLayer.extend({
	ctor: function() {
		this._super()
	},
	qp: function(a) {
		logMessage("OnGameTableSyn");
		this._super(a);
		var b = this.S(),
			c = b.Ba();
		if (b.Ub()) {
			for (var d = 0; a.O.La();) {
				this.jx(a.O.readByte(), a.O.readByte());
				var d = a.O.readInt(),
					e = b.Jb(this.cu);
				e.isPlaying = !0;
				e.ie(a.O.readInt());
				e = b.Jb(this.sv);
				e.isPlaying = !0;
				e.ie(a.O.readInt());
				this.Vc = a.O.readByte();
				this.jc && (this.Vc = 1 - this.Vc);
				var f, g;
				if (this.jc)
					for (e = 0, f = this.U.length; e < f; e++) g = this.U[(e + 16) % 32], g.ea = 8 - a.O.readByte(),
						g.rowIndex = 9 - a.O.readByte(), g.sa = 1 == a.O.readByte(), g.Ik(), g.sa || !c || c.Ka || g.pa != c.pa || g.Mk(!0);
				else
					for (e = 0, f = this.U.length; e < f; e++) g = this.U[e], g.ea = a.O.readByte(), g.rowIndex = a.O.readByte(), g.sa = 1 == a.O.readByte(), g.Ik(), g.sa || !c || c.Ka || g.pa != c.pa || g.Mk(!0)
			}
			this.Yo(d)
		} else c && c.Ka && this.Ce(), this.Ym(!0), this.Jk();
		this.uh()
	}
});
BkCoUpGameLayer = BkChessBaseIngameLayer.extend({
	ne: null,
	Me: null,
	ctor: function() {
		this._super();
		this.ne = new BkTakenListChessPiece;
		this.ne.setScale(GAME_SCALE);
		if (isWebPlatform()) {
			var a = this.background.x - this.background.getWidth() / 2 - 0.22 * this.ne.getWidth(),
				b = this.background.y - 48;
			this.ne.setPosition(a, b);
			this.Me = new BkTakenListChessPiece;
			this.Me.setScale(GAME_SCALE);
			a = this.background.x + this.background.getWidth() / 2 + 0.22 * this.Me.getWidth()
		} else a = cc.winSize.width / 2, b = this.background.y - 0.5 * this.background.getHeight() -
			this.ne.getBoundingBox().height / 2, this.ne.setPosition(a, b), this.Me = new BkTakenListChessPiece, this.Me.setScale(GAME_SCALE), a = cc.winSize.width / 2, b = this.background.y + 0.5 * this.background.getHeight() + 0.2 * this.Me.getHeight();
		this.Me.setPosition(a, b);
		this.addChild(this.Me, 1);
		this.addChild(this.ne, 1)
	},
	qp: function(a) {
		logMessage("OnGameTableSyn");
		this._super(a);
		var b = this.S(),
			c = b.Ba();
		if (b.Ub()) {
			var d = 0;
			if (a.O.La()) {
				this.jx(a.O.readByte(), a.O.readByte());
				var d = a.O.readInt(),
					e = b.Jb(this.cu);
				e.isPlaying = !0;
				e.ie(a.O.readInt());
				b = b.Jb(this.sv);
				b.isPlaying = !0;
				b.ie(a.O.readInt());
				this.Vc = a.O.readByte();
				this.jc && (this.Vc = 1 - this.Vc);
				var f;
				if (this.jc)
					for (b = 0, e = this.U.length; b < e; b++) f = this.U[(b + 16) % 32], f.ea = 8 - a.O.readByte(), f.rowIndex = 9 - a.O.readByte(), f.sa = 1 == a.O.readByte(), f.hc = a.O.readByte(), f.Ja = a.O.readByte(), f.sc = a.O.readByte(), f.Ik(), f.mg(), f.sa || !c || c.Ka || f.pa != c.pa || f.Mk(!0);
				else
					for (b = 0, e = this.U.length; b < e; b++) f = this.U[b], f.ea = a.O.readByte(), f.rowIndex = a.O.readByte(), f.sa = 1 == a.O.readByte(), f.hc = a.O.readByte(), f.Ja = a.O.readByte(),
						f.sc = a.O.readByte(), f.Ik(), f.mg(), f.sa || !c || c.Ka || f.pa != c.pa || f.Mk(!0);
				this.XV()
			}
			this.Yo(d)
		} else c && c.Ka && this.Ce(), this.Ym(!0), this.Jk();
		this.uh()
	},
	XV: function() {
		var a, b, c = this.S().Ba();
		a = 0;
		for (b = this.U.length; a < b; a++) this.U[a].sa && (this.U[a].sc == Y && (c.Ka || this.U[a].pa == c.pa) && this.U[a].VD(Y), this.U[a].pa != this.vy() ? this.ne.ij(this.U[a], !c.Ka) : this.Me.ij(this.U[a], !1));
		this.Ge(this.Me, !0);
		this.Ge(this.ne, !1)
	},
	Qv: function(a, b) {
		this.pB && (a = (a + 16) % 32);
		this.U[a].Ja = b;
		this.U[a].sa ? this.bR(a) : this.U[a].uK()
	},
	rr: function(a, b) {
		this._super(a, b);
		this.S().Ba()
	},
	bq: function() {
		this._super();
		for (var a = 0; 32 > a; a++) this.U[a].Ja != BkChessType.Qf.id && (this.U[a].hc = Y, this.U[a].sc = Y, this.U[a].mg())
	},
	sw: function() {
		for (var a = 0; 32 > a; a++) this.U[a].Ja != BkChessType.Qf.id && (this.U[a].hc = Y, this.U[a].sc = Y);
		this._super();
		this.Me.reset();
		this.ne.reset()
	},
	dq: function(a) {
		var b = new BkCoUpPiece(a);
		b.Ja = this.U[a].Ja;
		b.ea = this.U[a].ea;
		b.rowIndex = this.U[a].rowIndex;
		b.$u = this.U[a].hc == Hn;
		return b
	},
	jy: function(a) {
		0 > a || (this.U[a].sa = !0,
			this.aR(a))
	},
	vy: function() {
		var a = this.S().Ba();
		return a.Ka ? this.jc ? 1 : 0 : a.pa
	},
	aR: function(a) {
		var b = this.S().Ba();
		logMessage("processTakenListMovePiece" + b.getName() + " chessIndex: " + a);
		if (b.Ka || this.U[a].pa == b.pa || this.U[a].hc != Y) this.U[a].pa != this.vy() ? (this.ne.ij(this.U[a], !1), this.Ge(this.ne, !1)) : (this.Me.ij(this.U[a], !1), this.Ge(this.Me, !0))
	},
	bR: function(a) {
		var b = this.S().Ba();
		logMessage("processTakenListRealTypeReturn" + b.getName() + " chessIndex: " + a + " chessType: " + this.U[a].Ja);
		b.Ka || this.U[a].pa ==
			b.pa || (this.U[a].VD(Hn), this.U[a].nT(Y), this.ne.ij(this.U[a], !0), this.Ge(this.ne, !1))
	},
	Ge: function(a, b) {
		var c = 0.6 * GAME_SCALE;
		isWebPlatform() || (c = 0.6 * GAME_SCALE);
		0.1 >= c && (c = 0.1);
		var d = a.pu(),
			e, f, g, h, k = 0,
			m = 1,
			r = 0.95;
		e = 0;
		for (f = a.Bc.length; e < f; e++) {
			if (isWebPlatform()) {
				e / 5 == m && (m++, k = 0);
				2 < m && (r = 0.68);
				g = X * c * 0.7 * k;
				h = Fn * c * r * m;
				var w = a.x - a.getContentSize().width / 2 + X * c * 0.5,
					C = a.y + a.getContentSize().height / 2 + Fn * c * 0.5;
				g = w + g;
				h = C - h;
				k++
			} else w = a.x - a.getWidth() / 2, C = a.y, b && (w = a.x + a.getWidth() / 2), h = C, g = w + (e + 1) * X * c * 1,
				b && (g = w - (e + 1) * X * c * 1);
			d[e].setScale(c);
			d[e].setPosition(g, h)
		}
		for (; 0 < a.Vh.length;) c = a.Vh.pop(), this.dC(c, w, C)
	},
	nw: function() {
		this._super()
	},
	BC: function() {
		this.nw();
		this._super()
	}
});
BkTakenListChessPiece = BkSprite.extend({
	Bc: null,
	Ve: null,
	wh: null,
	Vh: null,
	Mx: [3, 4, 5, 1, 2, 6],
	ctor: function() {
		var a = "box_quanan.png";
		isWebPlatform() || (a = "box_quan_an_trans.png");
		this._super("#" + a);
		this.reset()
	},
	reset: function() {
		this.Vh = [];
		this.Bc = [];
		this.Ve = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
		this.wh = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
	},
	ij: function(a, b) {
		var c = a.Ja;
		if (a.sc == Y || a.hc == Y) c = b ? c + 6 : 0;
		logMessage("Push to Chess list: " + c + " - " + a.hc + " dead Face Type: " + a.sc);
		this.Ve[c]++;
		1 == this.Ve[c] ? (this.Bc.push(a), this.wh[c] =
			this.Bc.length - 1) : (this.Vh.push(a), this.Bc[this.wh[c]].Cu())
	},
	pu: function() {
		var a = [];
		0 < this.Ve[0] && a.push(this.Bc[this.wh[0]]);
		for (var b = 1; 6 >= b; b++) {
			var c = this.Mx[b - 1];
			0 < this.Ve[c] && a.push(this.Bc[this.wh[c]]);
			0 < this.Ve[c + 6] && a.push(this.Bc[this.wh[c + 6]])
		}
		return a
	}
});
BkHistoryGameLayer = cc.Layer.extend({
	Ic: 14,
	yj: 10,
	Lm: 0.01,
	Sf: 0,
	al: 200,
	oc: 4,
	Xk: null,
	Px: null,
	mb: null,
	ya: null,
	data: null,
	Vk: -1,
	Ia: -1,
	ce: null,
	be: null,
	Jl: !1,
	AI: 0,
	XY: -1,
	Si: !1,
	Qj: [],
	Yu: !0,
	Rq: !0,
	Zu: !0,
	Vu: !0,
	Xu: !0,
	background: null,
	we: -1,
	Ff: -1,
	Df: -1,
	Ef: -1,
	YF: 0.8,
	ctor: function(a) {
		this._super();
		console.log("CheckTime - BkHistoryGameLayer start ctor: ", (new Date).getTime());
		BkGlobal.jk = !0;
		this.data = a;
		this.Sj = [];
		console.log("BkHistoryGameLayer - this.data: ", this.data);
		this.ya = a.ya;
		this.jc = !1;
		this.QL();
		this.bq();
		this.Jk();
		this.uJ();
		console.log("CheckTime - BkHistoryGameLayer before convert: ", (new Date).getTime());
		this.Na = this.WI();
		console.log("CheckTime - BkHistoryGameLayer middle convert: ", (new Date).getTime());
		this.Yl = this.VI();
		console.log("CheckTime - BkHistoryGameLayer after convert: ", (new Date).getTime());
		isWebPlatform() ? this.Lq() : this.mJ();
		console.log("CheckTime - BkHistoryGameLayer before create fen: ", (new Date).getTime());
		this.fJ();
		console.log("CheckTime - BkHistoryGameLayer after create fen: ", (new Date).getTime());
		this.dJ();
		this.fq();
		this.hq();
		this.ZJ();
		this.mK();
		this.UG();
		BkConnectionManager.Ow();
		this.uw();
		this.nB() && (console.log("this.rotateChessBoard();"), this.Lr());
		console.log("after this.rotateChessBoard();");
		0 == a.Na.length && this.LJ();
		console.log("ctor this.deathPieceIndexes: ", this.Sj);
		this.sC();
		console.log("ctor getCurrentBoard - dead currentPieces", this.U.filter(function(a) {
			return a.sa
		}));
		console.log("CheckTime - BkHistoryGameLayer end ctor: ", (new Date).getTime())
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		null != this.Na && this.Yl.length > this.Ic && (this.Lb.forceDoLayout(), this.Lb.getInnerContainer().setContentSize(cc.size(this.Lb.getInnerContainerSize().width, this.cp)), this.Lb.jumpToTop())
	},
	Ge: function(a, b) {
		var c = 0.38 * GAME_SCALE;
		isWebPlatform() || (c = 0.6 * GAME_SCALE);
		for (0.1 >= c && (c = 0.1); 0 < a.Vh.length;) {
			var d = a.Vh.pop();
			d.ts();
			0 >= d.cg && (this.GL(d), a.XR(d))
		}
		d = a.pu();
		console.log("updatePosForBoxQuanAn - chessList: ", d);
		var e, f, g, h = 0,
			k = 1,
			m = 0.85;
		for (e = 0; e < a.Bc.length; e++) {
			if (isWebPlatform()) {
				e / 6 == k && (k++, h = 0);
				2 < k && (m = 0.68);
				f = X * c * 0.74 * h;
				g = Fn * c * m * k;
				var r = a.x - UI.qa(a) / 2 + X * c * 0.5,
					w = a.y + UI.Ga(a) / 2 + Fn * c * 0.5;
				f = r + f;
				g = w - g;
				h++
			} else r = a.x - a.getWidth() / 2, w = a.y, b && (r = a.x + a.getWidth() / 2), g = w, f = r + (e + 1) * X * c * 1, b && (f = r - (e + 1) * X * c * 1);
			d[e].setPosition(f, g);
			d[e].ts()
		}
	},
	GL: function(a) {
		a.setPosition(-100, -100)
	},
	fj: function() {
		switchToSceneWithGameState(P, !0);
		var a = new BkPacket;
		a.Uy();
		BkConnectionManager.send(a)
	},
	kx: function(a, b) {
		null != this.ma && this.ma.zm(a, b)
	},
	Lq: function() {
		var a = this;
		this.qe = new BkButton("back.png", "back.png",
			"back.png", "back_press.png", ccui.Widget.PLIST_TEXTURE);
		isWebPlatform() || (this.$a = new BkButton("menu_butt.png", "menu_butt_press.png", "menu_butt.png", "menu_butt.png", ccui.Widget.PLIST_TEXTURE));
		var b = 5 * GAME_SCALE,
			c = 0.067 * cc.winSize.height;
		this.qe.Yb(GAME_SCALE);
		this.qe.x = b + this.qe.getContentSize().width * GAME_SCALE / 2;
		this.qe.y = c;
		isWebPlatform() && (this.qe.x = 10 + this.qe.getContentSize().width * GAME_SCALE / 2, this.qe.y = cc.winSize.height - WINDOW_MARGIN_TOP * GAME_SCALE - this.qe.getBoundingBox().height / 2 + 2);
		this.addChild(this.qe);
		this.qe.addClickEventListener(function() {
			a.fj()
		});
		this.ma = new BkHeartSprite(!0);
		this.ma.setScale(GAME_SCALE);
		isWebPlatform() && (this.ma.setScale(0.6), this.ma.x = this.qe.x + this.ma.getBoundingBox().width / 1.2, this.ma.y = this.qe.y - 6);
		isWebPlatform() && (b = cc.director.getWinSize(), cc.screen.fullScreen() ? this.Ra = new BkButton("btn_scale2.png", "btn_scale2.png", "btn_scale2.png", "btn_scale2_hover.png", ccui.Widget.PLIST_TEXTURE) : this.Ra = new BkButton("btn_scale.png", "btn_scale.png", "btn_scale.png", "btn_scale_hover.png",
				ccui.Widget.PLIST_TEXTURE), this.Ra.x = b.width - 30, this.Ra.y = b.height - 27, this.Ra.addClickEventListener(function() {
				cc.screen.fullScreen() ? (exitFullScreen(), a.Ra.loadTextures("btn_scale.png", "btn_scale.png", "btn_scale.png", "btn_scale_hover.png", ccui.Widget.PLIST_TEXTURE)) : makeFullScreen(function() {
					cc.screen.fullScreen() ? a.Ra.loadTextures("btn_scale2.png", "btn_scale2.png", "btn_scale2.png", "btn_scale2_hover.png", ccui.Widget.PLIST_TEXTURE) : a.Ra.loadTextures("btn_scale.png", "btn_scale.png", "btn_scale.png",
						"btn_scale_hover.png", ccui.Widget.PLIST_TEXTURE)
				})
			}), this.addChild(this.Ra), b = mm(), b = vl(b), this.Ud = new BkButton(b, b, b, b, ccui.Widget.PLIST_TEXTURE), this.Ud.y = this.Ra.y, this.Ud.addClickEventListener(function() {
				var b = !mm(),
					c = vl(b);
				lm(b);
				a.Ud.loadTextures(c, c, c, c, ccui.Widget.PLIST_TEXTURE)
			}), this.addChild(this.Ud), this.Ud.x = this.Ra.x - this.Ra.width - 10, this.gc = new BkButton("btn_camera.png", "btn_camera.png", "btn_camera.png", "btn_camera_hover.png", ccui.Widget.PLIST_TEXTURE), this.gc.x = this.Ud.x - this.Ud.width -
			10, this.gc.y = this.Ra.y, this.gc.addClickEventListener(function() {
				makeScreenShot()
			}), this.addChild(this.gc), this.Td = new BkButton("switch_butt.png", "switch_butt_press.png", "switch_butt.png", "switch_butt.png", ccui.Widget.PLIST_TEXTURE), this.Td.setScale(0.48 * GAME_SCALE), this.Td.x = this.gc.x - this.gc.width - 10, this.Td.y = this.gc.y, this.addChild(this.Td), a = this, this.Td.addClickEventListener(function() {
				a.Lr()
			}))
	},
	LJ: function() {
		this.Lt();
		this.Mt();
		this.Nt();
		this.cz();
		this.dz()
	},
	nB: function() {
		var a = this.data.XC.userName ==
			BkGlobal.P.userName;
		console.log("isPlayer2: ", a);
		return a
	},
	hv: function() {
		var a = this.data.WC.userName == BkGlobal.P.userName;
		console.log("isPlayer1: ", a);
		return a
	},
	isPlaying: function() {
		return this.hv() || this.nB()
	},
	EB: function() {
		return !this.isPlaying()
	},
	uw: function() {
		this.Ff = this.we = this.Df = this.Ef = -1
	},
	mK: function() {
		var a = new BkSprite("#history_icon_vs.png");
		a.setScale(1.2 * GAME_SCALE_MIN);
		a.x = this.Ci.x + 0.25 * UI.qa(a);
		a.y = this.sf.y + 0.55 * UI.Ga(a);
		var b = new BkSprite("#history_icon_player1.png");
		b.setScale(1.2 *
			GAME_SCALE_MIN);
		b.x = this.ob.x - 2 * UI.qa(b);
		b.y = a.y;
		isWebPlatform() || this.addChild(b);
		b = new BkSprite("#history_icon_player2.png");
		b.setScale(1.2 * GAME_SCALE_MIN);
		b.x = this.ob.x + 2 * UI.qa(b);
		b.y = a.y;
		isWebPlatform() || this.addChild(b)
	},
	WI: function() {
		console.log("CheckTime - convertServerStringFenToObject before convert: ", (new Date).getTime());
		console.log("convertServerStringFenToObject - this.chessPieces: ", this.U);
		var a = [];
		if (0 == this.data.Na.length) return a;
		for (var b = this.data.Na.split("#"), c = 0; c < b.length; c++) {
			console.log("CheckTime - convertServerStringFenToObject i: " +
				c + " at ", (new Date).getTime());
			var d = JSON.parse(b[c]);
			d.L0 = function() {
				return 0 == d.id % 2
			};
			d.Sh = Gl(this.U);
			d.yP = JSON.parse(JSON.stringify(this.U[d.Fa]));
			d.YC = In(d.Fa, d.Sh);
			d.dm = d.YC % BkChessSize.Em;
			d.em = Math.floor(d.YC / (BkChessSize.sp - 1));
			console.log("CheckTime - convertServerStringFenToObject before isFirstMoveOfPiece i: " + c + " at ", (new Date).getTime());
			var e = this.YM(d, a);
			console.log("CheckTime - convertServerStringFenToObject after isFirstMoveOfPiece i: " + c + " at ", (new Date).getTime());
			this.Ih() && !e &&
				(d.TC = Jn(d.he), d.SC = Kn(d.he), d.TN = this.nu(d), d.Ah = this.lu(d));
			d.Kg = this.CV(d, c);
			d.Kt = In(d.Fa, d.Kg);
			d.ql = d.Kt % BkChessSize.Em;
			d.rl = Math.floor(d.Kt / (BkChessSize.sp - 1));
			a.push(d)
		}
		this.XG(a);
		console.log("convertServerStringFenToObject - movements: ", a.map(function(a) {
			return a.Kg
		}));
		return a
	},
	YM: function(a, b) {
		for (var c = 0; c < b.length; c++)
			if (a.Fa == b[c].Fa) return !1;
		return !0
	},
	XG: function(a) {
		for (var b = 0; b < a.length; b++) 0 == b ? (a[b].xm = a[b].wm, a[b].bp = a[b].wm, a[b].ms = 0) : 1 == b ? (a[b].xm = a[b].wm - a[b - 1].wm, a[b].bp = a[b -
			1].bp, a[b].ms = a[b].xm) : (a[b].xm = a[b].wm - a[b - 1].wm, 0 == b % 2 ? (a[b].bp = a[b].xm, a[b].ms = a[b - 1].ms) : (a[b].bp = a[b - 1].bp, a[b].ms = a[b].xm)), a[b].dp = this.yL(a, b), 0 == b ? (a[b].ym = a[b].dp, a[b].ep = 0) : 1 == b ? (a[b].ym = a[b - 1].ym, a[b].ep = a[b].dp) : 0 == b % 2 ? (a[b].ym = a[b].dp, a[b].ep = a[b - 1].ep) : (a[b].ym = a[b - 1].ym, a[b].ep = a[b].dp), a[b].z6 = Sd - a[b].dp, a[b].VU = Sd - a[b].ym, a[b].WU = Sd - a[b].ep
	},
	uJ: function() {
		var a = "#nuoc_vua_di_small.png",
			b = GAME_SCALE_MIN;
		isWebPlatform() && (a = "#nuocvuadi.png", b = 0.4);
		this.ce = getSpriteFromImage(a);
		this.ce.setPosition(-1E3,
			-1E3);
		this.ce.scale = b;
		this.addChild(this.ce);
		this.be = getSpriteFromImage("#nuocvuadi.png");
		this.be.setPosition(-1E3, -1E3);
		this.be.scale = isWebPlatform() ? 0.95 : this.Kd;
		this.addChild(this.be)
	},
	rA: function() {
		this.ce.setPosition(-1E3, -1E3);
		this.be.setPosition(-1E3, -1E3)
	},
	yc: function() {
		null != this.vb && (this.vb.Er(), this.vb = null);
		null != this.Nc && this.Nc.setVisible(!1)
	},
	xX: function() {},
	fu: function(a) {
		return zb(a.Hb, a.$c)
	},
	hq: function() {
		var a = this.data.WC,
			b = this.data.vg,
			a = new BkChessPlayerInHistory(a, a.status,
				this, !0, b);
		a.setScale(0.7);
		this.XS(a);
		this.addChild(a);
		this.sf = a;
		a = this.data.XC;
		console.log("drawAvatar - player2: ", a);
		console.log("drawAvatar - winnerPosition: ", b);
		switch (b) {
			case hl:
				b = hl;
				break;
			case il:
				b = jl;
				break;
			case jl:
				b = il;
				break;
			default:
				b = hl
		}
		b = new BkChessPlayerInHistory(a, a.status, this, !1, b);
		b.setScale(0.7);
		this.YS(b);
		this.addChild(b);
		this.Vf = b
	},
	YS: function(a) {
		a.x = 170;
		a.y = 481
	},
	XS: function(a) {
		a.x = 170;
		a.y = 212
	},
	MZ: function() {
		return {
			x: 170,
			y: 481
		}
	},
	LZ: function() {
		return {
			x: 170,
			y: 212
		}
	},
	ZJ: function() {
		this.gd =
			new BkTakenListChessPieceInHistory(!0);
		this.gd.setScaleX(0.75);
		this.gd.setScaleY(0.5);
		this.gd.setPosition({
			x: 85,
			y: 60
		});
		this.addChild(this.gd);
		this.jd = new BkTakenListChessPieceInHistory(!1);
		this.jd.setScaleX(0.75);
		this.jd.setScaleY(0.5);
		this.jd.setPosition({
			x: 85,
			y: 330
		});
		this.addChild(this.jd);
		this.WG()
	},
	WG: function() {
		this.ME = [];
		this.KE = [];
		this.NE = [];
		this.LE = [];
		for (var a = 0; a < CHESS_TYPES; a++) {
			var b = a,
				c = !1,
				d = 0,
				e = !1,
				f = -1,
				b = new BkTakenChessInHistory(b, c, d, e, f);
			b.x = -1E3;
			b.y = -1E3;
			this.addChild(b);
			this.ME.push(b)
		}
		for (a =
			0; a < CHESS_TYPES; a++) b = a, c = !1, d = 0, e = !0, f = -1, b = new BkTakenChessInHistory(b, c, d, e, f), b.x = -1E3, b.y = -1E3, this.addChild(b), this.KE.push(b);
		for (a = 0; a < CHESS_TYPES; a++) b = a, c = !0, d = 0, e = !1, f = -1, b = new BkTakenChessInHistory(b, c, d, e, f), b.x = -1E3, b.y = -1E3, this.addChild(b), this.NE.push(b);
		for (a = 0; a < CHESS_TYPES; a++) b = a, c = !0, d = 0, e = !0, f = -1, b = new BkTakenChessInHistory(b, c, d, e, f), b.x = -1E3, b.y = -1E3, this.addChild(b), this.LE.push(b)
	},
	SZ: function() {
		return {
			x: 85,
			y: 330
		}
	},
	RZ: function() {
		return {
			x: 85,
			y: 60
		}
	},
	PU: function() {
		this.jc ?
			(this.Vf.y = 212, this.jd.y = 60, this.sf.y = 481, this.gd.y = 330) : (this.sf.y = 212, this.gd.y = 60, this.Vf.y = 481, this.jd.y = 330);
		this.Ge(this.gd, !0);
		this.Ge(this.jd, !0)
	},
	s_: function() {
		var a = this.ob;
		return UI.fb(a) + 0.28 * UI.qa(a)
	},
	O_: function() {
		var a = this.ob;
		return UI.fb(a) + 0.58 * UI.qa(a)
	},
	iH: function(a) {
		void 0 != a && (a = new BkPlayerInfo(a.userName), a.Ab(this), a.Oa())
	},
	UE: function(a) {
		if (a == this.Vk) this.LV(this.Na[0]), this.Ia = this.Vk, this.rA();
		else {
			this.Ia = a;
			this.Qj = this.Na[a].Kg;
			for (var b = 0; b <= a; b++) this.ZE(this.Na[b])
		}
	},
	LV: function(a) {
		this.eF(a.Sh, a, !0)
	},
	ZE: function(a) {
		this.eF(a.Kg, a, !1)
	},
	eF: function(a, b) {
		for (var c = 0; c < a.length; c++) {
			var d = this.U[c],
				e = this.Hg[c];
			d.sa = a[c].sa;
			d.mx(a[c].Ck);
			e.sa = d.sa;
			var f = d.ea,
				g = d.rowIndex;
			this.jc && (f = 8 - f, g = 9 - g);
			e.pT(f, g);
			b.Fa == d.Fa && this.Gw(b)
		}
	},
	Lr: function() {
		this.jc = !this.jc;
		var a, b, c = this.Hg.length;
		for (a = 0; a < c; a++) console.log("rotateChessBoard - i: ", a), console.log("rotateChessBoard - len: ", c), b = this.Hg[a], b.stopAllActions(), b.ea = 8 - b.ea, b.rowIndex = 9 - b.rowIndex, b.aS(this.Sb(b.ea),
			this.Tb(b.rowIndex));
		console.log("rotateChessBoard - after for");
		if (-1 != this.we) {
			a = 8 - this.we;
			b = 9 - this.Ff;
			var c = 8 - this.Df,
				d = 9 - this.Ef;
			this.we = a;
			this.Ff = b;
			this.Df = c;
			this.Ef = d;
			this.aN() || (this.ce.setPosition(this.Sb(a), this.Tb(b)), this.be.setPosition(this.Sb(c), this.Tb(d)))
		}
		this.PU()
	},
	aN: function() {
		return -1 == this.Ia
	},
	Gw: function(a) {
		this.we = a.dm;
		this.Ff = a.em;
		this.Df = a.ql;
		this.Ef = a.rl;
		this.jc && (this.Ff = 9 - this.Ff, this.Ef = 9 - this.Ef, this.we = 8 - this.we, this.Df = 8 - this.Df);
		this.ce.setPosition(this.Sb(this.we),
			this.Tb(this.Ff));
		this.be.setPosition(this.Sb(this.Df), this.Tb(this.Ef))
	},
	fJ: function() {
		var a = this.ob,
			b = new BkSprite("#history_board_bg_web.png");
		b.x = UI.fb(a) + 0.24 * UI.Da(a);
		b.y = a.y - 0.03 * UI.qa(a);
		this.addChild(b);
		var c = new BkSprite("#history_title.png");
		c.x = b.x - 0.1 * UI.qa(c);
		c.y = UI.xf(b) - 0.8 * UI.Ga(c);
		this.addChild(c);
		a = new BkButton("history_btn_info.png", "history_btn_info.png", "history_btn_info.png", "history_btn_info.png", ccui.Widget.PLIST_TEXTURE);
		a.x = UI.fb(c) + UI.qa(a);
		a.y = c.y;
		a.addClickEventListener(function() {
			console.log("btnInfo click");
			var a = cc.game.config.app.fenUrl;
			void 0 != a && "" != a && window.open(a, "_blank")
		});
		this.addChild(a);
		c = new BkSprite("#history_turn_red_chess.png");
		c.x = UI.eb(b) + 1.2 * UI.qa(c);
		c.y = UI.xf(b) - 1.3 * UI.Ga(c);
		this.addChild(c);
		var d = new BkSprite("#history_turn_black_chess.png");
		d.x = UI.fb(b) - 0.9 * UI.qa(d);
		d.y = c.y;
		this.addChild(d);
		console.log("createFen1 - btnInfo: ", a);
		a = new BkSprite("#history_fen_bg_web.png");
		a.setOpacity(0);
		a.setScaleX(0.78);
		a.setScaleY(0.78);
		a.x = UI.eb(b) + UI.Da(a);
		a.y = b.y - 0.05 * UI.Ga(b);
		this.addChild(a);
		this.Ci = a;
		this.Xk = new BkSprite;
		this.Xk.setContentSize(UI.qa(a) - 6, UI.Ga(a) - 6);
		this.addChild(this.Xk);
		a = 30;
		b = this.UI(this.Na);
		console.log("strFen: ", b);
		0 < this.Na.length && (this.Lb = this.OG(this.Na, this.Xk, this.Ci));
		console.log("createFen1 - this.listView1: ", this.Lb);
		b = new BkSprite("#history_fen_bg.png");
		b.x = this.ob.x;
		b.y = UI.Bh(this.ob) - UI.Ga(b);
		b.setScaleX(this.Kd);
		b.setScaleY(1.3 * GAME_SCALE);
		this.addChild(b);
		a = 30 * GAME_SCALE;
		a = new BkLabel("abc", "", a);
		a.x = b.x;
		a.y = b.y;
		this.ro = a;
		this.Am()
	},
	GY: function() {
		var a =
			new BkSprite("#history_fen_bg_web.png"),
			b = this.ob;
		a.setScale(0.45);
		a.x = UI.fb(b) + 0.65 * UI.Da(a);
		a.y = UI.Bh(b) + 0.85 * UI.Ga(a);
		this.addChild(a);
		this.Px = new BkSprite;
		this.Px.setContentSize(UI.qa(a), UI.Ga(a));
		this.Na.filter(function(a) {
			return 0 != a.id % 2
		})
	},
	wz: function(a) {
		a && (this.uT(a), this.Oo(a.id), 0 <= this.Ia ? this.Zt() : this.fq(), this.Ia >= this.Na.length - 1 ? this.Ot() : this.$t(), this.CE(), this.Am(), this.pm(a), this.Ih() && this.nm(a, !0), this.ss(), this.rs(), this.us())
	},
	Zt: function() {
		this.rz();
		this.rK()
	},
	fq: function() {
		this.Lt();
		this.cz()
	},
	Ot: function() {
		this.Mt();
		this.dz();
		this.Nt()
	},
	$t: function() {
		this.sz();
		this.sK();
		this.mq()
	},
	uT: function(a) {
		this.Ia = a.id;
		this.Jk();
		this.HV(a)
	},
	HV: function(a) {
		a = a.id;
		for (var b = 0; b <= a; b++) this.ZE(this.Na[b])
	},
	OG: function(a, b, c) {
		a = new Cn;
		a.name = "List Movements";
		a.setDirection(ccui.ScrollView.DIR_VERTICAL);
		a.setScrollBarEnabled(!1);
		a.setTouchEnabled(!0);
		a.setBounceEnabled(!0);
		a.setContentSize(cc.size(b.getContentSize().width, b.getContentSize().height));
		a.setPosition(c.x, c.y);
		a.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL);
		this.ey(a);
		a.setItemsMargin(this.oc);
		this.Hc = this.Pd * this.Ic + this.Ic * this.oc;
		a.getItems();
		b.addChild(a);
		this.scheduleUpdate();
		return a
	},
	ey: function(a) {
		console.log("before convert");
		var b = this.Yl;
		console.log("movementCouples: ", b);
		var c = this.Sy(b[0], this);
		a.setItemModel(c);
		this.Pd = c.getContentSize().height;
		this.cp = this.Pd * b.length + b.length * this.oc;
		this.ke = (this.Ic - this.yj) / 2 * (this.Pd + this.oc);
		console.log("addFensList - this._bufferZone: ", this.ke);
		for (c = a.Fk = 0; c < b.length; ++c)
			if (c < this.Ic) {
				var d = this.Sy(b[c],
					this);
				d.setTag(c);
				a.pushBackCustomItem(d);
				a.Fk += d.getContentSize().height + this.oc
			} a.Fk -= this.oc;
		b = this.Yl;
		b.length > this.yj && a.forceDoLayout();
		a.getInnerContainer().setContentSize(cc.size(a.getInnerContainerSize().width, this.cp));
		a.jumpToTop()
	},
	VI: function() {
		for (var a = [], b = this.Na, c = 0; c < b.length; c += 2) a.push({
			id: c / 2,
			red: b[c],
			py: b[c + 1] || null
		});
		return a
	},
	Oo: function(a) {
		var b = this.Lb.getItems();
		console.log("setCurrentFenBg - fensListView.length: " + b.length);
		for (var c = 0; c < b.length; c++) {
			var d = b[c].pq,
				e =
				d.AK();
			a == d.Uh.id || a == e ? d.Pr(!0, a) : d.Pr(!1, a)
		}
	},
	v4: function() {},
	Sy: function(a, b) {
		console.log("createFenItem - movementCouple: ", a);
		var c = new BkFenItem(a, b, this.yj),
			d = new ccui.Layout;
		d.setContentSize(c.getContentSize());
		c.setPosition(0.5 * c.getContentSize().width, 0.5 * c.getContentSize().height);
		d.addChild(c);
		d.movement = a;
		d.pq = c;
		d.id = a.id;
		return d
	},
	sj: function(a, b) {
		var c = this.Lb.getItems()[b];
		c.setTag(a);
		c.id = a;
		var c = c.getChildren()[0],
			d = this.Yl[a];
		d && c.iV(d);
		this.nV()
	},
	nV: function() {
		for (var a = this.Lb.getItems(),
				b = 0; b < a.length; b++);
	},
	update: function(a) {
		var b = this.Yl;
		if (!(b.length <= this.Ic || (this.Uf += a, this.Uf < this.Lm))) {
			this.Uf = 0;
			a = this.Pd * b.length + (b.length - 1) * this.oc;
			for (var c = this.Lb.getContentSize().height, d = this.Lb.getItems(), e = 0; e < d.length; e++) {
				var f = d[e];
				if (0 == f.getPosition().y && f.Ta != b.length) return
			}
			for (var g = this.Lb.getInnerContainer().getPosition().y < this.Sf, e = 0; e < this.Ic && e < b.length; ++e) {
				var f = d[e],
					h = this.Fi(this.Lb, f);
				g ? h < -this.ke && f.getPosition().y + this.Hc < a && (h = f.getTag() - d.length, f.setPositionY(f.getPosition().y +
					this.Hc), this.sj(h, e, f)) : h > this.ke + c && 0 <= f.getPositionY() - this.Hc && (f.setPositionY(f.getPositionY() - this.Hc), h = f.getTag() + d.length, this.sj(h, e, f))
			}
			this.Sf - this.Lb.getInnerContainer().getPosition().y > this.Hc ? this.Sf -= this.Hc : this.Sf = this.Lb.getInnerContainer().getPosition().y
		}
	},
	K_: function() {
		return this.Lb.getItems().map(function(a) {
			return a.getPositionX()
		})
	},
	Dq: function() {
		return this.Lb.getItems().sort(function(a, b) {
			return a.x < b.x ? -1 : 1
		}).map(function(a) {
			return a.getChildren()[0]
		}).map(function(a) {
			return a.movement.id
		})
	},
	o_: function(a) {
		a = a.getParent().convertToWorldSpaceAR(a.getPosition());
		return this.Lb.convertToNodeSpaceAR(a).x
	},
	Fi: function(a, b) {
		var c = b.getParent().convertToWorldSpaceAR(b.getPosition());
		return a.convertToNodeSpaceAR(c).y
	},
	yL: function(a, b) {
		for (var c = 0, d = 0; d <= b; d++) 0 == (b - d) % 2 && (c += a[d].xm);
		return c
	},
	CV: function(a, b) {
		var c = this.fL(a.Fa);
		null != c && (c.mx(a.uz), c.he = a.he, c.Ja = a.he, c.hc = Hn, c.sc = Hn);
		for (var d = this.gL(a.uz), e = 0; e < d.length; e++) {
			var f = d[e];
			f.Fa != c.Fa && (f.sa = !0, f.Vg = a.id)
		}
		c = Gl(this.U);
		console.log("faceUps at i: " +
			b + " - ", c.filter(function(a) {
				return a.sc == Hn
			}));
		return c
	},
	gL: function(a) {
		for (var b = [], c = 0; c < this.U.length; c++) {
			var d = this.U[c];
			d.Ck == a && b.push(d)
		}
		return b
	},
	fL: function(a) {
		for (var b = 0; b < this.U.length; b++)
			if (a == b) return this.U[b];
		return null
	},
	UI: function(a) {
		for (var b = "", c = 0; c < a.length; c++) {
			var d = a[c],
				e = this.nL(d);
			d.description = e;
			b += e;
			d.TN = this.nu(d);
			e = this.lu(d);
			d.Ah = e;
			b = 1 == c % 2 ? b + "   " : b + " "
		}
		console.log("convertMovementsToClientFen - movements: ", a);
		return b
	},
	nL: function(a) {
		var b;
		b = "" + a.TC;
		b += Ln(a.Fa,
			a.Sh);
		b += Mn(a.Fa, a.dm);
		b += Nn(a.Fa, a.em, a.rl);
		b = a.dm == a.ql ? b + Math.abs(a.em - a.rl) : b + Mn(a.Fa, a.ql);
		this.Ih() && a.yP.hc == Y && (b += " \x3d\x3e " + Jn(a.he));
		return b
	},
	lu: function(a) {
		var b = "",
			b = 0 == a.id % 2 ? b + "\u0110\u1ecf \u0111i: " : b + "\u0110en \u0111i: ";
		return b += this.nu(a)
	},
	nu: function(a) {
		var b;
		b = "" + (a.SC + " ");
		b += On(a.Fa, a.Sh);
		b += Mn(a.Fa, a.dm) + " ";
		var c;
		a: switch (Nn(a.Fa, a.em, a.rl)) {
			case BkChessMoveType.wp:
				c = BkChessMoveTypeDescription.wp;
				break a;
			case BkChessMoveType.Fm:
				c = BkChessMoveTypeDescription.Fm;
				break a;
			case BkChessMoveType.Dm:
				c = BkChessMoveTypeDescription.Dm;
				break a;
			default:
				c = ""
		}
		b += c + " ";
		return b = a.dm == a.ql ? b + (Math.abs(a.em - a.rl) + " ") : b + (Mn(a.Fa, a.ql) + " ")
	},
	Sb: function(a) {
		return 0 > a ? -200 : this.background.x + (a - 4) * (isWebPlatform() ? WEB_BOARD_CELL_WIDTH : BOARD_CELL_WIDTH) * this.background.scaleX
	},
	Tb: function(a) {
		var b = isWebPlatform() ? WEB_BOARD_HEIGHT_RIVER : BOARD_HEIGHT_RIVER,
			c = isWebPlatform() ? WEB_BOARD_CELL_HEIGHT : BOARD_CELL_HEIGHT,
			d = isWebPlatform() ? 2 : 0;
		return 0 > a ? -200 : 4 < a ? this.background.y + b * this.background.scaleY *
			0.5 + (a - 5) * c * this.background.scaleY - d : this.background.y - b * this.background.scaleY * 0.5 + (a - 4) * c * this.background.scaleY
	},
	qs: function() {
		if (0 != this.Na.length) {
			var a;
			a = this.Ia == this.Vk ? this.Na[0].Sh : this.Na[this.Ia].Kg;
			console.log("updateDeadAndLivePiecesData - dead currentPieces", a.filter(function(a) {
				return a.sa
			}));
			for (var b = 0; b < a.length; b++) this.U[b].sa = a[b].sa, this.U[b].Ck = a[b].Ck, this.U[b].hc = a[b].hc, this.U[b].ea = a[b].ea, this.U[b].rowIndex = a[b].rowIndex
		}
	},
	sC: function() {
		console.log("onClickMoveFirst");
		this.qs();
		if (this.Yu) {
			this.Si = !1;
			this.Ia = this.Vk;
			0 < this.Na.length && (this.Qj = this.Na[0].Sh, this.Ih() && this.nm(this.Na[0], !1));
			this.us();
			this.ss();
			this.CE();
			this.pm(null);
			this.UE(this.Vk);
			this.Am();
			this.$t();
			this.fq();
			this.Gy();
			var a = this,
				b = cc.delayTime(0),
				a = this,
				c = cc.callFunc(function() {
					console.log("onClickMoveLast - setCurrentFenBg - self.currentMovementId: ", a.Ia);
					a.Oo(a.Ia)
				}),
				b = cc.sequence(b, c);
			this.runAction(b);
			this.Lb.jumpToPercentVertical(0)
		}
	},
	d_: function() {
		return this.Lb.ju().pq.id
	},
	M3: function() {
		this.Lb.removeAllChildrenWithCleanup(!0)
	},
	BX: function() {
		this.ey(this.Lb)
	},
	CE: function() {
		this.sequence && (this.stopAction(this.sequence), this.sequence = null);
		this.sf.yc();
		this.Vf.yc()
	},
	AO: function() {
		if (this.Zu && (this.Si = !1, this.Ia = this.Na.length - 1, console.log("onClickMoveLast - this.currentMovementId: ", this.Ia), this.qs(), this.UE(this.Ia), this.rs(), 0 < this.Na.length)) {
			var a = this.Na[this.Na.length - 1];
			this.Qj = a.Kg;
			this.ss();
			this.rs();
			this.us();
			this.sequence && (this.stopAction(this.sequence), this.sequence = null);
			this.sf.yc();
			this.Vf.yc();
			this.pm(a);
			this.Lb.jumpToPercentVertical(100);
			this.Am();
			this.Zt();
			this.Ot();
			this.Ih() && this.nm(a, !0);
			var b = this,
				a = cc.delayTime(0.3),
				b = this,
				c = cc.callFunc(function() {
					console.log("onClickMoveLast - setCurrentFenBg - self.currentMovementId: ", b.Ia);
					b.Oo(b.Ia)
				}),
				a = cc.sequence(a, c);
			this.runAction(a)
		}
	},
	QT: function() {
		var a = this.iu(),
			b = this.ob;
		showToastMessage(a, b.x, b.y, null, 0.35 * cc.winSize.width)
	},
	UG: function() {
		var a = new BkSprite("#history_time_bg.png");
		a.x = UI.fb(this.qe) + 10 + UI.Da(a);
		a.y = this.qe.y;
		this.addChild(a);
		var b = this.$j(),
			b = new BkLabel(b, "Arial", 14);
		b.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		b.x = a.x;
		b.y = a.y;
		this.addChild(b)
	},
	dJ: function() {
		var a = this,
			b = 1.2 * GAME_SCALE_MIN;
		isWebPlatform() && (b = 1);
		this.Oe = new BkButton("history_btn_move_first.png", "history_btn_move_first.png", "history_btn_move_first.png", "history_btn_move_first_hover.png", ccui.Widget.PLIST_TEXTURE);
		this.Oe.setScale(b);
		this.Oe.x = UI.eb(this.Ci) + UI.Da(this.Oe);
		this.Oe.y = 0.067 * cc.winSize.height;
		this.Oe.addClickEventListener(function() {
			a.sC()
		});
		this.addChild(this.Oe);
		this.$a = new BkButton("history_btn_back.png", "history_btn_back.png", "history_btn_back.png", "history_btn_back_hover.png", ccui.Widget.PLIST_TEXTURE);
		this.$a.setScale(b);
		this.$a.x = UI.fb(this.Oe) + UI.Da(this.$a);
		this.$a.y = this.Oe.y;
		this.$a.addClickEventListener(function() {
			a.lO()
		});
		this.addChild(this.$a);
		this.Gg = new BkButton("history_btn_play.png", "history_btn_play.png", "history_btn_play.png", "history_btn_play_hover.png", ccui.Widget.PLIST_TEXTURE);
		this.Gg.setScale(b);
		this.Gg.x = UI.fb(this.$a) +
			UI.Da(this.Gg);
		this.Gg.y = this.Oe.y;
		this.Gg.addClickEventListener(function() {
			a.BO()
		});
		this.addChild(this.Gg);
		this.rh = new BkButton("history_btn_forward.png", "history_btn_forward_press.png", "history_btn_forward.png", "history_btn_forward_hover.png", ccui.Widget.PLIST_TEXTURE);
		this.rh.setScale(b);
		this.rh.x = UI.fb(this.Gg) + UI.Da(this.rh);
		this.rh.y = this.Oe.y;
		this.rh.addClickEventListener(function() {
			a.uO()
		});
		this.addChild(this.rh);
		this.qi = new BkButton("history_btn_move_last.png", "history_btn_move_last.png",
			"history_btn_move_last.png", "history_btn_move_last_hover.png", ccui.Widget.PLIST_TEXTURE);
		this.qi.setScale(b);
		this.qi.x = UI.fb(this.rh) + UI.Da(this.qi);
		this.qi.y = this.Oe.y;
		this.qi.addClickEventListener(function() {
			a.AO()
		});
		this.addChild(this.qi)
	},
	cB: function() {
		return this.Ia == this.Na.length - 1
	},
	BO: function() {
		this.Rq && (this.Si ? (this.Si = !1, this.mq(), this.sequence && (this.stopAction(this.sequence), this.sequence = null, this.sf.yc(), this.Vf.yc())) : (this.Si = !0, this.zH(), this.VC()))
	},
	VC: function() {
		if (!this.cB()) {
			var a =
				cc.callFunc(this.eC, this);
			console.log("timeToShow: ", 1);
			this.sequence = cc.sequence(cc.delayTime(1), a);
			this.runAction(this.sequence)
		}
	},
	rz: function() {
		this.Vu = !0;
		this.$a.loadTextures("history_btn_back.png", "history_btn_back_press.png", "history_btn_back.png", "history_btn_back_hover.png", ccui.Widget.PLIST_TEXTURE)
	},
	Lt: function() {
		this.Vu = !1;
		this.$a.loadTextures("history_btn_back_off.png", "history_btn_back_off.png", "history_btn_back_off.png", "history_btn_back_off.png", ccui.Widget.PLIST_TEXTURE)
	},
	sz: function() {
		this.Xu = !0;
		this.rh.loadTextures("history_btn_forward.png", "history_btn_forward_press.png", "history_btn_forward.png", "history_btn_forward_hover.png", ccui.Widget.PLIST_TEXTURE)
	},
	Mt: function() {
		this.Xu = !1;
		this.rh.loadTextures("history_btn_forward_off.png", "history_btn_forward_off.png", "history_btn_forward_off.png", "history_btn_forward_off.png", ccui.Widget.PLIST_TEXTURE)
	},
	rK: function() {
		this.Yu = !0;
		this.Oe.loadTextures("history_btn_move_first.png", "history_btn_move_first.png", "history_btn_move_first.png", "history_btn_move_first_hover.png",
			ccui.Widget.PLIST_TEXTURE)
	},
	cz: function() {
		this.Yu = !1;
		this.Oe.loadTextures("history_btn_move_first_off.png", "history_btn_move_first_off.png", "history_btn_move_first_off.png", "history_btn_move_first_off.png", ccui.Widget.PLIST_TEXTURE)
	},
	sK: function() {
		this.Zu = !0;
		this.qi.loadTextures("history_btn_move_last.png", "history_btn_move_last.png", "history_btn_move_last.png", "history_btn_move_last_hover.png", ccui.Widget.PLIST_TEXTURE)
	},
	dz: function() {
		this.Zu = !1;
		this.qi.loadTextures("history_btn_move_last_off.png",
			"history_btn_move_last_off.png", "history_btn_move_last_off.png", "history_btn_move_last_off.png", ccui.Widget.PLIST_TEXTURE)
	},
	zH: function() {
		this.Rq = !0;
		this.Gg.loadTextures("history_btn_pause.png", "history_btn_pause.png", "history_btn_pause.png", "history_btn_pause_hover.png", ccui.Widget.PLIST_TEXTURE)
	},
	mq: function() {
		this.Rq = !0;
		this.Gg.loadTextures("history_btn_play.png", "history_btn_play.png", "history_btn_play.png", "history_btn_play_hover.png", ccui.Widget.PLIST_TEXTURE)
	},
	Nt: function() {
		this.Rq = !1;
		this.Gg.loadTextures("history_btn_play_off.png",
			"history_btn_play_off.png", "history_btn_play_off.png", "history_btn_play_off.png", ccui.Widget.PLIST_TEXTURE)
	},
	eC: function() {
		console.log("moveToNextFen - this.currentMovementId: " + this.Ia);
		console.log("moveToNextFen - this.isMoving: " + this.Jl);
		var a = this.Lb.getItems();
		console.log("moveToNextFen - items in worldspaceY: ", a.map(function(a) {
			return a.convertToWorldSpaceAR().y
		}));
		console.log("moveToNextFen - items getAnchor: ", a.map(function(a) {
			return a.getAnchorPoint()
		}));
		a = this.Ci;
		console.log("moveToNextFen - fenBg in worldspaceY: ",
			a.convertToWorldSpaceAR().y);
		console.log("moveToNextFen - fenBg: ", a);
		console.log("moveToNextFen - UI.getTopPositionOfNodeInWorldView(fenBg): ", UI.su(a));
		console.log("moveToNextFen - UI.getBottomPositionOfNodeInWorldView(fenBg): ", UI.gu(a));
		this.Zt();
		if (this.Ia < this.Na.length - 1) {
			this.Ia++;
			var b = this.Na[this.Ia];
			this.U[b.Fa].mx(b.Kt);
			var a = this.Hg[b.Fa],
				c = b.rl,
				d = b.ql;
			this.jc && (c = 9 - c, d = 8 - d);
			a.ea = d;
			a.rowIndex = c;
			d = this.Sb(d);
			c = this.Tb(c);
			this.Qj = b.Kg;
			this.Jl = !0;
			b = cc.callFunc(this.uH, this);
			d = cc.moveTo(0.2,
				d, c);
			b = cc.sequence(d, b);
			a.runAction(b);
			this.Pq() ? (playChieuTuongSound(), this.Vd.setOpacity(255), this.Vd.setVisible(!0), this.Vd.runAction(cc.fadeOut(TIME_SHOW_SPRITE_CHESS_INGAME))) : this.xN() ? playCoAnQuanSound() : playCoDiChuyenSound();
			this.Ia < this.Na.length - 1 && this.zS(this.Lb, this.Ci);
			this.Oo(this.Ia);
			this.Ia == this.Na.length - 1 && this.Ot()
		}
		this.Am();
		console.log("this.isPlayingVideo: " + this.Si);
		this.Si && this.VC();
		this.FS()
	},
	FS: function() {
		var a = new BkPacket;
		a.$I();
		BkConnectionManager.send(a)
	},
	xN: function() {
		if (-1 <
			this.Ia) {
			var a = this.Na[this.Ia];
			return this.Hz(a.Sh) != this.Hz(a.Kg)
		}
		return !1
	},
	Hz: function(a) {
		for (var b = 0, c = 0; c < a.length; c++) a[c].sa && b++;
		return b
	},
	Pq: function() {
		var a = this.Na[this.Ia].id % 2,
			b = this.IK();
		console.log("isChieuTuong - board: ", b);
		var c = this.U[this.tu(1 - a)];
		if (c)
			for (var c = this.fg(c.ea, c.rowIndex), d = 0; 16 > d; d++) {
				var e = this.U[16 * a + d];
				if (!e.sa && e.tt(c, b)) return console.log("isChieuTuong - piece: ", e), !0
			}
		return !1
	},
	IK: function() {
		for (var a = Array(BkChessSize.Em), b = 0; b < BkChessSize.Em; b++) {
			a[b] = Array(BkChessSize.sp);
			for (var c = 0; c < BkChessSize.sp; c++) a[b][c] = -1
		}
		c = this.U;
		console.log("getCurrentBoard - dead currentPieces", c.filter(function(a) {
			return a.sa
		}));
		for (b = 0; b < c.length; b++) {
			var d = c[b];
			d.sa || (a[d.ea][d.rowIndex] = b)
		}
		return a
	},
	dq: function(a) {
		var b = new BkChessPiece(a);
		b.Ja = this.U[a].he;
		b.pa = this.U[a].pa;
		b.ea = this.U[a].ea;
		b.rowIndex = this.U[a].rowIndex;
		return b
	},
	fg: function(a, b) {
		return 9 * b + a
	},
	tu: function(a) {
		return 16 * a
	},
	uO: function() {
		this.Xu && (this.Mt(), this.eC(), this.FE(), this.cB() ? this.Nt() : this.mq())
	},
	FE: function() {
		this.Si = !1;
		this.sequence && (this.stopAction(this.sequence), this.sequence = null);
		this.sf.yc();
		this.Vf.yc()
	},
	Am: function() {
		var a = "";
		if (0 == this.Na.length) a = this.iu();
		else if (0 > this.Ia) a = "";
		else if (this.Ia < this.Na.length - 1) var b = this.Na[this.Ia],
			a = a + (Math.floor(this.Ia / 2) + 1 + "/" + Math.floor(this.Na.length / 2)),
			a = a + (" - " + this.lu(b));
		else a = this.iu(), this.QT();
		this.ro.setString(a)
	},
	iu: function() {
		var a = this,
			b = "",
			c = !1;
		this.data.vg == hl ? b += "Ho\u00e0 c\u1edd. L\u00fd do: " : this.data.vg == il ? this.EB() ? (console.log("\u0111\u00e3 xem"),
			b += "\u0110\u1ecf th\u1eafng. L\u00fd do: ") : this.hv() ? b += "Th\u1eafng. L\u00fd do: " : (c = !0, b += "Thua. L\u00fd do: ") : this.data.vg == jl ? this.EB() ? b += "\u0110en th\u1eafng. L\u00fd do: " : this.hv() ? (c = !0, b += "THUA. L\u00fd do: ") : b += "TH\u1eaeNG. L\u00fd do: " : b += "?";
		return b += kl.filter(function(b) {
			return b.key == a.data.tK
		}).map(function(a) {
			return c && a.key == DAU_HANG_REASON ? "\u0110\u1ea7u h\u00e0ng" : a.value
		})
	},
	lB: function(a, b) {
		var c = this.Fz(a);
		if (c) {
			var d = UI.su(b),
				e = UI.gu(b);
			console.log("chase update - fenBgTop: ",
				d);
			console.log("chase update - fenBgBottom: ", e);
			var f = UI.su(c),
				c = UI.gu(c);
			console.log("chase update - itemTop: ", f);
			console.log("chase update - itemBottom: ", c);
			return f > d || c < e
		}
		return !1
	},
	Fz: function(a) {
		a = a.getItems();
		for (var b = Math.floor(this.Ia / 2), c = 0; c < a.length; c++) {
			var d = a[c];
			if (d.getChildren()[0].id == b) return d
		}
		return 0
	},
	m_: function(a, b) {
		for (var c = 0; c < a.length; c++) {
			var d = a[c];
			if (d.id == b) return d
		}
		return null
	},
	zS: function(a, b) {
		var c = this.hu(a);
		console.log("chase update - current: ", c);
		for (var d =
				0; this.lB(a, b) && 1E3 > d;) c += 0.1, console.log("chase update - jump to nextPercent: ", c), c = Math.min(100, c), a.jumpToPercentVertical(c), d++;
		var c = cc.delayTime(0.2),
			e = this,
			d = cc.callFunc(function() {
				var b = e.hu(a);
				console.log("chase update - currentPercent after jump: ", b)
			}),
			c = cc.sequence(c, d);
		this.runAction(c)
	},
	yS: function(a, b) {
		console.log("scrollToBackFen");
		for (var c = this.hu(a), d = 0; this.lB(a, b) && 1E3 > d;) console.log("this.getPercentOfOneItem(listView): ", 0.1), c += -0.1, console.log("chase update - jump back to percent: ",
			c), c = Math.max(0, c), a.jumpToPercentVertical(c), d++;
		console.log("chase update - current Item: ", this.Fz(a))
	},
	hu: function(a) {
		a = a.ju();
		var b = this.Yl.length - this.yj;
		if (0 >= b) return 100;
		var c = Math.min(100, a.pq.id / b * 100);
		console.log("chase update - currentPercentOfFen: ", c);
		console.log("chase update - firstVisibleItem.fenItem.id: ", a.pq.id);
		console.log("chase update - lastItemIndex: ", b);
		return c
	},
	L_: function(a) {
		var b = a.getInnerContainer(),
			c = b.getPosition().y,
			d = b.getContentSize(),
			e = a.getContentSize(),
			f = a.getItems(),
			b = f.length;
		if (0 == b) return 0;
		var g = a.Fk / b,
			f = f[0].height,
			h = this.yj;
		if (0 == b - h) return 0;
		b = Math.max(0, a.Fk - e.height);
		b = a.Fk;
		console.log("chase update - innerContainerSize.height:  ", d.height);
		console.log("chase update - itemHeight:  ", g);
		console.log("chase update - itemHeight2:  ", f);
		console.log("chase update - listViewSize.height :  ", e.height);
		console.log("chase update - visibleItemsCount:  ", h);
		console.log("chase update - listViewSize.height:  ", e.height);
		console.log("chase update - scrollableDistance:  ",
			b);
		d = a.ju();
		a = a.NK();
		console.log("chase update - firstVisibleItem:  ", d);
		a = Math.abs(a.getPosition().y - d.getPosition().y);
		console.log("chase update - scrolledDistance:  ", a);
		console.log("chase update - innerContainerPosY:  ", c);
		c = Math.min(100, a / b * 100);
		console.log("chase update - currentPercentage:  ", c);
		return c
	},
	H_: function() {
		return 0.1
	},
	rs: function() {
		this.pV();
		this.Ge(this.gd, !1);
		this.Ge(this.jd, !1);
		console.log("updateDeadPiecesToBox: this.boxQuanAnPlayer1: ", this.gd)
	},
	uH: function() {
		console.log("callbackNextFen");
		this.qs();
		this.rs();
		var a = this.Na[this.Ia];
		a && (0 == a.id % 2 ? this.sf.yc() : this.Vf.yc(), this.pm(a), this.Gw(a), this.Ih() && this.nm(a, !0));
		this.Jl = !1;
		this.UM() || this.sz()
	},
	UM: function() {
		return this.Ia == this.Na.length - 1
	},
	Ih: function() {
		return this.ya == L
	},
	tH: function() {
		this.qs();
		this.us();
		this.ss();
		if (-1 < this.Ia) {
			var a = this.Na[this.Ia];
			this.pm(a);
			this.Gw(a);
			this.Ih() && this.nm(a, !0)
		} else this.pm(null), this.rA(), a = this.Na[0], this.Ih() && this.nm(a, !1);
		this.Jl = !1; - 1 < this.Ia && this.rz()
	},
	pm: function(a) {
		a ? (this.sf.ie(a.VU),
			this.Vf.ie(a.WU)) : (this.sf.ie(Sd), this.Vf.ie(Sd))
	},
	Gz: function() {
		return this.Ia > this.Vk ? this.Na[this.Ia].Kg : this.Qj
	},
	pV: function() {
		var a = this.Gz().filter(function(a) {
			return a.sa
		});
		console.log("updateDeadPieces - deadPieces: ", a);
		for (var b = 0; b < a.length; b++) {
			var c = a[b],
				d = this.qL(c);
			null != d && (d.sa = c.sa, -1 == d.Vg && (d.Vg = c.Vg), console.log("updateDeadPieces - piece: ", c), this.MG(c, d), console.log("updateDeadPieces - this.boxQuananTop: ", this.gd), console.log("updateDeadPieces - this.boxQuananBottom: ", this.jd));
			(c = this.qu(c.Fa)) && c.setPosition(-1E3, -1E3)
		}
	},
	ss: function() {
		var a = this.Gz().filter(function(a) {
			return !a.sa
		});
		console.log("updateLivePiecesInTakenBox - livePieces: ", a.map(function(a) {
			return a.Fa
		}));
		var b = a.map(function(a) {
				return a.Fa
			}),
			c = this.Sj.filter(function(a) {
				return !ub(a, b)
			}),
			a = this.Sj.filter(function(a) {
				return !ub(a, c)
			});
		console.log("updateLivePiecesInTakenBox - newDeadPieces: ", c);
		console.log("updateLivePiecesInTakenBox - removeUnDeadPieces: ", a);
		for (var d = 0; d < a.length; d++) {
			var e = a[d];
			e < BkChessSize.yg ?
				(this.jd.hD(e), console.log("updateLivePiecesInTakenBox - this.boxQuanAnPlayer2: ", this.jd)) : this.gd.hD(e)
		}
		this.Sj = c;
		this.Ge(this.gd, !0);
		this.Ge(this.jd, !0);
		console.log("updateLivePiecesInTakenBox - this.boxQuanAnPlayer1: ", this.gd);
		console.log("updateLivePiecesInTakenBox - this.boxQuanAnPlayer2: ", this.jd)
	},
	R6: function() {},
	qL: function(a) {
		var b = a.sc == Y;
		console.log("getTakePieceSprite - piece: ", a);
		return a.pa == Jb ? b ? this.KE[a.he] : this.ME[a.he] : b ? this.LE[a.he] : this.NE[a.he]
	},
	MG: function(a, b) {
		console.log("addDeadPiece - this.deathPieceIndexes: ",
			this.Sj);
		console.log("addDeadPiece - piece.pieceIndex: ", a.Fa);
		console.log("addDeadPiece - this.chessPieces[piece.pieceIndex]: ", this.U[a.Fa]);
		var c = a.Fa;
		ub(c, this.Sj) || (this.Sj.push(c), b.Cu(c), this.qN(a) ? this.jd.ij(b, a.sc) : (console.log("addDeadPiece - call to boxQuanAnPlayer1.pushToChessList - pieceSprite: ", b), console.log("addDeadPiece - call to boxQuanAnPlayer1.pushToChessList - piece: ", a), this.gd.ij(b, a.sc)))
	},
	qN: function(a) {
		return a.Fa < BkChessSize.yg
	},
	Q3: function() {
		this.gd.reset();
		this.Ge(this.gd,
			!1);
		this.jd.reset();
		this.Ge(this.jd, !1)
	},
	P3: function() {
		this.gd.reset();
		this.jd.reset()
	},
	us: function() {
		for (var a = this.Qj.filter(function(a) {
				return !a.sa
			}), b = 0; b < a.length; b++) {
			var c = a[b],
				d = this.qu(c.Fa);
			null != d && (d.sa = c.sa, d.bS())
		}
	},
	qu: function(a) {
		for (var b = 0; b < this.Hg.length; b++) {
			var c = this.Hg[b];
			if (c.index == a) return c
		}
		return null
	},
	lO: function() {
		if (this.Vu && (this.$t(), this.Lt(), !this.Jl)) {
			var a = this.Ia;
			if (0 <= a && a <= this.Na.length) {
				var b = this.Na[a],
					a = this.Hg[b.Fa],
					c = b.em,
					d = b.dm;
				this.jc && (c = 9 - c, d = 8 - d);
				a.ea = d;
				a.rowIndex = c;
				this.Qj = b.Sh;
				c = this.Sb(a.ea);
				d = this.Tb(a.rowIndex);
				this.Ia--;
				this.Jl = !0;
				b = cc.callFunc(this.tH, this);
				c = cc.moveTo(0.2, c, d);
				b = cc.sequence(c, b);
				a.runAction(b);
				this.Oo(this.Ia);
				0 <= this.Ia && this.yS(this.Lb, this.Ci);
				0 > this.Ia && this.fq()
			}
			this.Am();
			this.FE();
			this.mq();
			this.Gy()
		}
	},
	Gy: function() {
		this.sf.Oj();
		this.Vf.Oj();
		this.sf.nl();
		this.Vf.nl();
		hideToastMessage()
	},
	mJ: function() {
		this.il = new BkButton("menu_butt.png", "menu_butt_press.png", "menu_butt.png", "menu_butt.png", ccui.Widget.PLIST_TEXTURE);
		var a = 5 * GAME_SCALE,
			b = 0.067 * cc.winSize.height;
		this.il.Yb(GAME_SCALE);
		this.il.x = a + this.il.getContentSize().width * GAME_SCALE / 2;
		this.il.y = b;
		this.il.addClickEventListener(function() {});
		this.addChild(this.il)
	},
	Jk: function() {
		for (var a = 0; 32 > a; a++) {
			var b = this.Hg[a];
			b.Fu(a);
			b.setScale(isWebPlatform() ? this.YF : this.Kd);
			b.setOpacity(255);
			b.x = this.Sb(b.ea);
			b.y = this.Tb(b.rowIndex);
			b.Mk(!1)
		}
	},
	Sb: function(a) {
		return 0 > a ? -200 : this.ob.x + (a - 4) * (isWebPlatform() ? WEB_BOARD_CELL_WIDTH : BOARD_CELL_WIDTH) * this.ob.scaleX
	},
	Tb: function(a) {
		var b =
			isWebPlatform() ? WEB_BOARD_HEIGHT_RIVER : BOARD_HEIGHT_RIVER,
			c = isWebPlatform() ? WEB_BOARD_CELL_HEIGHT : BOARD_CELL_HEIGHT,
			d = isWebPlatform() ? 2 : 0;
		return 0 > a ? -200 : 4 < a ? this.ob.y + b * this.ob.scaleY * 0.5 + (a - 5) * c * this.ob.scaleY - d : this.ob.y - b * this.ob.scaleY * 0.5 + (a - 4) * c * this.ob.scaleY
	},
	xl: function() {
		return this.ob.y
	},
	QL: function() {
		var a = cc.winSize,
			b = new BkSprite(res.IL);
		b.scaleX = a.width / b.width;
		b.scaleY = a.height / b.height;
		b.x = a.width / 2;
		b.y = a.height / 2;
		this.addChild(b, 0);
		this.ob = new BkSprite(res.yt);
		var b = 1 * a.width / this.ob.getWidth(),
			c = 0.65 * a.height / this.ob.getHeight();
		this.background = this.ob;
		this.Kd = b > c ? c : b;
		isWebPlatform() ? (this.Kd = 1, this.ob.y = a.height / 2 - WEB_BOARD_DELTA_Y) : this.ob.y = isFBInstantGame() ? a.height / 2 : a.height / 2 - BOARD_DELTA_Y * this.Kd;
		this.ob.setScale(this.Kd);
		console.log("chessTable - this.chessScale: ", this.Kd);
		this.ob.x = a.width / 2;
		isWebPlatform() && (console.log("chessTable - UI.getHalfRealWidth(this.chessTable): ", UI.Da(this.ob)), this.ob.x = 105 * GAME_SCALE + UI.Da(this.ob), console.log("chessTable - this.chessTable.x: ",
			this.ob.x), console.log("chessTable - WINDOW_WIDTH: ", WINDOW_WIDTH), console.log("chessTable - GAME_SCALE: ", GAME_SCALE), console.log("chessTable - GAME_SCALE_MIN: ", GAME_SCALE_MIN));
		this.addChild(this.ob, 0);
		this.AI = UI.qa(this.ob);
		this.Vd = getSpriteFromImage("#chieutuong.png");
		this.Vd.setPosition(this.background.x, this.background.y);
		this.Vd.setVisible(!1);
		this.addChild(this.Vd, 1E3)
	},
	bq: function() {
		this.Hg = [];
		this.U = [];
		for (var a = 0; 32 > a; a++) {
			var b = new BkChessPieceSprite(a);
			this.Hg.push(b);
			b.x = -100;
			b.y = -100;
			this.addChild(b, 32);
			var c = new BkChessPiece(a);
			if (this.ya == K) c.he = c.Ja, c.vR = c.Fa;
			else {
				var d = this.data.wR[a];
				c.he = null != d ? d : c.Ja;
				d = this.data.lD[a];
				c.vR = null != d ? d : c.Fa
			}
			this.U.push(c);
			this.Ih() && this.aM(b, c)
		}
		console.log("createChessPieces - this.chessPieces original: ", Gl(this.U));
		console.log("createChessPieces - this.chessPieces object: ", this.U);
		console.log("createChessPieces - this.chessPieces dead: ", this.U.filter(function(a) {
			return a.sa
		}));
		console.log("createChessPieces - this.chessPieceSprites: ",
			this.Hg)
	},
	aM: function(a, b) {
		a.Ja != BkChessType.Qf.id && (a.hc = Y, a.sc = Y, a.mg());
		b.Ja != BkChessType.Qf.id ? (b.hc = Y, b.sc = Y) : (b.hc = Hn, b.sc = Hn)
	},
	$j: function() {
		var a = new Date(this.data.Ho),
			b = String("00" + a.getDate()).slice(-2) + "/" + String("00" + (a.getMonth() + 1)).slice(-2) + "/" + a.getFullYear().toString();
		logMessage("strDate: " + b);
		logMessage("strDate: " + b);
		a = String("00" + a.getHours()).slice(-2) + ":" + String("00" + a.getMinutes()).slice(-2);
		return b + "\n" + a
	},
	nm: function(a, b) {
		var c;
		c = b ? a.Kg : a.Sh;
		for (var d = 0; d < c.length; d++) {
			var e =
				c[d],
				f = this.qu(e.Fa);
			f.hc = e.hc;
			f.sc = e.sc;
			f.Ja = e.he;
			f.mg()
		}
	}
});
BkFenItem = ccui.Widget.extend({
	uj: "BkFenItemBg",
	parentNode: null,
	za: null,
	id: null,
	pn: -1,
	ctor: function(a, b, c) {
		this._super();
		this.color = cc.color(53, 35, 23);
		this.fontSize = 27 * GAME_SCALE_MIN;
		isWebPlatform() && (this.fontSize = 20 * GAME_SCALE_MIN);
		this.setName("BkFenItem");
		this.id = a.id;
		console.log("BkFenItem - couple: ", a);
		this.YI = a;
		this.Uh = this.movement = a.red;
		this.oh = a.py;
		this.parentNode = b;
		this.wt = c;
		this.gg()
	},
	N_: function() {
		return this.Uh.id
	},
	AK: function() {
		return this.oh ? this.oh.id : -1
	},
	gg: function() {
		var a = this,
			b = new BkSprite("#history_fen_item_bg_web.png");
		b.name = this.uj;
		var c = this.parentNode.Xk.getContentSize().width / this.wt - this.parentNode.oc,
			d = UI.Ga(this.parentNode.Ci);
		isWebPlatform() && (c = UI.qa(this.parentNode.Ci), d = (UI.Ga(this.parentNode.Xk) - (this.wt - 1) * this.parentNode.oc) / this.wt);
		b.setPosition(UI.Da(b), UI.Ei(b));
		this.setContentSize(cc.size(c, d));
		this.na = b;
		this.addChild(b);
		c = 30 * GAME_SCALE_MIN;
		isWebPlatform() && (c = 17 * GAME_SCALE_MIN);
		d = this.Fn(this.YI);
		console.log("fenItem - initBg - strRank: ", d);
		c =
			new BkLabel(d, "", c);
		c.x = this.Sz(b, c);
		c.y = b.y;
		c.setColor(cc.color(223, 200, 94));
		this.Nd = c;
		this.addChild(c);
		this.qT(this.movement);
		c = createBkButtonPlist("history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_hover.png", this.Uh.description);
		c.x = UI.eb(b) + 33 + UI.Da(c);
		c.y = b.y;
		this.addChild(c);
		this.Qp = c;
		c.setTitleColor(cc.color(243, 239, 213));
		c.addClickEventListener(function() {
			a.parentNode.wz(a.Uh)
		});
		d = "";
		this.oh && (d = this.oh.description);
		d = createBkButtonPlist("history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_hover.png", d);
		d.x = UI.fb(c) + 10 + UI.Da(d);
		d.y = b.y;
		d.setTitleColor(cc.color(243, 239, 213));
		this.oh || d.setOpacity(0);
		this.addChild(d);
		this.ph = d;
		d.addClickEventListener(function() {
			a.parentNode.wz(a.oh)
		})
	},
	qT: function(a) {
		this.Nd.setVisible(isWebPlatform() ? !0 : 0 == a.id % 2)
	},
	Pr: function(a, b) {
		console.log("BkFenItem - setCurrentFenBg: " + a);
		console.log("BkFenItem - movementId: " +
			b);
		console.log("BkFenItem - this.getRedMovementId: " + this.Uh.id);
		a ? (this.pn = b, b == this.Uh.id ? (this.Qp.loadTextures("history_btn_fen_item_active.png", "history_btn_fen_item_active.png", "history_btn_fen_item_active.png", "history_btn_fen_item_active.png", ccui.Widget.PLIST_TEXTURE), this.ph.loadTextures("history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_hover.png", ccui.Widget.PLIST_TEXTURE)) : (this.Qp.loadTextures("history_btn_fen_item_normal.png",
			"history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_hover.png", ccui.Widget.PLIST_TEXTURE), this.ph.loadTextures("history_btn_fen_item_active.png", "history_btn_fen_item_active.png", "history_btn_fen_item_active.png", "history_btn_fen_item_active.png", ccui.Widget.PLIST_TEXTURE))) : (this.pn = -1, this.Qp.loadTextures("history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_hover.png", ccui.Widget.PLIST_TEXTURE),
			this.ph.loadTextures("history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_normal.png", "history_btn_fen_item_hover.png", ccui.Widget.PLIST_TEXTURE))
	},
	Sz: function(a, b) {
		return isWebPlatform() ? UI.eb(a) + 0.15 * UI.qa(a) - 1.5 * UI.qa(b) : UI.eb(a) + UI.Da(b)
	},
	Fn: function(a) {
		return a.id + 1 + ". "
	},
	iV: function(a) {
		this.id = a.id;
		this.Nd.setString(this.Fn(a));
		this.Nd.x = this.Sz(this.na, this.Nd);
		this.Uh = a.red;
		this.oh = a.py;
		this.Qp.setTitleText(this.Uh.description);
		this.oh ? (a = this.oh, this.ph.setOpacity(255),
			this.ph.ef(!0), this.ph.setTitleText(a.description)) : (a = this.Uh, this.ph.setOpacity(0), this.ph.ef(!1), this.ph.setTitleText(""));
		this.pn == a.id ? this.Pr(!0, this.pn) : this.Pr(!1, this.pn)
	}
});
BkTakenListChessPieceInHistory = BkSprite.extend({
	Bc: null,
	Ve: null,
	wh: null,
	Vh: null,
	Mx: [3, 4, 5, 1, 2, 6],
	ctor: function(a) {
		var b = "box_quanan.png";
		isWebPlatform() || (b = "box_quan_an_trans.png");
		this._super("#" + b);
		this.gv = a;
		this.reset()
	},
	reset: function() {
		this.Vh = [];
		this.Bc = [];
		this.Ve = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
		this.wh = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
	},
	XR: function(a) {
		this.Bc = this.Bc.filter(function(b) {
			return b.id != a.id
		})
	},
	ij: function(a, b) {
		var c = a.Ja;
		this.gv && (console.log("pushToChessList - chessSprite: ", a), console.log("pushToChessList - typeCountIndex: ",
			c));
		b == Y && (c += 6);
		this.Ve[c]++;
		this.gv && (console.log("pushToChessList - BkTakenListChessPieceInHistory: ", this), console.log("pushToChessList - typeCountIndex: " + c + " - faceState: " + a.hc + " - deadFaceType: " + a.sc), console.log("pushToChessList - this.countListByIndex[typeCountIndex]: ", this.Ve[c]), console.log("pushToChessList - this.countListByIndex: ", this.Ve));
		1 == this.Ve[c] && (this.gv && console.log("pushToChessList- before push chessSprite"), this.Bc.push(a), this.wh[c] = this.Bc.length - 1)
	},
	FJ: function(a) {
		var b =
			a.Ja;
		a.jN && (b += 6);
		this.Ve[b]--
	},
	hD: function(a) {
		for (var b = 0; b < this.Bc.length; b++) {
			var c = this.Bc[b];
			ub(a, c.Go) && (this.FJ(c), this.Vh.push(c), c.EJ(a))
		}
	},
	pu: function() {
		var a = this.Bc.sort(function(a, c) {
			return a.Vg - c.Vg
		});
		console.log("getOrderChessPieceList - listOrder1: ", a);
		a = this.Bc.sort(function(a, c) {
			return c.Vg - a.Vg
		});
		console.log("getOrderChessPieceList - listOrder2: ", a);
		return this.Bc.sort(function(a, c) {
			return c.Vg - a.Vg
		})
	}
});
BkTakenChessInHistory = BkSprite.extend({
	cg: 0,
	ctor: function(a, b, c, d, e) {
		this.id = this.yK(a, b, d);
		this.Go = [];
		this.Ja = a;
		this.cg = c;
		this.jN = d;
		this.Vg = e;
		a = Pn(a);
		this._super("#" + (a ? b ? a.Gk : a.Fj : "history_chess_piece_00.png"));
		d && (b = new BkSprite("#history_chess_piece_mask.png"), b.setOpacity(190), b.x = UI.Da(b), b.y = UI.Ei(b), this.addChild(b));
		this.qc = new BkSprite("#sl_quanan.png");
		this.qc.x = 0.7 * 23;
		this.qc.y = 5.75;
		this.qc.setScale(28 / 65 * 23 / this.qc.getContentSize().width);
		this.addChild(this.qc);
		this.Uc = new BkLabel("0",
			"", 9, !0);
		this.Uc.x = this.qc.x;
		this.Uc.y = this.qc.y;
		this.addChild(this.Uc)
	},
	yK: function(a, b, c) {
		b = (b ? 2 : 1) * a;
		return (c ? 2 : 1) * b + b + a
	},
	Cu: function(a) {
		this.cg++;
		this.ts();
		this.Go.push(a)
	},
	EJ: function(a) {
		this.cg--;
		this.ts();
		this.VR(a)
	},
	VR: function(a) {
		ub(a, this.Go) && (this.Go = this.Go.filter(function(b) {
			return b !== a
		}))
	},
	ts: function() {
		null != this.Uc && void 0 != this.Uc && (1 < this.cg ? (this.qc.setVisible(!0), this.Uc.setVisible(!0), this.Uc.setString(this.cg)) : (this.qc.setVisible(!1), this.Uc.setVisible(!1)))
	}
});
WD_PLAYER_INFO_ITEM_X = 10;
WD_PLAYER_INFO_ITEM_Y = 5;
WD_PLAYER_INFO_AVATAR_MARGIN_CENTER = 60;
MAX_XEP_HANG = 2E8;
MAX_SIZE_AVATAR = 5242880;
KEY_CHANGE_AVATAR_TIME = "changeAvatarTime";
DELAY_CHANGE_AVATAR_IN_SECOND = 5;
BkPlayerInfo = BkBaseChessWindow.extend({
	xw: null,
	W: null,
	o0: null,
	kd: null,
	Pg: !1,
	Bt: cc.color(71, 44, 27),
	zh: !1,
	ctor: function(a) {
		this.Pg = !0;
		a != BkGlobal.P.userName && (this.Pg = !1);
		var b = cc.size(610, 620);
		isWebPlatform() || (b = 845, this.Pg || (b = 910), b = cc.size(629 * GAME_SCALE, b * GAME_SCALE));
		logMessage("sizeWD: " + b.width + " - " + b.height);
		this._super("", b, null);
		this.Ob("title_wd_thongtin.png");
		this.xw = a;
		this.Cc(!0);
		isWebPlatform() && this.Qo(!0);
		BkLogicManager.S().jb(this);
		this.BQ(a);
		this.bake();
		n.rb(Dc)
	},
	kY: function() {},
	RG: function() {
		var a = this.vL();
		if (0 < a) showToastMessage("Vui l\u00f2ng th\u1eed l\u1ea1i sau " + Math.ceil(a) + " gi\u00e2y.");
		else {
			var b = this;
			this.zh || (this.zh = document.createElement("input"), this.zh.type = "file", this.zh.style.display = "none", document.body.appendChild(this.zh), console.log("addInputClickEventListerner"), this.zh.addEventListener("change", function() {
				console.log("fileInput addEventListener");
				s();
				if (0 < b.zh.files.length) {
					var a = b.zh.files[0];
					if (a.size > MAX_SIZE_AVATAR) t(), showToastMessage("Vui l\u00f2ng ch\u1ecdn file c\u00f3 k\u00edch th\u01b0\u1edbc nh\u1ecf h\u01a1n 5MB!");
					else {
						var d = new FileReader;
						d.onload = function(d) {
							d = new Uint8Array(d.target.result);
							if ("" != b.RK(d)) {
								var f = new Image;
								document.createElement("div").appendChild(f);
								f.src = URL.createObjectURL(a);
								f.onload = function() {
									var a = document.createElement("canvas"),
										c = a.getContext("2d");
									a.width = f.width;
									a.height = f.height;
									c.drawImage(f, 0, 0);
									(new Cropper(f, {
										MX: 1,
										X6: 1,
										sZ: "move"
									})).getCroppedCanvas();
									a = b.kS(f);
									b.ES(a)
								}
							} else t(), showToastMessage("Vui l\u00f2ng ch\u1ecdn file \u1ea3nh JPG, JEGP, PNG.")
						};
						d.readAsArrayBuffer(a)
					}
				} else alert("Ch\u01b0a ch\u1ecdn t\u1ec7p n\u00e0o.")
			}));
			this.zh.click()
		}
	},
	vL: function() {
		var a = p(KEY_CHANGE_AVATAR_TIME, 0),
			b = Date.now();
		return (a + 1E3 * DELAY_CHANGE_AVATAR_IN_SECOND - b) / 1E3
	},
	gV: function() {
		var a = Date.now();
		u(KEY_CHANGE_AVATAR_TIME, a)
	},
	kS: function(a) {
		var b = a.width,
			c = a.height,
			d = Math.min(b, c),
			b = (b - d) / 2,
			c = (c - d) / 2,
			e = document.createElement("canvas");
		e.width = 100;
		e.height = 100;
		e.getContext("2d").drawImage(a, b, c, d, d, 0, 0, 100, 100);
		return e.toDataURL("image/jpeg", 0.8)
	},
	ES: function(a) {
		console.log("sendDataToServer - base64Data: ", a);
		var b = Ri + "/uploadfile?playerName\x3d" +
			BkGlobal.P.userName;
		console.log("url: ", b);
		UtilNotBuild.processAvatar(this, b, a);
		t()
	},
	processAvatarSuccess: function(a) {
		console.log("processAvatarSuccess");
		BkGlobal.P.cf(a);
		getCurrentScene().kf(BkGlobal.P);
		this.PS(a);
		this.removeFromParent();
		this.gV()
	},
	processAvatarError: function(a) {
		console.log("error: ", a);
		showToastMessage("C\u00f3 l\u1ed7i x\u1ea3y ra khi g\u1eedi d\u1eef li\u1ec7u. Vui l\u00f2ng th\u1eed l\u1ea1i sau!")
	},
	PS: function(a) {
		var b = new BkPacket;
		b.WF(a);
		BkConnectionManager.send(b)
	},
	RK: function(a) {
		function b(a,
			b) {
			for (var e = 0; e < a.length; e++)
				if (a[e] !== b[e]) return !1;
			return !0
		}
		return b([255, 216, 255], a) ? "jpeg" : b([82, 73, 70, 70], a) ? "webp" : b([71, 73, 70, 56], a) ? "gif" : b([137, 80, 78, 71, 13, 10, 26, 10], a) ? "png" : b([66, 77], a) ? "bmp" : ""
	},
	dK: function() {
		var a = this.W.Io[0],
			b = this.W.Io[1];
		console.log("drawPlayerData - this.playerData.getAvatarId(): ", this.W.Hb);
		var c = new zb(this.W.Hb, Math.max(a.Tg, b.Tg));
		this.T(c);
		c.setScale(GAME_SCALE);
		c.x = this.Q.width / 2;
		c.y = this.Q.height - 1.2 * c.height;
		isWebPlatform() || null == this.Za || (c.y = this.Za.y -
			this.Za.getBoundingBox().height / 2 - 0.5 * c.getBoundingBox().height);
		if (this.Pg) {
			var d = getCurrentScene();
			if (d && d instanceof hb) {
				var e = this,
					f = new BkButton("btn_upd_avatar.png", "btn_upd_avatar_press.png", "btn_upd_avatar.png", "btn_upd_avatar.png", ccui.Widget.PLIST_TEXTURE);
				f.setScale(0.6 * GAME_SCALE);
				f.setOpacity(200);
				f.y = c.y + 0.3 * c.getBoundingBox().height;
				this.T(f);
				f.addClickEventListener(function() {
					e.RG()
				})
			}
		}
		var g = d = null,
			h = null,
			k = null,
			m = null,
			d = cc.spriteFrameCache.getSpriteFrame("name_frame.png"),
			g = cc.rect(50,
				20, 166, 15),
			d = new cc.Scale9Sprite(d, g),
			r = this.W.userName,
			w = 30,
			C = 38,
			I = 32,
			W = 35,
			fa = 38,
			B = GAME_SCALE;
		isWebPlatform() ? (w = 18, C = 30, W = I = 25, fa = 28, B = 0.8, console.log("playerAvatar: ", c), c.x = this.Q.width / 4.5, f && (console.log("btnUpdateAvar: ", f), f.x = c.x + 0.35 * c.getBoundingBox().width), d.setScale(B), d.x = this.Q.width / 2.5 + d.getBoundingBox().width / 2, d.y = c.y + 0.1 * c.getBoundingBox().height) : (d.setScale(B), d.x = this.Q.width / 2, d.y = c.y - 1.3 * c.getBoundingBox().height);
		this.T(d);
		g = new BkSprite("#info_popUp.png");
		g.setScale(GAME_SCALE);
		g.x = d.x;
		g.y = d.y - d.getBoundingBox().height - g.getBoundingBox().height / 2;
		this.T(g);
		k = new BkSprite("#CT_iconInfoWD.png");
		k.setScale(GAME_SCALE);
		k.x = g.x - g.getBoundingBox().width / 2 + 0.3 * k.getBoundingBox().width;
		k.y = g.y;
		this.T(k);
		h = new BkSprite("#info_popUp.png");
		h.setScale(GAME_SCALE);
		h.x = d.x;
		h.y = g.y - g.getBoundingBox().height - 0.1 * d.getBoundingBox().height;
		this.T(h);
		m = new BkSprite("#CU_iconInfoWD.png");
		m.setScale(GAME_SCALE);
		m.x = h.x - h.getBoundingBox().width / 2 + 0.3 * m.getBoundingBox().width;
		m.y = h.y;
		this.T(m);
		f = new BkLabel(r, "", w + 2);
		f.y = d.y;
		f.x = d.x;
		f.setTextColor(Cj);
		f.Yb(B);
		this.T(f);
		if (null != d && (f.y = d.y, f.x = d.x, r = f.getBoundingBox().width / B, w = d.getBoundingBox().width / B, r > w)) {
			var Te = r + 0.15 * w;
			logMessage("scale wid BG " + r + " maxwidLBName: " + w + " mybgWid: " + Te);
			d.width = Te;
			isWebPlatform() && (d.x = this.Q.width / 2.8 + Te / 2 - 20 * B, f.x = d.x)
		}
		this.W.userName == BkGlobal.P.userName && BkGlobal.Sa != T && BkGlobal.no && (B = createBkButtonPlist("change_name.png", "change_name.png", "change_name.png", "change_name.png"), B.x = f.x + f.getBoundingBox().width /
			2 + B.getBoundingBox().width / 2 + 22 * GAME_SCALE + 5, B.y = f.y, r = GAME_SCALE, isWebPlatform() && (r = 0.5), B.setScale(r), this.T(B), B.addClickEventListener(function() {
				var a = new BkRenameWindow;
				a.Ab(Oa);
				a.Oa()
			}), null != d && (B.x = d.x + d.getBoundingBox().width / 2 - 0.3 * B.getBoundingBox().width, B.y = d.y));
		B = 20;
		w = r = v;
		isWebPlatform() || (B = 35, w = r = v);
		B = [new BkLabelItem("Ng\u01b0\u1eddi theo d\u00f5i: ", B, r, 1, !1), new BkLabelItem(this.W.tq, B, w, 1, !1)];
		this.sd = new BkLabelSprite(B);
		this.sd.x = d.x - UI.Da(d);
		this.sd.y = f.y - f.getContentSize().height /
			2 - 44 + 0.5;
		this.T(this.sd);
		isWebPlatform() || null == h || (this.sd.setScale(GAME_SCALE), this.sd.y = h.y - h.getBoundingBox().height / 2 - this.sd.getBoundingBox().height, this.sd.x = h.x - this.sd.getBoundingBox().width / 2);
		f = cc.color(174, 18, 29);
		B = new BkLabel("Elo: " + a.Tg, "", C, !0);
		B.setScale(GAME_SCALE);
		C = 0.85 * B.getBoundingBox().height;
		isFBInstantGame() && (C = 0.85 * B.getContentSize().height * GAME_SCALE);
		B = a.Ta;
		1E4 <= B && (B = "xxx");
		B = [new BkLabelItem("Elo: ", W, R, 1, !0), new BkLabelItem(a.Tg, fa, R, 1, !0), new BkLabelItem("  H\u1ea1ng: ",
			W, R, 1, !0), new BkLabelItem(B, fa, R, 1, !0)];
		lbELCT = new BkLabelSprite(B);
		lbELCT.setScale(GAME_SCALE);
		lbELCT.x = k.x + k.getBoundingBox().width / 2 + 10 * GAME_SCALE;
		lbELCT.y = k.y + C - lbELCT.getBoundingBox().height / 2;
		this.T(lbELCT);
		B = [new BkLabelItem("Th\u1eafng: ", I, R, 1, !0), new BkLabelItem(a.Cm, I, f, 1, !0), new BkLabelItem("   Thua: ", I, R, 1, !0), new BkLabelItem(a.Vl, I, f, 1, !0)];
		lbTTHCT = new BkLabelSprite(B);
		lbTTHCT.setScale(GAME_SCALE);
		lbTTHCT.x = k.x + k.getBoundingBox().width / 2 + 10 * GAME_SCALE;
		lbTTHCT.y = k.y - C;
		this.T(lbTTHCT);
		a = C;
		B = b.Ta;
		1E4 <= B && (B = "xxx");
		B = [new BkLabelItem("Elo: ", W, R, 1, !0), new BkLabelItem(b.Tg, fa, R, 1, !0), new BkLabelItem("  H\u1ea1ng: ", W, R, 1, !0), new BkLabelItem(B, fa, R, 1, !0)];
		lbELCU = new BkLabelSprite(B);
		lbELCU.setScale(GAME_SCALE);
		lbELCU.x = m.x + m.getBoundingBox().width / 2 + 10 * GAME_SCALE;
		lbELCU.y = m.y + C - lbELCU.getBoundingBox().height / 2;
		this.T(lbELCU);
		B = [new BkLabelItem("Th\u1eafng: ", I, R, 1, !0), new BkLabelItem(b.Cm, I, f, 1, !0), new BkLabelItem("   Thua: ", I, R, 1, !0), new BkLabelItem(b.Vl, I, f, 1, !0)];
		lbTTHCU = new BkLabelSprite(B);
		lbTTHCU.setScale(GAME_SCALE);
		lbTTHCU.x = m.x + m.getBoundingBox().width / 2 + 10 * GAME_SCALE;
		lbTTHCU.y = m.y - a;
		this.T(lbTTHCU);
		var Oa = this,
			a = 0.5 * this.ab().width;
		this.Pg && this.kB() && (a = 0.75 * this.ab().width);
		this.W.userName != BkGlobal.P.userName && (this.kd = this.W.Hl ? new BkButton("btnHuyTheoDoi.png", "btnHuyTheoDoiPress.png", "btnHuyTheoDoi.png", "btnHuyTheoDoi.png", ccui.Widget.PLIST_TEXTURE) : new BkButton("btnTheodoi.png", "btnTheodoiPress.png", "btnTheodoi.png", "btnTheodoi.png", ccui.Widget.PLIST_TEXTURE), b = 0.5 * this.Q.width,
			a = 0.2 * this.Q.width, this.kd.setScale(GAME_SCALE), this.kd.x = b - a, this.kd.y = this.kd.getContentSize().height / 2, this.T(this.kd), this.kd.addClickEventListener(function() {
				Oa.W.Hl ? Oa.XJ() : Oa.RJ();
				BkLogicManager.S().jb(Oa)
			}), a = b + a);
		b = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		b.setScale(GAME_SCALE);
		b.x = a;
		b.y = b.getContentSize().height / 2;
		this.T(b);
		b.addClickEventListener(function() {
			Oa.removeSelf()
		});
		isWebPlatform() ? (g.x = this.Q.width / 2, g.y = c.y - c.getBoundingBox().height /
			0.95 - g.getBoundingBox().height / 2, k.x = g.x - g.getBoundingBox().width / 2 + 0.3 * k.getBoundingBox().width, k.y = g.y, lbELCT.x = k.x + k.getBoundingBox().width / 2 + 10 * GAME_SCALE, lbELCT.y = k.y + 5, lbTTHCT.x = k.x + k.getBoundingBox().width / 2 + 10 * GAME_SCALE, lbTTHCT.y = k.y - 30, h.x = g.x, h.y = g.y - g.getBoundingBox().height - 0.3 * d.getBoundingBox().height, m.x = h.x - h.getBoundingBox().width / 2 + 0.3 * m.getBoundingBox().width, m.y = h.y, lbELCU.x = m.x + m.getBoundingBox().width / 2 + 10 * GAME_SCALE, lbELCU.y = m.y + 5, lbTTHCU.y = m.y - 30, lbTTHCU.x = m.x + m.getBoundingBox().width /
			2 + 10 * GAME_SCALE, b.y += 30, this.kd && (this.kd.y = b.y)) : (c = 1.2, this.Pg || (c = 2), b.y = b.getBoundingBox().height * c, null != this.kd && (this.kd.y = b.y));
		this.Pg && this.kB() && (c = new BkButton("btnLienKetTk.png", "btnLienKetTkPress.png", "btnLienKetTk.png", "btnLienKetTk.png", ccui.Widget.PLIST_TEXTURE), c.setScale(GAME_SCALE), c.x = 0.25 * this.ab().width, c.y = b.y, this.T(c), Oa = this, c.addClickEventListener(function() {
			Oa.lP()
		}));
		this.kd && !isWebPlatform() && (logMessage("add notify promote friend"), c = new BkLabel("Ch\u00fa \u00fd: B\u1ea1n c\u00f3 th\u1ec3 xem ho\u1eb7c ch\u01a1i c\u00f9ng ng\u01b0\u1eddi b\u1ea1n theo d\u00f5i trong ph\u1ea7n b\u1ea1n b\u00e8.",
			"", 18, !1, !0), c.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER), c.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER), c.setTextColor(v), c.boundingWidth = 0.95 * this.Q.width / GAME_SCALE, c.x = 0.5 * this.Q.width, isWebPlatform() || c.setScale(GAME_SCALE), c.y = this.kd.y - 0.5 * this.kd.getBoundingBox().height - 0.5 * c.getBoundingBox().height, this.T(c))
	},
	kB: function() {
		var a = getCurrentScene();
		return a && a instanceof hb
	},
	lP: function() {
		var a = new BkLienKetTkWindow(this);
		a.Ab(this);
		a.Oa()
	},
	uV: function(a) {
		var b = 0,
			c = 0;
		null != this.sd && (b = this.sd.x, c = this.sd.y, this.sd.removeFromParent());
		var d = 20,
			e = Cj,
			f = Dj;
		isWebPlatform() || (d = 35, f = e = v);
		a = this.W.tq + a;
		this.W.ND(a);
		d = [new BkLabelItem("Ng\u01b0\u1eddi theo d\u00f5i: ", d, e, 1, !1), new BkLabelItem(a, d, f, 1, !1)];
		this.sd = new BkLabelSprite(d);
		this.sd.x = b;
		this.sd.y = c;
		this.T(this.sd);
		isWebPlatform() || this.sd.setScale(GAME_SCALE)
	},
	ud: function(a, b) {
		BkLogicManager.S().jb(null);
		t();
		switch (b) {
			case th:
				showToastMessage("B\u1ea1n \u0111\u00e3 b\u1eaft \u0111\u1ea7u theo d\u00f5i: " +
					this.xw, cc.director.getWinSize().width / 2, cc.director.getWinSize().height / 2);
				this.removeSelf();
				break;
			case ih:
				showToastMessage("\u0110\u00e3 x\u00f3a " + a + " kh\u1ecfi danh s\u00e1ch theo d\u00f5i.", cc.director.getWinSize().width / 2, cc.director.getWinSize().height / 2, null, 200);
				this.W.om(!1);
				null != this.kd && (isWebPlatform() ? this.kd.setTitleText("Theo d\u00f5i") : this.kd.loadTextures("btnTheodoi.png", "btnTheodoiPress.png", "btnTheodoi.png", "btnTheodoi.png", ccui.Widget.PLIST_TEXTURE));
				if (this.Tf) {
					var c = this.Tf;
					c instanceof BkFriendsWindow && (logMessage("xoa ban tu friend wd -\x3e refresh list"), c.Ul())
				}
				this.uV(-1);
				break;
			case Wg:
				this.W = a, this.W.yd(this.xw), this.dK()
		}
	},
	BQ: function(a) {
		logMessage("processOverViewPlayer " + a);
		s();
		var b = new BkPacket;
		b.mp(a, Vg);
		BkConnectionManager.send(b);
		this.W = new BkUserData
	},
	RJ: function() {
		var a = new BkPacket;
		a.wx(this.W.userName);
		BkConnectionManager.send(a)
	},
	XJ: function() {
		var a = new BkPacket;
		a.Bx(this.W.userName);
		BkConnectionManager.send(a)
	},
	onExit: function() {
		this._super();
		BkLogicManager.S().jb(null)
	}
});
BkInviteOtherPlayer = BkWindow.extend({
	Qa: null,
	pf: ["Ph\u00f2ng ch\u1edd", "B\u1ea1n b\u00e8"],
	Dd: null,
	zg: null,
	Ip: null,
	Yx: !1,
	ctor: function(a) {
		this._super("", cc.size(750 * GAME_SCALE, 900 * GAME_SCALE), null);
		this.Ip = a;
		this.Ju()
	},
	q5: function() {
		this.Aj = cc.size(this.ab().width - 2 * WD_BODY_MARGIN_LR + 4, this.ab().height);
		var a = new BkSprite("#darkbg_popupmoiban.png");
		a.scaleX = this.Aj.width / a.width;
		a.scaleY = this.ab().height / a.height;
		a.x = this.Q.width / 2;
		a.y = this.Q.height / 2;
		this.T(a)
	},
	s0: function() {},
	Ju: function() {
		this.Qo(!0)
	},
	Tu: function(a) {
		this.Ip.Tu(a)
	},
	lj: function(a, b) {
		1 == b ? this.Yx && this.Ip.aD() : this.Ip.cQ()
	},
	Te: function() {
		null != this.Qa && (this.Qa.removeFromParent(), this.pi.removeFromParent(), this.Kc.removeFromParent())
	},
	Q6: function() {
		1 == this.nc ? this.Vj(this.Dd, this.nc) : 2 == this.nc && this.Vj(this.FG, this.nc)
	},
	Vj: function(a, b) {
		t();
		this.Yx = !0;
		this.Te();
		this.Qa = new BkSprite;
		this.zg = [];
		this.T(this.Qa, 1);
		var c = this.ab().height + this.Ac.height,
			d = this.ab().width - 2 * WD_BODY_MARGIN_LR;
		if (null != a && 0 < a.length) {
			var e = new BkSprite(res.zp);
			this.Qa.addChild(e);
			var f = new BkLabel("Ch\u1ecdn t\u1ea5t c\u1ea3", "Arial", 14);
			f.setTextColor(oj.gX);
			f.x = f.getContentSize().width / 2;
			f.y = f.getContentSize().height / 2;
			e.addChild(f);
			var g = new BkCheckBox;
			g.x = f.x + f.getContentSize().width / 2 + g.width;
			g.y = f.y;
			e.addChild(g);
			e.setContentSize(cc.size(g.width + f.getContentSize().width, g.height));
			e.x = d - e.getContentSize().width / 2 - 40;
			var h = this;
			g.setSelected(!0);
			e.ad();
			e.Ua(function() {
				g.setSelected(!g.isSelected());
				h.By(h, g.isSelected())
			});
			g.addEventListener(function() {
				h.By(h,
					g.isSelected())
			});
			for (var f = function() {
					for (var a = !0, b = 0; b < h.zg.length; b++)
						if (!h.zg[b].isSelected()) {
							a = !1;
							break
						} g.setSelected(a)
				}, k = 0; k < a.length && !(5 <= k); k++) {
				var m = new BkIngameInviteFriendItem(a[k], c, this, !1, d);
				m.mT(f);
				m.dF(!0);
				c = m.y;
				this.Qa.addChild(m);
				this.zg.push(m)
			}
			this.Qa.x = 40;
			this.Qa.y = 15;
			e.y = c - e.height / 2 - 15;
			this.pi = createBkButtonPlist("btn_moi_normal.png", "btn_moi_pressed.png", "btn_moi_pressed.png", "btn_moi_hover.png");
			this.pi.setScale(GAME_SCALE);
			this.pi.addTouchEventListener(function(a, b) {
				if (b ==
					ccui.Widget.TOUCH_ENDED) {
					var c = 0;
					if (null != h.zg) {
						for (var d = 0; d < h.zg.length; d++) {
							var e = h.zg[d];
							e.isSelected() && (c++, h.Tu(e.od()))
						}
						0 == c ? showToastMessage("B\u1ea1n ph\u1ea3i ch\u1ecdn ng\u01b0\u1eddi ch\u01a1i \u0111\u1ec3 m\u1eddi.") : (showToastMessage("\u0110\u00e3 g\u1eedi l\u1eddi m\u1eddi th\u00e0nh c\u00f4ng.", 480, getYposforToast(), null, 190), h.removeSelf())
					}
				}
			}, this);
			this.pi.x = this.ab().width / 4 * 3;
			this.pi.y = c - 50;
			this.pi.y = 1.25 * this.hi.y;
			this.T(this.pi);
			this.Kc = createBkButtonPlist("btn_dong_normal.png",
				"btn_dong_pressed.png", "btn_dong_pressed.png", "btn_dong_hover.png");
			this.Kc.setScale(GAME_SCALE);
			this.Kc.addTouchEventListener(function(a, b) {
				b == ccui.Widget.TOUCH_ENDED && h.removeSelf()
			}, this);
			this.Kc.x = this.ab().width / 4;
			this.Kc.y = this.pi.y;
			this.T(this.Kc)
		} else c = new BkLabel("", "Arial", 16), 1 == b ? c.setString("Kh\u00f4ng t\u00ecm th\u1ea5y ng\u01b0\u1eddi ch\u01a1i.") : 2 == b && c.setString("B\u1ea1n b\u00e8 c\u1ee7a b\u1ea1n \u0111ang b\u1eadn."), c.setPosition(0, 0), this.Qa.addChild(c), this.Qa.x = this.ab().width /
			2, this.Qa.y = this.ab().height / 2
	},
	By: function(a, b) {
		if (null != a.zg)
			for (var c = 0; c < a.zg.length; c++) a.zg[c].dF(b)
	}
});
BkSettingWindow = BkWindow.extend({
	W: null,
	im: null,
	gm: null,
	Be: null,
	bh: null,
	bh: null,
	ctor: function() {
		var a = cc.size(460, 341);
		Il() && (a = cc.size(350, 260));
		this._super("C\u00e0i \u0110\u1eb7t", a, null);
		this.NM();
		Jl()
	},
	NM: function() {
		this.Cw();
		var a = this,
			b = cc.winSize,
			c = new BkLabel("\u00c2m thanh", "Tahoma", 15);
		c.setTextColor(cc.color(255, 255, 255));
		c.x = c.getContentSize().width / 2 + 2 * WD_BODY_MARGIN_LR;
		c.y = this.ab().height - c.getContentSize().height / 2 - 2 * WD_BODY_MARGIN_TB;
		this.T(c);
		var d = new BkRadioButtonData(0, 1, ""),
			e = new BkRadioButton(d.description);
		e.setData(d);
		e.x = c.x + 70;
		e.y = c.y - 12;
		this.T(e);
		var f = new BkSprite("#icon_sound_on.png");
		f.x = e.x + 35;
		f.y = e.y + 12;
		this.T(f);
		var g = new BkRadioButtonData(1, 0, ""),
			d = new BkRadioButton(g.description);
		d.setData(g);
		d.x = f.x + 50;
		d.y = e.y;
		this.T(d);
		g = new BkSprite("#icon_sound_off.png");
		g.x = d.x + 35;
		g.y = f.y;
		this.T(g);
		this.im = new BkRadioButtonGroup;
		e.Hf(this.im);
		d.Hf(this.im);
		1 == BkGlobal.Pf.es ? (this.im.ff(e), BkLogicManager.oa().oo = !0) : (this.im.ff(d), BkLogicManager.oa().oo = !1);
		f = new BkLabel("Hi\u1ec3n th\u1ecb chat",
			"Tahoma", 15);
		f.setTextColor(cc.color(255, 255, 255));
		f.x = c.x + 7;
		f.y = c.y - 35;
		this.T(f);
		var c = new BkRadioButtonData(2, 1, "B\u1eadt"),
			h = new BkRadioButton(c.description);
		h.setData(c);
		h.x = e.x;
		h.y = f.y - 12;
		this.T(h);
		c = new BkRadioButtonData(3, 0, "T\u1eaft");
		g = new BkRadioButton(c.description);
		g.setData(c);
		g.x = d.x;
		g.y = h.y;
		this.T(g);
		this.gm = new BkRadioButtonGroup;
		h.Hf(this.gm);
		g.Hf(this.gm);
		1 == BkGlobal.Pf.co ? this.gm.ff(h) : this.gm.ff(g);
		if (BkGlobal.ja != K && BkGlobal.ja != L) {
			g = getMaxPlayer(BkGlobal.ja);
			0 == BkLogicManager.oa().cj &&
				(BkLogicManager.oa().cj = g);
			if (0 < g) {
				var k = new BkLabel("S\u1ed1 ng\u01b0\u1eddi ch\u01a1i", "Tahoma", 15);
				k.setTextColor(cc.color(255, 255, 255));
				k.x = f.x;
				k.y = f.y - 35;
				this.T(k);
				var m = new BkRadioButtonData(4, 2, "2"),
					c = new BkRadioButton(m.description);
				c.setData(m);
				c.x = h.x;
				c.y = k.y - 8;
				this.T(c);
				m = new BkRadioButtonData(5, 3, "3");
				h = new BkRadioButton(m.description);
				h.setData(m);
				h.x = c.x + 85;
				h.y = c.y;
				this.T(h);
				var r = new BkRadioButtonData(6, 4, "4"),
					m = new BkRadioButton(r.description);
				m.setData(r);
				m.x = h.x + 85;
				m.y = c.y;
				this.T(m);
				this.Be = new BkRadioButtonGroup;
				c.Hf(this.Be);
				h.Hf(this.Be);
				m.Hf(this.Be);
				if (4 < g) {
					h.x = c.x + 60;
					m.x = h.x + 60;
					var w = new BkRadioButtonData(7, 5, "5"),
						C = new BkRadioButton(w.description);
					C.setData(w);
					C.x = m.x + 60;
					C.y = c.y;
					this.T(C);
					g = new BkRadioButtonData(8, 6, "6");
					w = new BkRadioButton(g.description);
					w.setData(g);
					w.x = C.x + 60;
					w.y = c.y;
					this.T(w);
					C.Hf(this.Be);
					w.Hf(this.Be)
				}
				switch (BkLogicManager.oa().cj) {
					case 2:
						this.Be.ff(c);
						break;
					case 3:
						this.Be.ff(h);
						break;
					case 4:
						this.Be.ff(m);
						break;
					case 5:
						this.Be.ff(C);
						break;
					case 6:
						this.Be.ff(w);
						break;
					default:
						this.Be.ff(m)
				}
			}
			C = new BkLabel("M\u1eadt kh\u1ea9u b\u00e0n", "Tahoma", 15);
			C.setTextColor(cc.color(255, 255, 255));
			C.x = f.x;
			C.y = k.y - 35;
			this.T(C);
			w = new BkRadioButtonData(9, 1, "C\u00f3");
			k = new BkRadioButton(w.description);
			k.setData(w);
			k.x = e.x;
			k.y = C.y - 8;
			this.T(k);
			this.zd = createEditBox(cc.size(180, 35), "edit_text.png");
			this.zd.setFontColor(zj);
			this.zd.setPlaceholderFontColor(Aj);
			this.zd.setMaxLength(20);
			this.zd.x = k.x + 150;
			this.zd.y = k.y + 8 + 0.5;
			this.T(this.zd);
			w = new BkRadioButtonData(10, 0, "Kh\u00f4ng");
			c = new BkRadioButton(w.description);
			c.setData(w);
			c.x = k.x;
			c.y = C.y - 43;
			this.T(c);
			this.bh = new BkRadioButtonGroup;
			k.Hf(this.bh);
			c.Hf(this.bh);
			"" == BkLogicManager.oa().gj ? (this.zd.setPlaceHolder("Nh\u1eadp m\u1eadt kh\u1ea9u..."), this.zd.setPlaceholderFontColor(Aj), this.bh.ff(c), this.zd.Lk(!0)) : (this.zd.setString(BkLogicManager.oa().gj), this.bh.ff(k), this.zd.Lk(!1));
			this.bh.O4(function() {
				1 == a.bh.En().getValue() ? a.zd.Lk(!1) : a.zd.Lk(!0)
			});
			if (BkLogicManager.oa().Ub() || !BkLogicManager.oa().Ri())
				if (this.Be.fT(!1),
					BkLogicManager.oa().Ub() || !BkLogicManager.oa().Ri()) this.bh.fT(!1), this.zd.Lk(!0)
		}
		BkGlobal.ja == L && BkLogicManager.oa().Ri() && BkLogicManager.oa().Ib != GAME_STATE_PLAYING && (k = new BkLabel("L\u1eadt qu\u00e2n \u0103n", "Tahoma", 15), k.setTextColor(cc.color(255, 255, 255)), k.x = k.getContentSize().width / 2 + 2 * WD_BODY_MARGIN_LR, k.y = f.y - 35, this.T(k), C = new BkRadioButtonData(0, 1, "C\u00f3"), f = new BkRadioButton(C.description), f.setData(C), f.x = e.x, f.y = k.y - 12, this.T(f), e = new BkRadioButtonData(1, 0, "Kh\u00f4ng"), k = new BkRadioButton(e.description),
			k.setData(e), k.x = d.x, k.y = f.y, this.T(k), this.hm = new BkRadioButtonGroup, f.Hf(this.hm), k.Hf(this.hm), 1 == F(D.rU) ? this.hm.ff(f) : this.hm.ff(k));
		d = new cc.DrawNode;
		d.drawRect(cc.p(0, 0), cc.p(this.Aj.width, 50), wj, 0, vj);
		d.x = WD_BODY_MARGIN_LR;
		d.y = 0;
		d = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png", "btn_no_text.png", "btn_no_text_press.png", "Thi\u1ebft l\u1eadp", b.width / 2, b.height / 2);
		d.x = this.ab().width / 2 - 50;
		d.y = WD_BODY_MARGIN_TB + 5;
		this.T(d);
		d.addClickEventListener(function() {
			var b = a.gm.En(),
				c = a.im.En();
			null != b ? BkGlobal.Pf.co = b.getValue() : logMessage("chatRadioSelected \x3d\x3d null -\x3e check loi");
			null != c ? BkGlobal.Pf.es = c.getValue() : logMessage("soundRadioSelected \x3d\x3d null -\x3e check loi");
			BkUserClientSettings.QV();
			getCurrentScene().ZV(BkGlobal.Pf.co);
			1 == BkGlobal.Pf.es ? BkLogicManager.oa().oo = !0 : BkLogicManager.oa().oo = !1;
			if (BkGlobal.ja != K && BkGlobal.ja != L)
				if (b = a.Be.En().getValue(), b >= BkLogicManager.oa().ga.length) {
					BkLogicManager.oa().cj = b;
					a.zd.getString();
					if (1 == a.bh.En().getValue())
						if ("" != a.zd.getString()) BkLogicManager.oa().gj =
							a.zd.getString();
						else {
							showToastMessage("M\u1eadt kh\u1ea9u b\u00e0n kh\u00f4ng h\u1ee3p l\u1ec7", WINDOW_WIDTH / 2, WINDOW_HEIGHT / 3 + 5, null, 200);
							return
						}
					else BkLogicManager.oa().gj = "";
					c = BkLogicManager.oa().Ee;
					BkLogicManager.oa().BT(c, b, BkLogicManager.oa().gj)
				} else {
					showToastMessage("B\u1ea1n kh\u00f4ng th\u1ec3 c\u00e0i \u0111\u1eb7t s\u1ed1 ng\u01b0\u1eddi ch\u01a1i t\u1ed1i \u0111a \u00edt h\u01a1n s\u1ed1 ng\u01b0\u1eddi ch\u01a1i hi\u1ec7n t\u1ea1i \u1edf trong b\u00e0n.");
					return
				} BkGlobal.ja == L && BkLogicManager.oa().Ri() &&
				(c = BkLogicManager.oa().Ee, a.hm && BkLogicManager.oa().CP(c, a.hm.En().getValue()));
			a.removeSelf()
		});
		b = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png", "btn_no_text.png", "btn_no_text_press.png", "B\u1ecf qua", b.width / 2, b.height / 2);
		b.x = d.x + d.width / 2 + 50;
		b.y = d.y;
		this.T(b);
		b.addClickEventListener(function() {
			a.removeSelf()
		})
	}
});
var Qn = 0,
	Z = 0,
	Rn = 6,
	Sn = 2,
	Tn = 0,
	Un = 0;
BkChatEmoLayer = cc.Layer.extend({
	background: null,
	fd: null,
	rN: !1,
	RI: null,
	dk: null,
	spriteFrameCache: cc.spriteFrameCache,
	ctor: function() {
		this._super();
		Z = 0.2 * cc.winSize.height;
		Tn = 0.07 * cc.winSize.height;
		this.oz();
		var a = cc.winSize.width,
			b = cc.winSize.height;
		Un = 0;
		isWebPlatform() ? (Qn = 200, Rn = 3, Sn = 4, Z = 0.5 * WINDOW_HEIGHT, Tn = Z / Sn / 1.5, Un = 60) : (Qn = cc.winSize.width, Rn = 6, Sn = 2, cc.sys.os == cc.sys.OS_IOS && (Sn = 4));
		this.DA();
		this.Du(a, b);
		this.IA();
		this.dk = this.Jz();
		this.qP()
	},
	IA: function() {
		this.spriteFrameCache.addSpriteFrames(res.an, res.Qn);
		for (var a = Sn * Rn, b = 1; b <= a; b++) {
			var c = "expression" + b + ".png",
				d = !1;
			b == Rn && (isWebPlatform() || cc.sys.os == cc.sys.OS_IOS || (d = !0));
			c = new BkEmoItem(this.spriteFrameCache.getSpriteFrame(c), b, this, d);
			this.addChild(c)
		}
	},
	Du: function(a, b) {
		var c = "box_quanan.png";
		isWebPlatform() || (c = "khungchat.png");
		this.background = new BkSprite("#" + c);
		this.background.setScaleX(isWebPlatform() ? 1 : a / this.background.getContentSize().width);
		this.background.setScaleY(Z / this.background.getContentSize().height);
		this.background.y = Z / 2 - b / 2 +
			Un;
		this.addChild(this.background)
	},
	DA: function() {
		var a = cc.winSize.width,
			b = cc.winSize.height;
		this.fd = new BkSprite(res.Vr);
		this.fd.setScaleX(a / this.fd.getContentSize().width);
		this.fd.setScaleY(b / this.fd.getContentSize().height);
		this.fd.opacity = 0;
		this.fd.setVisible(!0);
		this.fd.x = Qn / 2 - cc.winSize.width / 2;
		this.fd.y = 0;
		this.addChild(this.fd);
		this.NG()
	},
	SE: function(a) {
		this.fd && (this.fd.y = 1.8 * a)
	},
	oz: function() {},
	$0: function(a) {
		var b = cc.rect(0, Z, Qn, 0.8 * cc.winSize.height - Z);
		return cc.rectContainsPoint(b, a) ? !0 :
			!1
	},
	NG: function() {
		var a = this;
		a.rN = !1;
		this.fd.Ua(function() {
			a.Jo()
		})
	},
	MR: function() {
		cc.eventManager.removeListener(this.RI)
	},
	Jo: function() {
		this.MR();
		this.removeFromParent();
		this.mS();
		this.Jz().EC()
	},
	Jz: function() {
		var a = getCurrentScene();
		return a instanceof nb ? a.ka() : null
	},
	qP: function() {
		null != this.dk && cc.eventManager.pauseTarget(this.dk, !0)
	},
	mS: function() {
		null != this.dk && cc.eventManager.resumeTarget(this.dk, !0)
	},
	hU: function() {
		logMessage("showMoreEmoItem");
		this.Jo();
		var a = Ud - 1,
			b = new BkFullEmoLayer;
		if (cc.sys.os ==
			cc.sys.OS_IOS) {
			var c = 0.43 * cc.winSize.height;
			b.SE(c);
			b.y = c
		}
		getCurrentScene().addChild(b, a)
	}
});
BkFullEmoLayer = BkChatEmoLayer.extend({
	ctor: function() {
		this._super()
	},
	Du: function(a) {
		var b = cc.spriteFrameCache.getSpriteFrame("khungchat.png"),
			c = cc.rect(250, 77, 250, 78);
		this.background = new cc.Scale9Sprite(b, c);
		this.background.width = a;
		this.background.height = Z;
		this.background.x = a / 2;
		this.background.y = Z / 2;
		this.addChild(this.background);
		this.fd.x = cc.winSize.width / 2;
		this.fd.y = cc.winSize.height / 2
	},
	DA: function() {
		Z = 0.38 * cc.winSize.height;
		Sn = 4;
		this._super()
	},
	IA: function() {
		this.spriteFrameCache.addSpriteFrames(res.an,
			res.Qn);
		for (var a = Sn * Rn, b = 1; b <= a; b++) {
			var c = new BkEmoItem(this.spriteFrameCache.getSpriteFrame("expression" + b + ".png"), b, this, !1);
			this.addChild(c)
		}
	}
});
BkEmoItem = BkSprite.extend({
	parentNode: null,
	zl: null,
	Wc: null,
	Mp: !1,
	fv: !1,
	ctor: function(a, b, c, d) {
		this._super();
		this.zl = b;
		this.parentNode = c;
		this.fv = d;
		var e = this;
		this.Wc = new BkSprite(a);
		this.fv && (this.Wc = new BkSprite("#more_item_chat.png"));
		this.Wc.setScale(Tn / this.Wc.getContentSize().height);
		this.addChild(this.Wc);
		this.Wc.Ua(function() {
			e.Gv(b)
		});
		this.Wd(b)
	},
	Wd: function(a) {
		var b = Math.floor((a - 1) / Rn);
		a = (a - 1) % Rn;
		var c = this.Wc.getBoundingBox().width,
			d = Tn,
			e = (Qn - Rn * c) / (Rn + 1),
			f = (Z - Sn * d) / (Sn + 1),
			g = 0.5 * -Qn + 0.5 *
			c + e,
			h = this.parentNode.background.y - Z / 2 + 0.5 * d + f;
		isWebPlatform() || (f = 0.05 * Z, cc.sys.os == cc.sys.OS_IOS && (f = 0.02 * Z), g = 0.5 * c + e, h = this.parentNode.background.y - (Z / 2 - 0.5 * d - f));
		this.Wc.x = g + a * (c + e);
		this.Wc.y = h + b * (d + f)
	},
	Gv: function(a) {
		this.fv ? this.parentNode.hU() : this.ol(Dl(a - 1))
	},
	ol: function(a) {
		BkLogicManager.oa().cr = J();
		var b = new BkPacket;
		b.aq(a);
		BkConnectionManager.send(b);
		this.parentNode.Jo()
	}
});
BkQuickTextItem = BkSprite.extend({
	Eq: null,
	parentNode: null,
	ctor: function(a, b) {
		this._super();
		this.Eq = a;
		this.parentNode = b;
		var c = new cc.SpriteBatchNode("Chess_toast.png");
		this.background = new cc.Scale9Sprite;
		this.background.updateWithBatchNode(c, cc.rect(0, 0, 37, 38), !1, cc.rect(12, 12, 12, 12));
		this.addChild(this.background);
		this.Ea = new BkLabel(this.hA(), "", 30);
		this.Ea.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.Ea.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		var d = GAME_SCALE;
		this.Ea.setScale(GAME_SCALE);
		this.Ea.setTextColor(cc.color.WHITE);
		var e = 0.004 * cc.winSize.height,
			c = 0.45 * cc.winSize.width;
		this.Ea.boundingWidth = c / d;
		this.addChild(this.Ea);
		d = this.Ea.getBoundingBox().height + 2 * e;
		e = 0.045 * cc.winSize.height;
		d < e && (d = e);
		this.background.width = c;
		this.background.height = d;
		var f = this,
			e = new BkSprite("Chess_toast.png");
		e.width = c;
		e.height = d;
		e.setVisible(!1);
		this.addChild(e);
		e.Ua(function() {
			f.parentNode.yD(f.hA())
		});
		this.Wd()
	},
	hA: function() {
		switch (this.Eq) {
			case 1:
				return "Thua \u0111i b\u00e1c.";
			case 2:
				return "N\u01b0\u1edbc \u0111\u00f3 r\u1ea5t cao.";
			case 3:
				return "Nhanh \u0111i l\u00e2u v\u1eady.";
			case 4:
				return "L\u00e0m v\u00e1n n\u1eefa nh\u00e9.";
			case 5:
				return "Ch\u01a1i hay ngh\u1ec9 \u0111\u00e2y?";
			case 6:
				return "Xin \u0111\u01b0\u1ee3c ch\u1ec9 gi\u00e1o.";
			case 7:
				return "M\u1edf qu\u00e2n \u0111\u1ecf th\u1ebf.";
			case 8:
				return "C\u00e1c h\u1ea1 qu\u00e1 khen."
		}
		return "Xin ch\u00e0o!"
	},
	Wd: function() {
		var a = 0.73 * cc.winSize.width,
			b = 0.27 * cc.winSize.width,
			c = this.parentNode.Nf.y - 0.5 * this.parentNode.Nf.getBoundingBox().height,
			d = 1.1 * this.background.height,
			e = Math.floor((this.Eq + 1) / 2);
		this.x = 1 == this.Eq % 2 ? a : b;
		this.y = c - e * d
	}
});
BkChatLayerMobile = BkChatEmoLayer.extend({
	Nf: null,
	ctor: function() {
		logMessage("BkChatLayerMobile");
		this._super();
		this.ZL();
		this.CM()
	},
	CM: function() {
		for (var a = 1; 9 > a; a++) {
			var b = new BkQuickTextItem(a, this);
			this.addChild(b)
		}
	},
	oz: function() {
		Z = 0.5 * cc.winSize.height;
		cc.sys.os == cc.sys.OS_IOS && (Z = 0.65 * cc.winSize.height)
	},
	Du: function(a) {
		var b = cc.spriteFrameCache.getSpriteFrame("khungchat.png"),
			c = cc.rect(250, 77, 250, 78);
		this.background = new cc.Scale9Sprite(b, c);
		this.background.width = a;
		this.background.height = Z;
		this.background.x =
			a / 2;
		this.background.y = Z / 2;
		this.addChild(this.background);
		this.fd.x = cc.winSize.width / 2;
		this.fd.y = cc.winSize.height / 2
	},
	ZL: function() {
		var a = cc.size(Qn, Z),
			b = 0.7 * a.width,
			c = 0.1 * a.height;
		cc.sys.os == cc.sys.OS_IOS && (c = 0.08 * a.height);
		a = res.Vt;
		this.Nf = createEditBox(cc.size(b, c), a);
		this.Nf.x = 0.55 * b;
		this.Nf.y = Z - c;
		isFBInstantGame() && (this.Nf.setFontSize(0.4 * c), this.Nf.stayOnTop(!0), cc.sys.os != cc.sys.OS_IOS && (c = new An(this, 400), this.Nf.setDelegate(c)));
		this.addChild(this.Nf);
		c = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE);
		c.setScale(0.8 * GAME_SCALE);
		c.x = this.Nf.x + 0.5 * b + c.getContentSize().width * GAME_SCALE * 0.5;
		c.y = this.Nf.y;
		logMessage("btnAction.x: " + c.x + " btnAction.y: " + c.y);
		c.setTitleText("G\u1eedi");
		c.setTitleFontName(ma());
		c.setTitleFontSize(31);
		c.setTitleColor(cc.color(71, 44, 27));
		c.getTitleRenderer().y += 0.1 * c.getBoundingBox().height;
		this.addChild(c);
		var d = this;
		c.addClickEventListener(function() {
			d.yD(d.Nf.getString())
		})
	},
	yD: function(a) {
		a = a.replace(/\n/g, "");
		logMessage("sendChatMessage: " + a);
		BkLogicManager.oa().cr =
			J();
		var b = new BkPacket;
		b.aq(a);
		BkConnectionManager.send(b);
		this.Jo()
	}
});
BkChatContentLayer = cc.Layer.extend({
	ctor: function() {
		this._super();
		this.Hu()
	},
	Hu: function() {
		var a = cc.winSize.height,
			b = cc.winSize.width,
			c = 0.2 * a;
		this.V = new Cn;
		this.V.setDirection(ccui.ScrollView.DIR_VERTICAL);
		this.V.setTouchEnabled(!0);
		this.V.setBounceEnabled(!0);
		this.V.setItemsMargin(10);
		var d = 0.95 * b;
		this.V.setContentSize(cc.size(d, c));
		this.V.x = (b - d) / 2;
		this.V.y = a - c;
		this.addChild(this.V);
		this.V.setItemModel(this.yq())
	},
	Zj: function() {
		return this.V.getContentSize().width
	},
	yq: function() {
		var a = bkFontSizeUtil(30);
		isFBInstantGame() && FBInstant.Rz().toLowerCase().zA("web") && (a = 25);
		a = new BkLabel("aaaaaaaaaaaaaaaaaaaaaaaa", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa", a);
		a.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
		a.setScale(GAME_SCALE);
		a.setTextColor(cc.color.WHITE);
		var b = this.Zj();
		a.boundingWidth = 0.9 * b;
		return a
	},
	dt: function(a) {
		var b = this.yq().clone();
		b.setString(a);
		this.Zj();
		a = this.Zj();
		b.boundingWidth = 0.9 * a;
		b.x = 0.5 * a;
		this.V.pushBackCustomItem(b);
		this.V.jumpToBottom()
	}
});
CHAT_MSG_DISPLAY_DOWN = 0;
CHAT_MSG_DISPLAY_UP = 1;
CHAT_MSG_ROW_HEIGH = 15;
CHAT_QUICK_TEXT_ROW_HEIGH = 22;
CHAT_OPEN_WIDTH = 205;
CHAT_OPEN_HEIGH = 160;
CHAT_BG_COLOR = cc.color(11, 10, 47, 100);
CHAT_POPUP_BG_COLOR = cc.color(132, 97, 68, 255);
CHAT_BG_COLOR_BORDER = cc.color(1, 14, 78, 50);
CHAT_PLACE_HOLDER_TEXT = " Nh\u1eadp n\u1ed9i dung chat ...";
var sb = cc.Layer.extend({
	Jd: null,
	nb: null,
	Zc: null,
	vh: null,
	Xf: null,
	Ae: null,
	aw: null,
	kg: null,
	$v: null,
	Vm: null,
	Wm: null,
	$X: null,
	ml: CHAT_MSG_DISPLAY_DOWN,
	gq: null,
	$m: 0,
	Wp: 0,
	ho: !1,
	yy: "Thua \u0111i b\u00e1c.;N\u01b0\u1edbc \u0111\u00f3 r\u1ea5t cao.;Nhanh \u0111i l\u00e2u v\u1eady.;L\u00e0m v\u00e1n n\u1eefa nh\u00e9.;Ch\u01a1i hay ngh\u1ec9 \u0111\u00e2y?;Xin \u0111\u01b0\u1ee3c ch\u1ec9 gi\u00e1o.;M\u1edf qu\u00e2n \u0111\u1ecf th\u1ebf.;C\u00e1c h\u1ea1 qu\u00e1 khen.;K\u1ebft b\u1ea1n \u0111i, mai ch\u01a1i ti\u1ebfp!".split(";"),
	ctor: function(a,
		b) {
		this._super();
		a && (this.ml = a);
		b && (this.ho = b);
		this.$J(this.ho);
		this.BM();
		this.DM(this.ho);
		this.lV()
	},
	$J: function() {
		var a = this;
		this.nb = new BkSprite("#chat_bg_mini.png");
		this.addChild(this.nb, -1);
		this.oe = new BkButton("icon_chat_text.png", "icon_chat_text.png", "icon_chat_text.png", "icon_chat_text_hover.png", ccui.Widget.PLIST_TEXTURE);
		this.oe.x = this.oe.width / 2 + 8;
		this.oe.y = this.nb.height / 2 - 0.5;
		this.oe.addTouchEventListener(function(b, d) {
			switch (d) {
				case ccui.Widget.TOUCH_BEGAN:
					return a.pO(), !0
			}
		}, this);
		this.nb.addChild(this.oe,
			WD_ZORDER_TOP);
		this.Wf = new BkButton("chat_icon_smile.png", "chat_icon_smile.png", "chat_icon_smile.png", "chat_icon_smile_hover.png", ccui.Widget.PLIST_TEXTURE);
		this.Wf.x = Math.floor(this.oe.x + this.oe.width + this.Wf.width / 2);
		this.Wf.y = this.oe.y;
		this.Wf.addTouchEventListener(function(b, d) {
			switch (d) {
				case ccui.Widget.TOUCH_BEGAN:
					return a.oO(), !0
			}
		}, this);
		this.nb.addChild(this.Wf, WD_ZORDER_TOP);
		this.Xf = new BkButton("chess_chat_icon_up.png", "chess_chat_icon_up.png", "chess_chat_icon_up.png", "chat_icon_up_hover.png",
			ccui.Widget.PLIST_TEXTURE);
		this.Xf.addTouchEventListener(function(b, d) {
			switch (d) {
				case ccui.Widget.TOUCH_BEGAN:
					a.qO()
			}
		}, this);
		this.addChild(this.Xf, WD_ZORDER_TOP);
		var b = this.oe.width + this.Wf.width,
			b = this.nb.getContentSize().width + (this.ho ? 4 : 0) - b;
		this.Zc = createEditBox(cc.size(b, this.nb.height));
		this.Zc.setPlaceHolder(CHAT_PLACE_HOLDER_TEXT);
		this.Zc.setInputFlag(cc.EDITBOX_INPUT_FLAG_SENSITIVE);
		this.Zc.setMaxLength(250);
		this.Zc.setPlaceholderFontSize(14);
		this.Zc.setFontColor(cc.color(255, 255, 255));
		this.Zc.setFontSize(14);
		this.Zc.attr({
			fontName: "Roboto-Regular",
			KX: cc.TEXT_ALIGNMENT_LEFT,
			x: this.oe.width + this.Wf.width + 25,
			y: this.Zc.height / 2,
			anchorX: 0,
			anchorY: 0.5
		});
		this.nb.addChild(this.Zc);
		cc.eventManager.addListener({
			event: cc.EventListener.KEYBOARD,
			onKeyReleased: function(b, d) {
				b == cc.KEY.enter && a.MO(d, a.Zc.getString())
			}
		}, this.Zc);
		this.Jd = new cc.DrawNode;
		this.Jd.drawRect(cc.p(this.$m, this.Wp), cc.p(CHAT_OPEN_WIDTH, CHAT_OPEN_HEIGH), CHAT_BG_COLOR, 1, CHAT_BG_COLOR_BORDER);
		this.Jd.setContentSize(CHAT_OPEN_WIDTH, CHAT_OPEN_HEIGH);
		this.Jd.anchorY = 0.5;
		this.Jd.x = -this.nb.width / 2;
		this.Jd.y = this.nb.height - this.Wp;
		this.addChild(this.Jd, -1);
		this.vh = new BkWebChatContentLayer(CHAT_OPEN_WIDTH, CHAT_OPEN_HEIGH);
		this.vh.x = -CHAT_OPEN_WIDTH / 2;
		this.vh.y = -CHAT_OPEN_HEIGH / 2 + this.nb.height;
		this.addChild(this.vh, -1);
		this.vh.setVisible(!0);
		this.Rk()
	},
	lV: function() {
		this.oe.x = this.nb.width - this.oe.width - 24;
		this.oe.y = this.oe.y;
		this.Wf.x = this.nb.width - this.Wf.width / 2 - 8;
		this.Wf.y += 0.5;
		this.Zc.x = 0;
		this.Zc.y += 0.5
	},
	MO: function(a, b) {
		logMessage("Enter key");
		this.ol(b);
		this.Zc.setString("")
	},
	NV: function(a, b) {
		this.$R(a, b)
	},
	$R: function(a, b) {
		if (null != this.vh) {
			var c = pl(b, 15) + ": " + a;
			b == BkGlobal.P.userName && (c = "B\u1ea1n: " + a);
			this.vh.dt(c)
		}
	},
	Rk: function(a) {
		void 0 != a && (this.ml = a);
		this.ml == CHAT_MSG_DISPLAY_UP ? (this.x = cc.winSize.width - this.Jd.width / 2 - 2, this.y = this.Jd.height / 2 + 2, this.nb.x = this.$m, this.nb.y = this.nb.height / 2 - CHAT_OPEN_HEIGH / 2 + this.Wp, this.Xf.loadTextures("chess_chat_icon_down.png", "chess_chat_icon_down.png", "chess_chat_icon_down.png", "chess_chat_icon_down.png",
			ccui.Widget.PLIST_TEXTURE), this.Xf.x = this.Jd.getContentSize().width / 2 - this.Xf.getContentSize().width / 2, this.Xf.y = -32, this.Jd.setVisible(!0), this.vh.setVisible(!0)) : (this.x = cc.winSize.width - this.Jd.width / 2 - 2, this.y = 2, this.nb.y = this.nb.height / 2 + this.Wp, this.nb.x = this.$m, this.Xf.loadTextures("chess_chat_icon_up.png", "chess_chat_icon_up.png", "chess_chat_icon_up.png", "chess_chat_icon_up.png", ccui.Widget.PLIST_TEXTURE), this.Xf.x = this.Jd.getContentSize().width / 2 - this.Xf.getContentSize().width / 2, this.Xf.y =
			46, this.Jd.setVisible(!1), this.vh.setVisible(!1));
		this.nb.setVisible(!0)
	},
	pO: function() {
		this.FD();
		this.sJ()
	},
	oO: function() {
		this.FD();
		this.It()
	},
	qO: function() {
		this.Lo();
		this.Gr();
		var a = 0;
		this.ml == CHAT_MSG_DISPLAY_UP ? (this.Rk(CHAT_MSG_DISPLAY_DOWN), a = 0) : (this.Rk(CHAT_MSG_DISPLAY_UP), a = 1);
		u("chatSetting", void 0 === a ? 1 : a)
	},
	ol: function(a) {
		BkLogicManager.oa().cr = J();
		var b = new BkPacket;
		b.aq(a);
		BkConnectionManager.send(b)
	},
	BM: function() {
		this.Ae = new BkSprite;
		this.addChild(this.Ae, WD_ZORDER_TOP);
		this.AM()
	},
	sJ: function() {
		this.Lo();
		if (this.Wm) this.Wm = !1, this.jm();
		else {
			var a = 220,
				b = new cc.DrawNode;
			b.drawRect(cc.p(0, 0), cc.p(CHAT_OPEN_WIDTH, a), CHAT_BG_COLOR, 0, CHAT_BG_COLOR_BORDER);
			b.x = -this.nb.width;
			b.y = CHAT_QUICK_TEXT_ROW_HEIGH / 2;
			this.Ae.addChild(b, -1);
			var c = new cc.DrawNode;
			c.drawRect(cc.p(0, 0), cc.p(20, this.nb.height), cc.color(0, 0, 0, 0), 0, cc.color(0, 0, 0, 0));
			c.x = b.x;
			c.y = -this.nb.height;
			this.Ae.addChild(c, -1);
			for (b = 0; b < this.yy.length; b++) c = new BkWebQuickTextItem(this.yy[b], this), c.x = 0, c.y = a, a -= CHAT_QUICK_TEXT_ROW_HEIGH,
				this.Ae.addChild(c);
			this.Ae.setVisible(!0);
			this.Ae.setContentSize(cc.size(this.nb.width, a));
			this.Ae.x = this.Ae.width + this.$m;
			this.Ae.y = this.nb.height - 1;
			cc.eventManager.addListener(this.aw, this.Ae);
			this.Wm = !0;
			this.Vm = !1
		}
	},
	Lo: function() {
		this.Gr();
		0 < this.Ae.getChildren().length && (this.Ae.setVisible(!1), cc.eventManager.removeListener(this.aw), this.Ae.removeAllChildren(), logMessage("removeQuickChatItem"))
	},
	AM: function() {
		var a = this;
		this.aw = cc.EventListener.create({
			event: cc.EventListener.MOUSE,
			onMouseMove: function(b) {
				var c =
					b.getLocation();
				b = b.getCurrentTarget();
				cc.rectContainsPoint(b.getBoundingBoxToWorld(), c) || (a.Lo(), a.jm())
			}
		})
	},
	DM: function() {
		var a = this.Jd.height;
		this.kg = new BkQuickEmotionsSprite(this);
		this.addChild(this.kg, WD_ZORDER_TOP);
		this.kg.setContentSize(cc.size(this.Jd.width, a));
		this.kg.x = this.$m;
		this.kg.y = this.kg.height / 2 + 32;
		var b = this;
		this.$v = cc.EventListener.create({
			event: cc.EventListener.MOUSE,
			onMouseMove: function(a) {
				var d = a.getLocation();
				a = a.getCurrentTarget();
				cc.rectContainsPoint(a.getBoundingBoxToWorld(),
					d) || (b.Gr(), b.jm())
			}
		})
	},
	It: function() {
		this.Lo();
		this.Vm ? (this.Vm = !1, this.jm()) : (this.kg.It(), this.kg.setVisible(!0), this.Vm = !0, this.Wm = !1, cc.eventManager.addListener(this.$v, this.kg))
	},
	Gr: function() {
		0 < this.kg.getChildren().length && (this.kg.oD(), cc.eventManager.removeListener(this.$v), logMessage("removeQuickEmoList"))
	},
	qY: function() {
		this.Zc.setString("");
		this.Zc.setPlaceHolder("")
	},
	FD: function() {
		this.ml == CHAT_MSG_DISPLAY_UP && (this.gq = this.ml, this.Rk(CHAT_MSG_DISPLAY_DOWN))
	},
	jm: function() {
		cc._canvas.style.cursor =
			"default";
		this.Vm = this.Wm = !1;
		this.gq == CHAT_MSG_DISPLAY_UP && (this.gq = null, this.Rk(CHAT_MSG_DISPLAY_UP))
	},
	onExit: function() {
		this._super()
	}
});
BkWebQuickTextItem = BkSprite.extend({
	parentNode: null,
	ctor: function(a, b) {
		this._super();
		this.parentNode = b;
		this.setContentSize(this.parentNode.nb.width, CHAT_QUICK_TEXT_ROW_HEIGH / 2);
		var c = this,
			d = new cc.DrawNode;
		d.drawRect(cc.p(0, -10), cc.p(this.parentNode.nb.width, 10), cc.color(5, 61, 118, 140), 1, cc.color(5, 61, 118, 140));
		d.x = -this.parentNode.nb.width / 2;
		this.addChild(d, -1);
		d.visible = !1;
		var e = new BkLabel(a, "Tahoma", "15");
		e.setTextColor(cc.color(214, 216, 221));
		this.addChild(e);
		this.ad(function() {
				d.setVisible(!0)
			},
			function() {
				d.setVisible(!1)
			});
		cc.eventManager.addListener({
			event: cc.EventListener.TOUCH_ONE_BY_ONE,
			swallowTouches: !0,
			onTouchBegan: function() {
				d.isVisible() && c.rO(a);
				return !1
			}
		}, d)
	},
	rO: function(a) {
		this.parentNode.ol(a);
		this.parentNode.Lo();
		this.parentNode.jm()
	}
});
BkWebChatContentLayer = cc.Layer.extend({
	Pt: !1,
	ctor: function(a, b) {
		this._super();
		this.Hu(a, b)
	},
	Hu: function(a, b) {
		this.V = new Cn;
		this.V.setDirection(ccui.ScrollView.DIR_VERTICAL);
		this.V.setBounceEnabled(!0);
		this.V.setScrollBarEnabled(!0);
		this.V.setScrollBarAutoHideEnabled(!1);
		this.V.setContentSize(cc.size(a, b));
		this.addChild(this.V);
		this.V.setItemModel(this.yq())
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		this.V.forceDoLayout();
		this.V.jumpToTop()
	},
	Zj: function() {
		return this.V.getContentSize().width -
			5
	},
	yq: function() {
		return new Deafault_item_chat_lv(this.Zj())
	},
	dt: function(a) {
		this.Pt = this.Pt ? !1 : !0;
		var b = new Deafault_item_chat_lv(this.Zj(), this.Pt);
		b.setText(a);
		b.x = this.Zj() / 2;
		this.V.pushBackCustomItem(b);
		this.V.jumpToBottom()
	}
});
Deafault_item_chat_lv = ccui.Layout.extend({
	Ld: null,
	zv: 0,
	ctor: function(a) {
		this.zv = a;
		this._super();
		this.Ld = new cc.LabelTTF("", "", 14);
		this.Ld.setVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.Ld.setHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
		var b = cc.color(236, 240, 241);
		this.Ld.setFontFillColor(b);
		this.Ld.setContentSize(cc.size(a, 0));
		this.Ld.setDimensions(cc.size(a, 0));
		this.Ld.x = a / 2;
		this.setTouchEnabled(!0);
		this.setContentSize(this.Ld.getContentSize());
		this.width = a;
		this.addChild(this.Ld)
	},
	setText: function(a) {
		this.Ld.setString(a);
		a = this.Ld.getBoundingBox().height;
		logMessage("textHei: " + a + " - " + this.Ld.getContentSize().height);
		a = cc.size(this.zv, this.Ld.getContentSize().height);
		this.setContentSize(a);
		this.Ld.x = this.zv / 2;
		this.Ld.y = this.Ld.getContentSize().height / 2
	}
});
CHAT_SMILE_TEXT_LENGTH = 24;
CHAT_SMILE_BG_VIEW_SIZE = 115;
BkQuickEmotionsSprite = BkSprite.extend({
	parentNode: null,
	spriteFrameCache: cc.spriteFrameCache,
	Uj: null,
	pv: null,
	nj: null,
	PB: null,
	bc: null,
	ctor: function(a) {
		this._super();
		this.parentNode = a;
		this.bc = new BkChatSettingByGame(12, 10, 15, 4, 30, 260, 20, res.an, res.Qn)
	},
	It: function() {
		this.oD();
		var a = "";
		this.spriteFrameCache.addSpriteFrames(this.bc.$w, this.bc.yE);
		var b = new cc.DrawNode;
		b.drawRect(cc.p(0, 0), cc.p(CHAT_OPEN_WIDTH, this.bc.Jc), CHAT_BG_COLOR, 2, CHAT_BG_COLOR_BORDER);
		b.x = 0;
		b.y = 0;
		this.addChild(b, -1);
		a = new cc.DrawNode;
		a.drawRect(cc.p(0, 0), cc.p(CHAT_SMILE_BG_VIEW_SIZE, CHAT_SMILE_BG_VIEW_SIZE), cc.color(CHAT_BG_COLOR.r, CHAT_BG_COLOR.g, CHAT_BG_COLOR.b, 100), 2, cc.color(CHAT_BG_COLOR.r, CHAT_BG_COLOR.g, CHAT_BG_COLOR.b, 110));
		a.x = b.x;
		a.y = this.bc.Jc + CHAT_SMILE_BG_VIEW_SIZE;
		for (b = 1; b <= CHAT_SMILE_TEXT_LENGTH; b++) a = "expression" + b + ".png", a = new BkEmotionsItem(this.spriteFrameCache.getSpriteFrame(a), b, this), this.addChild(a);
		b = new cc.DrawNode;
		b.drawRect(cc.p(0, 0), cc.p(this.parentNode.nb.width, this.parentNode.nb.height), cc.color(0,
			0, 0, 0), 0, cc.color(0, 0, 0, 0));
		b.y = -this.parentNode.nb.height;
		this.addChild(b, -1);
		this.uE(1)
	},
	oD: function() {
		this.setVisible(!1);
		this.removeAllChildren()
	},
	$O: function(a) {
		this.pv || (this.pv = !0, this.qD(), this.Uj = new BkChatEmoSprite(El(a)), this.addChild(this.Uj), this.Uj.x = this.nj.x, this.Uj.y = this.nj.y, this.Uj.OT())
	},
	KR: function() {
		this.pv = !1
	},
	uE: function(a) {
		this.qD();
		this.PB && this.PB.removeFromParent();
		a = El(a);
		cc.spriteFrameCache.addSpriteFrames(a.yb, a.zb);
		this.nj = new BkSprite("#" + a.Mn + "_1.png");
		this.addChild(this.nj);
		this.nj.x = CHAT_SMILE_BG_VIEW_SIZE / 2;
		this.nj.y = this.bc.Jc + CHAT_SMILE_BG_VIEW_SIZE / 2
	},
	lS: function() {
		this.parentNode.jm()
	},
	GR: function() {
		this.parentNode.Gr()
	},
	qD: function() {
		null != this.nj && this.nj.removeFromParent();
		this.Uj && this.Uj.LR()
	},
	onExit: function() {
		this.spriteFrameCache.removeSpriteFramesFromFile(this.bc.$w);
		this._super()
	}
});
BkEmotionsItem = BkSprite.extend({
	parentNode: null,
	zl: null,
	Pb: null,
	Wc: null,
	Mp: !1,
	bc: null,
	ctor: function(a, b, c) {
		function d() {
			e.parentNode.$O(e.zl);
			logMessage("self.idEmo:" + e.zl)
		}
		this._super();
		this.zl = b;
		this.parentNode = c;
		this.bc = this.parentNode.bc;
		this.x = this.bc.Yt;
		var e = this;
		this.Pb = new cc.DrawNode;
		this.Pb.drawRect(cc.p(-this.bc.Rm, -this.bc.Rm), cc.p(this.bc.Rm, this.bc.Rm), cc.color(255, 255, 255, 30), 1, cc.color(255, 255, 255, 30));
		this.addChild(this.Pb, -1);
		this.Pb.visible = !1;
		this.Wc = new BkSprite(a);
		this.addChild(this.Wc);
		this.Wc.ad(function() {
			e.Mp || (e.Mp = !0, e.Pb.setVisible(!0), e.parentNode.uE(e.zl), e.scheduleOnce(d, 0.8, "viewAniEmo"))
		}, function() {
			e.Pb.setVisible(!1);
			e.parentNode.KR();
			e.unschedule(d);
			e.Mp = !1
		});
		this.Wc.Ua(function() {
			e.Gv(b)
		});
		this.Wd(b)
	},
	Wd: function(a) {
		var b = Math.floor((a - 1) / this.bc.Dv);
		this.Wc.x = 2 * this.bc.qz + (a - 1) % this.bc.Dv * (this.bc.Xt + this.bc.Yt);
		this.Wc.y = 2 * this.bc.Wt + b * (this.bc.Xt + this.bc.Wt);
		this.Pb.x = this.Wc.x;
		this.Pb.y = this.Wc.y
	},
	Gv: function(a) {
		this.ol(Dl(a - 1));
		this.parentNode && (this.parentNode.setVisible(!1),
			this.parentNode.GR(), this.parentNode.lS())
	},
	ol: function(a) {
		BkLogicManager.oa().cr = J();
		var b = new BkPacket;
		b.aq(a);
		BkConnectionManager.send(b)
	}
});
BkChatSettingByGame = cc.Class.extend({
	Wt: null,
	qz: null,
	Yt: null,
	Dv: null,
	Xt: null,
	Jc: null,
	Rm: null,
	$w: null,
	yE: null,
	ctor: function(a, b, c, d, e, f, g, h, k) {
		this.Wt = a;
		this.qz = b;
		this.Yt = c;
		this.Dv = d;
		this.Xt = e;
		this.Jc = f;
		this.Rm = g;
		this.$w = h;
		this.yE = k
	}
});
FRIEND_ITEM_HEIGHT_SPRITE = 34;
FRIEND_ITEM_SCALE_BUTTON = 0.8;
FRIEND_ITEM_PADDING_Y = FRIEND_ITEM_PADDING_X = 20;
TEXT_OFFSET_NAME_LEVEL = TEXT_OFFSET_WITH_AVATAR = 10;
SELECT_OFFSET = 50;
AVATAR_FRIEND_WINDOW_HEIGHT = AVATAR_FRIEND_WINDOW_WIDTH = 34;
BkIngameInviteFriendItem = BkSprite.extend({
	parentNode: null,
	W: null,
	Fe: null,
	Pb: null,
	Re: null,
	Rf: null,
	xt: null,
	IB: 300,
	ctor: function(a, b, c, d, e) {
		this._super();
		this.IB = e;
		this.W = a;
		this.parentNode = c;
		this.rd(b, d);
		this.Ou()
	},
	rd: function(a, b) {
		if (b) {
			var c = new cc.DrawNode;
			c.drawSegment(cc.p(-15, FRIEND_ITEM_HEIGHT_SPRITE / 2), cc.p(this.parentNode.ab().width - 65, FRIEND_ITEM_HEIGHT_SPRITE / 2), 0.5, sj);
			this.addChild(c)
		}
		c = new cc.DrawNode;
		c.drawSegment(cc.p(-15, -FRIEND_ITEM_HEIGHT_SPRITE / 2), cc.p(this.parentNode.ab().width -
			65, -FRIEND_ITEM_HEIGHT_SPRITE / 2), 0.5, sj);
		this.addChild(c);
		this.Pb = new cc.DrawNode;
		this.Pb.drawRect(cc.p(-15, -FRIEND_ITEM_HEIGHT_SPRITE / 2), cc.p(this.parentNode.ab().width - 65, FRIEND_ITEM_HEIGHT_SPRITE / 2), rj, 0, rj);
		this.Pb.visible = !1;
		this.addChild(this.Pb);
		var d = hn(this.W.Hb);
		d.setScale(0.4);
		d.x = 5;
		d.y = 0;
		this.addChild(d, WD_ZORDER_TOP);
		c = new BkLabel(pl(this.W.userName, 16), "Arial", 16);
		c.setTextColor(uj);
		c.x = d.x + 20 + c.getContentSize().width / 2;
		c.y = 0;
		this.addChild(c);
		this.Re = new BkCheckBox;
		this.Re.x = this.IB -
			40;
		this.Re.y = c.y;
		var e = this;
		this.Re.addEventListener(function() {
			e.Re.setSelected(!e.Re.isSelected())
		});
		this.addChild(this.Re);
		d = new BkLabel(convertStringToMoneyFormat(this.W.pb()) + pn(), "Arial", 15);
		d.setTextColor(tj);
		d.x = this.Re.x - 50;
		d.y = c.y;
		this.addChild(d);
		this.Wd(a)
	},
	Wd: function(a) {
		this.x = 0;
		this.y = a - FRIEND_ITEM_HEIGHT_SPRITE
	},
	Ou: function() {
		var a = this;
		this.Rf = xb(function() {
			a.Pb.setVisible(!0)
		}, function() {
			a.Pb.setVisible(!1)
		}, function() {
			a.Pb.isVisible() && a.vO(a.W.userName)
		});
		cc.eventManager.addListener(this.Rf,
			this)
	},
	mT: function(a) {
		this.xt = a
	},
	vO: function() {
		null != this.Re && (this.Re.setSelected(!this.Re.isSelected()), null != this.xt && this.xt())
	},
	dF: function(a) {
		this.Re.setSelected(a)
	},
	isSelected: function() {
		return this.Re.isSelected()
	},
	od: function() {
		return this.W.userName
	}
});
BkGoldBoxSprite = BkSprite.extend({
	lm: null,
	sg: null,
	xc: 0,
	J0: !1,
	ctor: function() {
		function a() {
			if (0 < b.xc) showToastMessage("C\u00f2n " + convertSecondToMinSec(b.xc) + " B\u1ea1n m\u1edbi c\u00f3 th\u1ec3 nh\u1eadn qu\u00e0!", cc.winSize.width - 90, cc.winSize.height - 110, 3, 140);
			else {
				var a = new BkPacket;
				a.zc(gi);
				BkConnectionManager.send(a)
			}
		}
		this._super();
		this.km = new BkSprite("#btn_big_normal.png");
		this.km.opacity = 0;
		this.km.x += this.km.width / 4;
		this.addChild(this.km);
		this.lm = new BkSprite("#luckybox_close.png");
		this.addChild(this.lm);
		this.sg = new BkLabelTTF("00:00", "", 14, cc.size(0, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_TOP);
		this.sg.y += 0.5;
		this.sg.x = this.lm.x + this.lm.width + 1;
		this.addChild(this.sg);
		this.ad();
		var b = this;
		this.lm.Ua(a);
		this.km.Ua(a);
		this.setVisible(!1)
	},
	VT: function(a) {
		this.xc = a;
		1 > this.xc ? this.kE() : this.Xr()
	},
	fP: function() {
		this.sg._strokeEnabled ? this.sg.disableStroke() : this.sg.enableStroke(cc.color(255, 0, 0), 2)
	},
	kE: function() {
		this.sg.setString(convertSecondToMinSec(0));
		this.unschedule(this.wr);
		this.schedule(this.fP,
			0.5)
	},
	Xr: function() {
		this.sg.setString(convertSecondToMinSec(this.xc));
		this.schedule(this.wr, 1)
	},
	wr: function() {
		this.xc--;
		0 < this.xc ? this.sg.setString(convertSecondToMinSec(this.xc)) : this.kE()
	},
	removeSelf: function() {
		this.lm.removeSelf();
		this.unscheduleAllCallbacks();
		this._super()
	},
	zE: function() {
		this.yc();
		this.schedule(this.wr, 1)
	},
	yc: function() {
		this.unschedule(this.wr)
	}
});
DAILY_TASK_HEIGHT_SPRITE = 90;
DAILY_TASK_SCALE_BUTTON = 0.9;
DAILY_TASK_PADDING_X = 80;
DAILY_TASK_PADDING_Y = 20;
DAILY_TASK_TEXT_COLOR = cc.color(255, 178, 102);
BkDailyTaskItem = BkSprite.extend({
	hs: cc.spriteFrameCache,
	parentNode: null,
	dh: null,
	ctor: function(a, b, c, d) {
		this._super();
		this.dh = a;
		this.parentNode = d;
		this.hs.addSpriteFrames(res.UU, res.y6);
		this.rd(b, c)
	},
	rd: function(a) {
		var b = new BkSprite("#bg_task_item.png");
		b.x = b.getWidth() / 2;
		b.y = b.getHeight() / 2 + 14;
		this.addChild(b);
		var c = this.hs.getSpriteFrame("daily_task_close.png");
		this.dh.ZA && (c = this.hs.getSpriteFrame("daily_task_open.png"));
		c = new BkSprite(c);
		c.x = c.width / 2 + 10;
		c.y = c.height + 5;
		this.addChild(c);
		c = new BkLabel(this.dh.q6,
			"Tahoma", 16);
		c.setTextColor(cc.color(251, 254, 0));
		c.x = DAILY_TASK_PADDING_X + c.getContentSize().width / 2;
		c.y = DAILY_TASK_HEIGHT_SPRITE - 15;
		this.addChild(c);
		c = new BkLabel("M\u1ee9c th\u01b0\u1edfng: " + convertStringToMoneyFormat(this.dh.qy) + pn(), "Tahoma", 14);
		c.x = DAILY_TASK_PADDING_X + c.getContentSize().width / 2;
		c.y = DAILY_TASK_HEIGHT_SPRITE - 35;
		this.addChild(c);
		c = new BkLabel("\u0110\u00e3 th\u1ef1c hi\u1ec7n: " + convertStringToMoneyFormat(this.dh.az) + " / " + convertStringToMoneyFormat(this.dh.OE), "Tahoma", 14);
		c.x =
			DAILY_TASK_PADDING_X + c.getContentSize().width / 2;
		c.y = DAILY_TASK_HEIGHT_SPRITE - 55;
		this.addChild(c);
		c = new BkLabel("Ch\u01b0a xong", "Tahoma", 15);
		c.setTextColor(cc.color(255, 255, 255));
		c.x = b.getWidth() - c.getContentSize().width / 2 - 20;
		c.y = DAILY_TASK_HEIGHT_SPRITE / 2 + 10;
		this.addChild(c);
		var d = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png", "btn_no_text.png", "btn_no_text_press.png");
		d.setTitleText("Ch\u01b0a xong");
		d.ef(!1);
		d.setVisible(!1);
		this.dh.az == this.dh.OE && (this.dh.ZA ? (c.setString("\u0110\u00e3 ho\u00e0n th\u00e0nh"),
			c.x = b.getWidth() - c.getContentSize().width / 2 - 20) : (c.setVisible(!1), d.ef(!0), d.setVisible(!0), d.setTitleText("Nh\u1eadn"), d.addTouchEventListener(function(a, b) {
			b == ccui.Widget.TOUCH_ENDED && this.wO()
		}, this)));
		d.setScale(DAILY_TASK_SCALE_BUTTON);
		d.x = b.getWidth() - d.width / 2 - 15;
		d.y = DAILY_TASK_HEIGHT_SPRITE / 2 + d.height / 2 - 7;
		this.addChild(d);
		this.Wd(a)
	},
	Wd: function(a) {
		this.x = 0;
		this.y = a - DAILY_TASK_HEIGHT_SPRITE
	},
	wO: function() {
		this.Fb();
		var a = new BkPacket;
		a.vj(ri, this.dh.id);
		BkConnectionManager.send(a)
	},
	Fb: function() {
		BkLogicManager.S().jb(this.parentNode)
	},
	onExit: function() {
		this.hs.removeSpriteFramesFromFile(res.UU);
		this._super()
	}
});
FRIEND_ITEM_HEIGHT_SPRITE = 44;
FRIEND_ITEM_PADDING_X = 18;
FRIEND_ITEM_PADDING_Y = 22;
FRIEND_ITEM_BTN_P_RIGHT = 20;
TEXT_OFFSET_WITH_AVATAR = 10;
TEXT_OFFSET_MONEY_LEVEL = 270;
AVATAR_FRIEND_WINDOW_HEIGHT = AVATAR_FRIEND_WINDOW_WIDTH = 34;
FRIEND_ITEM_TEXT_COLOR = cc.color(255, 178, 102);
FRIEND_ITEM_HOVER_COLOR = cc.color(225, 178, 102, 100);
BkFriendItem = ccui.Widget.extend({
	parentNode: null,
	W: null,
	Fe: null,
	eY: null,
	aY: null,
	YX: null,
	jl: null,
	SM: null,
	Pc: null,
	ctor: function(a, b, c) {
		this._super();
		logMessage("Player data: " + a.userName);
		this.setName("BkFriendItem");
		this.W = a;
		this.Fe = b;
		this.parentNode = c;
		this.gg();
		this.rd(10)
	},
	tZ: function() {},
	gg: function() {
		var a = this;
		this.Pc = createBkButtonPlist("infoFrameBanBeOn.png", "infoFrameBanBeOn.png", "infoFrameBanBeOn.png", "infoFrameBanBeOn.png", "");
		this.Pc.addClickEventListener(function() {
			logMessage("Friend item clicked: ");
			a.parentNode.xK(a.W)
		});
		var b = 8;
		isWebPlatform() && (b = 7);
		this.setContentSize(cc.size(1.08 * this.Pc.getContentSize().width, this.parentNode.Q.height / b));
		this.setScale(GAME_SCALE);
		this.setPosition(0.5 * this.getContentSize().width, 0.5 * this.getContentSize().height);
		this.Pc.setPosition(0.5 * this.getContentSize().width, 0.5 * this.getContentSize().height);
		this.addChild(this.Pc)
	},
	rd: function(a) {
		var b = null,
			b = zb(this.W.Hb, this.W.$c),
			c = 0.5;
		isWebPlatform() || (c = 0.6);
		b.setScale(c);
		b.x = 0.02 * this.getContentSize().width + b.getBoundingBox().width /
			2;
		b.y = this.getContentSize().height / 2;
		this.addChild(b, WD_ZORDER_TOP);
		isWebPlatform() || (b.y = 0.6 * this.getContentSize().height);
		var c = 20,
			d = 18;
		isWebPlatform() || (c = 30, d = 15);
		c = new BkLabel(Ab(this.W.userName, d), "Arial", c, !0);
		c.setTextColor(Cj);
		c.x = b.x + b.getBoundingBox().width / 2 + c.getContentSize().width / 2 + 12 * GAME_SCALE;
		c.y = b.y + TEXT_OFFSET_WITH_AVATAR * GAME_SCALE;
		this.addChild(c);
		d = 16;
		isWebPlatform() || (d = 26);
		var d = new BkLabel("", "Tahoma", d),
			e = null,
			f = cc.color(178, 176, 177);
		this.W.Ie ? (this.gk(this.W.ya) ? d.setString("\u0110ang ch\u01a1i " +
			wl(this.W.ya)) : d.setString("Online"), f = cc.color(27, 197, 2), e = new BkSprite("#icon_online.png")) : (d.setString("Offline"), e = new BkSprite("#icon_offline.png"));
		e.x = b.x + b.getBoundingBox().width / 2 + 10 * GAME_SCALE;
		e.y = c.y - FRIEND_ITEM_PADDING_Y * GAME_SCALE;
		d.setTextColor(f);
		d.x = e.x + e.getBoundingBox().width + d.getContentSize().width / 2;
		d.y = e.y - 1 * GAME_SCALE;
		this.addChild(e);
		this.addChild(d);
		f = null;
		1 == this.Fe && (f = new BkLabel(rn(this.W.$c), "Arial", 20), f.x = b.x + TEXT_OFFSET_MONEY_LEVEL * GAME_SCALE + f.getContentSize().width /
			2, f.y = b.y, this.addChild(f));
		e.setVisible(!1);
		null != f && f.setVisible(!1);
		c.y = 0.6 * this.getContentSize().height;
		e = null;
		e = this.W.Ie ? new BkSprite("#online.png") : new BkSprite("#offline.png");
		e.y = 0.4 * this.getContentSize().height;
		e.x = c.x - 0.5 * c.getContentSize().width + 0.5 * e.getContentSize().width;
		this.addChild(e, 100);
		d.y = e.y;
		d.x = e.x + e.getContentSize().width / 2 + d.getContentSize().width / 2;
		c.setTextColor(R);
		d.setTextColor(R);
		this.Eu(b.y, this.W.userName);
		this.Wd(a)
	},
	Eu: function(a) {
		var b = this,
			c = null,
			d = null,
			c = createBkButtonPlist("btnMoiChoi.png",
				"btnMoiChoiPress.png", "btnMoiChoi.png", "btnMoiChoi.png"),
			d = createBkButtonPlist("btnVaoXem.png", "btnVaoXemPress.png", "btnVaoXem.png", "btnVaoXem.png"),
			e = null,
			f = null;
		1 == this.Fe ? (e = createBkButtonPlist("btnIconXoaBanFriendWD.png", "btnIconXoaBanFriendWDPress.png", "btnIconXoaBanFriendWD.png", "btnIconXoaBanFriendWD.png"), e.x = this.getContentSize().width - e.getContentSize().width - FRIEND_ITEM_BTN_P_RIGHT, e.y = a, e.addTouchEventListener(function() {
				b.CO()
			}, this), this.addChild(e), c.x = this.getContentSize().width - c.width -
			FRIEND_ITEM_BTN_P_RIGHT, c.y = e.y) : 2 == this.Fe && (f = createBkButtonPlist("btnIconTheoDoiFriendWD.png", "btnIconTheoDoiFriendWDPress.png", "btnIconTheoDoiFriendWD.png", "btnIconTheoDoiFriendWD.png"), f.x = this.getContentSize().width - f.width - FRIEND_ITEM_BTN_P_RIGHT, f.y = a, f.addTouchEventListener(function(a, c) {
			switch (c) {
				case ccui.Widget.TOUCH_BEGAN:
					logMessage("btnAddFriend");
					b.sO();
					break;
				case ccui.Widget.TOUCH_ENDED:
					f.removeFromParent()
			}
		}, this), this.addChild(f), this.parentNode.$M(this.W.userName) && (logMessage("isInFriendList: " +
			this.W.userName), this.W.om(!0), f.Ya(!1)), c.x = this.getContentSize().width - c.width - FRIEND_ITEM_BTN_P_RIGHT, c.y = a);
		a = 0;
		null != e && (e.y = this.getContentSize().height / 2, e.x = this.Pc.getContentSize().width + 0.08 * e.getContentSize().width, a = e.x - 1 * e.getContentSize().width - 0);
		null != f && (f.y = this.getContentSize().height / 2, f.x = this.Pc.getContentSize().width + 0.08 * f.getContentSize().width, a = f.x - 1 * f.getContentSize().width - 0);
		c.y = this.getContentSize().height / 2;
		c.x = a - c.getContentSize().width / 2;
		d.x = c.x;
		d.y = c.y;
		this.W.Ie &&
			(c.addClickEventListener(function() {
				b.gk(b.W.ya) ? b.Ao() : b.Wg(b.W.userName)
			}), this.addChild(c), this.addChild(d), d.addClickEventListener(function() {
				b.Ao()
			}), b.gk(b.W.ya) ? (c.Ya(!1), d.Ya(!0)) : (c.Ya(!0), d.Ya(!1)))
	},
	Wd: function(a) {
		this.x = 40;
		this.y = a - FRIEND_ITEM_HEIGHT_SPRITE
	},
	Ao: function() {
		var a = new BkPacket;
		a.Ax(this.W.userName);
		BkConnectionManager.send(a);
		BkLogicManager.S().vd.io = !0
	},
	Wg: function(a) {
		this.parentNode.Wg(a)
	},
	CO: function() {
		this.parentNode.Fb();
		var a = new BkPacket;
		a.Bx(this.W.userName);
		BkConnectionManager.send(a);
		this.parentNode.Kw(this.W, !0)
	},
	sO: function() {
		this.parentNode.Fb();
		var a = new BkPacket;
		a.wx(this.W.userName);
		BkConnectionManager.send(a);
		this.parentNode.Kw(this.W)
	},
	c7: function(a) {
		this.parentNode.le && (this.parentNode.le.visible = a)
	},
	gk: function(a) {
		return a == K || a == L
	}
});
TOP_ITEM_HEIGHT_SPRITE = 44;
TOP_ITEM_PADDING_Y = 22;
TEXT_OFFSET_WITH_AVATAR = 10;
TEXT_OFFSET_MONEY_LEVEL = 270;
BkTopPlayerItem = ccui.Widget.extend({
	uj: "itemBg",
	parentNode: null,
	W: null,
	jl: null,
	SM: null,
	za: null,
	ctor: function(a, b, c) {
		this._super();
		logMessage("BkTopPlayerItem - Player data: " + a.userName);
		this.setName("BkTopPlayerItem");
		this.ls = 0.6;
		this.W = a;
		this.parentNode = b;
		this.ya = c;
		this.gg();
		this.EM();
		this.rd(!0)
	},
	xI: function(a) {
		return a.userName == BkGlobal.P.userName
	},
	jV: function(a) {
		a && (this.W = a, this.MV(a), this.removeChild(this.rf), this.kf(a), this.xV(a), this.tV(a), this.RD(a), this.ZD(a), this.qV(a))
	},
	MV: function(a) {
		console.log("BkTopPlayerItem - this.updateRanking - filename: top_player_rank_" +
			a.Ta + ".png");
		3 >= a.Ta && this.Zw.Of("top_player_rank_" + a.Ta + ".png");
		this.Nd.setString(a.Ta.toString());
		this.WD(a);
		this.SD(this.Nd, a)
	},
	SD: function(a, b) {
		var c = this.za;
		a.x = 1 == b.Ta.toString().length ? UI.eb(c) - 27 * GAME_SCALE - UI.Da(a) : UI.eb(c) - 20 * GAME_SCALE - UI.Da(a);
		a.y = c.y - 0.2 * UI.Ei(a)
	},
	EM: function() {
		var a = this.za,
			b = this.W,
			c;
		c = 3 > b.Ta ? new BkSprite("#top_player_rank_" + b.Ta + ".png") : new BkSprite("#top_player_rank_3.png");
		c.x = UI.eb(a) - 25 * GAME_SCALE - UI.Da(c);
		c.y = a.y;
		c.name = "spRank";
		console.log("BkTopPlayerItem - this.initRanking - spRank \x3d ",
			c);
		this.addChild(c);
		this.Zw = c;
		a = new cc.LabelTTF(b.Ta.toString(), "top_rank", 38);
		a.setFontFillColor(Gj);
		this.SD(a, b);
		a.name = "lblRank";
		this.addChild(a);
		this.Nd = a;
		this.WD(b)
	},
	WD: function(a) {
		3 >= a.Ta ? (this.Zw.setOpacity(255), this.Nd.setOpacity(0)) : (this.Zw.setOpacity(0), this.Nd.setOpacity(255))
	},
	gg: function() {
		var a = this;
		this.za = createBkButtonPlist("top_player_item_bg.png", "top_player_item_bg.png", "infoFrameBanBeOn.png", "top_player_item_bg.png", "");
		this.za.setScaleX(0.81);
		this.za.setScaleY(0.8);
		this.za.name =
			this.uj;
		this.za.addClickEventListener(function() {
			logMessage("BkTopPlayerItem Top player item clicked: ");
			a.parentNode.ZU(a.W)
		});
		var b = 8;
		isWebPlatform() && (b = 6.4);
		var c = 0.8 * this.za.getContentSize().width,
			b = this.parentNode.Q.height / b;
		console.log("BkTopPlayerItem - this.initBg() - width: " + c + " - height: " + b);
		this.setContentSize(cc.size(c, b));
		this.setScale(GAME_SCALE);
		this.setPosition(0.5 * this.getContentSize().width, 0.5 * this.getContentSize().height);
		this.za.setPosition(0.54 * this.getContentSize().width,
			0.5 * this.getContentSize().height);
		this.addChild(this.za)
	},
	kf: function(a) {
		a = this.fu(a);
		this.removeChild(this.rf);
		this.rf = a;
		this.hq(a)
	},
	fu: function(a) {
		return zb(this.W.Hb, a.$c)
	},
	hq: function(a) {
		var b = 0.55;
		isWebPlatform() || (b = 0.6);
		a.setScale(b);
		a.x = 0.01 * this.getContentSize().width + a.getBoundingBox().width / 2;
		a.y = 0.62 * this.getContentSize().height;
		a.name = "avatar";
		this.addChild(a, WD_ZORDER_TOP);
		isWebPlatform() || (a.y = 0.6 * this.getContentSize().height)
	},
	OL: function() {
		var a = this.fu(this.W);
		this.rf = a;
		this.hq(a)
	},
	xV: function() {
		this.Aa.setString(Ab(this.W.userName, this.hx));
		this.QD()
	},
	QD: function() {
		this.Aa.x = this.rf.x + this.rf.getBoundingBox().width / 2 + this.Aa.getContentSize().width / 2 + 12 * GAME_SCALE;
		this.Aa.y = this.rf.y + TEXT_OFFSET_WITH_AVATAR * GAME_SCALE;
		this.Aa.y = this.getContentSize().height * this.ls
	},
	qM: function() {
		this.hx = 18;
		isWebPlatform() || (this.fontSize = 30, this.hx = 15);
		var a = new BkLabel(Ab(this.W.userName, this.hx), "Arial", 20, !0);
		this.Aa = a;
		this.Aa.setTextColor(R);
		this.QD();
		a.name = "lbName";
		this.addChild(a)
	},
	KM: function() {
		var a =
			null,
			a = this.W.Ie ? new BkSprite("#icon_online.png") : new BkSprite("#icon_offline.png");
		a.x = this.rf.x + this.rf.getBoundingBox().width / 2 + 10 * GAME_SCALE;
		a.y = this.Aa.y - TOP_ITEM_PADDING_Y * GAME_SCALE;
		this.addChild(a);
		a.setVisible(!1)
	},
	oM: function() {
		var a = null,
			a = this.W.Ie ? new BkSprite("#online.png") : new BkSprite("#offline.png");
		a.y = this.getContentSize().height * (1 - this.ls);
		a.x = this.Aa.x - 0.5 * this.Aa.getContentSize().width + 0.5 * a.getContentSize().width;
		this.addChild(a, 100);
		this.Nn = a
	},
	tV: function(a) {
		a.Ie ? this.Nn.Of("online.png") :
			this.Nn.Of("offline.png")
	},
	rM: function() {
		var a = 16;
		isWebPlatform() || (a = 26);
		this.BN = a = new BkLabel("", "Tahoma", a);
		this.RD(this.W);
		a.setTextColor(R);
		this.addChild(a)
	},
	RD: function(a) {
		var b = this.BN;
		cc.color(178, 176, 177);
		a.Ie ? (this.gk(this.W.ya) ? b.setString("\u0110ang ch\u01a1i " + wl(this.W.ya)) : b.setString("Online"), cc.color(27, 197, 2)) : b.setString("Offline");
		b.y = this.Nn.y - 0.2 * UI.Ga(b);
		b.x = this.Nn.x + this.Nn.getContentSize().width + b.getContentSize().width / 2
	},
	I6: function() {},
	rd: function() {
		this.OL();
		this.qM();
		this.KM();
		this.oM();
		this.rM();
		this.vM(this.rf.y, this.W.userName);
		this.dM()
	},
	qV: function(a) {
		this.BU.wV(a.re)
	},
	dM: function() {
		var a = this.za,
			b = new PlayerElo(this.ya == L ? "elo_CU.png" : "elo_CT.png", this.W.re);
		b.setScale(0.8 * GAME_SCALE);
		b.x = UI.fb(a) - 20 * GAME_SCALE - UI.Da(b);
		b.y = this.jl.y;
		this.addChild(b);
		this.BU = b
	},
	vM: function() {
		var a = this,
			b = this.za,
			c = createBkButtonPlist("btnMoiChoi.png", "btnMoiChoiPress.png", "btnMoiChoi.png", "btnMoiChoi.png"),
			d = createBkButtonPlist("btnVaoXem.png", "btnVaoXemPress.png", "btnVaoXem.png",
				"btnVaoXem.png");
		c.x = UI.fb(b) - 1.85 * UI.qa(c);
		c.y = b.y;
		logMessage("BkTopPlayerItem - btnPlayWith.x \x3d " + c.x);
		d.x = c.x;
		d.y = c.y;
		this.mt = d;
		this.jl = c;
		c.addClickEventListener(function() {
			a.gk(a.W.ya) ? (console.log("btnPl ayWith - isAllowPlayWithCheck - self.playerData.getGameId() ", a.W.ya), a.Ao()) : (console.log("btnPlayWith - not isAllowPlayWithCheck"), a.Wg(a.W.userName))
		});
		d.addClickEventListener(function() {
			a.Ao()
		});
		this.addChild(c);
		this.addChild(d);
		this.ZD(this.W)
	},
	ZD: function(a) {
		a.Ie && !this.xI(a) ? this.gk(a.ya) ?
			(this.jl.Ya(!1), this.mt.Ya(!0)) : (this.jl.Ya(!0), this.mt.Ya(!1)) : (this.jl.Ya(!1), this.mt.Ya(!1))
	},
	Ao: function() {
		var a = new BkPacket;
		a.Ax(this.W.userName);
		BkConnectionManager.send(a);
		BkLogicManager.S().vd.io = !0
	},
	Wg: function(a) {
		this.parentNode.Wg(a)
	},
	gk: function(a) {
		return a == K || a == L
	}
});
PlayerElo = BkSprite.extend({
	ctor: function(a, b) {
		this._super("#small_info_frame.png");
		var c = new BkSprite("#small_info_frame.png");
		c.x = c.getContentSize().width / 2;
		c.y = c.getContentSize().height / 2;
		var d = new BkSprite("#" + a);
		d.setScale(0.8);
		d.x = UI.eb(c) + 10 * GAME_SCALE + UI.Da(d);
		d.y = c.y;
		this.addChild(d);
		var e = new BkLabel(b, "", 20);
		e.x = UI.fb(d) + 10 * GAME_SCALE + 0.5 * e.getContentSize().width;
		e.y = c.y;
		c = cc.color(251, 234, 180);
		e.setTextColor(c);
		this.addChild(e);
		this.CN = e
	},
	wV: function(a) {
		this.CN.setString(a)
	}
});
BkHistoryListWindow = BkTabWindow.extend({
	Ic: 12,
	yj: 8,
	Lm: 0.01,
	Sf: 0,
	al: 99,
	oc: 4,
	Hc: 0,
	ke: 50,
	Hp: null,
	pf: ["C\u1edd T\u01b0\u1edbng", "C\u1edd \u00dap"],
	Bg: null,
	tb: null,
	XM: !0,
	Lh: 0,
	ctor: function(a) {
		console.log("BkHistoryListWindow - Start ctor - GAME_SCALE: " + GAME_SCALE);
		console.log("BkHistoryListWindow - Start ctor - kindHistory: " + a);
		var b = b = "",
			c = 0.8 * cc.winSize.height;
		this._super(b, isWebPlatform() ? cc.size(600 * GAME_SCALE, 960 * GAME_SCALE) : cc.size(620, c), this.pf.length, this.pf);
		console.log("BkHistoryListWindow - ctor - after supper");
		this.Lh = a;
		0 == a ? this.Ob("title_wd_lich_su.png", 0 * GAME_SCALE_MIN) : this.Ob("title_wd_da_xem.png", 0 * GAME_SCALE_MIN);
		this.Lp(this.lj, this, 1);
		logMessage("BkHistoryListWindow - this.ctor() - after addTabChangeEventListener");
		this.Yr()
	},
	Yr: function() {
		if (isWebPlatform()) {
			var a = this.Zb,
				b = this.Pa;
			a.Ya(!0);
			a.x = UI.fb(b) - 1.3 * UI.qa(a);
			a.y = UI.xf(b) - 1.9 * UI.Ga(a);
			console.log("BkTopPlayersWindow - this._btnClose.x: ", this.Zb.x);
			console.log("BkTopPlayersWindow - this._btnClose.y: ", this.Zb.y)
		}
	},
	sn: function(a) {
		logMessage("BkHistoryListWindow - this.drawUIWithTab() - tabIndex: " +
			a);
		this.Te();
		1 == a ? this.KN() : 2 == a && this.NN()
	},
	yX: function() {},
	zX: function() {},
	AX: function() {},
	Ob: function(a, b) {
		b = void 0 === b ? 0 : b;
		var c = new BkSprite("#" + a);
		c.setScale(GAME_SCALE_MIN);
		c.x = this.Za.x;
		c.y = this.Za.y + b * GAME_SCALE_MIN;
		this.lb.addChild(c, WD_ZORDER_BODY)
	},
	Iq: function() {
		var a, b = this.Q.width,
			c = GAME_SCALE;
		isWebPlatform() && (500 > this.Q.width ? c = 0.6 : 600 > this.Q.width && (c = 0.9));
		a = cc.spriteFrameCache.getSpriteFrame("mini_popupframe.png");
		var d = cc.rect(75, 80, 425, 379);
		this.Pa = new cc.Scale9Sprite(a, d);
		isWebPlatform() ||
			(b = this.Pa.getContentSize().width);
		this.Pa.setScaleY(1.1 * GAME_SCALE);
		this.Pa.width = b * GAME_SCALE;
		this.Pa.height = this.Q.height;
		this.Pa.x = this.Q.width / 2;
		this.Pa.y = this.Q.height / 2;
		this.lb.addChild(this.Pa, WD_ZORDER_BODY);
		a = c;
		1 > a && !isWebPlatform() && (a = 1);
		this.Za = new BkSprite("#header.png");
		this.Za.setScaleX(c);
		this.Za.setScaleY(a);
		this.Za.x = this.Q.width / 2;
		this.Za.y = UI.xf(this.Pa) - this.Za.getBoundingBox().height / 2;
		logMessage("BkTopPlayersWindow - initBgBody - this.headerChessWD.y \x3d " + this.Za.y);
		this.lb.addChild(this.Za,
			WD_ZORDER_BODY)
	},
	KN: function() {
		this.Lh = 0;
		this.Fb();
		var a = new BkPacket;
		console.log("loadCoTuongPlayerHistory - this.kindHistory: " + this.Lh);
		a.Vy(K, this.Lh);
		BkConnectionManager.send(a);
		s()
	},
	NN: function() {
		this.Lh = 1;
		this.Fb();
		var a = new BkPacket;
		console.log("loadCoUpPlayerHistory - this.kindHistory: " + this.Lh);
		s();
		a.Vy(K, this.Lh);
		BkConnectionManager.send(a)
	},
	Rn: function() {
		this.va = [];
		logMessage("BkHistoryListWindow - this.iniTab");
		var a = new BkButton("da_choi_on.png", "da_choi_on.png", "da_choi_on.png", "da_choi_on.png",
			ccui.Widget.PLIST_TEXTURE);
		this.Gh(a, 1);
		this.va.push(a);
		a = new BkButton("da_xem_deselect.png", "da_xem_deselect.png", "da_xem_deselect.png", "da_xem_deselect.png", ccui.Widget.PLIST_TEXTURE);
		this.Gh(a, 2);
		this.va.push(a);
		this.xh();
		if (void 0 != this.of) {
			logMessage("BkHistoryListWindow - this.iniTab start checking this._arrBtnText");
			for (a = 0; a < this.of.length; a++) {
				var b = this.va[a];
				0 == a ? this.gf(b, !0) : this.gf(b, !1)
			}
			logMessage("BkHistoryListWindow - this.iniTab end checking this._arrBtnText")
		} else logMessage("Error: Must addTabChangeEventListener to callback handle")
	},
	xh: function() {
		logMessage("BkHistoryListWindow - this.configPosButton()");
		var a = this.Pa,
			b = this.va[0],
			c = this.va[1];
		console.log("configPosButton - bg.x: " + a.x);
		console.log("configPosButton - UI.getRealWidth(bg): " + UI.qa(a));
		b.x = UI.eb(a) + 0.7 * UI.Da(a);
		b.y = UI.Bh(a) + 0.87 * UI.Ga(a);
		c.x = UI.eb(a) + 1.3 * UI.Da(a);
		c.y = b.y;
		logMessage("BkHistoryListWindow - end of this.configPosButton()")
	},
	fn: function(a) {
		logMessage("BkHistoryListWindow - this.configButtonWithSelectedTab() - tabIndex: " + a);
		var b = this.va[0],
			c = this.va[1];
		1 == a ? (b.loadTextures("da_choi_on.png", "da_choi_on.png", "da_choi_on.png", "da_choi_on.png", ccui.Widget.PLIST_TEXTURE), c.loadTextures("da_xem_deselect.png", "da_xem_deselect.png", "da_xem_deselect.png", "da_xem_deselect.png", ccui.Widget.PLIST_TEXTURE)) : (b.loadTextures("da_choi_deselect.png", "da_choi_deselect.png", "da_choi_deselect.png", "da_choi_deselect.png", ccui.Widget.PLIST_TEXTURE), c.loadTextures("da_xem_on.png", "da_xem_on.png", "da_xem_on.png", "da_xem_on.png", ccui.Widget.PLIST_TEXTURE))
	},
	ud: function(a,
		b) {
		switch (b) {
			case ng:
				if (!a.iv) {
					this.removeSelf();
					break
				}
				this.ya = a.ya;
				this.Bg = a.DD;
				console.log("onLoadComplete - o ", a);
				console.log("onLoadComplete - this._sessions: ", this.Bg);
				this.al = this.Bg.length;
				t();
				this.kK(this.ya);
				this.onEnter();
				break;
			default:
				this.removeSelf()
		}
	},
	gy: function(a) {
		for (var b = 0; b < a.length; b++) a[b].Ta = b + 1;
		return a
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	kK: function(a) {
		console.log("BkHistoryListWindow - drawUIWithSessionsReturn()");
		this.Te();
		this.hK(this.Bg, this.nc, a)
	},
	KG: function() {
		var a =
			this.Pa,
			b = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		b.setScale(GAME_SCALE);
		b.x = a.x;
		b.y = UI.Bh(a) + 1.3 * UI.Ga(b);
		this.T(b);
		var c = this;
		b.addClickEventListener(function() {
			c.removeSelf()
		})
	},
	lj: function(a, b) {
		console.log("BkHistoryListWindow - this.selectedTabEvent() - sender: ", a);
		logMessage("BkHistoryListWindow - this.selectedTabEvent() - tabIndex: " + b);
		this.sn(b)
	},
	hK: function(a, b, c) {
		var d = this.Pa;
		console.log("BkHistoryListWindow - this.drawSessions - sessions: ",
			a);
		console.log("BkHistoryListWindow - this.drawSessions - gameId: ", c);
		var e = this.kb = new BkSprite,
			f = UI.qa(d),
			g = 0.75 * UI.Ga(d);
		this.kb.setContentSize(f, g);
		null != a && 0 < a.length ? this.TG(c) : this.ct(b);
		this.kb.x = d.x;
		this.kb.y = UI.Bh(d) + 0.065 * UI.Ga(d) + UI.Ei(e);
		this.T(this.kb)
	},
	TG: function(a) {
		var b = this.kb,
			c = this.Bg;
		this.V = new Cn;
		this.V.name = "List Sessions";
		this.V.setScrollBarEnabled(!1);
		this.V.setTouchEnabled(!0);
		this.V.setBounceEnabled(!0);
		this.V.setContentSize(cc.size(this.kb.getContentSize().width, this.kb.getContentSize().height));
		this.V.setPosition(0.06 * UI.qa(b), 0);
		this.V.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL);
		var d = this.Yy(c[0], this, a);
		console.log("BkHistoryListWindow - this.drawTopPlayers() - defaultItem: ", d);
		this.V.setItemModel(d);
		this.Pd = d.getContentSize().height;
		this.cp = b = this.Pd * c.length + (c.length - 1) * this.oc;
		console.log("addListSessions - totalHeight: ", b);
		console.log("addListSessions - this._itemTemplateHeight: ", this.Pd);
		console.log("addListSessions - defaultItem height: ", UI.Ga(d));
		this.ke = 2 * this.Pd + this.oc;
		console.log("BkHistoryListWindow - this._bufferZone: ", this.ke);
		this.V.setItemsMargin(this.oc);
		for (d = 0; d < c.length && d < this.Ic; ++d) {
			var e = this.Yy(c[d], this, a);
			e.setTag(d);
			this.V.pushBackCustomItem(e)
		}
		this.Hc = this.Pd * this.Ic + this.oc * (this.Ic - 1);
		c.length >= this.yj && this.V.forceDoLayout();
		this.V.getInnerContainer().setContentSize(cc.size(this.V.getInnerContainerSize().width, b));
		this.V.jumpToTop();
		a = this.V.getItems();
		console.log("BkHistoryListWindow - this.addListPlayers() - items.y \x3d ", a.map(function(a) {
			return a.getPosition().y
		}));
		this.kb.addChild(this.V);
		this.scheduleUpdate();
		for (d = 0; d < c.length; ++d) d < this.Ic && (e = a[d], console.log("HistoryListWindows - items[" + d + "] -  - this.getItemPositionYInView(item): " + this.Fi(e)), console.log("HistoryListWindows - items[" + d + "] -  - item.getPosition().y: " + e.getPosition().y))
	},
	sj: function(a, b, c) {
		console.log("BkHistoryListWindow - this.updateItem() - itemID: ", a);
		console.log("BkHistoryListWindow - this.updateItem() - templateID: ", b);
		b = this.V.getItems()[b];
		b.setTag(a);
		console.log("BkHistoryListWindow - this.updateItem() - itemTemplate: ",
			b);
		b = b.getChildren()[0];
		if (a = this.Bg[a]) c.$g = a.$g, c.Ta = a.Ta;
		console.log("BkHistoryListWindow - this.updateItem() - sessionData: ", a);
		a && b.TE(a)
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		console.log("BkHistoryListWindow - this.onEnter() - this.listView: ", this.V);
		console.log("BkHistoryListWindow - this.onEnter() - this._sessions: ", this.Bg);
		if (null != this.Bg && this.Bg.length > this.Ic) {
			var a = this.V.getItems();
			console.log("BkHistoryListWindow - this.onEnter() - items: ", a);
			for (var b = 0; b <
				a.length; ++b) {
				var c = a[b];
				console.log("HistoryListWindows - onEnter - items[" + b + "] -  - this.getItemPositionYInView(item): " + this.Fi(c));
				console.log("HistoryListWindows - onEnter - items[" + b + "] -  - item.getPosition().y: " + c.getPosition().y)
			}
			this.V.forceDoLayout();
			this.V.getInnerContainer().setContentSize(cc.size(this.V.getInnerContainerSize().width, this.cp));
			this.V.jumpToTop();
			for (b = 0; b < a.length; ++b) c = a[b], console.log("HistoryListWindows - onEnter after jump- items[" + b + "] -  - this.getItemPositionYInView(item): " +
				this.Fi(c)), console.log("HistoryListWindows - onEnter after jump - items[" + b + "] -  - item.getPosition().y: " + c.getPosition().y)
		}
	},
	update: function(a) {
		var b = this.Bg;
		if (!(b.length < this.Ic || (this.Uf += a, this.Uf < this.Lm))) {
			this.Uf = 0;
			a = this.V.getContentSize().height;
			var c = this.V.getItems();
			this.V.getInnerContainer().getPosition();
			for (var d = 0; d < c.length; d++) {
				var e = c[d];
				if (0 == e.getPosition().y && e.Ta != b.length) return
			}
			for (var f = this.V.getInnerContainer().getPosition().y < this.Sf, d = 0; d < this.Ic && d < b.length; ++d) {
				var e =
					c[d],
					g = this.Fi(e, d);
				f ? g < -1 * this.ke && e.getPosition().y + this.Hc < this.cp && (g = e.getTag() - c.length, e.setPositionY(e.getPositionY() + this.Hc), this.sj(g, d, e)) : g > this.ke + a && 0 <= e.getPositionY() - this.Hc && (e.setPositionY(e.getPositionY() - this.Hc), g = e.getTag() + c.length, this.sj(g, d, e))
			}
			this.Sf = this.V.getInnerContainer().getPosition().y
		}
	},
	ru: function() {
		return this.V.getItems().map(function(a) {
			return a.getPositionY()
		})
	},
	Dq: function() {
		return this.V.getItems().map(function(a) {
			return a.getChildren()[0]
		}).map(function(a) {
			return a.id
		})
	},
	Fi: function(a) {
		a = a.getParent().convertToWorldSpaceAR(a.getPosition());
		return this.V.convertToNodeSpaceAR(a).y
	},
	ct: function(a) {
		console.log("BkHistoryListWindow - empty list");
		var b = new BkLabel("", "Arial", 20);
		1 == a ? b.setString("Ch\u1ee9c n\u0103ng hi\u1ec3n th\u1ecb c\u00e1c b\u00e0n ch\u01a1i c\u1ee7a b\u1ea1n trong qu\u00e1 kh\u1ee9. \nH\u00e3y ch\u01a1i v\u00e0 ph\u00e2n t\u00edch l\u1ea1i c\u00e1c n\u01b0\u1edbc \u0111i c\u1ee7a b\u1ea1n v\u00e0 \u0111\u1ed1i th\u1ee7.") : 2 == a && b.setString("Khi b\u1ea1n xem b\u00e0n hot, b\u1ea1n c\u00f3 th\u1ec3 l\u01b0u l\u1ea1i n\u1ebfu th\u1ea5y th\u00edch. \nH\u00e3y xem c\u00e1c cao th\u1ee7 ch\u01a1i v\u00e0 xem l\u1ea1i \u0111\u1ec3 n\u00e2ng cao tr\u00ecnh \u0111\u1ed9.");
		b.Yb(GAME_SCALE);
		b.setTextColor(v);
		b.textAlign = cc.TEXT_ALIGNMENT_CENTER;
		a = this.Pa;
		b.x = a.x;
		b.y = UI.xf(a) - 0.6 * UI.Ga(a);
		this.Hp = b;
		this.T(b)
	},
	CD: function(a) {
		void 0 != a && this.FN(a)
	},
	FN: function(a) {
		var b = new BkPacket;
		b.lJ(a);
		console.log("CheckTime - send message at: ", (new Date).getTime());
		BkConnectionManager.send(b);
		s()
	},
	Yy: function(a, b, c) {
		console.log("createPlayedSessionItem - session: ", JSON.stringify(a));
		console.log("createPlayedSessionItem - gameId: ", c);
		console.log("createPlayedSessionItem - this.kindHistory: ",
			this.Lh);
		a = 0 == this.Lh ? new BkPlayedSessionItem(a, b, c, this.kb) : new BkViewedSessionItem(a, b, c, this.kb);
		b = new ccui.Layout;
		b.setContentSize(a.getContentSize());
		a.setPosition(0.5 * a.getContentSize().width, 0.5 * a.getContentSize().height);
		b.addChild(a);
		return b
	},
	Te: function() {
		console.log("BkHistoryListWindow - cleanGUI()");
		null != this.kb && (console.log("BkHistoryListWindow - cleanGUI() - remove grid"), this.kb.removeSelf(), this.kb = null);
		null != this.Hp && (console.log("BkHistoryListWindow - cleanGUI() - remove grid"),
			this.removeChild(this.Hp, !0), this.Hp.setString(""))
	},
	onExit: function() {
		this._super();
		BkLogicManager.S().jb(null)
	}
});
BkHotTableWindow = BkTabWindow.extend({
	pf: ["Xem c\u1edd t\u01b0\u1edbng", "Xem c\u1edd \u00fap"],
	ki: null,
	rX: null,
	Ke: null,
	oi: null,
	ctor: function() {
		this._super("", isWebPlatform() ? cc.size(600, 620) : cc.size(650 * GAME_SCALE, 1150 * GAME_SCALE), this.pf.length, this.pf);
		isWebPlatform() ? (this.Za.setVisible(!1), this.Zb.Ya(!0), this.Zb.x += 15) : this.Ob("title_wd_banHot.png");
		Jl();
		var a = p(D.MB),
			b = 1;
		cc.isNumber(a) && (b = a);
		this.nM(b);
		n.rb(yc)
	},
	Rn: function() {
		this.ii = new cc.DrawNode;
		this.T(this.ii, 0, 0);
		this.va = [];
		var a = new BkButton("banhot_CT.png",
			"banhot_CT_Press.png", "banhot_CT.png", "banhot_CT.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		this.Gh(a, 1);
		this.va.push(a);
		a = new BkButton("banhot_CU_deselect.png", "banhot_CU_deselect_Press.png", "banhot_CU_deselect.png", "banhot_CU_deselect.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		this.Gh(a, 2);
		this.va.push(a);
		this.xh();
		if (void 0 != this.of)
			for (a = 0; a < this.of.length; a++) {
				var b = this.va[a];
				0 == a ? this.gf(b, !0) : this.gf(b, !1)
			} else console.log("Error: Must addTabChangeEventListener to callback handle")
	},
	xh: function() {
		var a = this.va[0],
			b = this.va[1];
		a.x = 0.3 * this.Q.width;
		a.y = 0.89 * this.Q.height;
		b.x = 0.7 * this.Q.width;
		b.y = a.y;
		isWebPlatform() && (a.x = 0.34 * this.Q.width, a.y += 30, b.x = 0.65 * this.Q.width, b.y = a.y)
	},
	fn: function(a) {
		var b = this.va[0],
			c = this.va[1];
		1 == a ? (b.loadTextures("banhot_CT.png", "banhot_CT_Press.png", "banhot_CT.png", "banhot_CT.png", ccui.Widget.PLIST_TEXTURE), c.loadTextures("banhot_CU_deselect.png", "banhot_CU_deselect_Press.png", "banhot_CU_deselect.png", "banhot_CU_deselect.png", ccui.Widget.PLIST_TEXTURE)) :
			(b.loadTextures("banhot_CT_deselect.png", "banhot_CT_deselect_Press.png", "banhot_CT_deselect.png", "banhot_CT_deselect.png", ccui.Widget.PLIST_TEXTURE), c.loadTextures("banhot_CU.png", "banhot_CU_Press.png", "banhot_CU.png", "banhot_CU.png", ccui.Widget.PLIST_TEXTURE))
	},
	nM: function(a) {
		this.Qo(!1);
		this.Cc(!0);
		this.Lp(this.lj, this, a)
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	G6: function(a) {
		var b = {};
		b.ya = a.ya;
		b.Jf = [];
		var c = 4;
		a.Jf.length < c && (c = a.Jf.length);
		for (var d = 0; d < c; d++) b.Jf.push(a.Jf[d]);
		return b
	},
	ud: function(a,
		b) {
		logMessage("Hot Table Load completed");
		switch (b) {
			case Ei:
				this.ki = a, this.fK()
		}
		t()
	},
	fK: function() {
		logMessage("Game Id: " + this.ki.ya + "Num of hot table: " + this.ki.Jf.length);
		null != this.Ke && (this.Ke.removeFromParent(), this.Ke = null);
		this.Ke = new BkSprite;
		var a = 570 * GAME_SCALE,
			b = 460 * GAME_SCALE,
			c = 8;
		isWebPlatform() || (a = 590 * GAME_SCALE, b = 0.7 * this.Q.height, c = 0);
		this.Ke.setContentSize(a, b);
		if (0 == this.ki.Jf.length) a = new BkLabel("", "Arial", 30), a.Yb(GAME_SCALE), a.setTextColor(v), a.setString("Hi\u1ec7n t\u1ea1i h\u1ec7 th\u1ed1ng kh\u00f4ng c\u00f3 b\u00e0n hot."),
			a.y = this.Ke.getContentSize().height / 2, a.x = this.Ke.getContentSize().width / 2, this.Ke.addChild(a, 0);
		else {
			this.V = new Cn;
			this.V.setDirection(ccui.ScrollView.DIR_VERTICAL);
			this.V.setTouchEnabled(!0);
			this.V.setBounceEnabled(!0);
			this.V.setContentSize(cc.size(a, b));
			this.V.setPosition(0, 0);
			this.V.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL);
			this.V.setClippingType(ccui.Layout.CLIPPING_SCISSOR);
			for (a = 0; a < this.ki.Jf.length; a++) b = this.jJ(this.ki.Jf[a]), this.V.pushBackCustomItem(b);
			this.Ke.addChild(this.V)
		}
		this.Ke.x =
			0.505 * this.Q.width - c;
		c = this.va[0];
		this.Ke.y = c.y - 0.53 * c.getBoundingBox().height - this.Ke.getContentSize().height / 2;
		this.T(this.Ke, 0, 0);
		if (!isWebPlatform() && null == this.oi) {
			this.oi = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
			this.oi.setScale(GAME_SCALE);
			this.oi.x = this.Q.width / 2;
			this.oi.y = 1.1 * this.oi.getBoundingBox().height;
			this.T(this.oi);
			var d = this;
			this.oi.addClickEventListener(function() {
				d.removeSelf()
			})
		}
	},
	P1: function() {
		for (var a = this.ki.Jf.length,
				b = 0; b < a; b++) {
			var c = this.ki.Jf[b];
			logMessage(b + " : " + c.Di + " - " + c.sq)
		}
	},
	jJ: function(a) {
		null == a ? logMessage("Data is null") : logMessage("Data: " + a.Di);
		var b = new BKHotTableItem(a, this),
			c = this;
		b.JG(function() {
			c.JL(a)
		});
		var d = new ccui.Layout;
		d.setContentSize(b.getContentSize());
		var e = 0.45;
		isWebPlatform() && (e = 0.5);
		b.setPosition(this.Q.width * e, 0.5 * b.getContentSize().height);
		d.addChild(b);
		return d
	},
	JL: function(a) {
		logMessage("clicked to table" + a.Di);
		var b = new BkPacket;
		b.tJ(a.ya, a.rS, a.RU);
		BkConnectionManager.send(b)
	},
	WB: function(a) {
		logMessage("Load hot game");
		this.Fb();
		var b = new BkPacket;
		b.Ty(a);
		BkConnectionManager.send(b);
		s()
	},
	lj: function(a, b) {
		u(D.MB, b);
		this.GN(b)
	},
	GN: function(a) {
		1 == a ? this.WB(K) : this.WB(L)
	}
});
FRIEND_MAX_ROW_NUM = 10;
STATUS_FRIEND_WAITING = 2;
STATUS_BEGIN_CREATE_TABLE = 4;
BkFriendsWindow = BkTabWindow.extend({
	le: null,
	Qa: null,
	pf: ["\u0110ang theo d\u00f5i", "T\u00ecm b\u1ea1n"],
	Dd: null,
	FG: null,
	$k: null,
	$x: null,
	Zx: !1,
	tb: null,
	Us: "",
	wd: null,
	xd: null,
	Fg: null,
	ld: null,
	av: !0,
	ctor: function() {
		this.av = !0;
		this._super("", isWebPlatform() ? cc.size(600, 620) : cc.size(620 * GAME_SCALE, 1100 * GAME_SCALE), this.pf.length, this.pf);
		isWebPlatform() ? (this.Za.setVisible(!1), this.Zb.Ya(!0), this.Zb.x += 15) : this.Ob("title_wd_banbe.png");
		this.Ju();
		Jl();
		this.Lp(this.lj, this, 1);
		n.rb(wc)
	},
	Rn: function() {
		this.va = [];
		var a = new BkButton("btnBanBe.png", "btnBanbeSelectPress.png", "btnBanBe.png", "btnBanBe.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		this.Gh(a, 1);
		this.va.push(a);
		a = new BkButton("btnTinBanDeselect.png", "btnTimBanDeselectPress.png", "btnTinBanDeselect.png", "btnTinBanDeselect.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		this.Gh(a, 2);
		this.va.push(a);
		this.xh();
		if (void 0 != this.of)
			for (a = 0; a < this.of.length; a++) {
				var b = this.va[a];
				0 == a ? this.gf(b, !0) : this.gf(b, !1)
			} else console.log("Error: Must addTabChangeEventListener to callback handle")
	},
	xh: function() {
		var a = this.va[0],
			b = this.va[1];
		a.x = 0.3 * this.Q.width;
		a.y = 0.9 * this.Q.height;
		b.x = 0.7 * this.Q.width;
		b.y = a.y;
		isWebPlatform() && (a.y += 20, b.y = a.y)
	},
	fn: function(a) {
		var b = this.va[0],
			c = this.va[1];
		1 == a ? (b.loadTextures("btnBanBe.png", "btnBanbeSelectPress.png", "btnBanBe.png", "btnBanBe.png", ccui.Widget.PLIST_TEXTURE), c.loadTextures("btnTinBanDeselect.png", "btnTimBanDeselectPress.png", "btnTinBanDeselect.png", "btnTinBanDeselect.png", ccui.Widget.PLIST_TEXTURE)) : (b.loadTextures("btnBanBeDeselect.png", "btnBanBeDeselectPress.png",
			"btnBanBeDeselect.png", "btnBanBeDeselect.png", ccui.Widget.PLIST_TEXTURE), c.loadTextures("btnTimBan.png", "btnTimBanSelectPress.png", "btnTimBan.png", "btnTimBan.png", ccui.Widget.PLIST_TEXTURE))
	},
	Ju: function() {
		this.Cc(!0);
		this.wd = new BkButton("btnRefresh.png", "btnRefreshPress.png", "btnRefresh.png", "btnRefresh.png", ccui.Widget.PLIST_TEXTURE);
		this.wd.setScale(GAME_SCALE);
		this.wd.x = 0.9 * this.Q.width;
		this.wd.y = 0.83 * this.Q.height;
		var a = this.va[1],
			b = new BkSprite("#btnTimBan.png");
		this.wd.y = a.y - b.getContentSize().height *
			GAME_SCALE * 0.5 - this.wd.getBoundingBox().height / 2;
		this.wd.addTouchEventListener(function() {
			2E3 > J() - this.wd.Kb ? logMessage("click 2 lan trong 1 sec -\x3e don't process action") : (this.wd.Kb = J(), this.Ul())
		}, this);
		isWebPlatform() && (this.wd.x = this.Q.width / 2, this.wd.y = 0.94 * this.Q.height);
		this.T(this.wd, WD_ZORDER_TOP)
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	ud: function(a, b) {
		switch (b) {
			case Pf:
				this.Zx = !0;
				this.Dd = a;
				if (this.av && (this.av = !1, 0 == this.Dd.length)) {
					logMessage("friendlist trong -\x3e default show tab 2");
					t();
					this.Ct(2);
					return
				}
				this.Ut();
				break;
			case Wf:
				this.gK(a);
				break;
			case jh:
				showToastMessage("B\u1ea1n v\u00e0 " + this.$k.userName + " \u0111\u00e3 tr\u1edf th\u00e0nh b\u1ea1n b\u00e8.", cc.director.getWinSize().width / 2, cc.director.getWinSize().height / 2);
				this.ix(!0);
				break;
			case ih:
				showToastMessage("\u0110\u00e3 x\u00f3a " + a + " kh\u1ecfi danh s\u00e1ch theo d\u00f5i.", cc.director.getWinSize().width / 2, cc.director.getWinSize().height / 2);
				this.$x ? this.PR() : this.ix(!1);
				break;
			case th:
				this.ix(!0);
				showToastMessage("B\u1ea1n \u0111\u00e3 b\u1eaft \u0111\u1ea7u theo d\u00f5i: " +
					a, cc.director.getWinSize().width / 2, cc.director.getWinSize().height / 2);
				break;
			case If:
				this.hp(a);
				break;
			case Jf:
				this.hp(a);
				break;
			case Hf:
				this.sV(a)
		}
		t()
	},
	sV: function() {
		logMessage("updateFacebokLinkPlayerAccHasRantUserFriend");
		null != this.Fg && this.Fg.Ya(!1);
		null != this.ld && (this.ld.x = 0.5 * this.Q.width);
		this.Ul()
	},
	Ut: function() {
		this.Te();
		this.zt();
		1 == this.nc && this.Vj(this.Dd, this.nc)
	},
	Ul: function() {
		logMessage("loadFriendsList");
		this.Fb();
		var a = new BkPacket;
		a.yF();
		BkConnectionManager.send(a);
		s()
	},
	lj: function(a,
		b) {
		logMessage("selectedTabEvent: " + b);
		this.sn(b)
	},
	sn: function(a) {
		this.Te();
		this.zt();
		1 == a ? (isWebPlatform() ? (this.wd.Ya(!1), this.Ul()) : (this.wd.Ya(!0), this.Zx ? this.Vj(this.Dd, this.nc) : this.Ul()), this.Lw(!1)) : 2 == a && (this.wd.Ya(!1), this.LA(!0), this.EA(), this.lM());
		this.Ac.getBoundingBox();
		this.va[0].getBoundingBox()
	},
	pd: null,
	kM: function() {
		console.log("initGuidleTimBanLayer");
		if (null == this.pd) {
			console.log("initGuidleTimBanLayer");
			this.pd = new BkSprite;
			this.pd.setContentSize(630 * GAME_SCALE, 740 * GAME_SCALE);
			this.pd.x = this.Q.width / 2;
			this.pd.y = this.pd.getContentSize().height / 2 + 0.12 * this.Q.height;
			this.T(this.pd);
			var a = 18;
			isWebPlatform() || (a = 30);
			var b = 0.04 * this.pd.getContentSize().width,
				c = new BkLabel("Gi\u1edbi thi\u1ec7u v\u1ec1 ch\u1ee9c n\u0103ng b\u1ea1n b\u00e8: ", "", a);
			c.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			c.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
			c.setTextColor(v);
			c.boundingWidth = 0.95 * this.Q.width / GAME_SCALE;
			isWebPlatform() || c.setScale(GAME_SCALE);
			c.x = 0;
			c.y = 0;
			this.pd.addChild(c);
			var d = 0.8 * c.getBoundingBox().height,
				e = 0.4 * c.getBoundingBox().height,
				f = new BkLabel("1. T\u00ecm b\u1ea1n v\u00e0 k\u1ebft b\u1ea1n theo t\u00ean.", "", a);
			f.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			f.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
			f.setTextColor(v);
			f.boundingWidth = 0.95 * this.Q.width / GAME_SCALE;
			isWebPlatform() || f.setScale(GAME_SCALE);
			f.x = b + 0.5 * f.getBoundingBox().width;
			f.y = c.y - 0.5 * c.getBoundingBox().height - 0.5 * f.getBoundingBox().height - d;
			this.pd.addChild(f);
			c = new BkLabel("2. M\u1eddi b\u1ea1n ch\u01a1i ho\u1eb7c v\u00e0o xem khi b\u1ea1n b\u00e8 online.",
				"", a);
			c.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			c.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
			c.setTextColor(v);
			c.boundingWidth = 0.95 * this.Q.width / GAME_SCALE;
			isWebPlatform() || c.setScale(GAME_SCALE);
			c.x = b + 0.5 * c.getBoundingBox().width;
			c.y = f.y - 0.5 * f.getBoundingBox().height - 0.5 * c.getBoundingBox().height - e;
			this.pd.addChild(c);
			f = new BkLabel("3. T\u1ef1 \u0111\u1ed9ng th\u00eam b\u1ea1n b\u00e8 Facebook th\u00e0nh b\u1ea1n trong game.", "", a);
			f.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			f.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
			f.setTextColor(v);
			f.boundingWidth = 0.95 * this.Q.width / GAME_SCALE;
			isWebPlatform() || f.setScale(GAME_SCALE);
			f.x = b + 0.5 * f.getBoundingBox().width;
			f.y = c.y - 0.5 * c.getBoundingBox().height - 0.5 * f.getBoundingBox().height - e;
			this.pd.addChild(f);
			a = new BkLabel('Ch\u00fa \u00fd: \u0111\u1ec3 xem h\u01b0\u1edbng d\u1eabn chi ti\u1ebft vui l\u00f2ng click button "H\u01b0\u1edbng d\u1eabn"', "", a, !1, !0);
			a.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_LEFT);
			a.setTextColor(v);
			a.boundingWidth = 0.95 * this.Q.width / GAME_SCALE;
			isWebPlatform() || a.setScale(GAME_SCALE);
			a.x = b + 0.5 * a.getBoundingBox().width;
			a.y = f.y - 0.5 * f.getBoundingBox().height - 0.5 * a.getBoundingBox().height - e;
			this.pd.addChild(a);
			b = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE);
			b.setTitleText("H\u01b0\u1edbng d\u1eabn");
			b.setTitleFontName(ma());
			b.setTitleFontSize(31);
			b.setTitleColor(cc.color(71, 44, 27));
			b.getTitleRenderer().y += 0.1 * b.getBoundingBox().height;
			b.setScale(GAME_SCALE);
			b.x = 0.5 * this.pd.getContentSize().width;
			b.y = a.y - a.getBoundingBox().height - 0.5 * b.getBoundingBox().height;
			this.pd.addChild(b);
			var g = this;
			b.addClickEventListener(function() {
				g.xO()
			})
		}
	},
	xO: function() {
		logMessage("onClickHuongDanChiTiet");
		Wa($i + "huong-dan-ban-be", "H\u01b0\u1edbng d\u1eabn chi ti\u1ebft")
	},
	Lw: function(a) {
		null != this.pd && this.pd.setVisible(a)
	},
	lM: function() {
		isWebPlatform() || isFBInstantGame() || (this.kM(), this.Lw(!0))
	},
	LA: function() {
		this.zt();
		this.le = new BkSprite;
		this.T(this.le, 0, 0);
		var a = new cc.DrawNode,
			b = cc.color(64, 54, 37);
		a.drawRect(cc.p(0,
			0), cc.p(595, 1), b, 1, b);
		a.x = 0;
		a.y = 0;
		var a = 16,
			c = 18,
			b = 0.6;
		isWebPlatform() || (c = a = 30, b = GAME_SCALE);
		a = new BkLabel("T\u00ean ng\u01b0\u1eddi ch\u01a1i:", "Arial", a);
		a.x = a.getContentSize().width / 2 + 80;
		a.y = a.getContentSize().height / 2 + 12;
		this.le.addChild(a);
		var d = res.Vt,
			e = cc.size(205, 30);
		isWebPlatform() || (e = cc.size(205, 46));
		this.tb = createEditBox(e, d);
		this.tb.x = a.x + a.getContentSize().width / 2 + this.tb.getContentSize().width / 2 + 5;
		this.tb.y = a.y - 0.5;
		this.tb.setFontSize(c);
		"" != this.Us && this.tb.setString(this.Us);
		this.tb.setFontColor(Ej);
		this.tb.setMaxLength(20);
		this.le.addChild(this.tb);
		this.tb.setFocus();
		var f = this;
		cc.eventManager.addListener({
			event: cc.EventListener.KEYBOARD,
			onKeyReleased: function(a) {
				a == cc.KEY.enter && f.mz(f.tb.getString())
			}
		}, this.tb);
		c = createBkButtonPlist("btnTimKiem.png", "btnTimKiemPress.png", "btnTimKiem.png", "btnTimKiem.png");
		c.setScale(GAME_SCALE);
		a.setScale(b);
		this.tb.setScale(GAME_SCALE);
		a.setTextColor(v);
		c.x = this.tb.x + this.tb.getContentSize().width / 2 + c.getContentSize().width / 2 + 15;
		c.y = this.tb.y;
		c.addTouchEventListener(function(a,
			b) {
			b == ccui.Widget.TOUCH_ENDED && this.mz(this.tb.getString())
		}, this);
		this.le.addChild(c);
		this.le.x = 22;
		this.le.y = this.Q.height / 1.2;
		b = c.getBoundingBox().width + a.getBoundingBox().width + this.tb.getBoundingBox().width;
		d = 5 * GAME_SCALE;
		this.le.x = (this.Q.width - b - 2 * d) / 2;
		a.x = a.getBoundingBox().width / 2;
		this.tb.x = a.x + a.getBoundingBox().width / 2 + this.tb.getBoundingBox().width / 2 + d;
		c.x = this.tb.x + this.tb.getBoundingBox().width / 2 + c.getBoundingBox().width / 2 + d;
		this.le.y = 0.81 * this.Q.height;
		isWebPlatform() && (a.setVisible(!1),
			this.tb.setPlaceHolder("Nh\u1eadp t\u00ean ng\u01b0\u1eddi"), this.tb.setPlaceholderFontColor(Ej), this.tb.x = a.x + a.getContentSize().width / 2 + this.tb.getContentSize().width / 2 - 40, c.x = this.tb.x + this.tb.getContentSize().width / 2 + c.getContentSize().width / 2 + 15)
	},
	Vj: function(a, b) {
		this.Qa = new BkSprite;
		var c = 480,
			d = 0.9;
		2 == b && (c = 420, d = 0.8);
		var e = 0.62 * cc.winSize.width;
		isWebPlatform() || (e = 0.95 * this.Q.width, c = 760 * GAME_SCALE, 1 == b && (c = 780 * GAME_SCALE, d = 0.82));
		this.Qa.setContentSize(e, c);
		if (null != a && 0 < a.length) {
			a.sort(this.AU);
			this.V = new Cn;
			this.V.setDirection(ccui.ScrollView.DIR_VERTICAL);
			this.V.setTouchEnabled(!0);
			this.V.setBounceEnabled(!0);
			this.V.setContentSize(cc.size(this.Qa.getContentSize().width, this.Qa.getContentSize().height));
			this.V.setPosition(0, 0);
			this.V.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL);
			for (c = 0; c < a.length; c++) e = this.Ht(a[c], this), this.V.pushBackCustomItem(e);
			this.Qa.addChild(this.V)
		} else c = 30, isWebPlatform() && (c = 20), c = new BkLabel("", "Arial", c), 1 == b ? c.setString("B\u1ea1n hi\u1ec7n t\u1ea1i ch\u01b0a c\u00f3 b\u1ea1n b\u00e8 n\u00e0o.") :
			2 == b && c.setString("Kh\u00f4ng c\u00f3 k\u1ebft qu\u1ea3, xin h\u00e3y th\u1eed l\u1ea1i."), c.y = this.Qa.getContentSize().height / 1.5, c.x = this.Qa.getContentSize().width / 2, this.Qa.addChild(c), c.setTextColor(v), c.Yb(GAME_SCALE), c.y = this.Qa.getContentSize().height / 2;
		this.Qa.x = this.Q.width / 2;
		this.Qa.y = this.Q.height * d - this.Qa.getContentSize().height / 2;
		this.EA();
		this.T(this.Qa, 0, 0)
	},
	EA: function() {
		var a = this;
		if (!isWebPlatform() && (logMessage("init btn Moiban"), null == this.ld && (this.ld = createBkButtonPlist("btn_moi_ban_FB.png",
				"btn_moi_ban_FB_press.png", "btn_moi_ban_FB.png", "btn_moi_ban_FB.png"), this.ld.setScale(GAME_SCALE), this.ld.x = this.Q.width / 2, this.ld.y = 0.06 * this.Q.height, this.T(this.ld), this.ld.addClickEventListener(function() {
				a.rC()
			})), this.ld.Ya(!0), !isFBInstantGame() && !n.wu())) {
			var b = 0.2 * this.Q.width;
			null == this.Fg && (this.Fg = createBkButtonPlist("btnFriendFB.png", "btnFriendFBPress.png", "btnFriendFB.png", "btnFriendFB.png"), this.Fg.setScale(GAME_SCALE), this.Fg.x = this.Q.width / 2 + b, this.Fg.y = 0.06 * this.Q.height, this.T(this.Fg),
				this.Fg.addClickEventListener(function() {
					a.Fb();
					n.SJ()
				}));
			this.Fg.Ya(!0);
			this.ld.x = this.Q.width / 2 - b
		}
	},
	rC: function() {
		BkLogicManager.S().St()
	},
	Q5: function(a, b, c) {
		if (isWebPlatform()) {
			var d = new BkLabel("H\u00e3y m\u1eddi th\u00eam b\u1ea1n tr\u00ean Facebook \u0111\u1ec3 ch\u01a1i c\u00f9ng!", "Arial", 20);
			d.x = b;
			d.y = c - 120;
			d.setTextColor(v);
			a.addChild(d);
			c = createBkButtonPlist("btn_moi_ban_FB.png", "btn_moi_ban_FB_press.png", "btn_moi_ban_FB.png", "btn_moi_ban_FB.png");
			c.setPosition(b, d.y - 40);
			c.addClickEventListener(function() {
				E.ly()
			});
			a.addChild(c)
		}
	},
	Ht: function(a, b) {
		var c = new BkFriendItem(a, b.nc, b),
			d = new ccui.Layout;
		d.setContentSize(c.getContentSize());
		c.setPosition(0.5 * this.Q.width, 0.5 * c.getContentSize().height);
		d.addChild(c);
		d.$g = a.userName;
		return d
	},
	HY: function(a, b) {
		return null == a ? null : new BkFriendItem(a, b.nc, b)
	},
	xK: function(a) {
		void 0 != a && (this.Kw(a), a = new BkPlayerInfo(a.userName), a.Ab(this), a.Oa())
	},
	mz: function(a) {
		this.Lw(!1);
		if (2E3 > J() - this.wd.Kb) logMessage("click 2 lan trong 1 sec -\x3e don't process action");
		else if (this.wd.Kb =
			J(), a = a.replace(/\s/g, ""), a = a.replace(/\n/g, ""), isUserNameValidate(a)) {
			this.Us = a;
			this.Fb();
			var b = new BkPacket;
			b.QF(a);
			BkConnectionManager.send(b);
			s()
		} else showToastMessage("Vui l\u00f2ng nh\u1eadp \u00edt nh\u1ea5t 4 k\u00fd t\u1ef1 v\u00e0 ch\u1ec9 ch\u1ee9a ch\u1eef c\u00e1i , s\u1ed1 ho\u1eb7c d\u1ea5u _", null, null, null, 300)
	},
	Wg: function(a) {
		if (1 > BkGlobal.P.pb()) showPopupMessageWith(jn + Yl);
		else {
			this.Fb();
			null != this.xd && this.xd.removeSelf();
			this.xd = new BkSelectGameForFriend(a);
			this.xd.Ab(this);
			this.xd.Oa();
			var b = this;
			b.setVisible(!1);
			this.xd.df(function() {
				b.setVisible(!0);
				1 == b.nc && b.Ul()
			})
		}
	},
	hp: function(a) {
		this.xd && this.xd.YE(a)
	},
	gK: function(a) {
		this.LA();
		this.Te();
		this.Vj(a, this.nc)
	},
	Te: function() {
		logMessage("cleanGUI");
		null != this.Qa && (this.Qa.removeSelf(), this.Qa = null)
	},
	zt: function() {
		logMessage("cleanSearchGUI");
		null != this.le && (this.le.removeFromParent(), this.le = null)
	},
	AU: function(a, b) {
		var c = a.userName.toLowerCase(),
			d = b.userName.toLowerCase();
		return a.Ie || b.Ie ? 0 : c.localeCompare(d)
	},
	$M: function(a) {
		if (null !=
			this.Dd)
			for (var b = 0; b < this.Dd.length; b++) {
				var c = this.Dd[b];
				if (null != c && c.userName.toLowerCase() == a.toLowerCase()) return !0
			}
		return !1
	},
	Kw: function(a, b) {
		this.$k = a;
		this.$x = b
	},
	ix: function(a) {
		if (a) {
			a = this.Dd.slice();
			for (var b = !1, c = 0; c < a.length; c++) {
				var d = this.Dd[c];
				this.$k.userName.toLowerCase() == d.userName.toLowerCase() && (b = !0)
			}
			b || this.Dd.push(this.$k)
		}
	},
	J3: function() {
		for (var a = this.Dd.slice(), b = 0; b < a.length; b++)
			if (this.$k.userName.toLowerCase() == a[b].userName.toLowerCase()) {
				this.Dd.splice(b, 1);
				break
			} this.Ut()
	},
	PR: function() {
		for (var a = this.Dd.slice(), b = 0; b < a.length; b++)
			if (this.$k.userName.toLowerCase() == a[b].userName.toLowerCase()) {
				this.Dd.splice(b, 1);
				break
			} this.Ut()
	},
	onExit: function() {
		this._super();
		BkLogicManager.S().jb(null)
	}
});
BkChangePasswordWindow = BkBaseChessWindow.extend({
	Bb: null,
	Bt: cc.color(71, 44, 27),
	ctor: function() {
		this.Zg = "playerId";
		this.pj = "tempPassword";
		this.Wj = "expiredInMinutes";
		this.tj = "urlInfor";
		var a = isWebPlatform() ? cc.size(610, 620) : cc.size(620 * GAME_SCALE, 662 * GAME_SCALE);
		this._super("", a);
		this.Rd = this.Q.width;
		this.Jc = this.Q.height;
		this.Cc(!0);
		this.Ob("title_wd_thong_tin_tk.png", 3, 0.7 * GAME_SCALE);
		BkLogicManager.S().jb(this);
		this.pw();
		console.log("BkChangePasswordWindow - tempPassword: " + this.pj);
		console.log("BkChangePasswordWindow - playerId: " +
			this.Zg)
	},
	pw: function() {
		s();
		var a = new BkPacket;
		a.xx();
		BkConnectionManager.send(a)
	},
	hg: function() {
		var a = this.Rd / 2,
			b = 23,
			c = 25;
		isWebPlatform() || (b = 38, c = 42);
		var d = cc.color(66, 33, 24),
			e = [new BkLabelItem("T\u00ean t\u00e0i kho\u1ea3n c\u1ee7a b\u1ea1n v\u00e0 m\u1eadt kh\u1ea9u \u0111\u1ec3 \u0111\u0103ng", b, d, 1, !1), new BkLabelItem("nh\u1eadp tr\u00ean thi\u1ebft b\u1ecb kh\u00e1c.", b, d, 2, !1, !1, 0.5)],
			f = 0.15 * this.Rd,
			e = new BkLabelSprite(e);
		e.setScale(GAME_SCALE);
		e.x = f;
		e.y = 0.92 * this.Jc - UI.Ga(e);
		this.T(e);
		var g =
			new cc.Scale9Sprite("name_frame.png");
		g.width = 0.75 * this.Rd;
		g.height = 0.17 * this.Rd;
		g.x = 0.5 * this.Rd;
		g.y = 0.65 * this.Jc;
		this.T(g);
		var e = 0.25 * this.Rd,
			h = cc.color(254, 232, 203),
			k = cc.color(252, 219, 86),
			c = [new BkLabelItem("T\u00ean t\u00e0i kho\u1ea3n: ", b, h, 1, !1), new BkLabelItem(this.Zg, c, k, 1, !0), new BkLabelItem("M\u1eadt kh\u1ea9u: ", b, h, 2, !1, !1, 0.5), new BkLabelItem(this.pj, c, k, 2, !0)],
			c = new BkLabelSprite(c);
		c.setScale(GAME_SCALE);
		c.x = g.x - 0.5 * UI.qa(c);
		c.y = g.y;
		this.T(c);
		c = cc.color(211, 36, 2);
		b = [new BkLabelItem("M\u1eadt kh\u1ea9u s\u1ebd h\u1ebft h\u1ea1n sau ",
			b, d, 1, !1), new BkLabelItem(this.Wj + " ph\u00fat", b, c, 1, !0), new BkLabelItem(" v\u00e0 ch\u1ec9 \u0111\u01b0\u1ee3c ", b, d, 1, !1), new BkLabelItem("s\u1eed d\u1ee5ng ", b, d, 2, !1, !1, 0.5), new BkLabelItem("1 l\u1ea7n.", b, c, 2, !0), new BkLabelItem("L\u01b0u \u00fd: kh\u00f4ng chia s\u1ebb th\u00f4ng tin n\u00e0y cho b\u1ea5t k\u1ef3 ai", 21, c, 3, !1, !0), new BkLabelItem("kh\u00e1c, k\u1ec3 c\u1ea3 Admin Ziga.", 21, c, 4, !1, !0, 0.5), new BkLabelItem("Ziga s\u1ebd kh\u00f4ng ch\u1ecbu tr\u00e1ch nhi\u1ec7m n\u1ebfu b\u1ea1n \u0111\u1ec3 m\u1ea5t",
			21, d, 5, !1), new BkLabelItem("t\u00e0i kho\u1ea3n.", 21, d, 6, !1, !1, 0.5)];
		b = new BkLabelSprite(b);
		b.setScale(GAME_SCALE);
		b.x = f;
		b.y = 0.47 * this.Jc;
		this.T(b);
		f = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE);
		f = new BkButton("btnHuongDan.png", "btnHuongDanPress.png", "btnHuongDan.png", "btnHuongDan.png", ccui.Widget.PLIST_TEXTURE);
		f.setScale(GAME_SCALE);
		f.x = a - e;
		f.y = 1.2 * UI.Ga(f);
		this.T(f, 1, 0);
		this.Nl = new Date(0);
		var m = this;
		f.addClickEventListener(function() {
			Wa(m.tj, "H\u01b0\u1edbng d\u1eabn li\u00ean k\u1ebft t\u00e0i kho\u1ea3n")
		});
		b = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		b.setScale(GAME_SCALE);
		b.x = a + e;
		b.y = f.y;
		this.T(b, 1, 0);
		b.addClickEventListener(function() {
			m.removeSelf()
		})
	},
	zB: function() {
		if (this.Nl) {
			var a = new Date - this.Nl;
			console.log("isSpamClick - distance \x3d " + a);
			return 1E3 > a ? !0 : !1
		}
		return !1
	},
	ud: function(a, b) {
		console.log("BkChangePasswordWindow - this.onLoadComplete - o: " + a);
		t();
		BkLogicManager.S().jb(null);
		switch (b) {
			case Oh:
				this.Zg = a.Zg, this.pj = a.pj, this.Wj =
					a.Wj, this.tj = a.tj, this.hg()
		}
	}
});
BkLoginOtherAccountWindow = BkBaseChessWindow.extend({
	fa: null,
	Bt: cc.color(71, 44, 27),
	Os: 6,
	Ns: 20,
	Ps: 6,
	ctor: function(a) {
		var b = isWebPlatform() ? cc.size(610, 620) : cc.size(620 * GAME_SCALE, 600 * GAME_SCALE);
		this._super("", b);
		this.Cc(!0);
		this.Ob("title_wd_log_in.png", 3, 0.8 * GAME_SCALE);
		this.Rd = this.Q.width;
		this.Jc = this.Q.height;
		this.hg();
		a && (console.log("BkLoginOtherAccountWindow - parentNode.y: " + a.y), this.y = 0.5 * (a.Q.height - this.Jc) + a.y)
	},
	hg: function() {
		var a = 0.5 * this.Q.width,
			b = cc.color(66, 33, 24),
			c = 0.165 * this.Rd,
			b = [new BkLabelItem("B\u1ea1n \u0111\u00e3 c\u00f3 t\u00e0i kho\u1ea3n Ziga, nh\u1eadp t\u00ean", 26, b, 1, !1), new BkLabelItem("t\u00e0i kho\u1ea3n v\u00e0 m\u1eadt kh\u1ea9u.", 26, b, 2, !1)],
			b = new BkLabelSprite(b);
		b.setScale(GAME_SCALE);
		b.x = c;
		b.y = 0.9 * this.Jc - UI.Ga(b);
		this.T(b);
		var b = 0.73 * this.Q.width,
			d = 0.08 * this.Q.height;
		this.fa = createEditBox(cc.size(b, d), "changename.png");
		this.fa.setMaxLength(20);
		this.fa.x = c + 0.5 * UI.qa(this.fa);
		console.log("BkLoginOtherAccountWindow - this.txtUser.width: " + this.fa.width);
		console.log("BkLoginOtherAccountWindow - UI.getRealWidth(this.txtUser): " + UI.qa(this.fa));
		this.fa.y = 0.63 * this.Jc;
		this.fa.setPlaceHolder("T\u00ean t\u00e0i kho\u1ea3n");
		var e = cc.color(167, 142, 112),
			f = 28 * GAME_SCALE,
			g = Ej;
		this.fa.setPlaceholderFontColor(e);
		this.fa.setFontColor(g);
		this.fa.setFontSize(f);
		this.T(this.fa, 1, 0);
		this.Mm(this.fa);
		this.Bb = createEditBox(cc.size(b, d), "changename.png");
		this.Bb.setMaxLength(20);
		this.Bb.x = this.fa.x;
		this.Bb.y = this.fa.y - 1.2 * UI.Ga(this.Bb);
		this.Bb.setPlaceHolder("M\u1eadt kh\u1ea9u");
		g = Ej;
		this.Bb.setPlaceholderFontColor(e);
		this.Bb.setFontColor(g);
		this.Bb.setFontSize(f);
		this.T(this.Bb);
		this.Mm(this.Bb);
		b = cc.color(211, 36, 2);
		b = [new BkLabelItem("* Xem TH\u00d4NG TIN T\u00c0I KHO\u1ea2N tr\u00ean thi\u1ebft b\u1ecb c\u0169.", 22, b, 1, !1, !0), new BkLabelItem("* L\u01b0u \u00fd: \u0111\u0103ng nh\u1eadp t\u00e0i kho\u1ea3n c\u0169 s\u1ebd l\u00e0m m\u1ea5t t\u00e0i", 22, b, 2, !1, !0), new BkLabelItem("kho\u1ea3n hi\u1ec7n t\u1ea1i.", 22, b, 3, !1, !0)];
		b = new BkLabelSprite(b);
		b.setScale(GAME_SCALE);
		b.x = c;
		b.y = 0.2 * this.Jc + UI.Ga(b);
		this.T(b);
		var c = 0.25 * this.Q.width,
			h = this,
			b = new BkButton("btnLogin.png", qa, "btnLogin.png", "btnLogin.png", ccui.Widget.PLIST_TEXTURE);
		b.Yb(GAME_SCALE);
		b.x = a - c;
		b.y = 1.2 * UI.Ga(b);
		this.T(b, 1, 0);
		this.Nl = new Date(0);
		b.addClickEventListener(function() {
			if (h.zB()) console.log("isSpamClick");
			else {
				h.Nl = new Date;
				var a = h.fa.getString(),
					b = h.Bb.getString();
				h.yI(a, b) && h.eS(a, b)
			}
		});
		d = createBkButtonPlist("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png");
		d.setScale(GAME_SCALE);
		d.x = a + c;
		d.y = b.y;
		this.T(d, 1, 0);
		d.addClickEventListener(function() {
			h.removeSelf()
		})
	},
	yI: function(a, b) {
		if (a.length < this.Os) return showToastMessage("T\u00e0i kho\u1ea3n t\u1ed1i thi\u1ec3u " + this.Os + " k\u00fd t\u1ef1."), !1;
		if (a.length > this.Ns) return showToastMessage("T\u00e0i kho\u1ea3n t\u1ed1i \u0111a " + this.Ns + " k\u00fd t\u1ef1."), !1;
		if (b.length != this.Ps) return showToastMessage("M\u1eadt kh\u1ea9u c\u00f3 \u0111\u1ed9 d\u00e0i " + this.Ps + " k\u00fd t\u1ef1."), !1;
		for (var c = !1, d = 0; d < b.length; d++)
			if (isNaN(parseInt(b[d]))) {
				c = !0;
				break
			} return c ? (showToastMessage("M\u1eadt kh\u1ea9u ch\u1ec9 bao g\u1ed3m c\u00e1c k\u00fd t\u1ef1 s\u1ed1."), !1) : !0
	},
	zB: function() {
		if (this.Nl) {
			var a = new Date - this.Nl;
			console.log("isSpamClick - distance \x3d " + a);
			return 1E3 > a ? !0 : !1
		}
		return !1
	},
	eS: function(a, b) {
		logMessage("requestLoginOtherAccount - userName: " + a + " - password: " + b);
		s();
		this.Fb();
		var c = new BkPacket;
		c.LF(a, b);
		BkConnectionManager.send(c)
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	ud: function(a) {
		t();
		BkLogicManager.S().jb(null);
		switch (a) {
			case Fk:
				this.removeSelf()
		}
	}
});
BkLienKetTkWindow = BkBaseChessWindow.extend({
	fa: null,
	Bt: cc.color(71, 44, 27),
	Os: 6,
	Ns: 20,
	Ps: 6,
	ctor: function(a) {
		var b = isWebPlatform() ? cc.size(610, 620) : cc.size(650 * GAME_SCALE, 900 * GAME_SCALE);
		this._super("", b);
		this.Cc(!0);
		this.Ob("title_wd_lien_ket_tk.png", 3, 0.7 * GAME_SCALE);
		this.Rd = this.Q.width;
		this.Jc = this.Q.height;
		BkLogicManager.S().jb(this);
		this.pw();
		a && (this.y = a.Q ? 0.5 * (a.Q.height - this.Jc) + a.y : 0)
	},
	pw: function() {
		s();
		var a = new BkPacket;
		a.xx();
		BkConnectionManager.send(a)
	},
	hg: function() {
		var a = new cc.Scale9Sprite("borderThongTinTk.png");
		a.width = 0.9 * this.Rd;
		a.height = 0.3 * this.Jc;
		a.x = 0.5 * this.Rd;
		a.y = 0.75 * this.Jc;
		this.T(a);
		var b = 23 * GAME_SCALE,
			c = new BkLabel('B\u1ea1n mu\u1ed1n \u0111\u0103ng nh\u1eadp t\u00e0i kho\u1ea3n n\u00e0y tr\u00ean thi\u1ebft\nb\u1ecb kh\u00e1c, nh\u1ea5n n\u00fat "TH\u00d4NG TIN T\u00c0I KHO\u1ea2N"', "", b);
		c.setTextColor(v);
		c.x = a.x;
		c.y = a.y + 0.2 * UI.Ga(a);
		this.T(c);
		c = new BkButton("btnThongTinTk.png", "btnThongTinTkPress.png", "btnThongTinTk.png", "btnThongTinTk.png", ccui.Widget.PLIST_TEXTURE);
		c.setScale(0.7 * GAME_SCALE);
		c.x = a.x;
		c.y = UI.Bh(a) + 0.65 * UI.Ga(c);
		var d = this;
		c.addClickEventListener(function() {
			d.sU()
		});
		this.T(c);
		a = new cc.Scale9Sprite("borderThongTinTk.png");
		a.width = 0.9 * this.Rd;
		a.height = 0.42 * this.Jc;
		a.x = 0.5 * this.Rd;
		a.y = 0.37 * this.Jc;
		this.T(a);
		c = new BkLabel('B\u1ea1n mu\u1ed1n \u0111\u0103ng nh\u1eadp t\u00e0i kho\u1ea3n c\u0169 tr\u00ean thi\u1ebft\nb\u1ecb n\u00e0y: \n- B\u01b0\u1edbc 1: xem TH\u00d4NG TIN T\u00c0I KHO\u1ea2N tr\u00ean \nthi\u1ebft b\u1ecb c\u0169 \n- B\u01b0\u1edbc 2: nh\u1ea5n n\u00fat "\u0110\u0102NG NH\u1eacP"',
			"", b);
		c.setTextColor(v);
		c.x = a.x;
		c.y = a.y + 0.15 * UI.Ga(a);
		this.T(c);
		b = new BkButton("btnLoginOtherAccount.png", "btnLoginOtherAccountPress.png", "btnLoginOtherAccount.png", "btnLoginOtherAccount.png", ccui.Widget.PLIST_TEXTURE);
		b.setScale(0.6 * GAME_SCALE);
		b.x = a.x;
		b.y = UI.Bh(a) + 0.65 * UI.Ga(b);
		d = this;
		b.addClickEventListener(function() {
			d.cU()
		});
		this.T(b);
		b = new BkButton("btnHuongDan.png", "btnHuongDanPress.png", "btnHuongDan.png", "btnHuongDan.png", ccui.Widget.PLIST_TEXTURE);
		b.Yb(GAME_SCALE);
		b.x = 0.25 * this.Rd;
		b.y = 1.15 *
			UI.Ga(b);
		this.T(b);
		b.addClickEventListener(function() {
			Wa(d.tj, "H\u01b0\u1edbng d\u1eabn li\u00ean k\u1ebft t\u00e0i kho\u1ea3n")
		});
		a = createBkButtonPlist("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png");
		a.setScale(GAME_SCALE);
		a.x = 0.75 * this.Rd;
		a.y = b.y;
		this.T(a, 1, 0);
		a.addClickEventListener(function() {
			d.removeSelf()
		})
	},
	sU: function() {
		var a = new BkChangePasswordWindow(this);
		a.Ab(this);
		a.Oa()
	},
	cU: function() {
		console.log("showLoginWindow - BkLoginOtherAccountWindow");
		var a = new BkLoginOtherAccountWindow(this);
		a.Ab(this);
		a.Oa()
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	ud: function(a, b) {
		console.log("BkLienKetTkWindow - this.onLoadComplete - o: " + a);
		t();
		BkLogicManager.S().jb(null);
		switch (b) {
			case Oh:
				this.Zg = a.Zg, this.pj = a.pj, this.Wj = a.Wj, this.tj = a.tj, this.hg()
		}
	}
});
BkTopPlayersWindow = BkTabWindow.extend({
	Ic: 9,
	Lm: 0.01,
	Sf: 0,
	al: 99,
	oc: 4,
	Hc: 0,
	ke: 50,
	kb: null,
	pf: ["C\u1edd T\u01b0\u1edbng", "C\u1edd \u00dap"],
	Km: null,
	tb: null,
	XM: !0,
	ctor: function() {
		var a = a = "";
		this._super(a, isWebPlatform() ? cc.size(600 * GAME_SCALE, 620 * GAME_SCALE) : cc.size(620 * GAME_SCALE, 1100 * GAME_SCALE), this.pf.length, this.pf);
		this.Ob("title_wd_xephang.png");
		this.Lp(this.lj, this, 1);
		logMessage("BkTopPlayersWindow - this.ctor() - after addTabChangeEventListener");
		this.Yr([])
	},
	Ob: function(a, b) {
		b = void 0 === b ? 0 : b;
		var c = new BkSprite("#" + a);
		c.setScale(GAME_SCALE);
		c.x = this.Za.x;
		c.y = this.Za.y + b * GAME_SCALE;
		this.lb.addChild(c, WD_ZORDER_BODY)
	},
	onEnter: function() {
		cc.Node.prototype.onEnter.call(this);
		console.log("BkTopPlayersWindow - this.onEnter() - this.listView: ", this.V);
		if (this.V) {
			console.log("BkTopPlayersWindow - this.onEnter()");
			this.V.forceDoLayout();
			var a = this.Pd * this.al + (this.al - 1) * this.oc;
			this.V.getInnerContainer().setContentSize(cc.size(this.V.getInnerContainerSize().width, a));
			this.V.jumpToTop()
		}
	},
	Iq: function() {
		var a,
			b = this.Q.width,
			c = GAME_SCALE;
		isWebPlatform() && (500 > this.Q.width ? c = 0.6 : 600 > this.Q.width && (c = 0.9));
		a = cc.spriteFrameCache.getSpriteFrame("mini_popupframe.png");
		var d = cc.rect(75, 80, 425, 379);
		this.Pa = new cc.Scale9Sprite(a, d);
		isWebPlatform() || (b = this.Pa.getContentSize().width);
		this.Pa.setScaleY(1.1 * GAME_SCALE);
		this.Pa.width = b * GAME_SCALE;
		this.Pa.height = this.Q.height;
		this.Pa.x = this.Q.width / 2;
		this.Pa.y = this.Q.height / 2;
		this.lb.addChild(this.Pa, WD_ZORDER_BODY);
		a = c;
		1 > a && !isWebPlatform() && (a = 1);
		this.Za = new BkSprite("#header.png");
		this.Za.setScaleX(c);
		this.Za.setScaleY(a);
		this.Za.x = this.Q.width / 2;
		this.Za.y = UI.xf(this.Pa) - this.Za.getBoundingBox().height / 2;
		logMessage("BkTopPlayersWindow - initBgBody - this.headerChessWD.y \x3d " + this.Za.y);
		this.lb.addChild(this.Za, WD_ZORDER_BODY)
	},
	YB: function() {
		this.Fb();
		var a = new BkPacket;
		a.Hs(K);
		BkConnectionManager.send(a);
		s()
	},
	MN: function() {
		this.Fb();
		var a = new BkPacket;
		a.Hs(L);
		BkConnectionManager.send(a);
		s()
	},
	Rn: function() {
		this.va = [];
		logMessage("BkTopPlayersWindow - this.iniTab");
		var a = new BkButton("banhot_CT.png",
			"banhot_CT_Press.png", "banhot_CT.png", "banhot_CT.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		this.Gh(a, 1);
		this.va.push(a);
		a = new BkButton("banhot_CU_deselect.png", "banhot_CU_deselect_Press.png", "banhot_CU_deselect.png", "banhot_CU_deselect.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		this.Gh(a, 2);
		this.va.push(a);
		this.xh();
		if (void 0 != this.of)
			for (a = 0; a < this.of.length; a++) {
				var b = this.va[a];
				0 == a ? this.gf(b, !0) : this.gf(b, !1)
			} else logMessage("Error: Must addTabChangeEventListener to callback handle")
	},
	xh: function() {
		logMessage("BkTopPlayersWindow - this.configPosButton()");
		var a = this.Pa,
			b = this.va[0],
			c = this.va[1];
		b.x = 0.3 * UI.qa(a);
		b.y = 0.8 * UI.Ga(a);
		c.x = 0.7 * UI.qa(a);
		c.y = b.y
	},
	fn: function(a) {
		logMessage("BkTopPlayersWindow - this.configButtonWithSelectedTab() - tabIndex: " + a);
		var b = this.va[0],
			c = this.va[1];
		1 == a ? (b.loadTextures("banhot_CT.png", "banhot_CT_Press.png", "banhot_CT.png", "banhot_CT.png", ccui.Widget.PLIST_TEXTURE), c.loadTextures("banhot_CU_deselect.png", "banhot_CU_deselect_Press.png", "banhot_CU_deselect.png",
			"banhot_CU_deselect.png", ccui.Widget.PLIST_TEXTURE)) : (b.loadTextures("banhot_CT_deselect.png", "banhot_CT_deselect_Press.png", "banhot_CT_deselect.png", "banhot_CT_deselect.png", ccui.Widget.PLIST_TEXTURE), c.loadTextures("banhot_CU.png", "banhot_CU_Press.png", "banhot_CU.png", "banhot_CU.png", ccui.Widget.PLIST_TEXTURE))
	},
	ud: function(a, b, c) {
		switch (b) {
			case lg:
				logMessage("BkTopPlayersWindow - onLoadComplete");
				this.Km = this.gy(a);
				this.al = a.length;
				t();
				this.lK(c);
				console.log("BkTopPlayersWindow - this.onLoadComplete() before call this.onEnter()");
				this.onEnter();
				break;
			case If:
				t();
				this.hp(a);
				break;
			case Jf:
				t(), this.hp(a)
		}
	},
	gy: function(a) {
		for (var b = 0; b < a.length; b++) a[b].Ta = b + 1;
		return a
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	lK: function(a) {
		this.Te();
		this.jK(this.Km, this.nc, a)
	},
	Yr: function() {
		if (isWebPlatform()) {
			var a = this.Zb,
				b = this.Pa;
			a.Ya(!0);
			a.x = UI.fb(b) - 1.3 * UI.qa(a);
			a.y = UI.xf(b) - 1.9 * UI.Ga(a);
			console.log("BkTopPlayersWindow - this._btnClose.x: ", this.Zb.x);
			console.log("BkTopPlayersWindow - this._btnClose.y: ", this.Zb.y)
		}
	},
	KG: function() {
		var a =
			this.Pa,
			b = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		b.setScale(GAME_SCALE);
		b.x = a.x;
		b.y = b.getContentSize().height / 2;
		this.T(b);
		var c = this;
		b.addClickEventListener(function() {
			c.removeSelf()
		})
	},
	lj: function(a, b) {
		console.log("BkTopPlayersWindow - this.selectedTabEvent() - sender: ", a);
		logMessage("BkTopPlayersWindow - this.selectedTabEvent() - tabIndex: " + b);
		this.sn(b)
	},
	sn: function(a) {
		logMessage("BkTopPlayersWindow - this.drawUIWithTab() - tabIndex: " +
			a);
		this.Te();
		1 == a ? this.YB() : 2 == a && this.MN()
	},
	jK: function(a, b, c) {
		b = this.Pa;
		console.log("BkTopPlayersWindow - this.drawTopPlayers - topPlayers: ", a);
		console.log("BkTopPlayersWindow - this.drawTopPlayers - gameId: ", c);
		this.kb = new BkSprite;
		this.kb.setContentSize(0.62 * cc.winSize.width, 0.47 * cc.winSize.width);
		null != a && 0 < a.length ? this.SG(c) : this.ct();
		this.kb.x = this.Q.width / 2 + 7 * GAME_SCALE;
		this.kb.y = 0.73 * UI.Ga(b) - this.kb.getContentSize().height / 2;
		console.log("BkTopPlayersWindow - this.drawTopPlayers() - add this._Grid");
		this.T(this.kb);
		this.Yr(a)
	},
	SG: function(a) {
		var b = this.Km;
		this.V = new Cn;
		this.V.name = "List Top Players";
		this.V.setScrollBarEnabled(!1);
		this.V.setTouchEnabled(!0);
		this.V.setBounceEnabled(!0);
		this.V.setContentSize(cc.size(this.kb.getContentSize().width, this.kb.getContentSize().height));
		this.V.setPosition(0, 0);
		this.V.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL);
		var c = this.$y(b[0], this, a);
		console.log("BkTopPlayersWindow - this.drawTopPlayers() - defaultItem: ", c);
		this.V.setItemModel(c);
		this.Pd = c.getContentSize().height;
		c = this.Pd * b.length + (b.length - 1) * this.oc;
		this.ke = 2 * this.Pd + this.oc;
		console.log("BkTopPlayersWindow - this._bufferZone: ", this.ke);
		for (i = 0; i < b.length; ++i)
			if (i < this.Ic) {
				var d = this.$y(b[i], this, a);
				d.setTag(i);
				this.V.pushBackCustomItem(d)
			} this.V.setItemsMargin(this.oc);
		this.Hc = (this.Pd + this.oc) * this.Ic;
		this.V.forceDoLayout();
		this.V.getInnerContainer().setContentSize(cc.size(this.V.getInnerContainerSize().width, c));
		this.V.jumpToTop();
		a = this.V.getItems();
		console.log("BkTopPlayersWindow - this.addListPlayers() - items.y \x3d ",
			a.map(function(a) {
				return a.getPosition().y
			}));
		this.kb.addChild(this.V);
		this.scheduleUpdate()
	},
	sj: function(a, b, c) {
		console.log("BkTopPlayersWindow - this.updateItem() - itemID: ", a);
		console.log("BkTopPlayersWindow - this.updateItem() - templateID: ", b);
		b = this.V.getItems()[b];
		b.setTag(a);
		console.log("BkTopPlayersWindow - this.updateItem() - itemTemplate: ", b);
		b = b.getChildren()[0];
		if (a = this.Km[a]) c.$g = a.$g, c.Ta = a.Ta;
		console.log("BkTopPlayersWindow - this.updateItem() - playerData: ", a);
		a && b.jV(a)
	},
	update: function(a) {
		this.Uf +=
			a;
		if (!(this.Uf < this.Lm)) {
			this.Uf = 0;
			var b = this.Km,
				c = this.Pd * b.length + (b.length - 1) * this.oc,
				d = this.V.getContentSize().height,
				e = this.V.getItems();
			this.V.getInnerContainer().getPosition();
			console.log("BkHistoryListWindow - totalHeight: " + c);
			console.log("BkHistoryListWindow - update(" + a + ") - items.y: ", e.map(function(a) {
				return UI.xf(a)
			}));
			for (a = 0; a < e.length; a++) {
				var f = e[a];
				if (0 == f.getPosition().y && f.Ta != b.length) {
					console.log("BkTopPlayersWindow - update - note update in the init - items: ", e.map(function(a) {
						return a.getPosition().y
					}));
					return
				}
			}
			var g = this.V.getInnerContainer().getPosition().y < this.Sf;
			for (a = 0; a < this.Ic && a < b.length; ++a) {
				var f = e[a],
					h = this.Fi(f, a);
				g ? h < -this.ke && f.getPosition().y + this.Hc < c && (console.log("BkTopPlayersWindow - update - moving up list - i: ", a), console.log("BkTopPlayersWindow - update - item: ", f), console.log("BkTopPlayersWindow - update - items: ", e.map(function(a) {
					return a.getPosition().y
				})), console.log("BkTopPlayersWindow - update - itemPos: ", h), console.log("BkTopPlayersWindow - update - this._bufferZone: ",
					this.ke), console.log("BkTopPlayersWindow - update - item.getPosition().y: ", f.getPosition().y), console.log("BkTopPlayersWindow - update - this._reuseItemOffset: ", this.Hc), console.log("BkTopPlayersWindow - update - totalHeight: ", c), h = f.getTag() - e.length, f.setPositionY(f.getPositionY() + this.Hc), this.sj(h, a, f)) : h > this.ke + d && 0 <= f.getPositionY() - this.Hc && (console.log("BkTopPlayersWindow - update - moving down list - i: ", a), console.log("BkTopPlayersWindow - moving down - before update - items ranks: ",
					this.Dq()), console.log("BkTopPlayersWindow - moving down - before update - items positions: ", this.ru()), f.setPositionY(f.getPositionY() - this.Hc), h = f.getTag() + e.length, this.sj(h, a, f), console.log("BkTopPlayersWindow - moving down - after update - items ranks: ", this.Dq()), console.log("BkTopPlayersWindow - moving down - after update - items positions: ", this.ru()))
			}
			this.Sf = this.V.getInnerContainer().getPosition().y
		}
	},
	ru: function() {
		return this.V.getItems().map(function(a) {
			return a.getPositionY()
		})
	},
	Dq: function() {
		return this.V.getItems().map(function(a) {
			return a.getChildren()[0]
		}).map(function(a) {
			return a.W.Ta
		})
	},
	Fi: function(a) {
		a = a.getParent().convertToWorldSpaceAR(a.getPosition());
		return this.V.convertToNodeSpaceAR(a).y
	},
	ct: function() {
		console.log("BkTopPlayersWindow - empty list");
		var a = 30;
		isWebPlatform() && (a = 20);
		a = new BkLabel("", "Arial", a);
		1 == tabIndex ? a.setString("Ch\u01b0a c\u00f3 danh s\u00e1ch cao th\u1ee7 c\u1edd t\u01b0\u1edbng.") : 2 == tabIndex && a.setString("Ch\u01b0a c\u00f3 danh s\u00e1ch cao th\u1ee7 c\u1edd \u00fap.");
		a.y = this.kb.getContentSize().height / 1.5;
		a.x = this.kb.getContentSize().width / 2;
		this.kb.addChild(a);
		a.setTextColor(v);
		a.Yb(GAME_SCALE);
		a.y = this.kb.getContentSize().height / 2
	},
	ZU: function(a) {
		void 0 != a && (a = new BkPlayerInfo(a.userName), a.Ab(this), a.Oa())
	},
	$y: function(a, b, c) {
		console.log("createTopPlayerItem - player: ", a);
		console.log("createTopPlayerItem - gameId: ", c);
		b = new BkTopPlayerItem(a, b, c);
		c = new ccui.Layout;
		c.setContentSize(b.getContentSize());
		b.setPosition(0.5 * this.Q.width, 0.5 * b.getContentSize().height);
		c.addChild(b);
		c.$g = a.userName;
		c.Ta = a.Ta;
		return c
	},
	Wg: function(a) {
		if (1 > BkGlobal.P.pb()) showPopupMessageWith(jn + Yl);
		else {
			this.Fb();
			null != this.xd && this.xd.removeSelf();
			this.xd = new BkSelectGameForFriend(a);
			this.xd.Ab(this);
			this.xd.Oa();
			var b = this;
			b.setVisible(!1);
			this.xd.df(function() {
				b.setVisible(!0);
				1 == b.nc && b.YB()
			})
		}
	},
	hp: function(a) {
		this.xd && this.xd.YE(a)
	},
	Te: function() {
		logMessage("cleanGUI");
		null != this.kb && (this.kb.removeSelf(), this.kb = null)
	},
	g6: function(a, b) {
		return a.re > b.re ? -1 : a.re == b.re ? a.userName >
			b.userName ? 1 : -1 : 1
	},
	onExit: function() {
		this._super();
		BkLogicManager.S().jb(null)
	}
});
BkMailItem = BkSprite.extend({
	um: null,
	bj: null,
	Fe: null,
	Rf: null,
	tk: null,
	background: null,
	Pb: null,
	ctor: function(a, b, c, d, e) {
		this._super();
		this.bj = a;
		this.Fe = c;
		this.um = d;
		this.rd(b, e);
		this.Ou()
	},
	rd: function(a, b) {
		this.background = new cc.DrawNode;
		this.background.drawRect(cc.p(-20.5, -18), cc.p(this.um.ab().width - 65.5, 18), qj, 0, qj);
		this.addChild(this.background);
		this.Pb = new cc.DrawNode;
		this.Pb.drawRect(cc.p(-20.5, -18), cc.p(this.um.ab().width - 65.5, 18), rj, 0, rj);
		this.Pb.visible = !1;
		this.addChild(this.Pb);
		var c = this.bj.cL();
		this.tk = this.bL(c);
		this.tk.setScale(0.8);
		this.tk.x = 0 == c ? 0.5 : 0;
		this.tk.y = 0 == c ? 2.5 : 0;
		this.addChild(this.tk);
		c = "";
		c = 2 === this.Fe ? "T\u1edbi: " : "T\u1eeb: ";
		c = new BkLabel(c, "", 16);
		c.setTextColor(xj);
		c.x = 20 + c.getContentSize().width / 2;
		c.y = this.tk.y + 0.5;
		this.addChild(c);
		var d = "",
			d = 2 === this.Fe ? this.bj.M_() : this.bj.U_(),
			e = createFixedWidthLabel(d, 70);
		e.setTextColor(tj);
		e.x = c.x + c.getContentSize().width / 2 + e.getContentSize().width / 2;
		e.y = c.y;
		this.addChild(e);
		d = createFixedWidthLabel(this.bj.W_(), 320);
		d.setTextColor(tj);
		d.x = c.x + 120 + d.getContentSize().width / 2 + 0.5;
		d.y = e.y + 0.5;
		this.addChild(d);
		c = new BkLabel(this.bj.getDate(), "", 14);
		c.setTextColor(tj);
		c.x = 570;
		c.y = d.y;
		this.addChild(c);
		b || (c = new cc.DrawNode, c.drawSegment(cc.p(-21, -19), cc.p(this.um.ab().width - 65, -19), 0.5, vj), this.addChild(c));
		this.Wd(a)
	},
	bL: function(a) {
		if (1 == this.Fe) {
			if (0 == a) return getSpriteFromImage("#icon_unread_mail.png");
			if (1 == a) return getSpriteFromImage("#icon_read_mail.png")
		}
		return getSpriteFromImage("#icon_unread_mail.png")
	},
	Wd: function(a) {
		this.x =
			0;
		this.y = a - 37.7
	},
	Ou: function() {
		var a = this;
		this.Rf = xb(function() {
			a.Pb.setVisible(!0)
		}, function() {
			a.Pb.setVisible(!1)
		}, function() {
			a.Pb.isVisible() && a.zO(a.bj.w_())
		});
		cc.eventManager.addListener(this.Rf, this)
	},
	zO: function(a) {
		0 == this.bj.cL() && (BkGlobal.P.UD(BkGlobal.P.zo - 1), this.tk.setSpriteFrame("icon_read_mail.png"));
		a = new BkMailDetailsWindow(a, this.Fe, this.um, this);
		a.Ab(this.um);
		a.Oa()
	}
});
COIN_X = [0, 0, 0, -15, -15, -15, -2, -1, 0];
COIN_Y = [4, 2, 0, 8, 6, 4, 20, 18, 16];
TOTAL_COIN_OFFSET_X = 0;
TOTAL_COIN_OFFSET_Y = 19;
BkPhingSprite = BkSprite.extend({
	Ye: null,
	$i: null,
	jg: 0,
	qt: null,
	type: 0,
	vk: null,
	As: 100,
	xj: 3,
	pF: 3,
	ctor: function(a, b) {
		this._super();
		this.jg = a - 0 == a && 0 < ("" + a).trim().length ? a : 0;
		this.type = 0;
		null != b && (this.type = b);
		this.Gu();
		this.JA(b);
		this.$i = new BkLabel("", "", 16);
		this.$i.setTextColor(cc.color(255, 255, 0));
		this.addChild(this.$i, 1);
		this.Mb(a)
	},
	Ez: function(a) {
		for (var b = 0; a >= this.xj + 1;) b++, a /= this.xj + 1;
		b = Math.min(b, 14);
		return new BkSprite(res.rW, cc.rect(28 * b, 0, 28, 28))
	},
	jw: function() {
		if (null != this.Ye)
			for (; 0 < this.Ye.length;) this.Ye.pop().removeFromParent();
		this.Ye = null
	},
	wM: function() {
		this.jw();
		this.Ye = [];
		var a = this.Ez(this.jg / this.As);
		a.scaleX = 0.7;
		a.scaleY = 0.7;
		a.y = 20;
		this.Ye.push(a);
		this.addChild(a, 2)
	},
	OM: function() {
		this.jw();
		this.Ye = [];
		var a = this.Ez(this.jg / this.As);
		a.scaleX = 0.7;
		a.scaleY = 0.7;
		a.x = -15;
		a.y = 0;
		this.Ye.push(a);
		this.addChild(a, 2)
	},
	pH: function(a, b) {
		for (var c = 0, d = b; d >= this.xj + 1;) c++, d = Math.floor(d / (this.xj + 1));
		for (var c = Math.min(c, 14), e = 0; e < this.xj; e++);
		return Math.pow(this.xj + 1, c) * d
	},
	xM: function() {
		this.jw();
		this.Ye = [];
		for (var a = this.jg / this.As,
				b = 0; b < this.pF; b++) a -= this.pH(b * this.xj, a);
		for (b = this.Ye.length - 1; 0 <= b; b--) this.addChild(this.Ye[b], 2)
	},
	Gu: function() {
		switch (this.type) {
			case 0:
				this.wM();
				break;
			case 1:
				this.xM();
				break;
			case 2:
				this.OM()
		}
	},
	GV: function(a) {
		this.type = a;
		this.Gu();
		this.JA()
	},
	JA: function() {
		null != this.vk && (this.vk.removeFromParent(), this.vk = null);
		0 == this.type ? this.vk = new BkSprite("#bet_money_bg0.png") : 1 == this.type && (this.vk = new BkSprite("#bet_money_bg1.png"));
		null != this.vk && this.addChild(this.vk)
	},
	Mb: function(a) {
		this.jg = a;
		this.Gu();
		0 == a ? this.visible = !1 : (this.visible = !0, this.$i.setString(convertStringToMoneyFormat(a)), 2 == this.type && (this.$i.x = this.$i.getContentSize().width / 2))
	},
	getWidth: function() {
		if (null == this.$i) return 0;
		var a = this.$i.getContentSize().width;
		null != this.Ye && (a += Math.abs(this.Ye[0].x));
		return a
	},
	CX: function(a) {
		this.Mb(this.jg + a)
	},
	pb: function() {
		return this.jg
	},
	p4: function(a) {
		this.qt = a
	},
	move: function(a, b, c) {
		var d = cc.callFunc(this.ht, this);
		a = cc.moveTo(a, b, c);
		d = cc.sequence(a, d);
		this.runAction(d)
	},
	ht: function() {
		null !=
			this.qt && this.qt(this);
		this.removeSelf()
	}
});
BkDiemSprite = BkSprite.extend({
	ba: null,
	dr: null,
	ctor: function(a) {
		this._super();
		this.ba = new BkSprite("#result_normal_bg.png");
		var b = 165;
		10 > a.length && (b = 110);
		this.ba.setScaleX(b / 87);
		this.ba.setScaleY(35 / 29);
		this.ba.x = 0;
		this.addChild(this.ba);
		this.dr = new cc.LabelBMFont(a, res.jW);
		this.dr.x = this.ba.x;
		this.dr.y = this.ba.y + 2;
		this.addChild(this.dr)
	}
});
BkNumberCBSprite = BkSprite.extend({
	SB: -1,
	td: null,
	ig: null,
	ci: null,
	Zm: null,
	ctor: function(a) {
		this._super(res.zp);
		this.SB = a;
		this.td = new BkCheckBox;
		var b = this;
		this.td.addEventListener(function() {
			logMessage("onCheckChange");
			b.td.isSelected() ? b.ig.setColor(cc.color(255, 255, 0)) : b.ig.setColor(cc.color(255, 255, 255));
			null != b.Zm && b.Zm(b)
		}, this);
		this.td.x = 0;
		this.td.y = 0;
		var c = "" + a;
		10 > a && (c = "0" + a);
		this.ig = new BkLabel(c, "", 16);
		this.ig.x = this.td.x + 20;
		this.ig.y = this.td.y;
		this.addChild(this.td);
		this.addChild(this.ig);
		this.setContentSize(cc.size(this.td.width + this.ig.width / 2, this.td.height));
		this.ci = new BkSprite("#btn_sanSang.png");
		this.ci.opacity = 0;
		a = (this.td.width + this.ig.width) / this.ci.getContentSize().width;
		c = this.td.height / this.ci.getContentSize().height;
		this.ci.setScale(a, c);
		this.ci.x = (this.td.width + this.ig.width - 20) / 2;
		this.addChild(this.ci, 1);
		this.ci.ad();
		this.ci.Ua(function() {
			logMessage("OnlickListenner " + b.SB);
			b.td.isSelected() ? b.ig.setColor(cc.color(255, 255, 255)) : b.ig.setColor(cc.color(255, 255, 0));
			b.td.setSelected(!b.td.isSelected());
			null != b.Zm && b.Zm(b)
		})
	},
	isSelected: function() {
		return this.td.isSelected()
	},
	s4: function(a) {
		this.Zm = a
	}
});
DAILY_TASK_BEGIN_ITEM_Y = 1.14;
BkDailyTaskWindow = BkWindow.extend({
	nd: null,
	ex: null,
	ctor: function(a) {
		this._super("Nhi\u1ec7m v\u1ee5 h\u1eb1ng ng\u00e0y", cc.size(550, 360), a);
		this.Qo(!0);
		this.Cc(!0);
		this.hg()
	},
	hg: function() {
		this.Cw();
		this.xq()
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	ud: function(a, b) {
		BkLogicManager.S().jb(null);
		switch (b) {
			case Na:
				this.ex = a;
				this.bK(a);
				break;
			case si:
				null != this.ex && this.aK(this.ex, a)
		}
		t()
	},
	xq: function() {
		s();
		this.Fb();
		BkLogicManager.S().xq()
	},
	bK: function(a) {
		null != this.nd && (this.nd.removeSelf(), this.nd =
			null);
		this.nd = new BkSprite;
		this.T(this.nd);
		if (0 < a.length) {
			this.nd.x = 20;
			this.nd.y = 0;
			for (var b = this.ab().height / DAILY_TASK_BEGIN_ITEM_Y, c = 0; c < a.length; c++) {
				var d = new BkDailyTaskItem(a[c], b, c == a.length - 1, this);
				d.x = 10;
				b = d.y;
				this.nd.addChild(d)
			}
		} else a = new BkLabel("B\u1ea1n kh\u00f4ng c\u00f2n nhi\u1ec7m v\u1ee5 n\u00e0o c\u1ea7n l\u00e0m.", "Tahoma", 18), a.x = this.ab().width / 2, a.y = this.ab().height / 2, this.nd.addChild(a)
	},
	aK: function(a, b) {
		null != this.nd && (this.nd.removeSelf(), this.nd = null);
		this.nd = new BkSprite;
		this.T(this.nd);
		this.nd.x = 20;
		this.nd.y = 0;
		for (var c = this.ab().height / DAILY_TASK_BEGIN_ITEM_Y, d = 0; d < a.length; d++) {
			var e = a[d],
				f = d == a.length - 1;
			e.id == b.id && (showPopupMessageWith("Ch\u00fac m\u1eebng b\u1ea1n \u0111\u00e3 ho\u00e0n th\u00e0nh nhi\u1ec7m v\u1ee5.\nB\u1ea1n v\u1eeba \u0111\u01b0\u1ee3c th\u01b0\u1edfng " + e.qy + pn(), "Th\u01b0\u1edfng h\u1eb1ng ng\u00e0y", null, null, this), BkGlobal.P.Mb(BkGlobal.P.pb() + e.qy), BkLogicManager.S().hj(), e = b, e.CY(), a[d] = e);
			e = new BkDailyTaskItem(e, c, f, this);
			e.x = 10;
			c =
				e.y;
			e.x = 10;
			this.nd.addChild(e)
		}
	},
	removeSelf: function() {
		this._super();
		BkLogicManager.S().xq();
		BkLogicManager.S().jb(getCurrentScene().Se)
	}
});
FB_SETUP_BEGIN_ITEM_Y = 1.15;
FB_SETUP_PADDING = 50;
FB_SETUP_PADDING_INPUT = 290;
FB_SETUP_LINK_USER = 0;
FB_SETUP_RENAME = 1;
BkFbUserSetupWindow = BkWindow.extend({
	Mc: null,
	qm: null,
	fa: null,
	Bb: null,
	userName: null,
	vn: null,
	Bj: null,
	ctor: function(a) {
		this.qm = a;
		a = "\u0110\u1ed5i t\u00ean \u0111\u0103ng nh\u1eadp";
		this.qm == FB_SETUP_LINK_USER && (a = "Li\u00ean k\u1ebft t\u00e0i kho\u1ea3n");
		this._super(a, cc.size(530, 301));
		this.Qo(!0);
		this.Cc(!0);
		this.hg();
		this.qm == FB_SETUP_LINK_USER && null != this.userName && null != this.Bj && this.df(this.EO)
	},
	hg: function() {
		this.Cw();
		null != this.Mc && (this.Mc.removeSelf(), this.Mc = null);
		this.Mc = new BkSprite;
		this.T(this.Mc,
			0, 0);
		this.qm == FB_SETUP_RENAME ? this.eK() : this.qm == FB_SETUP_LINK_USER && this.cK()
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	EO: function() {
		this.qm == FB_SETUP_LINK_USER && null != this.vn && null != this.Bj && BkFacebookMgr.lz(this.vn, this.Bj)
	},
	ud: function(a, b) {
		t();
		BkLogicManager.S().jb(null);
		switch (a) {
			case vk:
				if (b == rk) this.Dc("B\u1ea1n \u0111\u00e3 li\u00ean k\u1ebft t\u00e0i kho\u1ea3n th\u00e0nh c\u00f4ng!", !0), BkGlobal.fo = !1, logMessage("after link fb success -\x3e update user info"), void 0 != this.fa && (postUserTracker(2,
					BkGlobal.P.userName, bk.cpid, cc.nh, BkFacebookMgr.te, "FB_LINK_PLAYER: " + this.fa.getString()), BkGlobal.P.yd(this.fa.getString())), BkLogicManager.S().jb(this.Tf), BkLogicManager.S().Cx(this.fa.getString());
				else if (b == sk) {
					BkGlobal.VA = !1;
					var c = F(D.He, !0);
					void 0 != c.username && (c.username = this.fa.getString(), S(D.He, JSON.stringify(c)));
					this.Dc("B\u1ea1n \u0111\u00e3 \u0111\u1ed5i t\u00ean \u0111\u0103ng nh\u1eadp th\u00e0nh c\u00f4ng!", !0);
					postUserTracker(2, BkGlobal.P.userName, bk.cpid, cc.nh, BkFacebookMgr.te,
						"FB_RENAME: " + this.fa.getString())
				}
				void 0 != this.fa && (BkGlobal.P.yd(this.fa.getString()), getCurrentScene().kf(BkGlobal.P));
				break;
			case wk:
				this.Dc("T\u00e0i kho\u1ea3n facebook c\u1ee7a b\u1ea1n kh\u00f4ng h\u1ee3p l\u1ec7. Vui l\u00f2ng th\u1eed l\u1ea1i.");
				break;
			case xk:
				this.Dc("Facebook c\u1ee7a b\u1ea1n \u0111\u00e3 li\u00ean k\u1ebft v\u1edbi t\u00ean \u0111\u0103ng nh\u1eadp kh\u00e1c r\u1ed3i.\n B\u1ea1n kh\u00f4ng th\u1ec3 li\u00ean k\u1ebft n\u1eefa");
				break;
			case yk:
				this.Dc("T\u00e0i kho\u1ea3n \u0111\u00e3 \u0111\u01b0\u1ee3c li\u00ean k\u1ebft t\u1edbi m\u1ed9t t\u00e0i kho\u1ea3n Facebook kh\u00e1c!");
				break;
			case zk:
				c = qn("T\u00ean \u0111\u0103ng nh\u1eadp \x26*\x26 \u0111\u01b0\u1ee3c \u0111\u0103ng k\u00fd qua Facebook.\n B\u1ea1n kh\u00f4ng th\u1ec3 li\u00ean k\u1ebft \u0111\u01b0\u1ee3c v\u1edbi t\u00ean \u0111\u0103ng nh\u1eadp n\u00e0y", [this.fa.getString()]);
				this.Dc(c);
				break;
			case Ak:
				this.Dc("T\u00ean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u t\u00e0i kho\u1ea3n li\u00ean k\u1ebft kh\u00f4ng \u0111\u00fang.\n Vui l\u00f2ng nh\u1eadp l\u1ea1i!");
				break;
			case Bk:
				this.Dc("B\u1ea1n ch\u01b0a nh\u1eadp t\u00ean \u0111\u0103ng nh\u1eadp");
				break;
			case Ck:
				this.Dc("B\u1ea1n kh\u00f4ng th\u1ec3 \u0111\u1ed5i t\u00ean \u0111\u01b0\u1ee3c n\u1eefa v\u00ec \u0111\u00e3 \u0111\u1ed5i t\u00ean r\u1ed3i!");
				break;
			case Dk:
				this.Dc("T\u00ean b\u1ea1n ch\u1ecdn \u0111\u00e3 c\u00f3 ng\u01b0\u1eddi \u0111\u0103ng k\u00fd. H\u00e3y ch\u1ecdn m\u1ed9t t\u00ean kh\u00e1c.");
				break;
			case Fk:
				this.removeSelf()
		}
	},
	cK: function() {
		var a = new BkLabel("H\u00e3y nh\u1eadp t\u00e0i kho\u1ea3n b\u1ea1n mu\u1ed1n li\u00ean k\u1ebft", "", 15);
		a.x = this.ab().width / 2;
		a.y = this.ab().height -
			a.height / 2 - FB_SETUP_PADDING;
		this.Mc.addChild(a);
		var b = new BkLabel("T\u00ean \u0111\u0103ng nh\u1eadp: ", "Tahoma", 14);
		b.x = b.width / 2 + FB_SETUP_PADDING;
		b.y = a.y - a.getContentSize().height / 2 - b.getContentSize().height / 2 - 20;
		this.Mc.addChild(b);
		this.fa = createEditBox(WD_PASS_INPUT_SIZE, "edit_text.png");
		this.fa.setMaxLength(20);
		this.fa.x = FB_SETUP_PADDING_INPUT;
		this.fa.y = b.y;
		this.fa.setPlaceholderFontColor(Aj);
		this.fa.setFontColor(zj);
		null != this.userName && void 0 != this.userName && this.fa.setString(this.userName);
		this.Mc.addChild(this.fa);
		a = new BkLabel("M\u1eadt kh\u1ea9u: ", "Tahoma", 14);
		a.x = a.width / 2 + FB_SETUP_PADDING;
		a.y = this.fa.y - this.fa.height / 2 - a.getContentSize().height / 2 - 15;
		this.Mc.addChild(a);
		this.Bb = createEditBox(WD_PASS_INPUT_SIZE, "edit_text.png");
		this.Bb.setMaxLength(20);
		this.Bb.setInputFlag(cc.EDITBOX_INPUT_FLAG_PASSWORD);
		this.Bb.x = FB_SETUP_PADDING_INPUT;
		this.Bb.y = a.y;
		this.Bb.setPlaceholderFontColor(Aj);
		this.Bb.setFontColor(zj);
		this.Mc.addChild(this.Bb);
		a = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png",
			"btn_no_text.png", "btn_no_text_press.png");
		a.setTitleText("C\u1eadp nh\u1eadt");
		a.x = 8 * WD_BODY_MARGIN_LR + a.width / 2;
		a.y = this.Bb.y - this.Bb.height / 2 - a.height / 2 - 15;
		this.Mc.addChild(a);
		var c = this;
		a.addTouchEventListener(function(a, b) {
			b == ccui.Widget.TOUCH_ENDED && this.cW(this.fa.getString(), this.Bb.getString()) && this.dS(this.fa.getString(), this.Bb.getString(), this.vn, this.Bj)
		}, this);
		b = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png", "btn_no_text.png", "btn_no_text_press.png");
		b.setTitleText("Th\u00f4i");
		b.x = a.x + a.width + b.width / 2;
		b.y = a.y;
		this.Mc.addChild(b);
		b.addTouchEventListener(function(a, b) {
			b == ccui.Widget.TOUCH_ENDED && (null != this.vn && null != this.Bj && BkFacebookMgr.lz(this.vn, this.Bj), c.removeSelf())
		}, this);
		b = new BkLabel("Ch\u00fa \u00fd: T\u00e0i kho\u1ea3n hi\u1ec7n th\u1eddi s\u1ebd b\u1ecb x\u00f3a sau khi li\u00ean k\u1ebft.", "", 15);
		b.setTextColor(yj);
		b.x = b.getContentSize().width / 2 + FB_SETUP_PADDING;
		b.y = a.y - a.height / 2 - b.getContentSize().height / 2 - 10;
		this.Mc.addChild(b)
	},
	eK: function() {
		var a = new BkLabel("T\u00ean \u0111\u0103ng nh\u1eadp hi\u1ec7n th\u1eddi c\u1ee7a b\u1ea1n l\u00e0: " +
			BkGlobal.P.userName, "", 15);
		a.x = this.ab().width / 2;
		a.y = this.ab().height - a.getContentSize().height / 2 - FB_SETUP_PADDING;
		this.Mc.addChild(a);
		var b = new BkLabel("T\u00ean \u0111\u0103ng nh\u1eadp: ", "Tahoma", 14);
		b.x = b.width / 2 + FB_SETUP_PADDING;
		b.y = a.y - a.getContentSize().height / 2 - b.getContentSize().height / 2 - FB_SETUP_PADDING;
		this.Mc.addChild(b);
		this.fa = createEditBox(WD_PASS_INPUT_SIZE, "edit_text.png");
		this.fa.setMaxLength(20);
		this.fa.x = 275;
		this.fa.y = b.y - 0.5;
		this.fa.setPlaceHolder("Nh\u1eadp t\u00ean \u0111\u0103ng nh\u1eadp m\u1edbi");
		this.fa.setPlaceholderFontColor(Aj);
		this.fa.setFontColor(zj);
		this.Mc.addChild(this.fa);
		this.Mm(this.fa);
		a = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png", "btn_no_text.png", "btn_no_text_press.png");
		a.setTitleText("C\u1eadp nh\u1eadt");
		a.x = 7 * WD_BODY_MARGIN_LR + a.width / 2;
		a.y = this.fa.y - this.fa.height / 2 - a.height / 2 - 15;
		this.Mc.addChild(a);
		var c = this;
		a.addTouchEventListener(function(a, b) {
			var f = this.uu(),
				g = f.x + this.Q.width / 2,
				f = f.y + this.Q.height - 65;
			if (b == ccui.Widget.TOUCH_ENDED) {
				var h = this.fa.getString();
				if ("" == h) return showToastMessage("B\u1ea1n ph\u1ea3i nh\u1eadp t\u00ean t\u00e0i kho\u1ea3n", g, f, 2, 370), !1;
				var k = isValidUsername(h);
				if ("" != k) return showToastMessage(k, g, f, 2, 370), !1;
				c.qw(h)
			}
		}, this);
		b = createBkButtonPlist("btn_no_text.png", "btn_no_text_press.png", "btn_no_text.png", "btn_no_text_press.png");
		b.setTitleText("Th\u00f4i");
		b.x = a.x + a.width + b.width / 2;
		b.y = a.y;
		this.Mc.addChild(b);
		b.addTouchEventListener(function(a, b) {
			b == ccui.Widget.TOUCH_ENDED && c.removeSelf()
		}, this);
		b = new BkLabel("Ch\u00fa \u00fd: B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c \u0111\u1ed5i t\u00ean duy nh\u1ea5t m\u1ed9t l\u1ea7n.",
			"", 15);
		b.setTextColor(yj);
		b.x = this.ab().width / 2;
		b.y = a.y - a.height / 2 - b.getContentSize().height / 2 - WD_BODY_MARGIN_TB;
		this.Mc.addChild(b)
	},
	Dc: function(a, b) {
		function c() {
			b ? d.removeSelf() : (d.fa.visible = !0, d.Bb && (d.Bb.visible = !0))
		}
		this.fa.visible = !1;
		this.Bb && (this.Bb.visible = !1);
		var d = this;
		showPopupMessageWith(a, "", c, c, this)
	},
	dS: function(a, b, c, d) {
		s();
		logMessage("User: " + a + " pass: " + b + " fbId: " + c + " accessToken: " + d);
		this.Fb();
		var e = new BkPacket;
		null != c && null != d ? e.AW(a, b, c, d) : e.BW(a, b);
		BkConnectionManager.send(e)
	},
	qw: function(a) {
		s();
		this.Fb();
		var b = new BkPacket;
		b.zx(a);
		BkConnectionManager.send(b);
		BkGlobal.ap = a;
		logMessage("requestRenameUser " + a)
	},
	cW: function(a, b, c) {
		var d = this.uu(),
			e = d.x + this.Q.width / 2,
			d = d.y + this.Q.height - 65;
		if ("" == a || "" == b) return showToastMessage("B\u1ea1n ph\u1ea3i nh\u1eadp t\u00ean t\u00e0i kho\u1ea3n v\u00e0 m\u1eadt kh\u1ea9u \u0111\u0103ng nh\u1eadp", e, d, 2, 370), !1;
		if (2 > a.length || 20 < a.length) return showToastMessage(Ml + Pl, this.x, this.y, 2, 200), !1;
		var f = isValidUsername(a);
		if ("" != f) return showToastMessage(f,
			e, d, 2, 370), !1;
		if (isEasyPassword(b)) return showPopupConfirmWith("V\u00ec m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n qu\u00e1 \u0111\u01a1n gi\u1ea3n n\u00ean kh\u00f4ng th\u1ec3 li\u00ean k\u1ebft t\u00e0i kho\u1ea3n, h\u00e3y v\u00e0o di \u0111\u1ed9ng v\u00e0 \u0111\u1ed5i m\u1eadt kh\u1ea9u sau \u0111\u00f3 quay l\u1ea1i \u0111\u00e2y \u0111\u1ec3 \u0111\u0103ng nh\u1eadp. B\u1ea1n c\u00f3 mu\u1ed1n xem h\u01b0\u1edbng d\u1eabn kh\u00f4ng?", null, function() {
				c && c();
				cc.sys.openURL(cc.game.config.app.H3)
			},
			c, c, this), sendGA(BKGA.mW, "ErrorSimplePass-Link", a), !1;
		f = isValidPassword(b);
		return "" != f ? (showToastMessage(f, e, d, 2, 370), !1) : !0
	}
});
BkListViewerWindow = BkBaseChessWindow.extend({
	ctor: function() {
		var a = cc.size(610, 620);
		isWebPlatform() || (a = cc.size(620 * GAME_SCALE, 1E3 * GAME_SCALE));
		this._super("", a, null);
		this.Ob("title_wd_viewer.png");
		this.Cc(!0);
		a = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		a.x = this.ab().width / 2;
		a.y = a.getContentSize().height * GAME_SCALE;
		this.T(a);
		var b = this;
		a.addClickEventListener(function() {
			b.removeSelf()
		});
		this.bU()
	},
	YK: function() {
		var a = [],
			b = BkLogicManager.oa();
		if (!b) return a;
		var c = b.ga;
		console.log("getListPlayer - before update listPlayer: ", c);
		this.hV(c);
		console.log("getListPlayer - after update listPlayer: ", c);
		c.sort(this.zU);
		for (b = 0; b < c.length; b++) a.push(c[b]);
		return a
	},
	hV: function(a) {
		for (var b = tb(), c = 0; c < a.length; c++) {
			var d = a[c];
			d.ae = !1;
			var e = d.getName();
			ub(e, b) && (d.ae = !0, console.log("set blocked chat for user: ", e))
		}
	},
	bU: function() {
		this.Te();
		var a = this.YK();
		this.Qa = new BkSprite;
		var b = 450,
			c = 0.9,
			d = 0.58 * cc.winSize.width;
		isWebPlatform() ||
			(b = 780 * GAME_SCALE, c = 0.9);
		this.Qa.setContentSize(d, b);
		if (null != a && 0 < a.length) {
			this.V = new Cn;
			this.V.setDirection(ccui.ScrollView.DIR_VERTICAL);
			this.V.setTouchEnabled(!0);
			this.V.setBounceEnabled(!0);
			this.V.setContentSize(cc.size(this.Qa.getContentSize().width, this.Qa.getContentSize().height));
			this.V.setPosition(0, 0);
			this.V.setGravity(ccui.ListView.GRAVITY_CENTER_VERTICAL);
			for (b = 0; b < a.length; b++) d = this.Ht(a[b], this), this.V.pushBackCustomItem(d);
			this.Qa.addChild(this.V)
		}
		this.Qa.x = this.Q.width / 2;
		this.Qa.y =
			this.Ac.y - TAB_WD_BUTTON_MARGIN_TOP - this.Qa.getContentSize().height / 2;
		this.Qa.y = this.Q.height * c - this.Qa.getContentSize().height / 2;
		this.T(this.Qa, 0, 0)
	},
	zU: function(a, b) {
		return !a.Ka || a.OB > b.OB || a.getUserInfo().$c > b.getUserInfo().$c ? -1 : 1
	},
	Ht: function(a, b) {
		var c = new Vn(a, b),
			d = new ccui.Layout;
		d.setContentSize(c.getContentSize());
		c.setPosition(0.5 * this.Q.width, 0.5 * c.getContentSize().height);
		d.addChild(c);
		d.$g = a.getUserInfo().userName;
		return d
	},
	wN: function(a) {
		void 0 != a && (a = new BkPlayerInfo(a.userName), a.Ab(this),
			a.Oa())
	},
	Te: function() {
		logMessage("cleanGUI");
		null != this.Qa && (this.Qa.removeSelf(), this.Qa = null)
	}
});
var Vn = ccui.Widget.extend({
	parentNode: null,
	W: null,
	Fe: null,
	Um: null,
	ae: !1,
	ta: -1,
	Ka: null,
	Pg: !1,
	Pc: null,
	ctor: function(a, b) {
		this._super();
		this.setName("BkViewerItem");
		this.W = a.getUserInfo();
		this.W.Sr(!0);
		this.Fe = 1;
		this.parentNode = b;
		this.ae = a.ae;
		this.ta = a.ta;
		this.Ka = a.Ka;
		this.Pg = BkLogicManager.oa().An() == this.ta;
		this.gg();
		this.rd(10)
	},
	gg: function() {
		var a = this;
		this.Pc = createBkButtonPlist("infoFrameBanBeOn.png", "infoFrameBanBeOn.png", "infoFrameBanBeOn.png", "infoFrameBanBeOn.png", "");
		this.Pc.addClickEventListener(function() {
			logMessage(" item clicked: " +
				JSON.stringify(a.W));
			a.parentNode.wN(a.W)
		});
		this.setContentSize(cc.size(1.08 * this.Pc.getContentSize().width, this.parentNode.Q.height / 8));
		this.setScale(GAME_SCALE);
		this.setPosition(0.5 * this.getContentSize().width, 0.5 * this.getContentSize().height);
		this.Pc.setPosition(0.5 * this.getContentSize().width, 0.5 * this.getContentSize().height);
		this.addChild(this.Pc)
	},
	rd: function(a) {
		var b = zb(this.W.Hb, this.W.$c),
			c = 0.4;
		isWebPlatform() || (c = 0.6);
		b.setScale(c);
		b.x = b.getBoundingBox().width / 2 + 10 * GAME_SCALE;
		b.y = 0.6 * this.getContentSize().height;
		this.addChild(b, WD_ZORDER_TOP);
		c = 18;
		isWebPlatform() || (c = 28, b.y = 0.55 * this.getContentSize().height);
		c = new BkLabel(Ab(this.W.userName, 18), "Arial", c, !0);
		c.setTextColor(Cj);
		c.x = b.x + b.getBoundingBox().width / 2 + c.getContentSize().width / 2 + 10 * GAME_SCALE;
		c.y = b.y + 0.3 * c.getContentSize().height;
		this.addChild(c);
		var d = 16;
		isWebPlatform() || (d = 26);
		var d = new BkLabel("", "Tahoma", d),
			e = null,
			f = cc.color(178, 176, 177);
		this.Ka ? (d.setString("Ng\u01b0\u1eddi xem"), f = cc.color(27, 197, 2)) : d.setString("Ng\u01b0\u1eddi ch\u01a1i");
		e = new BkSprite("#icon_online.png");
		e.x = b.x + b.getBoundingBox().width / 2 + 10 * GAME_SCALE;
		e.y = c.y - FRIEND_ITEM_PADDING_Y * GAME_SCALE;
		d.setTextColor(f);
		d.x = e.x + e.getBoundingBox().width + d.getContentSize().width / 2;
		d.y = e.y - 1 * GAME_SCALE;
		this.addChild(e);
		this.addChild(d);
		f = null;
		1 == this.Fe && (f = new BkLabel(rn(this.W.$c), "Arial", 20), f.x = b.x + TEXT_OFFSET_MONEY_LEVEL * GAME_SCALE + f.getContentSize().width / 2, f.y = b.y, this.addChild(f));
		e.setVisible(!1);
		null != f && f.setVisible(!1);
		isWebPlatform() || (c.y = 0.6 * this.getContentSize().height);
		e = null;
		e = this.W.Ie ? new BkSprite("#online.png") : new BkSprite("#offline.png");
		e.y = 0.4 * b.getBoundingBox().height;
		e.x = c.x - 0.5 * c.getContentSize().width + 0.5 * e.getContentSize().width;
		this.addChild(e, 100);
		d.y = e.y;
		d.x = e.x + e.getContentSize().width / 2 + d.getContentSize().width / 2;
		c.setTextColor(R);
		d.setTextColor(R);
		this.Pg || this.Eu();
		this.Wd(a)
	},
	X0: function() {
		return this.ae
	},
	Eu: function() {
		var a = this,
			b = this.ae,
			c = 0,
			d = createBkButtonPlist("btnOffChat.png", "btnOffChatPress.png", "btnOffChat.png", "btnOffChatPress.png");
		b && (d = createBkButtonPlist("btnOnChat.png", "btnOnChatPress.png", "btnOnChat.png", "btnOnChatPress.png"), c = 1);
		d.setTag(c);
		d.setTitleFontName(ma());
		d.setTitleFontSize(31);
		d.setTitleColor(cc.color(71, 44, 27));
		d.x = this.getContentSize().width - d.getContentSize().width;
		d.y = this.getContentSize().height / 2;
		this.addChild(d);
		d.addClickEventListener(function() {
			a.kO()
		});
		this.Um = d
	},
	kO: function() {
		var a = this.W.userName;
		logMessage("onClickActionChat click: " + a + " pos: " + this.ta);
		console.log("this.onClickActionChat - this.playerData: ",
			this.W);
		var b = 1 - this.Um.getTag();
		this.Um.setTag(b);
		1 == b ? (this.Um.loadTextures("btnOnChat.png", "btnOnChatPress.png", "btnOnChat.png", "btnOnChatPress.png", ccui.Widget.PLIST_TEXTURE), BkUserClientSettings.$G(a), logMessage("isBlockChat khoa chat user: " + a + " pos: " + this.ta), this.DS(this.ta, a), this.mR(a)) : (this.Um.loadTextures("btnOffChat.png", "btnOffChatPress.png", "btnOffChat.png", "btnOffChatPress.png", ccui.Widget.PLIST_TEXTURE), BkUserClientSettings.YR(a), logMessage("isBlockChat mo chat user: " + a + " pos: " +
			this.ta), this.TS(this.ta, a), this.lR(a));
		BkUserClientSettings.PN()
	},
	mR: function(a) {
		var b = tb();
		console.log("pushBlockedPlayerToLocalStorage - playersList: ", b);
		ub(a, b) || b.push(a);
		Fl(b)
	},
	lR: function(a) {
		var b = tb();
		a = b.indexOf(a); - 1 !== a && b.splice(a, 1);
		console.log("pullBlockedPlayerToLocalStorage - playersList: ", b);
		Fl(b)
	},
	Wd: function(a) {
		this.x = 40;
		this.y = a - FRIEND_ITEM_HEIGHT_SPRITE
	},
	k1: function() {
		return !1
	},
	DS: function(a, b) {
		var c = new BkPacket;
		c.IG(a, b);
		BkConnectionManager.send(c)
	},
	TS: function(a, b) {
		var c =
			new BkPacket;
		c.cV(a, b);
		BkConnectionManager.send(c)
	}
});
BkPlayer = BkSprite.extend({
	Qh: 0,
	W: null,
	Aa: null,
	Nc: null,
	vb: null,
	ra: null,
	xe: null,
	status: 2,
	wn: null,
	yi: null,
	ba: null,
	mi: null,
	qd: null,
	Ad: null,
	Fh: null,
	ue: null,
	Zd: null,
	$h: null,
	mc: null,
	spriteFrameCache: cc.spriteFrameCache,
	$d: null,
	Cl: null,
	Dl: null,
	Bl: null,
	Al: null,
	ro: null,
	ag: null,
	ac: null,
	W1: null,
	ctor: function(a, b, c) {
		void 0 != a && (this.W = a, this.status = b);
		null != c && void 0 != c ? this._super(c) : this._super();
		this.Xx();
		this.Iu()
	},
	Xx: function() {
		this.ba = new BkSprite("#bgPlayer.png");
		this.addChild(this.ba);
		this.ba.x = this.getContentSize().width /
			2;
		this.ba.y = this.getContentSize().height / 2;
		this.ra = new BkSprite("#bginvitedFR.png");
		this.addChild(this.ra);
		this.ra.x = this.getContentSize().width / 2;
		this.ra.y = this.getContentSize().height / 2;
		this.Nc = new BkSprite("#xito_cd_bg.png");
		this.Nc.x = this.getContentSize().width / 2;
		this.Nc.y = this.getContentSize().height / 2;
		this.Nc.setVisible(!1);
		this.addChild(this.Nc);
		this.Aa = new BkLabel("", "", bkFontSizeUtil(16));
		this.Aa.setTextColor(pj);
		this.Aa.x = this.Nc.x;
		this.Aa.y = this.Nc.getContentSize().height / 2 + this.Aa.getContentSize().height /
			2 - 23;
		this.addChild(this.Aa, 100);
		this.xe = new BkSprite;
		this.xe.x = -32;
		this.xe.y = 10 * GAME_SCALE;
		this.addChild(this.xe);
		this.ji()
	},
	c6: function(a) {
		this.Qk = new BkSprite("#xito_win_bg_border.png");
		this.Qk.x = 1 == a || 2 == a || 3 == a ? (this.ba.getWidth() - this.Qk.getWidth()) / 2 : -1 * (this.ba.getWidth() - this.Qk.getWidth()) / 2;
		this.addChild(this.Qk)
	},
	MI: function() {
		null != this.Qk && (this.Qk.removeSelf(), this.Qk = null);
		null != this.ro && (this.ro.removeFromParent(), this.ro = null)
	},
	v5: function(a, b) {
		null == this.ac && (this.ac = new BkPhingSprite,
			this.ac.GV(2), this.addChild(this.ac));
		this.ac.Mb(a);
		this.ac.x = 1 == b || 2 == b || 3 == b ? -71 - this.ac.getWidth() / 2 : 80;
		this.ac.y = -40
	},
	HI: function() {
		null != this.ac && (this.ac.removeFromParent(), this.ac = null)
	},
	Iu: function() {
		this.ba.ad(function() {});
		var a = this;
		this.ba.Ua(function() {
			1E3 > J() - a.ba.Kb || (a.ba.Kb = J(), null != a.W && null != a.wn && a.wn.fD(a.od()))
		})
	},
	G4: function(a) {
		this.isVisible = a
	},
	Ur: function(a) {
		this.status = a;
		this.ji()
	},
	Po: function(a) {
		this.wn = a
	},
	mm: function(a) {
		this.yi = a
	},
	Tr: function(a, b) {
		this.W = a;
		void 0 != b ? this.ji(b) :
			this.ji()
	},
	od: function() {
		return null == this.W ? null : this.W.userName
	},
	reset: function() {
		this.Nj();
		this.ji()
	},
	ji: function(a) {
		if (null != this.W) {
			this.Aa.setString(Ab(this.W.userName, 12));
			this.ra.setVisible(!0);
			this.Aa.setVisible(!0);
			null == this.mi && this.ba.setVisible(!0);
			this.xe.setVisible(!0);
			if (void 0 == a || !0 != a) this.status != PLAYER_STATE_READY && this.status != PLAYER_STATE_TABLE_OWNER ? this.sE() : this.Hy();
			this.lT(this.W.$c)
		} else null != this.Nc && this.Nc.setVisible(!1), this.Aa.setVisible(!1), this.ba.setVisible(!1),
			this.xe.setVisible(!1), null != this.mi && (this.mi.setVisible(!1), this.mi = null), this.Zr(), this.Nj(), this.xi(), this.HI()
	},
	Nj: function() {
		this.Ly();
		this.vx();
		this.JI();
		this.FI();
		this.II();
		this.Cy();
		this.GI();
		this.Ey();
		this.Oj();
		this.dn();
		this.EI();
		this.NI();
		this.nl();
		this.MI()
	},
	D5: function() {},
	Sn: function() {
		var a = this,
			b = getCurrentScene(),
			c = cc.p(this.getContentSize().width / 2, this.getContentSize().height / 2);
		null != this.Nc && (c = b.convertToWorldSpace(this.Nc.getPosition()));
		this.vb = new BkCountDownTime("#greenFrame.png");
		this.vb.x = c.x;
		this.vb.y = c.y;
		this.vb.setCallback(function() {
			logMessage("finish cb");
			a.yc()
		});
		b.addChild(this.vb)
	},
	Pw: function(a) {
		void 0 == a && (a = 15);
		null != this.vb && (this.vb.removeFromParent(), this.vb = null);
		this.Sn();
		this.vb.Xr(a);
		null != this.Nc && this.Nc.setVisible(!0)
	},
	t2: function() {},
	yc: function() {
		null != this.vb && (this.vb.Er(), this.vb = null);
		null != this.Nc && this.Nc.setVisible(!1)
	},
	i4: function(a) {
		null == this.Mi && (this.Mi = new BkSprite("#imgBoluot.png"), this.Mi.x = 0, this.Mi.y = -5, this.addChild(this.Mi, this.ra.getLocalZOrder() +
			1));
		this.Mi.visible = a
	},
	BV: function(a) {
		null != this.W && 0 <= a && this.W.Mb(a)
	},
	Ly: function() {
		null != this.$d && (this.$d.removeFromParent(), this.$d = null)
	},
	b6: function(a) {
		this.Ly();
		this.$d = a ? new BkSprite("#Thang.png") : new BkSprite("#Thua.png");
		this.$d.visible = !0;
		this.addChild(this.$d, this.ra.getLocalZOrder() + 1)
	},
	rE: function() {
		null == this.Yc && (this.Yc = new BkSprite("#Thua.png"), this.Yc.x = 0, this.Yc.y = 0, this.addChild(this.Yc, this.ra.getLocalZOrder() + 1))
	},
	nl: function() {
		null != this.Yc && (this.Yc.removeFromParent(), this.Yc =
			null)
	},
	vE: function() {
		null == this.ue && (this.ue = new BkSprite("#Thang.png"), this.ue.x = 0, this.ue.y = 0, this.addChild(this.ue, this.ra.getLocalZOrder() + 1))
	},
	Oj: function() {
		null != this.ue && (this.ue.removeFromParent(), this.ue = null)
	},
	J5: function() {
		this.dn();
		this.Cl = new BkSprite("#round_bet_fold.png");
		this.Cl.y = -20.5;
		this.addChild(this.Cl, this.ra.getLocalZOrder() + 1)
	},
	S5: function() {
		this.dn();
		this.Dl = new BkSprite("#round_bet_raise.png");
		this.Dl.y = -20.5;
		this.addChild(this.Dl, this.ra.getLocalZOrder() + 1)
	},
	F5: function() {
		this.dn();
		this.Bl = new BkSprite("#round_bet_check.png");
		this.Bl.y = -20.5;
		this.addChild(this.Bl, this.ra.getLocalZOrder() + 1)
	},
	oY: function() {
		null != this.ag && (this.ag.removeFromParent(), this.ag = null)
	},
	z5: function(a, b) {
		null == this.ag && (null != this.mi && this.mi.removeFromParent(), this.mi = 0 == a || 4 == a || 5 == a ? new BkSprite("#xito_bg_r.png") : new BkSprite("#xito_bg_l.png"), this.addChild(this.mi, this.ba.getLocalZOrder() - 1), this.ba.setOpacity(0), this.ba.setVisible(!1), this.ag = new BkSprite9, this.ag.init(new BkSprite(res.VX), new BkSprite(res.WX),
			new BkSprite(res.UX)), 0 == a || 4 == a || 5 == a ? (this.ag.x = 1, this.ag.a4(246, b)) : (this.ag.x = -1, this.ag.Z3(246, b)), this.addChild(this.ag, -3))
	},
	w5: function() {
		this.dn();
		this.Al = new BkSprite("#round_bet_all_in.png");
		this.Al.y = -20.5;
		this.addChild(this.Al, this.ra.getLocalZOrder() + 1)
	},
	nY: function() {
		this.Fy();
		this.Jy()
	},
	dn: function() {
		this.CI();
		this.Fy();
		this.KI();
		this.Jy()
	},
	Fy: function() {
		null != this.Bl && (this.Bl.removeFromParent(), this.Bl = null)
	},
	Jy: function() {
		null != this.Dl && (this.Dl.removeFromParent(), this.Dl = null)
	},
	KI: function() {
		null != this.Cl && (this.Cl.removeFromParent(), this.Cl = null)
	},
	CI: function() {
		null != this.Al && (this.Al.removeFromParent(), this.Al = null)
	},
	T5: function(a, b) {
		this.vx();
		if (2 == b) switch (a) {
			case 0:
				this.qd = new BkSprite("#Nhat.png");
				break;
			case 1:
				this.qd = new BkSprite("#Bet.png")
		} else if (3 == b) switch (a) {
			case 0:
				this.qd = new BkSprite("#Nhat.png");
				break;
			case 1:
				this.qd = new BkSprite("#Nhi.png");
				break;
			case 2:
				this.qd = new BkSprite("#Bet.png")
		} else switch (a) {
			case 0:
				this.qd = new BkSprite("#Nhat.png");
				break;
			case 1:
				this.qd =
					new BkSprite("#Nhi.png");
				break;
			case 2:
				this.qd = new BkSprite("#Ba.png");
				break;
			case 3:
				this.qd = new BkSprite("#Bet.png")
		}
		null != this.qd && (this.qd.x = 0, this.qd.y = 0, this.qd.visible = !0, this.addChild(this.qd, this.ra.getLocalZOrder() + 1))
	},
	vx: function() {
		null != this.qd && (this.qd.removeFromParent(), this.qd = null)
	},
	II: function() {
		null != this.Mi && (this.Mi.removeFromParent(), this.Mi = null)
	},
	JI: function() {
		null != this.Fh && (this.Fh.removeFromParent(), this.Fh = null)
	},
	xi: function() {
		null != this.Ad && (this.Ad.removeFromParent(), this.Ad =
			null)
	},
	Zr: function() {
		null == this.Ad && (this.Ad = new BkSprite("#Ready.png"), this.Ad.x = 0, this.Ad.y = 0, this.addChild(this.Ad, this.ra.getLocalZOrder() + 1))
	},
	Hy: function() {
		this.ba.opacity = 255;
		this.ra.opacity = 255
	},
	sE: function() {
		this.ba.opacity = 100;
		this.ra.opacity = 100
	},
	G5: function() {
		null == this.Fh && (this.Fh = new BkSprite("#cong.png"), this.Fh.x = 0, this.Fh.y = 0, this.addChild(this.Fh, this.ra.getLocalZOrder() + 1));
		this.Fh.visible = !0
	},
	y5: function() {
		null == this.Zd && (this.Zd = new BkSprite("#AutoWin.png"), this.Zd.x = 0, this.Zd.y =
			0, this.addChild(this.Zd, this.ra.getLocalZOrder() + 1));
		this.Zd.visible = !0
	},
	M5: function() {
		null == this.Zd && (this.Zd = new BkSprite("#maubinh.png"), this.Zd.x = 0, this.Zd.y = 0, this.addChild(this.Zd, this.ra.getLocalZOrder() + 1));
		this.Zd.visible = !0
	},
	X5: function() {
		null == this.Yc && (this.Yc = new BkSprite("#text_sap3chi.png"), this.Yc.x = 0, this.Yc.y = 0, this.addChild(this.Yc, this.ra.getLocalZOrder() + 1))
	},
	FI: function() {
		null != this.Zd && (this.Zd.removeFromParent(), this.Zd = null)
	},
	PX: function(a) {
		null == this.Li && (this.Li = a ? new BkSprite("#BaoSam.jpg") :
			new BkSprite("#KoBaoSam.jpg"), this.Li.x = 0, this.Li.y = 0, this.addChild(this.Li, this.ra.getLocalZOrder() + 1));
		this.Li.visible = !0
	},
	GI: function() {
		null != this.Li && (this.Li.removeFromParent(), this.Li = null)
	},
	IX: function(a) {
		a ? (null == this.Ji && (this.Ji = new BkSprite("#Alert1Card.jpg"), this.addChild(this.Ji, this.ra.getLocalZOrder() + 1), this.Ji.x = 0, this.Ji.y = 20), this.Ji.visible = !0) : this.Cy()
	},
	Cy: function() {
		null != this.Ji && (this.Ji.removeFromParent(), this.Ji = null)
	},
	LX: function(a) {
		this.Ey();
		null == this.Ki && (this.Ki = a ?
			new BkSprite("#AnSam.jpg") : new BkSprite("#DenSam.jpg"), this.addChild(this.Ki, this.ra.getLocalZOrder() + 1), this.Ki.x = 0, this.Ki.y = 0);
		this.Ki.visible = !0
	},
	N5: function() {
		null == this.Ni && (this.Ni = new BkSprite("#Chay.png"), this.addChild(this.Ni, this.ra.getLocalZOrder() + 1), this.Ni.x = 0, this.Ni.y = 0);
		this.Ni.visible = !0
	},
	Y5: function() {
		null == this.Pi && (this.Pi = new BkSprite("#U.png"), this.addChild(this.Pi, this.ra.getLocalZOrder() + 1), this.Pi.x = 0, this.Pi.y = 0);
		this.Pi.visible = !0
	},
	a6: function() {
		null == this.Oi && (this.Oi =
			new BkSprite("#Uden.png"), this.addChild(this.Oi, this.ra.getLocalZOrder() + 1), this.Oi.x = 0, this.Oi.y = 0);
		this.Oi.visible = !0
	},
	EI: function() {
		null != this.Oi && (this.Oi.removeFromParent(), this.Oi = null);
		null != this.Pi && (this.Pi.removeFromParent(), this.Pi = null);
		null != this.Ni && (this.Ni.removeFromParent(), this.Ni = null)
	},
	Ey: function() {
		null != this.Ki && (this.Ki.removeFromParent(), this.Ki = null)
	},
	NI: function() {
		null != this.ei && (this.ei.removeFromParent(), this.ei = null)
	},
	JX: function(a) {
		null == this.ei && (this.ei = new BkLabel("",
			"", 17), this.addChild(this.ei, this.ra.getLocalZOrder() + 1), this.ei.x = 0, this.ei.y = 65);
		a ? this.ei.setString("Xong") : this.ei.setString("\u0110ang x\u1ebfp")
	},
	pY: function() {
		cc.eventManager.removeListener(this.Cd);
		cc.eventManager.removeListener(this.ba.Cd);
		cc.eventManager.removeListener(this.ba.Je)
	},
	lT: function(a) {
		this.LI();
		this.xe.addChild(sn(a));
		null != this.W && (this.status != PLAYER_STATE_READY && this.status != PLAYER_STATE_TABLE_OWNER ? this.xe.setOpacity(100) : this.xe.setOpacity(255))
	},
	LI: function() {
		null != this.xe &&
			this.xe.removeAllChildren()
	},
	Yp: function() {
		null != this.$h && (this.$h.removeFromParent(), this.$h = null)
	},
	PT: function(a) {
		BkGlobal.jk ? (this.Yp(), this.$h = new BkChatEmoSprite(El(a + 1)), this.$h.setScale(1.4), this.addChild(this.$h, 1E3), this.$h.x = this.ra.x, this.$h.y = this.ra.y, this.$h.jE()) : logMessage("chat emo not loaded -\x3e reject command!")
	},
	gE: function(a, b, c) {
		null != this.mc && this.mc.bu();
		this.mc = new BkToolTip("toast_background.png");
		this.mc.$D(0);
		this.mc.Wh(a);
		150 < +this.mc.Ea.getContentSize().width && (this.mc.$D(150),
			this.mc.Wh(a));
		this.mc.setTextColor(cc.color(255, 255, 255));
		var d = this;
		this.mc.Ro(function() {
			d.mc = null
		});
		this.mc.No(3);
		this.mc.show(b, c)
	}
});
BkChessPlayer = BkPlayer.extend({
	et: null,
	Ej: null,
	ua: null,
	ub: null,
	Wb: null,
	vc: null,
	wa: null,
	gb: null,
	Xa: null,
	lc: null,
	marginLeft: 0,
	eq: 0.65,
	ctor: function(a, b) {
		this._super(a, b, "#khu_vuc_avatar.png");
		this.setScale(GAME_SCALE)
	},
	removeFromParent: function(a) {
		this._super(a)
	},
	Xx: function() {
		this.getContentSize();
		this.getContentSize();
		this.ba = new BkSprite("#avt_frame_bg.png");
		this.addChild(this.ba);
		this.Ej = new BkSprite("#avt_frame.png");
		this.addChild(this.Ej);
		this.lc = new BkChessRankSprite(-1);
		isWebPlatform() && this.lc.setScale(0.8);
		this.lc.x = this.lc.getContentSize().width / 2;
		this.lc.y = this.lc.getContentSize().height / 2;
		this.addChild(this.lc, 1E3);
		this.ba.x = this.lc.getContentSize().width / 2;
		this.ba.y = this.getContentSize().height - this.ba.getContentSize().height / 2;
		this.Ej.x = this.ba.x;
		this.Ej.y = this.ba.y;
		this.ra = new BkSprite("#avt_frame_bg.png");
		this.addChild(this.ra);
		this.ra.x = this.ba.x;
		this.ra.y = this.ba.y;
		this.eq = 0.65;
		this.ua = new BkSprite("#name_frame.png");
		this.ua.x = this.getContentSize().width - this.ua.getContentSize().width / 2;
		this.ua.y =
			this.getContentSize().height * this.eq + this.Yj();
		isWebPlatform() && (this.ua.setScale(Xa), this.ua.x = this.lc.x, this.ua.y = this.lc.y - 0.5 * this.lc.getBoundingBox().height - this.ua.getBoundingBox().height);
		this.addChild(this.ua);
		this.marginLeft = 0.01 * this.getContentSize().width;
		var a = cc.color(251, 234, 180),
			b = Oi,
			c = 0;
		isWebPlatform() && (b = Pi, c = 0);
		this.Aa = new BkLabel("You", "", b);
		this.Aa.x = isWebPlatform() ? this.ua.x : this.ua.x - 0.5 * this.ua.getBoundingBox().width + this.Aa.getContentSize().width / 2 + this.marginLeft;
		this.Aa.y =
			this.ua.y + c;
		this.Aa.setTextColor(a);
		this.addChild(this.Aa, 100);
		this.ub = new BkSprite("#small_info_frame.png");
		isWebPlatform() || this.ub.setScaleX(1.1);
		this.ub.x = this.ua.x - this.ua.getBoundingBox().width / 2 + this.ub.getContentSize().width / 2;
		this.ub.y = this.getContentSize().height * (1 - this.eq) + this.Yj();
		isWebPlatform() && (this.ub.setScale(Xa), this.ub.x = this.ua.x, this.ub.y = this.ua.y - this.ua.getContentSize().height / 2 - this.ua.getBoundingBox().height / 2);
		this.addChild(this.ub);
		c = "elo_CU.png";
		c = this.Oz();
		this.vc =
			new BkSprite("#" + c);
		isWebPlatform() && this.vc.setScale(Xa);
		this.vc.x = this.ub.x - 0.5 * this.ub.getBoundingBox().width + this.vc.getBoundingBox().width / 2;
		this.vc.y = this.ub.y;
		this.addChild(this.vc);
		this.Wb = new BkLabel("1000", "", b);
		this.Wb.setTextColor(a);
		this.addChild(this.Wb);
		this.Wb.setVisible(!1);
		this.xe = new BkSprite;
		this.xe.x = this.ra.x;
		this.xe.y = this.ba.y - this.ba.getHeight() / 2 + 10 * GAME_SCALE;
		this.ji()
	},
	Yj: function() {
		return (new BkChessAvatar).Yj()
	},
	Oz: function() {
		var a = "elo_CU.png";
		BkGlobal.ja == K && (a = "elo_icon.png",
			this.Hh && (a = "elo_icon1.png"));
		return a
	},
	Vw: function(a) {
		null != this.ua && (this.ua.setVisible(a), this.Aa.setVisible(a))
	},
	iE: function(a) {
		this.ub.setVisible(a);
		this.vc.setVisible(a);
		this.Wb.setVisible(a)
	},
	as: function(a) {
		null != this.wa && (this.wa.setVisible(a), this.gb.setVisible(a), a || this.unschedule(this.Eo), isFBInstantGame() && this.Hh ? this.Xa.y = a ? Math.abs(this.Xa.y) : -1 * Math.abs(this.Xa.y) : this.Xa.setVisible(a))
	},
	IT: function(a) {
		this.ba.setVisible(a);
		this.Ej.setVisible(a)
	},
	mU: function(a) {
		this.lc.setVisible(a)
	},
	dE: function(a) {
		this.Vw(a);
		this.iE(a);
		this.IT(a);
		this.mU(a)
	},
	Sn: function() {
		var a = this;
		this.vb = new BkCountDownTime("#cdtime.png");
		var b = this.ba.getContentSize().height;
		isWebPlatform() && (b = 0.7 * this.getContentSize().height);
		this.vb.setScale(b / this.vb.getContentSize().height);
		this.vb.x = this.ba.x;
		this.vb.y = this.ba.y;
		this.vb.setCallback(function() {
			a.yc()
		});
		this.addChild(this.vb);
		this.SI()
	},
	SI: function() {
		var a = getCurrentScene();
		if (null != a && a instanceof nb && a.Wa && (a = a.Wa.S().Ba()) && !a.Ka && a.P.userName == this.W.userName) {
			var b =
				this;
			this.vb.VS(function() {
				if (isWebPlatform()) {
					var a = b.getParent();
					if (a && a.Kf) {
						var d = new cc.FadeTo(0.75, 255),
							e = new cc.FadeTo(0.75, 0);
						a.Kf.setVisible(!0);
						a.Kf.runAction(cc.sequence(d, e)).repeatForever()
					}
				} else b.as(!1), b.Vw(!1), b.bM(), n.dW()
			})
		}
	},
	QK: function() {
		var a = getCurrentScene();
		return null != a && a instanceof nb && a.Wa ? a.Wa.S() : null
	},
	yc: function() {
		this._super();
		var a = !0,
			b = this.QK();
		null != b && (a = b.Ub());
		this.as(a);
		this.Vw(!0);
		this.kw()
	},
	bg: null,
	gn: 0,
	kw: function() {
		null != this.bg && (this.bg.removeFromParent(),
			this.bg = null, this.unschedule(this.LC))
	},
	LC: function() {
		this.gn--;
		0 >= this.gn ? this.kw() : this.bg.setString(this.gn)
	},
	bM: function() {
		this.kw();
		this.gn = 14;
		this.bg = new cc.LabelBMFont(this.gn, res.rx);
		var a = this.ba.x - 0.8 * this.ba.getContentSize().width - this.bg.getContentSize().width / 2,
			b = 0.2 * this.getContentSize().height;
		isWebPlatform() && (this.bg.setScale(0.4), a = this.ba.x, b = this.ba.y - 0.8 * this.ba.getContentSize().height - this.bg.getBoundingBox().height / 2);
		this.bg.x = a;
		this.bg.y = b;
		this.addChild(this.bg);
		this.schedule(this.LC,
			1)
	},
	ji: function(a) {
		this._super(a);
		this.getContentSize();
		this.getContentSize();
		if (null != this.W) {
			this.dE(!0);
			var b = 0;
			isWebPlatform() && (b = 0);
			this.Aa.setString(Ab(this.W.userName, 10));
			isWebPlatform() || (this.Aa.x = this.ua.x - 0.5 * this.ua.getBoundingBox().width + this.Aa.getContentSize().width / 2 + this.marginLeft);
			this.Aa.y = this.ua.y + b;
			null != this.ra && this.ra.removeFromParent();
			this.ra = new BkSprite;
			var c = new BkSpriteLoader(this.W.Hb, "#default_avatar.jpg"),
				d = 0.85 * this.ba.getContentSize().height;
			c.setScale(d / c.getContentSize().height);
			c = ab(c, d);
			this.ra.addChild(c);
			this.addChild(this.ra);
			this.ra.x = this.ba.x;
			this.ra.y = this.ba.y;
			this.Wb.setString(this.W.$c);
			this.Wb.x = this.vc.x + this.vc.getBoundingBox().width / 2 + this.Wb.getContentSize().width / 2 + 2;
			this.Wb.y = this.ub.y + b;
			this.Wb.setVisible(!0);
			b = this.lc;
			null != b && b.TV(this.W.$c);
			this.aF();
			if (void 0 === a || !0 !== a) this.status == PLAYER_STATE_READY ? this.Zr() : this.xi()
		} else this.dE(!1), null != this.ra && this.ra.removeFromParent(), this.ra = new BkSprite("#wait_player.png"), this.ra.x = this.ba.x, this.ra.y =
			this.ba.y, this.addChild(this.ra)
	},
	Zr: function() {
		null == this.Ad && (this.Ad = new BkSprite("#sansang.png"), this.Ad.x = 0, this.Ad.y = 0, this.addChild(this.Ad, this.lc.getLocalZOrder() + 1));
		this.Nj();
		this.bF()
	},
	bF: function() {
		null != this.Ad && (this.Ad.x = this.ba.x, this.Ad.y = this.ba.y)
	},
	sE: function() {
		this._super();
		this.opacity = 100;
		this.xi()
	},
	Oj: function() {
		this._super();
		this.unschedule(this.Oj)
	},
	vE: function() {
		null == this.ue && (this.ue = new BkSprite("#Thang.png"), this.ue.XD(1.2 * this.getContentSize().height), this.ue.x = this.ba.x,
			this.ue.y = this.ba.y, this.addChild(this.ue, this.lc.getLocalZOrder() + 1));
		this.scheduleOnce(this.Oj, 5)
	},
	rE: function() {
		null == this.Yc && (this.Yc = new BkSprite("#Thua.png"), this.Yc.XD(1.2 * this.getContentSize().height), this.Yc.x = this.ba.x, this.Yc.y = this.ba.y, this.addChild(this.Yc, this.lc.getLocalZOrder() + 1));
		this.scheduleOnce(this.nl, 5)
	},
	nl: function() {
		this._super();
		this.unschedule(this.nl)
	},
	Hy: function() {
		this._super();
		this.opacity = 255;
		this.Zr()
	},
	Iu: function() {
		isWebPlatform() && this.ba.ad(function() {});
		var a =
			this;
		this.ba.Ua(function() {
			var b = J() - a.ba.Kb;
			logMessage("deltaTime " + b);
			1E3 > b || (a.ba.Kb = J(), null != a.W && null != a.wn && a.wn.fD(a.od()))
		})
	},
	ks: !1,
	pa: 0,
	xc: 0,
	po: !1,
	PL: function() {
		if (null == this.wa) {
			this.wa = new BkSprite("#small_info_frame.png");
			this.addChild(this.wa);
			var a = "#hourglass.png";
			isWebPlatform() && (a = "#tuong_den.png", 0 == this.pa && (a = "#tuong_do.png"));
			this.gb = new BkSprite(a);
			a = this.gb.getContentSize();
			this.po && (this.gb = new BkHourGlass, a = this.gb.ku());
			isWebPlatform() ? (this.wa.setScale(0.6), this.wa.x =
				this.ua.x, this.wa.y = this.ua.y - this.ua.getContentSize().height / 2 - this.wa.getBoundingBox().height / 2, this.gb.setScale(1), this.gb.x = this.wa.x - 0.5 * this.wa.getBoundingBox().width - a.width / 2) : (this.wa.x = this.getContentSize().width - this.wa.getContentSize().width / 2, this.wa.y = this.getContentSize().height * (1 - this.eq) + this.Yj(), this.wa.setScaleX(1.1), this.gb.x = this.wa.x - 0.5 * this.wa.getBoundingBox().width + a.width / 2 + 0.2 * a.width);
			this.gb.y = this.wa.y;
			this.addChild(this.gb)
		}
	},
	Kq: function(a) {
		var b = Oi;
		isWebPlatform() &&
			(b = Pi);
		var c = 0;
		this.pa = a;
		this.PL();
		this.Hr();
		isWebPlatform() ? (this.Xa = new BkLabel("00:00", "", b), this.Xa.setTextColor(cc.color(250, 192, 34)), a = 0, c = 2) : isFBInstantGame() ? (this.Xa = new BkLabel("00:00", "", b), this.Xa.setTextColor(cc.color(250, 192, 34)), a = 0.02 * -this.getContentSize().height) : (this.Xa = new cc.LabelBMFont("00:00", res.qx), a = 0.03 * -this.getContentSize().height);
		this.Xa.x = this.gb.x + this.gb.getContentSize().width / 2 + this.Xa.getContentSize().width / 2 + c;
		this.Xa.y = this.wa.y + a;
		this.To(!1);
		this.addChild(this.Xa);
		this.ie(this.xc);
		this.cF()
	},
	Hr: function() {
		null != this.Xa && (this.Xa.removeFromParent(), this.Xa = null)
	},
	To: function(a) {
		null != this.Xa && this.fE(a)
	},
	ie: function(a) {
		this.xc = a;
		null != this.Xa && this.Xa.getParent() && (this.To(!0), this.Xa.setString(convertSecondToMinSec(this.xc)))
	},
	Xw: function() {
		this.xc && (this.ks = !1, this.Xa.setString(convertSecondToMinSec(this.xc)), this.schedule(this.Eo, 1), this.po && this.gb.ET())
	},
	Eo: function() {
		0 < this.xc && !this.ks ? (this.xc--, this.Xa && this.Xa.setString(convertSecondToMinSec(this.xc))) :
			this.unschedule(this.Eo)
	},
	cx: function() {
		this.ks = !0;
		this.unschedule(this.Eo);
		this.po && this.gb.FU()
	},
	mm: function(a) {
		this._super(a);
		a.WS(this);
		logMessage("this.clientState.tablePosition: " + this.yi.Va);
		this.ji()
	},
	Hh: !1,
	C0: function() {
		return this.Hh
	},
	aF: function() {
		this.IV();
		this.cF();
		this.bF()
	},
	cF: function() {
		this.Hh ? this.OV() : this.PV()
	},
	IV: function() {
		this.Hh ? this.JV() : this.KV()
	},
	KV: function() {
		this.lc.x = this.lc.getContentSize().width / 2;
		this.ba.x = this.lc.x;
		this.Ej.x = this.ba.x;
		isWebPlatform() || (this.ua.x =
			this.getContentSize().width - this.ua.getBoundingBox().width / 2, this.Aa.x = this.ua.x - 0.5 * this.ua.getBoundingBox().width + this.Aa.getContentSize().width / 2 + this.marginLeft, this.ub.x = this.ua.x - this.ua.getBoundingBox().width / 2 + this.ub.getBoundingBox().width / 2, this.vc.x = this.ub.x - 0.5 * this.ub.getBoundingBox().width + this.vc.getBoundingBox().width / 2 + 0.015 * this.getContentSize().width, this.Wb.x = this.vc.x + this.vc.getBoundingBox().width / 2 + this.Wb.getContentSize().width / 2, this.ra.x = this.ba.x);
		this.XE()
	},
	JV: function() {
		logMessage("la avatar ben duoi-\x3e update position");
		this.lc.x = this.getContentSize().width - this.lc.getContentSize().width / 2;
		this.ba.x = this.lc.x;
		this.Ej.x = this.ba.x;
		isWebPlatform() || (this.ua.x = this.ua.getBoundingBox().width / 2, this.Aa.x = this.ua.x - (0.5 * -this.ua.getBoundingBox().width + this.Aa.getContentSize().width / 2 + this.marginLeft), this.ub.x = this.ua.x + this.ua.getBoundingBox().width / 2 - this.ub.getBoundingBox().width / 2, this.vc.x = this.ub.x - (0.5 * -this.ub.getBoundingBox().width + this.vc.getBoundingBox().width / 2 + 0.015 * this.getContentSize().width), this.Wb.x = this.vc.x -
			(+this.vc.getBoundingBox().width / 2 + this.Wb.getContentSize().width / 2), this.ra.x = this.ba.x);
		this.XE()
	},
	XE: function() {
		var a = cc.spriteFrameCache.getSpriteFrame(this.Oz());
		this.vc.setSpriteFrame(a)
	},
	PV: function() {
		if (null != this.wa) {
			var a = this.ua.x - this.ua.getBoundingBox().width / 2 + this.ub.getBoundingBox().width / 2,
				b = this.gb.getContentSize(),
				c = -4;
			this.po && (b = this.gb.ku(), c = -0.05 * this.getContentSize().width);
			isWebPlatform() ? (this.wa.x = this.ua.x, this.gb.x = this.wa.x - 0.5 * this.wa.getBoundingBox().width, this.Xa.x =
				this.gb.x + 0.5 * b.width + this.Xa.getContentSize().width / 2 + 5) : (this.wa.x = a, this.gb.x = this.wa.x - 0.5 * this.wa.getBoundingBox().width + b.width / 2 + c + 0.2 * b.width, this.Xa.x = this.gb.x + 0.5 * b.width + this.Xa.getContentSize().width / 2)
		}
	},
	OV: function() {
		if (null != this.wa) {
			var a = this.ua.x + this.ua.getBoundingBox().width / 2 - this.ub.getBoundingBox().width / 2;
			this.wa.getBoundingBox();
			var b = this.gb.getContentSize(),
				c = -4;
			this.po && (b = this.gb.ku(), c = -0.05 * this.getContentSize().width);
			this.wa.x = a;
			this.gb.x = this.wa.x - (0.5 * -this.wa.getBoundingBox().width +
				b.width / 2 + c + 0.2 * b.width);
			this.Xa.x = this.gb.x - (0.5 * +b.width + this.Xa.getContentSize().width / 2)
		}
	},
	setPosition: function(a, b) {
		var c, d;
		void 0 === b ? (c = a.x, d = a.y) : (c = a, d = b);
		this._super(c, d);
		d < cc.winSize.height / 2 ? 0 < d && (this.Hh = !0) : this.Hh = !1;
		this.aF();
		this.vb && (this.vb.x = this.ba.x, this.vb.y = this.ba.y)
	},
	fE: function(a) {
		this.as(a);
		this.iE(!a)
	},
	CL: function() {
		return null == this.ua ? this.getBoundingBox().width : this.ua.getBoundingBox().width
	},
	wi: null,
	gE: function(a, b, c) {
		null != this.wi && this.wi.removeSelf();
		this.wi = new BkToast("Chess_toast.png");
		this.wi.GD(a);
		var d = this;
		this.wi.Ro(function() {
			d.wi = null
		});
		this.wi.No(3);
		b = this.x;
		a = -this.ba.getContentSize().height * GAME_SCALE;
		this.Hh && (a = this.ba.getContentSize().height * GAME_SCALE);
		c = this.y + a;
		this.wi.show(b, c)
	}
});
BkChessPlayerInHistory = BkChessPlayer.extend({
	ctor: function(a, b, c, d, e) {
		this._super(a, b);
		this.AN = c;
		this.dB = d;
		this.result = e;
		this.nK();
		console.log("BkChessPlayerInHistory - result: ", e);
		this.Kq(a.pa);
		this.ie(Sd);
		this.pK();
		this.oK();
		this.VG()
	},
	VG: function() {
		var a, b = 0.17;
		switch (this.result) {
			case hl:
				a = "hoa.png";
				break;
			case il:
				a = "Thang.png";
				b = 0.35;
				break;
			case jl:
				a = "Thua.png";
				b = 0.35;
				break;
			default:
				a = "hoa.png"
		}
		console.log(console.log("BkChessPlayerInHistory - this.result: ", this.result));
		console.log(console.log("BkChessPlayerInHistory - strResult: ",
			a));
		a = new BkSprite("#" + a);
		a.setScale(b);
		a.x = this.ba.x;
		a.y = UI.xf(this.ba);
		this.addChild(a)
	},
	oK: function() {
		this.wa.y = UI.Bh(this.ua) - 8 - UI.Ei(this.wa);
		this.gb.y = this.wa.y;
		this.Xa.y = this.wa.y
	},
	pK: function() {
		var a = this.Xa.getScale();
		console.log("this.remainTimeText scale: ", a);
		this.Xa.setScale(a / 0.8);
		var a = this.wa.getScaleX(),
			b = this.wa.getScaleY();
		this.wa.setScaleX(a / 0.75);
		this.wa.setScaleY(b / 0.7);
		a = this.gb.getScale();
		this.gb.setScale(a / 0.72);
		this.gb.x = UI.eb(this.wa);
		this.gb.y = this.wa.y;
		a = this.ua.getScaleX();
		b = this.ua.getScaleY();
		this.ua.setScaleX(a / 0.75);
		this.ua.setScaleY(b / 0.7);
		a = this.Aa.getScale();
		this.Aa.setScale(a / 0.75)
	},
	fE: function(a) {
		this.as(a)
	},
	wZ: function() {
		this.dB && (this.wa.x = UI.eb(this.ra) - 1.1 * UI.qa(this.wa));
		this.gb.x = UI.eb(this.wa) + 1.5 * UI.Da(this.gb);
		this.Xa.x = UI.fb(this.wa) - 0.1 * UI.qa(this.wa) - UI.Da(this.Xa)
	},
	W4: function(a) {
		this.wa.setScaleX(a * this.wa.getScaleX());
		this.wa.setScaleY(a * this.wa.getScaleY());
		this.gb.setScale(a * this.gb.getScale());
		(isWebPlatform() || isFBInstantGame()) && this.Xa.setFontSize(a *
			this.Xa.getFontSize())
	},
	vZ: function() {
		this.ua.setOpacity(0);
		this.Aa.setFontSize(33);
		this.Aa.x = this.ra.x;
		this.Aa.y = -0.9 * UI.Ei(this.Aa)
	},
	nK: function() {
		this.ub.setOpacity(0);
		this.vc.setOpacity(0);
		this.Wb.setOpacity(0);
		this.dB || (this.ub.x = UI.eb(this.ra) - 1.1 * UI.qa(this.ub), this.vc.x = UI.eb(this.ub) + 1.2 * UI.Da(this.vc), this.Wb.x = UI.fb(this.ub) - 0.1 * UI.qa(this.ub) - UI.Da(this.Wb))
	},
	Iu: function() {
		isWebPlatform() && this.ba.ad(function() {});
		var a = this;
		this.ba.Ua(function() {
			var b = J() - a.ba.Kb;
			logMessage("deltaTime " +
				b);
			1E3 > b || (a.ba.Kb = J(), a.AN.iH(a.W))
		})
	},
	Pw: function(a) {
		void 0 == a && (a = 15);
		null != this.vb && (this.vb.removeFromParent(), this.vb = null);
		this.Sn();
		this.vb.Xr(a);
		null != this.Nc && this.Nc.setVisible(!0);
		this.Xa.setString(convertSecondToMinSec(this.xc));
		this.schedule(this.Eo, 1)
	}
});
TYPE_VALUE = [0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 6, 6, 6];
COL_VALUE = [4, 3, 5, 2, 6, 0, 8, 1, 7, 1, 7, 0, 2, 4, 6, 8];
ROW_VALUE = [0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 3, 3, 3, 3, 3];
LO_MAT_VUA = 0;
LOI_HET_CO = 1;
CHIEU = 2;
CHIEU_HET = 3;
LAP_3_LAN = 4;
HET_GIO = 5;
DAU_HANG = 6;
LOI_CHIEU_TUONG_10_LAN = 7;
DUOI_QUAN_MAI = 8;
TAG_AN_QUAN = 0;
CHESS_TYPES = 7;
RED_COLOR = 0;
BLACK_COLOR = 1;
BkChessType = {
	Qf: {
		id: 0,
		Ah: "T\u01b0\u1edbng",
		Nk: "Tg",
		Gk: "history_chess_piece_01.png",
		Fj: "history_chess_piece_08.png"
	},
	vp: {
		id: 1,
		Ah: "S\u0129",
		Nk: "S",
		Gk: "history_chess_piece_02.png",
		Fj: "history_chess_piece_09.png"
	},
	yp: {
		id: 2,
		Ah: "T\u01b0\u1ee3ng",
		Nk: "T",
		Gk: "history_chess_piece_03.png",
		Fj: "history_chess_piece_10.png"
	},
	Im: {
		id: 3,
		Ah: "Xe",
		Nk: "X",
		Gk: "history_chess_piece_04.png",
		Fj: "history_chess_piece_11.png"
	},
	Hm: {
		id: 4,
		Ah: "Ph\u00e1o",
		Nk: "P",
		Gk: "history_chess_piece_05.png",
		Fj: "history_chess_piece_12.png"
	},
	Ls: {
		id: 5,
		Ah: "M\u00e3",
		Nk: "M",
		Gk: "history_chess_piece_06.png",
		Fj: "history_chess_piece_13.png"
	},
	Qs: {
		id: 6,
		Ah: "T\u1ed1t",
		Nk: "B",
		Gk: "history_chess_piece_07.png",
		Fj: "history_chess_piece_14.png"
	}
};
BkChessMoveType = {
	Fm: ".",
	Dm: "/",
	wp: "-"
};
BkChessMoveTypeDescription = {
	Fm: "ti\u1ebfn",
	Dm: "tho\u00e1i",
	wp: "b\u00ecnh"
};
BkChessSize = {
	sp: 10,
	Em: 9,
	yg: 16
};
BkChessPositionOrder = {
	xp: "t",
	tp: "s",
	np: "g",
	op: ""
};
BkChessPositionOrderDescription = {
	xp: "tr\u01b0\u1edbc ",
	tp: "sau ",
	np: "gi\u1eefa ",
	op: ""
};

function Jn(a) {
	return (a = Pn(a)) ? a.Nk : ""
}

function Kn(a) {
	return (a = Pn(a)) ? a.Ah : ""
}

function yn(a) {
	a = Wn(a);
	return Jn(a.id)
}

function zn(a) {
	a = Wn(a);
	return Kn(a.id)
}

function Wn(a) {
	a = new BkChessPiece(a);
	return Pn(a.Ja)
}

function Pn(a) {
	switch (a) {
		case BkChessType.Qf.id:
			return BkChessType.Qf;
		case BkChessType.vp.id:
			return BkChessType.vp;
		case BkChessType.yp.id:
			return BkChessType.yp;
		case BkChessType.Im.id:
			return BkChessType.Im;
		case BkChessType.Hm.id:
			return BkChessType.Hm;
		case BkChessType.Ls.id:
			return BkChessType.Ls;
		case BkChessType.Qs.id:
			return BkChessType.Qs;
		default:
			return null
	}
}

function In(a, b) {
	for (var c = 0; c < b.length; c++)
		if (a == c) return b[c].Ck
}

function Mn(a, b) {
	return a < BkChessSize.yg ? BkChessSize.Em - b : b + 1
}

function Nn(a, b, c) {
	if (a < BkChessSize.yg) {
		if (c > b) return BkChessMoveType.Fm;
		if (c < b) return BkChessMoveType.Dm
	} else {
		if (c < b) return BkChessMoveType.Fm;
		if (c > b) return BkChessMoveType.Dm
	}
	return BkChessMoveType.wp
}

function Ln(a, b) {
	var c = Xn(a, b);
	if (0 == c.length) return logMessage("WTF"), BkChessPositionOrder.op;
	if (1 == c.length) c = BkChessPositionOrder.op;
	else {
		var d = Yn(c),
			e = Zn(c);
		(a < BkChessSize.yg ? a == d.Fa : a == e.Fa) ? c = BkChessPositionOrder.xp: (d = Yn(c), c = Zn(c), c = (a < BkChessSize.yg ? a == c.Fa : a == d.Fa) ? BkChessPositionOrder.tp : BkChessPositionOrder.np)
	}
	return c
}

function On(a, b) {
	switch (Ln(a, b)) {
		case BkChessPositionOrder.xp:
			return BkChessPositionOrderDescription.xp;
		case BkChessPositionOrder.tp:
			return BkChessPositionOrderDescription.tp;
		case BkChessPositionOrder.np:
			return BkChessPositionOrderDescription.np;
		default:
			return BkChessPositionOrderDescription.op
	}
}

function Yn(a) {
	return a.reduce(function(a, c) {
		return a.rowIndex > c.rowIndex ? a : c
	})
}

function Zn(a) {
	return a.reduce(function(a, c) {
		return a.rowIndex < c.rowIndex ? a : c
	})
}

function Xn(a, b) {
	var c = [],
		d = $n(a, b),
		e = b.filter(function(a) {
			return !1 == a.sa
		}),
		f = 0;
	if (null != d)
		for (var g = 0; g < e.length; g++) {
			var h = e[g];
			d.ea == h.ea && d.Ja == h.Ja && (d.Fa < BkChessSize.yg && h.Fa < BkChessSize.yg || d.Fa >= BkChessSize.yg && h.Fa >= BkChessSize.yg) && (f++, c.push(h))
		}
	return c
}

function $n(a, b) {
	for (var c = 0; c < b.length; c++) {
		var d = b[c];
		if (a == d.Fa) return d
	}
	return null
}
var X = 90,
	Fn = 103,
	Dn = 60,
	En = 60,
	ao = [4, 3, 2, 0, 6, 1, 5],
	Hn = 1,
	Y = 0;

function Gn(a) {
	switch (a) {
		case LO_MAT_VUA:
			return "L\u1ed7i l\u1ed9 m\u1eb7t t\u01b0\u1edbng";
		case LOI_HET_CO:
			return "L\u1ed7i m\u1ea5t t\u01b0\u1edbng";
		case CHIEU:
			return "Chi\u1ebfu t\u01b0\u1edbng";
		case LAP_3_LAN:
			return "L\u1ed7i \u0111i l\u1eb7p 3 l\u1ea7n";
		case HET_GIO:
			return " h\u1ebft th\u1eddi gian";
		case DAU_HANG:
			return " \u0111\u1ea7u h\u00e0ng";
		case CHIEU_HET:
			return "Chi\u1ebfu h\u1ebft";
		case LOI_CHIEU_TUONG_10_LAN:
			return " Kh\u00f4ng \u0111\u01b0\u1ee3c chi\u1ebfu t\u01b0\u1edbng 10 l\u1ea7n li\u00ean t\u1ee5c";
		case DUOI_QUAN_MAI:
			return " L\u1ed7i \u0111u\u1ed5i m\u00e3i m\u1ed9t qu\u00e2n";
		default:
			return "L\u1ed7i n\u01b0\u1edbc \u0111i kh\u00f4ng h\u1ee3p l\u1ec7"
	}
}
BkChessPiece = cc.Class.extend({
	Fa: null,
	rowIndex: null,
	ea: null,
	pa: 0,
	Ja: 0,
	sa: null,
	Ck: null,
	ctor: function(a) {
		this.Ja = TYPE_VALUE[a % 16];
		this.color = a / 16;
		this.Bw(a);
		this.sa = !1;
		this.Ck = this.getPosition();
		this.Fa = a;
		this.pa = Math.floor(a / 16)
	},
	Bw: function(a) {
		16 > a ? (this.ea = COL_VALUE[a % 16], this.rowIndex = ROW_VALUE[a % 16]) : (this.ea = 8 - COL_VALUE[a % 16], this.rowIndex = 9 - ROW_VALUE[a % 16])
	},
	getPosition: function() {
		return 9 * this.rowIndex + this.ea
	},
	mx: function(a) {
		this.rowIndex = this.Bq(a);
		this.ea = this.wq(a);
		this.Ck = this.getPosition()
	},
	Bq: function(a) {
		return Math.floor(a / 9)
	},
	wq: function(a) {
		return a % 9
	},
	mP: function(a) {
		return 0 > a || 89 < a
	},
	bN: function(a, b, c) {
		for (var d = [0, 0, 0, 1, 1, 1, 2, 2, 2, 9, 9, 9, 8, 8, 8, 7, 7, 7], e = [3, 4, 5, 3, 4, 5, 3, 4, 5, 3, 4, 5, 3, 4, 5, 3, 4, 5], f = 0; 9 > f; f++)
			if (a == e[f + 9 * c] && b == d[f + 9 * c]) return !0;
		return !1
	},
	cN: function(a, b) {
		return 0 == b ? 4 >= a : 5 <= a
	},
	OA: function(a, b) {
		return this.Ja == BkChessType.Qf.id || this.Ja == BkChessType.vp.id ? this.bN(a, b, this.pa) : this.Ja == BkChessType.yp.id ? this.cN(b, this.pa) : !0
	},
	vN: function(a, b, c, d) {
		return a == c ? 1 == Math.abs(b -
			d) : b == d ? 1 == Math.abs(a - c) : !1
	},
	sN: function(a, b, c, d) {
		return 1 == Math.abs((a - c) * (b - d))
	},
	uN: function(a, b, c, d, e) {
		return 2 == Math.abs(b - d) && 2 == Math.abs(a - c) && 0 > e[(a + c) / 2][(b + d) / 2] ? !0 : !1
	},
	GB: function(a, b, c, d, e) {
		var f = 0,
			g = 0,
			f = 0;
		if (a == c) {
			f = Math.min(b, d) + 1;
			for (g = Math.max(b, d) - 1; f <= g; f++)
				if (0 <= e[a][f]) return !1;
			return !0
		}
		if (b == d) {
			f = Math.min(a, c) + 1;
			for (g = Math.max(a, c) - 1; f <= g; f++)
				if (0 <= e[f][b]) return !1;
			return !0
		}
		return !1
	},
	oN: function(a, b, c, d, e) {
		if (0 > e[c][d]) return this.GB(a, b, c, d, e);
		var f = 0,
			g = f = 0,
			h = 0;
		if (a == c) {
			f = Math.min(b,
				d) + 1;
			for (g = Math.max(b, d) - 1; f <= g; f++) 0 <= e[a][f] && h++;
			return 1 == h
		}
		if (b == d) {
			f = Math.min(a, c) + 1;
			g = Math.max(a, c) - 1;
			for (h = 0; f <= g; f++) 0 <= e[f][b] && h++;
			return 1 == h
		}
		return !1
	},
	hN: function(a, b, c, d, e) {
		for (var f = [-1, 1, 2, 2, 1, -1, -2, -2], g = [2, 2, 1, -1, -2, -2, -1, 1], h = [0, 0, 1, 1, 0, 0, -1, -1], k = [1, 1, 0, 0, -1, -1, 0, 0], m = 0; m < f.length; m++)
			if (c - a == f[m] && d - b == g[m]) {
				if (0 > e[a + h[m]][b + k[m]]) return !0;
				break
			} return !1
	},
	tN: function(a, b, c, d, e) {
		if (0 == e) {
			if (a == c && b + 1 == d || 5 <= b && b == d && 1 == Math.abs(a - c)) return !0
		} else if (a == c && b - 1 == d || 4 >= b && b == d && 1 ==
			Math.abs(a - c)) return !0;
		return !1
	},
	tt: function(a, b) {
		if (this.mP(a)) return !1;
		var c = this.wq(a),
			d = this.Bq(a);
		if (c == this.ea && d == this.rowIndex || !this.OA(c, d)) return !1;
		var e = !1;
		0 <= b[c][d] && (e = Math.floor(b[c][d] / 16) == this.pa);
		if (e) return !1;
		switch (this.Ja) {
			case BkChessType.Qf.id:
				return this.vN(this.ea, this.rowIndex, c, d);
			case BkChessType.vp.id:
				return this.sN(this.ea, this.rowIndex, c, d);
			case BkChessType.yp.id:
				return this.uN(this.ea, this.rowIndex, c, d, b);
			case BkChessType.Im.id:
				return this.GB(this.ea, this.rowIndex,
					c, d, b);
			case BkChessType.Hm.id:
				return this.oN(this.ea, this.rowIndex, c, d, b);
			case BkChessType.Ls.id:
				return this.hN(this.ea, this.rowIndex, c, d, b);
			case BkChessType.Qs.id:
				return this.tN(this.ea, this.rowIndex, c, d, this.pa)
		}
		return !1
	}
});
BkCoUpPiece = BkChessPiece.extend({
	$u: null,
	he: null,
	ctor: function(a) {
		this._super(a);
		this.$u = this.Ja == BkChessType.Qf.id
	},
	OA: function(a, b) {
		return this.$u && this.Ja != BkChessType.Qf.id ? !0 : this._super(a, b)
	}
});
BkChessPieceSprite = BkSprite.extend({
	index: null,
	Ja: null,
	pa: null,
	rowIndex: null,
	ea: null,
	sa: null,
	sc: Hn,
	hc: Hn,
	qB: !1,
	aZ: null,
	$Y: null,
	md: null,
	isSelected: !1,
	ve: !1,
	hB: !1,
	Lg: null,
	qc: null,
	Lx: 0.8,
	ctor: function(a) {
		this._super(res.gt);
		this.index = a;
		this.Fu(a);
		this.fM();
		0 == a || 16 == a ? (this.md = new BkSprite("#trangthai_quananduoc.png"), this.md.x = this.width / 2 - 1, this.md.y = this.height / 2 + 3) : (this.md = new BkSprite("#trangthai_quananduoc.png"), this.md.x = this.width / 2, this.md.y = this.height / 2);
		this.md.setScale(0.5);
		this.md.setVisible(!1);
		a = getSpriteFromImage("#nuocdi.png");
		var b = this.md.getContentSize().height;
		a.setScale(b / a.getContentSize().height);
		a.x = 0.5 * this.md.getContentSize().width;
		a.y = 0.5 * this.md.getContentSize().height;
		this.md.SU = a;
		this.md.addChild(a);
		this.addChild(this.md, 33);
		var c = 30;
		isWebPlatform() ? (a = Dn, b = En, c = 26) : (a = X, b = Fn);
		this.qc = new BkSprite("#sl_quanan.png");
		this.qc.x = 0.7 * a;
		this.qc.y = 0.25 * b;
		this.qc.setScale(28 / 65 * a / this.qc.getContentSize().width);
		this.qc.setVisible(!1);
		this.addChild(this.qc);
		this.Uc = new BkLabel("0",
			"", c, !0);
		this.Uc.x = this.qc.x;
		this.Uc.y = this.qc.y;
		this.Uc.setVisible(!1);
		this.addChild(this.Uc, 34);
		this.Lg = new BkSprite(res.gt);
		isWebPlatform() ? this.Lg.setTextureRect(cc.rect(8 * Dn, En, Dn, En - 1)) : this.Lg.setTextureRect(cc.rect(8 * X + 0, Fn + 0, X, Fn));
		this.Lg.setVisible(!1);
		this.Lg.x = this.width / 2;
		this.Lg.y = this.height / 2;
		this.addChild(this.Lg)
	},
	Fu: function(a) {
		this.Bw(a);
		this.mg()
	},
	Bw: function(a) {
		this.Ja = TYPE_VALUE[a % 16];
		this.pa = Math.floor(a / 16);
		this.cg = 1;
		16 > a ? (this.ea = COL_VALUE[a % 16], this.rowIndex = ROW_VALUE[a %
			16]) : (this.ea = 8 - COL_VALUE[a % 16], this.rowIndex = 9 - ROW_VALUE[a % 16]);
		this.sa = !1
	},
	fM: function() {
		this.Vs = xb();
		cc.eventManager.addListener(this.Vs, this)
	},
	Mk: function(a) {
		a ? this.Vs.setEnabled(!0) : this.Vs.setEnabled(!1)
	},
	Tz: function(a) {
		var b, c, d = 0;
		isWebPlatform() ? (b = Dn, c = En) : (b = X, c = Fn);
		var d = 0,
			e = this.pa;
		this.qB && (e = 0 == this.pa ? 1 : 0);
		return isWebPlatform() ? cc.rect(a * b + (a + 1) * d, e * c, b, c) : cc.rect(a * b + (a + 1) * d, e * c + (e + 1) * d, b, c)
	},
	mg: function() {
		this.hc == Y && this.Ja != BkChessType.Qf.id ? this.setTextureRect(this.Tz(7)) : this.setTextureRect(this.Tz(ao[this.Ja]));
		null != this.Lg && void 0 != this.Lg && this.Lg.setVisible(this.sc == Y && this.sa && this.hc == Hn);
		null != this.Uc && void 0 != this.Uc && (1 < this.cg ? (this.qc.setVisible(!0), this.Uc.setVisible(!0), this.Uc.setString(this.cg)) : (this.qc.setVisible(!1), this.Uc.setVisible(!1)))
	},
	mj: function(a) {
		this.md.setVisible(a);
		if (a) {
			a = new cc.FadeTo(0.5, 0);
			var b = new cc.FadeTo(0.5, 255);
			a = cc.sequence(a, b).repeatForever();
			this.md.runAction(a);
			this.md.SU.runAction(a.clone())
		}
	},
	ka: function() {
		return BkGlobal.ek ? BkGlobal.ek.ka() : BkHistoryGameLayer
	},
	Ik: function() {
		var a = this.ka();
		this.sa ? this.setPosition(-100, -100) : this.setPosition(a.Sb(this.ea), a.Tb(this.rowIndex))
	},
	aS: function(a, b) {
		this.sa ? this.setPosition(-100, -100) : this.setPosition(a, b)
	},
	bS: function() {
		var a = this.ka();
		this.sa || (this.setVisible(!0), this.wD(), this.setScale(this.Lx), this.setPosition(a.Sb(this.ea), a.Tb(this.rowIndex)))
	},
	N3: function() {},
	pT: function(a, b) {
		if (!this.sa) {
			this.setVisible(!0);
			this.wD();
			this.setScale(this.Lx);
			this.ea = a;
			this.rowIndex = b;
			var c = this.ka();
			this.setPosition(c.Sb(this.ea),
				c.Tb(this.rowIndex))
		}
	},
	moveTo: function(a, b) {
		this.ea = a;
		this.rowIndex = b;
		var c = this.ka();
		this.move(0.2, c.Sb(a), c.Tb(b))
	},
	move: function(a, b, c) {
		if (this.ve && !1 == this.hB) return this.schedule(function g() {
			this.move(a, b, c);
			this.hB = !0;
			this.unschedule(g)
		}, 0.1), !0;
		var d = cc.callFunc(this.zI, this),
			e = cc.moveTo(a, cc.p(b, c), 0),
			d = cc.sequence(e, d);
		if (this.y != c || this.x != b) this.runAction(d), this.ve = !0
	},
	zI: function() {
		this.ve = !1;
		this.setLocalZOrder(this.index)
	},
	uK: function() {
		this.sc = this.hc = Hn;
		this.mg()
	},
	nT: function(a) {
		this.sc =
			a;
		this.mg()
	},
	VD: function(a) {
		this.hc = a;
		this.mg()
	},
	Cu: function() {
		this.cg++;
		this.mg()
	},
	wD: function() {
		this.cg = 0;
		this.mg()
	}
});
BkAnimation = cc.Layer.extend({
	ctor: function() {
		this._super();
		this.setVisible(!0);
		this.cO = new BkSprite("#btn_NhiemVu_haveNewTask.png");
		this.addChild(this.cO)
	},
	scaleTo: function(a, b, c, d, e) {
		c = cc.scaleTo(b, c, d);
		b = cc.scaleTo(b, 1, 1);
		e = cc.delayTime(e);
		e = cc.sequence(c, e, b).repeatForever();
		a.runAction(e)
	},
	moveBy: function(a, b, c, d, e) {
		var f = cc.moveBy(b, c, d);
		b = cc.moveBy(b, -c, d);
		e = cc.delayTime(e);
		e = cc.sequence(f, e, b).repeatForever();
		a.runAction(e)
	},
	blink: function(a) {
		var b = cc.blink(5, 10),
			b = cc.sequence(b).repeatForever();
		a.runAction(b)
	},
	k0: function(a) {
		var b = cc.scaleTo(0.13, 1.2, 1.2),
			c = cc.scaleTo(0.13, 1, 1);
		cc.moveBy(0.13, 10, 0);
		cc.moveBy(0.13, -10, 0);
		cc.moveBy(0.13, -10, 0);
		cc.moveBy(0.13, 10, 0);
		var d = cc.blink(1, 2),
			e = cc.delayTime(2.5),
			b = cc.sequence(b, c, b, c, e, d, e).repeatForever();
		a.runAction(b)
	},
	EZ: function(a) {
		var b = cc.scaleTo(0.13, 0.8, 0.8),
			c = cc.scaleTo(0.13, 1, 1),
			d = cc.delayTime(5),
			b = cc.sequence(b, c, b, c, d).repeatForever();
		a.runAction(b)
	}
});
BkStarAnimation = cc.Layer.extend({
	Z5: function() {
		var a = cc.delayTime(0.8);
		this.runAction(cc.sequence(cc.callFunc(this.js, this, 1), a, cc.callFunc(this.js, this, 2), a, cc.callFunc(this.js, this, 3), a, cc.callFunc(this.js, this, 4)))
	},
	zZ: function(a) {
		var b = new cc.fadeOut(2),
			c = new cc.fadeIn(0),
			b = cc.sequence(b, c);
		a.runAction(b)
	},
	Yz: function(a) {
		if (1 == a) return null == this.is && (this.is = new BkSprite("#starlight.png"), this.is.setScale(0.7, 0.7), this.addChild(this.is)), this.is;
		if (2 == a) return null == this.rm && (this.rm = new BkSprite("#starlight.png"),
			this.rm.setScale(0.8, 0.8), this.rm.x += 10, this.addChild(this.rm)), this.rm;
		if (3 == a) return null == this.sm && (this.sm = new BkSprite("#starlight.png"), this.sm.setScale(0.5, 0.5), this.sm.x += 20, this.addChild(this.sm)), this.sm;
		if (4 == a) return null == this.Xo && (this.Xo = new BkSprite("#starlight.png"), this.Xo.x += 30, this.addChild(this.Xo)), this.Xo
	},
	js: function(a, b) {
		var c = new cc.moveBy(2, 0, 50),
			d = cc.fadeOut(2),
			e = cc.fadeIn(0),
			d = cc.sequence(d, e),
			c = cc.spawn(c, d);
		this.Yz(b).runAction(cc.sequence(c, cc.callFunc(this.kP, this.Yz(b)))).repeatForever()
	},
	kP: function(a) {
		a.y -= 50
	}
});
Ma = 1;
tl = 2;
BkDialogWindowWithDynamicButtons = BkBaseChessWindow.extend({
	type: Ma,
	la: null,
	We: null,
	Tc: null,
	Ne: null,
	Sp: null,
	Tp: null,
	Jx: 10,
	Qq: !1,
	ctor: function(a, b, c, d, e) {
		console.log("BkDialogWindowWithDynamicButtons - txtButton1: " + d);
		console.log("BkDialogWindowWithDynamicButtons - txtButton2: " + e);
		var f = isWebPlatform() ? cc.size(506, 280) : cc.size(700, 460),
			g = 50,
			h = bkScaleSizeUtil(f);
		logMessage("Windows size after scale: " + h.width + " - " + h.height);
		void 0 != c && (h = c);
		this._super(a, h);
		this.Cc(!1);
		this.type = b;
		this.Ob("title_wd_thongbao.png");
		this.We =
			bkScaleSizeUtil(f);
		isWebPlatform() ? (this.la = new cc.LabelTTF("", "Tahoma", 44, cc.size(2 * this.We.width - 180, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_TOP), this.la.setScale(0.5), this.la.setFontFillColor(v), this.la.setDimensions(cc.size(1.4 * f.width, 0)), this.la.y = this.Q.height / 2 + this.la.getBoundingBox().height / 4) : (this.la = new cc.LabelTTF("Th\u00f4ng b\u00e1o", "Tahoma", 30, cc.size(this.We.width - 2 * g, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_TOP), a = 0.035 * cc.winSize.height / this.la.getContentSize().height,
			g = (this.We.width - 2 * g) / a, this.la.setContentSize(cc.size(g, 0)), this.la.setDimensions(cc.size(g, 0)), this.la.setScale(a), this.la.setFontFillColor(v), this.la.y = this.Q.height / 2 + this.la.getContentSize().height / 2);
		this.la.x = this.Q.width / 2;
		this.lb.addChild(this.la);
		this.Tc = new BkButton(x, x, x, x, ccui.Widget.PLIST_TEXTURE);
		this.Tc.setTitleText(d);
		this.Tc.setTitleFontName(ma());
		this.Tc.setTitleFontSize(17);
		this.Tc.setTitleColor(cc.color(71, 44, 27));
		this.Tc.wL().y += 0.1 * this.Tc.getBoundingBox().height;
		d = this.Tc.getContentSize().width /
			2 * GAME_SCALE + 20;
		this.Tc.setScale(GAME_SCALE);
		this.Tc.x = this.la.x - d;
		this.Tc.y = this.Tc.getContentSize().height * GAME_SCALE * 1.1;
		this.lb.addChild(this.Tc);
		var k = this;
		this.Tc.addClickEventListener(function() {
			null != k.Sp && k.df(null);
			null != k.Sp && (k.Sp(), k.am = null)
		});
		this.Ne = new BkButton(x, x, x, x, ccui.Widget.PLIST_TEXTURE);
		this.Ne.setTitleText(e);
		this.Ne.setTitleFontName(ma());
		this.Ne.setTitleFontSize(17);
		this.Ne.setTitleColor(cc.color(71, 44, 27));
		this.Ne.getTitleRenderer().y += 0.1 * this.Ne.getBoundingBox().height;
		this.Ne.setScale(GAME_SCALE);
		this.Ne.x = this.la.x + d;
		this.Ne.y = this.Tc.y;
		this.lb.addChild(this.Ne);
		this.Ne.addClickEventListener(function() {
			null != k.Tp && k.df(null);
			null != k.Tp && (k.Tp(), k.ll = null)
		});
		this.Dt()
	},
	Dt: function() {
		this.type == Ma ? (this.Tc.setVisible(!0), this.Tc.x = this.la.x) : this.type == tl && (this.Tc.setVisible(!0), this.Ne.setVisible(!0))
	},
	So: function(a) {
		this.la.setString(a);
		console.log("this.contentMess.getContentSize().height " + this.la.getContentSize().height)
	},
	show: function() {
		this.Oa()
	},
	ZS: function(a) {
		this.Sp =
			a
	},
	$S: function(a) {
		this.Tp = a
	},
	setTextColor: function(a) {
		this.la.setFontFillColor(a)
	}
});
BkConfirmPopup = BkDialogWindow.extend({
	ctor: function(a, b, c) {
		this._super(a, b, c)
	},
	removeSelf: function() {
		logMessage("removeSelf BkConfirmPopup");
		U.cc = null;
		this._super()
	}
});
BkConfirmPopupWithDynamicButtons = BkDialogWindowWithDynamicButtons.extend({
	ctor: function(a, b, c, d, e, f) {
		this._super(a, b, c, d, e, f)
	},
	removeSelf: function() {
		logMessage("removeSelf BkConfirmPopupWithDynamicButtons");
		this._super()
	}
});
BkNotifyContentWindow = BkBaseChessWindow.extend({
	Az: -1,
	Bz: -1,
	HE: "",
	IE: "",
	la: null,
	ctor: function(a, b, c, d, e, f) {
		this.Az = c;
		this.Bz = e;
		this.HE = d;
		this.IE = f;
		var g = isWebPlatform() ? cc.size(586, 360) : cc.size(700, 460);
		f = 50;
		d = 31;
		var h = bkScaleSizeUtil(g);
		this._super("", h);
		this.Ob("title_wd_thongbao.png");
		this.We = bkScaleSizeUtil(g);
		isWebPlatform() ? (d = 18, this.la = new cc.LabelTTF(a, "Tahoma", 44, cc.size(2 * this.We.width - 40, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_TOP), this.la.setDimensions(cc.size(1.4 * g.width,
			0)), this.la.setScale(0.5), this.la.setFontFillColor(v), this.la.y = this.Q.height / 2 + this.la.getBoundingBox().height / 4) : (this.la = new BkLabelTTF("thong bao", "Tahoma", 30, cc.size(this.We.width - 2 * f, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_TOP), g = 0.035 * cc.winSize.height / this.la.getContentSize().height, f = (this.We.width - 2 * f) / g, this.la.setContentSize(cc.size(f, 0)), this.la.setDimensions(cc.size(f, 0)), this.la.setScale(g), this.la.setFontFillColor(v), this.la.y = this.Q.height / 2 + this.la.getContentSize().height /
			2);
		this.la.x = this.Q.width / 2;
		this.lb.addChild(this.la);
		this.la.setString(a);
		var k = this;
		a = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE);
		a.setTitleText(this.gA(c));
		a.setTitleFontName(ma());
		a.setTitleFontSize(d);
		a.setTitleColor(cc.color(71, 44, 27));
		isWebPlatform() || (a.getTitleRenderer().y += 0.1 * a.getBoundingBox().height);
		a.setScale(GAME_SCALE);
		a.x = this.Q.width / 2;
		a.y = a.getBoundingBox().height;
		this.T(a);
		a.addClickEventListener(function() {
			k.mO()
		});
		2 == b && (b = a.getContentSize().width / 2 * GAME_SCALE + 20, a.x -=
			b, c = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE), c.setTitleText(this.gA(e)), c.setTitleFontName(ma()), c.setTitleFontSize(d), c.setTitleColor(cc.color(71, 44, 27)), isWebPlatform() || (c.getTitleRenderer().y += 0.1 * a.getBoundingBox().height), c.setScale(GAME_SCALE), c.x = this.Q.width / 2 + b, c.y = a.y, this.T(c), c.addClickEventListener(function() {
				k.nO()
			}))
	},
	gA: function(a) {
		return 0 === a ? "\u0110\u00f3ng" : 1 === a ? "\u0110\u1ed3ng \u00fd" : 2 == a ? "Xem chi ti\u1ebft" : 3 === a ? "C\u1eadp nh\u1eadt" : 4 == a ? "B\u1ea1n b\u00e8" : 5 === a ?
			"Nh\u1eadn tim" : 6 === a ? "M\u1eddi b\u1ea1n FB" : "\u0110\u1ed3ng \u00fd"
	},
	nO: function() {
		this.$C(this.Bz, this.IE)
	},
	mO: function() {
		this.$C(this.Az, this.HE)
	},
	$C: function(a, b) {
		this.removeSelf();
		logMessage("processClickButton: " + a + " webURL: " + b);
		if (1 !== a)
			if (2 === a) Wa(b, "Th\u00f4ng b\u00e1o");
			else if (3 === a) isWebPlatform() ? cc.sys.openURL(b) : n.openURL(b);
		else {
			var c = getCurrentScene(),
				d = null;
			c && (d = c instanceof hb ? c.Se : c.ka());
			4 === a ? (c = new BkFriendsWindow, c.Ab(d), c.Oa()) : 5 === a ? (c = new BkAddHeartWindow, c.Ab(this), c.Ab(d),
				c.Oa()) : 6 === a && BkLogicManager.S().St()
		}
	}
});
BkToast = BkSprite.extend({
	background: null,
	XN: "",
	Ea: null,
	Lj: null,
	RM: !1,
	ctor: function(a) {
		this._super();
		this.XN = a;
		a = new cc.SpriteBatchNode("Chess_toast.png");
		console.log("BkToast - ctor - test_batch: ", a)
	},
	CA: function() {
		var a = new cc.SpriteBatchNode("Chess_toast.png");
		this.background = new cc.Scale9Sprite;
		this.background.updateWithBatchNode(a, cc.rect(0, 0, 37, 38), !1, cc.rect(12, 12, 12, 12));
		this.addChild(this.background)
	},
	bT: function(a, b) {
		var c = bkFontSizeUtil(isFBInstantGame() && !FBInstant.Rz().toLowerCase().zA("web") ?
			40 : 18);
		this.Ea = new BkLabelTTF(a, "", c, cc.size(360, 0), cc.TEXT_ALIGNMENT_CENTER, cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		b *= 2;
		this.Ea.setContentSize(cc.size(b, 0));
		this.Ea.setDimensions(cc.size(b, 0));
		this.Ea.setString(a);
		this.addChild(this.Ea);
		var c = this.Ea.getContentSize().width + 20,
			d = this.Ea.getContentSize().height + 10;
		35 > d && (d = 35);
		45 > c && (c = 45);
		this.background.width = c;
		this.background.height = d
	},
	Wh: function(a, b) {
		var c = new cc.SpriteBatchNode("Chess_toast.png");
		console.log("setContentText - test_batch: ", c);
		this.CA();
		b = void 0 == b ? 180 : b;
		if (isWebPlatform() || isFBInstantGame()) this.bT(a, b);
		else {
			this.Ea = new BkLabel(a, "", bkFontSizeUtil(isWebPlatform() ? 18 : 40));
			this.Ea.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			this.Ea.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
			var d = cc.winSize.height * (isWebPlatform() ? 0.025 : 0.035) / this.Ea.getContentSize().height;
			this.Ea.Yb(d);
			this.Ea.setTextColor(cc.color.WHITE);
			var e = 0.03 * cc.winSize.width,
				c = 0.004 * cc.winSize.height,
				f = 0.8 * cc.winSize.width;
			this.RM && (f = 0.5 * cc.winSize.width);
			var g = this.Ea.getBoundingBox().width;
			g + 2 * e < f && (f = g + 2 * e);
			this.Ea.boundingWidth = f / d;
			this.addChild(this.Ea);
			d = f;
			c = this.Ea.getBoundingBox().height + 2 * c;
			this.background.width = d;
			this.background.height = c
		}
	},
	show: function(a, b) {
		if (cc.director.getRunningScene()) {
			var c = cc.director.getRunningScene();
			void 0 != a && (this.x = a);
			void 0 != b && (this.y = b);
			c.addChild(this, Ud)
		}
	},
	removeSelf: function() {
		this.removeFromParent();
		null != this.Lj && this.Lj()
	},
	Ro: function(a) {
		this.Lj = a
	},
	No: function(a) {
		void 0 === a && (a = 5);
		this.scheduleOnce(this.removeSelf,
			a)
	},
	GD: function(a) {
		this.CA();
		isFBInstantGame() && FBInstant.Rz().toLowerCase().zA("web") ? this.Ea = new BkLabel(a, "", 15) : this.Ea = new BkLabel(a, "", 35);
		this.Ea.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.Ea.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		var b = GAME_SCALE;
		isFBInstantGame() && (b = 1);
		this.Ea.setScale(b);
		this.Ea.setTextColor(cc.color.WHITE);
		var c = 0.03 * cc.winSize.width;
		a = 0.004 * cc.winSize.height;
		var d = 0.5 * cc.winSize.width,
			e = this.Ea.getBoundingBox().width;
		e + 2 * c < d && (d = e +
			2 * c);
		this.Ea.boundingWidth = d / b;
		this.addChild(this.Ea);
		b = d;
		c = this.Ea.getBoundingBox().height + 2 * a;
		isFBInstantGame() && (c = this.Ea.getBoundingBox().height * Math.ceil(e / d) + 2 * a);
		this.background.width = b;
		this.background.height = c
	}
});
BkWebview = BkBaseLayer.extend({
	background: null,
	jp: null,
	fF: "",
	Kc: null,
	ctor: function(a, b) {
		this._super();
		var c = cc.winSize;
		this.background = new BkSprite(res.gF);
		this.background.scaleX = c.width / this.background.getContentSize().width;
		this.background.scaleY = c.height / this.background.getContentSize().height;
		this.background.x = c.width / 2;
		this.background.y = c.height / 2;
		this.addChild(this.background);
		this.fF = a;
		this.jp = new ccui.WebView(this.fF);
		this.jp.setContentSize(0.9 * cc.winSize.width, 0.86 * cc.winSize.height);
		this.jp.setPosition(0.5 *
			cc.winSize.width, 0.455 * cc.winSize.height);
		this.jp.setScalesPageToFit(!0);
		this.addChild(this.jp);
		if (void 0 != b) {
			logMessage("title " + b);
			var d = new BkLabel(b, "", 50);
			d.setTextColor(cc.color(251, 234, 180));
			var e = 58 * Math.PI / 360;
			d.enableShadow(cc.color(0, 0, 0, 191), cc.size(3, 3), e);
			d.x = c.width / 2;
			d.y = 0.93 * c.height;
			this.addChild(d)
		}
		if (cc.sys.isNative) {
			var f = n.GK();
			n.Tj()
		}
		this.Kc = new BkButton("close_butt.png", "close_butt_press.png", "close_butt.png", "close_butt.png", ccui.Widget.PLIST_TEXTURE);
		this.Kc.setScale(GAME_SCALE);
		this.Kc.x = c.width - this.Kc.getBoundingBox().width / 2;
		this.Kc.y = c.height - this.Kc.getBoundingBox().height / 2;
		isFBInstantGame() && (this.Kc.x = 0.92 * c.width - this.Kc.getBoundingBox().width / 2, this.Kc.y = 0.93 * c.height - this.Kc.getBoundingBox().height / 2);
		this.addChild(this.Kc);
		var g = this;
		this.Kc.addClickEventListener(function() {
			cc.sys.isNative && n.jS(f);
			g.removeFromParent()
		})
	}
});
var bo = 70;
BkTextfieldChangeHeart = BkSprite.extend({
	delay: null,
	wb: null,
	Qm: 0,
	uc: null,
	ctor: function(a, b) {
		this._super();
		this.uc = a;
		this.Qm = b;
		this.wb = 0 < this.Qm ? new cc.LabelBMFont("", res.kp) : new cc.LabelBMFont("", res.sx);
		this.wb.textAlign = cc.TEXT_ALIGNMENT_CENTER;
		this.setVisible(!1);
		this.addChild(this.wb);
		this.wb.retain()
	},
	Wh: function(a) {
		this.wb.setString(a);
		this.wb.x = this.wb.getContentSize().width / 2
	},
	Rt: function() {
		this.x = this.uc.x - 0.1 * this.uc.getBoundingBox().width;
		this.y = this.uc.y + this.uc.getBoundingBox().height / 2;
		getCurrentScene().addChild(this);
		this.delay = 0;
		0 < this.uc.Qh && (this.delay = 2 * this.uc.Qh);
		var a = cc.callFunc(this.Kv, this),
			b = cc.callFunc(this.Rv, this),
			c = cc.delayTime(0.5);
		isWebPlatform() && (this.wb.setScale(0.6), bo = -35);
		var d = cc.moveTo(1.5, cc.p(this.wb.x, this.wb.y + bo));
		cc.fadeTo(1.5, 0);
		d = cc.spawn(d);
		a = cc.sequence(b, d, c, a);
		0 === this.delay ? this.wb.runAction(a) : this.wb.runAction(cc.sequence(cc.delayTime(this.delay), a));
		this.uc.Qh++
	},
	Kv: function() {
		this.uc.Qh--;
		this.setVisible(!1);
		this.removeFromParent();
		this.wb.release()
	},
	Rv: function() {
		this.wb.opacity = 255;
		this.setVisible(!0)
	}
});
BkLogoutConfirmPopup = BkDialogWindow.extend({
	ctor: function(a, b) {
		this.Jx = 20;
		this._super(a, b, bkScaleSizeUtil(DEFAULT_SIZE_DW));
		this.Cc(!0);
		var c = new BkSprite(res.zp);
		BkLogicManager.S().eo = !1;
		BkGlobal.isLoginFacebook || this.T(c);
		var d = new BkLabelTTF("X\u00f3a th\u00f4ng tin \u0111\u0103ng nh\u1eadp", "", 16);
		d.setFontFillColor(cc.color(225, 227, 26));
		d.x = d.width / 4 + 20;
		d.y = d.height / 4;
		c.addChild(d);
		this.$e = new BkCheckBox;
		this.$e.x = d.x - d.width / 4 - this.$e.width / 2 - 45;
		this.$e.y = d.y;
		c.addChild(this.$e);
		var e = this;
		this.$e.addEventListener(function() {
			logMessage("check isDeleteLoginState");
			BkLogicManager.S().eo = e.$e.isSelected()
		}, this);
		c.setContentSize(cc.size(this.$e.width + d.width / 2, this.$e.height));
		c.x = this.ab().width / 2;
		c.y = this.ab().height / 2 - 10;
		c.ad();
		c.Ua(function() {
			logMessage("checkBoxClickArea");
			e.$e.setSelected(!e.$e.isSelected());
			BkLogicManager.S().eo = e.$e.isSelected()
		});
		this.So("C\u1ea3m \u01a1n b\u1ea1n \u0111\u00e3 tham gia C\u1edd T\u01b0\u1edbng - C\u1edd \u00dap.\n B\u1ea1n c\u00f3 mu\u1ed1n tho\u00e1t kh\u00f4ng?")
	},
	eo: function() {
		return null == this.$e ? !1 : this.$e.isSelected()
	}
});
BkChooseAccountWindow = BkBaseChessWindow.extend({
	xk: "",
	Ii: 1,
	ctor: function(a) {
		var b = cc.size(610, 680);
		isWebPlatform() || (b = cc.size(600 * GAME_SCALE, 770 * GAME_SCALE));
		this._super("", b);
		this.xk = a.xk;
		this.Cc(!0);
		this.Ii = 1;
		b = a.tn;
		b < a.vl && (b = a.vl);
		b < a.kq && (b = a.kq, this.Ii = 2);
		b < a.lq && (b = a.lq, this.Ii = 2);
		logMessage("maxElo: " + b + " this.idAccLK: " + this.Ii);
		this.rd(a);
		this.Ob("title_wd_dongbo.png")
	},
	rd: function(a) {
		var b = this.Q.width / 5,
			c = GAME_SCALE,
			d = 30,
			e = 0.75;
		isWebPlatform() && (d = 16, e = c = 0.6);
		var f = this,
			g = null,
			h = null,
			k = null,
			m = 0.01 * -this.Q.width,
			g = new BkSprite("#smallFrame.png");
		g.setScaleX(GAME_SCALE);
		g.setScaleY(1 * GAME_SCALE);
		g.x = 0.25 * this.Q.width + m;
		g.y = 0.17 * this.Q.height + g.getBoundingBox().height / 2;
		this.T(g);
		g.Ua(function() {
			k.x = g.x;
			k.y = g.y;
			f.Ii = 1
		});
		h = new BkSprite("#smallFrame.png");
		h.setScaleX(GAME_SCALE);
		h.setScaleY(1 * GAME_SCALE);
		h.x = 0.75 * this.Q.width - m;
		h.y = g.y;
		this.T(h);
		h.Ua(function() {
			k.x = h.x;
			k.y = h.y;
			f.Ii = 2
		});
		var m = cc.spriteFrameCache.getSpriteFrame("select_eff.png"),
			r = cc.rect(91, 99, 91, 99),
			k = new cc.Scale9Sprite(m,
				r);
		k.setScaleX(GAME_SCALE);
		k.setScaleY(1 * GAME_SCALE);
		1 == this.Ii ? (k.x = g.x, k.y = g.y) : (k.x = h.x, k.y = h.y);
		this.T(k);
		var w = new zb(a.jt, Math.max(a.tn, a.vl));
		this.T(w);
		w.setScale(e * GAME_SCALE);
		w.x = g.x;
		w.y = g.y + g.getBoundingBox().height / 2 - 0.8 * w.getBoundingBox().height;
		var C = 16;
		isWebPlatform() || (w.x = w.getBoundingBox().width / 2 + b - 80, C = 13);
		var I = new BkLabel(Ab(a.xk, C), "", d, !0);
		I.setTextColor(R);
		I.x = g.x;
		I.y = w.y - 0.87 * w.getBoundingBox().height - I.getBoundingBox().height;
		isWebPlatform() ? I.y = w.y - 0.45 * w.getBoundingBox().height -
			I.getBoundingBox().height : I.setScale(GAME_SCALE);
		this.T(I, 1, 0);
		r = this.cq(a.tn, "CT_iconInfoWD.png", a.ew);
		r.setScale(GAME_SCALE);
		var W = r.getContentSize().height * c * 0.1;
		r.x = g.x;
		r.y = I.y - I.getBoundingBox().height / 2 - r.getContentSize().height * GAME_SCALE / 2 - W;
		this.T(r);
		isWebPlatform() && (r.x += 35, r.y = I.y - I.getContentSize().height / 2 - r.getBoundingBox().height / 2);
		b = this.cq(a.vl, "CU_iconInfoWD.png", a.cw);
		b.setScale(GAME_SCALE);
		b.x = r.x;
		b.y = r.y - r.getBoundingBox().height / 2 - b.getBoundingBox().height;
		this.T(b);
		var fa =
			null,
			m = null;
		logMessage("eloSpriteCT1.getContentSize().height *GAME_SCALE: " + r.getContentSize().height * GAME_SCALE + " deltaY: " + W);
		m = new BkSprite("#line.png");
		m.setScale(c);
		m.x = g.x;
		m.y = r.y - r.getContentSize().height * GAME_SCALE / 2 - 2 * W;
		this.T(m);
		b.x = r.x;
		b.y = m.y - b.getContentSize().height * GAME_SCALE / 2 - 2 * W;
		W = new zb(BkGlobal.P.Hb, Math.max(BkGlobal.P.Ai, BkGlobal.P.Bi));
		this.T(W);
		W.setScale(e * GAME_SCALE);
		W.x = h.x;
		W.y = w.y;
		e = new BkLabel(Ab(BkGlobal.P.userName, C), "", d, !0);
		isWebPlatform() || e.setScale(GAME_SCALE);
		e.setTextColor(R);
		e.x = h.x;
		e.y = I.y;
		this.T(e, 1, 0);
		e = this.cq(BkGlobal.P.Ai, "CT_iconInfoWD.png", a.dw);
		e.setScale(GAME_SCALE);
		e.x = h.x;
		e.y = r.y;
		isWebPlatform() && (e.x += 35);
		this.T(e);
		a = this.cq(BkGlobal.P.Bi, "CU_iconInfoWD.png", a.bw);
		a.setScale(GAME_SCALE);
		a.x = e.x;
		a.y = b.y;
		this.T(a);
		fa = new BkSprite("#line.png");
		fa.setScale(c);
		fa.x = h.x;
		fa.y = m.y;
		this.T(fa);
		a = createBkButtonPlist("btnCapNhat.png", "btnCapNhatPress.png", "btnCapNhat.png", "btnCapNhat.png");
		a.setScale(GAME_SCALE);
		a.x = this.Q.width / 2;
		a.y = 0.1 * this.Q.height;
		this.T(a);
		a.addClickEventListener(function() {
			var a =
				f.xk;
			1 != f.Ii && (a = BkGlobal.P.userName);
			logMessage("nameLink" + a);
			f.OS(a)
		});
		d = new BkLabel("H\u00e3y ch\u1ecdn t\u00e0i kho\u1ea3n m\u00e0 b\u1ea1n mu\u1ed1n gi\u1eef l\u1ea1i \u0111\u1ec3 \u0111\u1ed3ng b\u1ed9 v\u1edbi Facebook. T\u00e0i kho\u1ea3n c\u00f2n l\u1ea1i s\u1ebd \u0111\u01b0\u1ee3c x\u00f3a v\u0129nh vi\u1ec5n kh\u1ecfi h\u1ec7 th\u1ed1ng.", "", d);
		d.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		d.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		d.setScale(c);
		d.setTextColor(v);
		d.boundingWidth = 0.9 * this.Q.width / c;
		d.x = this.Q.width / 2;
		d.y = g.y + 0.57 * g.getBoundingBox().height + d.getBoundingBox().height / 2;
		this.T(d)
	},
	cq: function(a, b, c) {
		var d = new BkSprite;
		d.setContentSize(cc.size(280, 78));
		b = new BkSprite("#" + b);
		var e = 195 * 0.554,
			f = 143 * 0.554;
		logMessage("widIcon: " + e + " scaleIcon: 0.554 heiIcon: " + f);
		b.setScale(0.554);
		b.x = 0.45 * e;
		b.y = d.getContentSize().height / 2;
		d.addChild(b);
		var g = 0.25 * f,
			h = 0.05 * e,
			k = 28;
		isWebPlatform() && (k = 16, h -= 12, g = 0.15 * f);
		a = [new BkLabelItem("Elo: ", k, R, 1, !0), new BkLabelItem(a,
			k, cc.color(174, 18, 29), 1, !0)];
		a = new BkLabelSprite(a);
		a.x = b.x + 0.5 * e + h;
		a.y = b.y + g - 0.5 * a.getContentSize().height;
		d.addChild(a);
		2E7 > c ? (a = [new BkLabelItem("H\u1ea1ng: ", k, R, 1, !0), new BkLabelItem(c, k, cc.color(174, 18, 29), 1, !0)], c = new BkLabelSprite(a), c.x = b.x + 0.5 * e + h, c.y = b.y - g - 0.5 * c.getContentSize().height) : (c = new BkLabel("Ch\u01b0a x.h\u1ea1ng", "", k, !0), c.x = b.x + 0.5 * e + 0.5 * c.getContentSize().width + h, c.y = b.y - g, c.setTextColor(R));
		d.addChild(c);
		return d
	},
	OS: function(a) {
		var b = new BkPacket;
		b.NF(BkGlobal.oq, a);
		BkConnectionManager.send(b)
	}
});
BkRenameWindow = BkBaseChessWindow.extend({
	fa: null,
	ctor: function() {
		var a = isWebPlatform() ? cc.size(506, 380) : cc.size(620 * GAME_SCALE, 470 * GAME_SCALE);
		this._super("", a);
		this.Cc(!0);
		this.Ob("title_wd_doiten.png", 3);
		this.hg();
		isWebPlatform() || (this.y = 0.3 * this.Q.height)
	},
	hg: function() {
		var a = cc.winSize,
			b = 0.75 * this.Q.height;
		isWebPlatform() && (b = 0.78 * this.Q.height);
		var c = this.Q.width / 2,
			a = 0.04 * a.height;
		isWebPlatform() || (a = 0.02 * this.Q.height);
		var d = 16,
			e = 20,
			f = 18;
		isWebPlatform() || (d = 30, e = 35, f = 28);
		var g = new BkLabel("T\u00ean hi\u1ec7n t\u1ea1i c\u1ee7a b\u1ea1n l\u00e0: ",
			"", d);
		g.setTextColor(v);
		g.setScale(GAME_SCALE);
		g.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		g.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		g.x = c;
		g.y = b;
		this.T(g, 1, 0);
		b = v;
		isWebPlatform() || (b = v);
		e = new BkLabel(BkGlobal.P.userName, "", e, !0);
		e.setTextColor(b);
		e.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		e.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		e.x = c;
		e.y = g.y - e.getContentSize().height / 2 - a;
		isWebPlatform() || (e.setScale(GAME_SCALE), e.y = g.y - g.getBoundingBox().height /
			2 - e.getBoundingBox().height / 2 - a);
		this.T(e, 1, 0);
		var g = 0.7 * this.Q.width,
			h = 0.1 * this.Q.height;
		isWebPlatform() || (h = 0.15 * this.Q.height);
		var k = res.Vt;
		this.fa = createEditBox(cc.size(g, h), k);
		this.fa.setMaxLength(20);
		this.fa.x = c;
		this.fa.y = e.y - e.getBoundingBox().height / 2 - a;
		isWebPlatform() || (this.fa.y = e.y - e.getContentSize().height / 2 - this.fa.getContentSize().height / 2 - a);
		this.fa.setPlaceHolder("Nh\u1eadp t\u00ean m\u1edbi");
		this.fa.setPlaceholderFontColor(Fj);
		this.fa.setFontColor(Ej);
		isFBInstantGame() && this.fa.setFontSize(d);
		this.T(this.fa, 1, 0);
		this.Mm(this.fa);
		var d = 0.25 * this.Q.width,
			m = this,
			f = new BkLabel("Ch\u00fa \u00fd: B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c \u0111\u1ed5i t\u00ean duy nh\u1ea5t m\u1ed9t l\u1ea7n", "", f, !1, !0);
		f.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		f.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		f.setTextColor(b);
		f.x = c;
		f.y = this.fa.y - this.fa.getBoundingBox().height / 2 - 2.4 * a;
		isWebPlatform() || (f.setScale(GAME_SCALE), f.y = this.fa.y - this.fa.getBoundingBox().height / 2 - f.getBoundingBox().height /
			2 - 2 * a);
		this.T(f, 1, 0);
		b = createBkButtonPlist("btnCapNhat.png", "btnCapNhatPress.png", "btnCapNhat.png", "btnCapNhat.png");
		b.x = c - d;
		b.y = f.y - f.getBoundingBox().height / 2 - 2.2 * a;
		isWebPlatform() || (b.setScale(GAME_SCALE), b.y = f.y - f.getBoundingBox().height / 2 - b.getBoundingBox().height / 2 - 3 * a);
		this.T(b, 1, 0);
		var r = cc.winSize.width / 2,
			w = cc.winSize.height / 2 - 30;
		b.addClickEventListener(function() {
			m.uu();
			var a = m.fa.getString();
			if ("" == a) return showToastMessage("B\u1ea1n ph\u1ea3i nh\u1eadp t\u00ean t\u00e0i kho\u1ea3n", r,
				w, 2, 370), !1;
			var b = isValidUsername(a);
			if ("" != b) return showToastMessage(b, r, w, 2, 370), !1;
			m.qw(a)
		});
		a = createBkButtonPlist("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png");
		a.x = c + d;
		a.y = b.y;
		this.T(a, 1, 0);
		a.addClickEventListener(function() {
			m.removeSelf()
		});
		isWebPlatform() || (a.setScale(GAME_SCALE), a.Ya(!1), b.x = c)
	},
	qw: function(a) {
		logMessage("requestRenameUser " + a);
		s();
		this.Fb();
		BkGlobal.ap = a;
		var b = new BkPacket;
		b.zx(a);
		BkConnectionManager.send(b)
	},
	Fb: function() {
		BkLogicManager.S().jb(this)
	},
	ud: function(a) {
		t();
		BkLogicManager.S().jb(null);
		switch (a) {
			case Fk:
				this.removeSelf()
		}
	}
});
BkSelectGameForFriend = BkBaseChessWindow.extend({
	$g: null,
	pe: null,
	Yf: null,
	qb: null,
	xb: null,
	ctor: function(a) {
		this._super("", isWebPlatform() ? cc.size(550, 400) : cc.size(650 * GAME_SCALE, 450 * GAME_SCALE), null);
		this.$g = a;
		this.Ku();
		this.Ob("title_wd_moichoi.png", 3)
	},
	Ku: function() {
		var a = this;
		isWebPlatform() ? (this.pe = createBkButtonPlist("CT_butt.png", "CT_butt_press.png", "CT_butt.png", "CT_butt.png", ""), this.pe.x = this.pe.getContentSize().width / 2.1, this.pe.y = this.Q.height / 2.5, this.pe.setScale(0.5)) : (this.pe = createBkButtonPlist("banhot_CT.png",
			"banhot_CT_deselect.png", "banhot_CT_deselect.png", "banhot_CT.png", ""), this.pe.x = 0.3 * this.Q.width, this.pe.y = 0.5 * this.Q.height, this.pe.setScale(GAME_SCALE));
		this.T(this.pe, 1);
		this.pe.addClickEventListener(function() {
			a.Wg(K)
		});
		isWebPlatform() ? (this.Yf = createBkButtonPlist("CU_butt.png", "CU_butt_press.png", "CU_butt.png", "CU_butt.png", ""), this.Yf.x = this.Q.width / 1.4, this.Yf.setScale(0.5)) : (this.Yf = createBkButtonPlist("banhot_CU.png", "banhot_CU_deselect.png", "banhot_CU_deselect.png", "banhot_CU.png", ""), this.Yf.x =
			0.7 * this.Q.width, this.Yf.setScale(GAME_SCALE));
		this.Yf.y = this.pe.y;
		this.T(this.Yf);
		this.Yf.addClickEventListener(function() {
			a.Wg(L)
		});
		var b = 22;
		isWebPlatform() || (b = 30);
		this.qb = new BkLabel("H\u00e3y ch\u1ecdn game \u0111\u1ec3 m\u1eddi " + this.$g + " ch\u01a1i!", "", b);
		this.qb.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.qb.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		this.qb.setTextColor(v);
		b = 1;
		isWebPlatform() || (b = GAME_SCALE);
		this.qb.Yb(b);
		this.qb.x = this.Q.width / 2;
		this.qb.y =
			this.Q.height / 1.3;
		this.T(this.qb);
		isWebPlatform() || (this.qb.y = 0.75 * this.Q.height);
		this.xb = createBkButtonPlist("btnHuy.png", "btnHuyPress.png", "btnHuy.png", "btnHuy.png");
		this.xb.Yb(GAME_SCALE);
		this.xb.Ya(!1);
		this.xb.x = this.Q.width / 2;
		this.xb.y = 60 - this.xb.getContentSize().height / 2;
		isWebPlatform() || (this.xb.y = this.xb.getBoundingBox().height);
		this.T(this.xb);
		this.xb.addClickEventListener(function() {
			a.removeSelf()
		})
	},
	Wg: function(a) {
		var b = new BkPacket;
		b.hJ(a, this.$g);
		BkConnectionManager.send(b);
		BkLogicManager.S().vd.io = !0
	},
	count: 0,
	UN: "",
	marginLeft: 0,
	de: null,
	ee: null,
	fe: null,
	pM: function() {
		var a = 22,
			b = cc.color(27, 197, 2);
		isWebPlatform() || (a = 30, b = v);
		var c = 1;
		isWebPlatform() || (c = GAME_SCALE);
		this.qb.x = this.Q.width / 2;
		var d = this.qb.x + this.qb.getContentSize().width / 2;
		isWebPlatform() || (d = this.qb.x + this.qb.getBoundingBox().width / 2);
		this.de = new BkLabel(".", "", a);
		this.de.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.de.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		this.de.setTextColor(b);
		this.de.Yb(c);
		this.de.x = d + this.de.getContentSize().width / 2;
		isWebPlatform() || (this.de.x = d + this.de.getBoundingBox().width / 2);
		this.de.y = this.qb.y;
		this.T(this.de);
		this.ee = new BkLabel("..", "", a);
		this.ee.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.ee.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		this.ee.setTextColor(b);
		this.ee.Yb(c);
		this.ee.x = d + this.ee.getContentSize().width / 2;
		isWebPlatform() || (this.ee.x = d + this.ee.getBoundingBox().width / 2);
		this.ee.y = this.qb.y;
		this.T(this.ee);
		this.fe = new BkLabel("...",
			"", a);
		this.fe.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.fe.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		this.fe.setTextColor(b);
		this.fe.Yb(c);
		this.fe.x = d + this.fe.getContentSize().width / 2;
		isWebPlatform() || (this.fe.x = d + this.fe.getBoundingBox().width / 2);
		this.fe.y = this.qb.y;
		this.T(this.fe)
	},
	qE: function(a) {
		this.xu();
		1 == a && null != this.de && this.de.setVisible(!0);
		2 == a && null != this.ee && this.ee.setVisible(!0);
		3 == a && null != this.fe && this.fe.setVisible(!0)
	},
	xu: function() {
		null != this.de &&
			this.de.setVisible(!1);
		null != this.ee && this.ee.setVisible(!1);
		null != this.fe && this.fe.setVisible(!1)
	},
	FM: function(a) {
		this.UN = a;
		this.marginLeft = (this.Q.width - this.qb.getBoundingBox().width) / 2;
		this.count = 0;
		this.schedule(this.gP, 0.5);
		this.pM(a);
		this.qE(0)
	},
	gP: function() {
		this.qE(this.count - 4 * Math.floor(this.count / 4));
		this.count++
	},
	YE: function(a) {
		this.xb.Ya(!1);
		var b = this,
			c = Ql(a);
		a == Qj || a == Rj ? (this.qb.setString(c), this.FM(c), this.xb.Ya(!0), this.pe.ef(!1), this.Yf.ef(!1)) : (logMessage("statusMsg: " + c), showPopupMessageWith(c,
			"", null,
			function() {
				b.removeSelf()
			}))
	},
	removeSelf: function() {
		this._super();
		null != this.Tf && (this.Tf.xd = null)
	}
});
BkFriendInviteConfirm = BkBaseChessWindow.extend({
	Og: null,
	qb: null,
	xb: null,
	ctor: function(a) {
		this._super("", isWebPlatform() ? cc.size(520, 400) : cc.size(600 * GAME_SCALE, 480 * GAME_SCALE), null);
		this.Og = a;
		this.Ku();
		this.Zb.Ya(!1);
		this.Cc(!1);
		this.Ob("title_wd_moichoi.png", 3)
	},
	Ku: function() {
		var a = this,
			b = new zb(this.Og.rf, this.Og.re);
		this.T(b);
		b.setScale(GAME_SCALE);
		b.x = this.Q.width / 2;
		b.y = this.Q.height - 1.2 * b.getBoundingBox().height;
		b = 20;
		isWebPlatform() || (b = 30);
		var c = this.Og.Uu + " m\u1eddi b\u1ea1n ch\u01a1i " + wl(this.Og.ya) +
			".\nB\u1ea1n c\u00f3 mu\u1ed1n ch\u01a1i kh\u00f4ng?";
		isWebPlatform() || (c = this.Og.Uu + " m\u1eddi b\u1ea1n ch\u01a1i " + wl(this.Og.ya) + ". B\u1ea1n c\u00f3 mu\u1ed1n ch\u01a1i kh\u00f4ng?");
		this.qb = new BkLabel(c, "", b);
		this.qb.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		this.qb.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		this.qb.Yb(GAME_SCALE);
		this.qb.x = this.Q.width / 2;
		this.qb.y = this.Q.height / 3.2;
		this.qb.setTextColor(R);
		isWebPlatform() || (this.qb.setScale(GAME_SCALE), this.qb.boundingWidth =
			0.85 * this.Q.width / GAME_SCALE, b = new BkSprite("#infoFrameBanBeOn.png"), b.setScale(GAME_SCALE), b.x = this.Q.width / 2, b.y = 0.37 * this.Q.height, this.T(b), this.qb.y = b.y);
		this.T(this.qb);
		this.sh = createBkButtonPlist("btnChoiNgay.png", "btnChoiNgayPress.png", "btnChoiNgay.png", "btnChoiNgay.png");
		this.sh.Yb(GAME_SCALE);
		this.sh.x = this.Q.width / 4;
		this.sh.y = 80 - this.sh.getContentSize().height / 2;
		isWebPlatform() || (this.sh.x = 0.3 * this.Q.width, this.sh.y = 0.15 * this.Q.height);
		this.T(this.sh);
		this.sh.addClickEventListener(function() {
			a.OC(1);
			a.removeSelf()
		});
		this.xb = createBkButtonPlist("btnTuChoi.png", "btnTuChoiPress.png", "btnTuChoi.png", "btnTuChoi.png");
		this.xb.Yb(GAME_SCALE);
		this.xb.x = this.Q.width / 1.5;
		isWebPlatform() || (this.xb.x = 0.7 * this.Q.width);
		this.xb.y = this.sh.y;
		this.T(this.xb);
		this.xb.addClickEventListener(function() {
			a.OC(0);
			a.removeSelf()
		})
	},
	OC: function(a) {
		if (void 0 != this.Og) {
			var b = new BkPacket;
			b.gJ(a, this.Og.ya, this.Og.Uu);
			BkConnectionManager.send(b)
		}
	},
	removeSelf: function() {
		this._super();
		var a = BkLogicManager.S();
		null != a && (a.Wn =
			null)
	}
});
BkBonusHeartWindow = BkBaseChessWindow.extend({
	oA: -1,
	ma: null,
	na: null,
	gw: -1,
	ctor: function(a, b, c) {
		this.oA = a;
		this.ma = b;
		this.gw = c;
		var d = cc.size(580, 420);
		isWebPlatform() || (d = cc.size(700 * GAME_SCALE, 450 * GAME_SCALE));
		this._super("", d);
		this.Cc(!0);
		this.Ob("title_wd_bonus.png");
		this.na = new BkSprite;
		this.na.x = d.width / 2;
		this.na.y = d.height / 2;
		this.T(this.na);
		this.Zb.y = this.na.y + 0.22 * this.na.getContentSize().height;
		this.Zb.x = this.na.x + 0.33 * this.na.getContentSize().width;
		b = 30;
		c = GAME_SCALE;
		isWebPlatform() && (b = 22, c =
			0.6);
		var e = new BkSprite("#chucmung.png");
		e.setScale(c);
		e.x = d.width / 2;
		e.y = 0.75 * d.height;
		this.T(e);
		d = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		d.x = this.na.x;
		isWebPlatform() || d.setScale(GAME_SCALE);
		d.y = 0.15 * this.Q.height;
		this.T(d);
		var f = this;
		d.addClickEventListener(function() {
			f.removeSelf()
		});
		var g = new BkSprite("#effect_heart.png"),
			e = cc.p(e.x, e.y - e.getContentSize().height / 2 - g.getContentSize().height / 2);
		e.x = this.na.x;
		e.y = this.na.y + 0.1 * this.na.getContentSize().height;
		g.setScale(GAME_SCALE);
		g.x = e.x;
		g.y = e.y;
		this.T(g);
		a = a = new cc.LabelBMFont("+" + a, res.kp);
		a.setScale(c);
		a.x = g.x;
		a.y = g.y;
		this.T(a);
		a = new BkLabel(this.oL(), "", b, !1, !0);
		isWebPlatform() || a.setScale(GAME_SCALE);
		a.x = g.x;
		a.y = d.y + 0.6 * d.getBoundingBox().height + 0.5 * a.getBoundingBox().height;
		a.setTextColor(v);
		this.T(a)
	},
	oL: function() {
		var a = "";
		switch (this.gw) {
			case bc:
				a = "xem qu\u1ea3ng c\u00e1o!";
				break;
			case ic:
				a = "";
				break;
			case gc:
				a = "ho\u00e0n th\u00e0nh nhi\u1ec7m v\u1ee5 h\u00e0ng ng\u00e0y!";
				break;
			case fc:
				a = "\u0111\u1ebfn th\u1eddi gian nh\u1eadn mi\u1ec5n ph\u00ed!";
				break;
			case dc:
				a = "mua t\u1eeb c\u1eeda h\u00e0ng!";
				break;
			case hc:
				a = "m\u1eddi b\u1ea1n Facebook!";
				break;
			case ec:
			case jc:
				a = "b\u00ecnh ch\u1ecdn 5* cho C\u1edd Ziga!"
		}
		logMessage("getStringReason: " + this.gw + " - " + a);
		"" != a && (a = "Do: " + a);
		return a
	},
	removeSelf: function() {
		this._super();
		this.ma.Tm = null;
		this.NJ()
	},
	dl: null,
	el: null,
	fl: null,
	NJ: function() {
		this.dl = new BkSprite("#heart_no_plus.png");
		this.dl.x = cc.winSize.width / 2;
		this.dl.y = cc.winSize.height / 2;
		getCurrentScene().addChild(this.dl, Td);
		var a = cc.moveTo(0.3,
				this.ma.x, this.ma.y),
			b = cc.scaleTo(0.3, 0.2),
			c = cc.fadeOut(0.3),
			a = cc.spawn(a, b, c),
			d = this,
			b = cc.callFunc(function() {
				logMessage("callback");
				d.ma.Ak(this.oA);
				d.dl.removeFromParent()
			}, this),
			b = cc.sequence(a, b);
		this.dl.runAction(b);
		this.el = new BkSprite("#heart_no_plus.png");
		this.el.x = cc.winSize.width / 2 + 0.05 * cc.winSize.width;
		this.el.y = cc.winSize.height / 2;
		getCurrentScene().addChild(this.el, Td);
		b = a.clone();
		b = cc.sequence(cc.delayTime(0.075), b, cc.callFunc(function() {
			d.el.removeFromParent()
		}));
		this.el.runAction(b);
		this.fl = new BkSprite("#heart_no_plus.png");
		this.fl.x = cc.winSize.width / 2 + 0.05 * cc.winSize.width;
		this.fl.y = cc.winSize.height / 2;
		getCurrentScene().addChild(this.fl, Td);
		a = a.clone();
		a = cc.sequence(cc.delayTime(0.15), a, cc.callFunc(function() {
			d.fl.removeFromParent()
		}));
		this.fl.runAction(a)
	}
});
BkHeartPromotionWd = BkBaseChessWindow.extend({
	na: null,
	ctor: function(a) {
		var b = cc.size(580, 525);
		this._super("", b);
		this.Ob("title_wd_thongbao.png");
		this.na = new BkSprite(res.eH);
		this.na.x = b.width / 2;
		this.na.y = this.na.getContentSize().height / 2 + 80;
		this.T(this.na);
		var c = "";
		0 == a && (c = "B\u1ea1n kh\u00f4ng \u0111\u1ee7 " + V.toLowerCase() + " \u0111\u1ec3 ti\u1ebfp t\u1ee5c ch\u01a1i.\n");
		a = new BkLabel(c + "Xin h\u00e3y t\u1ea3i b\u1ea3n Di \u0110\u1ed9ng \u0111\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c nhi\u1ec1u \u01b0u \u0111\u00e3i h\u01a1n!",
			"", 20);
		a.setTextColor(v);
		a.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		a.x = this.na.x;
		a.y = b.height / 1.15 - a.getContentSize().height / 2;
		this.T(a);
		var d = this;
		a = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		a.x = b.width / 2;
		a.y = 1.5 * a.getContentSize().height;
		this.T(a);
		a.addClickEventListener(function() {
			d.removeSelf()
		})
	},
	rC: function() {
		BkLogicManager.S().St()
	}
});
var xn = BkBaseChessWindow.extend({
	na: null,
	ctor: function(a, b, c) {
		var d = cc.size(580, 525);
		this._super("", d);
		this.Ob("title_wd_thongbao.png");
		this.na = new BkSpriteLoader(c, res.zp);
		this.na.x = d.width / 2;
		this.na.y = this.na.getContentSize().height / 2 + 100;
		this.T(this.na);
		a = new BkLabel(a, "", 20);
		a.setTextColor(v);
		a.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		a.setTextAreaSize(cc.size(1.5 * this.Q.width, 0));
		a.x = this.na.x;
		a.y = d.height / 1.15 - a.getContentSize().height /
			2;
		this.T(a);
		var e = this;
		a = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		a.x = 0.3 * d.width;
		a.y = 1.5 * a.getContentSize().height;
		this.T(a);
		a.addClickEventListener(function() {
			e.removeSelf()
		});
		this.ld = new BkButton("btnDongy.png", "btnDongyPress.png", "btnDongy.png", "btnDongyPress.png", ccui.Widget.PLIST_TEXTURE);
		this.ld.setScale(GAME_SCALE);
		this.ld.x = 0.7 * d.width;
		this.ld.y = a.y;
		this.T(this.ld);
		this.ld.addClickEventListener(function() {
			if (bk.isFbApp) {
				var a =
					cc.game.config.app.kR;
				void 0 != a && "" != a && window.open(a, "_blank")
			} else window.open(b, "_blank")
		})
	}
});
BkAddHeartWindow = BkBaseChessWindow.extend({
	UB: [],
	ko: 0,
	Nm: 0,
	Om: 0,
	yo: 0,
	xo: -1,
	sk: null,
	ctor: function() {
		var a = "";
		isWebPlatform() && (a = "");
		var b = cc.size(460, 460);
		isWebPlatform() || (b = cc.size(629 * GAME_SCALE, 1100 * GAME_SCALE));
		this._super(a, b, null);
		n.rb(xc);
		isWebPlatform() || this.Ob("title_wd_nhantim.png");
		this.Cc(!0);
		var c = this,
			a = new BkButton("btnDong.png", "btnDongPress.png", "btnDong.png", "btnDong.png", ccui.Widget.PLIST_TEXTURE);
		a.setScale(GAME_SCALE);
		a.x = this.Q.width / 2;
		a.y = 0.08 * this.Q.height;
		this.T(a);
		a.addClickEventListener(function() {
			c.removeSelf()
		});
		this.sk = new BkBaseLayer;
		this.T(this.sk);
		this.AD()
	},
	AD: function() {
		this.UB = [];
		BkLogicManager.S().jb(this);
		s();
		var a = new BkPacket;
		a.zc(xh);
		BkConnectionManager.send(a)
	},
	ul: function() {
		this.sk.removeAllChildren();
		this.Jq();
		this.bake()
	},
	Jq: function() {
		this.Tn(1);
		this.Tn(2);
		this.Tn(3);
		this.Tn(4);
		this.Tn(5)
	},
	Tn: function(a) {
		var b = this,
			c = new BkSprite("#info_popUp.png");
		c.setScale(GAME_SCALE);
		var d = this.Q.height - 1 * c.getBoundingBox().height,
			e = c.getBoundingBox().height;
		c.x = this.Q.width / 2;
		c.y = d - (a - 1) * e;
		this.sk.addChild(c);
		d = new BkSprite("#heart_no_plus.png");
		d.setScale(GAME_SCALE);
		d.x = c.x - c.getBoundingBox().width / 2 + d.getBoundingBox().width;
		d.y = c.y;
		this.sk.addChild(d);
		e = new cc.LabelBMFont(" x" + this.dL(a), res.kp);
		e.setScale(GAME_SCALE);
		e.x = d.x + d.getBoundingBox().width / 2 + e.getBoundingBox().width / 2;
		e.y = d.y - 0.1 * d.getBoundingBox().height;
		this.sk.addChild(e);
		d = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE);
		0 != a && (d.setTitleText(this.tL(a)), d.setTitleFontName(ma()), d.setTitleFontSize(31), d.setTitleColor(cc.color(71, 44, 27)),
			d.getTitleRenderer().y += 0.1 * d.getBoundingBox().height);
		this.UB.push(d);
		d.setScale(GAME_SCALE);
		d.x = c.x + c.getBoundingBox().width / 2 - d.getBoundingBox().width / 2;
		d.y = c.y;
		this.sk.addChild(d);
		d.addClickEventListener(function() {
			b.fO(a)
		})
	},
	fO: function(a) {
		var b = this;
		logMessage("onActionClick: " + a);
		1 < a ? n.iO(a - 2) : (BkConnectionManager.Pm = function() {
			b.AD()
		}, BkGlobal.Qg = !1, n.rb(Ec), this.ko ? BkConnectionManager.Yh(this.Nm, this.Om) : BkConnectionManager.zn(1))
	},
	dL: function(a) {
		switch (a) {
			case 1:
				return this.yo;
			case 2:
				return "400";
			case 3:
				return "2K2";
			case 4:
				return "5K";
			case 5:
				return "10K"
		}
	},
	tL: function(a) {
		switch (a) {
			case 1:
				return "Xem Video";
			case 2:
				return "22.000 VN\u0110";
			case 3:
				return "109.000 VN\u0110";
			case 4:
				return "219.000 VN\u0110";
			case 5:
				return "449.000 VN\u0110"
		}
	},
	removeSelf: function(a) {
		this._super(a);
		n.HJ();
		BkConnectionManager.Pm = null
	},
	ud: function(a, b) {
		BkLogicManager.S().jb(null);
		t();
		switch (b) {
			case xh:
				logMessage("isOnads: " + a.ko + " - o.adsPartner: " + a.Nm + " - o.adsType: " + a.Om + " - o.numberHeartBonus: " + a.yo + " - o.nextAdsRewardsTime: " +
					a.xo), this.ko = a.ko, this.Nm = a.Nm, this.Om = a.Om, this.yo = a.yo, this.xo = a.xo, this.ul(a)
		}
	}
});
BkRateAppWindow = BkBaseChessWindow.extend({
	Ft: "",
	Py: "",
	Qy: "",
	Ig: 0,
	ctor: function(a, b, c) {
		c = void 0 === c ? "" : c;
		var d = "";
		isWebPlatform() && (d = "");
		var e = cc.size(460, 460);
		isWebPlatform() || (e = 530, void 0 != c && "" != c && (e = 600), e = cc.size(600 * GAME_SCALE, e * GAME_SCALE));
		this._super(d, e, null);
		isWebPlatform() || this.Ob("title_wd_thongbao.png");
		this.Qy = a;
		this.Ft = b;
		this.Py = c;
		this.ul();
		this.Ig = 0
	},
	ul: function() {
		var a = new BkSprite("#Icon_app_120.png");
		a.setScale(GAME_SCALE);
		a.x = this.Q.width / 2;
		a.y = this.Q.height - 0.9 * a.getBoundingBox().height;
		isWebPlatform() || null == this.Za || (a.y = this.Za.y - 0.5 * this.Za.getBoundingBox().height - 0.5 * a.getBoundingBox().height);
		this.T(a);
		var b = 0.9 * this.Q.width,
			c = new BkLabel(this.Qy, "", 33, !0);
		c.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		c.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		c.setScale(GAME_SCALE);
		c.setTextColor(v);
		c.boundingWidth = b / GAME_SCALE;
		c.x = a.x;
		c.y = a.y - 0.7 * a.getBoundingBox().height - 0.5 * c.getBoundingBox().height;
		this.T(c);
		var d = new BkLabel(this.Ft, "", 30);
		d.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
		d.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		var e = 0.045 * cc.winSize.height / d.getContentSize().height,
			e = GAME_SCALE;
		d.setScale(e);
		d.setTextColor(v);
		d.boundingWidth = b / e;
		d.x = a.x;
		d.y = c.y - 0.7 * c.getBoundingBox().height - 0.5 * d.getBoundingBox().height;
		this.T(d);
		c = d.y - d.getBoundingBox().height / 2;
		c = this.vJ(c);
		if ("" != this.Ft) {
			logMessage(" init mess rewarded");
			d = new BkLabel(this.Py, "", 28, !1, !0);
			d.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			d.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
			d.setScale(e);
			var f = cc.color(102, 0, 0);
			d.setTextColor(f);
			d.boundingWidth = b / e;
			d.x = a.x;
			d.y = c.uP - c.EL - 0.5 * d.getBoundingBox().height;
			this.T(d)
		}
		var g = this,
			a = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE);
		a.setTitleText("B\u00ecnh ch\u1ecdn");
		a.setTitleFontName("res/fonts/UVNButLong1.TTF");
		a.setTitleFontSize(32);
		a.setTitleColor(cc.color(71, 44, 27));
		a.getTitleRenderer().y += 0.1 * a.getBoundingBox().height;
		a.setScale(GAME_SCALE);
		a.x = 0.7 * this.Q.width;
		a.y = 0.14 * this.Q.height;
		this.T(a);
		a.addClickEventListener(function() {
			g.YO()
		});
		b = new BkButton(x, la, x, x, ccui.Widget.PLIST_TEXTURE);
		b.setTitleText("\u0110\u00f3ng");
		b.setTitleFontName("res/fonts/UVNButLong1.TTF");
		b.setTitleFontSize(32);
		b.setTitleColor(cc.color(71, 44, 27));
		b.getTitleRenderer().y += 0.1 * b.getBoundingBox().height;
		b.setScale(GAME_SCALE);
		b.x = this.Q.width - a.x;
		b.y = a.y;
		this.T(b);
		b.addClickEventListener(function() {
			g.removeSelf()
		})
	},
	vJ: function(a) {
		var b = 1.5 * GAME_SCALE,
			c = new BkSprite("#star_1.png");
		c.setScale(b);
		c.x = this.Q.width / 2;
		c.y = a - c.getBoundingBox().height;
		this.T(c);
		a = new BkSprite("#star_1.png");
		a.setScale(b);
		a.x = c.x - c.getBoundingBox().width;
		a.y = c.y;
		this.T(a);
		var d = new BkSprite("#star_1.png");
		d.setScale(b);
		d.x = a.x - c.getBoundingBox().width;
		d.y = c.y;
		this.T(d);
		a = new BkSprite("#star_1.png");
		a.setScale(b);
		a.x = c.x + c.getBoundingBox().width;
		a.y = c.y;
		this.T(a);
		d = new BkSprite("#star_1.png");
		d.setScale(b);
		d.x = a.x + c.getBoundingBox().width;
		d.y = c.y;
		this.T(d);
		b = {};
		b.uP = c.y;
		b.EL = c.getBoundingBox().height;
		return b
	},
	YO: function() {
		var a = "";
		if (cc.sys.os == cc.sys.OS_ANDROID) a = Yi;
		else if (cc.sys.os ==
			cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) a = Zi;
		logMessage("onRateApp: " + a);
		om(1);
		n.VJ(a);
		this.Ig++;
		this.removeSelf()
	},
	DO: function() {
		this.Ig++;
		var a = this;
		showPopupConfirmWith("B\u1ea1n c\u00f3 mu\u1ed1n g\u00f3p \u00fd \u0111\u1ec3 C\u1edd Ziga ho\u00e0n thi\u1ec7n ch\u1ea5t l\u01b0\u1ee3ng s\u1ea3n ph\u1ea9m t\u1ed1t h\u01a1n kh\u00f4ng?", "", function() {
			n.fC();
			a.removeSelf()
		}, null, function() {})
	},
	removeSelf: function() {
		if (0 < this.Ig) {
			var a = p("isRatedApp", 0);
			logMessage("isR: " + a);
			a || BkLogicManager.S().kz(Yj);
			this._super()
		} else this.DO()
	}
});
BkChatEmoSprite = cc.SpriteBatchNode.extend({
	sprite: null,
	qf: null,
	Bv: 0,
	zk: 0,
	ctor: function(a) {
		var b = a.zb,
			c = a.Mn,
			d = a.Eb;
		cc.spriteFrameCache.addSpriteFrames(a.yb, b);
		this.sprite = new BkSprite("#" + c + "_1.png");
		this._super(b);
		this.addChild(this.sprite);
		this.qf = [];
		this.Bv = d;
		this.zk = Math.floor(10 / d);
		2 > this.zk && 10 > this.Bv && (this.zk = 2);
		0 == this.zk && (this.zk = 2);
		b = "";
		for (a = 1; a < d + 1; a++) b = c + "_" + a + ".png", b = cc.spriteFrameCache.getSpriteFrame(b), this.qf.push(b)
	},
	jE: function() {
		var a = new cc.Animation(this.qf, 0.2);
		this.sprite.runAction(cc.animate(a).repeat(this.zk));
		var b = this;
		this.scheduleOnce(function() {
			b.getParent().Yp()
		}, 0.2 * this.Bv * this.zk)
	},
	OT: function() {
		var a = new cc.Animation(this.qf, 0.2);
		this.sprite.runAction(cc.animate(a).repeatForever())
	},
	LR: function() {
		this.removeFromParent()
	}
});
BkHeartSprite = BkSprite.extend({
	Sg: null,
	Mh: null,
	rj: -1,
	tg: -1,
	uc: null,
	cv: !1,
	Qh: 0,
	Tm: null,
	dv: !1,
	ctor: function(a) {
		this.cv = a = void 0 === a ? !1 : a;
		this._super("#khu_vuc_heart.png");
		var b = Ic;
		a && (b = Hc);
		this.Ua(function() {
			isFBInstantGame() ? isFBInstantGame() && BKFbAdsManager.RT() : (logMessage("BkHeartSprite - click heart plus button"), BkGlobal.Qg = !1, BkGlobal.BE = sc, BkConnectionManager.zn());
			n.rb(b)
		});
		var c = "heart.png",
			d = 30;
		!isWebPlatform() && a ? (c = "buy_butt.png", d = 33) : this.ad();
		this.uc = new BkSprite("#" + c);
		this.uc.x = 0.56 *
			this.getContentSize().width;
		this.uc.y = this.getContentSize().height - this.uc.getContentSize().height / 2;
		this.addChild(this.uc);
		this.Sg = new BkLabel(this.eA(), "", d, !0);
		this.Sg.setTextColor(Ej);
		this.Sg.x = this.getContentSize().width / 2;
		a && (this.Sg.setTextColor(R), this.Sg.x = this.uc.x, isWebPlatform() && (this.Sg.x = this.getContentSize().width / 2));
		this.Sg.y = this.uc.y;
		this.addChild(this.Sg);
		a || (a = new BkSprite("#small_info_frame.png"), a.x = this.getContentSize().width / 2, a.y = 0.25 * this.getContentSize().height, this.Mh =
			new BkLabel("MAX", "", d), this.Mh.setTextColor(cc.color(251, 234, 180)), this.Mh.setTextColor(cc.color.BLACK), this.Mh.y = this.uc.y - this.uc.getContentSize().height / 2 - 0.4 * this.Mh.getContentSize().height, this.Mh.x = a.x, this.addChild(this.Mh), this.GA(), this.hH())
	},
	bH: function() {
		var a = this,
			b = 0.9 * this.getScale(),
			c = 1.1 * this.getScale();
		this.setScale(b);
		var c = cc.scaleTo(0.3, c),
			d = cc.callFunc(function() {
				a.setScale(b)
			}, this),
			c = cc.sequence(c, d, c.clone(), d.clone(), c.clone(), cc.delayTime(1)).repeatForever();
		this.runAction(c)
	},
	eA: function() {
		var a = BkGlobal.P.pb();
		if (1E3 <= a) {
			var b = Math.floor(a / 1E3),
				a = Math.floor((a - 1E3 * b) / 100);
			return 0 < a ? b + "K" + a : b + "K"
		}
		return a
	},
	GA: function() {
		if (-1 == BkGlobal.P.ck) this.rj = -1;
		else {
			var a = J() / 1E3;
			this.rj = BkGlobal.P.ck - a
		}
		this.tg = this.rj;
		this.Mh.setString(this.cA()); - 1 != BkGlobal.P.ck && (this.pD(), this.dv = !0, this.cM())
	},
	hH: function() {
		-1 != BkGlobal.P.ck && J() / 1E3 >= BkGlobal.P.ck && BkLogicManager.S().zD()
	},
	Tv: function() {
		logMessage("onTimeCountFinish -\x3e auto send heart request");
		this.pD();
		BkLogicManager.S().zD()
	},
	JC: function() {
		this.rj--;
		this.Mh.setString(this.cA());
		0 >= this.rj && this.Tv()
	},
	pD: function() {
		this.dv && (this.unschedule(this.JC), this.dv = !1)
	},
	cM: function() {
		this.schedule(this.JC, 1, this.tg)
	},
	cA: function() {
		if (-1 == BkGlobal.P.ck) return "";
		0 > this.rj && (this.rj = 0);
		return un(this.rj)
	},
	SR: function() {
		null != this.Tm && this.Tm.removeSelf()
	},
	zm: function(a, b) {
		b = void 0 === b ? -1 : b;
		logMessage("heartNumber: " + a + " - reason: " + b);
		0 >= a ? this.Ak(a) : this.cv ? this.Ak(a) : (this.SR(), this.Tm = new BkBonusHeartWindow(a, this, b), this.Tm.Oa())
	},
	Ak: function(a) {
		this.Sg.setString(this.eA());
		this.cv || this.GA();
		this.HT(a)
	},
	HT: function(a) {
		if (0 != a) {
			var b = new BkTextfieldChangeHeart(this, a);
			b.setScale(GAME_SCALE);
			var c = "",
				c = 0 < a ? c + ("+" + convertStringToMoneyFormat(a, !0)) : c + convertStringToMoneyFormat(a, !0);
			b.Wh(c);
			b.Rt()
		}
	}
});
BkDailyTaskSprite = BkSprite.extend({
	Jg: null,
	tg: 0,
	ok: null,
	Rc: null,
	bB: !1,
	je: null,
	ctor: function() {
		this._super("#task.png");
		var a = this;
		this.ul();
		this.Ua(function() {
			a.tO()
		});
		isWebPlatform() && (this.MM("Th\u1eafng " + BkGlobal.P.cd + " v\u00e1n c\u1edd!"), this.ad(function() {
			a.je && a.je.setVisible(!0)
		}, function() {
			a.je && a.je.setVisible(!1)
		}))
	},
	ul: function() {
		this.bB && (this.bB = !1, this.unschedule(this.Sv));
		0 < this.getChildren().length && this.removeAllChildren(!0);
		this.removeAllChildren();
		var a = Oi;
		isWebPlatform() && (a =
			16);
		if (0 <= BkGlobal.P.gh) {
			0 > BkGlobal.P.cd && (logMessage("qua ngay dung lai last setting TaskDutyGame"), BkGlobal.P.cd = p(an, Xi));
			var b = new BkLabel("nhi\u1ec7m v\u1ee5", "", a);
			b.setTextColor(cc.color.BLACK);
			b.y = 0.63 * this.getContentSize().height + b.getContentSize().height / 2;
			b.x = 0.5 * this.getContentSize().width;
			var c = 0.7;
			if (isWebPlatform()) c = 1;
			else {
				var d = new BkSprite("#text_nhiemVu.png");
				d.x = b.x;
				d.y = 1 * this.getContentSize().height;
				this.addChild(d)
			}
			this.Rc = new BkSprite("#task_thanh_tientrinh.png");
			this.Rc.y =
				0.5 * this.getContentSize().height - 0.5 * this.Rc.getContentSize().height;
			this.Rc.x = b.x;
			this.addChild(this.Rc);
			var d = this.Rc.x - this.Rc.getContentSize().width * c * 0.36,
				e = ((new BkSprite("#task_tientrinh.png")).getContentSize().width * c * 5 + 12 - 2 * (BkGlobal.P.cd + 1)) / BkGlobal.P.cd,
				b = this.Rc.y + 1,
				f = BkGlobal.P.gh;
			f > BkGlobal.P.cd && (f = BkGlobal.P.cd);
			for (var g = 0; g < f; g++) {
				var h = new BkSprite("#task_tientrinh.png");
				h.setScaleX(e / h.getContentSize().width);
				h.setScaleY(c);
				h.y = b;
				h.x = d + 0.5 * e + g * (e + 2);
				this.addChild(h)
			}
			a = new BkLabel(BkGlobal.P.gh +
				"/" + BkGlobal.P.cd, "", a, !0);
			a.setTextColor(cc.color(251, 234, 180));
			a.y = b + this.Rc.getContentSize().height * c * 0.5 + a.getContentSize().height / 2;
			a.x = this.Rc.x;
			this.addChild(a);
			isWebPlatform() ? a.y = this.Rc.getContentSize().height / 2 - a.getContentSize().height / 2 : this.Rc.setScale(c)
		} else a = 28, this.ok = new BkLabel("NV ti\u1ebfp theo", "", a), this.ok.setTextColor(cc.color.BLACK), this.ok.y = 0.63 * this.getContentSize().height + this.ok.getContentSize().height / 2, this.ok.x = 0.5 * this.getContentSize().width, isWebPlatform() ? (a =
				16, this.Rc = new BkSprite("#task_thanh_tientrinh.png"), this.Rc.y = 0.5 * this.getContentSize().height - 0.5 * this.Rc.getContentSize().height, this.Rc.x = 0.5 * this.getContentSize().width, this.addChild(this.Rc), this.Rc.getContentSize()) : (c = new BkSprite("#text_NVTiepTheo.png"), c.x = this.ok.x, c.y = 1 * this.getContentSize().height, this.addChild(c)), this.Jg = new BkLabel("13 gi\u1edd 48 ph\u00fat", "", a), this.Jg.setTextColor(cc.color.BLACK), this.Jg.setTextColor(Ej), this.Jg.y = 0.5 * this.getContentSize().height, this.Jg.x = this.ok.x,
			isWebPlatform() && (this.Jg.setTextColor(cc.color.WHITE), this.Jg.y = this.Rc.y), this.addChild(this.Jg), this.Sn()
	},
	Sv: function() {
		this.tg--;
		this.Jg.setString(this.dA());
		0 >= this.tg && this.Tv()
	},
	Sn: function() {
		var a = BkGlobal.P.fx - Math.floor(J() / 1E3);
		this.tg = a;
		this.Jg.setString(this.dA());
		this.schedule(this.Sv, 1, a)
	},
	Tv: function() {
		logMessage("hight light btn");
		this.unschedule(this.Sv)
	},
	dA: function() {
		return un(this.tg)
	},
	yf: null,
	Qc: null,
	jM: function() {
		if (!isWebPlatform() && null == this.yf) {
			this.yf = new BkSprite("#task_khung_noidung.png");
			this.yf.x = 0.5 * this.getContentSize().width;
			this.yf.y = 0.5 * -this.yf.getContentSize().height;
			this.addChild(this.yf);
			this.Qc = new BkLabel("Th\u1eafng " + BkGlobal.P.cd + " v\u00e1n c\u1edd!", "", Oi);
			this.Qc.boundingWidth = 0.9 * this.yf.getContentSize().width;
			this.Qc.setTextColor(cc.color(251, 234, 180));
			this.Qc.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER);
			this.Qc.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
			this.Qc.x = this.yf.x;
			this.Qc.y = this.yf.y;
			this.addChild(this.Qc);
			var a = cc.fadeOut(1),
				b = cc.callFunc(this.RR, this),
				b = cc.sequence(cc.delayTime(3), a, b),
				a = a.clone();
			this.Qc.runAction(cc.sequence(cc.delayTime(3), a));
			this.yf.runAction(b)
		}
	},
	MM: function(a) {
		isWebPlatform() && null == this.je && (this.je = new BkSprite("#task_khung_noidung.png"), this.je.x = 0.5 * this.getContentSize().width, this.je.y = 0.5 * -this.je.getContentSize().height - 5, this.je.setVisible(!1), this.addChild(this.je), this.Qc = new BkLabel(a, "", 16), this.Qc.boundingWidth = this.je.getContentSize().width, this.Qc.setTextColor(cc.color(251, 234,
			180)), this.Qc.setTextVerticalAlignment(cc.VERTICAL_TEXT_ALIGNMENT_CENTER), this.Qc.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER), this.Qc.x = this.je.getContentSize().width / 2, this.Qc.y = this.je.getContentSize().height / 2 - 2, this.je.addChild(this.Qc))
	},
	RR: function() {
		this.yf.removeFromParent();
		this.Qc.removeFromParent();
		this.Qc = this.yf = null
	},
	tO: function() {
		logMessage("onClickDailyTaskSprite " + BkGlobal.P.gh + " - " + BkGlobal.P.cd);
		if (0 <= BkGlobal.P.gh)
			if (BkGlobal.P.gh >= BkGlobal.P.cd) {
				logMessage("send packet reward");
				var a = new BkPacket;
				a.zc(Fi);
				BkConnectionManager.send(a)
			} else 0 <= BkGlobal.P.gh && (logMessage(" ban phai hoan thanh nhiem vu de nhan thuong"), this.jM());
		else logMessage("ban da hoan thanh nhiem vu hom nay roi"), showToastMessage("B\u1ea1n \u0111\u00e3 ho\u00e0n th\u00e0nh nhi\u1ec7m v\u1ee5 c\u1ee7a ng\u00e0y h\u00f4m nay!", cc.winSize.width / 2, this.y - this.getBoundingBox().height)
	},
	zm: function() {
		this.ul()
	}
});
BkSettingSprite = BkSprite.extend({
	Nb: null,
	qg: null,
	Eh: null,
	rk: null,
	pg: null,
	Dh: null,
	qk: null,
	If: null,
	Ch: null,
	pk: null,
	og: null,
	ng: null,
	Zh: null,
	Zl: null,
	ctor: function(a) {
		var b = isWebPlatform() ? "setting_frame_top.png" : "setting_frame.png";
		isWebPlatform() || BkGlobal.hk || (b = "setting_frame_2.png");
		this._super("#" + b);
		this.Zl = a;
		var c = this,
			d = 0.04 * this.getContentSize().height,
			b = 0.035 * this.getContentSize().height;
		a = cc.color(251, 234, 180);
		var e = 0;
		if (isWebPlatform()) this.Nb = new BkSprite("#khu_vuc_item_setting.png"), this.Nb.x =
			this.getContentSize().width / 2, this.Nb.y = this.getContentSize().height - this.Nb.getContentSize().height / 2 - d, f = 0.15 * this.Nb.getContentSize().width, e = new BkSprite("#setting_fb_butt.png"), e.x = f, e.y = this.Nb.getContentSize().height / 2, this.Nb.addChild(e), g = new BkLabel("Ph\u00f3ng to", "", 25), g.x = e.x + e.getContentSize().width / 2 + g.getContentSize().width / 2 + 10, g.y = e.y, g.setTextColor(a), this.Nb.addChild(g), this.addChild(this.Nb), this.Nb.Ua(function() {
				cc.screen.fullScreen() ? exitFullScreen() : makeFullScreen(function() {
					cc.screen.fullScreen() ?
						g.setString("Thu nh\u1ecf") : g.setString("Ph\u00f3ng to")
				})
			}), e = this.Nb.y - b;
		else {
			this.Nb = new BkSprite("#khu_vuc_item_setting.png");
			this.Nb.x = this.getContentSize().width / 2;
			this.Nb.y = this.getContentSize().height - this.Nb.getContentSize().height / 2 - d;
			var f = 0.15 * this.Nb.getContentSize().width,
				e = new BkSprite("#setting_fb_butt.png");
			e.x = f;
			e.y = this.Nb.getContentSize().height / 2;
			this.Nb.addChild(e);
			var g = new BkLabel("Li\u00ean k\u1ebft Facebook", "", 25);
			g.x = e.x + e.getContentSize().width / 2 + g.getContentSize().width /
				2 + 10;
			g.y = e.y;
			g.setTextColor(a);
			this.Nb.addChild(g);
			this.addChild(this.Nb);
			this.Nb.Ua(function() {
				logMessage("lkfb click");
				c.pr();
				logMessage("BkGlobal.isConnectedFB: " + BkGlobal.hk);
				BkGlobal.hk ? (logMessage("da link fb roi"), showPopupMessageWith("T\u00e0i kho\u1ea3n c\u1ee7a b\u1ea1n \u0111\u00e3 \u0111\u01b0\u1ee3c li\u00ean k\u1ebft Facebook r\u1ed3i!", "", null)) : n.Tt(lc)
			});
			e = new BkSprite("#setting_line.png");
			e.x = this.getContentSize().width / 2;
			e.y = this.Nb.y - this.Nb.getContentSize().height / 2 - b;
			this.addChild(e);
			BkGlobal.hk && (this.Nb.setVisible(!1), this.Nb.Ua(null), e.setVisible(!1), e.y = this.getContentSize().height - d / 2);
			this.qg = new BkSprite("#khu_vuc_item_setting.png");
			this.qg.x = this.getContentSize().width / 2;
			this.qg.y = e.y - 2 * b - this.qg.getContentSize().height / 2;
			d = nm();
			logMessage("isVibrateOn: " + d);
			this.Eh = new BkSprite(this.Uz(d));
			this.Eh.x = f;
			this.Eh.y = this.qg.getContentSize().height / 2;
			this.qg.addChild(this.Eh);
			this.rk = new BkLabel(this.kA(d), "", 25);
			this.rk.x = this.Eh.x + this.Eh.getContentSize().width / 2 + this.rk.getContentSize().width /
				2 + 10;
			this.rk.y = this.Eh.y + 0.1 * this.Eh.getContentSize().height;
			this.rk.setTextColor(a);
			this.qg.addChild(this.rk);
			this.addChild(this.qg);
			this.qg.Ua(function() {
				c.hP()
			});
			this.pg = new BkSprite("#khu_vuc_item_setting.png");
			this.pg.x = this.getContentSize().width / 2;
			this.pg.y = this.qg.y - this.qg.getContentSize().height / 2 - this.pg.getContentSize().height / 2 - 1.5 * b;
			d = mm();
			logMessage("isSoundOn: " + d);
			this.Dh = new BkSprite(vl(d));
			this.Dh.x = f;
			this.Dh.y = this.pg.getContentSize().height / 2;
			this.pg.addChild(this.Dh);
			this.qk =
				new BkLabel(this.jA(d), "", 25);
			this.qk.x = this.Dh.x + this.Dh.getContentSize().width / 2 + this.qk.getContentSize().width / 2 + 10;
			this.qk.y = this.Dh.y + 0.1 * this.Dh.getContentSize().height;
			this.qk.setTextColor(a);
			this.pg.addChild(this.qk);
			this.addChild(this.pg);
			this.pg.Ua(function() {
				c.aP()
			});
			this.If = new BkSprite("#khu_vuc_item_setting.png");
			this.If.x = this.getContentSize().width / 2;
			this.If.y = this.pg.y - this.pg.getContentSize().height / 2 - this.If.getContentSize().height / 2 - 1.5 * b;
			d = km();
			logMessage("isNhacNenOn: " + d);
			this.Ch =
				new BkSprite(ul(d));
			this.Ch.x = f;
			this.Ch.y = this.If.getContentSize().height / 2;
			this.If.addChild(this.Ch);
			this.pk = new BkLabel(this.iA(d), "", 25);
			this.pk.x = this.Ch.x + this.Ch.getContentSize().width / 2 + this.pk.getContentSize().width / 2 + 10;
			this.pk.y = this.Ch.y + 0.1 * this.Ch.getContentSize().height;
			this.pk.setTextColor(a);
			this.If.addChild(this.pk);
			this.addChild(this.If);
			this.If.Ua(function() {
				c.SO()
			});
			d = new BkSprite("#setting_line.png");
			d.x = this.getContentSize().width / 2;
			d.y = this.If.y - this.If.getContentSize().height /
				2 - b;
			this.addChild(d);
			e = d.y
		}
		this.og = new BkSprite("#khu_vuc_item_setting.png");
		this.og.x = this.getContentSize().width / 2;
		this.og.y = e - 1.1 * b - this.og.getContentSize().height / 2;
		d = new BkSprite("#mail_butt.png");
		d.x = f;
		d.y = this.og.getContentSize().height / 2;
		this.og.addChild(d);
		f = new BkLabel("Th\u01b0 g\u00f3p \u00fd", "", 25);
		f.x = d.x + d.getContentSize().width / 2 + f.getContentSize().width / 2 + 10;
		f.y = d.y;
		f.setTextColor(a);
		this.og.addChild(f);
		this.addChild(this.og);
		this.og.Ua(function() {
			c.IO()
		});
		f = new BkSprite("#setting_line.png");
		f.x = this.getContentSize().width / 2;
		f.y = this.og.y - this.og.getContentSize().height / 2 - 1.1 * b;
		this.addChild(f);
		this.ng = new BkSprite("#khu_vuc_item_setting.png");
		this.ng.x = this.getContentSize().width / 2;
		this.ng.y = f.y - b - this.ng.getContentSize().height / 2;
		f = new BkLabel("H\u01b0\u1edbng d\u1eabn v\u00e0 lu\u1eadt ch\u01a1i", "", 25);
		f.x = this.ng.getContentSize().width / 2;
		f.y = this.ng.getContentSize().height / 2;
		f.setTextColor(a);
		this.ng.addChild(f);
		this.addChild(this.ng);
		this.ng.Ua(function() {
			c.KO()
		});
		this.Zh = new BkSprite("#khu_vuc_item_setting.png");
		this.Zh.x = this.getContentSize().width / 2;
		this.Zh.y = this.ng.y - 0.5 * b - this.ng.getContentSize().height / 2 - this.Zh.getContentSize().height / 2;
		b = new BkLabel("Ch\u00ednh s\u00e1ch", "", 25);
		b.x = this.Zh.getContentSize().width / 2;
		b.y = this.Zh.getContentSize().height / 2;
		b.setTextColor(a);
		this.Zh.addChild(b);
		this.addChild(this.Zh);
		this.Zh.Ua(function() {
			c.WO()
		})
	},
	WO: function() {
		logMessage("onPolicyClick -\x3e openWebview Policy");
		Wa($i + "quy-dinh", "Ch\u00ednh s\u00e1ch");
		this.pr()
	},
	KO: function() {
		logMessage("onGuildleClick  -\x3e openWebview guildle");
		Wa($i + "huong-dan-chung", "H\u01b0\u1edbng d\u1eabn v\u00e0 lu\u1eadt ch\u01a1i");
		this.pr()
	},
	IO: function() {
		logMessage("onEmailClick -\x3e send mail native");
		isWebPlatform() || (n.rb(Fc), n.fC(), this.pr())
	},
	SO: function() {
		logMessage("onNhacNenClick");
		var a = !km(),
			b = ul(a),
			b = cc.spriteFrameCache.getSpriteFrame(b.substr(1, b.length - 1));
		this.Ch.setSpriteFrame(b);
		this.pk.setString(this.iA(a));
		im(a)
	},
	aP: function() {
		logMessage("onSoundClick");
		var a = !mm(),
			b = vl(a),
			b = cc.spriteFrameCache.getSpriteFrame(b.substr(1, b.length -
				1));
		this.Dh.setSpriteFrame(b);
		this.qk.setString(this.jA(a));
		lm(a)
	},
	hP: function() {
		logMessage("onVibrateClick");
		var a = !nm(),
			b = this.Uz(a),
			b = cc.spriteFrameCache.getSpriteFrame(b.substr(1, b.length - 1));
		this.Eh.setSpriteFrame(b);
		this.rk.setString(this.kA(a));
		a = void 0 === a ? 1 : a;
		logMessage("setVibrateSetting: " + a);
		u("vibrateSetting", a)
	},
	Uz: function(a) {
		return a ? "#vibration_butt_on.png" : "#vibration_butt_off.png"
	},
	iA: function(a) {
		return a ? "B\u1eadt nh\u1ea1c n\u1ec1n" : "T\u1eaft nh\u1ea1c n\u1ec1n"
	},
	kA: function(a) {
		return a ?
			"B\u1eadt rung" : "T\u1eaft rung"
	},
	jA: function(a) {
		return a ? "B\u1eadt ti\u1ebfng" : "T\u1eaft ti\u1ebfng"
	},
	pr: function() {
		this.Zl && this.Zl.zu()
	},
	bt: function() {
		this.Ua(function() {})
	}
});
BkSettingLayer = BkBaseLayer.extend({
	bd: null,
	Eg: null,
	Lc: null,
	Xd: 0,
	hf: null,
	ctor: function(a) {
		this._super();
		this.Eg = new BkSprite(res.uk);
		this.Eg.scaleX = cc.winSize.width / this.Eg.getContentSize().width;
		this.Eg.scaleY = cc.winSize.height / this.Eg.getContentSize().height;
		this.Eg.setOpacity(0);
		this.Eg.x = cc.winSize.width / 2;
		this.Eg.y = cc.winSize.height / 2;
		this.addChild(this.Eg);
		this.hf = a
	},
	IM: function() {
		this.tD();
		this.bd = new BkSettingSprite(this);
		this.bd.setScale(GAME_SCALE);
		var a = this.hf.x,
			b = this.hf.y + this.hf.getBoundingBox().height /
			2 + this.bd.getBoundingBox().height / 2;
		isWebPlatform() && (a = cc.winSize.width - this.bd.getContentSize().width / 2, b = this.hf.y - this.hf.getBoundingBox().height / 2 - this.bd.getBoundingBox().height / 2);
		this.bd.x = a;
		this.bd.y = b;
		this.addChild(this.bd)
	},
	tD: function() {
		null != this.bd && (this.bd.removeFromParent(), this.bd = null)
	},
	Cj: function() {
		var a = this,
			b = !1;
		this.Lc = yb(function(c) {
			b = !1;
			c = c.getLocation();
			var d = a.bd.x - a.bd.getBoundingBox().width / 2,
				e = a.bd.y - a.bd.getBoundingBox().height / 2,
				d = a.convertToWorldSpace(cc.p(d, e)),
				e = a.bd.getBoundingBox().width,
				f = a.bd.getBoundingBox().height,
				d = cc.rect(d.x, d.y, e, f);
			return cc.rectContainsPoint(d, c) ? !1 : b = !0
		}, null, function() {
			b && a.zu()
		});
		cc.eventManager.addListener(this.Lc, this.Eg)
	},
	Hk: function() {
		null != this.Lc && cc.eventManager.removeListener(this.Lc)
	},
	zu: function() {
		this.setVisible(!1);
		this.tD();
		this.Hk();
		this.Xd = 0
	},
	oU: function() {
		this.Xd = 1;
		this.IM();
		this.Cj();
		this.setVisible(!0);
		this.bd.bt()
	},
	bP: function() {
		0 == this.Xd ? this.oU() : this.zu()
	}
});
BkHistoryKindSprite = BkSprite.extend({
	ctor: function(a, b) {
		this.nA = b;
		var c = "setting_frame_history.png";
		isWebPlatform() || (c = "setting_frame_history.png");
		this._super("#" + c);
		this.Zl = a;
		var d = this;
		this.On = new BkSprite("#" + y.bZ);
		this.On.x = 0.1 * UI.qa(this) + UI.Da(this.On);
		this.On.y = 0.55 * UI.Ga(this);
		this.addChild(this.On);
		this.On.Ua(function() {
			d.TO()
		});
		this.Pn = new BkSprite("#" + y.cZ);
		this.Pn.x = 0.9 * UI.qa(this) - UI.Da(this.Pn);
		this.Pn.y = 0.55 * UI.Ga(this);
		this.addChild(this.Pn);
		this.Pn.Ua(function() {
			d.iP()
		})
	},
	iP: function() {
		this.yC();
		this.nA.Rw(1)
	},
	TO: function() {
		this.yC();
		this.nA.Rw(0)
	},
	yC: function() {
		this.Zl && this.Zl.yu()
	},
	bt: function() {
		this.Ua(function() {})
	}
});
BkHistoryKindLayer = BkBaseLayer.extend({
	Oc: null,
	na: null,
	Lc: null,
	Xd: 0,
	hf: null,
	ctor: function(a, b) {
		this._super();
		this.nP = b;
		this.na = new BkSprite(res.uk);
		this.na.scaleX = cc.winSize.width / this.na.getContentSize().width;
		this.na.scaleY = cc.winSize.height / this.na.getContentSize().height;
		this.na.setOpacity(0);
		this.na.x = cc.winSize.width / 2;
		this.na.y = cc.winSize.height / 2;
		this.addChild(this.na);
		this.hf = a;
		console.log("BkHistoryKindLayer")
	},
	mM: function() {
		this.rD();
		this.Oc = new BkHistoryKindSprite(this, this.nP);
		this.Oc.setScale(GAME_SCALE);
		var a = this.hf.x + 0.3 * UI.qa(this.Oc),
			b = this.hf.y + this.hf.getBoundingBox().height / 2 + this.Oc.getBoundingBox().height / 2;
		isWebPlatform() && (a = cc.winSize.width - this.Oc.getContentSize().width / 2, b = this.hf.y - this.hf.getBoundingBox().height / 2 - this.Oc.getBoundingBox().height / 2);
		this.Oc.x = a;
		this.Oc.y = b;
		this.addChild(this.Oc);
		console.log("initHistorySprite")
	},
	rD: function() {
		null != this.Oc && (this.Oc.removeFromParent(), this.Oc = null)
	},
	Cj: function() {
		var a = this,
			b = !1;
		this.Lc = yb(function(c) {
			b = !1;
			c = c.getLocation();
			var d =
				a.Oc.x - a.Oc.getBoundingBox().width / 2,
				e = a.Oc.y - a.Oc.getBoundingBox().height / 2,
				d = a.convertToWorldSpace(cc.p(d, e)),
				e = a.Oc.getBoundingBox().width,
				f = a.Oc.getBoundingBox().height,
				d = cc.rect(d.x, d.y, e, f);
			return cc.rectContainsPoint(d, c) ? !1 : b = !0
		}, null, function() {
			b && a.yu()
		});
		cc.eventManager.addListener(this.Lc, this.na)
	},
	Hk: function() {
		null != this.Lc && cc.eventManager.removeListener(this.Lc)
	},
	yu: function() {
		this.setVisible(!1);
		this.rD();
		this.Hk();
		this.Xd = 0
	},
	WT: function() {
		this.Xd = 1;
		this.mM();
		this.Cj();
		this.setVisible(!0);
		this.Oc.bt()
	},
	K2: function() {
		0 == this.Xd ? this.WT() : this.yu()
	}
});
BkChessAvatar = BkSprite.extend({
	Aa: null,
	Ol: null,
	Pl: null,
	qh: null,
	Dk: null,
	ctor: function() {
		this._super("#khu_vuc_avatar.png");
		var a = new BkSprite("#avt_frame_bg.png");
		this.addChild(a);
		var b = new BkSprite("#avt_frame.png");
		this.addChild(b);
		var c = new BkSpriteLoader(BkGlobal.P.Hb, "#default_avatar.jpg"),
			d = 0.84 * a.getContentSize().height;
		c.setScale(d / c.getContentSize().height);
		c = ab(c, d);
		this.addChild(c);
		d = BkGlobal.P.Ai;
		d < BkGlobal.P.Bi && (d = BkGlobal.P.Bi);
		this.Dk = new BkChessRankSprite(d);
		this.Dk.x = this.Dk.getContentSize().width /
			2;
		this.Dk.y = this.Dk.getContentSize().height / 2;
		this.addChild(this.Dk);
		a.x = this.Dk.x;
		a.y = this.getContentSize().height - a.getContentSize().height / 2;
		b.x = a.x;
		b.y = a.y;
		c.x = a.x;
		c.y = a.y;
		var e = this;
		isWebPlatform() && a.ad();
		a.Ua(function() {
			Pa(e.qC) || (1E3 > J() - a.Kb ? logMessage("click 2 lan trong 1 sec -\x3e don't process action") : (a.Kb = J(), e.qC()))
		});
		var f = this.Yj(),
			b = new BkSprite("#name_frame.png");
		b.x = this.getContentSize().width - b.getContentSize().width / 2;
		b.y = 0.65 * this.getContentSize().height + f;
		this.addChild(b);
		var g = 0.05 * this.getContentSize().width,
			c = cc.color(251, 234, 180),
			h = Ab(BkGlobal.P.userName, 10),
			d = 0.01 * this.getContentSize().height;
		this.Aa = new BkLabel(h, "", Oi);
		this.Aa.x = b.x - 0.5 * b.getContentSize().width + this.Aa.getContentSize().width / 2 + g;
		this.Aa.y = b.y + 0;
		this.Aa.setTextColor(c);
		this.addChild(this.Aa);
		g = new BkSprite("#small_info_frame.png");
		g.x = this.getContentSize().width - g.getContentSize().width / 2;
		g.y = 0.35 * this.getContentSize().height + f;
		this.addChild(g);
		f = new BkSprite("#elo_CU.png");
		f.x = g.x - 0.5 * g.getContentSize().width +
			f.getContentSize().width / 2;
		f.y = g.y - d;
		this.addChild(f);
		this.Pl = new BkLabel(BkGlobal.P.Bi, "", Oi);
		this.Pl.x = f.x + f.getContentSize().width / 2 + this.Pl.getContentSize().width / 2;
		this.Pl.y = g.y + 0;
		this.Pl.setTextColor(c);
		this.addChild(this.Pl);
		f = new BkSprite("#small_info_frame.png");
		f.x = b.x - b.getContentSize().width / 2 + f.getContentSize().width / 2;
		f.y = g.y;
		this.addChild(f);
		h = new BkSprite("#elo_CT.png");
		h.x = f.x - 0.5 * f.getContentSize().width + h.getContentSize().width / 2;
		h.y = f.y - d;
		this.addChild(h);
		this.Ol = new BkLabel(BkGlobal.P.Ai,
			"", Oi);
		this.Ol.x = h.x + h.getContentSize().width / 2 + this.Ol.getContentSize().width / 2;
		this.Ol.y = g.y + 0;
		this.Ol.setTextColor(c);
		this.addChild(this.Ol);
		BkGlobal.no && (this.qh = createBkButtonPlist("change_name.png", "change_name.png", "change_name.png", "change_name.png"), this.qh.x = b.x + b.getContentSize().width / 2 - 0.3 * this.qh.getContentSize().width, this.qh.y = b.y, this.addChild(this.qh), this.qh.addClickEventListener(function() {
			logMessage("btnEditProfile click show setup rename");
			Pa(e.tC) || (n.rb(Gc), e.tC())
		}))
	},
	tC: function() {
		var a =
			Ya(),
			b = new BkRenameWindow;
		b.Ab(a);
		b.Oa()
	},
	qC: function() {
		var a = Ya(),
			b = new BkPlayerInfo(BkGlobal.P.userName);
		b.Ab(a);
		b.Oa()
	},
	kf: function() {
		logMessage("updateAvatar BkChessAvatar");
		null != this.Aa && this.Aa.setString(Ab(BkGlobal.P.userName, 10));
		null != this.qh && (BkGlobal.no ? this.qh.setVisible(!0) : this.qh.setVisible(!1))
	},
	Yj: function() {
		return 0.1 * this.getContentSize().height
	}
});
BkIngameMenu = BkBaseLayer.extend({
	Ma: null,
	rc: null,
	Lc: null,
	Xd: 0,
	Ug: null,
	Qe: null,
	Gj: null,
	Ij: null,
	Fd: null,
	Sd: null,
	ctor: function(a) {
		this._super();
		this.rc = new BkSprite(res.uk);
		this.rc.scaleX = cc.winSize.width / this.rc.getContentSize().width;
		this.rc.scaleY = cc.winSize.height / this.rc.getContentSize().height;
		this.rc.setOpacity(0);
		this.rc.x = cc.winSize.width / 2;
		this.rc.y = cc.winSize.height / 2;
		this.addChild(this.rc);
		this.Ug = a
	},
	rv: function() {
		var a = BkLogicManager.oa().Ba();
		return a && a.Ka ? !0 : !1
	},
	Nu: function() {
		this.Ko();
		var a = this.rv(),
			b = "menu_frame.png";
		a && (b = "menu_frame_ig_small.png");
		this.Ma = new BkSprite("#" + b);
		this.Ma.setScale(GAME_SCALE);
		this.Ma.x = this.Ug.x - this.Ug.getBoundingBox().width / 2 + this.Ma.getBoundingBox().width / 2;
		this.Ma.y = this.Ug.y + this.Ug.getBoundingBox().height / 2 + this.Ma.getBoundingBox().height / 2;
		this.addChild(this.Ma);
		var c = this,
			b = 0,
			d = 0.5 * this.Ma.getContentSize().width,
			e = 0.55 * this.Ma.getContentSize().height,
			f = 0,
			g = 0;
		isFBInstantGame() && (g = 24);
		a ? (b = 0.3 * this.Ma.getContentSize().width - g, f = d - b) : (b = 0.18 *
			this.Ma.getContentSize().width, f = d - 2 * b);
		this.Qe = new BkButton("out_butt.png", "out_butt_press.png", "out_butt.png", "out_butt.png", ccui.Widget.PLIST_TEXTURE);
		this.Qe.x = f;
		this.Qe.y = e;
		this.Ma.addChild(this.Qe);
		this.Qe.addClickEventListener(function() {
			BkLogicManager.oa().fm()
		});
		a || (this.Gj = new BkButton("cauhoa_butt.png", "cauhoa_butt_press.png", "cauhoa_butt_disable.png", "cauhoa_butt.png", ccui.Widget.PLIST_TEXTURE), this.Gj.x = f + b + g, this.Gj.y = e, this.Ma.addChild(this.Gj), this.Ij = new BkButton("xinthua_butt.png",
			"xinthua_butt_press.png", "xinthua_butt_disable.png", "xinthua_butt.png", ccui.Widget.PLIST_TEXTURE), this.Ij.x = f + 2 * b + 2 * g, this.Ij.y = e, this.Ma.addChild(this.Ij), this.Gj.addClickEventListener(function() {
			c.Ev()
		}), this.Ij.addClickEventListener(function() {
			c.Fv()
		}), this.dT());
		isFBInstantGame() || (d = km(), this.Fd = new BkSprite("#" + this.Bn(d)), this.Fd.x = f + 3 * b, a && (this.Fd.x = f + b), this.Fd.y = e, this.Ma.addChild(this.Fd), this.Fd.Ua(function() {
			c.Hv()
		}));
		d = mm();
		this.Sd = new BkSprite("#" + this.Cn(d));
		this.Sd.x = f + 4 * b;
		a && (this.Sd.x =
			f + 2 * b);
		this.Sd.y = e;
		this.Ma.addChild(this.Sd);
		this.Sd.Ua(function() {
			c.Iv()
		})
	},
	Cn: function(a) {
		var b = "sound_off_ig_butt.png";
		a && (b = "sound_on_ig_butt.png");
		return b
	},
	Iv: function() {
		logMessage("onClickSoundBut");
		var a = !mm(),
			b = cc.spriteFrameCache.getSpriteFrame(this.Cn(a));
		this.Sd.setSpriteFrame(b);
		lm(a)
	},
	Bn: function(a) {
		var b = "music_off_ig_butt.png";
		a && (b = "music_on_ig_butt.png");
		return b
	},
	Hv: function() {
		var a = !km(),
			b = cc.spriteFrameCache.getSpriteFrame(this.Bn(a));
		this.Fd.setSpriteFrame(b);
		im(a)
	},
	dT: function() {
		BkLogicManager.oa().Ub() ?
			(logMessage("trong van choi -\x3e khong disable"), this.KD(!0), this.LD(!0)) : (this.KD(!1), this.LD(!1))
	},
	KD: function(a) {
		this.Gj.ef(a)
	},
	LD: function(a) {
		this.Ij.ef(a)
	},
	Fv: function() {
		this.vr();
		var a = this.getParent();
		a && a instanceof BkChessBaseIngameLayer && a.Fv()
	},
	Ev: function() {
		this.vr();
		var a = this.getParent();
		a && a instanceof BkChessBaseIngameLayer && a.Ev()
	},
	Cj: function() {
		var a = this,
			b = !1;
		this.Lc = yb(function(c) {
			b = !1;
			c = c.getLocation();
			var d = a.Ma.x - a.Ma.getBoundingBox().width / 2,
				e = a.Ma.y - a.Ma.getBoundingBox().height /
				2,
				d = a.convertToWorldSpace(cc.p(d, e)),
				e = a.Ma.getBoundingBox().width,
				f = a.Ma.getBoundingBox().height,
				d = cc.rect(d.x, d.y, e, f);
			return cc.rectContainsPoint(d, c) ? !1 : b = !0
		}, null, function() {
			b && a.Jn()
		});
		cc.eventManager.addListener(this.Lc, this.rc)
	},
	Hk: function() {
		null != this.Lc && cc.eventManager.removeListener(this.Lc)
	},
	Ko: function() {
		null != this.Ma && (this.Ma.removeFromParent(), this.Ma = null)
	},
	Jn: function() {
		this.setVisible(!1);
		this.Ko();
		this.Hk();
		this.Xd = 0
	},
	Uw: function() {
		this.Xd = 1;
		this.Nu();
		this.Cj();
		this.setVisible(!0)
	},
	vr: function() {
		0 == this.Xd ? this.Uw() : this.Jn()
	}
});
BkInHistoryMenu = BkBaseLayer.extend({
	Ma: null,
	rc: null,
	Lc: null,
	Xd: 0,
	Ug: null,
	Qe: null,
	Gj: null,
	Ij: null,
	Fd: null,
	Sd: null,
	ctor: function(a) {
		this._super();
		this.rc = new BkSprite(res.uk);
		this.rc.scaleX = cc.winSize.width / this.rc.getContentSize().width;
		this.rc.scaleY = cc.winSize.height / this.rc.getContentSize().height;
		this.rc.setOpacity(0);
		this.rc.x = cc.winSize.width / 2;
		this.rc.y = cc.winSize.height / 2;
		this.addChild(this.rc);
		this.Ug = a
	},
	rv: function() {
		var a = BkLogicManager.oa().Ba();
		return a && a.Ka ? !0 : !1
	},
	Nu: function() {
		this.Ko();
		this.rv();
		var a = y.l0;
		this.Ma = new BkSprite;
		this.addChild(this.Ma);
		a = new BkSprite("#" + a);
		a.setScale(GAME_SCALE);
		this.Ma.x = this.Ug.x + 0.75 * UI.Da(a);
		this.Ma.y = this.Ug.y + this.Ug.getBoundingBox().height / 2 + a.getBoundingBox().height / 2;
		a.setScale(GAME_SCALE);
		this.Ma.addChild(a);
		var b = a.y;
		this.Qe = new BkButton("out_butt.png", "out_butt_press.png", "out_butt.png", "out_butt.png", ccui.Widget.PLIST_TEXTURE);
		this.Qe.setScale(GAME_SCALE);
		this.Qe.x = UI.eb(a) + 1.5 * UI.Da(this.Qe);
		this.Qe.y = b;
		this.Ma.addChild(this.Qe);
		this.Qe.addClickEventListener(function() {
			switchToSceneWithGameState(P,
				!0);
			c.GS()
		});
		var c = this,
			d = mm();
		this.Sd = new BkSprite("#" + this.Cn(d));
		this.Sd.setScale(GAME_SCALE);
		this.Sd.x = a.x;
		this.Sd.y = b;
		this.Ma.addChild(this.Sd);
		this.Sd.Ua(function() {
			c.Iv()
		});
		d = km();
		this.Fd = new BkSprite("#" + this.Bn(d));
		this.Fd.setScale(GAME_SCALE);
		this.Fd.x = UI.fb(a) - 1.5 * UI.Da(this.Fd);
		this.Fd.y = b;
		this.Ma.addChild(this.Fd);
		this.Fd.Ua(function() {
			c.Hv()
		})
	},
	GS: function() {
		var a = new BkPacket;
		a.Uy();
		BkConnectionManager.send(a)
	},
	Cn: function(a) {
		var b = "sound_off_ig_butt.png";
		a && (b = "sound_on_ig_butt.png");
		return b
	},
	Iv: function() {
		var a = !mm(),
			b = cc.spriteFrameCache.getSpriteFrame(this.Cn(a));
		this.Sd.setSpriteFrame(b);
		logMessage("onClickSoundBut, newSoundSetting: " + a);
		lm(a);
		logMessage("onClickSoundBut, Util.getSoundSetting: " + mm())
	},
	Bn: function(a) {
		var b = "music_off_ig_butt.png";
		a && (b = "music_on_ig_butt.png");
		return b
	},
	Hv: function() {
		var a = !km(),
			b = cc.spriteFrameCache.getSpriteFrame(this.Bn(a));
		this.Fd.setSpriteFrame(b);
		im(a)
	},
	Cj: function() {
		var a = this,
			b = !1;
		this.Lc = yb(function(c) {
			b = !1;
			c = c.getLocation();
			var d =
				a.Ma.x - a.Ma.getBoundingBox().width / 2,
				e = a.Ma.y - a.Ma.getBoundingBox().height / 2,
				d = a.convertToWorldSpace(cc.p(d, e)),
				e = a.Ma.getBoundingBox().width,
				f = a.Ma.getBoundingBox().height,
				d = cc.rect(d.x, d.y, e, f);
			return cc.rectContainsPoint(d, c) ? !1 : b = !0
		}, null, function() {
			b && a.Jn()
		});
		cc.eventManager.addListener(this.Lc, this.rc)
	},
	Hk: function() {
		null != this.Lc && cc.eventManager.removeListener(this.Lc)
	},
	Ko: function() {
		null != this.Ma && (this.Ma.removeFromParent(), this.Ma = null)
	},
	Jn: function() {
		this.setVisible(!1);
		this.Ko();
		this.Hk();
		this.Xd = 0
	},
	Uw: function() {
		this.Xd = 1;
		this.Nu();
		this.Cj();
		this.setVisible(!0)
	},
	vr: function() {
		0 == this.Xd ? this.Uw() : this.Jn()
	}
});
BkPlayedSessionItem = ccui.Widget.extend({
	uj: "itemBg",
	Hn: null,
	Nd: null,
	Ms: 9,
	Fs: 8,
	ctor: function(a, b, c, d) {
		this._super();
		this.color = cc.color(66, 60, 72);
		this.fontSize = isWebPlatform() ? 15 * GAME_SCALE_MIN : 27 * GAME_SCALE_MIN;
		this.setName("BkPlayedSessionItem");
		this.ls = 0.6;
		this.ib = a;
		console.log("BkPlayedSessionItem - session.data: ", a.data);
		console.log("BkPlayedSessionItem - BkGlobal.UserInfo: ", BkGlobal.P);
		this.Hn = b;
		this.au = d;
		this.ya = c;
		this.id = a.id;
		this.gg();
		this.Qu();
		this.rd()
	},
	Qu: function() {
		var a = this.za,
			b = new BkLabel(this.ib.id,
				"Arial", this.fontSize);
		this.Nd = b;
		b.x = a.x + 0.2 * UI.qa(a);
		b.y = a.y;
		b.setOpacity(0);
		this.addChild(b)
	},
	Mu: function() {
		console.log("BkPlayedSessionItem - this.sessionData: ", this.ib);
		var a = new BkSprite("#" + this.Gn(this.ib));
		a.x = this.za.x + 0.6 * UI.qa(a);
		a.y = this.za.y;
		this.addChild(a);
		this.Yw = a
	},
	Gn: function(a) {
		var b = "history_logo_co_tuong.png";
		a.ya == L && (b = "history_logo_co_up.png");
		return b
	},
	rd: function() {
		this.uM();
		this.tM();
		this.Pu();
		this.Ru();
		this.Mu()
	},
	Ru: function() {
		var a = this,
			b = createBkButtonPlist("history_remove_icon.png",
				"history_remove_icon.png", "history_remove_icon.png", "history_remove_icon.png");
		b.setScale(0.9 * GAME_SCALE);
		b.x = UI.fb(this.za) - 15 - UI.Da(b);
		b.y = this.za.y;
		b.addClickEventListener(function() {
			a.RS()
		});
		this.addChild(b)
	},
	RS: function() {
		var a = new BkPacket;
		a.Zy(this.ib, 0);
		BkConnectionManager.send(a);
		s()
	},
	Pu: function() {
		var a = this.$j(this.ib),
			a = new BkLabel(a, "", 13);
		a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		a.setColor(this.color);
		a.x = isWebPlatform() ? UI.eb(this.za) + 20 + UI.qa(a) : UI.fb(this.za) - 0.5 * UI.Da(this.j6) -
			UI.Da(a);
		a.y = this.za.y;
		this.wv = a;
		this.addChild(a)
	},
	$j: function(a) {
		var b = new Date(a.Ho);
		a = String("00" + b.getDate()).slice(-2) + "/" + String("00" + (b.getMonth() + 1)).slice(-2) + "/" + b.getFullYear().toString();
		logMessage("strDate: " + a);
		logMessage("strDate: " + a);
		b = String("00" + b.getHours()).slice(-2) + ":" + String("00" + b.getMinutes()).slice(-2);
		return a + "\n" + b
	},
	tM: function() {
		var a = this.za,
			b = new BkSprite("#history_my_box.png");
		b.setScale(0.9);
		this.Uo = b;
		b.x = this.Nz();
		b.y = a.y;
		this.addChild(b);
		b = new BkLabel(this.od(BkGlobal.P.userName),
			"", this.fontSize);
		b.setColor(this.color);
		this.vv = b;
		console.log("lblMyName.getContentSize(): ", b.getContentSize());
		console.log("lblMyName.getScaleX(): ", b.getScaleX());
		b.x = this.Lz();
		b.y = a.y;
		this.addChild(b);
		this.fs = b = new BkSprite("#" + this.Zz(this.ib));
		b.x = this.Wz();
		b.y = a.y;
		this.addChild(b)
	},
	uM: function() {
		var a = this.za,
			b = new BkSprite("#history_player_box.png");
		b.setScale(0.9);
		this.Vo = b;
		b.x = this.Qz();
		b.y = a.y;
		this.addChild(b);
		b = new BkLabel(this.od(this.ib.Vv), "", this.fontSize);
		b.setColor(this.color);
		this.er = b;
		console.log("lblOpponent.getContentSize(): ", b.getContentSize());
		console.log("lblOpponent.getScaleX(): ", b.getScaleX());
		b.x = this.Mz();
		b.y = a.y;
		this.addChild(b);
		this.gs = b = new BkSprite("#" + this.$z(this.ib));
		b.x = this.Xz();
		b.y = a.y;
		this.addChild(b)
	},
	Mz: function() {
		return this.ib.Kl ? UI.fb(this.Vo) - 7 - 0.5 * this.er.getContentSize().width : UI.eb(this.Vo) + 7 + 0.5 * this.er.getContentSize().width
	},
	Lz: function() {
		return this.ib.Kl ? UI.eb(this.Uo) + 7 + 0.5 * this.vv.getContentSize().width : UI.fb(this.Uo) - 7 - 0.5 * this.vv.getContentSize().width
	},
	Xz: function() {
		return this.ib.Kl ? UI.eb(this.Vo) + 7 + UI.Da(this.gs) : UI.fb(this.Vo) - 7 - UI.Da(this.gs)
	},
	Wz: function() {
		return this.ib.Kl ? UI.fb(this.Uo) - 7 - UI.Da(this.fs) : UI.eb(this.Uo) + 7 + UI.Da(this.fs)
	},
	Qz: function() {
		var a = this.za;
		return this.ib.Kl ? UI.fb(a) - 0.24 * UI.qa(a) : UI.eb(a) + 0.34 * UI.qa(a)
	},
	Nz: function() {
		var a = this.za;
		return this.ib.Kl ? UI.eb(a) + 0.34 * UI.qa(a) : UI.fb(a) - 0.24 * UI.qa(a)
	},
	od: function(a) {
		return a.length > this.Ms ? a.substring(0, this.Fs) + "..." : a
	},
	Zz: function(a) {
		a = a.vg;
		if (a == hl) return "history_draw_icon.png";
		if (a == il) return "history_win_icon.png";
		if (a == jl) return "history_lose_icon.png"
	},
	$z: function(a) {
		a = a.vg;
		if (a == hl) return "history_draw_icon.png";
		if (a == il) return "history_lose_icon.png";
		if (a == jl) return "history_win_icon.png"
	},
	gg: function() {
		var a = this;
		console.log("BkPlayedSessionItem - this.initBg()");
		var b = createBkButtonPlist("history_item_bg.png", "history_item_bg.png", "history_item_bg.png", "history_item_bg.png", "");
		b.setScaleX(0.9);
		this.za = b;
		this.za.name = this.uj;
		isWebPlatform() ? this.za.setScaleY(0.8 * GAME_SCALE_MIN) :
			this.za.setScaleY(GAME_SCALE_MIN);
		this.za.addClickEventListener(function() {
			console.log("BkPlayedSessionItem item clicked - self.sessionData \x3d " + JSON.stringify(a.ib));
			a.Hn.CD(a.ib)
		});
		var b = UI.qa(b),
			c = UI.Ga(this.au) / 8;
		console.log("BkPlayedSessionItem - this.initBg() - width: " + b + " - height: " + c);
		this.setContentSize(cc.size(b, c));
		this.za.setPosition(0.5 * b, 0.5 * c);
		this.setPosition(0.5 * this.getContentSize().width, 0.5 * this.getContentSize().height);
		this.addChild(this.za)
	},
	TE: function(a) {
		this.ib = a;
		this.Nd.setString(a.id);
		this.wv.setString(this.$j(a));
		this.SV(a);
		this.RV(a);
		this.lx(a)
	},
	SV: function(a) {
		this.er.setString(this.od(a.Vv));
		this.gs.Of(this.$z(a));
		this.Vo.x = this.Qz();
		this.er.x = this.Mz();
		this.gs.x = this.Xz()
	},
	RV: function(a) {
		this.fs.Of(this.Zz(a));
		this.Uo.x = this.Nz();
		this.vv.x = this.Lz();
		this.fs.x = this.Wz()
	},
	lx: function(a) {
		this.Yw.Of(this.Gn(a))
	}
});
BkViewedSessionItem = ccui.Widget.extend({
	uj: "itemBg",
	Hn: null,
	za: null,
	Nd: null,
	Ms: 9,
	Fs: 8,
	ctor: function(a, b, c, d) {
		this._super();
		this.color = cc.color(66, 60, 72);
		this.fontSize = isWebPlatform() ? 15 * GAME_SCALE_MIN : 27 * GAME_SCALE_MIN;
		this.setName("BkViewedSessionItem");
		this.ls = 0.6;
		this.ib = a;
		this.Hn = b;
		this.au = d;
		this.ya = c;
		this.id = a.id;
		this.gg();
		this.Qu();
		this.rd()
	},
	Mu: function() {
		console.log("BkPlayedSessionItem - this.sessionData: ", this.ib);
		var a = new BkSprite("#" + this.Gn(this.ib));
		a.setScale(GAME_SCALE);
		a.x = this.za.x +
			0.6 * UI.qa(a);
		a.y = this.Nd.y;
		this.addChild(a);
		this.Yw = a
	},
	Gn: function(a) {
		var b = "history_logo_co_tuong.png";
		a.ya == L && (b = "history_logo_co_up.png");
		return b
	},
	Qu: function() {
		var a = this.za,
			b = new BkLabel(this.ib.id, "Arial", this.fontSize);
		this.Nd = b;
		b.x = a.x + 0.2 * UI.qa(a);
		b.y = a.y;
		b.setOpacity(0);
		this.addChild(b)
	},
	rd: function() {
		this.hM();
		this.GM();
		this.Pu();
		this.Ru();
		this.Mu()
	},
	Ru: function() {
		var a = this,
			b = createBkButtonPlist("history_remove_icon.png", "history_remove_icon.png", "history_remove_icon.png", "history_remove_icon.png");
		b.setScale(0.9 * GAME_SCALE);
		b.x = UI.fb(this.za) - 15 - UI.Da(b);
		b.y = this.za.y;
		b.addClickEventListener(function() {
			a.SS()
		});
		this.addChild(b)
	},
	SS: function() {
		var a = new BkPacket;
		a.Zy(this.ib, 1);
		BkConnectionManager.send(a);
		s()
	},
	Pu: function() {
		var a = this.$j(this.ib),
			a = new BkLabel(a, "", 13);
		a.setTextHorizontalAlignment(cc.TEXT_ALIGNMENT_CENTER);
		a.setColor(this.color);
		a.x = UI.eb(this.za) + 20 + UI.qa(a);
		a.y = this.za.y;
		this.wv = a;
		this.addChild(a)
	},
	$j: function(a) {
		var b = new Date(a.Ho);
		a = String("00" + b.getDate()).slice(-2) + "/" +
			String("00" + (b.getMonth() + 1)).slice(-2) + "/" + b.getFullYear().toString();
		logMessage("strDate: " + a);
		logMessage("strDate: " + a);
		b = String("00" + b.getHours()).slice(-2) + ":" + String("00" + b.getMinutes()).slice(-2);
		return a + "\n" + b
	},
	hM: function() {
		var a = this.za,
			b = new BkSprite("#history_player_box.png");
		b.setScale(0.9);
		this.wE = b;
		b.x = UI.eb(a) + 0.34 * UI.qa(a);
		b.y = a.y;
		this.addChild(b);
		this.QB = b = new BkLabel(this.od(this.ib.Di), "", this.fontSize);
		b.setColor(this.color);
		a = this.za;
		b.x = UI.eb(this.wE) + 7 + 0.5 * this.QB.getContentSize().width;
		b.y = a.y;
		this.addChild(b);
		this.CU = b = new BkSprite("#" + this.aA(this.ib));
		b.x = UI.fb(this.wE) - 7 - UI.Da(b);
		b.y = a.y;
		this.addChild(b)
	},
	GM: function() {
		var a = this.za,
			b = new BkSprite("#history_player_box.png");
		b.setScale(0.9);
		this.xE = b;
		b.x = UI.fb(a) - 0.24 * UI.qa(a);
		b.y = a.y;
		this.addChild(b);
		this.RB = b = new BkLabel(this.od(this.ib.xD), "", this.fontSize);
		b.setColor(this.color);
		b.x = UI.fb(this.xE) - 7 - 0.5 * this.RB.getContentSize().width;
		b.y = a.y;
		this.addChild(b);
		this.DU = b = new BkSprite("#" + this.bA(this.ib));
		b.x = UI.eb(this.xE) +
			7 + UI.Da(b);
		b.y = a.y;
		this.addChild(b)
	},
	aA: function(a) {
		a = a.vg;
		if (a == hl) return "history_draw_icon.png";
		if (a == il) return "history_win_icon.png";
		if (a == jl) return "history_lose_icon.png"
	},
	bA: function(a) {
		a = a.vg;
		if (a == hl) return "history_draw_icon.png";
		if (a == il) return "history_lose_icon.png";
		if (a == jl) return "history_win_icon.png"
	},
	od: function(a) {
		return a.length > this.Ms ? a.substring(0, this.Fs) + "..." : a
	},
	gg: function() {
		var a = this,
			b = createBkButtonPlist("history_item_bg.png", "history_item_bg.png", "history_item_bg.png", "history_item_bg.png",
				"");
		b.setScaleX(0.9);
		this.za = b;
		this.za.name = this.uj;
		isWebPlatform() ? this.za.setScaleY(0.8 * GAME_SCALE_MIN) : this.za.setScaleY(GAME_SCALE_MIN);
		this.za.addClickEventListener(function() {
			console.log("BkPlayedSessionItem Top player item clicked - self.sessionData \x3d " + JSON.stringify(a.ib));
			a.Hn.CD(a.ib)
		});
		var b = UI.qa(b),
			c = UI.Ga(this.au) / 8;
		console.log("BkPlayedSessionItem - this.initBg() - width: " + b + " - height: " + c);
		this.setContentSize(cc.size(b, c));
		this.za.setPosition(0.5 * b, 0.5 * c);
		this.addChild(this.za)
	},
	TE: function(a) {
		this.ib = a;
		this.Nd.setString(a.id);
		this.wv.setString(this.$j(a));
		this.QB.setString(this.od(a.Di));
		this.CU.Of(this.aA(this.ib));
		this.RB.setString(this.od(a.xD));
		this.DU.Of(this.bA(this.ib));
		this.lx(a)
	},
	lx: function(a) {
		this.Yw.Of(this.Gn(a))
	}
});
BkHourGlass = cc.SpriteBatchNode.extend({
	sprite: null,
	qf: null,
	Wo: null,
	ctor: function() {
		cc.spriteFrameCache.addSpriteFrames(res.KL, res.wA);
		this.Wo = "frame_00.png";
		this.sprite = new BkSprite("#" + this.Wo);
		this._super(res.wA);
		this.addChild(this.sprite);
		this.qf = [];
		for (var a = "", b = 0; 33 > b; b++) a = 10 > b ? "frame_0" + b + ".png" : "frame_" + b + ".png", a = cc.spriteFrameCache.getSpriteFrame(a), this.qf.push(a)
	},
	uq: null,
	ET: function() {
		var a = new cc.Animation(this.qf, 0.04);
		this.uq = cc.animate(a).repeatForever();
		this.sprite.runAction(this.uq)
	},
	FU: function() {
		null != this.uq && this.sprite.stopAction(this.uq);
		var a = cc.spriteFrameCache.getSpriteFrame(this.Wo);
		this.sprite.setSpriteFrame(a)
	},
	K3: function() {
		this.removeFromParent()
	},
	ku: function() {
		return this.sprite.getContentSize()
	}
});
BkChessRankSprite = BkSprite.extend({
	re: 0,
	sl: null,
	tm: null,
	ctor: function(a) {
		this._super("#khu_vuc_rank.png");
		this.re = a;
		var b = nl(a);
		this.sl = new BkSprite("#" + ol(a));
		this.sl.x = this.getContentSize().width / 2;
		this.sl.y = this.sl.getContentSize().height / 2;
		this.addChild(this.sl);
		this.tm = new BkSprite("#" + b);
		this.tm.x = this.getContentSize().width / 2;
		this.tm.y = this.tm.getContentSize().height / 2;
		this.addChild(this.tm)
	},
	TV: function(a) {
		var b = ml(this.re),
			c = ll(this.re),
			d = ml(a),
			e = ll(a);
		this.re = a;
		b != d && (b = cc.spriteFrameCache.getSpriteFrame(ol(a)),
			this.sl.setSpriteFrame(b));
		c != e && (a = cc.spriteFrameCache.getSpriteFrame(nl(a)), this.tm.setSpriteFrame(a))
	}
});
cc.Et = null;
cc.game.onStart = function() {
	!cc.sys.isNative && document.getElementById("bkLoading") && document.body.removeChild(document.getElementById("bkLoading"));
	var a = !1;
	cc.sys.os === cc.sys.OS_IOS ? a = !0 : isWebPlatform() && (a = !0);
	cc.view.enableRetina(a);
	cc.view.adjustViewPort(!0);
	var b, c;
	isWebPlatform() ? (WINDOW_WIDTH = 960, WINDOW_HEIGHT = 625, b = WINDOW_WIDTH, c = WINDOW_HEIGHT, cc.loader.resPath = "res/w", logMessage("Web platform " + b + "-" + c)) : (b = cc.view.getFrameSize().width, c = cc.view.getFrameSize().height, logMessage("Mobile platform " + b +
		"-" + c), cc.loader.resPath = "res/m");
	var a = b / WINDOW_WIDTH,
		d = c / WINDOW_HEIGHT;
	GAME_SCALE = 1 < a || 1 < d ? a > d ? d : a : a < d ? d : a;
	GAME_SCALE_MIN = a < d ? a : d;
	logMessage("GAME_SCALE: " + GAME_SCALE + " isWebPlatform: " + isWebPlatform());
	isDebugMode() || (console.log = function() {});
	isWebPlatform() ? (cc.Et = cc.ContainerStrategy.extend({
		apply: function(a) {
			var d = cc.container.style;
			this._setupContainer(a, b, c);
			d.marginLeft = "auto";
			d.marginRight = "auto";
			d.marginTop = "0px";
			d.marginBottom = "0px";
			d.paddingLeft = "0px";
			d.paddingRight = "0px"
		}
	}), cc.view.setDesignResolutionSize(b,
		c, new cc.ResolutionPolicy(new cc.Et, cc.ContentStrategy.SHOW_ALL))) : (cc.view.setDesignResolutionSize(b, c, cc.ResolutionPolicy.SHOW_ALL), ua.push("sound/Tri-Am-Various-Artists.mp3"));
	cc.view.resizeWithBrowserSize(!1);
	cc.view.enableAutoFullScreen(!1);
	E.init();
	cc.LoaderScene.preload(ua, function() {
		isWebPlatform() ? (onStartingGame(), window.onerror = function(a, b, c, d, k) {
			void 0 != c && (logTracker(a, k), showPopupMessageConfirmEx("Kh\u1edfi t\u1ea1o l\u1ea1i k\u1ebft n\u1ed1i do kh\u00f4ng \u0111\u1ed3ng b\u1ed9 \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u v\u1edbi server!",
				function() {
					cc.loader.releaseAll();
					eb()
				}))
		}) : cc.director.runScene(new pa)
	}, this);
	logMessage("cc._renderType :" + cc._renderType)
};
cc.game.run();